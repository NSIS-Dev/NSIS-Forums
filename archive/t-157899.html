<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Rotating images while instfiles?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Rotating images while instfiles? NSIS Discussion" />
	
	<title> Rotating images while instfiles? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Rotating images while instfiles?</div>
<hr />
<div class="pda"><a href="t-157899.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=157899">Rotating images while instfiles?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ibartel</div><div class="date">28th November 2003, 13:37</div></div><div class="posttext">Hello,<br />
<br />
ive searched the articles / plugins and fourms but didnt find a way to display rotating images while the installation process.<br />
<br />
Maybe someone out there who can help me how to realize this?<br />
<br />
kind regards,<br />
Ingo Bartel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">28th November 2003, 13:56</div></div><div class="posttext">I have not tried this myself but I think it might be possible using the bgImage plugin, although I could be wrong.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th November 2003, 14:06</div></div><div class="posttext">It's not possible with bgImage, but with some source changes to it, it would most certainly be possible.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ibartel</div><div class="date">28th November 2003, 14:31</div></div><div class="posttext">Hello,<br />
<br />
thanks for your replies.<br />
<br />
Yes tried with bgImage before kichik's post but couldnt use addimage without using setbg before.<br />
<br />
@kichik: i saw you made the bgImage plugin. Would you able to create a similiar plugin for adding images to the NSIS dialogs?<br />
<br />
kind regards,<br />
Ingo Bartel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th November 2003, 14:32</div></div><div class="posttext">You can already add images to the NSIS dialog using AddBrandingImage and SetBrandingImage. See gfx.nsi for example.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ibartel</div><div class="date">28th November 2003, 14:42</div></div><div class="posttext">Hello,<br />
<br />
yes i tried that before. However i cant use AddBrandingImage inside functions/sections. Even if i could i dont want the window gets resized.<br />
<br />
What i tried to do is displaying different images below the installation progress.<br />
<br />
AddBrandingImage wont help me here.<br />
<br />
kind regards,<br />
Ingo Bartel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th November 2003, 14:47</div></div><div class="posttext">AddBrandingImage will help you. You use AddBrandingImage outside of a function or a section and then SetBrandingImage inside. See gfx.nsi.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ibartel</div><div class="date">28th November 2003, 15:31</div></div><div class="posttext">Hello,<br />
<br />
i did see how gfx.nsi used it. However when i use AddBrindingImage once the window gets &quot;framed&quot;.<br />
<br />
Ie. when i use AddBrandingImage bottom 100 the bottom 100 pixels of the NSIS window gets reservde for the branding image. This goes for all dialogs rather than just the instfiles dialog. The branding image gets adjusted to the border as well.<br />
<br />
I saw Modern GUI used SetBrandingImage with a imageid. I couldnt figure out what 1046 means. Maybe i could use InstallOptions in addition with SetBrandingImage? This would lead into a second problem i currently have: How can i use InstallOptions inside the instfiles page (when using modern GUI) .<br />
<br />
kind regards,<br />
Ingo Bartel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th November 2003, 16:14</div></div><div class="posttext">This is one big misunderstanding :(<br />
<br />
You want to switch the pictures, not rotate them as in 90 degrees to the right or something like that...<br />
<br />
You can do that with BgImage. You don't have to use AddImage, SetBg can set an image too as the background. But those will show behind the installer. If you want it to show below the progress bar you'd need some more work. Let me know if BgImage is not enough for you and I'll tell you how to do that.<br />
<br />
As for the new questions, you can't use InstallOptions in a section, 1046 is the id of the branding image placeholder in the MUI UI (open modern.exe in Resource Hacker - dialog 105) and yes, AddBrandingImage does indeed adds an image for the entire installation. But you can switch that while installing too...<br />
<br />
I'm sorry for the confusion.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ibartel</div><div class="date">28th November 2003, 17:12</div></div><div class="posttext">Hello,<br />
<br />
sorry for not beeing specific. Yes i meant switching pictures.<br />
SetBG isnt enough - i would like to have just the installer window.<br />
<br />
kind regards,<br />
Ingo Bartel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th November 2003, 17:17</div></div><div class="posttext">Ok, then you'd have to edit the UI file with Resource Hacker, add a place holder for an image where you want it to be and then do the image loading and setting on yourself using System.dll. The code for loading and setting images can be found in exec.c under EW_SETBRANDINGIMAGE. You should use that as a refernce for the System.dll calls. To get the HWND of the place holder you should use:<br />
<br />
FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $0 $0 &lt;insert control id&gt;<br />
# load image...<br />
SendMessage $0 &lt;insert value of STM_SETIMAGE here&gt; &lt;insert value of IMAGE_BITMAP here&gt; &lt;insert handle to loaded image here&gt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ibartel</div><div class="date">1st December 2003, 16:51</div></div><div class="posttext">Hello,<br />
<br />
thanks alot it's working well now (exactly is i wanted).<br />
<br />
kind regards,<br />
Ingo Bartel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nandhp</div><div class="date">12th February 2004, 18:28</div></div><div class="posttext">SendMessage $0 &lt;insert value of STM_SETIMAGE here&gt; &lt;insert value of IMAGE_BITMAP here&gt; &lt;insert handle to loaded image here&gt;  <br />
I'm trying to get this to work for my installer, but I don't understand what &quot;insert handle to loaded image here&quot; means. Could someone provide some advice with this?<br />
<br />
BTW, this doesn't work:<br />
<br />
SendMessage $0 ${STM_SETIMAGE} ${IMAGE_BITMAP} &quot;STR:C:\windows\blocks.bmp&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nandhp</div><div class="date">12th February 2004, 18:44</div></div><div class="posttext">I found http://nsis.sourceforge.net/archive/viewpage.php?pageid=405 which works for me (I'm not using MUI)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fluidz91</div><div class="date">17th October 2006, 10:36</div></div><div class="posttext">Hi,<br />
<br />
i copy files using :<br />
<br />
<br />
File /r ..\plugin\eclipse32\<br />
 <br />
<br />
and i wanted some image files to display during installation (about 233 Mb files).<br />
I tried ebanner and the modified MUI provided here but there is no way to specify multiple file and time between displays so that i can display only one picture during install.<br />
I tried to &quot;cut&quot; the process of the files copy in parts but i could not manage well with it.<br />
Would it be possible ?<br />
Hope i ve been clear ^^<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fluidz91</div><div class="date">20th October 2006, 15:53</div></div><div class="posttext">Is it possible to edit the script image.nsh to load multiple pictures and display them at given time during install ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fluidz91</div><div class="date">31st October 2006, 15:43</div></div><div class="posttext">just giving this thread a last chance to get an answer ! ^^</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">31st October 2006, 16:14</div></div><div class="posttext">http://nsis.sourceforge.net/AnimGif_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fluidz91</div><div class="date">2nd November 2006, 19:59</div></div><div class="posttext">Thx Takhir, i'll try this (thought about using an animated gif but didn't try if it was possible during the files copy)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">skyfish8u8</div><div class="date">3rd November 2006, 05:36</div></div><div class="posttext">Hi all:<br />
<br />
Everybody can give me Modern_Instpics.zip,I don't down it.thx!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">skyfish8u8</div><div class="date">3rd November 2006, 05:37</div></div><div class="posttext">Hi all:<br />
<br />
Everybody can give me Modern_Instpics.zip,I don't down it.thx! <br />
<br />
<br />
Email: skyfish2u@yahoo.com</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">3rd November 2006, 05:54</div></div><div class="posttext">have you tried here: http://vytautas.mine.nu/joomla/index.php?option=com_docman&amp;task=cat_view&amp;gid=21&amp;Itemid=35<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">skyfish8u8</div><div class="date">3rd November 2006, 08:37</div></div><div class="posttext">Sorry,I can't open the URL. Vytautas,Would you send it give me ? Thx!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">3rd November 2006, 08:54</div></div><div class="posttext">hhhmmm strange seems to work for me.  anyhow file sent</div></div><hr />


<div class="post"><div class="posttop"><div class="username">skyfish8u8</div><div class="date">3rd November 2006, 09:01</div></div><div class="posttext">You are  a great guy! I'll keep secret your mail address! Thx again!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fluidz91</div><div class="date">3rd November 2006, 13:30</div></div><div class="posttext">Hi Takhir,<br />
<br />
i tried to display an animated gif in the current window where i have the progress bar of the copying files but the gif &quot;flicks&quot; and is not well displayed (almost invisible).<br />
i tried both dll versions (in the second package, the example with the bird and baby is exactly what i want and display correctly).<br />
If i put another window on top then i return to the installation window the gif display correctly but for a really short time...<br />
Any idea ?<br />
Thx anyone who could help !<br />
<br />
<br />
Extract code :<br />
<br />
<br />
# Installer sections<br />
Section -Main SEC0000<br />
    SetOutPath $INSTDIR<br />
    SetOverwrite on<br />
    AnimGif::play /NOUNLOAD /VALIGN=CENTER &quot;$EXEDIR\aist.gif&quot;<br />
    File ..\plugin\eclipse32\*<br />
<br />
<br />
Edit : do i have to create an empty white placeholder for animated header GIF like proposed in an example ??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">3rd November 2006, 14:20</div></div><div class="posttext">You don't need placeholder for INSTFILES page. If you can attach image and (short) script to post I'll test it. May some overlapping with progress bar have place? Try with default bottom valign.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fluidz91</div><div class="date">3rd November 2006, 15:16</div></div><div class="posttext">Takhir, <br />
<br />
i was about to send you my complete script but wanted to clean some useless code before, i found that i had tested Modern_Instpics with an &quot;!include Image.nsh&quot; so i comment it and recompile script and test it and... it works !<br />
I m now using default modern.exe UI and not modern_instpics.exe overriden by the Image.nsh include.<br />
Sorry for that and special thx for your help Takhir and dll ! ^^</div></div><hr />


<div class="post"><div class="posttop"><div class="username">skyfish8u8</div><div class="date">14th November 2006, 07:46</div></div><div class="posttext">Originally posted by kichik <br />
Ok, then you'd have to edit the UI file with Resource Hacker, add a place holder for an image where you want it to be and then do the image loading and setting on yourself using System.dll. The code for loading and setting images can be found in exec.c under EW_SETBRANDINGIMAGE. You should use that as a refernce for the System.dll calls. To get the HWND of the place holder you should use:<br />
<br />
FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $0 $0 &lt;insert control id&gt;<br />
# load image...<br />
SendMessage $0 &lt;insert value of STM_SETIMAGE here&gt; &lt;insert value of IMAGE_BITMAP here&gt; &lt;insert handle to loaded image here&gt; <br />
<br />
Kichik:<br />
I'm a newbie in NSIS, Would you tell me that how can i do it ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th November 2006, 23:46</div></div><div class="posttext">See the result of this thread:<br />
<br />
http://nsis.sourceforge.net/wiki/ModernUI_Mod_to_Display_Images_while_installing_files</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>