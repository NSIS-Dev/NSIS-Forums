<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" GetFileTime and daylight savings, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  GetFileTime and daylight savings NSIS Discussion" />
	
	<title> GetFileTime and daylight savings [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  GetFileTime and daylight savings</div>
<hr />
<div class="pda"><a href="t-201744.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=201744">GetFileTime and daylight savings</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">FileAnt</div><div class="date">11th December 2004, 00:31</div></div><div class="posttext">I use the following code for files without versions, but after my computer entered daylight savings it is out a bit. Is there a way to filter out the time or should I be using GetFileTimeLocal?<br />
<br />
	ReadINIStr $3 &quot;$INSTDIR\update.ver&quot; &quot;files&quot; &quot;$1&quot;<br />
	ReadINIStr $5 &quot;$INSTDIR\update.ver&quot; &quot;path&quot; &quot;$3&quot;<br />
	ReadINIStr $4 &quot;$INSTDIR\update.ver&quot; &quot;hw&quot; &quot;$3&quot;<br />
	GetFileTime &quot;$5$3&quot; $R0 $R1<br />
	IntCmp $4 $R0 haslatest haslatest dldatezip<br />
<br />
This may also be the cause...<br />
<br />
	ZipDLL::extractfile &quot;$INSTDIR\updates\$1.zip&quot; &quot;$TEMP&quot; &quot;$3&quot;<br />
	Delete /REBOOTOK &quot;$5$3&quot;<br />
	Rename /REBOOTOK &quot;$TEMP\$3&quot; &quot;$5$3&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">11th December 2004, 08:21</div></div><div class="posttext">Yes, daylight saving is a part of 'local time'.<br />
Related thread http://forums.winamp.com/showthread.php?s=&amp;threadid=200955&amp;highlight=time</div></div><hr />


<div class="post"><div class="posttop"><div class="username">FileAnt</div><div class="date">11th December 2004, 12:36</div></div><div class="posttext">A quick and dirty method. I needed to divide both $4 and $R0 by a number to get an integer result that would always be the same.<br />
<br />
I think this is resolved to 48 hours... do you think i could resolve it to 24 hours?... my mind boggles when i try to think about the earth spinning in timezones.<br />
<br />
	IntOp $4 $4 / 384<br />
	IntOp $R0 $R0 / 384<br />
<br />
When I test the generic updater nsi i will post the code on my website when I get time, with an update builder which is pretty cool and almost makes it a one step, one second process. Maybe early next year.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>