<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Modern UI compile error, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Modern UI compile error NSIS Discussion" />
	
	<title> Modern UI compile error [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Modern UI compile error</div>
<hr />
<div class="pda"><a href="t-254304.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=254304">Modern UI compile error</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">PBsoft</div><div class="date">28th August 2006, 10:04</div></div><div class="posttext">Yesterday I began working with NSIS 2.19.<br />
<br />
To make it easier to create NSI scripts I installed Eclipse + EclipseNSIS plugin (great tools!!!).<br />
<br />
Using EclipseNSIS wizard I created my first NSI script for an Access procedure I developed.<br />
<br />
After creating I tried to compile it, but got 3 warnings and 1 error, so I was not able to go on.<br />
<br />
Attached you find the problematic script.<br />
<br />
Here is the script section which contains the line that gives the error (in red):<br />
<br />
Section -post SEC0004<br />
    WriteRegStr HKLM &quot;${REGKEY}&quot; Path $INSTDIR<br />
    WriteUninstaller $INSTDIR\Scuolabus_uninstall.exe<br />
    !!insertmacro MUI_STARTMENU_WRITE_BEGIN Application<br />
    SetOutPath $SMPROGRAMS\$StartMenuGroup<br />
    CreateShortcut &quot;$SMPROGRAMS\$StartMenuGroup\$(^UninstallLink).lnk&quot; $INSTDIR\Scuolabus_uninstall.exe<br />
    !insertmacro MUI_STARTMENU_WRITE_END<br />
[...omissis...]<br />
SectionEnd<br />
<br />
Here is the error message, including also the 3 warnings (in orange):<br />
<br />
!insertmacro: MUI_STARTMENU_WRITE_BEGIN<br />
warning: unknown variable/constant &quot;{MUI_STARTMENUPAGE_Application_VARIABLE}&quot; detected, ignoring (macro:MUI_STARTMENU_WRITE_BEGIN:7)<br />
warning: unknown variable/constant &quot;{MUI_STARTMENUPAGE_Application_VARIABLE}&quot; detected, ignoring (macro:MUI_STARTMENU_WRITE_BEGIN:10)<br />
warning: unknown variable/constant &quot;{MUI_STARTMENUPAGE_Application_DEFAULTFOLDER}&quot; detected, ignoring (macro:MUI_STARTMENU_GETFOLDER:13)<br />
Usage: StrCpy $(user_var: output) str [maxlen] [startoffset]<br />
Error in macro MUI_STARTMENU_GETFOLDER on macroline 13<br />
Error in macro MUI_STARTMENU_WRITE_BEGIN on macroline 12<br />
Error in script &quot;C:\Documents and Settings\gabriele\Documenti\eclipse workspace\Scuolabus Installer\setup.nsi&quot; on line 96 -- aborting creation process<br />
Compilation time:              22.250 sec.<br />
<br />
I tried also the same wizard for generating a simpler script which provides a simple DOC deploying, and the problem arises again.<br />
<br />
It seems like the error is generated into SYSTEM.NSH, but I don't have any ideas where the problem is.<br />
<br />
May you help me?<br />
<br />
Thanks in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th August 2006, 11:55</div></div><div class="posttext">You forgot to declare the start menu page. The start menu macros can't work without a start menu page.!insertmacro MUI_PAGE_STARTMENU Application $StartMenuGroup</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PBsoft</div><div class="date">28th August 2006, 12:13</div></div><div class="posttext">Thanks for your reply, kichik.<br />
<br />
I confirm the 3 warnings and the error I got before are closed.<br />
<br />
I appreciate very much your help.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>