<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" File list for installer.., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  File list for installer.. NSIS Discussion" />
	
	<title> File list for installer.. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  File list for installer..</div>
<hr />
<div class="pda"><a href="t-336302.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=336302">File list for installer..</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Freddie9000</div><div class="date">20th October 2011, 11:02</div></div><div class="posttext">Hi,<br />
<br />
I want to feed the File command with a txt-File full of files and folders ( with subfolders ) to redirect the file list ( should be out of the nsi - File for better edit ). What it seems that this command doesn't support such a feature. Is there a similar way to define such file list ?<br />
<br />
Thanks for reply,<br />
Freddie</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">20th October 2011, 11:25</div></div><div class="posttext">You can use a file list, if you add this in front of every filename:<br />
File &quot;<br />
and add a closing &quot; after every filename. If you then do &quot;!include yourfile.txt&quot; inside your section, it'll just insert those file commands.<br />
<br />
(Note that you'll still need to add SetOutPath commands if you want to extract files to different directories.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Freddie9000</div><div class="date">20th October 2011, 12:06</div></div><div class="posttext">I can't see this..... &quot;You can use a file list, if you add this in front of every filename:&quot; what does this mean ?<br />
<br />
for example:<br />
<br />
filelist.txt : <br />
..\bin\foo.exe<br />
..\bin\libs\food.dll<br />
<br />
and I need such a code like <br />
File &quot;filelist.txt&quot; <br />
<br />
so I don't need to add anything in this nsi-script, if I have to add a file (only in file list ).<br />
Would be cool if there were a way to keep the folder structure automatically ( bin; bin\lib ).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th October 2011, 12:17</div></div><div class="posttext">Your generated file needs to be NSIS code (File instructions). You then !include that generated file in your main script where you want the File instructions to be.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Freddie9000</div><div class="date">20th October 2011, 12:25</div></div><div class="posttext">&quot;Your generated file needs to be NSIS code (File instructions).&quot;<br />
<br />
What does this mean ? Is an included ascii-txt-file NSIS-Code ? Or do I have to take an other nsi-script that I have to include ? <br />
<br />
So please reply with concrete script code based on my example....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th October 2011, 12:33</div></div><div class="posttext">Sorry what's so difficult? As you have already said, the File instruction cannot take a list of files. Therefore your list of files needs to be a list of File instructions.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">20th October 2011, 12:36</div></div><div class="posttext">Example contents of your filelist.txt:<br />
<br />
File &quot;..\bin\foo.exe&quot;<br />
File &quot;..\bin\libs\food.dll&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Freddie9000</div><div class="date">20th October 2011, 12:40</div></div><div class="posttext">@Afrow UK:<br />
What I want to hear is that there's no way to do this. NSIS is not able to parse a file list given as txt-file.<br />
<br />
Thanks for your efforts.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">20th October 2011, 15:30</div></div><div class="posttext">Well, glad to be of service. There's plenty more that could be said about how to parse txt files at compiletime, but don't count on me spending any more time on you anytime soon.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th October 2011, 15:46</div></div><div class="posttext">Out of the box, NSIS cannot do this, no. However, you can quite easily generate NSIS script from a list of files using a custom script in any language you choose.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>