<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CONFIG.H? Header? Size?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CONFIG.H? Header? Size? NSIS Discussion" />
	
	<title> CONFIG.H? Header? Size? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CONFIG.H? Header? Size?</div>
<hr />
<div class="pda"><a href="t-48096.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=48096">CONFIG.H? Header? Size?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">25th April 2001, 11:57</div></div><div class="posttext">Hi again,<br />
<br />
On running MakeNSIS I am told that the available 'compiled-in functions' are 'NSIS_CONFIG_UNINSTALL_SUPPORT, NSIS_SUPPORT_NETSCAPEPLUGINS, NSIS_SUPPORT_ACTIVEXREG'.<br />
<br />
I know that none of my projects will use the Netscape and ActiveX things, so how can I remove that functionality and make my headers smaller?<br />
<br />
And if I then decide that I also won't need uninstall support, will I be able to do that easily?<br />
<br />
The documentation mentions CONFIG.H a total of two times, but says nothing about what to do with it! Any help would be greatly appreciated!<br />
<br />
Thanks guys!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RM</div><div class="date">25th April 2001, 13:53</div></div><div class="posttext">you need to comment the features you don't need, and then rebuild the nsis project with Visual C++.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">25th April 2001, 13:56</div></div><div class="posttext">Okay, thanks RM.<br />
<br />
Bugger that, I don't even have C++, nor do I want to fiddle around with the code!<br />
<br />
Perhaps this could be a feature? A few commands that disable this for you when you compile?<br />
<br />
I guess I can't really complain about the size anyway - it's great at 40k! Greedy, I guess. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">28th April 2001, 05:12</div></div><div class="posttext">Okay, well, I installed the soruce and had a look at the CONFIG.H file, and found out that removing Netscape, ActiveX and BGBG functionality, only took away about 2.3K from the header. So it's not worth it, really.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">28th April 2001, 05:16</div></div><div class="posttext">Did you recompile NSIS after you changed config.h?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">28th April 2001, 06:43</div></div><div class="posttext">A much, much better solution is to use UPX instead of bothering to compile stuff out.<br />
<br />
The total header size is 20k after UPX, and you save only about 1kb by commenting stuff out.  Download UPX here:<br />
http://wildsau.idv.uni-linz.ac.at/mfx/upx.html<br />
<br />
Use it with the following line in a .NSI file:<br />
!packhdr &quot;temp.dat&quot; &quot;d:\upx\upx -qq --best --compress-icons=1 temp.dat&quot;<br />
<br />
Check the NSIS help file, there's a little more documentation there (but not much).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">29th April 2001, 08:01</div></div><div class="posttext">Well, Rob, I don't have Visual C++, and I wouldn't have bothered, too much hassle for 2k.<br />
<br />
Thanks, Edgewater. I've been using UPX recently after finding out about it. But just wondering, since there's probably only one icon, what's the point of --compress-icons=1?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>