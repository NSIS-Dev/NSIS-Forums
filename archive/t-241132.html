<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" create a dir where all users have full control, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  create a dir where all users have full control NSIS Discussion" />
	
	<title> create a dir where all users have full control [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  create a dir where all users have full control</div>
<hr />
<div class="pda"><a href="t-241132.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=241132">create a dir where all users have full control</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">coco_vc</div><div class="date">17th March 2006, 18:15</div></div><div class="posttext">Hi all,<br />
<br />
I need to create in my INSTDIR a subdir where all users have full control. So this would mean that by default I would create a C:\Program Files\MyApp\myDir and because it's in Program Files most probably the restrictive users wouldn't have access in that directory.<br />
It's like I would create the directory and later I would run cacls.exe. <br />
<br />
Is there a way to specify &quot;Allow full control to everyone&quot; when creating a directory?<br />
<br />
Thx,<br />
Viv</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th March 2006, 19:54</div></div><div class="posttext">You can use the AccessControl plug-in (http://nsis.sourceforge.net/AccessControl_plug-in).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">stb</div><div class="date">20th March 2006, 07:38</div></div><div class="posttext">It's not a good idea to create such a dir within &quot;c:\program files\&quot;. There may be some policy/tool that restores those privileges to read-only (e.g. company installation).<br />
<br />
On newer Windows versions you can use the &quot;All Users&quot; profile.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fluidz91</div><div class="date">6th November 2006, 11:35</div></div><div class="posttext">Hi,<br />
<br />
i want to use the AccessControl plugin, but the doc lacks information (maybe only for a noob like me):<br />
<br />
_ When you put rights on a folder, is it recursive on all sub-folders and sub-files ?<br />
<br />
_ I had to look at source code to know which permissions were available. Does those permissions are compliant with other language OS ?<br />
<br />
_ I want to use generic user &quot;Everyone&quot; but in a french Windows OS the user is &quot;Tout le monde&quot;. Is there a unic SID for this user (i have not been able to find an answer on google) or do i have to detect OS language before and set the correct user name ?<br />
<br />
Thanks to &quot;Everyone&quot; ^^</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th November 2006, 20:59</div></div><div class="posttext">A quick and easy test should be able tell if it's recursive or not. The permissions are translated from text to numeric identifiers. There are no translation problems with those. A quick Google search of the example SID in the readme plus the word &quot;everyone&quot; came up with (S-1-1).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fluidz91</div><div class="date">7th November 2006, 09:48</div></div><div class="posttext">Thx Kichik !<br />
<br />
1. I tested it meanwhile and i now confirm recursivity  ^^<br />
2. Good to know.<br />
3. With more search i found S-1-1-0 ! i ll give a try without -0. I even tried the code below to find the SID of user Everyone and it gave me S-1-1-0<br />
<br />
System::Call 'advapi32::LookupAccountNameW(w &quot;${SERVER_NAME}&quot;,w &quot;${USERNAME}&quot;,i R8, \<br />
*i ${NSIS_MAX_STRLEN}, w .R1, *i ${NSIS_MAX_STRLEN}, *i .r0)i .r1'<br />
System::Call 'advapi32::ConvertSidToStringSid(i R8,*t .R1)i .r0'<br />
<br />
<br />
Thanks for the answer even i know i could have found by myself with more search (i m confused...)<br />
<br />
Edit : S-1-1 doesn't seem to work...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>