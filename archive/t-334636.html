<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI_UNPAGE_CONFIRM folder variable?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI_UNPAGE_CONFIRM folder variable? NSIS Discussion" />
	
	<title> MUI_UNPAGE_CONFIRM folder variable? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI_UNPAGE_CONFIRM folder variable?</div>
<hr />
<div class="pda"><a href="t-334636.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=334636">MUI_UNPAGE_CONFIRM folder variable?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Ron.Stordahl</div><div class="date">11th September 2011, 17:12</div></div><div class="posttext">Because my installer has installed program components to INSTDIR and application data to APPDATA I would like to issue a second Uninstaller Confirm page, the second with APPDATA, actually $MyAppData, substituted for INSTDIR.<br />
<br />
It appears that INSTDIR is fixed and I cannot see any option to substitute my own variable for it.<br />
<br />
In the MUI_PAGE_DIRECTORY macro, used during the install phase there is a way to present a user specified directory using:<br />
<br />
!define MUI_DIRECTORYPAGE_VARIABLE $MyAppData<br />
<br />
Is there such a possibility for use with MUI_UNPAGE_CONFIRM?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">11th September 2011, 21:26</div></div><div class="posttext">NSIS does support this:<br />
<br />
PageEx /*un.*/uninstConfirm<br />
	DirVar $myuninstConfirmDir<br />
PageExEnd<br />
<br />
but it looks like the MUI forgot about it, you should file a feature request...<br />
<br />
You could probably work around this by using MUI_PAGE_CUSTOMFUNCTION_* to save and restore $instdir</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">12th September 2011, 22:22</div></div><div class="posttext">I submitted the feature request for you; https://sourceforge.net/tracker/?func=detail&amp;aid=3408216&amp;group_id=22049&amp;atid=373088</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ron.Stordahl</div><div class="date">12th September 2011, 23:11</div></div><div class="posttext">Actually with Vista and Windows 7 making it typical to install program files and application data in $INSTDIR and $APPDATA (or similar) it would be useful to have MUI_PAGE_DIRECTORY to offer the option for two 'directory entries' rather than the current single entry, as well as MUI_UNPAGE_CONFIRM offering two 'directory entries'.<br />
<br />
Carrying this further an AppDir and AppDirRegKey analog to InstallDir and InstallDirRegKey would be valuable.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">13th September 2011, 06:11</div></div><div class="posttext">I don't think that's a good idea. You shouldn't ask users too much information, because 90% of them won't know what to answer. AppData is designed to store small user/configuration files, so just use it. (If the files you're storing in AppData are so big that the user might run into HDD space problems, you need to rethink the storage scheme of your application.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">13th September 2011, 15:42</div></div><div class="posttext">Actually with Vista and Windows 7 making it typical to install program files and application data in $INSTDIR and $APPDATA (or similar) it would be useful to have MUI_PAGE_DIRECTORY to offer the option for two 'directory entries' rather than the current single entry, as well as MUI_UNPAGE_CONFIRM offering two 'directory entries'.<br />
<br />
Carrying this further an AppDir and AppDirRegKey analog to InstallDir and InstallDirRegKey would be valuable.<br />
<br />
You are mixing all users and single user install locations. If you are elevated and install into $programfiles you should not write to $appdata. If your application uses the files in $appdata as the template for something then you should change it so that you install this template data in $PROGRAMFILES\myapp\template or $COMMONFILES\myapp or the all users appdata and then copy the data to %AppData% in your application the first time it runs. <br />
<br />
Or to put it another way; User1 installs to $ProgramFiles and $Appdata, then User2 comes along and their $AppData is empty, how do you deal with this?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>