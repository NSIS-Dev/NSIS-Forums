<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Trying to build a conditional application launcher...now I'm stuck and need help, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Trying to build a conditional application launcher...now I'm stuck and need help NSIS Discussion" />
	
	<title> Trying to build a conditional application launcher...now I'm stuck and need help [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Trying to build a conditional application launcher...now I'm stuck and need help</div>
<hr />
<div class="pda"><a href="t-214431.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=214431">Trying to build a conditional application launcher...now I'm stuck and need help</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">gadz</div><div class="date">28th April 2005, 18:43</div></div><div class="posttext">Well I've never used NSIS before and know next to nothing about scripting. I've been at this for 3 days straight and I'm stuck and confused.<br />
<br />
This is what I've come up with so far. (see attached)<br />
<br />
I'm using the InstallOptionEx plugin (see attachment), I renamed it to InstallOptions and overwrote the one that came with NSIS.<br />
<br />
In the end I'll replace the MessageBoxes with ExecWait to launch the application with the proper arguments, but I put the MessageBoxes while testing.<br />
<br />
I think the problem is pretty obvious when you open the script, compile and run it...<br />
<br />
(somebody help...please??)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th April 2005, 19:38</div></div><div class="posttext">You must insert at least one page macro for the MUI to work its magic on the UI. You'll probably want to use MUI_PAGE_INSTFILES anyway.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gadz</div><div class="date">28th April 2005, 21:43</div></div><div class="posttext">could you maybe give a little example of how you mean, I've tried that and it didn't help much, just gave me an page I didn't want.<br />
<br />
The main thing that's giving me trouble is that it's supposed to skip certain functions depending on the operating system it's running on, the custom pages seem to work fine but it still runs all the messageboxes regardless of whether the page was skipped or not.<br />
<br />
An obvious example of this is when you compile and run the script on WindowsXP: It shows the intro page fine, but when you click next it shows the &quot;Single User&quot; dialog even before the next page comes up with the install button. Also the &quot;Single User&quot; dialog is only supposed to come up in Windows 98-ME with the Win98ME page, in fact all the messageboxes pop up when only some are supposed to.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gadz</div><div class="date">29th April 2005, 13:00</div></div><div class="posttext">Ok well I got it working (almost) without having to use any page macro (I only use custom pages).<br />
The problem now is that the cancel button doesn't work properly. When you click cancel it shows the &quot;are you sure you want to quit&quot; dialog but then when you click yes it still runs through the commands.<br />
<br />
I hope that someone is able to help me fix it and that it's it's not too difficult.<br />
<br />
 :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th April 2005, 16:28</div></div><div class="posttext">For an example of MUI_PAGE_INSTFILES usage see any of the MUI examples in Examples\Modern UI.<br />
<br />
As for the cancel button, if you want to know if the user clicked cancel after MUI_INSTALLOPTIONS_DISPLAY returns, you should use MUI_INSTALLOPTIONS_DISPLAY_RETURN and pop the return value. The return value will contain &quot;cancel&quot; if the user clicked the cancel button.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gadz</div><div class="date">2nd May 2005, 16:39</div></div><div class="posttext">Thanks, got it working. :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>