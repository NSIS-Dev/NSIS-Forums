<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Play MIDI files, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Play MIDI files NSIS Discussion" />
	
	<title> Play MIDI files [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Play MIDI files</div>
<hr />
<div class="pda"><a href="t-203494.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=203494">Play MIDI files</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jonnebonne</div><div class="date">31st December 2004, 00:35</div></div><div class="posttext">Hi :)<br />
I have searched around because I want my installer to play a *.midi-file... I have tryed many diffrent functions.. but I can't get this to work! Here is something I tryed..:<br />
<br />
;--------------------------------<br />
;common<br />
<br />
  !define APP_NAME &quot;PlaySound&quot;<br />
  !define SND_NAME &quot;C:\Documents and Settings\User\Desktop\Song.midi&quot;<br />
<br />
  Name &quot;${APP_NAME}&quot;<br />
  OutFile &quot;${APP_NAME}.exe&quot;<br />
  InstallDir &quot;$PROGRAMFILES\${APP_NAME}&quot;<br />
<br />
;--------------------------------<br />
;Pages, Interface Settings, Languages<br />
<br />
  SetCompressor lzma<br />
<br />
  !include &quot;MUI.nsh&quot;<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_DIRECTORY<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
  !define MUI_ABORTWARNING<br />
<br />
<br />
;--------------------------------<br />
;Installer Functions<br />
<br />
Function .onInit<br />
<br />
  InitPluginsDir<br />
  SetOutPath &quot;C:\Documents and Settings\User\Desktop\&quot;<br />
  File &quot;${SND_NAME}&quot;<br />
; no-loop or loop<br />
;  System::Call 'winmm.dll::PlaySoundA(t &quot;$PLUGINSDIR\${SND_NAME}&quot;, i 0, i 0x00020003) i .R0'<br />
  System::Call 'winmm.dll::PlaySoundA(t &quot;$PLUGINSDIR\${SND_NAME}&quot;, i 0, i 0x0002000b) i .R0'<br />
<br />
FunctionEnd<br />
<br />
<br />
;--------------------------------<br />
;Installer Sections<br />
<br />
Section &quot;Dummy Section&quot; SecDummy<br />
<br />
; to stop sound at the end of INSTALL page - optional<br />
  System::Call 'winmm.dll::PlaySoundA(i 0, i 0, i 0) i .R0'<br />
<br />
SectionEnd<br />
<br />
<br />
Can someone please help me?<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">31st December 2004, 01:06</div></div><div class="posttext">I recommend something like:<br />
<br />
!define SND_NAME &quot;C:\Documents and Settings\User\Desktop\Song.midi&quot;<br />
<br />
;..<br />
File /oname=$PLIGINSDIR\song.midi ${SND_NAME}<br />
System::Call 'winmm.dll::PlaySoundA(t &quot;$PLUGINSDIR\song.midi&quot;, i 0, i 0x0002000b) i .R0'<br />
;..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">31st December 2004, 09:16</div></div><div class="posttext">Attached script can also play mp3 ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">31st December 2004, 10:05</div></div><div class="posttext">PlaySound works with wavetable (wav) files. With mci please note, that &quot;play repeat&quot; may be not supported, so better use<br />
...<br />
SendMessage $0 0x0465 0 &quot;STR:play&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">31st December 2004, 10:59</div></div><div class="posttext">Note the STR:play :D<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jonnebonne</div><div class="date">31st December 2004, 11:36</div></div><div class="posttext">Thanks all!<br />
<br />
But I still can't play midi files :(<br />
All I try I get error messages that it can't find the file or some error with something else... Does theese codes work for you?<br />
BTW: I have also tryed whit the full path (C:\something\NSIS\Plugins\ instead of just $PLUGINSDIR) and rename my midi-file to *.mid...<br />
<br />
Tnx!:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">31st December 2004, 12:55</div></div><div class="posttext">this work even on Win98 ;)<br />
Package includes midi file</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dkom</div><div class="date">1st January 2005, 13:31</div></div><div class="posttext">Is it possible to play tracker files (mod, xm) in installer (maybe after install of http://download.dsp-worx.de/MODSource_v0.60_Installer.zip)?<br />
<br />
Is it possible to set playback volume for midi music (for example to set system volume to middle value before starting playback)? In many cases all system volume may be at max. value, and when I launch installer - it's to loud...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">9th May 2008, 08:41</div></div><div class="posttext">The msvfw32.dll::MCIWndCreate is logging some info into file $EXEPATH.log. I tried to delete the log in .onGUIEnd, but it can't be deleted until installer exits. I'd like to have no logging.<br />
How to get rid of logging? There is nothing about it in MSDN :(</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>