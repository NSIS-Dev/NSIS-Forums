<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS 2.44 New Plugin API header for Delphi, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS 2.44 New Plugin API header for Delphi NSIS Discussion" />
	
	<title> NSIS 2.44 New Plugin API header for Delphi [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS 2.44 New Plugin API header for Delphi</div>
<hr />
<div class="pda"><a href="t-305718.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305718">NSIS 2.44 New Plugin API header for Delphi</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Static_VoiD</div><div class="date">25th April 2009, 14:33</div></div><div class="posttext">I'm sorry if it has been already discussed and solved.<br />
I searched forum for the subject now and earlier but hadn't found anything.<br />
<br />
Now I was able to make this work and want to share it, because AFAIK there was a discussion thread of NSIS 2.44 New Plugin API and new header for C++. So there was a post about the same thing for Delphi, but the reply was negative.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pidgeot</div><div class="date">25th April 2009, 15:33</div></div><div class="posttext">Taking a quick look at the code, note that you CANNOT use this out of the box for ANSI NSIS plug-ins and D2009, since it uses the &quot;plain&quot; string and PChar types, which map to AnsiString and PAnsiChar in D2007 and prior, but UnicodeString and PWideChar in D2009. The same obviously applies to Unicode NSIS and D2007 or prior.<br />
<br />
If you want one of those combinations, you'll have to alter a few minor things here.<br />
<br />
I assume Unicode NSIS has not changed this bit drrastically, so I would guess that this work with Unicode NSIS and D2009 (but have not tested it).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Static_VoiD</div><div class="date">25th April 2009, 15:53</div></div><div class="posttext">I'm sorry (again :) ) i forgot to mention - i'm coding in Delphi 7. Thus i was unable to test it on later Delphi releases.<br />
But, i suppose, it won't be too hard to clange usual PChar and some other stuff so that it could be compatible with delphi 09</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">25th April 2009, 18:34</div></div><div class="posttext">I have not touched delphi since v3 so I don't remember anything about it, but I'm sure it would be possible to define/typedef your own type, name it NSISChar or whatever and some kind of define that lets you choose unicode or ansi so the same header can support both</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>