<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Dynamic Section Name...Possible?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Dynamic Section Name...Possible? NSIS Discussion" />
	
	<title> Dynamic Section Name...Possible? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Dynamic Section Name...Possible?</div>
<hr />
<div class="pda"><a href="t-278327.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=278327">Dynamic Section Name...Possible?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Jobol</div><div class="date">5th October 2007, 04:49</div></div><div class="posttext">Hi folks,<br />
<br />
 2 questions.<br />
<br />
1. Is it possible to change the section name dynamically? NSIS seems only to accept const and not vars.<br />
<br />
I tried:<br />
<br />
Var sectionName &quot;mySectionName&quot;<br />
...<br />
# Installer sections<br />
Section $sectionName SEC0000    <br />
...<br />
SectionEnd<br />
<br />
and the whole section dissapears!<br />
<br />
<br />
2. Is it possible to add a custom button to the components page? (MUI)<br />
<br />
<br />
What I want to do is basically have a custom button on the components selection page then when you click on, it searches for files on the filesystem, and then based on the results of that search, updates the title of the section to &quot;[previous section name] (found)&quot;.<br />
<br />
Thanks for any help you can give me.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">5th October 2007, 07:06</div></div><div class="posttext">Try using SectionSetText (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.13.3) (with SectionGetText). <br />
<br />
Don</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th October 2007, 10:02</div></div><div class="posttext">Setting the section's name to a variable will work as long as you remember to set $sectionName before the components page is displayed. Passing another parameter to Var will not set the default value of $sectionName. It is in fact a bug that makensis.exe even accepts that syntax. I've fixed this for the next version.<br />
<br />
To add a button, you can use one of the following plug-ins.<br />
<br />
http://nsis.sourceforge.net/HelpButton_plug-in<br />
http://nsis.sourceforge.net/ButtonEvent_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jobol</div><div class="date">7th October 2007, 02:19</div></div><div class="posttext">OK, so that's the catch. Is it possible to rename it after the components dialog is shown?<br />
<br />
Like one would hot the search button, and that function updates the section's name.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th October 2007, 19:21</div></div><div class="posttext">Yes, you can rename a section while the components page is showing. Simply use SectionSetText in .onSelChange. You can also set the text and then send WM_IN_UPDATEMSG (0x40f) to the components dialog. But don't do that inside of .onSelChange.FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
SendMessage $0 0x40f 0 0</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>