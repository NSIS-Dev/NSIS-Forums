<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Exec in directory?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Exec in directory? NSIS Discussion" />
	
	<title> Exec in directory? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Exec in directory?</div>
<hr />
<div class="pda"><a href="t-263630.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=263630">Exec in directory?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">testrie</div><div class="date">14th January 2007, 01:42</div></div><div class="posttext">I've serched for this several times, on the forums, the help file, google, and the wiki, but I still haven't found the answer.<br />
<br />
I know that there's an Exec command, but it seems to run the program in the installer directory. Is there a way to run the program in a directory specified by the scripter (or at least the directory that the program is in?) example of this: place the entire nsis folder inside a folder called nsisProgram. Make a new nsi file with all the normal stuff, and make it run<br />
exec $EXEDIR\nsisProgram\nsis.exe. You get a blank window.<br />
<br />
help?<br />
<br />
elyea<br />
<br />
p.s. first post!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">14th January 2007, 02:08</div></div><div class="posttext">did you even read the documentation for exec at 4.9.1.2 ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">testrie</div><div class="date">14th January 2007, 02:29</div></div><div class="posttext">Originally posted by Anders <br />
did you even read the documentation for exec at 4.9.1.2 ?  <br />
<br />
err... *reads again.*<br />
<br />
4.9.1.2 Exec<br />
command<br />
Execute the specified program and continue immediately. Note that the file specified must exist on the target system, not the compiling system. $OUTDIR is used for the working directory. The error flag is set if the process could not be launched. Note, if the command could have spaces, you should put it in quotes to delimit it from parameters. e.g.: Exec '&quot;$INSTDIR\command.exe&quot; parameters'. If you don't put it in quotes it will not work on Windows 9x with or without parameters.<br />
<br />
Exec '&quot;$INSTDIR\someprogram.exe&quot;'<br />
Exec '&quot;$INSTDIR\someprogram.exe&quot; some parameters'<br />
<br />
<br />
i must be blind.<br />
<br />
elyea<br />
<br />
just wondering... is this this an example of &quot;Nice&quot; around here, your method of treating ignorant newbies, or just plain &quot;YOU ARE AN IDIOT&quot;?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">14th January 2007, 07:25</div></div><div class="posttext">Most people here are very nice (I wonder how some (Red Wine, kichik) can be so patient all of the time.) Don't take offense at one response. Read some of the other posts here and you'll see how it is most of the time.<br />
<br />
Don</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">14th January 2007, 10:52</div></div><div class="posttext">@ testrie,<br />
$EXEDIR is a constant that indicates the full path of directory where your installer is running.<br />
Find more info about constants variables etc at nsis documentation.<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.1<br />
<br />
You are able to run any exe that exists on a target with command Exec as long as you pass to the command the full path to the file, if you don't, the installer looking for the file into the current dir where is pointed by SetOutPath.<br />
<br />
Compile and execute the following example, it'd help you on these,<br />
Name &quot;My Application&quot;<br />
OutFile 'test.exe'<br />
ShowInstDetails show<br />
LicenseData '${NSISDIR}\License.txt'<br />
LicenseBkColor 0xFFFFFF<br />
InstallDir '$PROGRAMFILES\$(^name)'<br />
<br />
Page License<br />
Page Components<br />
Page Directory<br />
Page InstFiles<br />
<br />
Section &quot;boo&quot;<br />
SetOutPath '$INSTDIR'<br />
File /r '${NSISDIR}\*'<br />
Exec 'nsis.exe'<br />
Exec '$WINDIR\notepad.exe'<br />
DetailPrint '------------------'<br />
DetailPrint 'Some Constants'<br />
DetailPrint '$EXEDIR'<br />
DetailPrint '$INSTDIR'<br />
DetailPrint '$PROGRAMFILES'<br />
DetailPrint '$WINDIR'<br />
MessageBox MB_YESNO|MB_ICONQUESTION \<br />
&quot;Remove $INSTDIR now?&quot; IDYES remove<br />
MessageBox MB_OK &quot;you should manually remove $INSTDIR later&quot; IDOK end<br />
remove:<br />
;take care of this command dont use it in your script unless you know everything about it<br />
RmDir /r '$INSTDIR'<br />
end:<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">14th January 2007, 16:45</div></div><div class="posttext">no, i guess what he wants to do is to change $OUTDIR.<br />
<br />
again, read the manuals ;)<br />
<br />
SetOutPath &quot;C:\Program Files\whatever&quot;<br />
Exec &quot;$OUTDIR\mytool.exe&quot;<br />
<br />
and you're done :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>