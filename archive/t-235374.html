<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" compiling nsis from within textpad?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  compiling nsis from within textpad? NSIS Discussion" />
	
	<title> compiling nsis from within textpad? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  compiling nsis from within textpad?</div>
<hr />
<div class="pda"><a href="t-235374.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=235374">compiling nsis from within textpad?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">l_d_allan</div><div class="date">13th January 2006, 12:52</div></div><div class="posttext">I've used TextPad 4.7x for quite a while and am generally satisfied with it.<br />
<br />
I'd like to compile nsis scripts from within textpad, and would appreciate finding out the approprate parameters for setting it up .... especially the &quot;Regular Expression to Match Output&quot; to be able to double-click on errors and go directly to that line.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">13th January 2006, 14:03</div></div><div class="posttext">You really don't need any special parameters (unless you want to increase verbosity).<br />
Just run MakeNSIS.exe with the file name as a parameter.<br />
One problem I have noticed with MakeNSIS error/warning messages is that they don't always provide line numbers.<br />
However, this is what I am using for EclipseNSIS errors:<br />
Error in script &quot;(.+)&quot; on line (\d+).*<br />
<br />
The first matching group gives the filename and the second gives the line number.<br />
However, MakeNSIS very often issues error messages without line numbers or file names.<br />
Also- if the script has set verbosity to 0, no output will be printed to stdout, so errors will not be detected.<br />
In such cases, the only way to detect errors is to use the undocumented /NOTIFYHWND option with MakeNSIS. However that will only work if there is a window whose wndproc is capable of processing MakeNSIS messages- opens a whole new can of worms if you plan to use TextPad.<br />
(Are you sure you wouldn't rather use HM NIS Edit or EclipseNSIS instead? :) )</div></div><hr />


<div class="post"><div class="posttop"><div class="username">l_d_allan</div><div class="date">13th January 2006, 15:09</div></div><div class="posttext">Thanks for the pointers .... &quot;one of these days&quot; when I'm caught up with everything and it isn't a &quot;hair on fire&quot; day ... I'll definitely learn Eclipse &lt;g&gt;<br />
<br />
I've attached a screen-shop of the preferences I'm using, but they are:<br />
Command: [NsisInstallDir]\makensis.exe<br />
Parameters: /PAUSE /X&quot;SetCompressor zlib&quot; $File<br />
Initial Folder: $FileDir<br />
[ ] Prompt for parameters<br />
[ ] Run minimized<br />
[x] Save all documents first<br />
[ ] Capture output<br />
[x] Close Dos window on exit<br />
[ ] Sound alert when completed (n/a unless Capture output chosen)<br />
<br />
The Regular expression that more or less works for me is:<br />
^Error in script &quot;\(.+\)&quot; on line \([0-9]+\)<br />
<br />
but I decided to not capture the output and just look at the DosWindow that makensis generates. I used the /PAUSE command line argument so this window doesn't disappear when makensis finishes.<br />
<br />
Also, I specified the /X&quot;SetCompressor zlib&quot; since that seems quite a bit faster while I'm working on the script .... I usually specify lzma but it is slower.<br />
<br />
Any suggestions or improvements to the above appreciated ... it is trial and error and seems to work, but there is probably a better way.<br />
<br />
Also ... anyone updated the TextPad syntax file? .... the latest on the TextPad website is 1.98 from 2002.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">13th January 2006, 15:50</div></div><div class="posttext">/X&quot;SetCompressor /FINAL zlib&quot; would be better, otherwise you might get an error if the script also sets a compressor.<br />
Otherwise I suppose your settings look ok.<br />
The syntax file is ancient and needs some serious updating.<br />
Go for it. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">3rd May 2006, 19:03</div></div><div class="posttext">improved syntax highlighting for textpad you can grab here<br />
http://forums.winamp.com/showthread.php?s=&amp;postid=1923539</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>