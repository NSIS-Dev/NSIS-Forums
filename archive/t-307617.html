<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Two output files, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Two output files NSIS Discussion" />
	
	<title> Two output files [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Two output files</div>
<hr />
<div class="pda"><a href="t-307617.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307617">Two output files</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">one_eddie</div><div class="date">23rd June 2009, 12:48</div></div><div class="posttext">I was trying to generate two output files but is seems to be impossible. I've tried to use two OutFile commands. Next one OutFile with CopyFiles. Any of those work.<br />
<br />
CreateDirectory &quot;Deploy\${PRODUCT_DEPLOY_NAME}\${PRODUCT_MAJOR_VER}.${PRODUCT_MINOR_VER}.${PRODUCT_REVISION_VER}.${PRODUCT_BUILD_VER}\&quot;<br />
OutFile &quot;Deploy\${PRODUCT_DEPLOY_NAME}\${PRODUCT_MAJOR_VER}.${PRODUCT_MINOR_VER}.${PRODUCT_REVISION_VER}.${PRODUCT_BUILD_VER}\${PRODUCT_SETUP_FILE_NAME}&quot;<br />
	<br />
CreateDirectory &quot;Deploy\${PRODUCT_DEPLOY_NAME}\Current\&quot;<br />
CopyFiles &quot;Deploy\${PRODUCT_DEPLOY_NAME}\${PRODUCT_MAJOR_VER}.${PRODUCT_MINOR_VER}.${PRODUCT_REVISION_VER}.${PRODUCT_BUILD_VER}\${PRODUCT_SETUP_FILE_NAME}&quot; &quot;Deploy\${PRODUCT_DEPLOY_NAME}\Current\${PRODUCT_CURRENT_SETUP_FILE_NAME}&quot;<br />
<br />
Second problem I see is that OutFile doesn't create directories when writing setup file and I can't use CreateDirectory because it's used outside a Function or Section.<br />
<br />
Can any one light this subject? Any ideas how solve it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd June 2009, 15:05</div></div><div class="posttext">You can't mix run time and compile time instructions i.e. CreateDirectory and CopyFiles are both run time instructions. Use a batch file and execute it with !system.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">one_eddie</div><div class="date">23rd June 2009, 15:19</div></div><div class="posttext">I can't simple write a batch file because I do not have access to all information which are inside my installation script (app name, version, etc) from batch file. I don't want to duplicate all those information in separate files. This will become hard to manage and update. <br />
<br />
Is there a library you I could use to create directory and copy file at compile time?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd June 2009, 15:52</div></div><div class="posttext">http://www.rgagnon.com/gp/gp-0009.html<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>