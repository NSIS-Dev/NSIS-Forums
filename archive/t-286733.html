<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom Page with FileSelect-Button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom Page with FileSelect-Button NSIS Discussion" />
	
	<title> Custom Page with FileSelect-Button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom Page with FileSelect-Button</div>
<hr />
<div class="pda"><a href="t-286733.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=286733">Custom Page with FileSelect-Button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">klopfdreh</div><div class="date">12th February 2008, 10:02</div></div><div class="posttext">Hello,<br />
<br />
I want to create a Custom Page with InstallOptions. On this page there should be a button and when the user clicks on it he can select some files, that are copied in a folder located in the installationfolder. What I finished is to create the InstallOption and to show the Custom Page via Macros in my Installer.<br />
<br />
The problem still left is to popup the filerequest dialog when the user clicks on the button. Im using a Dialog-Plugin that is working already:<br />
<br />
Dialogs::Open &quot;Jar Files (*.jar)|*.jar|&quot; &quot;4&quot; &quot;Choose a file from the list&quot; $EXEDIR ${VAR_6}<br />
<br />
I'm new to NSIS and I don't know how to handle the click event, so is anyone able to help filling the two functions<br />
<br />
Function TestStart<br />
...<br />
FunctionEND<br />
<br />
Function TestLeave<br />
..<br />
FunctionEND<br />
<br />
<br />
The last thing I think I should post is the InstallOption ini File:<br />
<br />
[Settings]<br />
NumFields=1<br />
<br />
[Field 1]<br />
Type=Button<br />
Left=244<br />
Top=121<br />
Right=294<br />
Bottom=136<br />
Text=Button<br />
Flags=<br />
State=DirBrowseButton<br />
 <br />
<br />
Thanks a lot!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th February 2008, 13:02</div></div><div class="posttext">Use nsDialogs it's much easier, otherwise check the testnotify.nsi example.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">klopfdreh</div><div class="date">12th February 2008, 13:06</div></div><div class="posttext">Ok, thanks a lot! I will look the manual of nsDialogs and if there are any Questions I'll post it here!<br />
<br />
Nice Support here!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">klopfdreh</div><div class="date">12th February 2008, 13:32</div></div><div class="posttext">How can I place the button in the center space in the Custom Page? I used this for now:<br />
<br />
<br />
    nsDialogs::CreateItem /NOUNLOAD BUTTON Test ${BS_LEFT}|${BS_TOP} 150 100<br />
    Pop $BUTTON<br />
    GetFunctionAddress $0 OnClick<br />
    nsDialogs::OnClick /NOUNLOAD $BUTTON $0<br />
<br />
<br />
<br />
Function OnClick<br />
MessageBox MB_OK clicky<br />
FunctionEnd<br />
<br />
<br />
But there is only an error when I click on cancel.<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th February 2008, 13:46</div></div><div class="posttext">Use the macros in nsDialogs.nsh as described in the manual.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">klopfdreh</div><div class="date">12th February 2008, 13:55</div></div><div class="posttext">Can you give me the URL to the correct download - I thinks I got an older ZIP File there is no nsDialogs.nsh or a manual.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th February 2008, 14:03</div></div><div class="posttext">nsDialogs is included with NSIS. Just make sure you have the latest version of NSIS.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">12th February 2008, 14:05</div></div><div class="posttext">nsDialogs.nsh will be in the include folder where you installed NSIS<br />
<br />
Oops..........i should refresh the page more often before posting</div></div><hr />


<div class="post"><div class="posttop"><div class="username">klopfdreh</div><div class="date">12th February 2008, 14:08</div></div><div class="posttext">I'm using 2.34 2.35 is the newest. I read the changelog. There is no entry about nsDialogs, so I think I can use it as well as in the newest.<br />
<br />
Edit: Ok got the manuel and my first page running with nsDialogs! I'll make some tests furtheron</div></div><hr />


<div class="post"><div class="posttop"><div class="username">klopfdreh</div><div class="date">12th February 2008, 14:29</div></div><div class="posttext">Great - Got a button now and when I'm pressing on that button a filerequest-dialog is opening! :) <br />
<br />
So still some questions left:<br />
<br />
 How can I change the description in the modern ui? <br />
 How can I setup a multiple selection and run throw the result with a loop to copy those files in the installationdirectory?<br />
 <br />
<br />
Thanks for the great help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th February 2008, 15:35</div></div><div class="posttext">Dialogs plug-in probably doesn't allow multi-select but DialogsEx may do. nsDialogs also has a file selection macro I believe if you haven't tried it.<br />
<br />
Do you mean MUI_HEADER_TEXT for the description?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">klopfdreh</div><div class="date">13th February 2008, 06:55</div></div><div class="posttext">Great, MUI_HEADER_TEXT was exactly what I was looking for and furtheron I will get the Multiselection Dialog running for me with DialogsEx!<br />
<br />
Thanks so far!<br />
<br />
Edit: There is no documentation about how to get DialogsEx can select multiple files, anyone here know how to do? :igor:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>