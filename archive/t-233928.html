<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Is Variable Declared?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Is Variable Declared? NSIS Discussion" />
	
	<title> Is Variable Declared? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Is Variable Declared?</div>
<hr />
<div class="pda"><a href="t-233928.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=233928">Is Variable Declared?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">MikeSchinkel</div><div class="date">24th December 2005, 06:21</div></div><div class="posttext">Is there any way to determine in a script if a variable has been declared or not?  I want to be able to declare a variable using a macro, but only if it hasn't already been declared.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">24th December 2005, 07:13</div></div><div class="posttext">Variables aren't so much declared as that they either contain data, or they don't.  So you could just use :<br />
StrCmp $Var &quot;&quot; +2 0<br />
  MessageBox MB_OK &quot;Var is 'declared'&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th December 2005, 09:27</div></div><div class="posttext">Yes but if a variable hasn't been declared from within a macro, then that will throw a compiler warning.<br />
You should define a constant of the same name of that variable and check if that constant exists with !ifdef.<br />
<br />
E.g.<br />
!macro Var VarName<br />
 Var &quot;${Var}&quot;<br />
 !define &quot;${Var}&quot;<br />
!macroend<br />
<br />
!insertmacro Var MyVar<br />
<br />
Function MyFunc<br />
!ifdef MyVar<br />
 StrCpy $MyVar &quot;blah&quot;<br />
!endif<br />
FunctionEnd<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">24th December 2005, 10:28</div></div><div class="posttext">ah, good point!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dandaman32</div><div class="date">25th December 2005, 22:17</div></div><div class="posttext">!ifndef VAR_DECLARED<br />
  !define VAR_DECLARED<br />
  Var VAR_NAME<br />
!endif<br />
<br />
-dandaman32</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MikeSchinkel</div><div class="date">26th December 2005, 09:02</div></div><div class="posttext">Thanks for the suggestions.  That's certainly a clever and viable workaround!  <br />
<br />
But not exactly what I was looking for as it pollutes the macro namespace and is more apt to cause collisions when using headers from multiple sources. :(<br />
<br />
OTOH, I rearchitected what I was doing so I didn't end up needing it anyway.  At least not this time. :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>