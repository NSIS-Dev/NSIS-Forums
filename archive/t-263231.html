<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Cancel installation, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Cancel installation NSIS Discussion" />
	
	<title> Cancel installation [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Cancel installation</div>
<hr />
<div class="pda"><a href="t-263231.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=263231">Cancel installation</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">empezar</div><div class="date">8th January 2007, 03:45</div></div><div class="posttext">Hello.<br />
<br />
I have made an installer that downloads several packages and unzips them, and I have the following (unrelated?) problem.<br />
<br />
When I press &quot;cancel&quot; during the installation, the installer simply proceeds to the next package download, i.e. I have to press cancel about 70 times to actually cancel the installation.<br />
<br />
Is there any way of making NSIS going all the way to the &quot;Installation aborted&quot; screen by pressing cancel only ONCE?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">8th January 2007, 05:08</div></div><div class="posttext">You may want to refer to NSIS documentation,<br />
4.7.2.1.9 .onUserAbort,<br />
4.9.4.8 IfAbort,<br />
These should help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">empezar</div><div class="date">8th January 2007, 05:51</div></div><div class="posttext">IfAbort couldn't be used as the documentation said, as I'm using modernUI (Page instfiles instfilesLeave vs !insertmacro MUI_PAGE_INSTFILES).<br />
<br />
.onUserAbort didn't work either, it just aborts the current NSISDL-job and goes on to download the next package, just like before.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">8th January 2007, 06:01</div></div><div class="posttext">IfAbort couldn't be used as the documentation said, as I'm using modernUI (Page instfiles instfilesLeave vs !insertmacro MUI_PAGE_INSTFILES).<br />
<br />
See MUI documentation chapter 4. Custom functions<br />
<br />
<br />
.onUserAbort didn't work either, it just aborts the current NSISDL-job and goes on to download the next package, just like before.<br />
Perhaps you should add a Quit somewhere on that function.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">8th January 2007, 15:54</div></div><div class="posttext">Check the return value of NSISdl (see the readme file). When the download has been cancelled, you can abort the installation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">empezar</div><div class="date">9th January 2007, 06:56</div></div><div class="posttext">the return value was what I was looking for<br />
<br />
<br />
thanks a TON!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">empezar</div><div class="date">9th January 2007, 10:07</div></div><div class="posttext">Now I have a similar problem with nsisunz :)<br />
<br />
The cancel button is completely GREYED OUT during the unzipping process, is there any way to fix that at all, or can I just give up about that right away? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">9th January 2007, 19:20</div></div><div class="posttext">No possible to enable the cancel button on page InstFiles pre function, because if you do so, the nsisunz plugin refuses to load the zip file.<br />
It might be possible with the button event plugin though, no tested, you should give it a try.<br />
http://nsis.sourceforge.net/File:ButtonEvent.zip<br />
Even if somehow you'd achieve it, you should take in count what you're going to do with the remaining half extracted files on $INSTDIR.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>