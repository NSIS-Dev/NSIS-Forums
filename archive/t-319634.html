<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Multithread compression and decompression in makensis, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Multithread compression and decompression in makensis NSIS Discussion" />
	
	<title> Multithread compression and decompression in makensis [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Multithread compression and decompression in makensis</div>
<hr />
<div class="pda"><a href="t-319634.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=319634">Multithread compression and decompression in makensis</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">partyzone</div><div class="date">2nd June 2010, 23:31</div></div><div class="posttext">Hi,<br />
<br />
  I have an automated script that produces an installer with makensis and the installer is run automatically for testing purpose.  I noticed that only one core is in use during compression and decompression.  I think that a multi-threaded compressor would be great for installer creation and for user installation as most of our modern computers have four cores...<br />
<br />
What do you think of that?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">3rd June 2010, 05:57</div></div><div class="posttext">If I remember correctly, there are some threads about this topic already.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd June 2010, 11:57</div></div><div class="posttext">What compression are you using? LZMA uses multithreading.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">partyzone</div><div class="date">3rd June 2010, 17:53</div></div><div class="posttext">Sorry, it seems that I &quot;multi threaded&quot; the topic ;)<br />
<br />
Thanks for your fast answers!<br />
<br />
I use the default algorithm.  In the documentation, there is no mention of multi threading, and furthermore, the description seems to describe lzma as the slower one...<br />
<br />
Extract:<br />
&quot;NSIS supports different compression methods, as explained here. ZLIB is the default compression method, which is fast and uses only a little bit of memory. LZMA is a good method for the creation of small installers for internet distribution. BZIP2 usually compresses better than ZLIB but not as good as LZMA, it is useful if you need lower memory usage or fast script compilation.&quot;<br />
<br />
I'm a little bit confused...<br />
<br />
Is it because the multithreading was added lately?  Is it because even with multithreading, the compression is still slower?  Should I benchmark for myself or I should pay confidence in the documentation?<br />
<br />
Regards,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd June 2010, 19:27</div></div><div class="posttext">http://www.7-zip.org/7z.html<br />
<br />
Personally, I always use LZMA. The only downside to its use is slow compression. On the other hand it has extremely good compression ratios and fast decompression.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bytebucket</div><div class="date">9th July 2012, 15:27</div></div><div class="posttext">we use LZMA, but on a multi-core build machine only one core appears to be utilized.  Afrow UK indicated here that LZMA is multi-threaded, but that was a couple years ago.<br />
<br />
Can anyone confirm whether or not LZMA is multi-threaded?  It doesn't appear to be from what we can see when running with that option.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">9th July 2012, 16:14</div></div><div class="posttext">lzma can support multi-threaded compression but only if the compressor is coded to do it and NSIS uses a heavily altered version which is single-threaded (and i cannot remember if the multi-threaded lzma libraries were around when the NSIS lzma support was added).<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bytebucket</div><div class="date">9th July 2012, 19:30</div></div><div class="posttext">ok, thanks for the clarification.  so it sounds like there's no way currently to get multi-threaded compression with NSIS when building an installer?  Do you know if there are any plans in this area to provide this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bytebucket</div><div class="date">17th July 2012, 17:00</div></div><div class="posttext">so are there any plans to add support for multi-threaded compression?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">17th July 2012, 17:18</div></div><div class="posttext">i don't know. all i can suggest is looking through the bug / feature tracker and seeing if anything is in there but just being mentioned doesn't mean anything would happen (since it would need someone to find the time / inclination to work on it).<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bytebucket</div><div class="date">18th July 2012, 19:29</div></div><div class="posttext">where is the bug tracker?  I can't seem to find a link for it anywhere on the site here.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th July 2012, 20:10</div></div><div class="posttext">http://nsis.sourceforge.net/Bug_Reports<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>