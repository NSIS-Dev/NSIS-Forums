<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Unknown Problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Unknown Problem NSIS Discussion" />
	
	<title> Unknown Problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Unknown Problem</div>
<hr />
<div class="pda"><a href="t-174932.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=174932">Unknown Problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Craized44</div><div class="date">1st April 2004, 05:15</div></div><div class="posttext">Hi, this is my first post, as well as my first day working with NSIS. I am trying to make a simple installer to install a map for Rainbow Six. Everything works fine until I try and change the installdir from InstallDirRegKey HKLM &quot;SOFTWARE\&quot;SOFTWARE\Red Storm Entertainment\RAVENSHIELD&quot; &quot;InstalledPath&quot;<br />
to the same directory with \maps at the end. I believe I have a bunch of extraneous code, but because I'm a PHP programmer, and nothing is the same, I'm completely lost.<br />
Anyway, the problem is that after I get \maps on the end, the files won't install. I don't know whats wrong, no errors are returned when compilint.<br />
<br />
Thank you so much for your help.<br />
; Installer created by Craized<br />
; craized@comcast.net<br />
<br />
!define PRODUCT_NAME &quot;FX Pillar&quot;<br />
!define PRODUCT_VERSION &quot;1.0&quot;<br />
!define PRODUCT_PUBLISHER &quot;Craized Inc.&quot;<br />
!define PRODUCT_WEB_SITE &quot;http://craized.ath.cx&quot;<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
!define MUI_ABORTWARNING<br />
!define MUI_ICON &quot;C:\Documents and Settings\Craized\Desktop\Installers\craized.ico&quot;<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
<br />
Name &quot;${PRODUCT_NAME} ${PRODUCT_VERSION}&quot;<br />
OutFile &quot;FX Pillars.exe&quot;<br />
<br />
Var GAMEDIR<br />
function .onInit<br />
ReadRegStr $GAMEDIR HKLM &quot;SOFTWARE\Red Storm Entertainment\RAVENSHIELD&quot; &quot;InstalledPath&quot;<br />
StrCpy $INSTDIR &quot;$GAMEDIRmaps\&quot;<br />
Push $0<br />
ClearErrors<br />
ReadRegStr $0 HKLM &quot;SOFTWARE\Red Storm Entertainment\RAVENSHIELD&quot; &quot;InstalledPath&quot;<br />
StrCmp $0 &quot;&quot; 0 continue<br />
MessageBox MB_ICONINFORMATION|MB_OK &quot;It appears you don't have Rainbow Six installed. Please install the game before installing this map&quot;<br />
Abort<br />
continue:<br />
End:<br />
Pop $0<br />
FunctionEnd<br />
<br />
InstallDir $INSTDIR<br />
ShowInstDetails show<br />
<br />
Section &quot;MainSection&quot; SEC01<br />
  SetOverwrite ifnewer<br />
  File &quot;C:\Documents and Settings\Craized\Desktop\Installers\FX_Pillars\FX_Pillars.ini&quot;<br />
  File &quot;C:\Documents and Settings\Craized\Desktop\Installers\FX_Pillars\FX_Pillars14.rsm&quot;<br />
  File &quot;C:\Documents and Settings\Craized\Desktop\Installers\FX_Pillars\FX_Levels.int&quot;<br />
SectionEnd<br />
<br />
Section -Post<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">o_owd</div><div class="date">1st April 2004, 10:12</div></div><div class="posttext">does the path from the registry have a '\' caracter at the end ?<br />
<br />
you use : StrCpy $INSTDIR &quot;$GAMEDIRmaps\&quot;<br />
<br />
try with: StrCpy $INSTDIR &quot;$GAMEDIR\maps\&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">1st April 2004, 13:11</div></div><div class="posttext">Remove InstallDir $INSTDIR (you're in effect saying &quot;$INSTDIR = $INSTDIR&quot;)<br />
 Before installing the files insert SetOutPath $INSTDIR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Craized44</div><div class="date">1st April 2004, 22:15</div></div><div class="posttext">SetOutPath was my problem. Thank you so much</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>