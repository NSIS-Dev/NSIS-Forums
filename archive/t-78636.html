<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CreateShortCut with an icon, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CreateShortCut with an icon NSIS Discussion" />
	
	<title> CreateShortCut with an icon [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CreateShortCut with an icon</div>
<hr />
<div class="pda"><a href="t-78636.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=78636">CreateShortCut with an icon</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bbh</div><div class="date">8th March 2002, 20:14</div></div><div class="posttext">Hi,<br />
<br />
I guess I don't understand how to set an icon for my shortcut. I've searched the forum and some examples but haven't seen anything that seems relevent.<br />
<br />
My code looks like:<br />
CreateShortCut &quot;My App.lnk&quot; &quot;My App.exe&quot; &quot;&quot; &quot;myapp.jpg&quot;<br />
<br />
and what I'm trying to accomplish is having myapp.jpg be the icon used for my shortcut.  The shortcut gets created just fine, but the icon is not there.  I've also tried including the jpeg file in my list of Files for the installer, but that didn't make any difference.<br />
<br />
What am I doing wrong?  I haven't come across any examples that try to use a jpeg file for the icon.  The few examples I've seen all specify an exe file here.<br />
<br />
Thanks for any help,<br />
Beth</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">8th March 2002, 20:31</div></div><div class="posttext">You need to use a valid icon resource.  Correct me if I'm wrong but you can either use, *.ico, *.dll, or *.exe files.<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bbh</div><div class="date">9th March 2002, 00:06</div></div><div class="posttext">Thanks for the reply.<br />
<br />
I guess I am still confused as to what makes a &quot;valid icon resource&quot;.  I found a .ico file on my file system and gave that as input to the CreateShortCut tag.  However that still didn't work.<br />
<br />
If I look at the properties of my newly created shortcut and try to &quot;Change Icon&quot;, windows (W2K) reports an error that it can't find the file that I gave initially.<br />
<br />
Are there any links out there that describe how this works?<br />
<br />
Thanks again,<br />
Beth</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">9th March 2002, 00:08</div></div><div class="posttext">Try setting it to an exe that is on your system and see if it works.  I wasnt sure about the ico resource.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bbh</div><div class="date">11th March 2002, 21:03</div></div><div class="posttext">ok, I changed my shortcut to use notepad.exe as I saw in one of the example .nsi files and that worked (i.e. I saw the little notepad icon when I created the shortcut).<br />
<br />
So what does this mean if I am trying create a shortcut to a java app? Is the only way to set the image of the shortcut through an exe? What is the best way to accomplish this if I have either a jpeg file or an .ico file?<br />
<br />
Thanks,<br />
Beth</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SQwerl</div><div class="date">11th March 2002, 22:30</div></div><div class="posttext">I think your code is wrong. For the icon it should be like:<br />
Icon &quot;c:\my documents\savirc\icons\savDesk.ico&quot;<br />
<br />
And for the shortcuts:<br />
CreateShortCut &quot;$DESKTOP\savIRC.lnk&quot; &quot;$INSTDIR\savirc.exe&quot;<br />
<br />
There are a few different ways you can make your icon's. In microangelo, or a regular graphic manipulation program such as Photoshop or Fireworks. But if you use the regular graphic apps, you will have to get a converter program, to convert your graphic to .ico. Don't forget that without tweaking the NSIS code, you can only use 16 colors for your icon. Dimensions: 32x32x16<br />
<br />
Hopefully this answers your question. <br />
<br />
Btw you can download microangelo at download.com</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">12th March 2002, 00:04</div></div><div class="posttext">Originally posted by bbh <br />
ok, I changed my shortcut to use notepad.exe as I saw in one of the example .nsi files and that worked (i.e. I saw the little notepad icon when I created the shortcut).<br />
<br />
So what does this mean if I am trying create a shortcut to a java app? Is the only way to set the image of the shortcut through an exe? What is the best way to accomplish this if I have either a jpeg file or an .ico file?<br />
<br />
Thanks,<br />
Beth <br />
<br />
You should be able to compile a dll with the icon file in the resources section.  This could be done easily with any c or c++ compiler.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bbh</div><div class="date">12th March 2002, 19:34</div></div><div class="posttext">ok, I found the problem.  I had copied the icon file to my working directory and thus was just giving the name of the icon file.  This didn't work.  But I changed to give the complete path and it is now working.<br />
<br />
Then I tried giving a relative path from my working directory, i.e. &quot;src\images\myicon.ico&quot; and that didn't work either.<br />
<br />
Is there any way for this to work without giving the complete path?  So this script can move from machine to machine without having to worry about complete paths?<br />
<br />
Thanks for all your help.<br />
Beth</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">12th March 2002, 19:38</div></div><div class="posttext">If you are installing to $INSTDIR, just use that variable in the string.<br />
CreateShortCut &quot;My App.lnk&quot; &quot;My App.exe&quot; &quot;&quot; &quot;$INSTDIR\my.ico&quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>