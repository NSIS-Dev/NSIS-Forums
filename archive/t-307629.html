<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Possible bug in 2.45 !searchparse, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Possible bug in 2.45 !searchparse NSIS Discussion" />
	
	<title> Possible bug in 2.45 !searchparse [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Possible bug in 2.45 !searchparse</div>
<hr />
<div class="pda"><a href="t-307629.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307629">Possible bug in 2.45 !searchparse</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">qwertymodo</div><div class="date">23rd June 2009, 19:27</div></div><div class="posttext">I have a script that works fine in 2.44 and fails on a call to !searchparse after upgrading to 2.45.  I don't remember the exact error message because I downgraded back to 2.44 to double check, and it compiled just fine on 2.44, but it was something about the search token was not found in the file.  Here are the script and the text file it is parsing, both from the beginning until the relevant line and then one line after.<br />
<br />
<br />
!define BUILDSCRIPTVERSION `version=&quot;1.3.4.0&quot;`<br />
<br />
!searchparse /file AppInfo.cfg `AppInfoVersion=&quot;` CFG_VER_MAJOR `.` CFG_VER_MINOR `.` CFG_UPDATE `.` CFG_REVISION `&quot;`<br />
!searchparse ${BUILDSCRIPTVERSION} `version=&quot;` SCRIPT_VER_MAJOR `.` SCRIPT_VER_MINOR `.` SCRIPT_UPDATE `.` SCRIPT_REVISION `&quot;`<br />
!if &quot;${CFG_VER_MAJOR}.${CFG_VER_MINOR}&quot; != &quot;${SCRIPT_VER_MAJOR}.${SCRIPT_VER_MINOR}&quot;<br />
!error &quot;Incompatible AppInfo.cfg file.  Please use AppInfo.cfg version ${SCRIPT_VER_MAJOR}.${SCRIPT_VER_MINOR}.${SCRIPT_UPDATE}.x&quot;<br />
!endif<br />
<br />
!if ${CFG_UPDATE} &lt; ${SCRIPT_UPDATE}<br />
!error &quot;Incompatible AppInfo.cfg file.  Please use AppInfo.cfg version ${SCRIPT_VER_MAJOR}.${SCRIPT_VER_MINOR}.${SCRIPT_UPDATE}.x&quot;<br />
!endif<br />
<br />
!searchparse /file AppInfo.cfg `LauncherSourceFile=&quot;` PROGRAMSCRIPT `&quot;`   &lt;&lt;&lt;HERE IS WHERE IT FAILS<br />
!searchparse /file AppInfo.cfg `MainAppEXE=&quot;` APPEXE `&quot;`<br />
<br />
. . .<br />
<br />
<br />
It fails on parsing `LauncherSourceFile=&quot;` so apparently it is making it through `AppInfoVersion=&quot;` just fine.  Here's the text file it is parsing:<br />
<br />
<br />
AppInfoVersion=&quot;1.3.4.0&quot;<br />
<br />
#***REQUIRED LINES***<br />
<br />
AppName=&quot;PortableApps Launcher Wizard&quot;<br />
LauncherSourceFile=&quot;PALauncherWizard.nsi&quot;<br />
<br />
#MainAppEXE is the exe of the actual app, not the launcher<br />
#Include its relative path within the U3 Package<br />
#i.e. Device\MainAppEXE.exe<br />
MainAppEXE=&quot;Device\PALauncherWizard.exe&quot;<br />
<br />
. . .<br />
<br />
<br />
As I said, it compiles just fine with 2.44, but not with 2.45.  I noticed in the 2.45 changelog that there was a bugfix for searchparse, so perhaps that broke something else...<br />
<br />
If this is the wrong place to post this, please just point me in the right direction.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th June 2009, 12:15</div></div><div class="posttext">Try the latest build. There was another !searchparse fix since 2.45.<br />
<br />
http://nsis.sourceforge.net/Development_Files</div></div><hr />


<div class="post"><div class="posttop"><div class="username">qwertymodo</div><div class="date">25th June 2009, 02:04</div></div><div class="posttext">Appears to be fixed in the latest nightly build.  Thanks for the heads up :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>