<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" suggestion for exdll.h, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  suggestion for exdll.h NSIS Discussion" />
	
	<title> suggestion for exdll.h [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  suggestion for exdll.h</div>
<hr />
<div class="pda"><a href="t-272782.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=272782">suggestion for exdll.h</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">windsor_gabe</div><div class="date">13th June 2007, 19:44</div></div><div class="posttext">I'm creating my first plugin, and I'm having a build error in the code included from exdll.h.<br />
<br />
The problem is that the functions use lstrcpy/lstrcpyn which are actually macros that get mapped to either single-byte or wide-char versions (lstrcpyA/lstrcpyW) depending on the UNICODE macro. But the NSIS stack expects single-byte characters (right?) so the exdll.h functions like popstring() and pushstring() should be using lstrcpyA() etc. instead of depending on the UNICODE macro.<br />
<br />
JMHO</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th June 2007, 19:49</div></div><div class="posttext">Done to make it easier for Unicode plug-ins. Though I must say I can't see a situation where you'd want to build a Unicode plug-in.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">windsor_gabe</div><div class="date">13th June 2007, 19:56</div></div><div class="posttext">Mostly just the fact that VC++ 2005 now defaults to UNICODE build for any new projects, so I ran into this right away. Also I'm porting some code from an &quot;MSI custom action&quot; DLL to an NSIS plugin and the other developer had UNICODE turned on so it's easier just to keep it than to go through and fix all the TCHAR dependent code.<br />
<br />
When you say &quot;done&quot; does that mean this will be changed in the next version?<br />
<br />
Sorry for the newbie question but...I'm a newbie.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th June 2007, 20:03</div></div><div class="posttext">Yes, done means the next version. The change is done in CVS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">13th June 2007, 20:33</div></div><div class="posttext">Originally posted by windsor_gabe <br />
Mostly just the fact that VC++ 2005 now defaults to UNICODE build for any new projects, so I ran into this right away. Also I'm porting some code from an &quot;MSI custom action&quot; DLL to an NSIS plugin and the other developer had UNICODE turned on so it's easier just to keep it than to go through and fix all the TCHAR dependent code.<br />
<br />
When you say &quot;done&quot; does that mean this will be changed in the next version?<br />
<br />
Sorry for the newbie question but...I'm a newbie. <br />
Since I hate Unicode strings I prefer disable them in projecto properties :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>