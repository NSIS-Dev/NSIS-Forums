<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem with symbol &quot;&amp;&quot; in the branding text, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem with symbol &quot;&amp;&quot; in the branding text NSIS Discussion" />
	
	<title> Problem with symbol &quot;&amp;&quot; in the branding text [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem with symbol &quot;&amp;&quot; in the branding text</div>
<hr />
<div class="pda"><a href="t-373616.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=373616">Problem with symbol &quot;&amp;&quot; in the branding text</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">12th November 2013, 07:24</div></div><div class="posttext">Hi!<br />
I have s strange problem. I use symbol &quot;&amp;&quot; in the branding text. When I execute the installer under Windows XP, this symbol is missing, but it exists under Windows 7. I tried also with two symbols &quot;&amp;&amp;&quot; and in this case it is shown correct under Windows XP (only one symbol is shown), but now I see both symbols under Windows 7. So my question is - how to solve the problem without to take care about the OS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">world80</div><div class="date">12th November 2013, 10:29</div></div><div class="posttext">!include &quot;library.nsh&quot;<br />
!include &quot;winver.nsh&quot;<br />
BrandingText &quot;$var&quot;<br />
<br />
Function .oninit<br />
<br />
${if} ${isWinXP}<br />
Strcpy $var &quot;sometextwith&amp;&amp;&quot;<br />
${else}<br />
Strcpy $var &quot;sometextwith&amp;&quot;<br />
${endif}<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">12th November 2013, 10:33</div></div><div class="posttext">This is clear, but isn't it possible to do something without check for Windows XP?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th November 2013, 11:06</div></div><div class="posttext">I cannot reproduce this. Using double ampersands works fine on both 7 and XP and for MUI2 and classic UI. Can you create a simple script to reproduce?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">12th November 2013, 13:18</div></div><div class="posttext">I tried to simplify my script. But in a simple script I also can not reproduce it. I will try to investigate what makes the difference and if I have more information, I will write again.<br />
Thank you for the will to help!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">12th November 2013, 13:28</div></div><div class="posttext">Now I found the reason. I'm using the Aero plug-in. It causes this behavior. And this explains the difference between Windows XP and Windows 7. If I don't use it, all works as it is expected. Is this a bug in the Aero plug-in?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th November 2013, 16:44</div></div><div class="posttext">Yes this is a bug with the plug-in, or rather, a lack of ampersand handling. I will fix as soon as I have some time.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">12th November 2013, 21:59</div></div><div class="posttext">Thanks a lot!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">19th November 2013, 19:54</div></div><div class="posttext">I think that there is one more problem with this plug-in. I use NSIS v3.0a1 and my installer can switch between English and German texts. When German language is selected, some special letters are not shown correct (in the branding text). This must be connected somehow with the encoding... Actually up to now the branding text was also translated and in this case there is no problem. But I made the workaround given from world80, so I put the text directly (because the translation doesn't work in .onInit function) and now the problem occurs. So with the workaround I have a problem with the special German letters and without it - with the ampersand. There is no full happiness :(</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>