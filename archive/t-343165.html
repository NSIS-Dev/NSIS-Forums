<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SkinnedControls not working, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SkinnedControls not working NSIS Discussion" />
	
	<title> SkinnedControls not working [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SkinnedControls not working</div>
<hr />
<div class="pda"><a href="t-343165.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=343165">SkinnedControls not working</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dipal</div><div class="date">15th March 2012, 13:57</div></div><div class="posttext">Masters<br />
<br />
I am new to NSIS, Basically a web developer, given a task to make a Installer in NSIS. <br />
<br />
It require rich function such as button colors ,fill all texts received from API response, few custom pages etc.<br />
<br />
I googled, Find ExperienceUI and Resource Hacker to accomplish same.<br />
<br />
Now i want to change buttons color with specified images. I try to do it with SkinnedControls. but if does not taking effect.<br />
<br />
Please help to solved this.:rolleyes:<br />
<br />
Here is my full stuff..<br />
<br />
<br />
<br />
;--------------------------------<br />
;Include Modern UI<br />
  !include &quot;MUI2.nsh&quot;<br />
  !include &quot;InstallOptions.nsh&quot;<br />
;--------------------------------<br />
Name &quot;Modern UI&quot;<br />
OutFile &quot;ModernUI.exe&quot;<br />
<br />
Caption &quot;Test Caption for all pages&quot;<br />
<br />
!define MUI_CUSTOMFUNCTION_GUIINIT myGUIInit<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_WELCOME<br />
<br />
Function .onInit<br />
<br />
    InitPluginsDir<br />
    File &quot;/oname=$PLUGINSDIR\button.bmp&quot; &quot;C:\button.bmp&quot;<br />
    File &quot;/oname=$PLUGINSDIR\scrollbar.bmp&quot; &quot;C:\screen.bmp&quot;<br />
<br />
FunctionEnd<br />
<br />
Function myGUIInit<br />
   MessageBox MB_ICONEXCLAMATION|MB_OK &quot;SkinnedControls error:&quot;<br />
 SkinnedControls::skinit /NOUNLOAD \<br />
			/disabledtextcolor=808080 \<br />
			/selectedtextcolor=000080 \<br />
			/textcolor=000000 \<br />
			&quot;/button=$PLUGINSDIR\button.bmp&quot; \<br />
			&quot;/scrollbar=$PLUGINSDIR\button.bmp&quot;<br />
<br />
  Pop $0<br />
  StrCmp $0 &quot;success&quot; noerror<br />
   MessageBox MB_ICONEXCLAMATION|MB_OK &quot;SkinnedControls error: $0&quot;<br />
  noerror:<br />
<br />
 FunctionEnd<br />
<br />
Function .onGUIEnd<br />
  ; stop the plugin<br />
  SkinnedControls::unskinit<br />
FunctionEnd<br />
<br />
Section DummySection<br />
        !insertmacro MUI_LANGDLL_DISPLAY<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">15th March 2012, 21:06</div></div><div class="posttext">i have a vague memory it has to do with the xpstyle setting, but it has been asked on this forum more than once - search!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dipal</div><div class="date">16th March 2012, 06:00</div></div><div class="posttext">Thank you Yathosho for quick reply,<br />
<br />
As you mention with xpstyle setting, i tried that too but without luck. <br />
<br />
I also tried with SkinnedButton-v1.2.zip (http://http://nsis.sourceforge.net/SkinnedButton_plug-in) plugin then after, it worked for me but in that i am suffering from font color and style changing problem. I am attaching that also.<br />
<br />
Here is my enhanced stuff.. <br />
<br />
Name &quot;Modern UI&quot;<br />
OutFile &quot;ModernUI.exe&quot;<br />
InstallDir $PROGRAMFILES\NSIS<br />
Caption &quot;Test Caption for all pages&quot;<br />
<br />
;--------------------------------<br />
;Include Modern UI<br />
  !include &quot;MUI2.nsh&quot;<br />
!include &quot;InstallOptions.nsh&quot;<br />
;--------------------------------<br />
<br />
!define MUI_ABORTWARNING<br />
  !define MUI_UNABORTWARNING<br />
  !define MUI_COMPONENTSPAGE_NODESC<br />
  !define MUI_CUSTOMFUNCTION_GUIINIT myGUIInit<br />
  !define MUI_CUSTOMFUNCTION_UNGUIINIT un.myGUIInit<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_DIRECTORY<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
  !insertmacro MUI_PAGE_FINISH<br />
<br />
 XPStyle off<br />
 SetFont Verdana 10<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
<br />
Function .onInit<br />
  InitPluginsDir<br />
  File &quot;/oname=$PLUGINSDIR\button.bmp&quot; &quot;C:\button.bmp&quot;<br />
<br />
FunctionEnd<br />
<br />
Function myGUIInit<br />
<br />
SkinnedControls::skinit /NOUNLOAD \<br />
			/disabledtextcolor=808080 \<br />
			/selectedtextcolor=000080 \<br />
			/textcolor=000000 \<br />
			&quot;/button=$PLUGINSDIR\button.bmp&quot;<br />
Pop $0<br />
  StrCmp $0 &quot;success&quot; noerror<br />
    MessageBox MB_ICONEXCLAMATION|MB_OK &quot;skinned button error: $0&quot;<br />
  noerror:<br />
<br />
FunctionEnd<br />
<br />
<br />
Section DummySection<br />
        <br />
SectionEnd<br />
<br />
PFA.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">16th March 2012, 07:22</div></div><div class="posttext">OK: there are several problems in you examples:<br />
<br />
1. in first example:<br />
- rename myGUIInit to .onGUIInit [now line !define MUI_CUSTOMFUNCTION_GUIINIT myGUIInit is useless]<br />
- remove MessageBox immediately after Function .onGUIInit<br />
Now the buttons are shown correctly.<br />
<br />
2nd example: this is working fine for me<br />
- are you sure path to button is correct?<br />
<br />
3rd example: [attached one]<br />
- there is probably some problem with skinnedbutton - I can remember I have corrected some problems in it but I cannot see buttons now.<br />
- use SkinnedControls plug-in - it works better<br />
<br />
<br />
So - both 1 and 2 are working fine, even SetFont method is working fine.<br />
SkinnedControls and skinnedbutton are NOT related to XPStyle off/on issue.<br />
<br />
<br />
If you are looking for a professional solution try my product - see my signature.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dipal</div><div class="date">16th March 2012, 12:45</div></div><div class="posttext">Thank you T.Slappy,<br />
<br />
I tried as you suggested, but immediately throws error .onGUIInit  already defined.<br />
I search it says if you are using Modern UI then you have to do it by<br />
 !define MUI_CUSTOMFUNCTION_GUIINIT myGUIInit method<br />
<br />
true?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">16th March 2012, 15:37</div></div><div class="posttext">Thank you T.Slappy,<br />
<br />
I tried as you suggested, but immediately throws error .onGUIInit  already defined.<br />
I search it says if you are using Modern UI then you have to do it by<br />
 !define MUI_CUSTOMFUNCTION_GUIINIT myGUIInit method<br />
<br />
true?<br />
Yes, true. Slappy is mistaken.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dipal</div><div class="date">16th March 2012, 15:46</div></div><div class="posttext">Friends,<br />
<br />
So, Is there any way to come out from this?<br />
I am trapped here very badly..Please help<br />
:rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">19th March 2012, 06:48</div></div><div class="posttext">Forget the .onGUIInit and do everything in .onInit function.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>