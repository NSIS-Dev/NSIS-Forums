<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Hidden section bug, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Hidden section bug NSIS Discussion" />
	
	<title> Hidden section bug [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Hidden section bug</div>
<hr />
<div class="pda"><a href="t-279788.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=279788">Hidden section bug</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Leanid</div><div class="date">23rd October 2007, 13:37</div></div><div class="posttext">I have posted problem on SourceForge:<br />
http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1817989&amp;group_id=22049&amp;atid=373085<br />
Issue: 1817989<br />
<br />
But I think I was not understood. I want to discuss this problem here. Since I still think it's a bug.<br />
I repeat problem description:<br />
<br />
OutFile &quot;install.exe&quot;<br />
Page components<br />
InstType &quot;qa&quot;<br />
InstType &quot;prod&quot;<br />
SectionGroup &quot;qa&quot; qa<br />
Section &quot;&quot; qaclean<br />
SectionIn &quot;1&quot;<br />
SectionEnd<br />
Section &quot;mod1&quot; mod1<br />
SectionIn &quot;1&quot;<br />
SectionEnd<br />
Section &quot;mod2&quot; mod2<br />
SectionIn &quot;1&quot;<br />
SectionEnd<br />
Section &quot;&quot; qadeploy<br />
SectionIn &quot;1&quot;<br />
SectionEnd<br />
SectionGroupEnd<br />
Function .onSelChange<br />
SectionGetFlags ${qaclean} $0<br />
SectionGetFlags ${qadeploy} $1<br />
MessageBox MB_OK &quot;qaclean: $0 qadeploy $1&quot;<br />
FunctionEnd<br />
<br />
<br />
In installer I see sections:<br />
mod1 and mod2, section qaclean and qadeploy are hidden.<br />
I want hidden section to be selected if any of my visible sections are selected.<br />
------------------------------<br />
I still think it's high priority bug.<br />
In current implementation you can have 2 different results <br />
with the same visual selection.<br />
<br />
situation 1:<br />
1) Inst Type Qa selected.<br />
2) I extend section and deselect mod1.<br />
3) Visually I see that Qa - partially selected, one mod2 section selected.<br />
4) Nsis will install, mod2 + qaclean + qadeploy<br />
<br />
Situation 2:<br />
1) Inst Type Qa selected.<br />
2) I extend section and deselect mod1 and mod2.<br />
3) Select mod2.<br />
3) Visually I see that Qa - partially selected, one mod2 section selected. Same as in situation 1<br />
4) Nsis will install, mod2 only.<br />
<br />
As you see with the same visual selection Nsis will install different sections. I think it'a a bug and to fix it I had to write my own .onSelChnage function.<br />
<br />
In current implementation you are correctly deselect hidden section if all visible have been deselected.<br />
But you select hidden section back only if I select all section from Installation type. This is bug. You should select hidden section when any of visible section in current installation type selected.<br />
<br />
<br />
What do you think?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd October 2007, 21:00</div></div><div class="posttext">Hidden sections are automatically selected only if the section group is completely selected. This is by design and isn't actually affected by the fact they're hidden.<br />
<br />
What you are looking for is different. You simply want to have the two last sections selected if any of the first two are selected. That's what .onSelChange or some later processing of the section selection is for.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Leanid</div><div class="date">24th October 2007, 14:10</div></div><div class="posttext">I understand your logic and .onSelChnage is what I used to achieve behavior I need.<br />
<br />
I just saying that in current implementation if you use hidden section and allow Custom Install type, Nsis might install different groups with the same visual selection.<br />
<br />
If this is by design, then it is wrong design. Or you should add warning: &quot;do not use hidden section if custom install type allowed, or use .onSelChnage to control this behavior&quot;.<br />
<br />
From user point of view I gave same type of input to Nsis, but receive different results.<br />
<br />
If you think it's Ok, it's fine with me. I fixed it for myself. I just noticed it by accident, just watching how much space required with my selection. I was lucky to find it before I send it to customers. But I see it could be easily missed by someone.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>