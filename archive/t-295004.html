<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" DetailPrint or similar from plugin c code ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  DetailPrint or similar from plugin c code ? NSIS Discussion" />
	
	<title> DetailPrint or similar from plugin c code ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  DetailPrint or similar from plugin c code ?</div>
<hr />
<div class="pda"><a href="t-295004.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=295004">DetailPrint or similar from plugin c code ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TheJester12121</div><div class="date">24th July 2008, 07:51</div></div><div class="posttext">Hi,<br />
<br />
Is it possible to do a printf or DetailPrint or something else, that does the same as DetailPrint but from the plugin code ?<br />
<br />
My plugin does a lot of things i'd like to log in the main NSIS installer window.<br />
<br />
Best regards,<br />
TJ</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">24th July 2008, 09:57</div></div><div class="posttext">you have to add the string to the listview yourself, nsexec.c already has a function that does it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TheJester12121</div><div class="date">24th July 2008, 10:22</div></div><div class="posttext">Hi, <br />
Must be me, but where can i find the source of dll nsexec ?<br />
Its not included in the default installation of NSIS ?<br />
<br />
Can you pass an example ?<br />
<br />
Thanks !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th July 2008, 10:37</div></div><div class="posttext">It's easy. Use the LVITEM structure and the ListView_ macros which are all defined on MSDN.<br />
<br />
The NSIS source is a different download on the Wiki.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TheJester12121</div><div class="date">24th July 2008, 13:57</div></div><div class="posttext">I think I understand what you were saying so I downloaded the nsExec source, copied the function LogMessage and added the code to my plugin...<br />
<br />
The exported function in the plugin starts with :<br />
<br />
extern &quot;C&quot; __declspec(dllexport) void	CommitDir( HWND	hwndParent, int		string_size, char		*variables, stack_t	**stacktop )<br />
{<br />
  EXDLL_INIT();<br />
  <br />
  g_hwndList = NULL;<br />
  if (g_hwndParent)<br />
    g_hwndList = FindWindowEx(FindWindowEx(g_hwndParent,NULL,&quot;#32770&quot;,NULL),NULL,&quot;SysListView32&quot;,NULL);<br />
<br />
when i do : LogMessage(&quot;DLL Scanner hgsdfgdsgdsgdsfg.&quot;, true );  i see nothing in the listview.<br />
<br />
and if i do : <br />
<br />
    myfile.open (&quot;c:\\commitlog.txt&quot;);<br />
    <br />
    if (g_hwndParent)<br />
      myfile &lt;&lt; &quot;Parent ok...&quot; &lt;&lt; std::endl;<br />
    else<br />
      myfile &lt;&lt; &quot;Parent failed...&quot; &lt;&lt; std::endl;<br />
<br />
    if (g_hwndList)<br />
      myfile &lt;&lt; &quot;List ok...&quot; &lt;&lt; std::endl;<br />
    else<br />
      myfile &lt;&lt; &quot;List failed...&quot; &lt;&lt; std::endl;<br />
  <br />
    myfile.close();<br />
<br />
in the plugin code,<br />
i can see that the parent is valid, but the listview is not found. Why is this ? <br />
<br />
Dit i completely misunderstand what you meant ?<br />
<br />
thanks !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TheJester12121</div><div class="date">24th July 2008, 15:35</div></div><div class="posttext">Got it working now.<br />
<br />
Thanks for all ideas!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>