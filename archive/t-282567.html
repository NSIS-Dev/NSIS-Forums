<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS and long pathes?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS and long pathes? NSIS Discussion" />
	
	<title> NSIS and long pathes? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS and long pathes?</div>
<hr />
<div class="pda"><a href="t-282567.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282567">NSIS and long pathes?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Frz</div><div class="date">3rd December 2007, 13:31</div></div><div class="posttext">Hello,<br />
<br />
We are providing a nsis installer for our eclipse based product. On uninstallation the uninstaller offers the choice to remove the workspace that eclipse created. This works fine as long as the pathes the user created in eclipse are shorter than 255 (or is it 260?) characters. When the pathes get longer (eclipse 3.3 with java 1.5 or higher works with long pathes) our users face a real problem removing their workspace again as eclipse was alreay uninstalled and you can't remove such pathes with the windows explorer.<br />
Of course we could try to remove the workspace first and if that fails keep the eclipse intact however that would leave our users with a half deleted workspace which may (or may not) cause problems in our product (and is not desireable in any case).<br />
<br />
So my question is: Is there any support for long pathes in nsis? Possibly trough a plug in? Or is it planned in a future version?<br />
<br />
Thanks in advance.<br />
Patrick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd December 2007, 14:00</div></div><div class="posttext">the normal nsis build has a max string length of 1024, so the limit must be in one of the windows api it calls (I know some api's support a \\?\ prefix for longer paths but NSIS does not support those AFAIK (and it would only work in the unicode build)) <br />
<br />
As a workaround, you could call DeleteFileW and/or RemoveDirectoryW with a &quot;\\?\&quot; prefix using the system plugin.<br />
<br />
Other tricks that MAY possibly work:<br />
-set the current directory as deep as it will go and delete with a relative path<br />
-play tricks with subst.exe</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>