<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to install in more directories with one installer/one script?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to install in more directories with one installer/one script? NSIS Discussion" />
	
	<title> How to install in more directories with one installer/one script? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to install in more directories with one installer/one script?</div>
<hr />
<div class="pda"><a href="t-326131.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=326131">How to install in more directories with one installer/one script?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Aaskilde</div><div class="date">18th January 2011, 09:18</div></div><div class="posttext">Hey,<br />
<br />
At first i am new at using NSIS codes, and i have been trying it out in one day, this is my second day using it so there is a lot i still do not understand! <br />
<br />
I work for a firm who has asked me to try and make an installer to an application we have made, it's a application that need files placed some different places on the computer.<br />
<br />
I have tried my way, but have not been able to find a solution to my problem, i found this but that is way to advanced for me i really do not understand it, http://nsis.sourceforge.net/Two_installations_in_one_installer....<br />
<br />
Is there a more easy way to do it, at this point i have made the simple tutorials from NSIS Wiki, and i had an idea that you could make something with the sections, maybe split them up with different installDIRs like this:  <br />
outFile &quot;TestInstaller.exe&quot;<br />
<br />
section &quot;InstallFirstDok&quot;<br />
<br />
installdir $DESKTOP<br />
<br />
setOutPath $INSTDIR<br />
<br />
file HM NIS Edit.exe<br />
<br />
sectionEnd<br />
<br />
	section &quot;InstallSecoundDok&quot;<br />
<br />
installdir $DESKTOP\TEST<br />
<br />
setOutPath $INSTDIR<br />
<br />
file Kaa.id<br />
<br />
	sectionEnd<br />
<br />
section &quot;InstallThirdDok&quot;<br />
<br />
installdir $PROGRAMFILES\TEST2<br />
<br />
setOutPath $INSTDIR<br />
<br />
file Linux projekt.docx<br />
<br />
sectionEnd<br />
<br />
	section &quot;InstallFourthDok&quot;<br />
<br />
installdir $DESKTOP<br />
<br />
setOutPath $INSTDIR<br />
<br />
file test.txt<br />
<br />
	sectionEnd<br />
<br />
I know that the installdir can't be placed in the sections, but this is some of what i have tried.<br />
<br />
If any can help me it would be a big relieve, i think it is really cool to try and program an installer but i have just hit a bump and can't find out what to do ! :) <br />
<br />
-Aaskilde</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">18th January 2011, 10:26</div></div><div class="posttext">You don't need to set InstallDir before the file command.<br />
So if you want to have the files on a fixed location:section &quot;InstallFirstDok&quot;<br />
   setOutPath $DESKTOP<br />
   file HM NIS Edit.exe<br />
sectionEnd<br />
<br />
section &quot;InstallSecoundDok&quot;<br />
   setOutPath $DESKTOP\TEST<br />
   file Kaa.id<br />
sectionEnd<br />
<br />
section &quot;InstallThirdDok&quot;<br />
   setOutPath $PROGRAMFILES\TEST2<br />
   file Linux projekt.docx<br />
sectionEnd<br />
<br />
section &quot;InstallFourthDok&quot;<br />
   setOutPath $DESKTOP<br />
   file test.txt<br />
sectionEndIf you need the user to select multiple installdirs by himself:<br />
http://nsis.sourceforge.net/Setting_Default_Location_for_2nd_(Data)_Directory_Page</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Aaskilde</div><div class="date">18th January 2011, 11:25</div></div><div class="posttext">Okay thanks mate, i will give that a try! (:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Aaskilde</div><div class="date">18th January 2011, 11:38</div></div><div class="posttext">Okay what you said is working correctly, but i need to include a path that goes by the Windows Registry, something like this maybe? <br />
<br />
I have got the Registry path to work with a single file in it's own installer: $InstallDirRegKey HKLM SOFTWARE\Lotusnotes\Domino\1\ &quot;DataPath&quot;, is it possible to include that in a section with the others?<br />
<br />
outFile &quot;TestInstaller2&quot;<br />
<br />
section &quot;TEST1&quot;<br />
<br />
	setOutPath $DESKTOP\TEST\TEST1<br />
<br />
	file Kaa.id<br />
<br />
sectionEnd<br />
<br />
section &quot;TEST2&quot;<br />
<br />
	setOutPath $DESKTOP\TEST\TEST2<br />
	<br />
	file Linuxprojekt.docx<br />
	<br />
sectionEnd<br />
<br />
section &quot;TEST3&quot;<br />
<br />
	setOutPath $DESKTOP\TEST\TEST3<br />
	<br />
	file test.txt<br />
	<br />
sectionEnd<br />
<br />
section &quot;Regedit&quot;<br />
<br />
	setOutPath $HKLM SOFTWARE\Lotusnotes\Domino\1\ &quot;DataPath&quot;<br />
	<br />
	file Skype.lnk<br />
	<br />
sectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">18th January 2011, 13:06</div></div><div class="posttext">section &quot;Regedit&quot;<br />
   ReadRegStr $0 HKLM &quot;SOFTWARE\Lotusnotes\Domino\1&quot; &quot;DataPath&quot;<br />
   setOutPath $0<br />
   file Skype.lnk<br />
sectionEndit's all in the manual...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Aaskilde</div><div class="date">20th January 2011, 10:12</div></div><div class="posttext">Okay thanks a lot that really helped me! I know that pretty much everything is in the manual but i don't think it is that easy to understand just how they want the code written.<br />
<br />
I got one more question if you will; Is it possible to move directories with the installer, i got a lot of smaller files that i need the installer to unpack in some different locations, its 4 or 4 directories that i need to copy into another directory, is that possible or am i going to write code for all the single files? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Aaskilde</div><div class="date">20th January 2011, 11:41</div></div><div class="posttext">file /r NeoDashboard43_html\*.* made it work ;)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>