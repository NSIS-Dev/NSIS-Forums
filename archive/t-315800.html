<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" .onNextPage not called, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  .onNextPage not called NSIS Discussion" />
	
	<title> .onNextPage not called [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  .onNextPage not called</div>
<hr />
<div class="pda"><a href="t-315800.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=315800">.onNextPage not called</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jammusi</div><div class="date">28th December 2009, 21:57</div></div><div class="posttext">Hi,<br />
<br />
Using NSIS v2.4.6 <br />
Check the short nsi below.<br />
<br />
The callback function .onNextPage not being called.<br />
<br />
Can explain why?<br />
<br />
tx<br />
<br />
<br />
<br />
;--------------------------------<br />
;Include Modern UI<br />
<br />
  !include &quot;MUI2.nsh&quot;<br />
  !include &quot;logiclib.nsh&quot;<br />
<br />
Var install_button_text<br />
Var welcome_title<br />
Var welcome_text<br />
<br />
;--------------------------------<br />
;General<br />
<br />
  ;Name and file<br />
  Name &quot;Call back test&quot;<br />
  OutFile &quot;Test1.exe&quot;<br />
<br />
  ;Default installation folder<br />
  InstallDir &quot;c:\temp&quot;<br />
    <br />
;--------------------------------<br />
;Interface Settings<br />
<br />
  !define MUI_ABORTWARNING<br />
<br />
;--------------------------------<br />
;Pages<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_DIRECTORY<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
  <br />
  !insertmacro MUI_UNPAGE_CONFIRM<br />
  !insertmacro MUI_UNPAGE_INSTFILES<br />
  <br />
;--------------------------------<br />
;Languages<br />
 <br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
;--------------------------------<br />
;Installer Sections<br />
Section &quot;Install&quot;<br />
<br />
SectionEnd<br />
;--------------------------------<br />
;Uninstaller Section<br />
<br />
Section &quot;Uninstall&quot;<br />
<br />
  ;ADD YOUR OWN FILES HERE...<br />
<br />
  Delete &quot;$INSTDIR\Uninstall.exe&quot;<br />
<br />
  RMDir &quot;$INSTDIR&quot;<br />
<br />
  DeleteRegKey /ifempty HKCU &quot;Software\Modern UI Test&quot;<br />
<br />
SectionEnd<br />
<br />
<br />
Function .onNextPage<br />
    MessageBox MB_OK &quot;.onNextPage&quot;	<br />
	<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jammusi</div><div class="date">29th December 2009, 12:19</div></div><div class="posttext">this is not supported with v2 and above</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">29th December 2009, 12:58</div></div><div class="posttext">.onNextPage is an old NSIS 1.x callback function and it's no longer used in NSIS 2.x. In NSIS 2.x use the page callbacks.<br />
<br />
Example:...<br />
Page components &quot;&quot; &quot;&quot; componentsLeave<br />
...<br />
<br />
Function componentsLeave<br />
MessageBox MB_OK &quot;componentsLeave&quot;<br />
<br />
FunctionEnd<br />
<br />
Same code with MUI:...<br />
!define MUI_PAGE_CUSTOMFUNCTION_LEAVE componentsLeave<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
...<br />
<br />
Function componentsLeave<br />
MessageBox MB_OK &quot;componentsLeave&quot;<br />
<br />
FunctionEnd<br />
<br />
PaR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jammusi</div><div class="date">29th December 2009, 14:09</div></div><div class="posttext">Thanks mate.<br />
<br />
As i understand it is not supported for the welcome page.<br />
What i need though is force reboot after welcome.<br />
<br />
How can i do that?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">29th December 2009, 14:42</div></div><div class="posttext">Use the welcome's Leave function?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jammusi</div><div class="date">29th December 2009, 15:18</div></div><div class="posttext">How to do that? <br />
<br />
The following line is not being compiled:<br />
<br />
!insertmacro MUI_PAGE_WELCOME &quot;&quot; &quot;&quot; WelcomeAfterLeave<br />
<br />
The error is:<br />
<br />
!insertmacro: macro &quot;MUI_PAGE_WELCOME&quot; requires 0 parameter(s), passed 3!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">29th December 2009, 16:01</div></div><div class="posttext">{_trueparuex^} just told you how to do it...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jammusi</div><div class="date">29th December 2009, 16:22</div></div><div class="posttext">thanks - but apparently i didn't understand what u mean. If it helps - I am new to NSIS.<br />
What I did is what i thought you meant - plus what I read in the NSIS help file being installed with the NSIS 2.4.6.<br />
<br />
Can you be please more specific. What is the welcome's leave function?<br />
Just address me where I can read about that.<br />
Just to be clear - is it supported with the welcome MUI page?<br />
<br />
Tx<br />
<br />
Jammusi</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jammusi</div><div class="date">29th December 2009, 20:01</div></div><div class="posttext">Ok guys.<br />
I figured this out.<br />
<br />
Thanks a lot ;-)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>