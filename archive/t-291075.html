<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Referencing Section index beofre it's declared, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Referencing Section index beofre it's declared NSIS Discussion" />
	
	<title> Referencing Section index beofre it's declared [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Referencing Section index beofre it's declared</div>
<hr />
<div class="pda"><a href="t-291075.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=291075">Referencing Section index beofre it's declared</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">30th April 2008, 16:52</div></div><div class="posttext">I have a problem similar to the below, where I have a sectiongroup with three sections in it, and if at least one of those sections is selected, I want to first install some files  required by all sections.  So I have something like the below, but it does not compile because the hidden section is referencing the symbol ${Sec_ThisGroup} which is not yet defined.  Any ideas on how I can work around this?  I'm going to be encountering this in several places.  <br />
<br />
<br />
Section &quot;-Hidden common&quot;<br />
Section RO<br />
  ${If} ${SectionIsSelected} ${Sec_ThisGroup}<br />
  ${OrIf} ${SectionIsPartiallySelected} ${Sec_ThisGroup}<br />
    ;Install common files<br />
  ${EndIf}    <br />
SectionEnd<br />
<br />
SectionGroup &quot;this group&quot; Sec_ThisGroup<br />
Section &quot;Blah 1&quot;<br />
<br />
SectionEnd<br />
Section &quot;Blah 2&quot;<br />
<br />
SectionEnd<br />
Section &quot;Blah 3&quot;<br />
<br />
SectionEnd<br />
SectionGroupEnd<br />
<br />
<br />
Instead of using the If SectionIsSelected, a less elegant alternative is that I place code in the onSelChange or components page leave callback, that enables and disables the hidden common section, but I'd need that also in the oninit in case the installer is run silently.  I figured it would be much easier to maintain if I just had a hidden section before the other section, because it will be run regardless of whether it's silent or not.  As I add more logic to handle certain silent install scenarios, my code is getting pretty tangled and more difficult to handle.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">30th April 2008, 17:07</div></div><div class="posttext">Maybe there should be a mandatory waiting period before posting :)  I thought I was at a dead end but right after I posted I reallized I could declare a function after the section declarations, but call the function from the first section, and basically nest all the logic within that function, then the section index will be declared when the compiler reaches the function, but the code at runtime will be run from the first section.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>