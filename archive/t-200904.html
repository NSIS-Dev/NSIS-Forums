<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Logging a recursive Rename..., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Logging a recursive Rename... NSIS Discussion" />
	
	<title> Logging a recursive Rename... [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Logging a recursive Rename...</div>
<hr />
<div class="pda"><a href="t-200904.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=200904">Logging a recursive Rename...</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">2nd December 2004, 10:55</div></div><div class="posttext">Hi, gotta tough one for you guys (I think). Work Internet connection is slightly dodgy so I haven't been able to browse through searching etc. for very long, but I will continue to do that as well as post this.<br />
<br />
I need to log all files written to the hard drive in a text file (separate from my install.log, this is a filelist.log) as a requirement for the installer. Easy enough for normal files, I just have a macro which adds files, does error checking and logs to the 2 logfiles if successful.<br />
<br />
However I also have a .zip file which needs to be extracted (can do that), and have each file extracted logged in filelist.log (can't do that). I used to capture the unzip.exe output and place that in a text file, but that gives more output than I want (says things like &quot;inflating...&quot; etc). All I want is the filename of each extracted file.<br />
<br />
Any ideas of how I can do this? One thought of mine was to extract to a temporary directory, then move each file in turn to the actual directory, while recording where I put the file in the filelist.log. The .zip file is reasonably volatile so I can't predict what will be in it other than to say that inside the .zip there are various folders (which are always there, I can predict their names) and inside each folder is an unknown number of files.<br />
<br />
Does that make sense? Any help muh appreciated. I'm here if you need me to clarify my problem.<br />
<br />
Cheers guys<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">2nd December 2004, 13:54</div></div><div class="posttext">C'mon guys 11 views, no replies, what's going on? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">2nd December 2004, 16:20</div></div><div class="posttext">If you are using the unzip.exe from Info-ZIP, you could use its built-in &quot;ZipInfo&quot; feature to generate a list of filenames/paths from the zip file.<br />
<br />
Here is a snippet showing the output from the command &quot;unzip -Z -1 nsis.zip&quot;<br />
<br />
NSIS/Examples/Modern UI/<br />
NSIS/Examples/Modern UI/CVS/<br />
NSIS/Examples/Modern UI/CVS/Root<br />
NSIS/Examples/Modern UI/CVS/Repository<br />
NSIS/Examples/Modern UI/CVS/Entries<br />
NSIS/Examples/Modern UI/Basic.nsi<br />
NSIS/Examples/Modern UI/HeaderBitmap.nsi<br />
NSIS/Examples/Modern UI/InstallOptions.nsi<br />
NSIS/Examples/Modern UI/MultiLanguage.nsi<br />
NSIS/Examples/Modern UI/StartMenu.nsi<br />
NSIS/Examples/Modern UI/WelcomeFinish.nsi<br />
NSIS/Examples/Modern UI/ioA.ini<br />
NSIS/Examples/Modern UI/ioB.ini<br />
NSIS/Examples/Modern UI/ioC.ini<br />
<br />
To find out more, read the documentation provided with UnZip or at least the built-in help (&quot;unzip -help&quot; and &quot;unzip -Z&quot;)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>