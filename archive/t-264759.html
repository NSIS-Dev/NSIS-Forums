<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI_PAGE_DIRECTORY : customize &quot;Destination folder&quot;, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI_PAGE_DIRECTORY : customize &quot;Destination folder&quot; NSIS Discussion" />
	
	<title> MUI_PAGE_DIRECTORY : customize &quot;Destination folder&quot; [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI_PAGE_DIRECTORY : customize &quot;Destination folder&quot;</div>
<hr />
<div class="pda"><a href="t-264759.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264759">MUI_PAGE_DIRECTORY : customize &quot;Destination folder&quot;</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Bertrand_M23</div><div class="date">31st January 2007, 17:42</div></div><div class="posttext">Hello,<br />
<br />
i would like to customize the destination folder of the &quot;MUI_PAGE_DIRECTORY&quot;. <br />
<br />
Here is my code : <br />
<br />
Section<br />
IfFileExists D:\*.* +1 nodiskD<br />
CreateDirectory &quot;D:\abracadabra&quot;<br />
iferrors nodiskD<br />
RMDir /r &quot;D:\abracadabra&quot;<br />
StrCpy $0 &quot;D:\DKS&quot;<br />
;MessageBox MB_OK &quot;$0&quot;<br />
goto +3<br />
nodiskD:<br />
;Default installation folder is windows' one<br />
StrCpy $0 &quot;%SYSTEMDRIVE%\DKS&quot;<br />
SectionEnd<br />
	<br />
InstallDir $0<br />
<br />
But &quot;InstallDir&quot; doesn't work even with &quot;$0&quot; instead of $0<br />
<br />
So here is my first questions : <br />
<br />
Does anybody could tell my how to make my code works fine ???<br />
<br />
I've found in that forum a way to customize the &quot;MUI_PAGE_DIRECTORY&quot; using &quot;!define MUI_PAGE_CUSTOMFUNCTION_SHOW ShowDirectoryPage&quot; as shown here : <br />
http://forums.winamp.com/showthread.php?threadid=214898<br />
<br />
But i didn't found any way to customize the &quot;Destination folder&quot;. <br />
<br />
So here ic mu second question : <br />
How to customize the &quot;Destination Folder&quot; ?<br />
<br />
Thanks for reading that topic ... <br />
<br />
Bert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Bertrand_M23</div><div class="date">31st January 2007, 17:44</div></div><div class="posttext">here the URL : &quot;http://forums.winamp.com/showthread.php?threadid=214898&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">31st January 2007, 18:44</div></div><div class="posttext">InstallDir is compile time instruction you can't set it at run time.<br />
<br />
Yet, I can't understand exactly what you're doing in the section.<br />
I you want to perform some action and set the $INSTDIR regarding to IfFileExists you need to do it in function .onInit.<br />
<br />
What does mean customize destination folder?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Bertrand_M23</div><div class="date">31st January 2007, 19:12</div></div><div class="posttext">In fact i had the destination folder shown in the specific page, if i write : <br />
InstallDir &quot;D:\Sample&quot; : it works, but it's not so easy due to my check explained in my first topic. <br />
<br />
If i do : <br />
StrCmp $0 &quot;D:\Sample&quot;<br />
InstallDir $0 : it doesn't work ... ;-(<br />
<br />
And to respond to you : &quot;Remark&quot;<br />
What i mean ... well ... from what i've found, it's possible to change text of that page so i thougth i could do the same with that section ... for example : <br />
&quot;GetDlgItem $1 $0 1023 ; IDC_SPACEREQUIRED<br />
System::Call 'user32.dll::ShowWindow(i, i) v($1, 0)' : <br />
this code allows to mask the space required information. <br />
<br />
But if someone found the solution, my remark above is obsolete<br />
<br />
Thanks to take time to read me ... <br />
<br />
Bert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">31st January 2007, 19:49</div></div><div class="posttext">You may want to read the manual 4.8.1.21 InstallDir<br />
You can set the InstallDir at compile time and change it at run time within .onInit function e.g. StrCpy &quot;$INSTDIR&quot; &quot;$0&quot;.<br />
<br />
This wiki page might help you start dealing with ui controls and how you could change them at run time,<br />
<br />
http://nsis.sourceforge.net/Demonstrating_Page%27s_Custom_Functions_Pre_Show_Leave</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>