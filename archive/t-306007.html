<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI2 and NSD_CreateIPaddress font blow-up, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI2 and NSD_CreateIPaddress font blow-up NSIS Discussion" />
	
	<title> MUI2 and NSD_CreateIPaddress font blow-up [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI2 and NSD_CreateIPaddress font blow-up</div>
<hr />
<div class="pda"><a href="t-306007.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=306007">MUI2 and NSD_CreateIPaddress font blow-up</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">grs1961</div><div class="date">4th May 2009, 07:10</div></div><div class="posttext">Hi,<br />
Usisng NSIS 2.44.<br />
<br />
When I create a custom page that uses NSD_CreateIPaddress while traversing the usual sequence of MUI2 pages, the fonts in the headers and buttons get set to a different size, which of course means that things no longer fit.  To emphasis, this change occurs when the custom page is displayed, and is sticky, backing through the pages keeps the new value.<br />
<br />
I have a custom onGuiInit inserted, using:<br />
  !define MUI_CUSTOMFUNCTION_GUIINIT myGUIInit<br />
<br />
  Function myGUIInit<br />
    ${NSD_InitIPaddress}<br />
    Pop $0<br />
    IntCmp $0 0 0 +3 +3<br />
    MessageBox MB_OK &quot;IPaddress control borked&quot;<br />
    Abort<br />
  FunctionEnd<br />
essentially copied from the wiki.<br />
<br />
If I replace NSD_CreateIPaddress with another NSD_Create* function, it all works fine.<br />
<br />
Suggestions?<br />
<br />
Or should I not use NSD_CreateIPaddress, and instead use a simple text entry and check that for validity?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">4th May 2009, 12:34</div></div><div class="posttext">( for reference, the WiKi page: http://nsis.sourceforge.net/NsDialogs_CreateIPaddress )<br />
<br />
hm.. can't say I've seen anything of the sort happening, but I suppose it's possible that *something* in the init routines...<br />
<br />
System::Call &quot;*$1(i 8, i ${ICC_INTERNET_CLASSES})&quot;<br />
System::Call 'comctl32::InitCommonControlsEx(i r1) i .r0'<br />
<br />
...causes issues.. but I have no idea how.<br />
<br />
the alternative - creating your own IP validation bits - is entirely possible but a bit of a PITA to setup.. i.e. checking whether it's a valid IP address, not being able to easily limit user input, etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grs1961</div><div class="date">5th May 2009, 06:06</div></div><div class="posttext">Originally posted by Animaether <br />
the alternative - creating your own IP validation bits - is entirely possible but a bit of a PITA to setup.. i.e. checking whether it's a valid IP address, not being able to easily limit user input, etc.<br />
<br />
Yes, I've given up on it, I was going to have an either/or enter name or IP address, but now I will just use a single entry, if it starts with an alpha it's assumed to be a name, and I'll use ValidateIP from http://nsis.sourceforge.net/Validate_IP_function for anything else.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>