<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" disabling component checkbox based on variable, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  disabling component checkbox based on variable NSIS Discussion" />
	
	<title> disabling component checkbox based on variable [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  disabling component checkbox based on variable</div>
<hr />
<div class="pda"><a href="t-277995.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=277995">disabling component checkbox based on variable</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jatinkulkarni</div><div class="date">27th September 2007, 17:35</div></div><div class="posttext">I want to disable a component checkbox based on value contained in one of the variables. Here is the code I tried to use.<br />
<br />
Section /o &quot;Server&quot;<br />
	${If} $UserRegValue != '1111 2222 3333 4444'<br />
		SectionIn RO<br />
	${EndIf}<br />
SectionEnd <br />
<br />
<br />
The problem is that the checkbox is disabled even if $UserRegValue contains string '1111 2222 3333 4444'. How do I achieve conditional disabling of checkbox ?<br />
<br />
regards,<br />
Jatin.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th September 2007, 18:31</div></div><div class="posttext">SectionIn is compile time only. To disable it on runtime, add the SF_RO flag using the macros in Sections.nsh.Section /o Server Server_SEC<br />
SectionEnd<br />
Function .onInit<br />
${If} $UserRegValue != '....'<br />
!insertmacro SetSectionFlag ${Server_SEC} ${SF_RO}<br />
${EndIf}<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jatinkulkarni</div><div class="date">27th September 2007, 19:20</div></div><div class="posttext">thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">15th May 2008, 20:27</div></div><div class="posttext">Hi Kichik,<br />
<br />
I tried your idea, but it didn't work since function .OnInit is run at the begining of the script when value $UserRegValue is not set yet. Or I did some wrong?<br />
Can you give me more details?<br />
<br />
Thanks,<br />
<br />
Jue</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th May 2008, 20:36</div></div><div class="posttext">$UserRegValue is a specific variable for jatinkulkarni's script. You should replace that with whatever test you have in your script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">15th May 2008, 20:49</div></div><div class="posttext">Actually I use variable R9 instead, but it is not set at the begining.<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">15th May 2008, 21:11</div></div><div class="posttext">More ideas?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th May 2008, 21:34</div></div><div class="posttext">If you don't set it, it won't be set.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">15th May 2008, 21:54</div></div><div class="posttext">But it is set afterwards. <br />
I would like to set the variable afterwards and then base on the value of the variable to disable a section in component page<br />
<br />
Thanks for your answer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">15th May 2008, 22:14</div></div><div class="posttext">Hi, <br />
My problem is, the value of the variable will be set according to the selection by user, but function .onInit runs before this, so the value of the variable is not set at that time.<br />
<br />
Thanks for your reply.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th May 2008, 22:29</div></div><div class="posttext">Then don't set the component selection in .onInit. Set it as soon as you can set $R9. As long as it's before the components page is displayed, it should be good enough.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">15th May 2008, 22:59</div></div><div class="posttext">The value I can set when I leave the custom page. <br />
All the sections will show up in component page. Am I wrong? So where can I check the value of the variable and then set the section to be disabled?<br />
<br />
Thanks in advance.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>