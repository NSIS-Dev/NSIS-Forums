<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Deleting registry value under HKCU wow6432node, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Deleting registry value under HKCU wow6432node NSIS Discussion" />
	
	<title> Deleting registry value under HKCU wow6432node [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Deleting registry value under HKCU wow6432node</div>
<hr />
<div class="pda"><a href="t-306016.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=306016">Deleting registry value under HKCU wow6432node</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mustafacity</div><div class="date">4th May 2009, 13:37</div></div><div class="posttext">Hi,<br />
<br />
I am having trouble trying to delete a registry entry at the following location on Vista 64 bit:<br />
<br />
HKEY_CURRENT_USER\Software\classes\virtualStore\Machine\Software\Wow6432Node\JavaSoft\Prefs\AppName\<br />
<br />
I have already tried to use SetRegValue 32 in order to try to delete the key, but having no luck could someone share some light or provide me with some help as to how can I delete a registry value at this location?<br />
<br />
Many thanks in advance<br />
<br />
Musafa</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mustafacity</div><div class="date">4th May 2009, 15:11</div></div><div class="posttext">I guess no one has encountered this kind of problem before?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">4th May 2009, 15:14</div></div><div class="posttext">do you have RequestExecutionLevel in your script? Vista will not redirect to the virtualstore if you have a &quot;vista manifest&quot;<br />
<br />
You could use Process Monitor from sysinternals to see where the problem is, with the virtualStore or Wow6432Node part of the path</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mustafacity</div><div class="date">4th May 2009, 15:34</div></div><div class="posttext">Hi Anders,<br />
<br />
Many thanks for replying.<br />
<br />
The problem is that these registry entries are not actually inserted by the nsi script. They get inserted from the Java code. Hence, I was looking for a way of deleting a registry value within that location. Is there no way to make nsis script to see the full registry location that way I can put in the full path to the key?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mustafacity</div><div class="date">4th May 2009, 18:14</div></div><div class="posttext">Any ideas anyone? I have found an alternative solution which is to use AutoIt which would allow me to get around this problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mustafacity</div><div class="date">5th May 2009, 10:00</div></div><div class="posttext">I realise I may not have explained this well.  I am trying to remove the effects of VirtualStore on a 64-bit PC running 32-bit processes.<br />
<br />
I have a piece of legacy software which wrote to the system registry and was virtualised to a user registry location within HKCU &quot;Software\Classes\VirtualStore\MACHINE\SOFTWARE\wow6432node&quot;.<br />
<br />
I want to erase this.  But whenever I try to write/delete registry entries using this full path, I get values appearing/deleting in a different place, and the above location remains unchanged.<br />
<br />
Place I'm trying to write/delete:<br />
HKCU &quot;Software\Classes\VirtualStore\MACHINE\SOFTWARE\wow6432node&quot;<br />
<br />
Places I get (depending on SetRegView 32):<br />
HKCU &quot;Software\Classes\&quot;<br />
HKCU &quot;Software\classes\wow6432Node\&quot;<br />
<br />
Places I get (depending on SetRegView 64):<br />
HKCU &quot;Software\classes\virtualstore\machine\software\&quot;<br />
HKCU &quot;Software\classes\wow6432Node\virtualStore\machine\software\&quot;<br />
<br />
Is there any way of enabling &quot;raw&quot; access to the exact registry path I am specifying, without any of this &quot;VirtualStore&quot; and &quot;Wow6432Node&quot; messing about Windows is doing for me within the user registry?  Or is this a bug in NSIS?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th May 2009, 10:57</div></div><div class="posttext">If the legacy application was redirected to that registry location then why can't your NSIS script just delete from the original registry path?<br />
<br />
I assume it would just be:<br />
HKEY_CURRENT_USER\Software\JavaSoft\Prefs\AppName\<br />
<br />
Sorry if I do not have this correct.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">5th May 2009, 15:55</div></div><div class="posttext">why can't you go after the the redirected path?<br />
<br />
SetRegView 64 + &quot;Software\classes\virtualStore\Machine\Software\Wow6432Node\JavaSoft\Prefs\AppName\&quot; ?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>