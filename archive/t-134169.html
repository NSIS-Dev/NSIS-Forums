<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Bugs with Section management, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Bugs with Section management NSIS Discussion" />
	
	<title> Bugs with Section management [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Bugs with Section management</div>
<hr />
<div class="pda"><a href="t-134169.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=134169">Bugs with Section management</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">veekee</div><div class="date">3rd May 2003, 22:08</div></div><div class="posttext">Hi<br />
<br />
I'll take a basic script : one-section.nsi (in Examples folder). I'll use the macros (because it's more simpler to write ;) ) !<br />
If i change the<br />
!insertmacro SelectSection ${sec1}<br />
into<br />
!insertmacro UnselectSection ${sec1}<br />
<br />
... the 1st section should normally unselected ! That's what i expected ! That's not what happends...<br />
The first section's still selected :(<br />
<br />
I hope you'll fix that soon ;)<br />
<br />
Regards<br />
<br />
Julien</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">3rd May 2003, 22:23</div></div><div class="posttext">What do you mean? It works fine for me. If you want to change the required section, you have to add a define to the Section command.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">veekee</div><div class="date">3rd May 2003, 22:55</div></div><div class="posttext">Hi<br />
<br />
Here is the new .oninit function for the one-section.nsi ...<br />
Function .onInit<br />
	Push $0<br />
	StrCpy $1 ${sec1} ; Gotta remember which section we are at now...<br />
	!insertmacro UnselectSection ${sec1}<br />
	!insertmacro UnselectSection ${sec2}<br />
	!insertmacro UnselectSection ${sec3}<br />
	!insertmacro UnselectSection ${sec4}<br />
	Pop $0<br />
FunctionEnd<br />
<br />
As i said, i'm using the macros.. the only change between that script and the original one is that i want that sec1 section is unselected !<br />
<br />
I'm using yestreday's cvs snapshot, and for this do not work !<br />
The sec1 section is still selected :( !<br />
Do i understand badly the use of these macros ?<br />
<br />
Regards<br />
<br />
Julien</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">4th May 2003, 11:20</div></div><div class="posttext">That's because one-section.nsi always selects one section, that's what .onSelChange does. Remove that function and it works.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">veekee</div><div class="date">4th May 2003, 13:50</div></div><div class="posttext">I'm confused.. i tried to get a simple example for my problem and i gave a wrong one !<br />
In fact, there's an additionnal parameter, : in my installer i have several install types. The section i want to unselect belongs to the default install type (which is displayed by default). Because of that, my setting is overwritten when the component page is displayed. Raaaaaah, i'll have to find another way to unselectect it (maybe by removing it from all install types....) !<br />
<br />
Thanks for answers !</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>