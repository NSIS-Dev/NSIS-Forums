<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Large Installer corrupt on Win98 - works on XP, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Large Installer corrupt on Win98 - works on XP NSIS Discussion" />
	
	<title> Large Installer corrupt on Win98 - works on XP [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Large Installer corrupt on Win98 - works on XP</div>
<hr />
<div class="pda"><a href="t-255949.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255949">Large Installer corrupt on Win98 - works on XP</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">MatthewHarmon</div><div class="date">21st September 2006, 23:08</div></div><div class="posttext">Ok, I have built an installer using 2.10 and the ultra-modern UI addon.  The installer is about 530MB.  Works great in XP under lots of testing on lots of systems.  However, on 98SE I get the corrupt file message.  If I build a smaller installer from the same script (just fewer files), it works fine.<br />
<br />
Any ideas?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MatthewHarmon</div><div class="date">21st September 2006, 23:14</div></div><div class="posttext">For what it's worth, the installer seems to work fine on 98 if I give it the /NCRC flag - although I hate to do that.  Can the CRC overflow somehow?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd September 2006, 11:13</div></div><div class="posttext">I have never heard or had problems with large installers on Windows 9x. Have you made the sure the file isn't corrupt? Try comparing MD5 sums.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">22nd September 2006, 11:24</div></div><div class="posttext">And if the MD5 sums were identical and if you have AV running on that win98 try to close it temporarily and try if it then works.<br />
<br />
If my memory serves me well, there was a case when the AV caused the CRC check to fail.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MatthewHarmon</div><div class="date">22nd September 2006, 16:17</div></div><div class="posttext">Yes, the installer is absolutely not corrupt, and on the Win98 machine there is no AV software running.  As I said, everything works fine (install is flawless) if I just skip the checksum.<br />
<br />
I hate to disable the checksum feature :-(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd September 2006, 18:13</div></div><div class="posttext">Just to be sure, I've tested with a 700MB installer. Works fine like always. I didn't get from your reply how you made sure it's really not corrupt. Going just by the fact the installer worked is not enough. The change can be subtle enough for you to not notice, but it may still be corrupt. Can you confirm you've compared the MD5 sums?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MatthewHarmon</div><div class="date">22nd September 2006, 18:59</div></div><div class="posttext">- I simply copy the installer to the Win98 machine over the network, so no FTP / HTTP transfer issues to get in the way.<br />
<br />
- Second, I copied it about 3 more times as I was, myself, convinced it must have been a corrupt copy.  (However, never in 20 years of software development have I had a corrupt network copy.)<br />
<br />
- Third, I checked the MD5 :-)<br />
<br />
Now, not sure if this is at all related, but I noticed that the installer file's icon is not showing up in the Win98 Explorer.  I see the default app icon instead.  If I do a properties, I see the correct icon.  <br />
<br />
Now, I can't be 100% sure, but this icon issue &gt;seemed&lt; to start happening after the installer got &quot;big&quot; - over 500 meg or so.  Oddly enough, if I browse the folder from an XP machine, I see the icon!<br />
<br />
Strange, I know.  I'll keep trying things and see if I uncover any more clues.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd September 2006, 20:34</div></div><div class="posttext">The icon issue is not related. Explorer simply ignores the icons for large executables.<br />
<br />
My best guess would be some sort of hardware failure. Probably RAM problem since it is able to read the entire installer without failing the decompression. If you want to get to the bottom of this, try running on other Windows 98 machines and try compiling a version with some debug messages around the CRC check code (Source\exehead\fileform.c).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>