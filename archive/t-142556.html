<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Please - Need help debugging this code that plays with sections, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Please - Need help debugging this code that plays with sections NSIS Discussion" />
	
	<title> Please - Need help debugging this code that plays with sections [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Please - Need help debugging this code that plays with sections</div>
<hr />
<div class="pda"><a href="t-142556.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=142556">Please - Need help debugging this code that plays with sections</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mhollander</div><div class="date">17th July 2003, 18:39</div></div><div class="posttext">Please could someone look at this code and tell me why the tree structure comes undone.<br />
<br />
This is an excerpt of a very large script and I need it to work this way as it is part of an installation - step by step wizard.<br />
<br />
I have attached a sample script.<br />
<br />
Requirements:<br />
The options must be deselected by default<br />
The options must be hidden by default<br />
<br />
Depending on certain conditions these options will be enabled.<br />
<br />
In short need to apply the filter as seen in the script.:igor:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th July 2003, 18:44</div></div><div class="posttext">It's a known issue. You can't hide a subsection without ruining the tree unless you hide the subsection closure too. Get the id of the last section in the subsection, add 1 (using IntOp), set its name to &quot;&quot; and remove the SF_SUBSEC flag from it.<br />
<br />
We intend to make NSIS automatically hide subsections if they're emtpy. It's on the TODO.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mhollander</div><div class="date">17th July 2003, 18:46</div></div><div class="posttext">Could you give me an example as I am not sure what you are getting at.<br />
<br />
:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th July 2003, 18:54</div></div><div class="posttext">SubSection bla<br />
Section blue SecID<br />
SectionEnd<br />
SubSectionEnd<br />
<br />
...<br />
<br />
IntOp $0 ${SecID} + 1<br />
SectionSetText $0 &quot;&quot;<br />
SectionSetFlags $0 0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mhollander</div><div class="date">18th July 2003, 16:17</div></div><div class="posttext">Hi Kichik,<br />
<br />
I am trying to make sense of the example. Please excuse me if I appear to be extremely thick. <br />
<br />
Could you please use the example I posted with your proposed changes, so that I can see how it would be implemented. I do not quite get the current example given. It would be appreciated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th July 2003, 16:22</div></div><div class="posttext">blue is the last section in the subsection bla. Therefore we take its section ID, add one and get the ID of the closing section. That section we hide too.<br />
<br />
I won't apply that to your example, it's huge.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mhollander</div><div class="date">21st July 2003, 12:07</div></div><div class="posttext">Thanks,<br />
Kichik.<br />
<br />
I have included an updated script for newbies like myself that have battled with this a working example.<br />
<br />
<br />
<br />
:cool:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>