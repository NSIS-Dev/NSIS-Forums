<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI Help, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI Help NSIS Discussion" />
	
	<title> MUI Help [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI Help</div>
<hr />
<div class="pda"><a href="t-213587.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=213587">MUI Help</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tatsudoshi</div><div class="date">19th April 2005, 15:49</div></div><div class="posttext">Hello people..<br />
<br />
I am trying to migrate to the MUI system, but I cannot find the info I need (properly because of me :weird: )<br />
Anyway..I would like the users to be able to (de)select weather they want to have shortcuts or not. First of I do not know how to add components to the MUI_PAGE_COMPONENTS, second I cannot figure out how to make the !insertmacro MUI_PAGE_STARTMENU page dynamic in terms of when users deselect the option to have shortcuts, the page shoul not be shown.<br />
<br />
If I am not clear enough about my troubles, please ask me to clarify.<br />
<br />
Best regards :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">glory_man</div><div class="date">19th April 2005, 16:49</div></div><div class="posttext">Each section is a component for the user to choose from. So, to add components to the installation add new sections.<br />
<br />
second I cannot figure out how to make the !insertmacro MUI_PAGE_STARTMENU page dynamic in terms of when users deselect the option to have shortcuts, the page shoul not be shown.<br />
I think you need to use MUI_PAGE_CUSTOMFUNCTION_PRE - define.<br />
Put this define before inserting a StartMenu page macro and create function. Inside this function you can check selected or deselted the option to create shortcuts, and abort page execution if deselected.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tatsudoshi</div><div class="date">19th April 2005, 18:33</div></div><div class="posttext">Mmmh.. I see. But I have just realized that there is an embedded option to deselect shortcuts, so no need to check on it or script it. But thank you for the help ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">glory_man</div><div class="date">20th April 2005, 11:46</div></div><div class="posttext">Originally posted by tatsudoshi <br />
Mmmh.. I see. But I have just realized that there is an embedded option to deselect shortcuts, so no need to check on it or script it. But thank you for the help ;) <br />
<br />
What problem?<br />
Add Section named &quot;Shortcuts&quot;. Inside this section create shortcuts on desktop and other places. Code like this:<br />
....<br />
Function &quot;PageAbort&quot;<br />
  SectionGetFlags ${SecShort} $R1<br />
  IntOp $R1 $R1 &amp; 0x1<br />
  IntCmp $R1 1 allok abortpage<br />
abortpage:<br />
  abort<br />
allok:<br />
FunctionEnd<br />
<br />
....<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE &quot;PageAbort&quot;<br />
!insertmacro MUI_PAGE_STARTMENU Application $ICONS_GROUP<br />
<br />
....<br />
<br />
Section &quot;Shortcuts&quot; SecShort<br />
  CreateShortCut ...<br />
  CreateShortCut ...<br />
SectionEnd<br />
<br />
....<br />
<br />
If user select section &quot;Shortcuts&quot; then StartMenu page will be displayed and shortcuts created. If deselect -&gt; aborted and no shortcuts.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>