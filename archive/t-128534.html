<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" 2 questions: 1) Where is the &quot;\&quot;. 2)Detect &quot;no create shortcuts&quot;., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  2 questions: 1) Where is the &quot;\&quot;. 2)Detect &quot;no create shortcuts&quot;. NSIS Discussion" />
	
	<title> 2 questions: 1) Where is the &quot;\&quot;. 2)Detect &quot;no create shortcuts&quot;. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  2 questions: 1) Where is the &quot;\&quot;. 2)Detect &quot;no create shortcuts&quot;.</div>
<hr />
<div class="pda"><a href="t-128534.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=128534">2 questions: 1) Where is the &quot;\&quot;. 2)Detect &quot;no create shortcuts&quot;.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">15th March 2003, 18:14</div></div><div class="posttext">Two questions:<br />
<br />
1. I write in an ini file a path from a folder. <br />
   When the installer read<br />
   the ini and retrived the value, <br />
   it printed like this &quot;C:hellodir&quot;.<br />
   It suppost to be like this &quot;C:\hello\dir. <br />
   Is this normal? :igor:<br />
<br />
2. How can the Nsis detect if the user check <br />
   for &quot;no shortcuts in <br />
   start menu&quot; for installing another files? <br />
   :cool:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th March 2003, 18:35</div></div><div class="posttext">1. That is not normal, and I've never had that problem. Not sure why that is happening?<br />
2. Not sure what you mean.<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">15th March 2003, 19:03</div></div><div class="posttext">1. This is strange, please give more details about this or attach the script.<br />
<br />
2. I don't know. But this code can work (I didn't test before):<br />
<br />
<br />
StrCpy $0 0<br />
<br />
  !insertmacro MUI_STARTMENU_WRITE_BEGIN<br />
    <br />
    ;The shortcuts<br />
<br />
    StrCpy $0 1<br />
  !insertmacro MUI_STARTMENU_WRITE_END<br />
<br />
  StrCmp $0 0 0 +2<br />
    MessageBox MB_OK &quot;NO SHORTCUTS CHECKED&quot;<br />
<br />
<br />
I tested the code now, and it works!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th March 2003, 19:15</div></div><div class="posttext">1) You are probably using a label. Notice the docs:<br />
<br />
Text (optional) Specifies the caption of a label, checkbox, or radio button control. For icon and bitmaps control this specifies the path to the image.<br />
<br />
Note: For labels, \r\n will be converted to a newline.<br />
<br />
2) From StartMenu's Readme:<br />
<br />
If the user checked the no shortcuts checkbox the '&gt;' will be<br />
appended to the folder name.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">15th March 2003, 19:20</div></div><div class="posttext">Yes, it worked... but it's suppost to be:<br />
<br />
StrCmp $0 0 0 +1<br />
MessageBox MB_OK &quot;NO SHORTCUTS CHECKED&quot;<br />
<br />
<br />
to jump to the first like, in this case your messagebox<br />
<br />
:up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">15th March 2003, 19:29</div></div><div class="posttext">:down:  +1 is the same thing that 0, so will jump to next line, this mean that the message box always will be showed in your code.<br />
<br />
And an alternative code to detect after you leave the Start Menu Page:<br />
<br />
<br />
<br />
 !define MUI_CUSTOMFUNCTION_STARTMENU_LEAVE &quot;CheckedDetect&quot;<br />
<br />
Function CheckedDetect<br />
  Push $0<br />
  <br />
    StrCpy $0 ${MUI_STARTMENUPAGE_VARIABLE} 1<br />
    StrCmp $0 &quot;&gt;&quot; 0 NotChecked<br />
<br />
  Pop $0<br />
<br />
;When it is checked, will execute this code below:<br />
MessageBox MB_OK &quot;NO SHORTCUTS CHECKED&quot;<br />
<br />
Goto End<br />
NotChecked:<br />
;When it isn't checked, will execute this code below:<br />
<br />
<br />
End:<br />
;When it is or not checked, will execute this code below:<br />
<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">15th March 2003, 19:32</div></div><div class="posttext">After the start-menu page, I show a custom page with some info.<br />
captured by Nsis (Windows name, user name, ram, IE ver, installdir,<br />
etc.) and I wanna put a static label with &quot;yes&quot; or &quot;no&quot; if the user<br />
select the &quot;start menu&quot; checkbox.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th March 2003, 13:03</div></div><div class="posttext">On labels, use \\ to make a \.<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">16th March 2003, 18:03</div></div><div class="posttext">yeah! no wonder :p</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">16th March 2003, 20:47</div></div><div class="posttext">The codes that I'd posted here are at Archive too, plus a function to those that don't have the Modern UI:<br />
<br />
How to detect if &quot;Do not create shortcuts&quot; is checked  (http://nsis.sourceforge.net/archive/nsisweb.php?page=186)<br />
<br />
Or see my signature below:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">18th March 2003, 23:47</div></div><div class="posttext">ok, I know that \\ = \ in IO.<br />
But I wanna write a label text to put the $INSTDIR.<br />
And always return something like this:<br />
Normal: C:\path\hi :D<br />
Weird: C:pathhi :igor:<br />
<br />
anyone know the trick to put *auto* the \?<br />
<br />
thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">19th March 2003, 07:20</div></div><div class="posttext">Use the StrReplace Function (http://nsis.sourceforge.net/archive/nsisweb.php?page=124&amp;instances=0,11,122) in Archive.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">19th March 2003, 19:13</div></div><div class="posttext">already done that :p</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>