<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Several dialogs with Install Options, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Several dialogs with Install Options NSIS Discussion" />
	
	<title> Several dialogs with Install Options [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Several dialogs with Install Options</div>
<hr />
<div class="pda"><a href="t-85673.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=85673">Several dialogs with Install Options</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Nideco</div><div class="date">23rd April 2002, 17:29</div></div><div class="posttext">I'm trying to put in my installer 2 or more dialogs with Install Options DLL. I've tried everything to integrate them with my nsi but I canÂ´t. Has anybody done something like this? In the Install Options documentation there is an example that works ok, but only with one dialog. I need an example with more than 1 dialog.<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">23rd April 2002, 18:21</div></div><div class="posttext">Hi Nideco,<br />
<br />
take a look here: http://forums.winamp.com/showthread.php?s=&amp;threadid=70530&amp;highlight=RegCode<br />
<br />
It creates two pages in the installer: one where a user can insert his/her name and code, and one with the result of checking this code.<br />
<br />
Good luck, greetz,<br />
-Hendri.<br />
<br />
<br />
Actually, some typos where in the file at the link above. Fixed now. See the attachment. -Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nideco</div><div class="date">24th April 2002, 09:27</div></div><div class="posttext">Thank u for the code, Smile2me but it's not exactly what I'm looking for. The problem is that in 'regcode' when you are in the second dialog you disable the back button. I want to go backward and forward whenever I want. And I also want to call different .ini (to configure the dialogs), if it's possible.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">24th April 2002, 10:04</div></div><div class="posttext">The disabling of the back-button can be adapted, look at the source for this. It's not necessary to disable the back button. It's necessary in the context of the RegCode but not required.<br />
<br />
For the ini thing. You can call as many different ini's as you like. I just made some general function &quot;RunRegged&quot; to call the same ini twice because I modify the ini. It's also possible to use other ini's.<br />
<br />
What is important for you to know when using InstOpts for inserting pages is the construction in .onNextPage and in .OnPrevPage where the new pages are contructed. This is done using a counter for the page numbers (here $R9). When the page number is what you like it to be, insert a page.<br />
<br />
Summary, the things you want to do are all possible!<br />
<br />
Good luck,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nideco</div><div class="date">24th April 2002, 10:25</div></div><div class="posttext">I think the solution it's not so easy. The problem is that when you are in the dialog made with InstOpt you can't trigger the functions .OnPrevPage and .OnNextPage, so you have to capture $0 from the dialogs and simulate this events. Thus you can't call the InsOpt dialogs always from .OnPrevPage or .OnNextPage and this makes the code quite difficult.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">24th April 2002, 12:29</div></div><div class="posttext">Hi Nicedo,<br />
<br />
here is the source of two examples:<br />
the first displays two ini's that are not straight after each other;<br />
the second displays two ini's straight after each other.<br />
<br />
It is indeed not straightforward, but still possible...<br />
<br />
Good luck, let me know if this helps you out, greetz,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nideco</div><div class="date">24th April 2002, 15:22</div></div><div class="posttext">Thanks smile2me, it works!! it's really cool! :up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">24th April 2002, 22:29</div></div><div class="posttext">I struggled with multiple Install Options pages recently too, so I had a go at making the process a little easier to handle.<br />
<br />
Here's Hendri's two examples again using this possible method - note the differences between setup1.nsi and setup2.nsi (just 1 line changed, other than comments)!<br />
<br />
Hope someone finds this useful... :) <br />
<br />
-- <br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">25th April 2002, 10:43</div></div><div class="posttext">Nice work Dave!<br />
<br />
I knew my source was messy, but I got it to work and was happy with that :) Thx for clearing the source up!<br />
<br />
Greetz,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">25th April 2002, 22:27</div></div><div class="posttext">Originally posted by Smile2Me <br />
I knew my source was messy, but I got it to work and was happy with that :) Thx for clearing the source up!<br />
<br />
Heh!  I've got nothing against your code :D  I just thought there must be a way to generalise the process a little!<br />
<br />
Now...  how can we make it even more efficient/configurable/etc... ;) <br />
<br />
-- <br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">28th April 2002, 09:35</div></div><div class="posttext">Well, here's a little modification of Dave's code. I changed the check for CustomPage. Now it's not necessary anymore to edit the script (add labels and checks for CustomPageD/E/F/...) if you want to add new pages. Just edit the definition of ${PAGES} and the code will do the rest.<br />
<br />
Now... how can we make it even more efficient/configurable/etc...This modification is a little contribution to achieving this goal, but the major achievement was that of Dave with his multini2.<br />
<br />
<br />
Have fun, greetz,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">28th April 2002, 23:02</div></div><div class="posttext">Hi Hendri<br />
<br />
Aha, I like it ;) <br />
<br />
Currently working on multini4...  (although a bug with the new !insertmacro has just held me back)...<br />
<br />
<br />
(this bug (http://forums.winamp.com/showthread.php?s=&amp;postid=547767#post547767)) <br />
<br />
<br />
-- <br />
Dave.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">15th May 2002, 21:50</div></div><div class="posttext">Originally posted by eccles <br />
Currently working on multini4...<br />
Mmm, I got a little sidetracked :hang: <br />
<br />
Any interest in me completing this? I started trying to turn it into a macro and more configurable (but hopefully not bringing in too much complexity again...)<br />
<br />
-- <br />
Dave.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">16th May 2002, 06:29</div></div><div class="posttext">Dave,<br />
<br />
I'm certainly interested in nice NSIS scripts! Try to complete your idea!<br />
<br />
Good luck,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">16th May 2002, 08:18</div></div><div class="posttext">Ok, will do... :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">7th June 2002, 00:16</div></div><div class="posttext">Ok, I can't put this off any longer.  You'll just have to have this the way it is :D <br />
<br />
Now included is CustomPages.nsh which defines a macro for encapsulating all the page number tracking, plus more.  Multini4.nsi uses this.<br />
<br />
I had ideas for other examples using the macro, but they'll have to wait :) <br />
<br />
Have fun!<br />
Dave.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">7th June 2002, 07:52</div></div><div class="posttext">Good work Dave!<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">11th June 2002, 08:47</div></div><div class="posttext">Using MultIni4 I redesigned RegCode for easy implementation. The script only needs an adjustment of the PAGES string if you have other components or if you want the pages to be displayed at another location in the installer.<br />
<br />
And of course your custom RegCode checker should be inserted, but that is easy, see the script. Currently the script has a tempentry to test the cases Valid/Invalid regcode. Delete this entry to make it a fully working script.<br />
<br />
Have fun,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">martijntijn</div><div class="date">5th November 2007, 10:39</div></div><div class="posttext">When i use the multiini4 and compile the nsi, i get the following two warnings:<br />
<br />
  install function &quot;.onNextPage&quot; not referenced - zeroing code (7-10) out<br />
<br />
  install function &quot;.onPrevPage&quot; not referenced - zeroing code (10-13) out<br />
<br />
<br />
And i don`t see the two options pages...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">martijntijn</div><div class="date">5th November 2007, 10:45</div></div><div class="posttext">[code]<br />
Function: &quot;.onUserAbort&quot;<br />
Error: Function named &quot;.onUserAbort&quot; already exists.<br />
[\code]<br />
<br />
What does it mean? This is functions exist only once in my nsi...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th November 2007, 10:53</div></div><div class="posttext">.onUserAbort is used by Modern UI.<br />
Use !define MUI_CUSTOMFUNCTION_ABORT MyOnUserAbort<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>