<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" how to change it, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  how to change it NSIS Discussion" />
	
	<title> how to change it [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  how to change it</div>
<hr />
<div class="pda"><a href="t-276569.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=276569">how to change it</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">51819</div><div class="date">28th August 2007, 01:51</div></div><div class="posttext">How to Construct components pages before the pre-set components according to the registry tick state?<br />
<br />
Why {SecB}/{SecC} is Mistakes? {SecA} is right? <br />
<br />
<br />
{SecA} value is 0<br />
{SecB} value is 1<br />
{SecC} value is 5<br />
<br />
<br />
!include &quot;MUI.nsh&quot;<br />
  OutFile &quot;test.exe&quot;<br />
<br />
  !define MUI_PAGE_CUSTOMFUNCTION_Pre ComponentsPre<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
<br />
  !insertmacro MUI_LANGUAGE &quot;ENGLISH&quot;<br />
<br />
Section &quot;A&quot; SecA<br />
SectionEnd<br />
<br />
Section &quot;B&quot; SecB<br />
SectionEnd<br />
<br />
Section &quot;C&quot; SecC<br />
SectionEnd<br />
<br />
Function ComponentsPre<br />
ReadRegStr $0 HKCU &quot;Software\Test&quot; &quot;SecA&quot;<br />
IfErrors +2<br />
  StrCmp $0 0 0 +2<br />
    SectionSetFlags ${SecA} 0<br />
<br />
ReadRegStr $0 HKCU &quot;Software\Test&quot; &quot;SecB&quot;<br />
IfErrors +2<br />
  StrCmp $0 0 0 +2<br />
    SectionSetFlags ${SecB} 0<br />
<br />
ReadRegStr $0 HKCU &quot;Software\Test&quot; &quot;SecC&quot;<br />
IfErrors +2<br />
  StrCmp $0 0 0 +2<br />
    SectionSetFlags ${SecC} 0<br />
<br />
Functionend</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th August 2007, 22:11</div></div><div class="posttext">Why not use Memento.nsh? It does all this automatically for you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">51819</div><div class="date">29th August 2007, 02:10</div></div><div class="posttext">Thanks sir.<br />
<br />
I had used Memento.nsh,error.<br />
<br />
have Other methods?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th August 2007, 18:52</div></div><div class="posttext">What error?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">51819</div><div class="date">30th August 2007, 12:04</div></div><div class="posttext">Command line:<br />
&quot;C:\Program Files\NSIS\makensis.exe&quot;  /NOTIFYHWND 263518  &quot;D:\07 b1\test.nsi&quot;<br />
<br />
MakeNSIS v2.28 - Copyright 1995-2007 Contributors<br />
See the file COPYING for license details.<br />
Credits can be found in the Users Manual.<br />
<br />
Processing config:<br />
Processing plugin dlls: &quot;C:\Program Files\NSIS\Plugins\*.dll&quot;<br />
 - AdvSplash::show<br />
 - Banner::destroy<br />
 - Banner::getWindow<br />
 - Banner::show<br />
 - BgImage::AddImage<br />
 - BgImage::AddText<br />
 - BgImage::Clear<br />
 - BgImage::Destroy<br />
 - BgImage::Redraw<br />
 - BgImage::SetBg<br />
 - BgImage::SetReturn<br />
 - BgImage::Sound<br />
 - DcryptDll::Decrypt<br />
 - DcryptDll::HexDecoder<br />
 - DcryptDll::HexEncoder<br />
 - DcryptDll::LoadStr<br />
 - DcryptDll::MD5Hash<br />
 - Dialer::AttemptConnect<br />
 - Dialer::AutodialHangup<br />
 - Dialer::AutodialOnline<br />
 - Dialer::AutodialUnattended<br />
 - Dialer::GetConnectedState<br />
 - ExecDos::exec<br />
 - ExecDos::isdone<br />
 - ExecDos::wait<br />
 - FindProcDLL::FindProc<br />
 - InstallOptions::dialog<br />
 - InstallOptions::initDialog<br />
 - InstallOptions::show<br />
 - InstallOptionsEx::dialog<br />
 - InstallOptionsEx::initDialog<br />
 - InstallOptionsEx::setFocus<br />
 - InstallOptionsEx::show<br />
 - KillProcDLL::KillProc<br />
 - LangDLL::LangDialog<br />
 - Locate::_Close<br />
 - Locate::_Find<br />
 - Locate::_GetSize<br />
 - Locate::_Open<br />
 - Locate::_RMDirEmpty<br />
 - Locate::_Unload<br />
 - Math::Script<br />
 - NSISArray::ArrayCount<br />
 - NSISArray::ArrayExists<br />
 - NSISArray::Clear<br />
 - NSISArray::Concat<br />
 - NSISArray::Copy<br />
 - NSISArray::Cut<br />
 - NSISArray::Debug<br />
 - NSISArray::Delete<br />
 - NSISArray::ErrorStyle<br />
 - NSISArray::Exists<br />
 - NSISArray::ExistsI<br />
 - NSISArray::FreeUnusedMem<br />
 - NSISArray::Join<br />
 - NSISArray::New<br />
 - NSISArray::Pop<br />
 - NSISArray::Push<br />
 - NSISArray::Put<br />
 - NSISArray::ReDim<br />
 - NSISArray::Read<br />
 - NSISArray::ReadToStack<br />
 - NSISArray::Reverse<br />
 - NSISArray::Search<br />
 - NSISArray::SearchI<br />
 - NSISArray::SetSize<br />
 - NSISArray::Shift<br />
 - NSISArray::SizeOf<br />
 - NSISArray::Sort<br />
 - NSISArray::Splice<br />
 - NSISArray::Swap<br />
 - NSISArray::Unload<br />
 - NSISArray::Unshift<br />
 - NSISArray::Write<br />
 - NSISArray::WriteList<br />
 - NSISArray::WriteListC<br />
 - NSISdl::download<br />
 - NSISdl::download_quiet<br />
 - Processes::FindDevice<br />
 - Processes::FindProcess<br />
 - Processes::KillProcess<br />
 - Splash::show<br />
 - StartMenu::Init<br />
 - StartMenu::Select<br />
 - StartMenu::Show<br />
 - System::Alloc<br />
 - System::Call<br />
 - System::Copy<br />
 - System::Free<br />
 - System::Get<br />
 - System::Int64Op<br />
 - System::Store<br />
 - TypeLib::GetLibVersion<br />
 - TypeLib::Register<br />
 - TypeLib::UnRegister<br />
 - UserInfo::GetAccountType<br />
 - UserInfo::GetName<br />
 - UserInfo::GetOriginalAccountType<br />
 - VPatch::vpatchfile<br />
 - WAnsis::config<br />
 - WAnsis::setskin<br />
 - WAnsis::skinit<br />
 - WAnsis::unskinit<br />
 - ZipDLL::extractall<br />
 - ZipDLL::extractfile<br />
 - inetc::get<br />
 - inetc::head<br />
 - inetc::post<br />
 - inetc::put<br />
 - md5dll::GetFileMD5<br />
 - md5dll::GetMD5<br />
 - md5dll::GetMD5File<br />
 - md5dll::GetMD5Random<br />
 - md5dll::GetMD5String<br />
 - newadvsplash::hwnd<br />
 - newadvsplash::play<br />
 - newadvsplash::show<br />
 - newadvsplash::stop<br />
 - newadvsplash::wait<br />
 - nsDialogs::Create<br />
 - nsDialogs::CreateItem<br />
 - nsDialogs::OnBack<br />
 - nsDialogs::OnChange<br />
 - nsDialogs::OnClick<br />
 - nsDialogs::Show<br />
 - nsExec::Exec<br />
 - nsExec::ExecToLog<br />
 - nsExec::ExecToStack<br />
<br />
!define: &quot;MUI_INSERT_NSISCONF&quot;=&quot;&quot;<br />
<br />
Changing directory to: &quot;D:\07 b1&quot;<br />
<br />
Processing script file: &quot;D:\07 b1\test.nsi&quot;<br />
!include: &quot;C:\Program Files\NSIS\Include\LogicLib.nsh&quot;<br />
!include: closed: &quot;C:\Program Files\NSIS\Include\LogicLib.nsh&quot;<br />
!include: &quot;C:\Program Files\NSIS\Include\Memento.nsh&quot;<br />
!include: closed: &quot;C:\Program Files\NSIS\Include\Memento.nsh&quot;<br />
Name: &quot;Memento&quot;<br />
OutFile: &quot;Memento.exe&quot;<br />
XPStyle: on<br />
ShowInstDetails: show<br />
Page: components<br />
Page: instfiles<br />
!define: &quot;MEMENTO_REGISTRY_ROOT&quot;=&quot;HKLM&quot;<br />
!define: &quot;MEMENTO_REGISTRY_KEY&quot;=&quot;SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\KB917953&quot;<br />
Function: &quot;.onInit&quot;<br />
!insertmacro: _If<br />
!insertmacro: end of _If<br />
Usage: ReadRegStr $(user_var: output) rootkey subkey entry<br />
   root_key=(HKCR|HKLM|HKCU|HKU|HKCC|HKDD|HKPD|SHCTX)<br />
Error in script &quot;D:\07 b1\test.nsi&quot; on line 26 -- aborting creation process</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st August 2007, 09:25</div></div><div class="posttext">What's the code you have used?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>