<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" !if !endif problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  !if !endif problem NSIS Discussion" />
	
	<title> !if !endif problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  !if !endif problem</div>
<hr />
<div class="pda"><a href="t-290289.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290289">!if !endif problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">WhiteRab</div><div class="date">15th April 2008, 19:23</div></div><div class="posttext">I try to use !if and !endif in the macro, but it always fails to check the if condition as below.  I'm noticed the text color of &quot;!if&quot; didn't change to green color as the !macro.  It shows in black color.  Does anybody know why it is wrong? I use NSIS version 2.36 <br />
<br />
!define BUILD_TYPE &quot;1&quot;<br />
<br />
!macro SET_BUILD_TYPE<br />
  !if ${BUILD_TYPE} == &quot;1&quot;<br />
      !define APP_NAME &quot;BETA&quot;<br />
  !else<br />
      !define APP_NAME &quot;FULL&quot;<br />
  !endif<br />
!macroend<br />
<br />
Thanks, Oai</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">15th April 2008, 20:19</div></div><div class="posttext">dont use a macro because no matter how many times you check it it will still come the same. and also if you call it more than once you will get an error as ${APP_NAME} will have already been defined<br />
<br />
try this<br />
<br />
<br />
!define BUILD_TYPE &quot;1&quot;<br />
<br />
!if ${BUILD_TYPE} == &quot;1&quot;<br />
!define APP_NAME &quot;BETA&quot;<br />
!else<br />
!define APP_NAME &quot;FULL&quot;<br />
!endif</div></div><hr />


<div class="post"><div class="posttop"><div class="username">WhiteRab</div><div class="date">15th April 2008, 23:01</div></div><div class="posttext">Thank Fabian!  your code works well without using a macro.  I'm wonder why the text color of &quot;!if&quot; is &quot;black&quot; not &quot;green&quot; as &quot;!endif&quot; in my application(HM NIS Edit toolkit).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>