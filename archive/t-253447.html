<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to control page priority, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to control page priority NSIS Discussion" />
	
	<title> How to control page priority [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to control page priority</div>
<hr />
<div class="pda"><a href="t-253447.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=253447">How to control page priority</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Tang</div><div class="date">17th August 2006, 09:07</div></div><div class="posttext">Hello all:<br />
  I want to install Mysql and then create a database with it.before Creating the database,I need to get the root password from the custom page that user input.<br />
  But when I run it,the custom page display before nstalling the Mysql.So I can't even have the Mysql installed and don't create the database at all .How can I control them?<br />
 My script just like this:<br />
...<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_LICENSE &quot;License.txt&quot;<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
<br />
;let user input the password<br />
 Page custom PGIni_DBPassword PGleave_DBPassword <br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
<br />
section &quot;Install Mysql&quot;<br />
...<br />
sectionEnd<br />
<br />
section &quot;Create Database&quot;<br />
...<br />
SectionEnd<br />
<br />
Please can somebody take a minute to help me,thx in advance!I had tested with ExecPri::ExecWait ,but it does't work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tang</div><div class="date">17th August 2006, 10:01</div></div><div class="posttext">I had use SetPriorityClass as below,but it does not work.Why? who can help me or give me some advice?<br />
define NORMAL_PRIORITY_CLASS   0x00000020<br />
!define IDLE_PRIORITY_CLASS     0x00000040<br />
!define HIGH_PRIORITY_CLASS     0x00000080<br />
!define REALTIME_PRIORITY_CLASS 0x00000100<br />
<br />
System::Call &quot;kernel32::GetCurrentProcess() i .s&quot;<br />
System::Call &quot;kernel32::SetPriorityClass(i s, i ${HIGH_PRIORITY_CLASS})&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th August 2006, 11:51</div></div><div class="posttext">The code in the sections is executed once the installer hits the instfiles page. Because of that, the code will not run until the user clicks the Install button and before all pages are passed.<br />
<br />
You should save the result of the input page in a variable or simply keep the INI file stored in $PLUGINSDIR. In the section code, read that variable or the INI file and use it after the server starts running.<br />
<br />
That SetPriorityClass call sets the priority for the installer. I don't see how it's related to your question.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>