<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Thought for my compiler program, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Thought for my compiler program NSIS Discussion" />
	
	<title> Thought for my compiler program [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Thought for my compiler program</div>
<hr />
<div class="pda"><a href="t-132869.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=132869">Thought for my compiler program</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd April 2003, 18:57</div></div><div class="posttext">I just thought - right now I have two modes of compiling..<br />
<br />
1. Compile in LogWindow &amp; then write to log file<br />
2. Execute compilers as normal - they open up in an ms-dos style window.<br />
<br />
Is it possible to execute them into an MS-DOS window, but keep this MS-DOS window open until the user actually closes it?<br />
<br />
I'm executing up to 3 different programs each time the LogWindow is ran.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">virtlink</div><div class="date">23rd April 2003, 19:03</div></div><div class="posttext">Use the /PAUSE command line argument to let the compiler wait for a key to be pressed before quitting. This way, the MS-DOS-box isn't closed when the compiler is finished.<br />
<br />
To save the MS-DOS-box compiler's output to a file, use the /O&quot;log.txt&quot; command line argument. But beware, the compiler seems to write only the last part of the compiler info to the log file, not the complete output. Maybe a bug?<br />
<br />
You can read all about the compiler here (http://nsis.sourceforge.net/Docs/Chapter3.html#).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd April 2003, 19:10</div></div><div class="posttext">You don't understand what I'm talking about!<br />
<br />
I have made a Quake2 map-compiler program using NSIS to convert built levels into the format in which Quake2 uses.<br />
Quake2 is a shoot'em up game by id Software.<br />
<br />
Hope you understand me now - sorry I should have explained better.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd April 2003, 19:22</div></div><div class="posttext">I shall go into extra detail...<br />
<br />
Step 1:<br />
My program checks which mode the user has set.<br />
These consist of...<br />
1. nsExec::ExecToLog<br />
2. ExecWait<br />
<br />
Step 2:<br />
It executes the first compiler (qbsp3.exe) on either one or the other execution methods (as shown above)<br />
<br />
Step 3:<br />
Executes qvis3.exe<br />
<br />
Step 4:<br />
Executes qrad3.exe<br />
<br />
Thats that.<br />
I am asking if I can use ExecWait to open the compiles like normal, but in a proper MS-DOS Prompt window, and actually leave it open.<br />
<br />
ExecWait &quot;cmd /c $INSTDIR\quake2\compilers\qbsp3.exe $8.map&quot;<br />
<br />
This MS-DOS Prompt window then closes when qbsp3 has finished.<br />
I've noticed it even closes the window after it's finished if I create a desktop shortcut with that exact same command line.<br />
<br />
I want to keep that window open and compile the next process in that window (qvis3.exe) without losing any of the data which has so far gone through that window.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">23rd April 2003, 20:01</div></div><div class="posttext">Extract from cmd help:-D:\&gt;cmd /?<br />
Starts a new instance of the Windows 2000 command interpreter<br />
<br />
CMD [/A | /U] [/Q] [/D] [/E:ON | /E:OFF] [/F:ON | /F:OFF] [/V:ON | /V:OFF]<br />
    [[/S] [/C | /K] string]<br />
<br />
/C      Carries out the command specified by string and then terminates<br />
/K      Carries out the command specified by string but remains<br />
<br />
Notice the /K option</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd April 2003, 21:18</div></div><div class="posttext">:)<br />
<br />
Thanks SunJammer!!<br />
<br />
I'll have an extra option for this on a IO dialog.<br />
<br />
I can then do...<br />
ExecWait &quot;cmd $R4 $INSTDIR\quake2\compilers\qbsp3.exe $8.map&quot;<br />
...where $R4 will be wither /C or /K depending on the users' choice.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">virtlink</div><div class="date">23rd April 2003, 21:52</div></div><div class="posttext">I'm sorry Afrow. I tought that you were talking about the NSIS compiler. ;)<br />
<br />
I didn't know about the /K-switch. Now that I now that, it might prove usefull in the future.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th April 2003, 13:08</div></div><div class="posttext">Hmm, I see the /E switch.<br />
On Win98 it is /E:nnnnn where nnnnn &quot;Sets the initial environment size to nnnnn bytes. (nnnnn should be between 256 and 32,768).&quot;<br />
<br />
What is this for?<br />
<br />
Also, on Win98, ms-dos has a very small window size and text allways dissapears off the window without me being able to scroll up.<br />
Is there away to stop this and enable a scrollbar?<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>