<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Check for the existance of directories?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Check for the existance of directories? NSIS Discussion" />
	
	<title> Check for the existance of directories? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Check for the existance of directories?</div>
<hr />
<div class="pda"><a href="t-71844.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=71844">Check for the existance of directories?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">webgeek</div><div class="date">14th January 2002, 00:15</div></div><div class="posttext">Im very new to NSIS but I love it. Its a better solution for me then the commercial solutions I researched. I have one question though. I plan on installing multiple things into a series of folders over time. Something like this:<br />
<br />
/program files/company name/app1<br />
/program files/company name/app2<br />
/program files/company name/app3<br />
<br />
When someone uninstalls on of these applications, I want to know if it was the last item in the /company name/ folder so I can delete that folder as well? The ultimate goal is that I want the uninstall to clean up everything thats left over and unnecessary. I was wondering if there are easy ways to handle this? Thanks!<br />
<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">14th January 2002, 07:29</div></div><div class="posttext">Hi Michael,<br />
<br />
take a look at makensis.nsi in your installdir of NSIS. Use this:<br />
<br />
RMDir /r &quot;$PROGRAMFILES\company name\app3&quot;<br />
IfFileExists &quot;$PROGRAMFILES\company name\app3&quot; 0 Continue<br />
MessageBox MB_OK &quot;App3 still present!&quot;<br />
Continue:<br />
<br />
If the dir will not be removed, than files are still present in the dir.<br />
<br />
Good luck, greetz, Hn3.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">F. Heidenreich</div><div class="date">14th January 2002, 09:11</div></div><div class="posttext">Hi Michael,<br />
<br />
you could use Hn3's code to check whether your app folder was deleted properly.<br />
<br />
To check whether it was the last app in your companies folder you could use this code:RMDir /r &quot;$PROGRAMFILES\company name\app3&quot;<br />
RMDir &quot;$PROGRAMFILES\company name&quot;<br />
IfFileExists &quot;$PROGRAMFILES\company name&quot; 0 Removed<br />
  MessageBox MB_OK &quot;Company Name folder not empty&quot;<br />
Removed:<br />
SectionEndThe call to 'RMDir &quot;$PROGRAMFILES\company name&quot;' only deletes this folder when it's empty.<br />
<br />
Hope this helps -<br />
Regards,<br />
~ Florian</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>