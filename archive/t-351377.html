<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Using Plugins, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Using Plugins NSIS Discussion" />
	
	<title> Using Plugins [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Using Plugins</div>
<hr />
<div class="pda"><a href="t-351377.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=351377">Using Plugins</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">vuser</div><div class="date">5th November 2012, 05:30</div></div><div class="posttext">I am trying to use the Registry Plugin<br />
<br />
The helps says to use the syntax ${registry::Read}.<br />
However, this gives me the error.<br />
Invalid command: ${registry::Read}<br />
<br />
I looked up the plugins found which are printed at the start of the compiler output &amp; saw that all the functions look like this<br />
<br />
 - Registry::_Read<br />
 - Registry::_ReadExtra<br />
<br />
etc.<br />
<br />
<br />
So I next tried (note leading underscores)<br />
<br />
Registry::_Read &quot;HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v3.0\&quot; &quot;Install&quot; $R0 $R1<br />
MessageBox MB_OK $R0<br />
MessageBox MB_OK $R1<br />
<br />
The command compiled, but both the messageboxes gave blank output.<br />
<br />
The key does exist &amp; has a value in my registry.<br />
<br />
What am I doing wrong here?<br />
<br />
<br />
UPDATE: I got the issue. I hadn't included registry.nsh!!!!<br />
First time I am using a plugin - didn't realize I had to do this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th November 2012, 02:25</div></div><div class="posttext">Not all plug-ins require you to include a header. But some of them do have some of the functionality implemented in a header file. Sometimes it's just a wrapper around the raw plug-in calls to make your life easier and sometimes it's a bit more.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jiake</div><div class="date">12th December 2012, 10:48</div></div><div class="posttext">!define registry::Read `!insertmacro registry::Read`<br />
!macro registry::Read _PATH _VALUE _STRING _TYPE<br />
	registry::_Read /NOUNLOAD `${_PATH}` `${_VALUE}`<br />
	Pop ${_STRING}<br />
	Pop ${_TYPE}<br />
!macroend<br />
${registry::Read} &quot;HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v3.0\&quot; &quot;Install&quot; $R0 $R1<br />
Expanding the macro it exactly equals to:<br />
Registry::_Read &quot;HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v3.0\&quot; &quot;Install&quot;<br />
Pop $R0<br />
Pop $R1</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>