<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" 2.0b1 InstallOptions::initDialog has 2 parms on stack, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  2.0b1 InstallOptions::initDialog has 2 parms on stack NSIS Discussion" />
	
	<title> 2.0b1 InstallOptions::initDialog has 2 parms on stack [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  2.0b1 InstallOptions::initDialog has 2 parms on stack</div>
<hr />
<div class="pda"><a href="t-124933.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=124933">2.0b1 InstallOptions::initDialog has 2 parms on stack</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dirtydingus</div><div class="date">13th February 2003, 18:06</div></div><div class="posttext">Just downloaded the latest NSIS beta.<br />
<br />
Seems to be well behaved. BUT I discovreed that whereas before when I did<br />
InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\myini.ini&quot;<br />
I would only have one thing to pop off the stack (HWND or 0 for error), now I seem to have 2: the original one AND then the file name of the ini file.<br />
<br />
I.e. instead of<br />
<br />
;stack empty<br />
InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\myini.ini&quot;<br />
Pop $R0<br />
IntCmp ${TEMP1} 0 error<br />
;stack empty<br />
<br />
I now have to do the following ot get the stack back to normal<br />
<br />
;stack empty<br />
InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\myini.ini&quot;<br />
Pop $R0<br />
Pop $R1 ; $R1 = c:\windows\temp\..\myini.ini<br />
IntCmp ${TEMP1} 0 error<br />
;stack empty<br />
<br />
<br />
Is this a bug? or is it a feature that I somehow missed the documentation of?<br />
<br />
DD</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2003, 10:14</div></div><div class="posttext">Yes, you are right. This is indeed a bug. I'll fix this ASAP.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2003, 10:20</div></div><div class="posttext">Fixed in latest CVS version.<br />
<br />
As show tries to pop out this value you are actually losing the top parameter of your stack here, so it is not recommended to pop it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dirtydingus</div><div class="date">14th February 2003, 10:31</div></div><div class="posttext">As show tries to pop out this value you are actually losing the top parameter of your stack here, so it is not recommended to pop it<br />
I know - I realised after I posted the code that what I was posting was not 100% accurate. Still it showed the problem.<br />
<br />
Thanks for such a prompt response - now all I have to do is figure out how to get the CVS version<br />
<br />
DD</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2003, 10:38</div></div><div class="posttext">The FAQ tells you how to.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2003, 18:53</div></div><div class="posttext">Incase you already got your hands on the latest version I suggest you update again because there was a bug with the way I fixed this.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>