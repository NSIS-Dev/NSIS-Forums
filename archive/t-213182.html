<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Generate list of files and directories for uninstaller, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Generate list of files and directories for uninstaller NSIS Discussion" />
	
	<title> Generate list of files and directories for uninstaller [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Generate list of files and directories for uninstaller</div>
<hr />
<div class="pda"><a href="t-213182.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=213182">Generate list of files and directories for uninstaller</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">14th April 2005, 12:32</div></div><div class="posttext">When your installer include many files for install, it's take much time to write in uninstall section files and directories than will be deleted.<br />
<br />
It's script to generate list of files and directories for uninstaller with command line support (/? for help)<br />
<br />
Script used headers (http://forums.winamp.com/attachment.php?s=&amp;postid=1642150)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">22nd April 2005, 19:53</div></div><div class="posttext">Uninstaller will remove only unmodified files<br />
<br />
<br />
Files description:<br />
&quot;unListDate.nsi&quot; - List generator (unListDate.exe) script<br />
&quot;Test.nsi&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; - Test script<br />
&quot;TestFiles\*.*&quot;&amp;nbsp; - Test script files<br />
<br />
Scripts used headers (http://forums.winamp.com/attachment.php?s=&amp;postid=1647312)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">8th May 2005, 10:54</div></div><div class="posttext">&quot;unList&quot; v1.1<br />
&quot;unListDate&quot; v1.1<br />
<br />
Changes:<br />
-Cosmetic improvements<br />
-unList command line now based on unListDate<br />
<br />
Scripts used headers (http://forums.winamp.com/attachment.php?s=&amp;postid=1647312)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JackOfTrades</div><div class="date">19th May 2005, 18:41</div></div><div class="posttext">I've come to the forums searching for answers a number of times since I started using NSIS.  (Love it, btw.)  <br />
<br />
A number of those times, the answer (and often with useable script as well) has come from Instructor.  <br />
<br />
I registered just to reply to a particuarly useful post to say thanks.<br />
<br />
Jess</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">19th May 2005, 20:21</div></div><div class="posttext">You are welcome :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">21st July 2005, 09:37</div></div><div class="posttext">&quot;unList&quot; v1.2<br />
&quot;unListDate&quot; v1.2<br />
<br />
Changes:<br />
1. Code clean up<br />
2. Better errors check<br />
3. Added command line option to turn off MessageBoxes<br />
<br />
Attachment with binaries (scripts used headers (http://forums.winamp.com/attachment.php?s=&amp;postid=1734108))</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">17th September 2005, 22:43</div></div><div class="posttext">&quot;unList&quot; v1.3<br />
&quot;unListDate&quot; v1.3<br />
<br />
Changes:<br />
-added file filter as command option (Patrick Graf)<br />
<br />
<br />
P.S.<br />
Patrick I could not send you reply on your e-mail.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">29th December 2005, 21:33</div></div><div class="posttext">&quot;unList&quot; v1.4<br />
<br />
Changes:<br />
-combine unList and unListDate to one script and added /DATE=[0|1] parameter (Matei &quot;Ambient.Impact&quot; Stanca)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">guilhem.martin</div><div class="date">10th February 2006, 09:54</div></div><div class="posttext">Hi Instructor,<br />
<br />
thank you from a very satisfied user of &quot;UnList&quot; :)<br />
<br />
BR.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">10th February 2006, 13:52</div></div><div class="posttext">Greetings guilhem.martin, from a very satisfied developer of &quot;UnList&quot; :)<br />
<br />
&quot;unList&quot; v1.5<br />
<br />
Changes:<br />
-updated to support latest version of GetOptions function</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tiemo</div><div class="date">11th April 2006, 16:03</div></div><div class="posttext">'GetTime' should be called using System time instead of local time. Otherwise all files will be ignored after the time has been changed to daylight saving time!<br />
<br />
Two lines must be modified therefore:<br />
<br />
${GetTime} '$9' 'M' $0 $1 $2 $3 $4 $5 $6<br />
<br />
into<br />
<br />
${GetTime} '$9' 'MS' $0 $1 $2 $3 $4 $5 $6<br />
<br />
<br />
and <br />
<br />
FileWrite $R4 `$PREFIX$3un.GetTime} &quot;$UNDIR_VAR\$9&quot; &quot;M&quot; $$0 $$1 $$2 $$3 $$4 $$5 $$6$\r$\n`<br />
<br />
into<br />
<br />
FileWrite $R4 `$PREFIX$3un.GetTime} &quot;$UNDIR_VAR\$9&quot; &quot;MS&quot; $$0 $$1 $$2 $$3 $$4 $$5 $$6$\r$\n`</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">11th April 2006, 16:38</div></div><div class="posttext">Good point</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dbach</div><div class="date">2nd May 2006, 16:34</div></div><div class="posttext">Hi Instructor.<br />
<br />
Thank you for this very cool tool. I know some idiots who installed really some products directly into the $ProgramFiles directory. This tool keep these idiots secure on uninstalltion.<br />
<br />
PLEASE, Could you announce this wonderful tool on WikiPage of NSIS (http://nsis.sourceforge.net/Category:Related_Software)? Thank you very very much. :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eric0000</div><div class="date">8th May 2006, 14:49</div></div><div class="posttext">Hello<br />
<br />
For me this script occasionally neglects to uninstall a file, even though the file has not been modified.  The problem occurs because two different values are returned for the file's timestamp.<br />
<br />
When unList.exe is run, the line<br />
<br />
    ${GetTime} '$9' 'MS' $0 $1 $2 $3 $4 $5 $6<br />
<br />
returns one value for the file's timestamp.<br />
<br />
unList.exe then autogenerates the line e.g.<br />
<br />
    ${un.GetTime} &quot;$INSTDIR\Workbooks\Math\primeNumbers.xls&quot; &quot;MS&quot; $0 $1 $2 $3 $4 $5 $6<br />
<br />
which runs as part of my uninstaller but when that line runs it returns a timestamp one second into the future, causing the subsequent test<br />
<br />
    StrCmp &quot;$0/$1/$2-$4:$5:$6&quot; &quot;27/04/2006-15:02:08&quot; 0 +3<br />
<br />
to return false.<br />
<br />
A quick fix is to exclude seconds from the comparison e.g. in unList.nsi change line<br />
<br />
	FileWrite $R4 `$PREFIXStrCmp &quot;$$0/$$1/$$2-$$4:$$5:$$6&quot; &quot;$0/$1/$2-$4:$5:$6&quot; 0 +3$\r$\n`<br />
<br />
to<br />
<br />
	FileWrite $R4 `$PREFIXStrCmp &quot;$$0/$$1/$$2-$$4:$$5&quot; &quot;$0/$1/$2-$4:$5&quot; 0 +3$\r$\n`<br />
<br />
Regards,<br />
Eric</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">7th June 2008, 10:25</div></div><div class="posttext">Hi Instructor!<br />
<br />
I have noticed that if I ask unList to create log for empty directory then it:<br />
1) Delete log file, that should be created<br />
2) Doesn't create log file<br />
<br />
Is it intension? If it is, then I have another question: Why it doesn't create empty log?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>