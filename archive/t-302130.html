<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Canno't get RECfind working, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Canno't get RECfind working NSIS Discussion" />
	
	<title> Canno't get RECfind working [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Canno't get RECfind working</div>
<hr />
<div class="pda"><a href="t-302130.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302130">Canno't get RECfind working</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">SadE54</div><div class="date">16th January 2009, 13:59</div></div><div class="posttext">Hi,<br />
<br />
I'm trying to use Recfind.nsh without success. <br />
<br />
here's the provided examplein recfind.nsh :<br />
<br />
 ${RecFindOpen} `E:\NSIS` $R0 $R1<br />
  DetailPrint `E:\NSIS$R0`<br />
 ${RecFindFirst}<br />
  DetailPrint `File: C:\Dir$R0\$R1`<br />
  StrCmp $R1 `NSIS.chm` Found<br />
 ${RecFindNext}<br />
  Found:<br />
 ${RecFindClose}<br />
<br />
<br />
Here's what I get after compiling :<br />
3 warnings:<br />
  unknown variable/constant &quot;{DirVar}&quot; detected, ignoring (macro:_RecFindFirst:9)<br />
  unknown variable/constant &quot;{DirVar}&quot; detected, ignoring (macro:_RecFindFirst:16)<br />
  unknown variable/constant &quot;{_CurrentDir}&quot; detected, ignoring (macro:_RecFindFirst:17)<br />
<br />
When I try the installer it does(and find nothing)<br />
<br />
Thanks in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">16th January 2009, 14:05</div></div><div class="posttext">Edit: Nevermind, I can't read. &gt;__&gt;<br />
<br />
<br />
I didn't look into it in detail, but after looking at http://nsis.sourceforge.net/mediawiki/images/2/27/RecFind.nsh for a few minutes I think there are two bugs in that script:<br />
<br />
Line 63: !macro _RecFindOpen Dir CurrentDirVar CurrentFileVar<br />
should be<br />
!macro _RecFindOpen DirVar CurrentDirVar CurrentFileVar<br />
<br />
Line 99:    Push `${_CurrentDir}\${_CurrentFileVar}`<br />
should be<br />
   Push `${_CurrentDirVar}\${_CurrentFileVar}`<br />
<br />
Try that, I'm not guaranteeing I'm right but it's worth a shot anyway.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SadE54</div><div class="date">16th January 2009, 19:06</div></div><div class="posttext">I found the same things that you , so I thought that it was a bug . But this file exists for some years ,so it's srange. <br />
but the web page has been updated recently ...<br />
<br />
Whith the suggested changes , I can compile but it doesn't work as expected  <br />
:(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th January 2009, 19:36</div></div><div class="posttext">I have re-uploaded.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>