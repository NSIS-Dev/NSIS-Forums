<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" WordFind bug, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  WordFind bug NSIS Discussion" />
	
	<title> WordFind bug [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  WordFind bug</div>
<hr />
<div class="pda"><a href="t-270004.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=270004">WordFind bug</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">23rd April 2007, 04:47</div></div><div class="posttext">This is a function included with NSIS, but I'm not sure whether this would be considered a problem in NSIS or just the external function, so I'll report it here.  <br />
<br />
To Kichik:<br />
If you feel this should be reported as a bug in NSIS, let me know.<br />
<br />
Details<br />
Here's the example code:<br />
OutFile &quot;testme.exe&quot;<br />
ShowInstDetails show<br />
!include WordFunc.nsh<br />
!insertmacro WordFind<br />
!define String &quot;one|two|three|four|five&quot;<br />
<br />
Section<br />
	DetailPrint &quot;String = ${String}&quot;<br />
	DetailPrint '${WordFind} &quot;${String}&quot; &quot;three&quot; &quot;#&quot; $1'<br />
	${WordFind} &quot;${String}&quot; &quot;three&quot; &quot;#&quot; $1<br />
	DetailPrint &quot;Answer: $1&quot;<br />
	Strcpy $1 &quot;&quot;<br />
	DetailPrint &quot;Example in manaual:&quot;<br />
	DetailPrint '${WordFind} &quot;C:\io.sys C:\logo.sys C:\WINDOWS&quot; &quot; C:\&quot; &quot;#&quot; $1'<br />
	${WordFind} &quot;C:\io.sys C:\logo.sys C:\WINDOWS&quot; &quot; C:\&quot; &quot;#&quot; $1<br />
<br />
	DetailPrint &quot;answer: $1&quot;<br />
<br />
SectionEnd<br />
<br />
The answer for the first WordFind call returns 2, when it should only be 1.  But, the function works fine when you are dealing with paths (from the 2nd WordFind call above)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">23rd April 2007, 08:28</div></div><div class="posttext">${WordFind} &quot;${String}&quot; &quot;three&quot; &quot;*&quot; $1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">23rd April 2007, 15:46</div></div><div class="posttext">OK, I see the problem:<br />
<br />
The docs say &quot;*&quot; is supposed to return the number of delimiters, while &quot;#&quot; is supposed to return the sum of the words.<br />
<br />
I can see that your example works and now understand why:<br />
It's because the &quot;*&quot; counts delimiters and it seems that delimiters can never be the first in the list. <br />
<br />
So, your example works for the &quot;three&quot;, but if I change to look for &quot;one&quot;, then it returns the &quot;1&quot; for both.<br />
<br />
I still think there's a bug here.  If &quot;#&quot; works like is documented, then it should return the same number regardless of whether the item to be searched in in the beginning or middle of the string.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">23rd April 2007, 16:00</div></div><div class="posttext">Where is no bug. What you are trying to do?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">23rd April 2007, 17:53</div></div><div class="posttext">I'm trying to count how many times a word appears in a delimited list.<br />
<br />
also:<br />
To make it clear, your suggestion does work, but doesn't appear to follow the documentation for reasons outlined in my last post.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">23rd April 2007, 18:01</div></div><div class="posttext">Nevermind...<br />
I was playing around some more and finally see why:<br />
<br />
In my example, &quot;three&quot; is considered a delimiter.  So between the delimiter, there are actually 2 &quot;words&quot;:<br />
&quot;one|two|&quot; and &quot;|four&quot;<br />
<br />
But only one &quot;delimiter&quot;:<br />
&quot;three&quot;<br />
<br />
I guess it just didn't make sense to me following the examples.  But after I read closer the actual description, it finally started to make sense.<br />
<br />
Thanks, Instructor.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>