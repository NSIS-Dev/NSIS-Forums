<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom Page Install, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom Page Install NSIS Discussion" />
	
	<title> Custom Page Install [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom Page Install</div>
<hr />
<div class="pda"><a href="t-146926.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=146926">Custom Page Install</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">25th August 2003, 03:15</div></div><div class="posttext">Is it possible to use custom pages to install stuff?<br />
<br />
If you have two radio buttons on a page, if one is seclected it installs one item, or if the other is select it installs a different item.<br />
<br />
I only ask as I have tried this but even if one or the other radio button is selected it still installs both items<br />
<br />
Can this be solved, if so how?<br />
<br />
Also I was hoping to have two cutome pages doing the same thing on each but with the option to install diffeent items<br />
<br />
Oh I didn't want to use the components page for this either<br />
<br />
Thanks<br />
<br />
(Oh this is a little of topic but<br />
Also how do you use the Attach file option when posting on here?<br />
But please this isn't my main question as I can soon upload stuff and attach it via link.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">25th August 2003, 11:57</div></div><div class="posttext">In the 'Section' which does the actual installation (i.e. the one that copies the files to the installation folder, etc), check the status of the radio buttons and take appropriate action. In other words, if radio button 1 was selected, install item 1 otherwise install item 2.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">25th August 2003, 18:43</div></div><div class="posttext">Ok I'm still having problems<br />
<br />
I've tried to adapt the Install Options script to what I want<br />
<br />
but its still not working<br />
<br />
I select one or the other and still both of them are installed<br />
<br />
I have attached that full script and the basic script,<br />
<br />
If someone could take a look and show me where I'm going wrong I would be grateful<br />
<br />
-Tony<br />
<br />
Basic Script (http://www.darksaber.freeserve.co.uk/temp/DSUCPbasicscript.zip) <br />
<br />
Full Script (http://www.darksaber.freeserve.co.uk/temp/DSUCP16.zip) <br />
<br />
On and before you mention it :) I know I should replce the uninstall delet strings with $INSTDIR but it just doesn't delete half the stuff.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">25th August 2003, 19:34</div></div><div class="posttext">I've had a look at the &quot;Basic&quot; script but I'm not sure what you are trying to do.<br />
<br />
Each of the four sections has an empty name, this means that the section will be a hidden one which will always be installed. This is why you do not see any components listed when the components page appears (and why everything gets installed).<br />
<br />
If you give each section a name (eg Section &quot;One&quot; sec1) then it will appear in the components page (as &quot;One&quot;, &quot;Two&quot;, etc) and the user can tick the box next to the component name to select it for installation. So the components page can be used to select any combination of these four sections.<br />
<br />
From your earlier message, I assume that the Ion_Cannon_Option and Hangar_Option custom pages have radio buttons and you want to use these in some way to control what gets installed.<br />
<br />
Could you explain a bit more about what you want the script to do?<br />
<br />
Do you want some sections to always be installed?<br />
<br />
If one section is selected, do you want to automatically select another (or disable another)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">25th August 2003, 20:35</div></div><div class="posttext">I didn't really want them in the components page<br />
<br />
That's one reason for no names, I saw this in another forum thread, so I might be wrong, more than likely :(<br />
<br />
Yes your right about the radio buttons, what I'm trying to do is have a two custom pages, with two options.<br />
<br />
1st option I want to install a certain item or items and disable the 2nd option and visa versa<br />
<br />
Same goes for the other custom page<br />
<br />
So you can only select one option on each page then install the selected items.<br />
<br />
hope that makes sence</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">25th August 2003, 23:32</div></div><div class="posttext">Anyone? please :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">26th August 2003, 00:42</div></div><div class="posttext">To section have a name, and do not appear in the components page, put the &quot;-&quot; before the name. I.e.:<br />
<br />
Section &quot;-Any Name&quot;<br />
<br />
1st option I want to install a certain item or items and disable the 2nd option and visa versa<br />
<br />
Read the State of the Radiobuttons in the two pages. Use the code below:<br />
<br />
(When IOPage1.ini is the name of the INI file you are using for the page, Field #1 and #2 are the numbers of the radiobuttons fields, as #1 the first and #2 the second)<br />
<br />
ReadINIStr $0 &quot;IOPage1.ini&quot; &quot;Field #1&quot; &quot;State&quot;<br />
StrCmp $0 1 0 Radiobutton2<br />
<br />
  # Code want to run when the radiobutton1 was been selected<br />
<br />
Radiobutton2:<br />
ReadINIStr $0 &quot;IOPage1.ini&quot; &quot;Field #2&quot; &quot;State&quot;<br />
StrCmp $0 1 0 Radiobutton2End<br />
<br />
  # Code want to run when the radiobutton2 was been selected<br />
<br />
Radiobutton2End:<br />
<br />
# Normal Script Codes</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">26th August 2003, 01:13</div></div><div class="posttext">Here is a simple demo script that uses the component page to do what I think you want. The user can select one of two 'Cannon' options and one of two 'Hanger' options.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">26th August 2003, 02:25</div></div><div class="posttext">Thanks to both of you for your time and patience :D<br />
<br />
Pengyou before I use your script and remove the custom pages<br />
<br />
I would like to ask deguix a few questions<br />
<br />
1. Do I still need the SectionGetFlags script in the .oninit section? plus do I still need the .onSelChange section?<br />
<br />
2. Does the # need to be in front of the field numbers? or is that just refering to the number itself.<br />
<br />
I tried your code, it looks like this<br />
<br />
Section &quot;-Ion&quot;<br />
SetDetailsPrint none<br />
ReadINIStr $0 &quot;cannons.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
StrCmp $0 1 0 Radiobutton2<br />
SetOutPath &quot;$INSTDIR\blah&quot;<br />
File &quot;Ionblue\*.opt&quot;<br />
Radiobutton2:<br />
ReadINIStr $0 &quot;cannons.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
StrCmp $0 1 0 Radiobutton2End<br />
SetOutPath &quot;$INSTDIR\blah&quot;<br />
File &quot;Ionpurple\*.opt&quot;<br />
Radiobutton2End:<br />
SectionEnd<br />
<br />
SetOverwrite on<br />
Section &quot;-Hangar&quot;<br />
SetDetailsPrint none<br />
ReadINIStr $0 &quot;hangar.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
StrCmp $0 1 0 Radiobutton2<br />
SetOutPath &quot;$INSTDIR\blah\blah&quot;<br />
File &quot;HangarReb\*.opt&quot;<br />
Radiobutton2:<br />
ReadINIStr $0 &quot;hangar.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
StrCmp $0 1 0 Radiobutton2End<br />
SetOutPath &quot;$INSTDIR\blah\blah&quot;<br />
File &quot;HangarImp\*.opt&quot;<br />
Radiobutton2End:<br />
SectionEnd<br />
<br />
<br />
and the info in the ini files<br />
<br />
Cannons.ini<br />
<br />
[Settings]<br />
NumFields=2<br />
<br />
[Field 1]<br />
Type=RadioButton<br />
Text= Blue Ion Cannons<br />
Left=10<br />
Right=-10<br />
Top=40<br />
Bottom=50<br />
State=1<br />
<br />
[Field 2]<br />
Type=RadioButton<br />
Text= Purple Ion Cannons<br />
Left=10<br />
Right=-10<br />
Top=60<br />
Bottom=70<br />
State=0<br />
<br />
<br />
[Settings]<br />
NumFields=2<br />
<br />
[Field 1]<br />
Type=RadioButton<br />
Text= Rebel<br />
Left=10<br />
Right=-10<br />
Top=40<br />
Bottom=50<br />
State=1<br />
<br />
[Field 2]<br />
Type=RadioButton<br />
Text= Imperial<br />
Left=10<br />
Right=-10<br />
Top=60<br />
Bottom=70<br />
State=0<br />
<br />
<br />
but with either option selected nothing was installed, so I'm just wondering what I'm doing wrong<br />
<br />
Again thanks for your time :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">26th August 2003, 14:33</div></div><div class="posttext">TonyDS, Here is a revised demo script for you. Unlike the previous script, one of the five available options is always selected.<br />
<br />
I used macros in the new script so it should be easier to make it work with different numbers of options.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">26th August 2003, 15:55</div></div><div class="posttext">Whoa thanks so much :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>