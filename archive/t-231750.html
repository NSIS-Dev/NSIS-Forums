<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to make forms background white?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to make forms background white? NSIS Discussion" />
	
	<title> How to make forms background white? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to make forms background white?</div>
<hr />
<div class="pda"><a href="t-231750.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=231750">How to make forms background white?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mattheus</div><div class="date">23rd November 2005, 13:57</div></div><div class="posttext">Hello community,<br />
<br />
Please advise, how can I make background color of all my forms (Pages) in NSIS installer white? Custom Pages and standard MUI pages?<br />
<br />
I am taking not about BGGradient function, but about forms that will be showed with <br />
Page custom ... insructions<br />
<br />
For example like here <br />
http://nsis.sourceforge.net/mediawiki/images/thumb/b/be/NSISScreenshot6.png/270px-NSISScreenshot6.png or here http://nsis.sourceforge.net/mediawiki/images/thumb/b/bc/NSISScreenshot5.png/270px-NSISScreenshot5.png, but not only for Welcome of Finish pages but for all other pages too.<br />
For example how to make background color white here http://nsis.sourceforge.net/mediawiki/images/thumb/8/8a/NSISScreenshot1.png/270px-NSISScreenshot1.png ?<br />
<br />
I tried to use <br />
  FindWindow $R0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
  GetDlgItem $R0 $R0 1001<br />
  SetCtlColors $R0 0xFFFFFF 0x000000<br />
In my scripts, but it don't works.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">23rd November 2005, 14:02</div></div><div class="posttext">Use Resource Hacker to modify the UI, then use ChangeUI to change the dialog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd November 2005, 15:06</div></div><div class="posttext">You can't change the colours of controls with Resource Hacker.<br />
<br />
Take a look at Custom pages &gt; Using InstallOptions for custom pages. There's an example further down which shows how to change the font of a control.<br />
<br />
As for all the NSIS pages, you need to apply the background colours for all controls in the dialogs. This applies to controls inside the inner dialog (which you get using FindWindow which you have already got) and the outer dialog ($HWNDPARENT).<br />
<br />
To get all the control ID's you need to use Resource Hacker. IDD 105 is the the outer (parent) dialog whereas the rest are all inner dialogs.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dandaman32</div><div class="date">2nd December 2005, 14:54</div></div><div class="posttext">Use the InstallOptions &quot;Rect&quot; field to set the control that will host the child window: [Settings]<br />
Rect=1044Then, skin the background of the window:Page custom Init Verify<br />
<br />
Function Init<br />
!insertmacro MUI_INSTALLOPTIONS_EXTRACT InstallOptions.ini<br />
InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\InstallOptions.ini&quot;<br />
Pop $1<br />
SetCtlColors $1 0xFFFFFF 0xFFFFFF<br />
StrCpy $2 1199<br />
SkinLoop:<br />
  IntOp $2 $2 + 1<br />
  GetDlgItem $0 $1 $2<br />
  SetCtlColors $0 0x000000 0xFFFFFF<br />
  IntCmp $2 1300 SkinLoop SkinLoop &quot;&quot;<br />
InstallOptions::show<br />
FunctionEnd<br />
<br />
Function Verify<br />
  # any custom code to verify the user's input here...<br />
FunctionEndIf your dialog has more than 100 fields (not likely) increase the 1300 to any value &gt;1201, but the higher you go, the longer it will take to initialize the page, especially on slower systems.<br />
<br />
Edit: you could probably do this with a for-loop in LogicLib, but this will work just as well.<br />
<br />
-dandaman32</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dienjd</div><div class="date">31st January 2006, 00:43</div></div><div class="posttext">Dan, this approach works great, but I ran into a little problem. When I do this on a custom finish page, it makes my header line regular-sized and un-bolded.<br />
<br />
I tried excluding that field from the skinloop:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_READ $3 &quot;ioCustom.ini&quot; &quot;Field 2&quot; &quot;HWND&quot;<br />
SkinLoop:<br />
 IntOp $2 $2 + 1<br />
 GetDlgItem $0 $1 $2<br />
  ${If} $0 &lt;&gt; $3<br />
   SetCtlColors $0 0x000000 0xFFFFFF<br />
  ${EndIf}<br />
....<br />
<br />
but that left the text unformatted as well.<br />
<br />
Any ideas on how to retain the header line formatting? Comparing the header entries in ioSpecial.ini and ioCustom.ini, they look identical.<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dienjd</div><div class="date">31st January 2006, 17:24</div></div><div class="posttext">I thought I'd exhausted my search of the forum, but I just ran across Afrow UK's reference to CreateFont in another thread, and it works perfectly.<br />
<br />
For reference, that post is here:<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=221481&amp;highlight=format+text+custom+page</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>