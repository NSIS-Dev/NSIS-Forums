<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Icons aren't updated, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Icons aren't updated NSIS Discussion" />
	
	<title> Icons aren't updated [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Icons aren't updated</div>
<hr />
<div class="pda"><a href="t-157801.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=157801">Icons aren't updated</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">RobertB</div><div class="date">27th November 2003, 15:45</div></div><div class="posttext">Hi All !<br />
<br />
During the install of my programm i create a desktop-shortcut using the following line in my Nsis-script:<br />
<br />
  SetOutPath &quot;$INSTDIR\Icons&quot;<br />
  File &quot;.\Icons\Programm.ico&quot;<br />
<br />
  CreateShortCut &quot;$DESKTOP\Proggy.lnk&quot; &quot;$INSTDIR\MyProg.exe&quot; &quot;&quot; &quot;$INSTDIR\Icons\Programm.ico&quot;<br />
<br />
When i first installed the programm, the shortcut had shown the correct icon. Then i deinstalled the programm, an recompiled the installer with a different set of icons. <br />
After that i installed the Programm again using the new installer.<br />
<br />
And here is my Problem:<br />
Instead of creating the shortcut with the new icons, the shortcuts were created with the old icons.<br />
Now i have made sure, that the old Icons were no longer copied into the new installer. And i have also checked several Times, that the right installer was executed. But my Problem stays the same.<br />
<br />
Do i have to keep anything in mind creating a shortcut ?<br />
Does Windows 2000 Professional eventually remember the Icons?<br />
<br />
I'using Nsis version 2.0b4<br />
<br />
Any hints will help...<br />
<br />
Thanks a lot<br />
<br />
Robert<br />
<br />
P.S. Sorry if the English is bad, i'm still learning. ;-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">27th November 2003, 16:47</div></div><div class="posttext">delete &quot;shelliconcache&quot; in winnt dir (maybe system32, can't remember) and restart (or use tweakUI from M$, go to the repair tab,repair icons)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">27th November 2003, 18:06</div></div><div class="posttext">...and for use in your script: http://nsis.sourceforge.net/archive/nsisweb.php?page=239&amp;instances=0,64,142</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th November 2003, 20:47</div></div><div class="posttext">Originally posted by Anders <br />
delete &quot;shelliconcache&quot; in winnt dir (maybe system32, can't remember) and restart (or use tweakUI from M$, go to the repair tab,repair icons) <br />
This file does not always have this name.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">27th November 2003, 20:53</div></div><div class="posttext">Originally posted by Joost Verburg <br />
This file does not always have this name. <br />
really? what other name(s) could it have??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th November 2003, 21:00</div></div><div class="posttext">Windows XP has an icon cache file somewhere else. To rebuild the icon cache, you don't have to remove that file and restart. There are better methods.<br />
<br />
This archive page code is enough for the question in this topic.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobertB</div><div class="date">28th November 2003, 09:21</div></div><div class="posttext">Hi Anders and Joost!<br />
<br />
Thank you! Now it works. <br />
I first deleted the shelliconcache, restarted and all Icons were correct then.<br />
But now I also included the &quot;RefreshShellIcons&quot; function into my script, and call it in &quot;Function .onInstSuccess&quot; just in case...<br />
<br />
Thanks again,<br />
<br />
RobertB</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">28th November 2003, 19:30</div></div><div class="posttext">Using that function is enough, there is no need to remove the icon cache.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">28th November 2003, 21:43</div></div><div class="posttext">Originally posted by Joost Verburg <br />
Using that function is enough, there is no need to remove the icon cache.  <br />
i know u should do this in your script, but deleteing the iconcache is ok on ur own system when the icons are fucked up</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">8th March 2007, 08:09</div></div><div class="posttext">3 years later - thx :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">8th March 2007, 13:07</div></div><div class="posttext">&gt;&quot;Using that function is enough, there is no need to remove the icon cache.&quot;<br />
<br />
In normal cases, yes. But in some cases if one installs an icon with the exact SAME name multiple times, the iconcache gets messed up.<br />
<br />
E.g. one constantli redesigns/impoves the icon design with every installer build and reinstalles on the same machine to retest where the icon always has the same name.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>