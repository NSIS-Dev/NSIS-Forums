<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI with location specific product names, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI with location specific product names NSIS Discussion" />
	
	<title> MUI with location specific product names [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI with location specific product names</div>
<hr />
<div class="pda"><a href="t-167045.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=167045">MUI with location specific product names</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">28th January 2004, 14:58</div></div><div class="posttext">Hello everyone!<br />
<br />
I'm having a problem when i define name as a langstring. ie:<br />
<br />
  Name &quot;$(PRODUCT_NAME) $(PRODUCT_EDITION)&quot;<br />
<br />
The problem is is that Name can only be defined once. Therefore, when you build containing Uninstall source as well you cannot re-define it like:<br />
<br />
  Name &quot;$(un.PRODUCT_NAME) $(un.PRODUCT_EDITION)&quot;<br />
<br />
This causes the uninstall to not detect the &quot;!insertmacro MUI_UNGETLANGUAGE&quot; macro.<br />
<br />
I looked through the documentation and the forum and did not find UnName or any other work around. Does anyone know how I can get around this?<br />
<br />
Cheers,<br />
<br />
ZIMSMS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th January 2004, 16:17</div></div><div class="posttext">Which version of NSIS are you using? You don't need the un. prefix for language strings since 2.0b4.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">28th January 2004, 16:23</div></div><div class="posttext">Yeah, I'm using 2.0b4, I guess it's time to try an update. Hopefully I won't have to change too much, I have close to 30 installers that would need updating.<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">28th January 2004, 16:30</div></div><div class="posttext">There have not been that many script changes since beta 4.<br />
<br />
But beta 3 was the last version with uninstaller specific language strings, beta 4 and later have shared language strings for installer and uninstaller.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">28th January 2004, 16:56</div></div><div class="posttext">Alright, I upgraded to 2.0RC3. The issue still persists. I believe I have an explanation. The Name definition(see above) always starts out in the os specified format since it's a langstring, which is fine. However, if I install as french on an english box the name parameter isn't re-evaluated before the call to MUI_UNGETLANGUAGE, so it's default state is the current os version therefore it doesn't know that it should be looking for the french product name, when evaluating MUI_UNGETLANGUAGE. <br />
<br />
so for example during the install:<br />
1. I am on an english OS and choose a french install.<br />
2. The name that gets placed in the add-remove is the french product name, like it should.<br />
3. I perform an uninstall, when it first goes to obtain the installed language it is looking for the english product name, therefore, not finding the french product name, and displaying the language dialog.<br />
<br />
Option A: Maybe the MUI_UNGETLANGUAGE should evaluate each of the defined language product names?<br />
<br />
Option B: Any ideas on a simple way to resolve this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">28th January 2004, 21:11</div></div><div class="posttext">So you have the langauge stored in a language specific registry key. That doesn't really make sense does it? I see no reason for a registry key to be language specific, it only causes troubles.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>