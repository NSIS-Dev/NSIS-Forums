<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Error in Windows XP, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Error in Windows XP NSIS Discussion" />
	
	<title> Error in Windows XP [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Error in Windows XP</div>
<hr />
<div class="pda"><a href="t-292466.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=292466">Error in Windows XP</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ltcabral</div><div class="date">29th May 2008, 18:02</div></div><div class="posttext">Im running the installer in windows 2000 server, and it works correctly. But when i run in windows xp it doesnt write the .ini file correcly, in the cacic_dir field where it writes the $R0 variable, it writes an error instead. Am i using something that doesnt work in windows xp?<br />
<br />
here is the part of the installer related to the .ini file where the error happens. the other fields of this file are written correctly.<br />
<br />
pastebin.com/m8a90d8d</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">29th May 2008, 22:22</div></div><div class="posttext">You have switch /SHORT on StrCpy. It probably should be in GetFullPathName.<br />
<br />
Edit: But code like that shouldn't even compile. That error comes from AccessControl plug-in, because you have the &quot;pop $R0&quot; after GetFullPathName.<br />
<br />
So after the AccessControl:: lines change the code to this...<br />
...<br />
pop $R0<br />
<br />
GetFullPathName /SHORT $R0 $INSTDIR<br />
   <br />
StrCpy $R0 $R0 &quot;&quot; 3<br />
...<br />
The next thing you have to figure out is why AccessControl is giving you a error.<br />
<br />
PaR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ltcabral</div><div class="date">3rd June 2008, 04:06</div></div><div class="posttext">well i fixed that part... but the main problem is the permissions.<br />
<br />
in the administrator account it works perfectly, but in a normal windows xp account it doesnt even create the folder in Program Files... how can i set the correct permissions to allow everything?<br />
<br />
<br />
in other words, is it possible to give permissions to a normal user install the program (just by using the nsis installer) in Program Files??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd June 2008, 11:18</div></div><div class="posttext">a normal user can't write to programfiles, end of story</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>