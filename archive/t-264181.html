<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" To add Checkboxes on FINISHPAGE, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  To add Checkboxes on FINISHPAGE NSIS Discussion" />
	
	<title> To add Checkboxes on FINISHPAGE [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  To add Checkboxes on FINISHPAGE</div>
<hr />
<div class="pda"><a href="t-264181.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264181">To add Checkboxes on FINISHPAGE</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ankurm</div><div class="date">22nd January 2007, 18:18</div></div><div class="posttext">Hi<br />
I am new to NSIS<br />
I want to add checkboxes on my FINISHPAGE ....<br />
one checkbox for Desktop Shortcut<br />
and one to add icon in quick launch..<br />
<br />
i know that i can add checkbox for Readme file <br />
and also to run exe...<br />
<br />
but i am not able to add checkboxes on FINISHPAGE.....<br />
<br />
any help will be highly appreciated<br />
<br />
Thanks <br />
Ankur</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">22nd January 2007, 19:00</div></div><div class="posttext">If you're not going to use the read me check box and/or the run check box, you may use MUI_FINISHPAGE_SHOWREADME_FUNCTION and/or MUI_FINISHPAGE_RUN_FUNCTION to assign your own actions for the check boxes, see MUI documentation http://nsis.sourceforge.net/Docs/Modern%20UI/Readme.html<br />
Otherwise you should edit the iospecial.ini at runtime before the finish page appears and add desired controls.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ankurm</div><div class="date">23rd January 2007, 05:43</div></div><div class="posttext">I am using readme checkbox....other than that i need two more checkboxes for desktop shortcut and one for quick launch icon..<br />
I made some changes in iospecail.ini....but it is not working....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">23rd January 2007, 05:47</div></div><div class="posttext">Attach your INI file so we can have a look...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ankurm</div><div class="date">23rd January 2007, 05:50</div></div><div class="posttext">here is the ini file<br />
<br />
[Settings]<br />
Rect=1044<br />
NumFields=5<br />
<br />
[Field 1]<br />
Type=bitmap<br />
Left=0<br />
Right=109<br />
Top=0<br />
Bottom=193<br />
Flags=RESIZETOFIT<br />
<br />
[Field 2]<br />
Type=label<br />
Left=120<br />
Right=315<br />
Top=10<br />
<br />
[Field 3]<br />
Type=label<br />
Left=120<br />
Right=315<br />
<br />
[Field 4]<br />
Type=CheckBox<br />
Text=Create Shortcut on Desktop<br />
Flags=NOTIFY <br />
State=1<br />
Left=120<br />
Right=315<br />
Top=60<br />
Bottom=78<br />
<br />
<br />
[Field 5]<br />
Type=CheckBox<br />
Flags=NOTIFY <br />
Text=Add to Quick Launch<br />
State=1<br />
Left=-200<br />
Right=-140<br />
Top=30<br />
Bottom=48</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ankurm</div><div class="date">23rd January 2007, 05:52</div></div><div class="posttext">i added 2 checkboxes as per my requirment on this ini</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">23rd January 2007, 06:47</div></div><div class="posttext">;NSIS Modern User Interface<br />
;Welcome/Finish Page Example Script<br />
;Written by Joost Verburg<br />
<br />
;--------------------------------<br />
;Include Modern UI<br />
<br />
  !include &quot;MUI.nsh&quot;<br />
<br />
;--------------------------------<br />
;General<br />
<br />
  ;Name and file<br />
  Name &quot;Modern UI Test&quot;<br />
  OutFile &quot;WelcomeFinish.exe&quot;<br />
<br />
  ;Default installation folder<br />
  InstallDir &quot;$PROGRAMFILES\Modern UI Test&quot;<br />
<br />
  ;Get installation folder from registry if available<br />
  InstallDirRegKey HKCU &quot;Software\Modern UI Test&quot; &quot;&quot;<br />
<br />
;--------------------------------<br />
;Interface Settings<br />
<br />
  !define MUI_ABORTWARNING<br />
<br />
;--------------------------------<br />
;Pages<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_LICENSE &quot;${NSISDIR}\Docs\Modern UI\License.txt&quot;<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_DIRECTORY<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
<br />
;--------------------------------<br />
;Modified Finish Page<br />
<br />
  !define MUI_PAGE_CUSTOMFUNCTION_PRE fin_pre<br />
  !define MUI_PAGE_CUSTOMFUNCTION_SHOW fin_show<br />
  !define MUI_PAGE_CUSTOMFUNCTION_LEAVE fin_leave<br />
  !define MUI_FINISHPAGE_SHOWREADME &quot;${NSISDIR}\Docs\Modern UI\Changelog.txt&quot;<br />
  !define MUI_FINISHPAGE_RUN<br />
  !define MUI_FINISHPAGE_RUN_FUNCTION Desc_ShortCut<br />
  !define MUI_FINISHPAGE_RUN_TEXT &quot;Create Desktop Shortcut&quot;<br />
  !insertmacro MUI_PAGE_FINISH<br />
<br />
  !insertmacro MUI_UNPAGE_WELCOME<br />
  !insertmacro MUI_UNPAGE_CONFIRM<br />
  !insertmacro MUI_UNPAGE_INSTFILES<br />
  !insertmacro MUI_UNPAGE_FINISH<br />
<br />
;--------------------------------<br />
;Languages<br />
<br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
;--------------------------------<br />
;Installer Functions<br />
<br />
Function Desc_Shortcut<br />
SetOutPath &quot;$INSTDIR&quot;<br />
CreateShortCut &quot;$DESKTOP\my program.lnk&quot; &quot;$INSTDIR\makensisw.exe&quot;<br />
FunctionEnd<br />
<br />
Function fin_show<br />
ReadINIStr $0 &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;HWND&quot;<br />
SetCtlColors $0 0x000000 0xFFFFFF<br />
FunctionEnd<br />
<br />
Function fin_pre<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Settings&quot; &quot;NumFields&quot; &quot;6&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Type&quot; &quot;CheckBox&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Text&quot; &quot;&amp;Create Quicklaunch Shortcut&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Left&quot; &quot;120&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Right&quot; &quot;315&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Top&quot; &quot;130&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Bottom&quot; &quot;140&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;State&quot; &quot;1&quot;<br />
FunctionEnd<br />
<br />
Function fin_leave<br />
ReadINIStr $0 &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
StrCmp $0 &quot;0&quot; end<br />
SetOutPath &quot;$INSTDIR&quot;<br />
CreateShortCut &quot;$QUICKLAUNCH\my program.lnk&quot; &quot;$INSTDIR\makensisw.exe&quot;<br />
end:<br />
FunctionEnd<br />
<br />
;--------------------------------<br />
;Installer Sections<br />
<br />
Section &quot;Dummy Section&quot; SecDummy<br />
<br />
  SetOutPath &quot;$INSTDIR&quot;<br />
<br />
  ;ADD YOUR OWN FILES HERE...<br />
  File &quot;${NSISDIR}\makensisw.exe&quot;<br />
<br />
<br />
  ;Store installation folder<br />
  WriteRegStr HKCU &quot;Software\Modern UI Test&quot; &quot;&quot; $INSTDIR<br />
<br />
  ;Create uninstaller<br />
  WriteUninstaller &quot;$INSTDIR\Uninstall.exe&quot;<br />
<br />
SectionEnd<br />
<br />
;--------------------------------<br />
;Descriptions<br />
<br />
  ;Language strings<br />
  LangString DESC_SecDummy ${LANG_ENGLISH} &quot;A test section.&quot;<br />
<br />
  ;Assign language strings to sections<br />
  !insertmacro MUI_FUNCTION_DESCRIPTION_BEGIN<br />
    !insertmacro MUI_DESCRIPTION_TEXT ${SecDummy} $(DESC_SecDummy)<br />
  !insertmacro MUI_FUNCTION_DESCRIPTION_END<br />
<br />
;--------------------------------<br />
;Uninstaller Section<br />
<br />
Section &quot;Uninstall&quot;<br />
<br />
  ;ADD YOUR OWN FILES HERE...<br />
<br />
  Delete &quot;$INSTDIR\makensisw.exe&quot;<br />
  Delete &quot;$INSTDIR\Uninstall.exe&quot;<br />
<br />
  RMDir &quot;$INSTDIR&quot;<br />
<br />
  DeleteRegKey /ifempty HKCU &quot;Software\Modern UI Test&quot;<br />
<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ankurm</div><div class="date">23rd January 2007, 07:12</div></div><div class="posttext">thanx a lot for the code.....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ankurm</div><div class="date">23rd January 2007, 09:04</div></div><div class="posttext">Red Wine can you please send me iospecial.ini that you used.<br />
i am getting problem related to create desktop shortcut checkbox,as i try to uncheck or check that checkbox finish page closes.<br />
same with read me check box.<br />
i think this is problem related to ini.<br />
so can u please send me that file</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">23rd January 2007, 09:36</div></div><div class="posttext">I haven't use any particular iospecial.ini, it is just the iospecial.ini that is used by MUI to display the welcome/finish pages. What I'm actually doing is to edit this ini at runtime in order to add the extra checkbox control.<br />
Compile and run and examine the provided above example, everything is pretty clear I guess.<br />
The used from MUI iospecial.ini is located inside NSIS installation directory (usually program files\nsis) at Contrib\Modern UI.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ankurm</div><div class="date">23rd January 2007, 11:50</div></div><div class="posttext">Still i am facing a problem.<br />
i make a customize page and i place 2 checkbox on that page...<br />
now whenever i check/uncheck those checkboxes,installer is going on next page...just like i clicked next button which i didn't<br />
checkboxes are working fine....<br />
i don't know why this problem is coming<br />
any body please help me</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">23rd January 2007, 12:25</div></div><div class="posttext">I suspect you've added notify flag, this is the only reason I could think that causes this issue. Notify flag is veeery useful, though, you don't need it at the moment.<br />
Again, allow me ask, did you examine the above provided example?<br />
It's just a matter of copy/paste the code to your script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ankurm</div><div class="date">23rd January 2007, 12:29</div></div><div class="posttext">thanx<br />
<br />
i was using notify flag....that was creating all the problems....<br />
<br />
thanx a lot<br />
ya i used above code...<br />
and now my problem is solved....<br />
thanx again</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r99t</div><div class="date">30th September 2008, 15:35</div></div><div class="posttext">Is it possible to force (READONLY) the checkbox for the readme.txt?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">timjulien</div><div class="date">24th September 2009, 19:02</div></div><div class="posttext">Will this technique work for the uninstaller confirm page in MUI or MUI2?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">25th September 2009, 09:35</div></div><div class="posttext">Probably, but you're better off using nsDialogs instead of InstallOptions.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>