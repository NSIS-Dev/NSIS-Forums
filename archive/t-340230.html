<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Create custom ${IF}... Test, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Create custom ${IF}... Test NSIS Discussion" />
	
	<title> Create custom ${IF}... Test [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Create custom ${IF}... Test</div>
<hr />
<div class="pda"><a href="t-340230.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=340230">Create custom ${IF}... Test</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">4th January 2012, 16:25</div></div><div class="posttext">Hi all, <br />
<br />
i hope my headline is somewhere in the vincinity of being correct of what i will describe now, if not i hope you can still help me :)<br />
<br />
I want to create my own &quot;string&quot; that i can use with the ${IF}..${ENDIF} clause. For example with logiclib you can use<br />
<br />
<br />
${IF} ${silent}<br />
  #do stuff<br />
${ENDIF}<br />
<br />
i want to create my own ${silent}, in my case it should be:<br />
<br />
<br />
${IF} $InstallPartOfApplication = 1 <br />
  #do stuff<br />
${ENDIF}<br />
<br />
so &quot;$InstallPartOfApplication = 1&quot; should become ${InstallPartOfApplication)<br />
<br />
<br />
${IF} ${InstallPartOfApplication)<br />
  #do stuff<br />
${ENDIF}<br />
<br />
<br />
now if $InstallPartOfApplication = 1 or not would be defined from a license file that is read during the beginning of the installation. <br />
<br />
I hope (lots of hoping in this one) i could post my question understandable, and somebody can help me. <br />
<br />
Btw. i looked at examples in the x64.nsh, which frankly i do not understand also looking at the silent part of logiclib.nsh did not bring me any step ahead i still wonder how _silent can be referenced from the !define below it....<br />
<br />
<br />
  !macro _Silent _a _b _t _f<br />
    IfSilent `${_t}` `${_f}`<br />
  !macroend<br />
  !define Silent `&quot;&quot; Silent &quot;&quot;`<br />
<br />
Thanks a lot.<br />
x</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">4th January 2012, 16:45</div></div><div class="posttext">As oh so many times, i might have come up with my own solution.<br />
<br />
Please advise if that would be a good way to do what i want<br />
<br />
<br />
<br />
${IF} &quot;LicensefilecontainsfeatureX&quot;<br />
  !define InstallFeatureX `1 = 1`<br />
${ELSE}<br />
    !define InstallFeatureX `1 = 0`<br />
${ENDIF}<br />
<br />
${IF} ${InstallFeatureX}<br />
 #do stuff<br />
${ENDIF}<br />
<br />
<br />
Thanks<br />
x</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">4th January 2012, 17:21</div></div><div class="posttext">That is not valid semantics. The code will not compile (have you even tried it?) You want:!define InstallPartOfApplication `$InstallPartOfApplication = 1`Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">5th January 2012, 08:07</div></div><div class="posttext">The code does compile, i have tried it :)<br />
<br />
I will use your example anyway, it makes more sense :)<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th January 2012, 11:40</div></div><div class="posttext">The code does compile, i have tried it :)Just for clarity, the exact code you posted, i.e.<br />
${IF} &quot;LicensefilecontainsfeatureX&quot;<br />
  !define InstallFeatureX `1 = 1`<br />
${ELSE}<br />
  !define InstallFeatureX `1 = 0`<br />
${ENDIF}will definitely not compile.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">5th January 2012, 13:42</div></div><div class="posttext">Oh (of course :) ) you are right, this was a try of showing what i want to accomplish. With the &quot;it compiles&quot; i was referring to the 1 = 1 part.<br />
<br />
Thanks for your help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">5th January 2012, 20:17</div></div><div class="posttext">Just creating a define is ok for this sort of thing, but you if require more logic you need a macro, those last two macro parameters are the jump labels for true/false...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>