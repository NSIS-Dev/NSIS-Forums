<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" get file dialog, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  get file dialog NSIS Discussion" />
	
	<title> get file dialog [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  get file dialog</div>
<hr />
<div class="pda"><a href="t-283416.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=283416">get file dialog</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pozbremser</div><div class="date">19th December 2007, 11:17</div></div><div class="posttext">hello<br />
<br />
I need a custom page with a button for filesystem.<br />
user clickt button, select  *.reg file.<br />
and regedit run the file after that.<br />
It's something like &quot;MUI_PAGE_FILE&quot;<br />
but there is only MUI_PAGE_DIRECTORY<br />
how can I do it?<br />
only one option: FileRequest exist?<br />
I use MUI<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">19th December 2007, 15:38</div></div><div class="posttext">Checkout the included examples.<br />
InstallOptions is what you're lookinng for,<br />
<br />
http://nsis.sourceforge.net/Docs/InstallOptions/Readme.html</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">19th December 2007, 15:38</div></div><div class="posttext">You can create a custom page (Page custom fn_enter fn_leave) using InstallOptions or nsDialogs.  InstallOptions might be easier for you to get up and running with as there are many examples. nsDialogs is still relatively new but appears to be more future-ready.<br />
<br />
Within the custom page you can create a FileRequest field, which can pop up a file browsing dialog.  Seems to be what you're looking for.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pozbremser</div><div class="date">19th December 2007, 17:24</div></div><div class="posttext">super!<br />
Thank You for answers!<br />
I try it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pozbremser</div><div class="date">20th December 2007, 14:59</div></div><div class="posttext">I created custom page with Type=FileRequest.<br />
But I want the page would be like MUI_PAGE_DIRECTORY.<br />
At first is next-button deactivate.<br />
only if selected file exist, user can go on.<br />
how can I do it?<br />
<br />
Thank You.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">20th December 2007, 16:27</div></div><div class="posttext">disable the button in the custom page enter function:<br />
<br />
GetDlgItem $0 $HWNDPARENT 1 ; Next button<br />
EnableWindow $0 0<br />
<br />
<br />
Then in the custom page leave function, check if the file exists, and enable it if it does, disable if not:<br />
<br />
; assume $1 to hold the filename<br />
GetDlgItem $0 $HWNDPARENT 1 ; Next button<br />
IfFileExists $1 _enable _disable<br />
<br />
_enable:<br />
EnableWindow $0 1<br />
goto _done<br />
<br />
_disable:<br />
EnableWindow $0 0<br />
<br />
goto _done<br />
_done:<br />
<br />
<br />
Make sure you set the flag FILE_MUST_EXIST in the filerequest control of your installoptions.ini file as well.  This won't prevent a user from entering an invalid file in the textbox (which is why you still need to check it in the exit function), but it will warn the user that the file is invalid (doesn't exist) when they are using the file browse dialog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pozbremser</div><div class="date">21st December 2007, 10:18</div></div><div class="posttext">Thank You,<br />
I can deactivate next button now.<br />
<br />
Next button must be activated, if the license file exist.<br />
If next button is deactivated, I cann't reach leave-funktion. It is something like fileopen-event of FileRequest,where I can check the file and activate next again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">25th December 2007, 03:01</div></div><div class="posttext">You should be able to set a NOTIFY flag on the filerequest.  That will cause the leave function to be called.  You'll have to check the status of the installoptions file to see whether the user used the filerequest control or the next button or some other element in your dialog to deal with code handling.  Make sure to call 'Abort' for any of the things that aren't the Next button, so that the installer will remain on the same page (i.e. your dialog)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>