<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" BUG/Missing line in makensis.nsi script, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  BUG/Missing line in makensis.nsi script NSIS Discussion" />
	
	<title> BUG/Missing line in makensis.nsi script [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  BUG/Missing line in makensis.nsi script</div>
<hr />
<div class="pda"><a href="t-293012.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=293012">BUG/Missing line in makensis.nsi script</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">11th June 2008, 19:10</div></div><div class="posttext">Hi all,<br />
<br />
There is a missing line in the makensis.nsi script.<br />
<br />
Specifically, in the &quot;Function PageReinstall&quot; function.<br />
<br />
There is:<br />
nsDialogs::Create /NOUNLOAD 1018<br />
<br />
But there is no &quot;Pop&quot; to grab the resulting value off the stack.<br />
<br />
Per the docs of nsdialogs:<br />
<br />
The first call must always be to nsDialogs::Create. It will create a new dialog in the page and return its HWND on the stack. The result must be popped from the stack to prevent stack corruption. If the result is error, the dialog couldn't be created.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th June 2008, 19:44</div></div><div class="posttext">Although it is good practice to always keep the stack clean, this isn't going to cause any problems in that script.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">12th June 2008, 01:37</div></div><div class="posttext">Hi Stu,<br />
<br />
Sure.<br />
<br />
I was just thinking that since we point people to makensis.nsi as a good example of a real world installer, that the code should be as close to bug/error free as possible. =)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th June 2008, 19:09</div></div><div class="posttext">Thanks, fixed.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>