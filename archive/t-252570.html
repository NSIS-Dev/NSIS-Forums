<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom Page Status of RadioButtons, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom Page Status of RadioButtons NSIS Discussion" />
	
	<title> Custom Page Status of RadioButtons [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom Page Status of RadioButtons</div>
<hr />
<div class="pda"><a href="t-252570.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=252570">Custom Page Status of RadioButtons</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kadijsha</div><div class="date">3rd August 2006, 16:02</div></div><div class="posttext">Hello,<br />
I´ve started working with NSIS yesterday and I now have a problem. I hope you can help me. I think it´s just a little problem for you.<br />
Okay, I´ve created a custom page on which are two radiobuttons:<br />
1 --&gt; user start the program on cd and the setup should close (exec, abort?)<br />
2 --&gt; setup continues and install the program<br />
<br />
<br />
<br />
LangString TEXT_IO_TITLE ${LANG_ENGLISH} &quot;Install and Play Options Page &quot;<br />
LangString TEXT_IO_SUBTITLE ${LANG_ENGLISH} &quot;A subtitle&quot;<br />
Page custom OwnPage ValidateCustom<br />
<br />
<br />
<br />
Function OwnPage ;FunctionName defined with Page command<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  # display page<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;test.ini&quot;<br />
  # Get the user entered values.<br />
   !insertmacro MUI_INSTALLOPTIONS_READ $Play &quot;test.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_READ $Install &quot;fridolin.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
FunctionEnd<br />
Function ValidateCustom<br />
	ReadINIStr $Play &quot;test.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
	ReadINIStr $Play &quot;test.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
		<br />
		<br />
FunctionEnd<br />
 <br />
<br />
Now I don´t know how I can check which one is checked. Is it ok to do this with ReadINIStr? And how can I now define what happens.<br />
<br />
Thank you so much. Kadijsha</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd August 2006, 16:18</div></div><div class="posttext">1. Read the values in the Leave function only (ValidateCustom).<br />
2. Use MUI_INSTALLOPTIONS_READ not ReadINIStr.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kadijsha</div><div class="date">3rd August 2006, 16:34</div></div><div class="posttext">OK. I´ll do it like this. But how can I make an if/else to check which one is checked and to perform both actions? Can you help me?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd August 2006, 18:41</div></div><div class="posttext">!include LogicLib.nsh<br />
#...<br />
${If} $Play == 1<br />
  # do something...<br />
${Else}<br />
  # do something else...<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kadijsha</div><div class="date">3rd August 2006, 19:10</div></div><div class="posttext">Thank you very much for your post. I didn´t find anything before.<br />
I´ve done this and now I get the following error:<br />
<br />
<br />
<br />
<br />
Function: &quot;OwnPage&quot;<br />
!insertmacro: MUI_HEADER_TEXT<br />
!insertmacro: end of MUI_HEADER_TEXT<br />
!insertmacro: MUI_INSTALLOPTIONS_DISPLAY<br />
!insertmacro: end of MUI_INSTALLOPTIONS_DISPLAY<br />
FunctionEnd<br />
Function: &quot;ValidateCustom&quot;<br />
!insertmacro: MUI_INSTALLOPTIONS_READ<br />
Usage: ReadINIStr $(user_var: output) ini_file section entry_name<br />
Error in macro MUI_INSTALLOPTIONS_READ on macroline 5<br />
Error in script &quot;C:\Dokumente und Einstellungen\Administrator\Desktop\installer2\fridolin\fridolin\fridolin.nsi&quot; on line 68 -- aborting creation process<br />
 <br />
<br />
I did it like this.<br />
<br />
<br />
Function ValidateCustom<br />
		!insertmacro MUI_INSTALLOPTIONS_READ $Play &quot;test.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
		!insertmacro MUI_INSTALLOPTIONS_READ $Install &quot;test.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
		${If} $Play == 1<br />
		# do something... <br />
		Exec &quot;$INSTDIR\test.exe&quot;<br />
		Quit<br />
		;${Else}<br />
		<br />
		# do something else...<br />
		${EndIf}<br />
		<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd August 2006, 19:22</div></div><div class="posttext">Are you sure $Play and $Install are defined?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd August 2006, 19:31</div></div><div class="posttext">With Var that is.<br />
<br />
Var Play<br />
Var Install<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kadijsha</div><div class="date">3rd August 2006, 19:46</div></div><div class="posttext">I thought that the variables will be defined by this. Do I have to define the variables at the beginning of the nsi-file?<br />
<br />
In this way: var play, var install?<br />
<br />
I will try it. Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kadijsha</div><div class="date">3rd August 2006, 19:55</div></div><div class="posttext">You are right, now it works. Thank you very much ;-))<br />
<br />
But I have another question:<br />
<br />
I create a shortcut in the startmenu and on the desktop. How can I create this in the startmenu of AllUsers not only in the startmenu of the current user? I´ve tried to find something about this in the manual and in the internet.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd August 2006, 19:58</div></div><div class="posttext">SetShellVarContext all</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kadijsha</div><div class="date">3rd August 2006, 20:56</div></div><div class="posttext">Thanks for the help. Now it works ;-)<br />
Bye Kadijsha</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>