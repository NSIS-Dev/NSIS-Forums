<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Just add 1 botton to a nsDialogs page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Just add 1 botton to a nsDialogs page NSIS Discussion" />
	
	<title> Just add 1 botton to a nsDialogs page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Just add 1 botton to a nsDialogs page</div>
<hr />
<div class="pda"><a href="t-323048.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=323048">Just add 1 botton to a nsDialogs page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Oddsodz</div><div class="date">11th October 2010, 14:43</div></div><div class="posttext">I Have been searching for 2 days now for a way to do what I guess is a simple thing.<br />
<br />
I Am sorry to say that I have lost me rag.  And now give up. :igor:<br />
<br />
I Wish to add one button to a nsDialog page.  But I am at a lost now as to how to do it.<br />
<br />
I Have my installer all working just as I want it.  But on this page (page 4 in my setup) I wish to add a button that when clicked will execute a function (it will do a ExecWait).  I Only need the one button on this page.  I Don't care where the button is.  I Just wish for it to be there.<br />
<br />
<br />
http://oddsodz.com/dump/prpost/prspash6.jpg<br />
<br />
<br />
So somewhere in the &quot;Function nsDialogsMumble&quot; part of my .nsi file I need to add some code.   But everything I have tried has failed  ;(<br />
<br />
I Hope somebody can take a look and tell me what I am missing (apart from a brain).<br />
<br />
Oddsodz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">11th October 2010, 15:14</div></div><div class="posttext">I'm not sure if the person who wrote this actually read the nsDialogs documentation...<br />
<br />
nsDialogs::CreateButton<br />
CreateButton is not a function inside nsDialogs... if going by the rest of the statements in that script, it would have to be something like:<br />
nsDialogs::CreateControl BUTTON ${WS_VISIBLE}|${WS_CHILD}|${WS_CLIPSIBLINGS}|${WS_TABSTOP} &quot;&quot; 120u -32u -130u 16u &quot;Button!&quot;<br />
<br />
What you might have been thinking of is the much friendlier macro/define form, though:<br />
${NSD_CreateButton} 120u -32u -130u 16u &quot;Button!&quot;<br />
<br />
Edit: for pointers as to how you might use those macro/defines for the rest of that dialog, see: http://www.pastebin.ca/1959339 (expires in 3 days).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Oddsodz</div><div class="date">11th October 2010, 17:00</div></div><div class="posttext">You sir.  Need a big cookie.  I Found out where I was going wrong.<br />
<br />
!include &quot;nsDialogs.nsh&quot; was not in my .nsi<br />
<br />
I Feel so silly but with much relief.  I Really was pulling my hair out.<br />
<br />
Thank you so very VERY much.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th October 2010, 17:34</div></div><div class="posttext">You should be using MUI2.nsh not MUI.nsh. MUI uses Install Options. MUI2 uses nsDialogs.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Oddsodz</div><div class="date">11th October 2010, 18:25</div></div><div class="posttext">I Don't care now.  It works as it should.  I Am more than happy.<br />
<br />
Thanks guys.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th October 2010, 20:22</div></div><div class="posttext">You should care because it means it's bundling Install Options as well as nsDialogs. Just change the single !include line to MUI2.nsh (it should be that simple in your case).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th October 2010, 20:22</div></div><div class="posttext">You should care because it means it's bundling Install Options as well as nsDialogs. Just change the single !include line to MUI2.nsh (it should be that simple in your case).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Oddsodz</div><div class="date">11th October 2010, 20:33</div></div><div class="posttext">I Thank you for looking out for me.  But as I am a noob in such things. Why would it matter?  Right now.  It works as I need it to. <br />
<br />
I did try the change.  <br />
<br />
And it spat out a load of errors.  All that could be ignored and the installer still worked as it should.  So I am at a lost as to why I should change.  I Am a firm believer in &quot;If it's not broke.  Don't fix it&quot;.<br />
<br />
Please don't look at this post as a bad thing.  I Am a noob.  So I will need a noobs guides in such matters.<br />
<br />
Thanks<br />
<br />
EDIT.<br />
<br />
Here is the error <br />
<br />
  unknown variable/constant &quot;mui.ComponentsPage.DescriptionText&quot; detected, ignoring (macro:MUI_DESCRIPTION_BEGIN:4)<br />
  unknown variable/constant &quot;mui.ComponentsPage.DescriptionText&quot; detected, ignoring (macro:MUI_DESCRIPTION_BEGIN:5)<br />
  unknown variable/constant &quot;mui.ComponentsPage.DescriptionText.Info&quot; detected, ignoring (macro:MUI_DESCRIPTION_BEGIN:6)<br />
  unknown variable/constant &quot;mui.ComponentsPage.DescriptionText&quot; detected, ignoring (macro:MUI_DESCRIPTION_BEGIN:6)<br />
  unknown variable/constant &quot;mui.ComponentsPage.DescriptionText&quot; detected, ignoring (macro:MUI_DESCRIPTION_TEXT:6)<br />
  unknown variable/constant &quot;mui.ComponentsPage.DescriptionText&quot; detected, ignoring (macro:MUI_DESCRIPTION_TEXT:7)<br />
  unknown variable/constant &quot;mui.ComponentsPage.DescriptionText&quot; detected, ignoring (macro:MUI_DESCRIPTION_TEXT:8)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th October 2010, 22:53</div></div><div class="posttext">Comment out or remove the code under ;Descriptions (lines 372 to 376). Those are section descriptions for the MUI Components page but you don't have one of those. InstallOptions uses INI files and is slow. Also if you're already using nsDialogs for your own custom pages, might as well save some space and get MUI to use nsDialogs as well. Also I recommend adding SetCompressor /solid lzma for best compression.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">12th October 2010, 05:58</div></div><div class="posttext">Also I recommend adding SetCompressor /solid lzma for best compression.<br />
His installer has only very few file to extract, there is no reason to use solid compression. Regular LZMA would be the obvious choice.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>