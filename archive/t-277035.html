<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" GetCurInstType get 0 not 32, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  GetCurInstType get 0 not 32 NSIS Discussion" />
	
	<title> GetCurInstType get 0 not 32 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  GetCurInstType get 0 not 32</div>
<hr />
<div class="pda"><a href="t-277035.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=277035">GetCurInstType get 0 not 32</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pozbremser</div><div class="date">7th September 2007, 08:12</div></div><div class="posttext">hi,<br />
<br />
GetCurInstType must get 32 if InstType Custom is choosen.<br />
The function get 0 if only one section choosen.<br />
The function get 32 if more as one section choosen.<br />
<br />
!include &quot;MUI.nsh&quot;<br />
 <br />
Name &quot;test&quot;<br />
OutFile &quot;test.exe&quot;<br />
XPStyle on<br />
ShowInstDetails show<br />
<br />
InstType &quot;Point1&quot;<br />
InstType &quot;/CUSTOMSTRING=Point2&quot;<br />
 <br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Section &quot;Sec1&quot; test_section_id<br />
SectionIn 1<br />
  GetCurInstType $0<br />
  MessageBox MB_OK $0<br />
SectionEnd<br />
<br />
Section /o &quot;Sec2&quot; <br />
SectionIn 32 <br />
SectionEnd<br />
<br />
Section /o &quot;Sec3&quot;<br />
SectionIn 32 <br />
SectionEnd<br />
<br />
Section /o &quot;Sec4&quot;<br />
SectionIn 32 <br />
SectionEnd<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th September 2007, 17:19</div></div><div class="posttext">32 is still an installation type for the one-based SectionIn count. If you want the three last sections to not be in the first installation type, don't use SectionIn at all.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pozbremser</div><div class="date">7th September 2007, 19:16</div></div><div class="posttext">OK! <br />
<br />
docu: .onSelChange<br />
Selection changes include both section selection and installation type change.<br />
<br />
does Selection change mean only manualy change of checkboxes in the list with sections, and not manually change of dropdown wiht InstType?<br />
<br />
I'v thought, GetCurInstType get 32 in both cases:<br />
if I choose custom InstType in the dropdown  or <br />
if I change selection by section and dropdown changes<br />
  to custom InstType on the basis of SectionIn.<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
Name &quot;test&quot;<br />
OutFile &quot;test.exe&quot;<br />
XPStyle on<br />
ShowInstDetails show<br />
<br />
InstType &quot;Point1&quot;<br />
InstType &quot;/CUSTOMSTRING=Point2&quot;<br />
<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Section &quot;sec1_id&quot; sec1_id<br />
SectionEnd<br />
<br />
Section &quot;sec2_id&quot; sec2_id<br />
SectionEnd<br />
<br />
Section &quot;sec3_id&quot; sec3_id<br />
SectionEnd<br />
<br />
Section &quot;sec4_id&quot; sec4_id<br />
SectionEnd<br />
<br />
Function .onSelChange<br />
  GetCurInstType $0<br />
  MessageBox MB_OK $0<br />
FunctionEnd<br />
<br />
<br />
Thank You!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th September 2007, 07:44</div></div><div class="posttext">&quot;Selection change&quot; doesn't mean change with the drop-down list. &quot;Installation type change&quot;, on the other hand, does refer to the drop-down list.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deena.w</div><div class="date">17th December 2010, 06:36</div></div><div class="posttext">I am still confused about the function GetCurInstType, it seems the return value of it changed to 32 only when any of the checkbox of section has been changed, not by selecting the “custom” from the dropdown list of insttype. But in users manual, it says: “The value of ${NSIS_MAX_INST_TYPES} (32 by default) means that the custom install type was selected.” Doesn’t it mean that the custom insttype was selected from the dropdown menu?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deena.w</div><div class="date">17th December 2010, 06:50</div></div><div class="posttext">Kichik said:GetCurInstType returns the installation type according to the selection. If the user selected Custom but selected the same components that would be selected for another installation type, GetCurInstType will not return Custom.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>