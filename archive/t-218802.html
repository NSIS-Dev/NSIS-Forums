<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" hide all sections except some in silent mode, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  hide all sections except some in silent mode NSIS Discussion" />
	
	<title> hide all sections except some in silent mode [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  hide all sections except some in silent mode</div>
<hr />
<div class="pda"><a href="t-218802.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=218802">hide all sections except some in silent mode</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jsbach</div><div class="date">13th June 2005, 14:24</div></div><div class="posttext">i'm confused on how to hide all sections except one (i.e. instfiles) while in silent mode. i don't want to exclude pages or make everything silent: i basically wish a normal script to always show instfiles progress wheter or not /S par was passed on cmdline; if no /S is passed, then script should execute as normal (with all sections/pages).<br />
<br />
I'm quite sure this possibly be already covered in the forum : my apologies not finding it. i appreciate just an hint to correctly look for the right anwser to my need...<br />
thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mæster</div><div class="date">13th June 2005, 19:58</div></div><div class="posttext">Use the &quot;IfSilent&quot; statement to check by code if the installer runs in silent mode or not. If you know in which mode the installer currently runs you could react to do whatever you want including to show the installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jsbach</div><div class="date">14th June 2005, 16:46</div></div><div class="posttext">thanks Mæster, however IfSilent is not valid outside sections. so i can't do:<br />
IfSilent +4 ; ? visible only if not silent ?<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
<br />
!insertmacro MUI_PAGE_INSTFILES ; ? always visible ?<br />
<br />
IfSilent +2 ; ? visible only if not silent ?<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
; uninstall always visible...<br />
<br />
!insertmacro MUI_UNPAGE_WELCOME<br />
!insertmacro MUI_UNPAGE_CONFIRM<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
!insertmacro MUI_UNPAGE_FINISH<br />
<br />
any other hint ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mæster</div><div class="date">14th June 2005, 19:17</div></div><div class="posttext">If it was me trying to only show the installfiles page if started in silent mode, i would probably use the following trick to do that:<br />
<br />
1. I would save the silent mode in a variable and then set the installmode to normal<br />
<br />
2. Depending on the variable I would skip/show all pages except the installfiles page which should always be shown.<br />
<br />
Here is it written in code:<br />
<br />
Var HIDEPAGE       # set to &quot;1&quot; if started silent<br />
<br />
!define MUI_WELCOMEFINISHPAGE_CUSTOMFUNCTION_INIT ShowSkipPage<br />
!insertmacro MUI_PAGE_WELCOME       # skipped if started silent<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE ShowSkipPage<br />
!insertmacro MUI_PAGE_COMPONENTS    # skipped if started silent<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE ShowSkipPage<br />
!insertmacro MUI_PAGE_DIRECTORY     # skipped if started silent<br />
<br />
!insertmacro MUI_PAGE_INSTFILES     # always show this one<br />
<br />
!insertmacro MUI_PAGE_FINISH        # skipped if started silent<br />
<br />
# right after the installer started we check if runs in silent mode<br />
Function .onInit<br />
    # IfSilent we set HIDEPAGE = &quot;1&quot;<br />
    IfSilent 0 +3<br />
    Strcpy $HIDEPAGE &quot;1&quot;<br />
    SetSilent normal<br />
    # we always set the installer mode to normal to use the page<br />
    # callback functions<br />
FunctionEnd<br />
<br />
# function to skip the page if $HIDEPAGE = &quot;1&quot;<br />
Function ShowSkipPage<br />
    Strcmp $HIDEPAGE &quot;1&quot; 0 +2<br />
    ABORT<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jsbach</div><div class="date">21st June 2005, 23:39</div></div><div class="posttext">exactly what i need. thanks a lot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mpenaili</div><div class="date">19th July 2005, 18:01</div></div><div class="posttext">this script is excelente!!!!! thanks..<br />
Marcelo</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>