<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem Editing System Path, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem Editing System Path NSIS Discussion" />
	
	<title> Problem Editing System Path [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem Editing System Path</div>
<hr />
<div class="pda"><a href="t-274813.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274813">Problem Editing System Path</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">madams</div><div class="date">23rd July 2007, 17:14</div></div><div class="posttext">Hi,<br />
<br />
I am using the Path Manipulation plugin on the main NSIS website, but whenever I try to use:<br />
<br />
Push $antHomeDir\bin<br />
Call AddToPath<br />
<br />
To add the ANT bin directory to the path, nothing happens. When I use: <br />
<br />
Push $antHomeDir<br />
Call AddToPath<br />
<br />
or <br />
<br />
Push $javaHome<br />
Call AddToPath<br />
<br />
however, the command works perfectly. I have no idea what is going on, and would really appreciate some help.<br />
<br />
Thanks!<br />
<br />
p.s. I have tried quotes around $antHomeDir\bin but nothing has happened.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">23rd July 2007, 18:13</div></div><div class="posttext">Maybe there's already one backslash at the end of $antHomeDir value, so by adding the second with \BIN causes that issue.<br />
Try to debug your script with message boxes and remove one backslash if necessary to see if it works.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">madams</div><div class="date">23rd July 2007, 18:50</div></div><div class="posttext">I put the following message box:<br />
<br />
Message Box MB_OK &quot;$anthomedir\bin&quot;<br />
<br />
right before the Path command and got &quot;C:\apache-ant-1.6.0\bin&quot; as the output, which is correct. I  then tried this: <br />
<br />
Push &quot;C:\apache-ant-1.6.0\bin&quot;<br />
Call AddToPath<br />
<br />
But even that didn't work. Any other ideas?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd July 2007, 19:06</div></div><div class="posttext">Make sure the directory exists prior to adding it. AddToPath doesn't add non-existing paths.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">madams</div><div class="date">23rd July 2007, 19:20</div></div><div class="posttext">The directory does already exist before the command is called. I've even tried:<br />
<br />
Push &quot;PATH&quot;<br />
Push $antHomeDir\bin<br />
Call AddToEnvVar <br />
<br />
but that doesn't work either.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd July 2007, 19:28</div></div><div class="posttext">Then it must think the directory is already in the PATH for some reason. Are you sure it's not in the user's local PATH?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">madams</div><div class="date">23rd July 2007, 19:58</div></div><div class="posttext">Nope, its not already there. Maybe this particular plugin just doesn't like the syntax of the ANT directory...Are there any other path manipulation plugins out there that I could try?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd July 2007, 20:06</div></div><div class="posttext">It's not a plug-in, it's a script. You can take a look at the code and even modify it to find out where it stops.<br />
<br />
The syntax of the directory is fine. It's perfectly normal.<br />
<br />
The script only stops for two reasons which I've already mentioned. Maybe you're running the installer from an environment where the PATH is already set, so it doesn't add it again. You can add some debugging code to AddToPath to make sure.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>