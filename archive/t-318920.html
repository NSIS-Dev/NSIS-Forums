<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to build nsis source code, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to build nsis source code NSIS Discussion" />
	
	<title> How to build nsis source code [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to build nsis source code</div>
<hr />
<div class="pda"><a href="t-318920.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318920">How to build nsis source code</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dhiraj3301</div><div class="date">4th May 2010, 11:22</div></div><div class="posttext">I want to change message &quot;unpacking data&quot; ,for that i have downloaded nsis source code and changd file Source\exehead\lang.h,for the compilation of nsis source code i refer following link       http://nsis.sourceforge.net/Docs/AppendixG.html <br />
<br />
I have installed python-2.5.1.msi, scons-0.97.win32.exe ,Microsoft visual tooltip 2003,microsoft visual c++ 2006, <br />
<br />
but when i run   &quot;scons MSTOOLKIT=yes&quot;  command prompt it gives error &quot;Scons is not recognised as an internal or external command,operable program or batch file&quot;<br />
<br />
Please tell me how to build nsis source code,give me exact steps what to do to compile nsis source code.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">4th May 2010, 17:36</div></div><div class="posttext">you need scons 1.x now if you are compiling code from svn, but the &quot;Scons is not recognised as an internal or external command,operable program or batch file&quot; command is a cmd.exe error message, meaning it can't find scons. the scons batch file is in the scripts subfolder (where you installed python) so run it with full path or add it to your path env</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhiraj3301</div><div class="date">10th May 2010, 08:31</div></div><div class="posttext">is it posible to show some  other window above &quot;unpacking data&quot; window?<br />
<br />
Thanks,<br />
Dhiraj</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhiraj3301</div><div class="date">13th May 2010, 11:04</div></div><div class="posttext">hi,<br />
<br />
i am tryed very much but  i am not able to recompile nsis,i have follow th e steps given in http://nsis.sourceforge.net/Docs/AppendixG.html <br />
<br />
I have installed python-2.5.1.msi, scons-1.3.0.win32.exe but ,still same error is coming <br />
 &quot;Scons is not recognised as an internal or external command,operable program or batch file&quot;<br />
<br />
Please someone tell me,what i have to do to recompile nsis source code,<br />
<br />
Thanks,<br />
Dhiraj</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">13th May 2010, 11:52</div></div><div class="posttext">i already told you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhiraj3301</div><div class="date">13th May 2010, 12:19</div></div><div class="posttext">hi Anders,<br />
<br />
I have do as you tell i have executed scons-1.3.0.bat present in script folder,but same error reproduced then also i try second case,added that path to environment path but still same &quot;Scons is not recognised as an internal or external command,operable program or batch file&quot; error is coming,<br />
<br />
Please,tell me if you have another solution,<br />
<br />
Thanks,<br />
Dhiraj</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhiraj3301</div><div class="date">14th May 2010, 06:45</div></div><div class="posttext">Hi,<br />
<br />
i have executed following <br />
<br />
set MSSDK=C:\Path\To\Platform SDK<br />
set VCToolkitInstallDir=C:\Path\To\VCToolkit<br />
scons MSTOOLKIT=yes<br />
<br />
now ,i got new error <br />
<br />
C:\dev\nsis\nsis-2.45-src&gt;scons MSTOOLKIT=yes<br />
scons: Reading SConscript files ...<br />
Mkdir(&quot;build\release\config&quot;)<br />
Delete(&quot;nsis-14-May-2010.cvs&quot;)<br />
Delete(&quot;.instdist&quot;)<br />
Delete(&quot;.test&quot;)<br />
Using Microsoft tools configuration<br />
Checking for memset requirement... no<br />
Checking for C library gdi32... yes<br />
Checking for C library user32... yes<br />
Checking for C library pthread... no<br />
Checking for C library iconv... no<br />
Checking for C library version... yes<br />
Checking for C library dl... no<br />
Checking for C library gdi32... yes<br />
Checking for C library iconv... no<br />
Checking for C library pthread... no<br />
Checking for C library user32... yes<br />
Checking for C library version... yes<br />
Checking for C++ library cppunit... no<br />
scons: done reading SConscript files.<br />
scons: Building targets ...<br />
scons: *** [build\release\AdvSplash\AdvSplash.dll] AttributeError : 'NoneType' o<br />
bject has no attribute '__dict__'<br />
scons: building terminated because of errors.<br />
<br />
please ,any one please suggest what to do to remove this error?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th May 2010, 13:36</div></div><div class="posttext">You probably don't want to build all the plug-ins so add the SKIPPLUGINS=all to the scons command line.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhiraj3301</div><div class="date">17th May 2010, 05:53</div></div><div class="posttext">hi,<br />
i run scons MSTOOLKIT=yes SKIPPLUGINS=all but following error comes:<br />
<br />
<br />
scons: Building targets ...<br />
&quot;C:\Program Files\Microsoft Platform SDK\\bin\Win64\link.exe&quot; /nologo /opt:nowin<br />
98 /map /OUT:build\release\Library\LibraryLocal\LibraryLocal.exe oleaut32.lib ve<br />
rsion.lib build\release\Library\LibraryLocal\LibraryLocal.obj build\release\Libr<br />
ary\LibraryLocal\ResourceEditor.obj build\release\Library\LibraryLocal\util.obj<br />
build\release\Library\LibraryLocal\winchar.obj<br />
LibraryLocal.obj : error LNK2019: unresolved external symbol &quot;__int64 std::_Fpz&quot;<br />
 (?_Fpz@std@@3_JA) referenced in function &quot;protected: virtual class std::fpos&lt;in<br />
t&gt; __thiscall std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;::seekoff<br />
(long,int,int)&quot; (?seekoff@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MAE?AV?<br />
$fpos@H@2@JHH@Z)<br />
LibraryLocal.obj : error LNK2019: unresolved external symbol &quot;long const std::_B<br />
ADOFF&quot; (?_BADOFF@std@@3JB) referenced in function &quot;protected: virtual class std:<br />
:fpos&lt;int&gt; __thiscall std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;:<br />
:seekoff(long,int,int)&quot; (?seekoff@?$basic_streambuf@DU?$char_traits@D@std@@@std@<br />
@MAE?AV?$fpos@H@2@JHH@Z)<br />
LibraryLocal.obj : error LNK2019: unresolved external symbol &quot;public: void __thi<br />
scall std::_String_base::_Xran(void)const &quot; (?_Xran@_String_base@std@@QBEXXZ) re<br />
ferenced in function &quot;public: int __thiscall std::basic_string&lt;char,struct std::<br />
char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::compare(unsigned int,unsigned in<br />
t,char const *,unsigned int)const &quot; (?compare@?$basic_string@DU?$char_traits@D@s<br />
td@@V?$allocator@D@2@@std@@QBEHIIPBDI@Z)<br />
ResourceEditor.obj : error LNK2001: unresolved external symbol &quot;public: void __t<br />
hiscall std::_String_base::_Xran(void)const &quot; (?_Xran@_String_base@std@@QBEXXZ)<br />
util.obj : error LNK2001: unresolved external symbol &quot;public: void __thiscall st<br />
d::_String_base::_Xran(void)const &quot; (?_Xran@_String_base@std@@QBEXXZ)<br />
winchar.obj : error LNK2001: unresolved external symbol &quot;public: void __thiscall<br />
 std::_String_base::_Xran(void)const &quot; (?_Xran@_String_base@std@@QBEXXZ)<br />
LibraryLocal.obj : error LNK2019: unresolved external symbol &quot;public: void __thi<br />
scall std::locale::facet::_Register(void)&quot; (?_Register@facet@locale@std@@QAEXXZ)<br />
 referenced in function &quot;class std::ctype&lt;char&gt; const &amp; __cdecl std::use_facet&lt;c<br />
lass std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)&quot; (??$use_facet@V?$ctype@D@std<br />
@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
LibraryLocal.obj : error LNK2019: unresolved external symbol &quot;public: class std:<br />
:locale::facet const * __thiscall std::locale::_Getfacet(unsigned int)const &quot; (?<br />
_Getfacet@locale@std@@QBEPBVfacet@12@I@Z) referenced in function &quot;class std::cty<br />
pe&lt;char&gt; const &amp; __cdecl std::use_facet&lt;class std::ctype&lt;char&gt; &gt;(class std::loca<br />
le const &amp;)&quot; (??$use_facet@V?$ctype@D@std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z<br />
)<br />
LibraryLocal.obj : error LNK2019: unresolved external symbol &quot;public: void __thi<br />
scall std::_String_base::_Xlen(void)const &quot; (?_Xlen@_String_base@std@@QBEXXZ) re<br />
ferenced in function &quot;protected: bool __thiscall std::basic_string&lt;char,struct s<br />
td::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::_Grow(unsigned int,bool)&quot; (?<br />
_Grow@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@IAE_NI_N@Z)<br />
ResourceEditor.obj : error LNK2001: unresolved external symbol &quot;public: void __t<br />
hiscall std::_String_base::_Xlen(void)const &quot; (?_Xlen@_String_base@std@@QBEXXZ)<br />
util.obj : error LNK2001: unresolved external symbol &quot;public: void __thiscall st<br />
d::_String_base::_Xlen(void)const &quot; (?_Xlen@_String_base@std@@QBEXXZ)<br />
winchar.obj : error LNK2001: unresolved external symbol &quot;public: void __thiscall<br />
 std::_String_base::_Xlen(void)const &quot; (?_Xlen@_String_base@std@@QBEXXZ)<br />
LibraryLocal.obj : error LNK2019: unresolved external symbol &quot;public: void __thi<br />
scall std::ios_base::_Addstd(void)&quot; (?_Addstd@ios_base@std@@QAEXXZ) referenced i<br />
n function &quot;protected: void __thiscall std::basic_ios&lt;char,struct std::char_trai<br />
ts&lt;char&gt; &gt;::init(class std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;<br />
 *,bool)&quot; (?init@?$basic_ios@DU?$char_traits@D@std@@@std@@IAEXPAV?$basic_streamb<br />
uf@DU?$char_traits@D@std@@@2@_N@Z)<br />
LibraryLocal.obj : error LNK2019: unresolved external symbol &quot;struct _iobuf * __<br />
cdecl std::_Fiopen(char const *,int,int)&quot; (?_Fiopen@std@@YAPAU_iobuf@@PBDHH@Z) r<br />
eferenced in function &quot;public: class std::basic_filebuf&lt;char,struct std::char_tr<br />
aits&lt;char&gt; &gt; * __thiscall std::basic_filebuf&lt;char,struct std::char_traits&lt;char&gt;<br />
&gt;::open(char const *,int,int)&quot; (?open@?$basic_filebuf@DU?$char_traits@D@std@@@st<br />
d@@QAEPAV12@PBDHH@Z)<br />
build\release\Library\LibraryLocal\LibraryLocal.exe : fatal error LNK1120: 8 unr<br />
esolved externals<br />
scons: *** [build\release\Library\LibraryLocal\LibraryLocal.exe] Error 1120<br />
scons: building terminated because of errors.<br />
<br />
after that i have tried <br />
<br />
C:\dev\nsis\nsis-2.45-src&gt;scons MSTOOLKIT=yes SKIPPLUGINS=all  -c LibraryLocal<br />
i have also refered http://forums.winamp.com/showthread.php?postid=1787297 link but it still not works <br />
then again execute scons MSTOOLKIT=yes SKIPPLUGINS=all  ,but same error comes,<br />
<br />
Please suggest a solution for this problem,<br />
<br />
Thanks,<br />
Dhiraj</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>