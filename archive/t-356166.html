<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS bails out if installed to Program Files directory, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS bails out if installed to Program Files directory NSIS Discussion" />
	
	<title> NSIS bails out if installed to Program Files directory [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS bails out if installed to Program Files directory</div>
<hr />
<div class="pda"><a href="t-356166.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=356166">NSIS bails out if installed to Program Files directory</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tevkar</div><div class="date">22nd February 2013, 10:00</div></div><div class="posttext">Hi,<br />
<br />
I use UserMgr plugin to create a service account user and performing some SID-related operations (find localized names of built-in groups ...). In addition, I use Simple service plugin to install a service. My installer requires to run with admin privileges. I've observed that the installer bails out if it tries to install to &quot;Program Files&quot; directory. Same happens both on Windows 7 and Windows 2008 R2. Everything goes fine if the destination directory is something else outside. I wonder if some built-in software protection mechanisms reacts to direct dll calls from plugins.<br />
<br />
Has anyone experienced the same ? Any clues how to get around ?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd March 2013, 07:40</div></div><div class="posttext">What do you mean by &quot;bails out&quot;? Does it crash? Do you get an access violation? Does it simply exit? Does it just fail to write files?<br />
<br />
One thing I would check is compatibility mode. If it's set in the Properties dialog, then that might cause some issues. Microsoft has some shims for handling Program Files. They have the whole virtual store thing that redirects Program Files writes to %LOCALAPPDATA%\VirtualStore.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>