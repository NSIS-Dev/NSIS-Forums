<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Nop... Silliness or Diamond in the Ruff?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Nop... Silliness or Diamond in the Ruff? NSIS Discussion" />
	
	<title> Nop... Silliness or Diamond in the Ruff? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Nop... Silliness or Diamond in the Ruff?</div>
<hr />
<div class="pda"><a href="t-323885.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=323885">Nop... Silliness or Diamond in the Ruff?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Zinthose</div><div class="date">8th November 2010, 17:59</div></div><div class="posttext">I did a search and was unable to locate any real-world examples for the use of the &quot;Nop&quot; command.<br />
<br />
As far as I can tell it's only purpose is to take the place of commented line...<br />
!macro _IsEqual _MyVar _MyVal<br />
    StrCmp `${_MyVal}` `${_MyVar}` +3<br />
    ; DetailPrint &quot;They are not Equal!&quot;<br />
    Nop ; Added to allow for Jump operation when previous line was commeted out<br />
    StrCpy ${_MyVar} `${_MyVal}`<br />
!macroend<br />
<br />
Section<br />
    StrCpy $0 &quot;cake&quot;<br />
    !insertmacro _IsEqual $0 &quot;pie&quot;<br />
    DetailPrint &quot;Done! $$0=$0&quot;<br />
SectionEnd<br />
<br />
Even more unlikely would be to use Nop to space macros so jumps will land on the interned targets.!macro _MakeBrainHurtCode _Mode<br />
    ## TODO Very complex Stuff<br />
    Goto +10<br />
    !if `${_Mode}` == &quot;Simple&quot;<br />
        Nop<br />
        Nop<br />
        Nop<br />
        Nop<br />
        Nop<br />
        Nop<br />
        DetailPrint &quot;Do Stuff&quot;<br />
        Nop<br />
        DetailPrint &quot;Do Stuff&quot;<br />
    !else<br />
        DetailPrint &quot;Do Stuff&quot;<br />
        DetailPrint &quot;Do Stuff&quot;<br />
        DetailPrint &quot;Do Stuff&quot;<br />
        Nop<br />
        DetailPrint &quot;Do Stuff&quot;<br />
        DetailPrint &quot;Do Stuff&quot;<br />
        DetailPrint &quot;Do Stuff&quot;<br />
        Nop<br />
        DetailPrint &quot;Do Stuff&quot;<br />
    !endif<br />
    DetailPrint &quot;Done&quot;<br />
!macroend<br />
<br />
According to WikiPedia's article on NOP (http://en.wikipedia.org/wiki/NOP), it would appear to be very useful in assembler but I'm having trouble justifying it's existence in NSIS.<br />
<br />
Whats everyone's take on this?  I'd like to know as I'm struggling to find practical things to do with this command.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">8th November 2010, 18:42</div></div><div class="posttext">Well I wouldn't say 'diamond in the ruff'.. I've not used it beyond exploring the scripting language way early on.. nor have I seen it used (and the only example file using it has the comment &quot;for fun&quot;).<br />
<br />
That said.. the documentation on it isn't entirely all-encompassing.  It says it 'does nothing'.. but while indeed it doesn't -do- anything itself, it does still count as an instruction for things like progress calculation.<br />
<br />
No idea in what situation you'd use it, though... perhaps if the author still isn't using LogicLib and using relative offsets, as you mentioned, thus being able to replace existing commands with a Nop for testing (deleting the line entirely would mess up the offset).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zinthose</div><div class="date">8th November 2010, 19:08</div></div><div class="posttext">I suppose a nice syntax for disabling a line would be:!define Disable &quot;Nop # \&quot;<br />
<br />
Section<br />
    ${Disable}<br />
    DetailPrint &quot;This will be Skipped&quot;<br />
    DetailPrint &quot;This is Printed&quot;<br />
    ${Disable} DetailPrint &quot;This will also be Skipped&quot;<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">8th November 2010, 19:33</div></div><div class="posttext">Abusing a comment/line-continuance quirk with a seemingly useless command to do something that's useful but entirely overengineered?  Songs of praise shall be sung of this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th November 2010, 19:46</div></div><div class="posttext">You don't need Nop for that to work; i.e. `#\` will do. However I suppose that would be useful to retain the number of instructions when using relative jumps.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">8th November 2010, 21:24</div></div><div class="posttext">You can use Nop to to somewhat control the progressbar when installing. Progressbar moves by the executed commans in sections and you can use Nop to space the progress so that commands that take longer will also move the progress forward more that other commands.<br />
<br />
For example, let's say you have two files to install one is 1 MB and the other is 4 MB:<br />
<br />
Section &quot;&quot;<br />
<br />
  File &quot;smallerfile.dat&quot;<br />
  File &quot;largerfile.dat&quot;<br />
  Nop<br />
  Nop<br />
  Nop<br />
<br />
SectionEnd<br />
<br />
PaR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zinthose</div><div class="date">8th November 2010, 22:08</div></div><div class="posttext">You can use Nop to to somewhat control the progressbar when installing.<br />
<br />
You would think that NSIS would already know the file sizes and automatically calculate the progress jumps.<br />
<br />
I think Nop is the answer to &quot;Why is a raven like a writing desk?&quot;  It's purpose is to be given purpose... nothing more.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">9th November 2010, 06:09</div></div><div class="posttext">You would think that NSIS would already know the file sizes and automatically calculate the progress jumps.<br />
Filesize is no measure for installer progress: Some files don't get extracted, while others are. Some loops can take much longer than single file extractions. Not to mention the use of execwait to launch external apps...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>