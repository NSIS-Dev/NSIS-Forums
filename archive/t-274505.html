<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" GetParameters Usage in NSIS, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  GetParameters Usage in NSIS NSIS Discussion" />
	
	<title> GetParameters Usage in NSIS [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  GetParameters Usage in NSIS</div>
<hr />
<div class="pda"><a href="t-274505.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274505">GetParameters Usage in NSIS</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ramyaa</div><div class="date">17th July 2007, 14:37</div></div><div class="posttext">Hi,<br />
<br />
Anybody aware of the usage of GetParameters function in NSIS?? Which command line parameter does this function fetch?? I mean, where should the command line parameter be given??<br />
If anybody knows, plz reply...<br />
<br />
Thanks,<br />
Ramya</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theblazingangel</div><div class="date">17th July 2007, 14:58</div></div><div class="posttext">it gets all parameters, you can then use GetOptions to check for specific parameters.<br />
<br />
how i do it:<br />
<br />
1) includes:<br />
!insertmacro GetParameters<br />
!insertmacro GetOptions<br />
<br />
2) oninit:<br />
Function .onInit<br />
<br />
    ; Get parameters<br />
<br />
	var /GLOBAL cmdLineParams<br />
	Push $R0<br />
<br />
	${GetParameters} $cmdLineParams<br />
<br />
	; /? param (help)<br />
	ClearErrors<br />
	${GetOptions} $cmdLineParams '/?' $R0<br />
	IfErrors +3 0<br />
	MessageBox MB_OK &quot;list all command line options here!&quot;<br />
	Abort<br />
<br />
	Pop $R0<br />
<br />
    ; Initialise options<br />
<br />
	Var /GLOBAL option_runProgram<br />
	Var /GLOBAL option_startMenu<br />
	Var /GLOBAL option_startMenuAllUsers<br />
	Var /GLOBAL option_shortcut<br />
	Var /GLOBAL option_shortcutAllUsers<br />
<br />
	StrCpy $option_runProgram	  1<br />
	StrCpy $option_startMenu	  1<br />
	StrCpy $option_startMenuAllUsers  0<br />
	StrCpy $option_shortcut		  1<br />
	StrCpy $option_shortcutAllUsers	  0<br />
<br />
    ; Parse Parameters<br />
<br />
	Push $R0<br />
	Call parseParameters<br />
	Pop $R0<br />
<br />
FunctionEnd<br />
<br />
3) parseParameters function:<br />
Function parseParameters<br />
<br />
    ; /norun<br />
    ${GetOptions} $cmdLineParams '/norun' $R0<br />
    IfErrors +2 0<br />
    StrCpy $option_runProgram 0<br />
<br />
    ; /nostartmenu<br />
    ${GetOptions} $cmdLineParams '/nostartmenu' $R0<br />
    IfErrors +2 0<br />
    StrCpy $option_startMenu 0<br />
<br />
    ; /starmenuallusers<br />
    ${GetOptions} $cmdLineParams '/startmenuallusers' $R0<br />
    IfErrors +2 0<br />
    StrCpy $option_startMenuAllUsers 1<br />
<br />
    ; /noshortcut<br />
    ${GetOptions} $cmdLineParams '/noshortcut' $R0<br />
    IfErrors +2 0<br />
    StrCpy $option_shortcut 0<br />
<br />
    ; /shortcutallusers<br />
    ${GetOptions} $cmdLineParams '/shortcutallusers' $R0<br />
    IfErrors +2 0<br />
    StrCpy $option_shortcutAllUsers 1<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ramyaa</div><div class="date">18th July 2007, 09:33</div></div><div class="posttext">Thanks theblazingangel for the reply. Could you please tell me where we give the command line parameters for a .nsi file? Is it like <br />
                 abc.nsi /norun <br />
<br />
Also is it possible to give command-line parameters like in any other files.... like <br />
<br />
              xyz.c &quot;1&quot; &quot;abcd&quot; <br />
Here &quot;1&quot; and &quot;abcd&quot; are cmd-line parameters. Is a similar thing possible in abc.nsi file??<br />
<br />
Thanks,<br />
Ramya</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theblazingangel</div><div class="date">18th July 2007, 16:20</div></div><div class="posttext">no no no, you don't pass the command line parameters to a .nsi file, you compile the .nsi file into a .exe and then you can pass the parameters to the .exe you've made.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">damdare</div><div class="date">5th March 2009, 13:05</div></div><div class="posttext">theblazingangel, this is possibly the best written post I've ever seen. Clear and effective.<br />
Thank you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">uahmed</div><div class="date">21st June 2011, 07:50</div></div><div class="posttext">Hi <br />
<br />
Can it be possible to give argument to nsi script ? <br />
<br />
I want to make the script Generalize .</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">21st June 2011, 07:56</div></div><div class="posttext">uahmed: You already asked this question in your own thread. In fact, I already *replied* there. Please don't ask the same question twice.<br />
<br />
http://forums.winamp.com/showthread.php?t=331740</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>