<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" get a filename or direktoryname, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  get a filename or direktoryname NSIS Discussion" />
	
	<title> get a filename or direktoryname [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  get a filename or direktoryname</div>
<hr />
<div class="pda"><a href="t-293286.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=293286">get a filename or direktoryname</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ssam</div><div class="date">18th June 2008, 10:33</div></div><div class="posttext">is it possible to get a directoryname or filename, if you only knows the path of the parent Directory?<br />
<br />
for Example:<br />
<br />
d:\rootdir\parentdir\searchedDir<br />
<br />
- in parentdir is only searchedDir, but i dontknow the name of searchedDir or searchedDir kan have a name, which i dont know at this time an i need the searchedDir as a String</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">18th June 2008, 12:22</div></div><div class="posttext">Here comes what you're looking for:<br />
<br />
http://nsis.sourceforge.net/Docs/AppendixE.html#E.1.2</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssam</div><div class="date">19th June 2008, 06:07</div></div><div class="posttext">thx thats what i need</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssam</div><div class="date">19th June 2008, 09:58</div></div><div class="posttext">Function test<br />
<br />
           .<br />
           .<br />
           .<br />
<br />
Var /global reportstruts_Path<br />
${Locate} &quot;${copiedfiles_Path}\Reportstruts&quot; &quot;/L=D /M=*strut*&quot; &quot;found&quot;<br />
  SetOutPath '$Tomcat_Path_to_Verify\WEBAPPS\$reportstruts_Path'<br />
  File /r '${copiedfiles_Path}\Reportstruts\${reportstruts_Path}'<br />
<br />
<br />
  Strcmp $TestDB_checked '1' 0 apache_tomcat_noTestDB<br />
  <br />
  SetOutPath '$Tomcat_Path_to_Verify\WEBAPPS\$reportstruts_Path${TestDB}'<br />
  File /r '${copiedfiles_Path}\Reportstruts\${reportstruts_Path}${TestDB}'<br />
  <br />
FunctionEnd<br />
<br />
<br />
Function found<br />
  ; $R9    &quot;path\name&quot;<br />
  ; $R8    &quot;path&quot;<br />
  ; $R7    &quot;name&quot;<br />
  ; $R6    &quot;size&quot;<br />
  <br />
  StrCpy $reportstruts_Path '$R7'<br />
<br />
FunctionEnd<br />
<br />
<br />
I want copy a Directory, in 1 parent Directory with 2 different Directorynames which contains the string of the copied Directory<br />
<br />
Example:<br />
<br />
From:<br />
<br />
d:\copiedfiles\Dir_27<br />
<br />
<br />
To:<br />
<br />
e:\Tomcat 4.1\webapps\Dir_27<br />
and<br />
e:\Tomcat 4.1\webapps\Dir_27_test<br />
<br />
and with locate i get the name from the Directory, because the name can be different.<br />
<br />
for _test i have the Variable ${TestDB} which is a global define in the installer<br />
<br />
The Problem is, that the Installer says &quot;-&gt; no files found.&quot;<br />
<br />
Is there a other solution for the Problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssam</div><div class="date">19th June 2008, 11:00</div></div><div class="posttext">actually, this is my horrible solution, but i want to improve it<br />
<br />
<br />
Var /global reportstruts_Path<br />
  ${Locate} &quot;${copiedfiles_Path}\Reportstruts&quot; &quot;/L=D /M=*strut*&quot; &quot;found&quot;<br />
  <br />
  SetOutPath '$Tomcat_Path_to_Verify\WEBAPPS' #\$reportstruts_Path'<br />
  File /r '${copiedfiles_Path}\Reportstruts\reportstruts*.*'<br />
  <br />
  #Messagebox MB_OK &quot;reportstruts_path:$reportstruts_Path&quot;<br />
  <br />
  Strcmp $TestDB_checked '1' 0 apache_tomcat_noTestDB<br />
  <br />
  SetOutPath '$Tomcat_Path_to_Verify\WEBAPPS\tmp'<br />
  File /r '${copiedfiles_Path}\Reportstruts\reportstruts*.*'<br />
  rename '$Tomcat_Path_to_Verify\WEBAPPS\tmp\$reportstruts_Path' '$Tomcat_Path_to_Verify\WEBAPPS\$reportstruts_Path${TestDB}'<br />
  rmdir '$Tomcat_Path_to_Verify\WEBAPPS\tmp'</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>