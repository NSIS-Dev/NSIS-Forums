<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" support for selecting section in a script., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  support for selecting section in a script. NSIS Discussion" />
	
	<title> support for selecting section in a script. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  support for selecting section in a script.</div>
<hr />
<div class="pda"><a href="t-70721.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=70721">support for selecting section in a script.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Schultz</div><div class="date">4th January 2002, 08:13</div></div><div class="posttext">has anyone thought about this or looked into haveing the ability to Select/Deselect Sections in the Script. for situaltions like when your app has been previously installed and you check to see which was selected on prior install and then have them selected when the Component page appears. i will give an example to hopefully make things clearer in what i mean. I am creating an installer that installs a bunch of different video/audio codecs and directshow filters. So there is alot of selections and for the uninstall i write which section is installed into the registry so when i go to uninstall it will only uninstall those that the installer itself installed. But if a user downloads an updated installer with newer codecs and directshow filters i would like to make some method that i can check the registry to see which was install and then have those components as the ones selected when the page comes up.. kinda like<br />
<br />
Function .onInit<br />
    ReadRegDWORD $0 HKLM &quot;Software\MyApp&quot; &quot;somesection&quot;<br />
    StrCmp $0 1 &quot;&quot; NotInstalled<br />
       SetSection on section#<br />
       Goto done<br />
    NotInstalled:<br />
       SetSection off section#<br />
    done:<br />
FunctionEnd<br />
<br />
where SetSection [on|off] [section #] depending if you wanted it selected or not and then the section number. <br />
would this be very hard to implement? it could be done before the component page is selected or if possible when ppl click on sections this could be used to select/deselect other sections that depend on it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">4th January 2002, 14:41</div></div><div class="posttext">I agree I think this is needed.  I also think the ability to hide or show a section at runtime is needed as well.  Because I don't want the user to see the option if its not needed or could cause a conflict.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Schultz</div><div class="date">4th January 2002, 16:08</div></div><div class="posttext">Well after posting this message i started poking around in the NSIS source code to see what goes on. and i implemented a working version of the SetSection but the limitations of it is that it can only be called before the actual component page is displayed and haven't figured the flag to makeing a selection not be selected when the box is created.. I think it could be rewritten to make it a little better. <br />
<br />
And as i playing around with this i was thinking about functionality.. I think the only reasonable way to allow selection/deselection while the Component page is showing is to have something like a call back functioned called each time a selection is clicked i don't know if it would be possbile to have<br />
<br />
Function .onListSel<br />
Pop $1 <br />
   StrCmp $1 5 &quot;&quot; Done<br />
       SetSection on $1<br />
   Done<br />
FunctionEnd<br />
<br />
and then have a variable that is filled with the section # that is clicked to do compares.. or maybe the number is placed somewhere else like pushed onto the stack so that you can pop it off into a variable. anyone have any better ideas how to manage this?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>