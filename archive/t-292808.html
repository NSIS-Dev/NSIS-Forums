<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Howto write INI settings without a value?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Howto write INI settings without a value? NSIS Discussion" />
	
	<title> Howto write INI settings without a value? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Howto write INI settings without a value?</div>
<hr />
<div class="pda"><a href="t-292808.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=292808">Howto write INI settings without a value?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dbach</div><div class="date">6th June 2008, 14:33</div></div><div class="posttext">Hi.<br />
<br />
I need to write something like this:<br />
<br />
<br />
[section]<br />
ENTRYNAME<br />
<br />
<br />
As you can see, there is no &quot;=&quot; or a value. How can I handle this?<br />
<br />
Thanks,<br />
Denis</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Boyito</div><div class="date">6th June 2008, 14:40</div></div><div class="posttext">Try in this way<br />
<br />
ReadINIStr $0 File.ini SECTION ENTRYNAME<br />
IfErrors 0 iniExist<br />
    WriteINIStr File.ini SECTION ENTRYNAME &quot;&quot;<br />
iniExist:<br />
<br />
Bye</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dbach</div><div class="date">6th June 2008, 14:54</div></div><div class="posttext">Hm, wouldn't it write it this way then:<br />
<br />
[Section]<br />
ENTRYNAME=</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">6th June 2008, 15:06</div></div><div class="posttext">You cannot write it without the =. You will have to manipulate the file using FileOpen, FileRead, FileWrite and FileClose.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dbach</div><div class="date">6th June 2008, 15:12</div></div><div class="posttext">Originally posted by Afrow UK <br />
You cannot write it without the =. You will have to manipulate the file using FileOpen, FileRead, FileWrite and FileClose.<br />
<br />
Stu  <br />
<br />
Thanks for your reply. <br />
<br />
I am not that familiar with FileOpen/Write/Read. Can you provide me an URL which could help me here to solve my problem? <br />
<br />
I talked to some of the devs. They said that the windows-api supports writing/reading of 'entries' without a value (thats why they write it that way). So why doesn't the Installer supports it an easy way? :|</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">6th June 2008, 15:17</div></div><div class="posttext">According to WritePrivateProfileString, if you specify NULL lpString for it will delete the entire key. You can have a look at the API here: http://msdn.microsoft.com/en-us/library/ms725501(VS.85).aspx<br />
I cannot see any reference to creating keys without an =.<br />
<br />
The File* are in the documentation. Search the forums as well.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">6th June 2008, 15:20</div></div><div class="posttext">you can do:<br />
writeinistr &quot;$temp\file.ini&quot; section &quot;name$\r$\n;dummy&quot; &quot;&quot; <br />
but that is hacky as hell and only works once for each section and you get alot of dummy entries<br />
<br />
I'm pretty sure you can't write without a = with the win api</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dbach</div><div class="date">6th June 2008, 15:29</div></div><div class="posttext">Originally posted by Anders <br />
you can do:<br />
writeinistr &quot;$temp\file.ini&quot; section &quot;name$\r$\n;dummy&quot; &quot;&quot; <br />
but that is hacky as hell and only works once for each section and you get alot of dummy entries<br />
<br />
I'm pretty sure you can't write without a = with the win api  <br />
<br />
Thanks Anders. This would be a workaround for my problem I guess. I will talk to the devs about my problem. <br />
<br />
<br />
Thanks for all your solutions so far!!<br />
<br />
Edit:<br />
I could write:<br />
writeinistr &quot;$temp\file.ini&quot; section &quot;name$\r$\n;dummy=&quot; &quot;&quot; <br />
and after that<br />
deleteinistr section dummy<br />
<br />
Then I do not have any dummies in my .INI file.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>