<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SpiderBanner plugin, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SpiderBanner plugin NSIS Discussion" />
	
	<title> SpiderBanner plugin [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SpiderBanner plugin</div>
<hr />
<div class="pda"><a href="t-275735.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=275735">SpiderBanner plugin</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">11th August 2007, 10:34</div></div><div class="posttext">I have been working on this plugin for two or three months now. This is a test version so that the bugs (if any) are fixed. I have included my SimpleBg plugin with this test installer. I haven't posted on this forum in ages, so its good to be back.<br />
<br />
For those who create plugins in C, I will share the basic idea behind the plugin. It displays a custom dialog with no border, and is a child of the parent window. Then the parent window is resized to fit the custom dialog. Much the same way the installer shows its pages. I had to subclass the progress bar and detail text so that I could show the info on my custom dialog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">11th August 2007, 11:00</div></div><div class="posttext">Looks good so far, I ran it a few times, and there were redraw problems with the header and status labels.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">11th August 2007, 13:45</div></div><div class="posttext">Nope, I just didn't bother putting them in in the first place.<br />
<br />
[edit] My plugin doesn't touch those fields, its purely MUI controlled.<br />
<br />
[edit again] I have found a major issue with minimizing and restoring the window. Looks like I will have to subclass the installer window after all.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sag47</div><div class="date">11th August 2007, 16:59</div></div><div class="posttext">how did you get the installation to loop around with pushing the finish button?  NSIS src would be nice.  thx<br />
SAM</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">11th August 2007, 18:26</div></div><div class="posttext">It is this nice little trick with the SendMessage command:<br />
<br />
SendMessage $HWNDPARENT &quot;0x408&quot; 1 0<br />
<br />
The no. 1 is how many pages to skip. 2 skips two pages foward. -3 skips three pages back.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">11th August 2007, 18:30</div></div><div class="posttext">I finally figured out the window problem. Here is another test version. And I didn't have to subclass the installer window :D .</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">11th August 2007, 19:11</div></div><div class="posttext">yep, that fixed it ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">14th August 2007, 12:07</div></div><div class="posttext">This is the final test version before I officially release this plugin. I will try my best to fix any bugs if you manage to find any.<br />
<br />
I still have to write up the documentation and examples, but it shouldn't take that long.<br />
<br />
I also managed to cut 512 bytes off the plugin by removing some hide and show routines. The plugin is now 6 kb :D.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">14th August 2007, 14:27</div></div><div class="posttext">I'm seeing the redraw issues again the last version...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">15th August 2007, 11:48</div></div><div class="posttext">Yeah, I'm gonna have to look though the source code for the installoptions plugin, to see where the repainting routines are.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">17th August 2007, 11:37</div></div><div class="posttext">Lets try this again. Here is the final test version before I officially release this plugin.<br />
<br />
I have fixed the redraw problem, and in turn this also fixed another minor redraw problem.<br />
<br />
[edit] Now I am going to take as much unneeded code out as I can to get the size down.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">18th August 2007, 04:46</div></div><div class="posttext">Yeah its fixed, looks good :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">18th August 2007, 10:03</div></div><div class="posttext">Here are some more examples using the ISUI and the normal UI. Enjoy.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">18th August 2007, 10:04</div></div><div class="posttext">Oops, forgot the attachment.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">19th August 2007, 05:21</div></div><div class="posttext">This plugin is now available on the wiki.<br />
<br />
http://nsis.sourceforge.net/SpiderBanner_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">24th August 2007, 09:50</div></div><div class="posttext">Fixed a minor bug. Now the Destroy function can be called in the leave function of the instfiles page, or if you feel like it, you can call it on the pre and show functions of the next page :D. Enjoy.<br />
<br />
 This is the most advanced plugin I have ever coded for nsis. I've come a long way since the SysRestore plugin :) .<br />
<br />
http://nsis.sourceforge.net/SpiderBanner_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">26th August 2007, 03:11</div></div><div class="posttext">Keep it up, does it work fine with the new MUI2 beta?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">26th August 2007, 05:58</div></div><div class="posttext">It doesn't matter what interface you have, as long as you have an InstFiles page, and your installer isn't silent, this plugin will work with it. You can see this with the examples I posted earlier (default UI, MUI, ISUI). I doubt it will work with skinned UIs (eg, ExperienceUI), but you never know, it might work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">21st October 2007, 10:53</div></div><div class="posttext">A new version has just been released. This version fixes the progress bar not working under Windows 98, and now the window is &quot;hidden&quot; (moved to the bottom right of the screen) while the dialog is being loaded. I noticed this bug after I saw the installing page on the parent before the dialog was being destroyed. It should be fixed now. Plus, the size is still 6kb :D. Wiki link below.<br />
<br />
http://nsis.sourceforge.net/SpiderBanner_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">valentz142</div><div class="date">12th November 2007, 09:12</div></div><div class="posttext">Hi Jason,<br />
<br />
It is a good plugin, anyway i found 2 bugs accidentally, normal user i believe won't do this.<br />
Using example.nsi that provided in SpiderBanner_plugin.zip, here are the errors:<br />
1. inserting &quot;SpiderBanner::Show /NOUNLOAD $R0 $R1&quot; again between &quot;SpiderBanner::Show /NOUNLOAD $R0 $R1&quot; and &quot;SpiderBanner::Destroy&quot; will close installer immediately<br />
<br />
2. click and hold banner, until get MUI's finish page, release mouse, and could not click anything, until press CTRL+ALT+DEL and click cancel.<br />
<br />
Hopefully could strengten your plugin.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">12th January 2008, 15:04</div></div><div class="posttext">Hello. Thanks for the reply.<br />
<br />
1. This problem is easily fixed. I did this fix on one of my other plugins that needed it. A good programmer will never do the same thing twice with this plugin.<br />
<br />
2. This problem is not with my plugin, but with nsis itself. Try it with this very simple test installer I have attached.<br />
<br />
This is the script used:<br />
Name &quot;Test&quot;<br />
OutFile &quot;Test.exe&quot;<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Section &quot;Test&quot;<br />
  DetailPrint &quot;This is a test.&quot;<br />
  Sleep 1000<br />
  Sleep 1000<br />
  Sleep 1000<br />
  Sleep 1000<br />
  Sleep 1000<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">12th January 2008, 18:26</div></div><div class="posttext">New version now available on wiki. Fixes bug no. 1 above.<br />
<br />
http://nsis.sourceforge.net/SpiderBanner_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">29th November 2010, 04:09</div></div><div class="posttext">Hi guys, I've been working on an update to my plugin, and there is a new version released on the wiki. Uses the new plugin api, which means NSIS 2.42 or higher is required. Next project is updating the InstallSpiderUI with the latest versions of my software and MUI2. Enjoy!<br />
<br />
http://nsis.sourceforge.net/SpiderBanner_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mrphantuan</div><div class="date">30th November 2010, 08:29</div></div><div class="posttext">Hello. Thanks for the reply.<br />
<br />
1. This problem is easily fixed. I did this fix on one of my other plugins that needed it. A good programmer will never do the same thing twice with this plugin.<br />
<br />
2. This problem is not with my plugin, but with nsis itself. Try it with this very simple test installer I have attached.<br />
<br />
This is the script used:<br />
Name &quot;Test&quot;<br />
OutFile &quot;Test.exe&quot;<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Section &quot;Test&quot;<br />
  DetailPrint &quot;This is a test.&quot;<br />
  Sleep 1000<br />
  Sleep 1000<br />
  Sleep 1000<br />
  Sleep 1000<br />
  Sleep 1000<br />
SectionEnd<br />
<br />
Thanks you a lot!<br />
<br />
<br />
<br />
 (http://tandaiduong.com.vn/duhoc-News,at,categories,catid,15.html)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">1st December 2010, 10:47</div></div><div class="posttext">Been tinkering around with unicode, and currently I have working ANSI and Unicode versions from the same source code :D. Currently in the process of updating all my plugins to support unicode, including InstallSpiderUI which will have a custom plugin containing code from 3 of my plugins. Watch this space ;) .</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>