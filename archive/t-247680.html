<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Language strings: Include them or add them as resources?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Language strings: Include them or add them as resources? NSIS Discussion" />
	
	<title> Language strings: Include them or add them as resources? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Language strings: Include them or add them as resources?</div>
<hr />
<div class="pda"><a href="t-247680.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=247680">Language strings: Include them or add them as resources?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">CancerFace</div><div class="date">2nd June 2006, 15:31</div></div><div class="posttext">Recently I decided to add support for multiple languages to some NSIS tool that I have been developing, after I was asked if the end user could use some sort of resource editing tool to modify my program in such a way that localization in their language would be achieved.<br />
There is of course the well documented way of adding for example multiple languages for some text to be displayed:...<br />
LangString Message ${LANG_ENGLISH} &quot;String in English&quot;<br />
LangString Message ${LANG_FRENCH} &quot;Texte en fran√ßais&quot;<br />
...<br />
MessageBox MB_OK|MB_ICONINFORMATION &quot;$(Message)&quot;<br />
...However if someone wanted to add some new language they would have to obtain the source code and recompile the program after adding the string in their language.<br />
<br />
So the question that I was faced with was how can I add support for another language if I do not want to have the default language(s) present, without changing the source code?<br />
<br />
I don't like the idea of having external language files and since I was playing around with Message Table resources in DLLs recently I thought that I could give it a shot and try to add my own messages to my program in the form of Message Table resources. In this way the end user can choose to use something like Resource Hacker (http://www.angusj.com/resourcehacker/) to change the language of the resource and modify all the strings on that table, thus achieving localization for their system. Furthermore I can use two tables inside the message table resource, one using {LANG_NEUTRAL,SUBLANG_NEUTRAL} and the other using some other language (for example english). The end user can change the table that contains the language (1033 for example) but leave the neutral language table unaltered, so that if the program is executed on a system that does not contain the end user's language, the neutral language would be picked instead.<br />
<br />
To achieve the above I used a tool called XN Resource Editor (http://www.wilsonc.demon.co.uk/d10resourceeditor.htm) to add a new message table resource to an already compiled version of my program. After saving the  modified program I used Resource Hacker to edit the message table(s) and exported them as RES files. These files are binary and not easy to edit, but once they are imported to an EXE file they can be easily manipulated using Resource Hacker.<br />
<br />
So now I had the message tables in an RES format and I wanted to add them to my program upon compiling it. I used the following batch script during compilation (header.cmd):echo Adding Message Table resources<br />
&quot;%ProgramFiles%\Resource Hacker\ResHacker.exe&quot; -add &quot;%TEMP%\exehead.dat&quot;, &quot;%TEMP%\exehead.dat&quot;, &quot;%~dps0Lang\Lang_Default.res&quot; , MESSAGETABLE,,<br />
&quot;%ProgramFiles%\Resource Hacker\ResHacker.exe&quot; -add &quot;%TEMP%\exehead.dat&quot;, &quot;%TEMP%\exehead.dat&quot;, &quot;%~dps0Lang\Lang_EN.res&quot; , MESSAGETABLE,,<br />
echo.<br />
echo Compressing the header with UPX<br />
echo.<br />
upx --best --compress-icons=0 &quot;%TEMP%\exehead.dat&quot;<br />
echo.This batch file was called from my NSIS script during compilation time:!packhdr &quot;$%TEMP%\exehead.dat&quot; 'header.cmd'The resulting program contained the message table(s) and it was easy to generate a macro that would pick the strings from those tables depending on the system language:!macro GetMessage MESSAGE_ID VAR<br />
; Get the installer's name on $R0<br />
System::Call 'kernel32::GetModuleFileNameA(i 0, t .R0, i 1024) i r1'<br />
<br />
; Get the handle of the installer and place it on $R1<br />
System::Call 'kernel32::GetModuleHandleA(t R0)i .R1'<br />
<br />
; Get the system language<br />
System::Call 'kernel32::GetSystemDefaultLangID(i v)i .R7'<br />
<br />
; Get the message out<br />
StrCpy $0 ${FORMAT_MESSAGE_FROM_HMODULE}<br />
IntOp $0 $0 + ${FORMAT_MESSAGE_ALLOCATE_BUFFER}<br />
IntOp $0 $0 + ${FORMAT_MESSAGE_MAX_WIDTH_MASK}<br />
StrCpy $1 ${MESSAGE_ID}<br />
StrCpy $2 $R7<br />
StrCpy $3 0<br />
System::Call 'kernel32::FormatMessageW(i r0, i R1, i r1, i r2, *w .R3, i r3, i n) i .R4'<br />
StrCpy ${VAR} $R3<br />
!macroendUsing the macro is also straight forward:Var &quot;MessageText&quot;<br />
...<br />
!insertmacro ReadStringFromInstaller 2 $MessageText<br />
MessageBox MB_OK|MB_ICONINFORMATION &quot;$MessageText&quot;<br />
...<br />
Everything looked sweet, until I tried to emulate the end user's behavior ... I tried to edit the strings on the message tables using resource Hacker on the final program and failed miserably: the program fails to run after any string has been tampered with!<br />
<br />
I managed to get around this problem by addingCRCCheck offto my NSIS script. Not ideal but at least it works.<br />
<br />
Although I am quite happy with the result, I am not sure if this is the best approach to the problem described at the beginning of this post. I am certainly not happy having to disable the CRC check.<br />
<br />
I would appreciate any comments/suggestions/thoughts.<br />
<br />
:D <br />
<br />
CF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">2nd June 2006, 15:47</div></div><div class="posttext">Very nice :)<br />
Perhaps you could put a Wiki page up for this.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CancerFace</div><div class="date">2nd June 2006, 20:17</div></div><div class="posttext">Added a WIKI page (http://nsis.sourceforge.net/Adding_Language_strings_as_resources)<br />
<br />
There is also an error on my first post, the macro is called GetMessage and not ReadStringFromInstaller. So the code should look like this:Var &quot;MessageText&quot;<br />
...<br />
!insertmacro GetMessage2 $MessageText<br />
MessageBox MB_OK|MB_ICONINFORMATION &quot;$MessageText&quot;<br />
...<br />
I also forgot to include the definitions for the FormatMessage (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/debug/base/formatmessage.asp) API call:<br />
!define FORMAT_MESSAGE_ALLOCATE_BUFFER	0x00000100<br />
!define FORMAT_MESSAGE_FROM_HMODULE	0x00000800<br />
!define FORMAT_MESSAGE_MAX_WIDTH_MASK	0x000000FF<br />
CF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CancerFace</div><div class="date">4th June 2006, 22:32</div></div><div class="posttext">Hmmm ... No need to get the filename of the installer since we can just get a handle and use it.<br />
Here is the final code:<br />
!define FORMAT_MESSAGE_ALLOCATE_BUFFER	0x00000100<br />
!define FORMAT_MESSAGE_FROM_HMODULE	0x00000800<br />
!define FORMAT_MESSAGE_MAX_WIDTH_MASK	0x000000FF<br />
<br />
!macro GetMessage MESSAGE_ID VAR<br />
 ; Get the handle of the installer and place it on $R1<br />
  System::Call 'kernel32::GetModuleHandleA(i n)i .R1'<br />
<br />
 ; Get the system language<br />
  System::Call 'kernel32::GetSystemDefaultLangID(i v)i .R7'<br />
<br />
 ; Get the message out<br />
  StrCpy $0 ${FORMAT_MESSAGE_FROM_HMODULE}<br />
  IntOp $0 $0 + ${FORMAT_MESSAGE_ALLOCATE_BUFFER}<br />
  IntOp $0 $0 + ${FORMAT_MESSAGE_MAX_WIDTH_MASK}<br />
  StrCpy $1 ${MESSAGE_ID}<br />
  StrCpy $2 $R7<br />
  StrCpy $3 0<br />
  System::Call 'kernel32::FormatMessageW(i r0, i R1, i r1, i r2, *w .R3, i r3, i n) i .R4'<br />
  StrCpy ${VAR} $R3<br />
  System::Free $R1<br />
!macroend<br />
<br />
CF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th June 2006, 09:54</div></div><div class="posttext">I'm not sure how important it is, but I've read that the System plugin works faster if you use /NOUNLOAD...<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CancerFace</div><div class="date">5th June 2006, 10:55</div></div><div class="posttext">To be honest I could not see any difference with and without the /NOUNLOAD switch :)<br />
<br />
However I noticed that in some cases my installer would crash if I used the macro posted before (regardless of the /NOUNLOAD switch). A workaround was to create a function in its place and call it:Var &quot;Handle&quot;<br />
Function .onInit<br />
  System::Call /NOUNLOAD 'kernel32::GetModuleHandleA()i .s'<br />
  Pop $Handle<br />
...<br />
FunctionEnd<br />
<br />
...<br />
<br />
Function GetMessage <br />
  Pop $0<br />
  StrCpy $R0 $Handle<br />
  System::Call /NOUNLOAD 'kernel32::GetSystemDefaultLangID(i v)i .R7'<br />
  StrCpy $1 ${FORMAT_MESSAGE_FROM_HMODULE}<br />
  IntOp $1 $1 + ${FORMAT_MESSAGE_ALLOCATE_BUFFER}<br />
  IntOp $1 $1 + ${FORMAT_MESSAGE_MAX_WIDTH_MASK}<br />
  StrCpy $2 $R7<br />
  StrCpy $3 0<br />
  System::Call /NOUNLOAD 'kernel32::FormatMessageW(i r1,i R1,i r0,i r2,*w .R3,i r3,i n)i .R4'<br />
  Push $R3<br />
FunctionEndCalling the function is easy:Push 13   # message ID in the table<br />
Call GetMessage<br />
Pop $0   # Message Text<br />
<br />
CF<br />
<br />
[Edit] Right ... I am getting a handle on the EXE itself then I am using the System::Free call ... This was the cause of the unpredicted crashes so ignore it. Better yet, get a handle on the running process at .onInit, place it on some variable and then use the already open handle instead of getting a new handle every time ...<br />
I updated the code of this post to reflect these changes<br />
CF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CancerFace</div><div class="date">5th June 2006, 15:28</div></div><div class="posttext">I played a bit more with this and it seems that both the macro and the function that I posted don't work too well when the banner blugin is in use. I managed to get them both operational though by using the FreeLibrary (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/base/freelibrary.asp) API call:<br />
!define FORMAT_MESSAGE_ALLOCATE_BUFFER	0x00000100<br />
!define FORMAT_MESSAGE_FROM_HMODULE	0x00000800<br />
!define FORMAT_MESSAGE_MAX_WIDTH_MASK	0x000000FF<br />
<br />
!macro GetMessage MESSAGE_ID VAR<br />
  System::Call 'kernel32::GetModuleHandleW(i n)i .R1'<br />
  System::Call 'kernel32::GetSystemDefaultLangID(i v)i .R7'<br />
  StrCpy $0 ${FORMAT_MESSAGE_FROM_HMODULE}<br />
  IntOp $0 $0 + ${FORMAT_MESSAGE_ALLOCATE_BUFFER}<br />
  IntOp $0 $0 + ${FORMAT_MESSAGE_MAX_WIDTH_MASK}<br />
  StrCpy $1 ${MESSAGE_ID}<br />
  StrCpy $2 $R7<br />
  StrCpy $3 0<br />
  System::Call 'kernel32::FormatMessageW(i r0, i R1, i r1, i r2, *w .R3, i r3, i n) i .R4'<br />
  StrCpy ${VAR} $R3<br />
  System::Call 'kernel32::FreeLibrary(i R1)i.r0'<br />
!macroend<br />
!define FORMAT_MESSAGE_ALLOCATE_BUFFER	0x00000100<br />
!define FORMAT_MESSAGE_FROM_HMODULE	0x00000800<br />
!define FORMAT_MESSAGE_MAX_WIDTH_MASK	0x000000FF<br />
<br />
Function GetMessage <br />
  Pop $0<br />
  System::Call 'kernel32::GetModuleHandleW(i n)i .R1'<br />
  System::Call /NOUNLOAD 'kernel32::GetSystemDefaultLangID(i v)i .R7'<br />
  StrCpy $1 ${FORMAT_MESSAGE_FROM_HMODULE}<br />
  IntOp $1 $1 + ${FORMAT_MESSAGE_ALLOCATE_BUFFER}<br />
  IntOp $1 $1 + ${FORMAT_MESSAGE_MAX_WIDTH_MASK}<br />
  StrCpy $2 $R7<br />
  StrCpy $3 0<br />
  System::Call /NOUNLOAD 'kernel32::FormatMessageW(i r1,i R1,i r0,i r2,*w .R3,i r3,i n)i .R4'<br />
  System::Call 'kernel32::FreeLibrary(i R1)i.r0'<br />
  Push $R3<br />
FunctionEnd<br />
<br />
As for the size of the installer, I should mention that for the message tables that I added (57 entries each), there was an increase in terms of size of about 4kb per table, as opposed to 0kb when using a header file.<br />
<br />
:)<br />
<br />
CF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CancerFace</div><div class="date">18th June 2006, 13:01</div></div><div class="posttext">Just a heads-up on the above: I noticed that using this method for displaying messages fails if it is coupled with the banner plugin. It seems that the banner plugin is also getting a handle to the installer and attaches the banner as a thread to the main module, if I read the code correctly. Even if I try to get a handle using GetModuleHandleExA in XP, using the pin flag (so that FreeLibrary will not destroy the handle), every time there is a change on the banner I get a GPF. In windows 2000 DrWatson was kind enough to inform me that the error is due to an access violation of GetModuleHandleW. I changed the macro/function so that they would call the ANSI version of the above function, but the error remained, and DrWatson reported an access violation on GetModuleHandleW again (?). But is it the banner plugin to blame? I think not ...<br />
<br />
Playing a bit more with this, trying to isolate the error, I noticed that the following code does not work:; FormatMessage Definitions<br />
!define FORMAT_MESSAGE_ALLOCATE_BUFFER		0x00000100<br />
!define FORMAT_MESSAGE_IGNORE_INSERTS		0x00000200<br />
!define FORMAT_MESSAGE_FROM_HMODULE		0x00000800<br />
<br />
!macro ReadStringFromMessageTable MESSAGE_ID VAR<br />
  StrCpy ${VAR} &quot;&quot;<br />
  System::Call /NOUNLOAD 'kernel32::GetModuleHandleA()i.R1'<br />
  System::Call /NOUNLOAD 'kernel32::GetSystemDefaultLangID(i v)i.R7'<br />
  System::Call /NOUNLOAD 'kernel32::FormatMessageW(i {FORMAT_MESSAGE_FROM_HMODULE}|${FORMAT_MESSAGE_ALLOCATE_BUFFER}|${FORMAT_MESSAGE_IGNORE_INSERTS},i R1,i ${MESSAGE_ID},i R7,*w .R3,i 0,i n)i.R4'<br />
  StrCpy ${VAR} &quot;$R3&quot;<br />
  System::Call /NOUNLOAD 'kernel32::FreeLibrary(i R1)i.r0'<br />
!macroend<br />
<br />
Function .onInit<br />
IfSilent Silent NotSilent<br />
Silent:<br />
  !insertmacro ReadStringFromMessageTable 4 $R8<br />
  MessageBox MB_OK|MB_ICONSTOP &quot;$R8&quot;<br />
NotSilent:<br />
  !insertmacro ReadStringFromMessageTable 5 $R8<br />
  MessageBox MB_OK|MB_ICONSTOP &quot;$R8&quot;<br />
Quit<br />
FunctionEnd<br />
as it shows both dialog boxes, while this code works:!define FORMAT_MESSAGE_ALLOCATE_BUFFER		0x00000100<br />
!define FORMAT_MESSAGE_IGNORE_INSERTS		0x00000200<br />
!define FORMAT_MESSAGE_FROM_HMODULE		0x00000800<br />
<br />
Function .onInit<br />
Silent:<br />
  System::Call /NOUNLOAD 'kernel32::GetModuleHandleA()i.R1'<br />
  System::Call /NOUNLOAD 'kernel32::GetSystemDefaultLangID(i v)i.R7'<br />
  System::Call /NOUNLOAD 'kernel32::FormatMessageW(i ${FORMAT_MESSAGE_FROM_HMODULE}|${FORMAT_MESSAGE_ALLOCATE_BUFFER}|${FORMAT_MESSAGE_IGNORE_INSERTS},i R1,i 4,i R7,*w .R8,i 0,i n)i.R4'<br />
  System::Call /NOUNLOAD 'kernel32::FreeLibrary(i R1)i.r0'  MessageBox MB_OK|MB_ICONSTOP &quot;$R8&quot;<br />
NotSilent:<br />
  System::Call /NOUNLOAD 'kernel32::GetModuleHandleA()i.R1'<br />
  System::Call /NOUNLOAD 'kernel32::GetSystemDefaultLangID(i v)i.R7'<br />
  System::Call /NOUNLOAD 'kernel32::FormatMessageW(i ${FORMAT_MESSAGE_FROM_HMODULE}|${FORMAT_MESSAGE_ALLOCATE_BUFFER}|${FORMAT_MESSAGE_IGNORE_INSERTS},i R1,i 5,i R7,*w .R8,i 0,i n)i.R4'<br />
  StrCpy ${VAR} &quot;$R3&quot;<br />
  System::Call /NOUNLOAD 'kernel32::FreeLibrary(i R1)i.r0'  MessageBox MB_OK|MB_ICONSTOP &quot;$R8&quot;<br />
Quit<br />
FunctionEndand it shows only the second dialog box.<br />
I am getting the same effect if I use a function instead of a macro.<br />
<br />
Any ideas?<br />
<br />
CF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th June 2006, 08:56</div></div><div class="posttext">GetModuleHandleA is just a wrapper for GetModuleHandleW. That's why GetModuleHandleW is always called eventually.<br />
<br />
The problem seems to be in your code. You're not supposed to call FreeLibrary on handles you get using GetModuleHandle. From MSDN:The GetModuleHandle function returns a handle to a mapped module without incrementing its reference count. Therefore, use care when passing the handle to the FreeLibrary function, because doing so can cause a DLL module to be unmapped prematurely.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">22nd February 2008, 12:52</div></div><div class="posttext">hi all,<br />
<br />
First thanks CancerFacefor this hint.<br />
<br />
i'm very interesting in that solution.<br />
i have just a question about the way languages are detected.<br />
<br />
author define this macro :<br />
<br />
!macro GetMessage MESSAGE_ID VAR<br />
   System::Call 'kernel32::GetModuleHandleA(i n)i .R1'<br />
   System::Call 'kernel32::GetSystemDefaultLangID()i .R2'<br />
   System::Call 'kernel32::FormatMessageW(i 2559,i R1,i &quot;${MESSAGE_ID}&quot;,i R2,*w .R3, \<br />
i 0,i n) i .R4'<br />
   StrCpy ${VAR} $R3<br />
!macroend <br />
<br />
<br />
he uses GetSystemDefaultLangID to retrieve the lang ID.<br />
<br />
i would like to use the $Language variable define thanks to MUI_LANGDLL_DISPLAY. <br />
but FormatMessageW take a LANGID (that can be define with MAKELANGID).<br />
<br />
what i have read is that LANGId is an hexadecimal value,  $Language  is not ? Does nsis provide something to convert from $Language to LANGId  ?<br />
<br />
guillaume</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd February 2008, 14:33</div></div><div class="posttext">LANGID is a number. It can represented as hexadecimal or decimal. $LANGUAGE contains a number which is the LANGID for the current language. With the system plug-in, you can use `a` instead of `$LANGUAGE`.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">22nd February 2008, 14:46</div></div><div class="posttext">no sure to understand <br />
<br />
 With the system plug-in, you can use `a` instead of `$LANGUAGE`.<br />
<br />
<br />
anyway i have tested this<br />
<br />
!macro GetMessage MESSAGE_ID VAR LANG_ID<br />
   System::Call 'kernel32::GetModuleHandleA(i n)i .R1'<br />
   System::Call 'kernel32::FormatMessageW(i 2559,i R1,i &quot;${MESSAGE_ID}&quot;,i &quot;${LANG_ID}&quot;,*w .R3, \<br />
i 0,i n) i .R4'<br />
   StrCpy ${VAR} $R3<br />
!macroend<br />
<br />
<br />
and in the script <br />
<br />
!insertmacro GetMessage 1 $R9 $LANGUAGE<br />
MessageBox MB_OK|MB_ICONINFORMATION &quot;$R9&quot;<br />
<br />
!insertmacro GetMessage 2 $R9 $LANGUAGE<br />
MessageBox MB_OK|MB_ICONINFORMATION &quot;$R9&quot;<br />
<br />
<br />
this work fine, i have selected different language and each time the right string was shown.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd February 2008, 14:49</div></div><div class="posttext">Instead of passing $LANGUAGE, you can simply pass `a`.System::Call `kernel32::FormatMessageW(i2559,iR1,i${MESSAGE_ID},ia ...`</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">22nd February 2008, 14:55</div></div><div class="posttext">;)<br />
<br />
so i had understood but this seems to be &quot;too simple&quot; ...<br />
<br />
and it works, thanks<br />
<br />
Guillaume.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">isawen</div><div class="date">26th May 2010, 15:29</div></div><div class="posttext">Thank you for sharing this possibility with us.<br />
<br />
My only problem is that after changing the table definition for any language and recompile the setup and after install the application I notice that the uninstall icon is missing and the UI of the uninstaller is not as expected. I'm using MUI.nsh.<br />
<br />
Have you notice this behavior on your side after translating the setup, recompiling and install it ?<br />
<br />
/Isawen</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">31st May 2010, 16:03</div></div><div class="posttext">hi isawen,<br />
<br />
I never tried to play with resources table.<br />
so sorry i cannot help you.<br />
<br />
guillaume</div></div><hr />


<div class="post"><div class="posttop"><div class="username">robbertdam</div><div class="date">31st May 2011, 14:33</div></div><div class="posttext">Hi,<br />
I've used this approach for my app's installer and it works great. However, now I'm working on a Japanese version of my software. Resource Hacker doesn't seem to handle the Japanese chars well (it shows ? instead of the character). I also wonder is the solution given in this thread can handle Unicode?<br />
<br />
Suggestions anyone?<br />
<br />
Thanks,<br />
Robbert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">robbertdam</div><div class="date">31st May 2011, 14:36</div></div><div class="posttext">Addition: I see CancerFace has used FormatMessageW which is the Unicode variant of FormatMessage. So that should works. So how to edit the .res file and put Japanese chars in there?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>