<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" color installoptions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  color installoptions NSIS Discussion" />
	
	<title> color installoptions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  color installoptions</div>
<hr />
<div class="pda"><a href="t-148657.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=148657">color installoptions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">AlexBienheureux</div><div class="date">9th September 2003, 15:58</div></div><div class="posttext">I try to put color on the zone of text of a window created with installoption.  <br />
<br />
I must have an error because it is necessary to click 2 times to cancel or validate:  <br />
<br />
my script:<br />
<br />
Function MaPage<br />
  !insertmacro MUI_HEADER_TEXT &quot;Test&quot; &quot;Ceci est un essai de couleur&quot;<br />
<br />
  !insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;mdp.ini&quot;<br />
  Pop $HWND<br />
  GetDlgItem $DLGITEM $HWND 1201 ;1200 + Field number - 1<br />
  SetCtlColors $DLGITEM FFFFFF FF0000<br />
  !insertmacro MUI_INSTALLOPTIONS_SHOW<br />
<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY_RETURN mdp.ini <br />
  Pop $R0<br />
  StrCmp $R0 &quot;cancel&quot; Fin <br />
  StrCmp $R0 &quot;back&quot; Fin <br />
  StrCmp $R0 &quot;success&quot; &quot;&quot; <br />
    MessageBox MB_OK 'Vous avez cliquez sur &quot;continuer&quot;'<br />
  Fin:<br />
FunctionEnd<br />
<br />
<br />
<br />
thank you to say to me what does not go...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">9th September 2003, 16:09</div></div><div class="posttext">Init + show replace display. If you want to get the return value of IO use MUI_INSTALLOPTIONS_SHOW_RETURN.<br />
<br />
I still don't understand why you don't want to use the leave function, it's so much simpler... It doesn't require you to check the return value, it's only called when the user clicked next and it allows you to stop the user from moving on to the next page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AlexBienheureux</div><div class="date">9th September 2003, 19:56</div></div><div class="posttext">thank you to answer also quickly.  <br />
<br />
I search how to use the leave function with modern ui, but I did not find for a page created with installoption...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">9th September 2003, 20:04</div></div><div class="posttext">For custom pages it's the same as installers without the MUI. Use:<br />
<br />
Page custom customFunction leaveFunction</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AlexBienheureux</div><div class="date">10th September 2003, 06:51</div></div><div class="posttext">1000 thanks you're the best !!!<br />
<br />
<br />
i look the leave function ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AlexBienheureux</div><div class="date">10th September 2003, 08:58</div></div><div class="posttext">hello guy! :D<br />
<br />
that functions parfaitement(without the function leave) <br />
<br />
I tests to make the same thing without modern ui but I do not understand why that does not function....  :(<br />
<br />
<br />
------------------------------------------------<br />
Function MotdePasse<br />
  InstallOptions::dialog $PLUGINSDIR\mdp.ini<br />
  Pop $HWND<br />
  GetDlgItem $DLGITEM $HWND 1201 ;1200 + Field number - 1<br />
  SetCtlColors $DLGITEM FFFFFF FF0000<br />
    <br />
<br />
  Pop $R0<br />
  StrCmp $R0 &quot;cancel&quot; Fin<br />
  StrCmp $R0 &quot;back&quot; Fin<br />
  StrCmp $R0 &quot;success&quot; &quot;&quot;<br />
    MessageBox MB_OK 'Vous avez cliquez sur &quot;continuer&quot;'<br />
    Fin:<br />
      Pop $R0<br />
FunctionEnd<br />
------------------------------------------------<br />
<br />
<br />
<br />
thank you for your patience ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">10th September 2003, 11:05</div></div><div class="posttext">You have to put the InstallOptions calls in the creator func and the the code that should be executed when Next has been clicked in the leave func.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AlexBienheureux</div><div class="date">10th September 2003, 12:15</div></div><div class="posttext">ok thanks,<br />
<br />
the leave function is ok, but the color in the label doesn't work !<br />
<br />
<br />
my script : (without modern ui)<br />
----------------------------------------------------------<br />
...<br />
<br />
Page license<br />
page custom test &quot;Validation&quot; &quot;Ceci est un test&quot;<br />
Page instfiles<br />
<br />
<br />
Function test<br />
  InstallOptions::dialog $PLUGINSDIR\mdp.ini<br />
<br />
  Pop $HWND<br />
  GetDlgItem $DLGITEM $HWND 1201 ;1200 + Field number - 1<br />
  SetCtlColors $DLGITEM FFFFFF FF0000<br />
    <br />
FunctionEnd<br />
<br />
<br />
Function Validation<br />
  MessageBox MB_OK 'Vous avez cliquez sur &quot;continuer&quot;'<br />
FunctionEnd<br />
----------------------------------------------------------<br />
<br />
<br />
i don't know what is incorrect in my script...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th September 2003, 12:29</div></div><div class="posttext">You can't do that with InstallOptions::dialog, you must use InstallOptions::initDialog and InstallOptions::show to be able to set the colors/fonts.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AlexBienheureux</div><div class="date">10th September 2003, 14:57</div></div><div class="posttext">thank you very much to have answered all my questions.  <br />
now, all functions perfectly.  <br />
<br />
:up: :D :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>