<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Extending and not replacing text with BrandingText, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Extending and not replacing text with BrandingText NSIS Discussion" />
	
	<title> Extending and not replacing text with BrandingText [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Extending and not replacing text with BrandingText</div>
<hr />
<div class="pda"><a href="t-243919.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=243919">Extending and not replacing text with BrandingText</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Jim Bosworth</div><div class="date">19th April 2006, 11:44</div></div><div class="posttext">Hi!<br />
<br />
The Installer Attribute BrandingText allows the replacement of the default text at the bottom of the install window. Is it also possible to simply add something to this default text instead of replacing it? <br />
<br />
I would like to add the version of my install script like this: 'Nullsoft Install System vX.XX [1.2]', but I don't want to manually change X.XX every time the version of the install system changes.<br />
<br />
Any ideas or suggestions would be appreciated!<br />
<br />
Jim</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">19th April 2006, 12:33</div></div><div class="posttext">what about this?<br />
outfile 'brand.exe'<br />
BrandingText '$0'<br />
<br />
function .onInit<br />
ReadRegDword $R0 HKLM 'Software\NSIS' 'VersionMajor'<br />
strcpy '$0' '$R0'<br />
ReadRegDword $R0 HKLM 'Software\NSIS' 'VersionMinor'<br />
strcpy '$0' '$0.$R0'<br />
ReadRegDword $R0 HKLM 'Software\NSIS' 'VersionRevision'<br />
strcpy '$0' '$0.$R0'<br />
ReadRegDword $R0 HKLM 'Software\NSIS' 'VersionBuild'<br />
strcpy '$0' '$0.$R0'<br />
strcpy '$0' 'Nullsoft Install System v$0 [15]'<br />
messagebox mb_ok '$0'<br />
functionend<br />
<br />
section -<br />
<br />
sectionend</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jim Bosworth</div><div class="date">19th April 2006, 12:58</div></div><div class="posttext">Perfect! Works like a charm!<br />
<br />
Thanks a lot,<br />
<br />
Jim</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">19th April 2006, 12:59</div></div><div class="posttext">Define NSIS_VERSION haves the version number.<br />
<br />
You can use it like this:<br />
BrandingText 'Nullsoft Install System ${NSIS_VERSION} [1.2]'<br />
<br />
Red Wine that works, but it's run time and it will work only if the user haves NSIS installed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">19th April 2006, 13:28</div></div><div class="posttext">Red Wine that works, but it's run time and it will work only if the user haves NSIS installed. <br />
the example only shows how to prepare the string at compile time. :-)<br />
I'm in work so trying to post it quickly :-) the right one should be like this&quot;\:<br />
outfile 'brand.exe'<br />
silentinstall silent<br />
<br />
function .onInit<br />
ReadRegDword $R0 HKLM 'Software\NSIS' 'VersionMajor'<br />
strcpy '$0' '$R0'<br />
ReadRegDword $R0 HKLM 'Software\NSIS' 'VersionMinor'<br />
strcpy '$0' '$0.$R0'<br />
ReadRegDword $R0 HKLM 'Software\NSIS' 'VersionRevision'<br />
strcpy '$0' '$0.$R0'<br />
ReadRegDword $R0 HKLM 'Software\NSIS' 'VersionBuild'<br />
strcpy '$0' '$0.$R0'<br />
strcpy '$0' 'Nullsoft Install System v$0 [15]'<br />
;messagebox mb_ok '$0'<br />
FileOpen $R1 'brand.nsh' w<br />
Filewrite $R1 &quot;BrandingText '$0'&quot;<br />
Fileclose $R1<br />
functionend<br />
<br />
section -<br />
<br />
sectionend<br />
..........................................................<br />
!system 'brand.exe'<br />
!include brand.nsh<br />
<br />
outfile installer.exe<br />
page directory<br />
<br />
section<br />
<br />
sectionend</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jim Bosworth</div><div class="date">19th April 2006, 15:19</div></div><div class="posttext">Hmm... I was looking for something like NSIS_VERSION but couldn't find it in the online help. How can I find out about undocumented stuff like that? The forum? Is there a FAQ that contains those little extras?<br />
<br />
Jim</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">19th April 2006, 22:57</div></div><div class="posttext">Originally posted by Jim Bosworth <br />
Hmm... I was looking for something like NSIS_VERSION but couldn't find it in the online help. How can I find out about undocumented stuff like that? The forum? Is there a FAQ that contains those little extras?<br />
<br />
Jim  <br />
Far as I know the NSIS_VERSION definition isn't documented anywhere. I heard about it just recently in this forum.<br />
<br />
The best and only place to look undocumented stuff is the NSIS source code. ;) There are whole bunch of other hard-coded definitions, but most of those are only useful for NSIS developers.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JeronimoColon</div><div class="date">11th May 2006, 21:03</div></div><div class="posttext">I'm curious too.  I'm trying to set VIAddVersionKey FileVersion &quot;NSIS VERION NUMBER HERE!&quot; to the version it was compiled in.  This will be useful in when trying to determine if an issue a client reports is an NSIS bug or ours.<br />
<br />
Could a Dev chime in here please?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th May 2006, 09:59</div></div><div class="posttext">VIAddVersionKey FileVersion &quot;${NSIS_VERSION}&quot;<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">12th May 2006, 12:13</div></div><div class="posttext">Today I'm nice andhelpfull ;) see codesnippet if you want to diferentiate your build installeres easily<br />
<br />
(Right click yourinstaller.exe , then Properties, look at Comment Infoline )<br />
<br />
------------------------------------<br />
<br />
!define /date cBuildYear %Y<br />
;this stores the time when the script was compiled;<br />
!define /date Date &quot;%H:%M:%S %d %b, %Y&quot;<br />
<br />
VIAddVersionKey Comments &quot;This installer was build on ${Date}&quot;<br />
VIAddVersionKey LegalCopyright &quot;Â© 1960-${cBuildYear} YourCopyrightCompanyName&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JeronimoColon</div><div class="date">12th May 2006, 15:15</div></div><div class="posttext">Thank you Stu and Onad!<br />
<br />
:D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kypec</div><div class="date">27th November 2008, 13:03</div></div><div class="posttext">Originally posted by {_trueparuex^} <br />
Far as I know the NSIS_VERSION definition isn't documented anywhere. I heard about it just recently in this forum.<br />
<br />
The best and only place to look undocumented stuff is the NSIS source code. ;) There are whole bunch of other hard-coded definitions, but most of those are only useful for NSIS developers. <br />
I beg the developers to include information on this ${NSIS_VERSION} pre-define into Help manual documentation.<br />
Currently I spent more than 2 hours looking for such info:<br />
Manual -&gt; nothing there<br />
NSIS Sourceforge homepage -&gt; nothing really helpful<br />
Yet from the very beginning I was 100% sure there must be some ${***} define present already. I tried ${NSISVER} and  ${NSISVERSION} and almost gave up before my last resort, the forum, directed me in right way while searching for &quot;NSIS version&quot; keywords.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">27th November 2008, 16:07</div></div><div class="posttext">well, it is open source, so you could just check there, or run makensis /HDRINFO at the command line</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kypec</div><div class="date">28th November 2008, 07:01</div></div><div class="posttext">I see...so why bother with creating documentation at all?<br />
It's open source, so any information can be easily found and retrieved from the source code, right?<br />
No need to write help at all! Just look into source files, there you'll find how to design NSIS script files, what commands it supports and so on...and it won't take you more than 3 months until you'll be able to write your first NSI installer, isn't it just AWESOME?!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>