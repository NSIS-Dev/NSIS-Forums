<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" LUA plugin and XP, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  LUA plugin and XP NSIS Discussion" />
	
	<title> LUA plugin and XP [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  LUA plugin and XP</div>
<hr />
<div class="pda"><a href="t-295587.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=295587">LUA plugin and XP</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">berglind</div><div class="date">6th August 2008, 15:19</div></div><div class="posttext">I have an installer that uses the LUA plugin to request admin privileges (because when I'm done I need to launch the application in the context of the original user). Now I've encountered somewhat unexpected behavior when running the installer on XP. If I leave the default settings in the Run As dialog as they are, i.e. Current User selected and Protect my computer... ticked, I get an error message that simply says &quot;Error launching installer&quot;. If I untick the Protect my computer... box, I get &quot;This installer requires admin access, try again&quot;, as it should be. I'm guessing the protection is preventing the installer from extracting stuff that it needs or something similar, has anyone encountered this? Is there any way to things more user friendly in this case.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">6th August 2008, 15:31</div></div><div class="posttext">do you mean the UAC plugin? LUA = limited user acces (not admin)<br />
<br />
Anyway, that checkbox turns on more proctection and (you can't write to the users profile, thats why the installer will not start)<br />
<br />
see http://blogs.msdn.com/aaron_margosis/archive/2004/09/10/227727.aspx<br />
<br />
I am not providing that checkbox, it comes from the shell, to hide the checkbox would require some dirty hooking, not sure if I want to go down that path</div></div><hr />


<div class="post"><div class="posttop"><div class="username">berglind</div><div class="date">6th August 2008, 15:50</div></div><div class="posttext">Yes sorry, I meant UAC of course :) I was hoping maybe there was a way to catch this or tell Windows to disable this protection option. But if not I'll just write this off as a known issue. Thanks for responding so quickly :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">11th August 2008, 08:22</div></div><div class="posttext">in the next version, you can compile with the define FEAT_MSRUNASDLGMODHACK set and it will default to the other user radio button and disable that checkbox (not sure if FEAT_MSRUNASDLGMODHACK will be set in my release builds or when I will get around to testing and uploading a new version)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">berglind</div><div class="date">11th August 2008, 13:11</div></div><div class="posttext">That sounds really good, I'll be looking forward to your next version then. Thanks for the update.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>