<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" AddSize, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  AddSize NSIS Discussion" />
	
	<title> AddSize [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  AddSize</div>
<hr />
<div class="pda"><a href="t-149412.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=149412">AddSize</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">georke</div><div class="date">16th September 2003, 15:08</div></div><div class="posttext">I'm having a problem that is really working on my nerves for almost the whole day. I'm trying to use AddSize in a section together with a variable or a constant. So what I'm trying to do is something like this:<br />
AddSize $R0<br />
<br />
This is situated in a section and $R0 has an integer as value. If I replace $R0 with a value like 24352636, there's no problem.<br />
So the problem is that AddSize doesn't seem to take variables as a parameter. Does somebody have a solution to this problem? thnx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th September 2003, 15:17</div></div><div class="posttext">AddSize is a copmile time command, so it can't use variables which only have values on runtime. To change the size of a section on runtime grab the latest CVS version and use SectionSetSize (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.13.7) and SectionGetSize (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.13.8).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Voxel</div><div class="date">1st December 2004, 04:15</div></div><div class="posttext">Doesn't seem to work like AddSize does?....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">scrose</div><div class="date">1st December 2004, 12:45</div></div><div class="posttext">Quick answer: No, it doesn't. The documentation is pretty clear on the difference between AddSize (http://nsis.sf.net/Docs/Chapter4.html#4.6.1.1) and SectionSetSize (http://nsis.sf.net/Docs/Chapter4.html#4.9.13.7).<br />
<br />
Here is an example.Section &quot;Foo&quot; GOOBAH<br />
SectionEnd<br />
<br />
Section &quot;Bar&quot;<br />
SectionEnd<br />
<br />
Function .onInit<br />
  SectionSetSize 0 100<br />
  SectionSetSize ${GOOBAH} 100<br />
  SectionSetSize 1 50<br />
  SectionSetSize 2 17<br />
FunctionEndThe first two SectionSetSize commands do the same thing because 0 is the index of the first section, and ${GOOBAH} refers to that same section. The third SectionSetSize command affects the &quot;Bar&quot; section because 1 is the index of the second section. The final SectionSetSize fails and sets the error flag because there isn't a third section, which the index of 2 refers to.<br />
<br />
Almost verbatim from the documentation:AddSize tells the installer that the current section needs an additional &quot;size_kb&quot; kilobytes of disk space.The difference with SectionSetSize is that it declares an absolute size. The installer will automatically estimate how much space a section will require. You can use SectionSetSize to overwrite this estimate. SectionSetSize does not add to the estimate the installer makes.<br />
<br />
By the way, you should have kept this in your original post (http://forums.winamp.com/showthread.php?threadid=200755) instead of posting here and here (http://forums.winamp.com/showthread.php?threadid=200772).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>