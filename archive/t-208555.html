<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Input Box, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Input Box NSIS Discussion" />
	
	<title> Input Box [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Input Box</div>
<hr />
<div class="pda"><a href="t-208555.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=208555">Input Box</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">arfinator853</div><div class="date">22nd February 2005, 23:17</div></div><div class="posttext">This is probrally a nooB question but, I need to create 5 input boxes that will be on a custom page.  The data that is filled into these should be put into a variable.<br />
<br />
I've been searching through the foruns, readmes, and even in the MUI system.nsh but to no avail.  I'm probrally not looking at the right thing.<br />
<br />
Does anybody have any ideas?  Any and all help would be appreciated.<br />
<br />
Thanks in advance! :D <br />
<br />
Arfy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">23rd February 2005, 03:22</div></div><div class="posttext">\nsis\contrib\installoptions</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">23rd February 2005, 03:39</div></div><div class="posttext">/me points to HM NSIS Editor<br />
<br />
wait! we aren't in the channel :D<br />
<br />
A good edit (http://hmne.sourceforge.net/) will help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfinator853</div><div class="date">23rd February 2005, 04:27</div></div><div class="posttext">Here is my function code for that custom page:<br />
 Function mysql<br />
   GetTempFileName $R0<br />
   File /oname=$R0 mysql.ini<br />
   Pop $R1<br />
   done:<br />
 FunctionEnd<br />
<br />
Here is the .ini file I created using HM Edit<br />
<br />
; Ini file generated by the HM NIS Edit IO designer.<br />
[Settings]<br />
NumFields=10<br />
Title=MySQL connect options<br />
BackEnabled=0<br />
CancelButtonText=Cancel<br />
NextButtonText=OK<br />
BackButtonText=&lt; Previous<br />
<br />
[Field 1]<br />
Type=Text<br />
State=localhost<br />
Left=49<br />
Right=172<br />
Top=7<br />
Bottom=20<br />
<br />
[Field 2]<br />
Type=Label<br />
Text=Host<br />
Left=8<br />
Right=22<br />
Top=9<br />
Bottom=17<br />
<br />
[Field 3]<br />
Type=Label<br />
Text=Port<br />
Left=5<br />
Right=18<br />
Top=28<br />
Bottom=36<br />
<br />
[Field 4]<br />
Type=Label<br />
Text=Username<br />
Left=5<br />
Right=37<br />
Top=55<br />
Bottom=63<br />
<br />
[Field 5]<br />
Type=Label<br />
Text=Password<br />
Left=5<br />
Right=36<br />
Top=72<br />
Bottom=80<br />
<br />
[Field 6]<br />
Type=Label<br />
Text=Database<br />
Left=5<br />
Right=36<br />
Top=96<br />
Bottom=104<br />
<br />
[Field 7]<br />
Type=Password<br />
Left=49<br />
Right=172<br />
Top=70<br />
Bottom=83<br />
<br />
[Field 8]<br />
Type=Text<br />
State=root<br />
Left=49<br />
Right=172<br />
Top=54<br />
Bottom=67<br />
<br />
[Field 9]<br />
Type=Text<br />
State=SAMDB<br />
Left=49<br />
Right=172<br />
Top=93<br />
Bottom=106<br />
<br />
[Field 10]<br />
Type=Text<br />
State=3306<br />
Left=49<br />
Right=100<br />
Top=25<br />
Bottom=38<br />
<br />
<br />
I need all of these fields to save to a variable in the installer so they can be pulled up again later when I need to alter the mysql database.  Right now, these two files are just the login details that the user has for his database.<br />
<br />
I am so confused right now, so any and all help would be appreciated!<br />
<br />
Thanks!<br />
Arfy!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">23rd February 2005, 14:08</div></div><div class="posttext">Since is an INI file, try the INI instruction like ReadINIStr.... :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfinator853</div><div class="date">23rd February 2005, 23:40</div></div><div class="posttext">I did what you said using the ReadINIStr command, but now when I compile the installer it compiles successfully, runs, but skips the custom page entirely.  Only a blank dialog box comes up because I want to see if it successfully saves the data into that variable.  The form doesnt even show up.  Here is my function section:<br />
<br />
 Function mysql<br />
;$0 is Host<br />
   ReadINIStr $0 mysql.ini &quot;Field 1&quot; outname<br />
 FunctionEnd<br />
<br />
The mysql.ini file is up in the previous post.  I found this command in the help file and didn't know what to put for &quot;outname&quot;.<br />
<br />
Thanks!<br />
<br />
Arfy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfinator853</div><div class="date">24th February 2005, 00:04</div></div><div class="posttext">The custom page now shows up, but I dont know how I can get the data that the user enters to show up in a variable.<br />
<br />
Here is my new functions code:<br />
<br />
Function .onInit<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;mysql.ini&quot;<br />
FunctionEnd<br />
;Custom Page (enter mysql data)<br />
<br />
 Function mysql<br />
;$0 is Host<br />
!insertmacro MUI_HEADER_TEXT &quot;MySQL Connect Options&quot; \<br />
&quot;These are you MYSQL Login Details that you set when you installed MYSQL. \<br />
If default settings were used during install, these values can be used.&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;mysql.ini&quot;<br />
 FunctionEnd<br />
<br />
I am still going to work on the ReadINIStr thing, but I dont know if it will work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfinator853</div><div class="date">24th February 2005, 01:43</div></div><div class="posttext">does anybody have any ideas?<br />
<br />
I have gotten the script to read what is in the state field in the ini doc which would work, if only I can get it to write in the ini script the variable.  (right now only plain text has worked)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th February 2005, 08:55</div></div><div class="posttext">Use !insertmacro MUI_INSTALLOPTIONS_READ $R0 &quot;myINIFile.ini&quot; &quot;Field #&quot; &quot;State&quot;<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">24th February 2005, 20:13</div></div><div class="posttext">Also you might check INI's full path :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th February 2005, 21:42</div></div><div class="posttext">MUI_INSTALLOPTIONS_READ will point to your myINIFile.ini that is stored in $PLUGINSDIR (which you extract to $PLUGINSDIR using MUI_INSTALLOPTIONS_EXTRACT).<br />
No path is needed.<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>