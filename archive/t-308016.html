<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Repair-Option, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Repair-Option NSIS Discussion" />
	
	<title> Repair-Option [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Repair-Option</div>
<hr />
<div class="pda"><a href="t-308016.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=308016">Repair-Option</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mikeaoller</div><div class="date">6th July 2009, 12:04</div></div><div class="posttext">Hello to this community @1st!<br />
<br />
Being new here and already having searched through all the available information, I couldn't find a feature other install systems recently more and more seem to have: <br />
<br />
A Repair Functionality.<br />
<br />
E.g.: A user accidentally deletes a file from an installed software and by this destroys the installation. With several other installation systems he could visit the software control panel applet, select the software and click a &quot;Repair&quot;-button.<br />
<br />
AFAIK this is not possible with NSIS - please prove me wrong or show me a way to do something similar - that would be the cream topping for my already quite professional installer :)<br />
<br />
Thank you very much,<br />
<br />
Best Regards<br />
Mike</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">6th July 2009, 12:59</div></div><div class="posttext">Nothing is impossible with NSIS. Repair functionality is just not built in by default. It's a matter of displaying a custom nsDialogs page if you detect an installation and then skip the components page if Repair was chosen (and you'd probably need to remember which components had been selected during the install). It's quite a bit of work.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">6th July 2009, 13:00</div></div><div class="posttext">simple answer<br />
Yes its possible.<br />
<br />
1. you have to set the &quot;norepair&quot; flag to zero in the Uninstall section<br />
see here &quot;http://nsis.sourceforge.net/Docs/AppendixD.html#D.2&quot;<br />
2. you have to tell the &quot;uninstaller&quot; what he have to do when people want to repair</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">6th July 2009, 13:10</div></div><div class="posttext">Well you can't tell the uninstaller to repair because you don't have the files stored in the uninstaller. You'd need to have the uninstall registry pointing to the original installer (a copy) instead and that can itself call the uninstaller if you choose Uninstall instead of Repair.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mikeaoller</div><div class="date">6th July 2009, 15:17</div></div><div class="posttext">Hey guys,<br />
<br />
thanks for your answers. In my case it would be even easier, because I wouldn't need file repair, and therefore no access to the installer files. I should have been clearer in my OP.<br />
<br />
I only need the change/repair button to show up in the &quot;Add or remove Programs&quot; applet and an executable to be run when the button is clicked.<br />
<br />
Does sb have an example?<br />
<br />
Regards,<br />
Mike</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">6th July 2009, 15:19</div></div><div class="posttext">In which case look at point #1 in thek's post.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>