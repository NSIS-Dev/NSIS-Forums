<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Change groupbox color, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Change groupbox color NSIS Discussion" />
	
	<title> Change groupbox color [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Change groupbox color</div>
<hr />
<div class="pda"><a href="t-264608.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264608">Change groupbox color</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">29th January 2007, 09:40</div></div><div class="posttext">Hello guys..<br />
1st of all, i would like to say thank you very much for always helping me. I started using NSIS with zero knowledge about it, and now i can create good installer with it.<br />
I need your help again<br />
I am currently using UMUI, i have a custom page, a confirmation page, where it lists all the info and settings that entered by the user (see attachment).<br />
I use !define MUI_BGCOLOR D3CDDB to change the background color of the skin, but now, i want to change ONLY the groupbox into white. how could i do that?<br />
by the way, this is the confirmation.ini<br />
<br />
[Settings]<br />
NumFields=11<br />
<br />
[Field 1]<br />
Type=Label<br />
Text=Setup has enough information to start copying the program files. If you want to review or change any settings, click Back. If you are statisfied with settings, click Install to begin copying files:<br />
Left=0<br />
Right=276<br />
Top=0<br />
Bottom=30<br />
<br />
[Field 2]<br />
Type=Label<br />
Text=Current Settings<br />
Left=0<br />
Right=276<br />
Top=32<br />
Bottom=40<br />
<br />
[Field 3]<br />
Type=Groupbox<br />
Left=0<br />
Right=278<br />
Top=40<br />
Bottom=160<br />
<br />
[Field 4]<br />
Type=Label<br />
Text=[Name]<br />
Left=5<br />
Right=277<br />
Top=45<br />
Bottom=54<br />
<br />
[Field 5]<br />
Type=Label<br />
Left=5<br />
Right=270<br />
Top=56<br />
Bottom=64<br />
<br />
[Field 6]<br />
Type=Label<br />
Text=[Company]<br />
Left=5<br />
Right=272<br />
Top=70<br />
Bottom=79<br />
<br />
[Field 7]<br />
Type=Label<br />
Left=5<br />
Right=276<br />
Top=80<br />
Bottom=88<br />
<br />
[Field 8]<br />
Type=Label<br />
Text=[Suffix]<br />
Left=5<br />
Right=274<br />
Top=94<br />
Bottom=103<br />
<br />
[Field 9]<br />
Type=Label<br />
Left=5<br />
Right=269<br />
Top=104<br />
Bottom=112<br />
<br />
[Field 10]<br />
Type=Label<br />
Text=[Program Install Directory]<br />
Left=5<br />
Right=269<br />
Top=118<br />
Bottom=127<br />
<br />
[Field 11]<br />
Type=Label<br />
Left=5<br />
Right=265<br />
Top=128<br />
Bottom=149<br />
<br />
and, another question is, what is the control id for the text field in startmenu page?<br />
Thank you in advance!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">30th January 2007, 21:29</div></div><div class="posttext">It seems that within the script isn't possible to change the color inside the groupbox frame while the actual space that is added to the groupbox is the space around its label. It might be possible by modifying the recourse ui...<br />
Also you may try a trick that it might work, no tested though.<br />
You could add a bitmap control covering the entire groupbox frame, with a plain white small bmp and assign on it flags TRANSPARENT|RESIZETOFIT. I guess this trick has some possibilities to work.<br />
<br />
You may find all controls id by opening the recourse ui with Recourse Hacker for instance, or just compile and execute the following script, it will offer you a text file with all ids for standard mui dialogs.<br />
name 'Find Control IDs'<br />
outfile 'findctlID_MUI.exe'<br />
showinstdetails show<br />
InstallDir '$EXEDIR'<br />
<br />
var header<br />
<br />
!include mui.nsh<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE lic_pre<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW lic_show<br />
!insertmacro MUI_PAGE_LICENSE '${NSISDIR}\License.txt'<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW comp_show<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW dir_show<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW smn_show<br />
!insertmacro MUI_PAGE_STARTMENU app $R9<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW inst_show<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
section<br />
sectionend<br />
<br />
function lic_show<br />
strcpy $header &quot;LICENSE PAGE CONTROLS&quot;<br />
call findIDs<br />
functionend<br />
<br />
function comp_show<br />
strcpy $header &quot;COMPONENTS PAGE CONTROLS&quot;<br />
call findIDs<br />
functionend<br />
<br />
function dir_show<br />
strcpy $header &quot;DIRECTORY PAGE CONTROLS&quot;<br />
call findIDs<br />
functionend<br />
<br />
function smn_show<br />
strcpy $header &quot;START MENU PAGE CONTROLS&quot;<br />
call findIDs<br />
functionend<br />
<br />
function inst_show<br />
strcpy $header &quot;INSTALL FILES PAGE CONTROLS&quot;<br />
call findIDs<br />
functionend<br />
<br />
function lic_pre<br />
fileopen $5 '$EXEDIR\ids.txt' a<br />
fileseek $5 '' END<br />
filewrite $5 &quot;PARENT DIALOG CONTROLS$\r$\n&quot;<br />
strcpy $0 0<br />
loop:<br />
strcmp $0 '2000' end<br />
GetDlgItem $R0 $HWNDPARENT $0<br />
strcmp $R0 0 +3<br />
fileseek $5 '' END<br />
filewrite $5 &quot;Control ID == $0$\r$\n&quot;<br />
intop $0 $0 + 1<br />
goto loop<br />
end:<br />
filewrite $5 &quot;$\r$\n&quot;<br />
fileclose $5<br />
functionend<br />
<br />
function findIDs<br />
fileopen $5 '$EXEDIR\ids.txt' a<br />
fileseek $5 '' END<br />
filewrite $5 &quot;$header$\r$\n&quot;<br />
strcpy $0 0<br />
loop:<br />
strcmp $0 '2000' end<br />
FindWindow $R5 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $R0 $R5 $0<br />
strcmp $R0 0 +3<br />
fileseek $5 '' END<br />
filewrite $5 &quot;Control ID == $0$\r$\n&quot;<br />
intop $0 $0 + 1<br />
goto loop<br />
end:<br />
filewrite $5 &quot;$\r$\n&quot;<br />
fileclose $5<br />
functionend<br />
<br />
function .onInit<br />
IfFileExists '$EXEDIR\ids.txt' 0 +2<br />
delete '$EXEDIR\ids.txt'<br />
functionend</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">31st January 2007, 01:46</div></div><div class="posttext">Red Wine, thanx a lot for your guide..<br />
I will try!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">31st January 2007, 07:31</div></div><div class="posttext">Originally posted by Red Wine <br />
You could add a bitmap control covering the entire groupbox frame, with a plain white small bmp and assign on it flags TRANSPARENT|RESIZETOFIT. I guess this trick has some possibilities to work. <br />
<br />
Red Wine, i tried this, but pls see the attachment for the result.<br />
I think, I can transparent the labels in the groupbox, but how about the area that I show with red arrows?<br />
I dont think I can paint those areas, since there is no ctrl id for them.<br />
Do you have any idea?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">31st January 2007, 07:33</div></div><div class="posttext">sorry, i forgot the attachment</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">31st January 2007, 07:47</div></div><div class="posttext">try to set backround color for all controls to white instead of transparent, also change the parent dialog's color to white<br />
   FindWindow $1 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
         SetCtlColors $1 '' '0x000000'<br />
<br />
<br />
See this wiki page for more details<br />
<br />
http://nsis.sourceforge.net/Demonstrating_Page%27s_Custom_Functions_Pre_Show_Leave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">31st January 2007, 09:47</div></div><div class="posttext">Red Wine, thanx a lot for your help<br />
I did make it.<br />
1st I followed ur advice, bout the white color bitmap<br />
then i used 2nd bitmap image with the same color of the backgound, put it on the white bitmap</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">31st January 2007, 10:11</div></div><div class="posttext">Well...it's been said before!<br />
With NSIS you can do it the way you like ;) (always)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">17th August 2008, 10:27</div></div><div class="posttext">I'd like to change control colors in UMUI. I tried to use SetCtlColors, it works. But some controls are drew with system colors (checkbox, listbox...). Can I customize these colors too?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>