<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" branching an Execwait??, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  branching an Execwait?? NSIS Discussion" />
	
	<title> branching an Execwait?? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  branching an Execwait??</div>
<hr />
<div class="pda"><a href="t-108864.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=108864">branching an Execwait??</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Geoshine</div><div class="date">8th October 2002, 02:33</div></div><div class="posttext">Hey folks. <br />
<br />
Here's my problem. From my installer, I need to kick off an MSI install. So far as I've been able to tell, I actually need to call the msiexec from an Execwait in order for this to work. Nothing else seems to achieve the desired results. However, one problem. If the OS is '95 or '98 (and assuming they have the installer), I need to call it like this:<br />
ExecWait '&quot;msiexec.exe&quot; $INSTDIR\SFRelease.msi' <br />
However, if its NT, 2K or XP, I need this:<br />
ExecWait '&quot;msiexec.exe&quot; /i $INSTDIR\SFRelease.msi'<br />
The only way I've found to distinguish between those is to make a system call or something to do 'set OS', which should echo back the current version. Then I can do some sort of compare on that, and branch to a different Execwait depending on the result.<br />
<br />
So my question is 2-fold. First, can anyone think of any easier way to accomplish the above? And whether you think of something new, or just agree with my above assessment, can someone please provide some code snippets for the nsi file? I'm still quite new to this, and bit lost on how to do branching.<br />
<br />
Thanks very much for your time.<br />
<br />
- Geo</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">8th October 2002, 09:28</div></div><div class="posttext">Have a look at Examples\functions.htm (GetWindowsVersion)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>