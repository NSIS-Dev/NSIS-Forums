<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Imagein description of a component, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Imagein description of a component NSIS Discussion" />
	
	<title> Imagein description of a component [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Imagein description of a component</div>
<hr />
<div class="pda"><a href="t-305089.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305089">Imagein description of a component</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Contex</div><div class="date">7th April 2009, 21:22</div></div><div class="posttext">Well, as it says in the title, I want to know if it is possible to insert an image in the discription of a component, if yes could anyone explain how?<br />
<br />
Thanks, Contex<br />
<br />
Here's a picture explaining where I want to have this image:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">7th April 2009, 21:54</div></div><div class="posttext">Not by default, no.<br />
<br />
Probably the easiest method would be to reshack the modern UI resources and add a bitmap control the components page in exactly the spot you need it... you can load an image file into it from there.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Contex</div><div class="date">8th April 2009, 19:13</div></div><div class="posttext">Alright so far I understand it but when I came to this word &quot;bitmap control&quot; my mind went crazy. :weird:  Any more explanation of it please :rolleyes: :rolleyes:. Or even an example would be the best if you have one.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">8th April 2009, 20:00</div></div><div class="posttext">outside the scope of this forum, really... start with getting the ResHacker (Resource Hacker) utility:<br />
<br />
http://angusj.com/resourcehacker/<br />
<br />
And have a peek at the Tutorials for it, for example:<br />
http://www.**********/tutorial-all-about-resource-hacker-in-a-brief-tutorial/<br />
Scroll down to 'Adding Newly added Resources in Dialog Boxes'.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MarcelP1977</div><div class="date">7th April 2010, 18:51</div></div><div class="posttext">I want to do the same as in first post said.<br />
<br />
Has anyone an example script how can i do it?? <br />
<br />
Please help me.<br />
<br />
It would be nice if i can put an preview picture from my &quot;installabel Logos&quot; in components page.<br />
<br />
Best Regards, Marcel.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">7th April 2010, 19:19</div></div><div class="posttext">'ll reply in this thread - no point in resurrecting two<br />
<br />
As per the above - you would have to use reshacker to first add a bitmap resource to the appropriate dialog.  After that you'd have to adjust the code involved with changing the component description to change the image instead (or in addition).<br />
<br />
For -most- of these things, though, I don't thin you'd want to use the component page at all.  The component page has very little real-estate for textual descriptions as it is, let along images.<br />
<br />
Why not create an nsDialogs page with a drop-down list or a flat listbox and a big image area, and then change the images on that.  Once the user has made a choice, hide the other Sections, and select the section that corresponds to the skin that he user chose.<br />
Edit: possibly because the changed image refuses to take on the bitmap control.. huh.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MarcelP1977</div><div class="date">7th April 2010, 19:28</div></div><div class="posttext">How can i do that? Do you have example for me?  :)<br />
<br />
Or maybe i send you my (big) script and you can take a look?<br />
<br />
Another question, i have also implemented follow tweak from the Wiki &quot;Controlling Available Install Options&quot;. But it is descript for 4 elements, but i have 17!<br />
When i adapt these script i have more then one elemts choosen the first time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">7th April 2010, 19:52</div></div><div class="posttext">How can i do that? Do you have example for me?  :)<br />
<br />
<br />
!addincludedir &quot;.&quot;<br />
!addplugindir &quot;.&quot;<br />
<br />
!include &quot;LogicLib.nsh&quot;<br />
!include &quot;MUI2.nsh&quot;<br />
!include &quot;winMessages.nsh&quot;<br />
!include &quot;nsDialogs.nsh&quot;<br />
<br />
OutFile &quot;test.exe&quot;<br />
<br />
Section<br />
SectionEnd<br />
<br />
Var dialog<br />
Var hwnd<br />
Var null<br />
<br />
Var hwnd_listbox<br />
Var hwnd_bitmap<br />
Var res_bmp<br />
<br />
!macro RedrawControl control<br />
	Push $0<br />
	EnableWindow $0 0<br />
	StrCpy $0 ${control}<br />
	System::Call &quot;user32::InvalidateRect(i,i,i)i (r0, 0, 1)&quot;<br />
	EnableWindow $0 1<br />
	Pop $0<br />
!macroend<br />
!define RedrawControl `!insertmacro RedrawControl`<br />
<br />
Page Custom customPage<br />
Function customPage<br />
	nsDialogs::Create 1018<br />
	Pop $dialog<br />
<br />
	InitPluginsDir<br />
	SetOutPath &quot;$PluginsDir&quot;<br />
	    File &quot;a.bmp&quot;<br />
	    File &quot;b.bmp&quot;<br />
<br />
	${NSD_CreateListBox} 0 0 20% 100% &quot;&quot;<br />
	    pop $hwnd_listbox<br />
		${NSD_LB_AddString} $hwnd_listbox &quot;Skin A&quot;<br />
		${NSD_LB_AddString} $hwnd_listbox &quot;Skin B&quot;<br />
		${NSD_OnChange} $hwnd_listbox custompage.droplist.onchange<br />
<br />
	${NSD_CreateBitmap} 25% 0 190 171 &quot;&quot;<br />
	    Pop $hwnd_bitmap<br />
<br />
	nsDialogs::Show<br />
	${NSD_FreeImage} $res_bmp<br />
FunctionEnd<br />
<br />
Function custompage.droplist.onchange<br />
	Pop $hwnd<br />
	SendMessage $hwnd ${LB_GETCURSEL} 0 0 $0<br />
	${If} $0 &gt;= 0<br />
		System::Call user32::SendMessage(i$hwnd,i${LB_GETTEXT},i$0,t.r1)<br />
		${Select} $1<br />
		    ${Case} &quot;Skin A&quot;<br />
		        StrCpy $3 &quot;a.bmp&quot;<br />
		    ${Case} &quot;Skin B&quot;<br />
		        StrCpy $3 &quot;b.bmp&quot;<br />
		    ${Default}<br />
		        StrCpy $3 &quot;a.bmp&quot;<br />
		${EndSelect}<br />
	${NSD_FreeImage} $res_bmp<br />
	${NSD_SetImage} $hwnd_bitmap &quot;$PluginsDir\$3&quot; $res_bmp<br />
	${EndIf}<br />
FunctionEnd<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
<br />
Something like that.<br />
*goes to figure out why this didn't work before*<br />
<br />
Edit: Because I used $R0 for the filename and that gets overwritten in nsDialogs.. whoops.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MarcelP1977</div><div class="date">7th April 2010, 19:59</div></div><div class="posttext">Nice, thanks, i will try this out.<br />
<br />
Can you help me on another Thread?  <br />
<br />
This one:<br />
<br />
http://forums.winamp.com/showthread.php?t=318232<br />
<br />
Thanks.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>