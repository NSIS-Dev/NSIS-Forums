<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" &quot;icon size mismatch&quot; again and again..., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  &quot;icon size mismatch&quot; again and again... NSIS Discussion" />
	
	<title> &quot;icon size mismatch&quot; again and again... [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  &quot;icon size mismatch&quot; again and again...</div>
<hr />
<div class="pda"><a href="t-153682.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=153682">&quot;icon size mismatch&quot; again and again...</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DropF</div><div class="date">23rd October 2003, 10:10</div></div><div class="posttext">Hi,<br />
<br />
When I try to compile my installer, I got this error message:Error finding icon resources: installer, uninstaller icon size mismatch - see the Icon instruction's documentation for more information -- failing!<br />
Error - aborting creation processI've read all the topics I've found about this subject, but no one got my solution. Indeed, my problem is that my installer icon has the same formats of my uninstaller icon, and both got a size of 23,558 bytes.<br />
<br />
My uninstaller icon is the file ${NSISDIR}\Contrib\Graphics\Icons\modern-uninstall-full.ico. And here I join my installer icon. And I'm using the latest CVS version of NSIS (updated with the NSIS Update tool).<br />
<br />
Thank you for your help ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd October 2003, 11:46</div></div><div class="posttext">Your installer icon and uninstaller icon doesn't have the same order of internal icons.<br />
<br />
I will think about this and see if there is a reason for this requirement. If there isn't, I'll remove it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">23rd October 2003, 11:48</div></div><div class="posttext">why is this requirement for same icon size in nsis anyway?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd October 2003, 11:54</div></div><div class="posttext">Because including a resource editor in the installer is a waste of space and so is including a full exeheader for the uninstaller.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">23rd October 2003, 19:17</div></div><div class="posttext">ah, good idea, so you are using basicly the same header for the installer and uninstaller, right? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">23rd October 2003, 22:40</div></div><div class="posttext">Try with this :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DropF</div><div class="date">23rd October 2003, 23:02</div></div><div class="posttext">Works fine with those icons. Thanks.<br />
But what changes did you do??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">24th October 2003, 00:21</div></div><div class="posttext">Two things:<br />
1. Same size<br />
2. Same color depth.<br />
:D<br />
BTW: Your welcome ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DropF</div><div class="date">24th October 2003, 09:26</div></div><div class="posttext">But that's what I did :eek: : the both icons got the same size and the same color depth. But Kichik said:Your installer icon and uninstaller icon doesn't have the same order of internal icons.So how did you put those icons in the same order?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">24th October 2003, 12:43</div></div><div class="posttext">I think most icon editors use the same order when resaving the files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DropF</div><div class="date">24th October 2003, 21:29</div></div><div class="posttext">Originally posted by Joost Verburg <br />
I think most icon editors use the same order when resaving the files. <br />
In fact, I only need to resave each icon to reorder the icons in the .ico files, that's it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">24th October 2003, 22:05</div></div><div class="posttext">I don't know. It probably depends on the icon editor. You will have to try.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">26th October 2003, 01:33</div></div><div class="posttext">Joost It's right. You must save your icon structures with the same<br />
Icon editor. Try to save'em with Microangelo, AW Icons, etc..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th December 2003, 09:33</div></div><div class="posttext">Latest CVS version should not care about the order anymore. Note that I have not uploaded a compiled version yet.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">9th December 2003, 03:35</div></div><div class="posttext">Keep in mind that the icon order is important if you're including certain icon sizes.  Most good icon editors will automatically take care of this for you. (I use IconBuilder from www.iconfactory.com.)<br />
<br />
Of particular note is (if I remember correctly...) 48x48 @ 16 colors. On most versions of Windows, if this icon size isn't in the correct location, no icons will show at all...<br />
<br />
Also, if you care about size, proper ordering of the icons will reduce the total size of the icon file. I've never understood this, but have verified it numerous times with various editors. Just find some old, free editor to save a few icons. Then re-save the file with a &quot;good&quot; editor. Sometimes the results are amazing. (But usually nothing to write home about...)<br />
<br />
Just my $0.02.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th December 2003, 19:05</div></div><div class="posttext">NSIS needs installer and uninstaller icons with the same size because it has to overwrite the installer icon data with the uninstaller data and including a resource editor is a waste of size.<br />
<br />
There is no reason for NSIS to care about the order, because it is possible to have totally correct icons with different orders.<br />
<br />
The ICO format can contain icon in any order. I don't know about limitations in old Windows versions, but it's up to the user to handle these things.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">9th December 2003, 20:20</div></div><div class="posttext">I agree with Joost's assessment. Just wanted to make note of a pitfall that many people come across (even if they don't notice...). In fact, you can go out and buy a few of our CDs and see the effects... :cry:<br />
<br />
By forcing the user to keep the order the same makes it more likely that they have re-saved the icons with an editor recently. And most semi-recent editors will save in the proper order. (Even 2000 and XP have issues with out-of-order icons...)<br />
<br />
Anyway, the requirement is fairly arbitrary it seems. I, personally, haven't seen that error in quite a while. So it affects me not. Just babbling on... ;)<br />
<br />
--Matt</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th December 2003, 21:21</div></div><div class="posttext">Forcing the user to use icons with the same image order does not guarantee that the order is correct.<br />
<br />
The ICO format does not contain any order requirements. Can you provide me with a link about Windows issues with icon order?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">9th December 2003, 21:51</div></div><div class="posttext">Well, aside from the well-known &quot;Don't include 24x24&quot; and &quot;1-bit icons are unnecessary&quot; issues, the only thing I have at-hand is a PDF document that came with IconBuilder... I'll attach it in another message. Unfortunately, when I upgraded to XP, I lost my bookmarks (including all of my icon resources). If someone is suitably bored and ambitious, hopefully they can find the docs on either Google or Microsoft's site. I've found the info in both places... It's just a matter of finding the proper search terms, which I don't have time for at the moment.<br />
<br />
--Matt</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">9th December 2003, 22:00</div></div><div class="posttext">You can't attach to a previous post... Anyway, attached is the PDF. The note about 48x48x16 is on the last page. It also doesn't affect the newest versions of IconBuilder, so this is primarily of historical interest to me. They had a release note at one point saying that they rearranged the icon order to make it work...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>