<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to pass a new variable values to scripts by cmdline ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to pass a new variable values to scripts by cmdline ? NSIS Discussion" />
	
	<title> How to pass a new variable values to scripts by cmdline ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to pass a new variable values to scripts by cmdline ?</div>
<hr />
<div class="pda"><a href="t-127454.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=127454">How to pass a new variable values to scripts by cmdline ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">thoste</div><div class="date">6th March 2003, 12:27</div></div><div class="posttext">Assume I have a succesful working script with a fixed definition like<br />
<br />
!define VERSION &quot;V.3.3&quot;<br />
Name &quot;BlaBla ${VERSION}&quot;<br />
<br />
Now I want to prepare a new installer exe for version 3.4 by compiling the same old script FROM COMMAND LINE !! but with a new VERSION assignment. The used/included files are all the same. I am thinking about a technique like:<br />
<br />
makensis myscript VERSION=&quot;V.3.4&quot;<br />
<br />
but this doesn't work. How do I assign new values to<br />
script variables without coding them explicitely inside the script?<br />
<br />
Thx<br />
Thomas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">virtlink</div><div class="date">6th March 2003, 12:35</div></div><div class="posttext">Look here (http://nsis.sourceforge.net/Docs/Chapter2.html#) and you will find out that you actually have to use the /D switch:<br />
<br />
makensis myscript /DVERSION=&quot;V.3.4&quot;<br />
<br />
But then you need to remove the '!define VERSION &quot;V.3.3&quot;' line from the script and compile the V.3.3 script with:<br />
<br />
makensis myscript /DVERSION=&quot;V.3.3&quot;<br />
<br />
An example is here (http://forums.winamp.com/showthread.php?s=&amp;threadid=102650), under the header 'How can I make my script depend on some registry value/the version of my product/&lt;something dynamic&gt;?'.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">6th March 2003, 12:36</div></div><div class="posttext">Chapter 2 of the docs:<br />
<br />
Using the /D switch one or more times will add to symbols to the globally defined list.<br />
<br />
Makensis [/Ddefine[=value] ...]</div></div><hr />


<div class="post"><div class="posttop"><div class="username">virtlink</div><div class="date">6th March 2003, 12:40</div></div><div class="posttext">Joost, you where just a minute too late: I just told him this. :) ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thoste</div><div class="date">6th March 2003, 14:49</div></div><div class="posttext">Hmm, from time to time I want to compile the script by using the GUI.<br />
<br />
Ok you said I have to remove the !define VERSION statement in order to be able to compile the nsi script from cmdline.<br />
<br />
When I switch later back to the GUI version to compile it from inside the GUI I have to enter the !define statement again.<br />
This is very inconvenient.<br />
<br />
It would be better if NSIS would accept command line parameters assginments as assignments with higher priority<br />
<br />
Is there maybe another solution ?<br />
<br />
Thx<br />
Thomas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">6th March 2003, 15:14</div></div><div class="posttext">Then instead of removing the define do this:-<br />
!ifndef VERSION<br />
!define VERSION &quot;V.3.3&quot;<br />
!endif</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>