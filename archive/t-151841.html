<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" asking for 2 directories, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  asking for 2 directories NSIS Discussion" />
	
	<title> asking for 2 directories [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  asking for 2 directories</div>
<hr />
<div class="pda"><a href="t-151841.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=151841">asking for 2 directories</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">micahel</div><div class="date">7th October 2003, 16:26</div></div><div class="posttext">Hello,<br />
<br />
me again with some silly questions:<br />
<br />
a) How can I produce two &quot;wizzard-like&quot; pages for requesting the user to browse for a directory which I can put to user-variables?<br />
<br />
b) Is there another possibility (more nifty) to set system variables in windows (like the command &quot;set VARIABLE=TOVALUE&quot;) which will be used while the installer is running?<br />
Or shall I execute the &quot;set&quot; command?<br />
<br />
Thank you for your help<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th October 2003, 16:32</div></div><div class="posttext">StrCpy $0 hello<br />
$0 = hello<br />
<br />
See the documentation on user vairiables, and creating new variables.<br />
Also check out the syntaxes for StrCpy, StrCmp and other string functions.<br />
<br />
Use InstallOptions (in Contrib\InstallOptions) to create custom dialogs with directory inputs.<br />
<br />
I'm not sure, but it may be possible to have two directory pages in latest NSIS CVS, and you can use<br />
StrCpy $R0 $INSTDIR, StrCpy $R1 $INSTDIR to store the different directory paths in the leave functions of both pages.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th October 2003, 16:47</div></div><div class="posttext">In the latest CVS version just insert the directory page macro twice and use MUI_DIRECTORYPAGE_VARIABLE before one of them to define a different variable into which the directory will be saved.<br />
<br />
The Archvie (http://nsis.sf.net/archive) contains some functions that can help you set environment variables. Simply search for &quot;environment&quot; and you'd find what you need.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">micahel</div><div class="date">8th October 2003, 18:36</div></div><div class="posttext">First of all, thanks for your help. I really made a major step to my goal. But I recognized, that I got a problem with the System/User Variables . So I have a question that don't rely on NSIS, but maybe someone of you could help me:<br />
<br />
Is it possible to set a System/User Variable, which normaly would by set by Start-&gt;System Properties-&gt;System-&gt;Environment (on Win2k) without having to logout and login again, in order to aktivate this System/User Variable?<br />
Something of rereading the Registry regarding &quot;Environment&quot; without leaving the current Windows(NT)-Session?<br />
<br />
Thanks for your help!<br />
<br />
Cheers Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th October 2003, 18:51</div></div><div class="posttext">There is a function in the Archive that does exactly that. Just search for &quot;environment&quot; in there and you should about 4 related pages.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">micahel</div><div class="date">8th October 2003, 19:30</div></div><div class="posttext">Sorry for my silliness. I just read only one of your articles.<br />
The other article helped me to solve my problem.<br />
<br />
Again, sorry. And please, don't hit me....<br />
Thanks for the great support!<br />
<br />
Cheers Michael</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>