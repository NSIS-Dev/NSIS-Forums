<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Cannot open libc.lib, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Cannot open libc.lib NSIS Discussion" />
	
	<title> Cannot open libc.lib [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Cannot open libc.lib</div>
<hr />
<div class="pda"><a href="t-302413.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302413">Cannot open libc.lib</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">24th January 2009, 21:56</div></div><div class="posttext">I'm trying to compile a plugin using Visual Studio 2008, but I get the following error message:<br />
<br />
LINK : fatal error LNK1104: cannot open file 'LIBC.lib'<br />
<br />
How do I solve this? I don't see libc.lib included anywhere, so I don't even know why it's looking for it...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th January 2009, 22:01</div></div><div class="posttext">2008 is not supported by SCons. See some recent threads on the subject.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">25th January 2009, 08:14</div></div><div class="posttext">I know. I'm not using SCons. I'm trying to compile a third-party plugin.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">25th January 2009, 23:04</div></div><div class="posttext">If you're importing a dsp file, remove the libc reference and use the flags in C/C++ properties page (/MT, /MD, etc.).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">26th January 2009, 00:55</div></div><div class="posttext">I converted/imported the ExDll project from v2.42. I searched through all files, libc.lib is not included anywhere. I tried both /MT and /MD, both give the same result. (Cannot open libc.lib)<br />
<br />
I think it's the provided pluginapi.lib file that depends on libc.lib. Is there anything I can do about that?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jimpark</div><div class="date">26th January 2009, 02:04</div></div><div class="posttext">You do not need libc.lib with VS 2008.  It is implied and links without an explicit libc.lib reference.  Remove it from the project.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">26th January 2009, 04:32</div></div><div class="posttext">From what project? My project (ExDll) does not include libc.lib anywhere.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jimpark</div><div class="date">29th January 2009, 22:56</div></div><div class="posttext">Are you compiling via a VS 2008 project or via Scons?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">29th January 2009, 22:59</div></div><div class="posttext">VS 2008 project</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th January 2009, 17:35</div></div><div class="posttext">The plug-in library is requesting libc.lib for an unknown reason. I will check it out. You should open a bug report for it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">30th January 2009, 20:11</div></div><div class="posttext">Reported.<br />
<br />
https://sourceforge.net/tracker/index.php?func=detail&amp;aid=2550146&amp;group_id=22049&amp;atid=373085</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st January 2009, 16:06</div></div><div class="posttext">I've looked a bit more into it and all files contain that reference. It's the /NODEFAULTLIB flag that cancels them. You should use that flag with VS2008 too and it should work. I don't know how it's called in the GUI but it should be under Linker in Project Settings. Maybe Ignore Default Libraries or something similar.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">31st January 2009, 17:25</div></div><div class="posttext">This is the output with /NODEFAULTLIB turned on:<br />
1&gt;------ Build started: Project: exdll, Configuration: Debug Win32 ------<br />
1&gt;Compiling...<br />
1&gt;exdll.c<br />
1&gt;Compiling manifest to resources...<br />
1&gt;Microsoft (R) Windows (R) Resource Compiler Version 6.0.5724.0<br />
1&gt;Copyright (C) Microsoft Corporation.  All rights reserved.<br />
1&gt;Linking...<br />
1&gt;   Creating library .\Debug/exdll.lib and object .\Debug/exdll.exp<br />
1&gt;exdll.obj : error LNK2019: unresolved external symbol ___security_cookie referenced in function _myFunction<br />
1&gt;exdll.obj : error LNK2019: unresolved external symbol @__security_check_cookie@4 referenced in function _myFunction<br />
1&gt;exdll.obj : error LNK2019: unresolved external symbol @_RTC_CheckStackVars@8 referenced in function _myFunction<br />
1&gt;exdll.obj : error LNK2019: unresolved external symbol __RTC_CheckEsp referenced in function _myFunction<br />
1&gt;exdll.obj : error LNK2001: unresolved external symbol __RTC_Shutdown<br />
1&gt;exdll.obj : error LNK2001: unresolved external symbol __RTC_InitBase<br />
1&gt;LINK : error LNK2001: unresolved external symbol __DllMainCRTStartup@12<br />
1&gt;.\Debug/exdll.dll : fatal error LNK1120: 7 unresolved externals<br />
1&gt;Build log was saved at &quot;file://c:\Program\NSIS\Examples\Plugin\Debug\BuildLog.htm&quot;<br />
1&gt;exdll - 8 error(s), 0 warning(s)<br />
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">31st January 2009, 18:11</div></div><div class="posttext">specify DllMain as the entry point</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st January 2009, 18:29</div></div><div class="posttext">And get rid of all the safety checks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">1st February 2009, 09:09</div></div><div class="posttext">So I manually defined the entry point and disabled &quot;Buffer Security Check&quot; (/GS-).<br />
<br />
I'm now down to the following error messages:1&gt;------ Build started: Project: exdll, Configuration: Debug Win32 ------<br />
1&gt;Compiling...<br />
1&gt;exdll.c<br />
1&gt;Linking...<br />
1&gt;   Creating library .\Debug/exdll.lib and object .\Debug/exdll.exp<br />
1&gt;exdll.obj : error LNK2019: unresolved external symbol @_RTC_CheckStackVars@8 referenced in function _myFunction<br />
1&gt;exdll.obj : error LNK2019: unresolved external symbol __RTC_CheckEsp referenced in function _myFunction<br />
1&gt;exdll.obj : error LNK2001: unresolved external symbol __RTC_Shutdown<br />
1&gt;exdll.obj : error LNK2001: unresolved external symbol __RTC_InitBase<br />
1&gt;.\Debug/exdll.dll : fatal error LNK1120: 4 unresolved externals<br />
1&gt;Build log was saved at &quot;file://c:\Program\NSIS\Examples\Plugin\Debug\BuildLog.htm&quot;<br />
1&gt;exdll - 5 error(s), 0 warning(s)<br />
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">1st February 2009, 09:13</div></div><div class="posttext">Got rid of the last errors by setting &quot;Basic Runtime Checks&quot; to &quot;Default&quot; in the project properties.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st February 2009, 11:37</div></div><div class="posttext">Could you post the resulting vcproj/sln so I can include it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TobbeSweden</div><div class="date">1st February 2009, 11:57</div></div><div class="posttext">Most certainly :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st February 2009, 12:06</div></div><div class="posttext">Thanks.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>