<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to set a silent install language?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to set a silent install language? NSIS Discussion" />
	
	<title> How to set a silent install language? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to set a silent install language?</div>
<hr />
<div class="pda"><a href="t-169645.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=169645">How to set a silent install language?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">16th February 2004, 21:03</div></div><div class="posttext">Hello,<br />
<br />
I'm currently trying to get the default language to be definable via the command line for a multilingual silent install. I can get my parameter parsed out of the command line just fine, however, when I set it in the silent section, I can messagebox it out as the right value but it's not using my language specific strings. And as documented when I attempt to set $LANGUAGE in .OnInit, it doesn't take affect. Could someone show me the light! ;)<br />
<br />
P.S., here's a code snippet, that I have placed in .oninit to see if it would work as well as in the very first section defined in my soucre called &quot;-Silent&quot;. I know for a fact that my GetParameterValue function works properly.<br />
<br />
; load language from command line /L=1033<br />
; foo.exe /S /L=1033 /D=C:\Program Files\Foo<br />
; or:<br />
; foo.exe /S &quot;/L=1033&quot; /D=&quot;C:\Program Files\Foo&quot;<br />
  IfSilent 0 lbl_NotSilent<br />
  ; GPV SWITCH DEFAULT, return value, defined value or specified default<br />
  !insertmacro GetParameterValue &quot;/L=&quot; &quot;1033&quot;<br />
  pop $R0<br />
  StrCmp &quot;$R0&quot; &quot;2052&quot; 0 +3 ; Simplified Chinese<br />
    StrCpy $LANGUAGE &quot;2052&quot;<br />
    goto lbl_langDefined<br />
  StrCmp &quot;$R0&quot; &quot;1034&quot; 0 +3 ; Spanish<br />
    StrCpy $LANGUAGE &quot;1034&quot;<br />
    goto lbl_langDefined<br />
  StrCmp &quot;$R0&quot; &quot;1036&quot; 0 +3 ; French<br />
    StrCpy $LANGUAGE &quot;1036&quot;<br />
    goto lbl_langDefined<br />
  ; use default English<br />
  StrCpy $LANGUAGE &quot;1033&quot; ; English<br />
  lbl_langDefined:<br />
  lbl_NotSilent:<br />
<br />
<br />
Cheers,<br />
<br />
ZIMSMS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">16th February 2004, 21:54</div></div><div class="posttext">Setting $LANGUAGE should work fine. You can use language strings in sections etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">17th February 2004, 13:25</div></div><div class="posttext">Where would the best place to set $LANGUAGE be? As I stated I tried both...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">17th February 2004, 13:43</div></div><div class="posttext">$LANGUAGE should always be set in .onInit.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>