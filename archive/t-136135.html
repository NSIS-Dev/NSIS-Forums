<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Zipping up a directory, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Zipping up a directory NSIS Discussion" />
	
	<title> Zipping up a directory [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Zipping up a directory</div>
<hr />
<div class="pda"><a href="t-136135.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=136135">Zipping up a directory</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st May 2003, 21:01</div></div><div class="posttext">I am looking for something that will zip up a specified directory in the standard zip compression method.<br />
I need this to use for people making D-Day maps, where my app currently copies all used files involved with their map to an output directory.<br />
<br />
Does anyone know of one lying around which I could run like a command-line program, to zip up the dir, without the user having to do anything?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">21st May 2003, 21:45</div></div><div class="posttext">Maybe here (http://www.7-zip.org/download.html).<br />
I don't think there is a plugin to do that.<br />
So an alternative commandline tool. to use with<br />
&quot;!System&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">21st May 2003, 21:51</div></div><div class="posttext">http://www.info-zip.org/</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st May 2003, 22:13</div></div><div class="posttext">Ok thanks.<br />
That will work great!<br />
But I can't find out how to get it to include whole directories.<br />
<br />
Can anyone shed some light upon this :)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st May 2003, 22:26</div></div><div class="posttext">I'm going to use 7zip's compression util, simply because it's just one exe file.<br />
Look's like I'm going to have to make up a files list instead, because I'm unable to zip up a whole directory.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">crisp</div><div class="date">19th June 2003, 16:00</div></div><div class="posttext">Hi Afrow.<br />
I looking for a function to build a File List a directory (i'm a bit in a hurry ;)). I wonder if you allready did that.<br />
The idea is to make a file list text file with everything that has to be included in a NSIS instalation kit.<br />
<br />
Thanks<br />
<br />
Crisp</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">19th June 2003, 16:03</div></div><div class="posttext">Use FindFirst, FindNext and FindClose to find the files matching a wildcard in a given directory, then use FileOpen, FileWrite and FileClose to write the results to a text file. Docs can be found here (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.5). Searching for FindFirst on the Archive (http://nsis.sf.net/archive) could be useful too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th June 2003, 21:17</div></div><div class="posttext">There is a far far better solution to zipping up a directory without having to create a files-list.<br />
<br />
Here is what I did:<br />
File /oname=$INSTDIR\7za.exe 7za.exe<br />
nsExec::Exec &quot;$INSTDIR\7za.exe a -tzip -r dir.zip *&quot; ;zip up dir<br />
nsExec::Exec &quot;$INSTDIR\7za.exe d $INSTDIR\dir.zip 7za.exe&quot; ;remove 7za.exe<br />
<br />
Because the 7za.exe file is in the directory in which you want to zip up (it has to be) then it gets added into the zip file too.<br />
The second execution removes the 7za.exe file from the zip file leaving the fresh zip.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">19th June 2003, 22:18</div></div><div class="posttext">Using 7-zip (with support for many compression methods) is a bit overkill for only zip. Why not use Info-Zip or another application? It's way smaller.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th June 2003, 16:29</div></div><div class="posttext">Originally posted by Joost Verburg <br />
Using 7-zip (with support for many compression methods) is a bit overkill for only zip. Why not use Info-Zip or another application? It's way smaller.  <br />
<br />
I asked on this forum for a zip-up program, and I only had one reply saying &quot;use 7-zip&quot;<br />
I searched for other command-line apps for zipping up stuff, but I never found one.<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>