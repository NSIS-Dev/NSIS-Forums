<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Interaction with another installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Interaction with another installer NSIS Discussion" />
	
	<title> Interaction with another installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Interaction with another installer</div>
<hr />
<div class="pda"><a href="t-127203.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=127203">Interaction with another installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">vrunda</div><div class="date">4th March 2003, 07:22</div></div><div class="posttext">hello,<br />
 I am creating a setup through which i need to install mysql.it has it's own exe for installation.i am executing that .exe for installation which asks for installation dir etc.now the prob is i want to know where it is installed.so that i could take further action.<br />
 Also the Rename and Delete do not really work for me.i have followed the proper syntas given.<br />
thanks in advance<br />
-Vrunda</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">4th March 2003, 09:17</div></div><div class="posttext">In what way do rename and delete not work for you? Does IfErrors indicate that the error flag has been set? Do the files not get renamed or deleted? Are you using the correct path? We need more information to help you, please *attach* your script here if it is large, otherwise just paste it into a reply.<br />
<br />
I had a look in the registry at my mySQL installation, I found the following useful registry settings that you could try reading after the mySQL installation completes :-<br />
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\MySQL Servers and Clients 3.23.52\UninstallString<br />
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\MySql\ImagePathThe uninstall string contains &quot;C:\WINNT\IsUninst.exe -fC:\ximon\installed\mysql\Uninst.isu&quot; on my system, so I expect on all systems you'd need to strip off the end of the string to get the installation path for mySQL. <br />
<br />
The ImagePath is a better place to look *but* that key might be restricted access, I'm not sure. The installing user might need Administrator rights to read that key.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vrunda</div><div class="date">4th March 2003, 10:44</div></div><div class="posttext">hello<br />
 Thanks for your reply.The flow in which i would like my setup work is like:<br />
 1)Execute the installation .exe of mysql<br />
 2)check where the installation is done,ie the path to the folder.Here as the user could have changed the destination folder,i need to retreive it.<br />
 3) for this i've tried searching a particular file,which is usually in the mysql-installation folder and from there get the installation path.by doing something like<br />
 SearchPath $1 &quot;filename&quot; (w/o the actual path like c:/ etc)<br />
 4)Next is i want to ensure that,as i get the file path,i need to rename a file in that mysql folder for which also i need the full path i guess<br />
 5)Now create a shortcut to the tomcat server on desktop which i am installing alongwith the mysql.<br />
 <br />
sorry for the loong explaination,but it would clear my requirements i suppose<br />
<br />
thanks in advance<br />
-Vrunda</div></div><hr />


<div class="post"><div class="posttop"><div class="username">virtlink</div><div class="date">4th March 2003, 11:02</div></div><div class="posttext">This is how you should work, like Sunjammer said:<br />
1) Use ExecWait to start the installer and continue executing the rest of your installer (don't forget to check somehow if the MySQL installer has finished or has been canceled by the user).<br />
2) Check using ReadRegStr (one of) the above (mentioned by sunjammer) registry keys for the install path.<br />
3) Save the retrieved path into a variable,<br />
4) which you use in combination with Rename to rename a file.<br />
5) Use CreateShortCut to create a shortcut.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vrunda</div><div class="date">4th March 2003, 12:00</div></div><div class="posttext">hello  <br />
 thanks for the reply<br />
  A very basic question here:<br />
How to read the registry key value for the mysql registry.and is there any way to know when the mysql installation is finished?<br />
thanks in advance<br />
-Vrunda</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">4th March 2003, 12:14</div></div><div class="posttext">ExecWait will not return until the thing it ran (e.g. the mySQL installer) has finished. This will work in most cases but some programs fork a second process which means NSIS cannot know when it finishes. In that case you'd probably have to check periodically for the presence or otherwise of the mySQL installer window... icky.<br />
<br />
The documentation (http://nsis.sourceforge.net/Docs/Chapter3.html#3.8.2.11) for ReadRegStr will help you. Basically you say something like:-ReadRegStr $0 HKLM &quot;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\MySql&quot; &quot;ImagePath&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vrunda</div><div class="date">5th March 2003, 07:02</div></div><div class="posttext">hello,<br />
 thanks for the reply,i am now able to get the installation dir.but one more prob again.<br />
 I need to install mysql as a service,for which i need to go to the bin dir of mysql,then give command as &quot;-mysqld....&quot; how do i do this.<br />
if i call cmd.exe directly,it starts from the installation dir.instead i want to go to the mysql\bin and then proceed.<br />
thanks in advance<br />
-Vrunda</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th March 2003, 15:24</div></div><div class="posttext">To make it start in another directory download the latest version of NSIS and use SetOutPath to set the current directory.<br />
<br />
BTW, why are you using cmd.exe?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vrunda</div><div class="date">6th March 2003, 06:30</div></div><div class="posttext">hello,<br />
 I worked around the problem and it's working now :) <br />
thanks for the reply<br />
-Vrunda</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>