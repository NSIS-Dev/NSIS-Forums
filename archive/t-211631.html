<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SetCompressor problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SetCompressor problem NSIS Discussion" />
	
	<title> SetCompressor problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SetCompressor problem</div>
<hr />
<div class="pda"><a href="t-211631.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=211631">SetCompressor problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Arrby</div><div class="date">28th March 2005, 21:17</div></div><div class="posttext">NSIS version 2.05:<br />
<br />
From the User Manual:<br />
<br />
4.8.2 Compiler Flags<br />
The following commands change how the compiler generates code and compresses data. These commands are valid ANYWHERE in the script, and effect every line below where each one is placed (until overridden by another command).<br />
<br />
(my emphasis on ANYWHERE)<br />
<br />
Trying to do: <br />
<br />
SetCompressor zlib<br />
SetCompress off<br />
<br />
in my main section (i.e. where my File commands are)<br />
AFTER some file commands, BEFORE some other File commands<br />
and am getting the following error:<br />
<br />
Error: command SetCompressor not valid in section <br />
<br />
I have some files that have already been compressed and<br />
dont want to have to wait for the compressor to waste its time trying to compress, how can I  accomplish this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">29th March 2005, 00:03</div></div><div class="posttext">Put SetCompressor on the beginning of the script, outside Functions or Sections. You can use SetCompress anywhere in the script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Arrby</div><div class="date">29th March 2005, 00:45</div></div><div class="posttext">Thanks deguix! :up: <br />
<br />
Docs say Setcompress off has no affect on solid compression which is used by both bzip2 and lzma.<br />
<br />
I tried putting:<br />
<br />
SetCompressor zlib<br />
<br />
before one section and then:<br />
<br />
SetCompressor lzma<br />
<br />
BETWEEN that section and a following section but get another error:<br />
Error: can't change compressor after data already got compressed or header already changed! <br />
<br />
This seems to mean that if I want to selectively control what gets compressed and what doesn't, I can only use zlib?<br />
:(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pidgeot</div><div class="date">29th March 2005, 08:10</div></div><div class="posttext">No, it means that you can only use one compression method in your installer. What you're doing is trying to use zlib for one part and LZMA for the rest - this is not possible, as the two formats are different and require seperate methods to unpack.<br />
<br />
You CAN, however, use SetCompress to say &quot;this part should be compressed&quot; and &quot;this part should not be compressed&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th March 2005, 19:15</div></div><div class="posttext">Documentation updated to make it a bit clearer.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>