<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installation file signature, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installation file signature NSIS Discussion" />
	
	<title> Installation file signature [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installation file signature</div>
<hr />
<div class="pda"><a href="t-135122.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=135122">Installation file signature</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">klaabu</div><div class="date">12th May 2003, 09:47</div></div><div class="posttext">Hi all the NSIS developers!<br />
<br />
I have a question regarding installation exe-file and adding a signature to it. The point is that I added a feature to my product which allows it to upgrade itself. It's done in a simple way - it just finds the file on the network, downloads and executes it with silent option (/S) and the installation script with some help from accompanying dll knows what to do. It works as I want it to work but the only thing I want to add to it is a small signature somewhere which confirms that it is really the correct file and correct version. What's the best way to do it? I was thinking about just adding the signature as a file to the project and then the application could extract (the same way as the exe header is doing it) it itself after downloading and then check it to be sure that it it's not a random file being executed.<br />
Has anyone done it or can anyone maybe even give some hints how to do it in a better/easier way?<br />
Thanks in advance!<br />
/Allan<br />
<br />
P.S. My best wishes to the developers of the NSIS! It's a great piece of software and I never want to use InstallShield again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">12th May 2003, 12:29</div></div><div class="posttext">i bet md5 is documented out well enough to implement it in any way :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">klaabu</div><div class="date">12th May 2003, 12:49</div></div><div class="posttext">Thanks for the hint. MD5 is my old friend. I just hoped that there is an easier way to do the check or even some readymade contributional utility.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th May 2003, 12:55</div></div><div class="posttext">Hi klaabu, welcome to the forum!<br />
<br />
MD5 is a good idea indeed. You can use this plug-in (http://forums.winamp.com/showthread.php?s=&amp;threadid=117789&amp;highlight=md5) to get the signature of the downloaded file and this program (http://www.geocities.com/ballarke/Applications/MD5Win32/) to get MD5 hash on your computer. You'd probably want to get a command line MD5 version and add this few lines to your script to automate the process:<br />
<br />
!system &quot;echo !define MD5hash \ &gt; md5.nsh&quot; = 0<br />
!system &quot;md5 mydl.dat &gt;&gt; md5.nsh&quot; = 0<br />
!include md5.nsh<br />
# ${MD5hash} now contains the requested MD5 hash<br />
<br />
P.S. My best wishes to the developers of the NSIS! It's a great piece of software and I never want to use InstallShield again.<br />
<br />
Thanks :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>