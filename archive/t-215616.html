<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Replace Goto by LogicLib, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Replace Goto by LogicLib NSIS Discussion" />
	
	<title> Replace Goto by LogicLib [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Replace Goto by LogicLib</div>
<hr />
<div class="pda"><a href="t-215616.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=215616">Replace Goto by LogicLib</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">fabiochelly</div><div class="date">10th May 2005, 16:41</div></div><div class="posttext">Hi,<br />
<br />
I would like to replace any Goto in my script by LogicLib macros.<br />
<br />
There is one last label I can't remove because it is called by a MessageBox. Can you help me to find a way to get rid of this label:<br />
<br />
Here is my code. This function detects if JAVA is installed on the computer. I would like to get rid of the label 'EndInit':<br />
Function .onInit<br />
  ClearErrors<br />
  ;Checking if JDK is installed<br />
  ReadRegStr $1 HKLM &quot;SOFTWARE\JavaSoft\Java Development Kit&quot; &quot;CurrentVersion&quot;<br />
  ReadRegStr $2 HKLM &quot;SOFTWARE\JavaSoft\Java Development Kit\$1&quot; &quot;JavaHome&quot;<br />
  StrCpy $1 &quot;Java SDK&quot;<br />
<br />
  ${If} ${Errors}    <br />
    ClearErrors<br />
    ;JDK has not been found. Checking JRE<br />
    ReadRegStr $1 HKLM &quot;SOFTWARE\JavaSoft\Java Runtime Environment&quot; &quot;CurrentVersion&quot;<br />
    ReadRegStr $2 HKLM &quot;SOFTWARE\JavaSoft\Java Runtime Environment\$1&quot; &quot;JavaHome&quot;<br />
    StrCpy $1 &quot;Java Runtime&quot;<br />
    ${If} ${Errors}<br />
      MessageBox MB_YESNO &quot;Java has not been found.$\r$\nContinue anyway?&quot; IDYES EndInit<br />
      Quit<br />
    ${EndIf}<br />
  ${EndIf}<br />
  <br />
  DetailPrint &quot;$1 has been found: $2&quot;<br />
  Push &quot;JAVA_HOME&quot;<br />
  Push &quot;$2&quot;<br />
  Call WriteEnvStr<br />
<br />
  EndInit:<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">10th May 2005, 17:10</div></div><div class="posttext">In that case I think it would be simpler to just use a Goto + label<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th May 2005, 20:19</div></div><div class="posttext">The LogicLib example shows how to do this:${IfCmd} MessageBox MB_YESNO &quot;Click Yes&quot; IDYES ${||} StrCpy $R2 $R2A ${|}<br />
${Unless} ${Cmd} `MessageBox MB_YESNO|MB_DEFBUTTON2 &quot;Click No&quot; IDYES`<br />
  StrCpy $R2 $R2B<br />
${EndUnless}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabiochelly</div><div class="date">10th May 2005, 21:52</div></div><div class="posttext">I do not understand this code.<br />
What does means this line:<br />
${IfCmd} MessageBox MB_YESNO &quot;Click Yes&quot; IDYES ${||} StrCpy $R2 $R2A ${|}</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>