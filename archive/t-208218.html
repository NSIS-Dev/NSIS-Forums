<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Suggestion for Version info, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Suggestion for Version info NSIS Discussion" />
	
	<title> Suggestion for Version info [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Suggestion for Version info</div>
<hr />
<div class="pda"><a href="t-208218.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=208218">Suggestion for Version info</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zuggsoft</div><div class="date">18th February 2005, 23:14</div></div><div class="posttext">What I'd like to do is set the version of the installer created by NSIS to be the same version as one of the files I'm adding to the installer (namely the main EXE file).<br />
<br />
In other words, the main file being installed is APP.EXE and I'm creating an NSIS installer file called APPINSTALL.EXE.  I'd like the Version Info resource in APPINSTALL.EXE to have the same version number as the resource in APP.EXE.<br />
<br />
Right now I can only specify a constant x.x.x.x value with VIProductVersion.  The function to grab a version from a DLL/EXE called GetDllVersionLocal can only be used in a function, and functions cannot be used at compile time.<br />
<br />
So, either I'd like to see compile-time scripting and functions, or someway to specify the name of a DLL/EXE to copy the version info from.<br />
<br />
Thanks for listening and keep up the good work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zuggsoft</div><div class="date">18th February 2005, 23:16</div></div><div class="posttext">Btw, the reason I'd like this and am not just doing it manually is that I'm running NSIS from a nightly-build script where the version of the APP.EXE file is incremented automatically.<br />
<br />
I wrote a program to copy this version info into APPINSTALL.EXE after NSIS is finished, but then this changes the CRC on the installer so I had to turn off the CRCCheck option.  If NSIS had a way to set the version from within the compiler then I wouldn't have to patch it afterwards like I'm doing now.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th February 2005, 23:20</div></div><div class="posttext">You can write a program which will extract the version information from APP.EXE into a file your script can later include using !include. To execute this program automatically, use the !system command. This program can be easily written as a NSIS installer.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>