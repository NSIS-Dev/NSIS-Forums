<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Copying multiple files to different folders, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Copying multiple files to different folders NSIS Discussion" />
	
	<title> Copying multiple files to different folders [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Copying multiple files to different folders</div>
<hr />
<div class="pda"><a href="t-312921.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=312921">Copying multiple files to different folders</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rayc76</div><div class="date">24th September 2009, 01:00</div></div><div class="posttext">What I want to do is something very simple (I believe):<br />
<br />
1)	I want to copy Files &quot;A&quot; to folder A (e.g., c:\folderA)<br />
2)	I want to copy Files &quot;B&quot; to folder B (e.g., c:\folderB)<br />
<br />
The NSIS script copies, but it copying more than I want. For example, <br />
1)	In addition to copying Files A to folder A, itâ€™s also copying Files B to folder A.<br />
2)	NSIS creates folder B and copies Files B to folder B, but itâ€™s also putting Files A to Folder B.<br />
<br />
I only want Files A in the Folder A and I want only Files B in the B Folder.<br />
<br />
I have 2 Sections -- one for Files A and one for Files B.<br />
<br />
No doubt I'm missing something about the NSIS syntax. Below is a snippet.<br />
<br />
###### FILES A #######  <br />
!insertmacro MUI_PAGE_DIRECTORY<br />
# this shows Install Btn<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
<br />
###### FILES B #######<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
# this shows Install Btn<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
Then below this code I have my two Sections.<br />
<br />
Any suggestions on how to copy only the files I want in the appropriate folders?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">watzr</div><div class="date">24th September 2009, 05:05</div></div><div class="posttext">As I understand you dont need to keep two sections to do this task. Instead you can follow &quot;CopyFiles&quot; command as follows.<br />
<br />
;-------------------------------------------------<br />
<br />
Name &quot;TestForum&quot;    ; The name of the installer<br />
OutFile &quot;TestForum.exe&quot;    ; The file to write<br />
<br />
Page instfiles<br />
<br />
Section &quot;&quot;<br />
  CopyFiles /FILESONLY &quot;Folder\FileA.txt&quot; &quot;FolderA\FileA.txt&quot;<br />
  CopyFiles /FILESONLY &quot;Folder\FileB.txt&quot; &quot;FolderB\FileB.txt&quot;<br />
SectionEnd<br />
<br />
;--------------------------------------------------<br />
<br />
For further details refer &quot;CopyFiles&quot; command in NSIS user manual.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rayc76</div><div class="date">27th September 2009, 05:43</div></div><div class="posttext">Thanks for the reply. I tried the CopyFiles, but it not giving me what I want. I can meet my objective if I create run two separate NSIS script -- one to copy a set of OCXs to one folder (determined by the user) and one to copy some data files to another folder (also detemined by the user). <br />
<br />
I was trying to combine these two actions into one NSIS script. As I mentioned in my initial response, when I do that my script copies my OCXs to the correct folder, but it also includes the data files. In addition, it copies my Data Files to its correct folder, but also includes my OCXs.<br />
<br />
Any one out there have any suggestions. Otherwise I going use two NSIS script. This works, but not elegant, but I can't spend much more time on this. I don't like being yelled at :-) Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">28th September 2009, 08:09</div></div><div class="posttext">I think what you need is a second Directory page, so the user can select a folder for &quot;Files A&quot; and a folder for &quot;Files B&quot;, right?<br />
You can make a custom page with two edit boxes, one for each folder, or insert two directory pages.<br />
For the last option, see:<br />
http://nsis.sourceforge.net/Setting_Default_Location_for_2nd_(Data)_Directory_Page<br />
<br />
EDIT: Sorry, that link is deprecated. But you can add a second directory page. Search the forum for some examples</div></div><hr />


<div class="post"><div class="posttop"><div class="username">noemig</div><div class="date">6th February 2012, 20:39</div></div><div class="posttext">Hello,<br />
<br />
I am trying to copy some files from the installation directory to SysWow64 or system32, depending is the OS is 32 or 64.<br />
<br />
The code is written as :<br />
<br />
Section &quot;DLL&quot;<br />
<br />
             ${If} ${RunningX64}<br />
<br />
                 SetOutPath &quot;$WINDIR\SysWOW64&quot;<br />
                 DetailPrint &quot;Installer running on 64-bit host&quot;<br />
                 File /r  &quot;DFORMD.DLL&quot;<br />
    	    File /r  &quot;DFORRT.DLL&quot;<br />
    	    File /r  &quot;Expsrv.dll&quot;<br />
    	    File /r  JETCOMP.exe<br />
  <br />
              ${Else}<br />
<br />
                 SetOutPath &quot;$WINDIR\System32&quot;<br />
                  File /r   &quot;DFORMD.DLL&quot;<br />
                  File /r  &quot;DFORRT.DLL&quot;<br />
                  File /r  &quot;Expsrv.dll&quot;<br />
    	     File /r  &quot;JETCOMP.exe&quot;<br />
<br />
              ${EndIf}<br />
  <br />
<br />
 SectionEnd<br />
<br />
The installer is copying the entire folder that contains those DLL from the installation directory to SYSWOW64 or System32.<br />
<br />
Can somebody give me a clue on how to solve this ?<br />
<br />
Thanks.<br />
<br />
noemig</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">7th February 2012, 08:20</div></div><div class="posttext">Edit: double</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">7th February 2012, 08:22</div></div><div class="posttext">noemig: Please do not ask the same question twice. <br />
http://forums.winamp.com/showthread.php?t=341810</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>