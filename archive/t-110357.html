<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer pages based on install type, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer pages based on install type NSIS Discussion" />
	
	<title> Installer pages based on install type [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer pages based on install type</div>
<hr />
<div class="pda"><a href="t-110357.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=110357">Installer pages based on install type</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sumanto</div><div class="date">18th October 2002, 09:50</div></div><div class="posttext">I have to make an installer that shows a custom dialog screen depending on what install type the user selects. Actually the problem is that there are there istall types, lets say A, B and C. C is basically both A and B combined. Now A and B are to be installed in separate directories. And if C is chosen, it needs both these directories.<br />
<br />
Now the install directory page should also be shown based on what install type I have chosen. Also the custom dialog page itself would depend on the install type as information needed depends on the install type chosen.<br />
<br />
There was an option where I could make blank 'Section', which are triggered on which install types I choose, but they are activated only at the file-copy stage. I need some information about the section chosen at the page just after the component install page so that I can build logic there?<br />
<br />
At present I couldn't dig anything like that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th October 2002, 13:06</div></div><div class="posttext">I have added this to the latest version in the CVS:<br />
Hidden sections can now have SectionIn too. Old behaviour retained (hidden sections without SectionIn are in all install types).<br />
<br />
This will make the task you are trying to accomplish a lot easier. You can now add hidden sections that are only in one install type, and according to their selection decide what install type was selected. The only problem is with custom install type.<br />
<br />
To show or not show the directory page test for whatever you want to test in .onNextPage and .onPrevPage and use Abort if you need to skip pages.<br />
<br />
Sections are selected/deselected in the component page. Their status, which you can get with SectionGetFlags, is also changed right after you click on them. You can check this status in .onNextPage and .onPrevPage and show/not show as mentioned before.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sumanto</div><div class="date">21st October 2002, 05:05</div></div><div class="posttext">Hi kichik, thanks for the reply.<br />
<br />
This will make the task you are trying to accomplish a lot easier. You can now add hidden sections that are only in one install type, and according to their selection decide what install type was selected. The only problem is with custom install type.<br />
<br />
I had already thought of that, but the problem is that the information about which section has been selected needs to be had before the actual install proceeds. We can use this information only at the time of file copy.<br />
<br />
Sections are selected/deselected in the component page. Their status, which you can get with SectionGetFlags, is also changed right after you click on them. You can check this status in .onNextPage and .onPrevPage and show/not show as mentioned before.<br />
<br />
Actually, I haven't been able to figure out how to use SectionGetFlags and SectionSetFlags. <br />
<br />
However, I decided to use my own method here. I use InstallOptions to have an extra page, from where I decide the install type using a listbox. I disable the default install selection box. So we can actually get the install type on .onNextPage. And in the hidden section installs, I use the flag that determines the section that I want installed to choose which files to install.<br />
<br />
Pls advise as to if this method is OK, or I am simply trying to do a simple thing in a very roundabout way.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th October 2002, 21:50</div></div><div class="posttext">To understand how SectionGetFlags works look at one-section.nsi.<br />
Instead of using a custom made IO page you can just disable custom selection using InstType /NOCUSTOM.<br />
.onNextPage and .onPrevPage are called everytime the user moves to the next/previous page, so you can use them even if you don't use IO. Just count the pages and when you know you are after the components page use SectionGetFlags.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>