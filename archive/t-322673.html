<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Base64 decoder, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Base64 decoder NSIS Discussion" />
	
	<title> Base64 decoder [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Base64 decoder</div>
<hr />
<div class="pda"><a href="t-322673.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=322673">Base64 decoder</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">23rd September 2010, 17:49</div></div><div class="posttext">the location of a dropbox folder is stored in a plain text file, encoded in base64. since the only base64 (http://nsis.sourceforge.net/Base64_plug-in) decoder for nsis has no documentation at all, i'm wondering how i can decode the file. for a smaller footprint, i wouldn't mind an alternative to decode only.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">23rd September 2010, 18:44</div></div><div class="posttext">there's a readme.txt in the original download?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th September 2010, 11:11</div></div><div class="posttext">I wouldn't use that plug-in as it has a MSVCRT80 dependency (comes with .NET 3.5).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">24th September 2010, 11:53</div></div><div class="posttext">actually msvcr80 is down to the plug-in having been built with dynamic linking in VS2005 and doesn't relate to .NET. however using it (no idea in respect to the original question) wouldn't be nice unless you make sure the dependency dll is in the same folder as the plug-in before it is then used.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th September 2010, 12:41</div></div><div class="posttext">Yes of course but the dist comes with .NET (2.0 not 3.5) and that can be a good indicator as whether or not it is installed on the destination machine.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">24th September 2010, 12:55</div></div><div class="posttext">well, there is the alternative linked to from that wiki.. and I think the original had the source code included, so could be recompiled to get rid of the dependency as well?<br />
<br />
there's also plenty of code on the internet for base64 decoding in scripting languages.. presumably one of those could be adapted for NSIS use.<br />
<br />
edit: in fact.. just do what this does.. but in reverse ;) http://nsis.sourceforge.net/Base64</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th September 2010, 19:46</div></div><div class="posttext">I posted a step by step on how to build a non MSVCRT dependant DLL in VS2008/VS2010 here:<br />
http://forums.winamp.com/showpost.php?p=2696184&amp;postcount=60<br />
<br />
However, that plug-in would still need some mods to get it to build. For example, the way the the variables (such as string_to_encode) are being initialized to an empty string will cause the compiler to want to link memset. You can't use ZeroMemory either (again, memset) but a for loop would do the job.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">24th September 2010, 19:56</div></div><div class="posttext">SecureZeroMemory(..) should do an inline version of memset from what i remember.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">25th September 2010, 01:31</div></div><div class="posttext">Figured it'd be a fun coding exercise... I've updated http://nsis.sourceforge.net/Base64 to include the decoding function.<br />
<br />
I haven't tested it rigorously - if there's an actual error in it (I know it uses more variables than it would strictly need, that's just for clarity), let me know or just edit the WiKi, of course.<br />
<br />
Here's a further testbed, though:<br />
<br />
!addincludedir &quot;.&quot;<br />
!include &quot;LogicLib.nsh&quot;<br />
!include &quot;CharToASCII.nsh&quot;<br />
!include &quot;Base64.nsh&quot;<br />
<br />
OutFile &quot;$%temp%\temp.exe&quot;<br />
Section<br />
  /* testing a string with some typical URL chars */<br />
  StrCpy $R9 &quot;This is a test, this is only a test. http://nsis.sourceforge.net/?not+a%20query#at_all&quot;<br />
  ${Base64_Encode} $R9<br />
  Pop $R8<br />
  ${Base64_Decode} $R8<br />
  Pop $R7<br />
  MessageBox MB_OK &quot;$R9 (in)$\n$R8 (encoded)$\n$R7 (decoded)$\n$R9 (in)&quot;<br />
<br />
  /* testing a supershort string */<br />
  StrCpy $R9 &quot;A&quot;<br />
  ${Base64_Encode} $R9<br />
  Pop $R8<br />
  ${Base64_Decode} $R8<br />
  Pop $R7<br />
  MessageBox MB_OK &quot;$R9 (in)$\n$R8 (encoded)$\n$R7 (decoded)$\n$R9 (in)&quot;<br />
<br />
  /* testing a short string */<br />
  StrCpy $R9 &quot;AAA&quot;<br />
  ${Base64_Encode} $R9<br />
  Pop $R8<br />
  ${Base64_Decode} $R8<br />
  Pop $R7<br />
  MessageBox MB_OK &quot;$R9 (in)$\n$R8 (encoded)$\n$R7 (decoded)$\n$R9 (in)&quot;<br />
<br />
  /* testing decoding of a looooooong string */<br />
  StrCpy $R9 &quot;TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4NCk1hdXJpcyB2b2x1dHBhdCBsZWN0dXMgdmVsIG1pIHBoYXJldHJhIG1vbGxpcy4NCkluIG51bmMgZXJhdCwgYmxhbmRpdCBldSBncmF2aWRhIHZpdGFlLCBjb25zZWN0ZXR1ciBhIHF1YW0uDQpOdWxsYW0gc2FnaXR0aXMgbGliZX JvIHNpdCBhbWV0IHF1YW0gZGFwaWJ1cyB0aW5jaWR1bnQuDQpJbnRlZ2VyIGFudGUgYW50ZSwgZGFwaWJ1cyB1bGxhbWNvcnBlciBsYW9yZWV0IHNlZCwgcGVsbGVudGVzcXVlIHZlbCB0ZWxsdXMuDQpJbnRlZ2VyIGxhY2luaWEgaW1wZXJkaWV0IGxhY3VzIHV0IGRpZ25pc3NpbS4gTW9yYmkgZmFjaWxpc2lzIG1hZ25hIHZlbGl0 Lg0KQWxpcXVhbSBwZWxsZW50ZXNxdWUgaWFjdWxpcyBuaXNpIGV1IGFsaXF1YW0uIEFsaXF1YW0gdGluY2lkdW50IHBlbGxlbnRlc3F1ZSBtb2xsaXMuDQpBZW5lYW4gY29uc2VjdGV0dXIgaW1wZXJkaWV0IGJsYW5kaXQuDQpJbnRlZ2VyIGFjIHJpc3VzIGEgbG9yZW0gY3Vyc3VzIHNjZWxlcmlzcXVlLg0KUGhhc2VsbHVzIHBlbG xlbnRlc3F1ZSwgbGliZXJvIHF1aXMgcG9zdWVyZSBydXRydW0sIG5lcXVlIHZlbGl0IGNvbnNlY3RldHVyIHRvcnRvciwgYWMgbWF0dGlzIGxpZ3VsYSBsZW8gZXUgYXJjdS4=&quot;<br />
  ${Base64_Decode} $R9<br />
  Pop $R7<br />
  MessageBox MB_OK &quot;$R7$\n$\n^^^ Lorem ipsum etc. with linebreaks ^^^&quot;<br />
SectionEnd<br />
<br />
<br />
As far as I can tell, the URLDecode variant works correctly as well - but difficult to find actual use examples via Google.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">5th October 2010, 12:20</div></div><div class="posttext">so far it worked without a flaw. thank you, animaether!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">5th October 2010, 12:53</div></div><div class="posttext">good to hear :)  I guess it works on the dropbox folder location storage bit as well, then :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>