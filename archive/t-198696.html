<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" disabling the next button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  disabling the next button NSIS Discussion" />
	
	<title> disabling the next button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  disabling the next button</div>
<hr />
<div class="pda"><a href="t-198696.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=198696">disabling the next button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sfranklin</div><div class="date">8th November 2004, 17:15</div></div><div class="posttext">Hi,<br />
<br />
this has been raised a few times, so appologies for the duplication, but i cant make sense of most of the replies.<br />
<br />
I need to make two pages which have behaviour like the license screen in the modern UI, i.e. you have to tick a box to show you agree before the next button is enabled.<br />
<br />
Can anyone tell me how i would go about enabling and disabling the next button<br />
<br />
thanks for your help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th November 2004, 18:48</div></div><div class="posttext">It's not possible to actually 'gray' the button out, but you can stop user's exiting a page by calling 'Abort' in the leave function.<br />
<br />
Example:<br />
Page Custom myPageFunction myLeaveFunction<br />
<br />
Function myLeaveFunction<br />
 ; read check-box State<br />
 ReadINIStr $R0 &quot;$PLUGINSDIR\ioFile.ini&quot; &quot;Field 3&quot; &quot;State&quot;<br />
 StrCmp $R0 1 +2 ; check-box is checked?<br />
  Abort ; it is, so don't leave this damn page!<br />
FunctionEnd<br />
<br />
It might need some adaptation, but the general idea is there :)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">9th November 2004, 06:10</div></div><div class="posttext">it is actually possible, using the NOTIFY flag on the checkbox item in the installoptions .ini file<br />
then enable/disable as needed in the Leave function for the custom page</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sfranklin</div><div class="date">9th November 2004, 07:54</div></div><div class="posttext">i was hoping to grey the box out, at the moment i have it working using the validate function, but there is nothing to suggest that the button isnt working for any particular reason, i.e. its not disabled.<br />
<br />
I suppose i could put a message box up but that seems messy. It would look more standard if it worked the same was as the EULA page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">9th November 2004, 11:24</div></div><div class="posttext">This is part of a code to disable a control is on the manual:<br />
<br />
GetDlgItem $0 $HWNDPARENT 1<br />
EnableWindow $0 0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sfranklin</div><div class="date">9th November 2004, 12:06</div></div><div class="posttext">thanks, with a little pointer in the right direction i managed to sort this out.<br />
<br />
For anyone else who wants to do the same this is how i did it:<br />
<br />
In this custom page, field 2, is the checkbox<br />
<br />
page custom CustomPage1 ValidateCustomPage1<br />
<br />
Function RemoveDongle<br />
    !insertmacro MUI_INSTALLOPTIONS_READ $R0 &quot;.\CustomPage1 .ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
    FindWindow $R1 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
    GetDlgItem $R1 $HWNDPARENT 1<br />
    EnableWindow $R1 $R0<br />
    !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;.\CustomPage1.ini&quot;<br />
FunctionEnd<br />
<br />
<br />
Function ValidateCustomPage1<br />
  !insertmacro MUI_INSTALLOPTIONS_READ $R0 &quot;.\CustomPage1.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
  FindWindow $R1 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
  GetDlgItem $R1 $HWNDPARENT 1<br />
  EnableWindow $R1 $R0<br />
<br />
  !insertmacro MUI_INSTALLOPTIONS_READ $R2 &quot;.\CustomPage1.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
  StrCmp $R2 &quot;2&quot; +1 validate<br />
  Abort<br />
  <br />
validate:<br />
  StrCmp $R0 &quot;0&quot; +1 ok<br />
    Abort<br />
  ok:<br />
FunctionEnd<br />
<br />
thanks again</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">9th November 2004, 18:44</div></div><div class="posttext">Ah that's interesting. I was never able to do that ever before (no matter how hard I tried!)<br />
<br />
I might incorporate this into some things now :)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sfranklin</div><div class="date">10th November 2004, 11:11</div></div><div class="posttext">just as a minor correction to the code above, the function name RemoveDongle should infact be CustomPage1.<br />
<br />
But im sure you would have worked that out ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jrenbaum</div><div class="date">16th March 2010, 03:27</div></div><div class="posttext">I am relatively new to nsis and am also trying to add a print button to our license agreement page. I am having problems getting my custom page to display our license agreement text. When using the default <br />
<br />
!insertmacro MUI_PAGE_LICENSE &quot;${LICENSE_FILE}&quot; <br />
<br />
approach the text shows up fine even with formatting and copywrite symbols. However, when I try to have my custom page display text it gets mangled when I use:<br />
<br />
!define /file LICENSE_TEST ${LICENSE_FILE}<br />
<br />
Formatting issues abound and everything is written to one line. I've tried the nsDialogs approach as well, but that did not work for me either. I've tried to read the file line by I must be missing some basic method of displaying the text from a file.<br />
<br />
Any suggestions on how to read our rather long license agreement into the installer and display it on the custom page would be greatly appreciated. <br />
<br />
Thanks,<br />
<br />
Jay</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">16th March 2010, 04:59</div></div><div class="posttext">As far as loading license at runtime goes, checkout<br />
http://nsis.sourceforge.net/CustomLicense_plug-in<br />
and<br />
http://forums.winamp.com/showthread.php?postid=2316912#post2316912</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jrenbaum</div><div class="date">16th March 2010, 20:19</div></div><div class="posttext">Anders,<br />
<br />
I was able to get the CustomLicense_plug-in to work, but only to display a license file which already works with MUI_PAGE_LICENSE. Seems like the same thing to me. I want to be able to modify this page by adding a print button. How do I incorporate this plugin into an existing custom page using InstallOptions?<br />
<br />
Jay<br />
<br />
Jay</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jrenbaum</div><div class="date">18th March 2010, 19:55</div></div><div class="posttext">OK, I now have the page working as desired (including the print button) using the CustomLicense plugin and nsDialogs rather than InstallOptions. However, when using this approach for a different project that has a .rtf EULA the display of the EULA is not formatted. This does get formatted and displayed correctly when using MUI_PAGE_LICENSE.<br />
<br />
Is there any solution to this problem that doesn't involve getting rid of the CustomLicense plugin or nsDialogs other than saving the .rtf file as .txt?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">18th March 2010, 20:20</div></div><div class="posttext">Using my code in the thread I linked to should work with RTF</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>