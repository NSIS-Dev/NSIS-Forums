<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Cannot Figure out Spaces in Variable File, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Cannot Figure out Spaces in Variable File NSIS Discussion" />
	
	<title> Cannot Figure out Spaces in Variable File [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Cannot Figure out Spaces in Variable File</div>
<hr />
<div class="pda"><a href="t-371273.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=371273">Cannot Figure out Spaces in Variable File</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mysousa</div><div class="date">17th September 2013, 23:09</div></div><div class="posttext">I feel like I have read the whole internet and tried this in every possible combination. I feel confident I am missing the one obvious solution.<br />
<br />
I have a variable $jurisdiction that has spaces. It is part of a path that looks like the first line below. It seems that no matter where I put the quotes and which type I use, it will not find the file. How do I put a variable string with spaces into the File to put?<br />
<br />
;File &quot;temp_OK_specific\Region_1\Alfalfa County\Globals.gdx&quot;<br />
File &quot;temp_OK_specific\Region_1\$jurisdiction\Globals.gdx&quot;<br />
File 'temp_OK_specific\Region_1\&quot;$jurisdiction&quot;\Globals.gdx'<br />
File &quot;temp_OK_specific\Region_1\&quot;$jurisdiction&quot;\Globals.gdx&quot;<br />
File &quot;temp_OK_specific\Region_1\'$jurisdiction'\Globals.gdx&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">18th September 2013, 01:42</div></div><div class="posttext">http://forums.winamp.com/showthread.php?t=365044</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mysousa</div><div class="date">18th September 2013, 02:05</div></div><div class="posttext">That actually makes perfect sense. Thank you. I mean, it is disappointing because that would have saved about 2000 conditional statements, but it is crystal clear.<br />
<br />
Is there some clever have the contents of a droplist build part of a path? Other than conditionally.<br />
<br />
${if} $jurisdiction == &quot;Alfalfa County&quot;<br />
File temp_OK_specific\Region_1\Alfalfa_Co\Globals.gdx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">18th September 2013, 02:42</div></div><div class="posttext">Are you simply looking for this?<br />
!define Client &quot;Alfalfa County&quot;<br />
File &quot;temp_OK_specific\Region_1\${Client}\Globals.gdx&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mysousa</div><div class="date">18th September 2013, 02:55</div></div><div class="posttext">Thanks for your time. I tried various forms of this without success.<br />
<br />
What I am trying to do, is have the user select from &quot;A County&quot; and &quot;B County&quot; in a droplist and then set the File to &quot;path/A County/file.gdx&quot;. As it stands, I can sucessfully do Get_Text to determine what they selected then use conditional statements to build the path statically. I would love to put what they select, say &quot;A County&quot;, directly into the path without to much logic, but the space seems to cause a problem I cannot overcome.<br />
<br />
Here is the code:<br />
<br />
Function dialogSelectJurisdiction<br />
<br />
  nsDialogs::Create 1018<br />
  Pop $dialogSelectJurisdiction<br />
<br />
  ${If} $dialogSelectJurisdiction == error<br />
    Abort<br />
  ${EndIf}<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;Templates - &quot; &quot;Selecting Jurisdiction&quot;<br />
<br />
  ${NSD_CreateLabel} 15u 8u 261u 19u &quot;Please choose your response jurisdiction.&quot;<br />
  Pop $dialogSelectJurisdiction_label<br />
<br />
  ${NSD_CreateDropList} 12u 30u 140u 23u &quot;&quot;<br />
  Pop $dialogSelectJurisdiction_selection<br />
<br />
  ; Based on Region<br />
  ${if} $region_1 == ${BST_CHECKED}<br />
    ${NSD_CB_AddString} $dialogSelectJurisdiction_selection &quot;Alfalfa County&quot;<br />
    ${NSD_CB_AddString} $dialogSelectJurisdiction_selection &quot;Texas County&quot;<br />
    ${NSD_CB_SelectString} $dialogSelectJurisdiction_selection &quot;Alfalfa County&quot;<br />
  ${elseif} $region_2 == ${BST_CHECKED}<br />
    ${NSD_CB_AddString} $dialogSelectJurisdiction_selection &quot;City of Stillwater&quot;<br />
    ${NSD_CB_AddString} $dialogSelectJurisdiction_selection &quot;Osage County&quot;<br />
    ${NSD_CB_SelectString} $dialogSelectJurisdiction_selection &quot;City of Stillwater&quot;<br />
  ${endif}<br />
<br />
  nsDialogs::Show<br />
<br />
FunctionEnd<br />
<br />
Function dialogSelectJurisdictionLeave<br />
<br />
  ${NSD_GetText} $dialogSelectJurisdiction_selection $jurisdiction<br />
<br />
FunctionEnd<br />
<br />
  ; Oklahoma Region<br />
  ${if} $region_1 == ${BST_CHECKED}<br />
    File temp_OK_specific\Region_1\0000005Z.CSI<br />
    ${if} $jurisdiction == &quot;Alfalfa County&quot;<br />
      File temp_OK_specific\Region_1\Alfalfa_Co\Globals.gdx<br />
    ${elseif} $jurisdiction == &quot;Texas County&quot;<br />
      File temp_OK_specific\Region_1\Texas_Co\Globals.gdx<br />
    ${endif}<br />
  ${elseif} $region_2 == ${BST_CHECKED}<br />
    File temp_OK_specific\Region_2\0000005Z.CSI<br />
    ${if} $jurisdiction == &quot;City of Stillwater&quot;<br />
      File temp_OK_specific\Region_2\Stillwater\Globals.gdx<br />
    ${elseif} $jurisdiction == &quot;Osage County&quot;<br />
      File temp_OK_specific\Region_2\Osage_Co\Globals.gdx<br />
    ${endif}<br />
  ${endif}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">18th September 2013, 04:07</div></div><div class="posttext">You can do it like that, or with sections or labels, but you can't extract a file without hardcoding its source path, so there aren't any shortcuts here that I can think of. You could use a zip file, then you could use variables for extraction, e.g. with Nsisunz (http://nsis.sourceforge.net/Nsisunz_plug-in) plugin.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">18th September 2013, 18:05</div></div><div class="posttext">If you don't like the zip idea, this can be an alternative to stacking up conditional statements:<br />
!define NUM_SECTIONS X ;total number of sections<br />
Section /o &quot;Alfalfa County&quot; ; section name = droplist string<br />
File temp_OK_specific\Region_1\Alfalfa_Co\Globals.gdx<br />
SectionEnd<br />
...<br />
You can move the sections to a .nsh so they don't clutter up the script.<br />
To select the appropriate section based on droplist selection:<br />
StrCpy $0 0<br />
SelectSectionLoop:<br />
SectionGetText $0 $1<br />
StrCmp $1 $jurisdiction 0 +5<br />
SectionGetFlags $0 $1<br />
IntOp $1 $1 | 1<br />
SectionSetFlags $0 $1<br />
Goto SelectSectionEnd<br />
IntOp $0 $0 + 1<br />
IntCmp $0 ${NUM_SECTIONS} 0 SelectSectionLoop<br />
SelectSectionEnd:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>