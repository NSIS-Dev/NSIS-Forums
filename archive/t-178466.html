<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" &quot;Next&quot; button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  &quot;Next&quot; button NSIS Discussion" />
	
	<title> &quot;Next&quot; button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  &quot;Next&quot; button</div>
<hr />
<div class="pda"><a href="t-178466.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=178466">&quot;Next&quot; button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">30th April 2004, 09:47</div></div><div class="posttext">In one of the custom pages in my installer at the initialization I disable the &quot;Next &gt;&quot; button and then, based on user input I enable it. It's meant to stop the user from keying in rubish and get away with it...<br />
The problem is: the stupit button doesn't want to get back to &quot;enabled&quot; state... <br />
the code is very simple:<br />
<br />
....<br />
page custom java_home java_home_valid<br />
....<br />
<br />
Function java_home<br />
....<br />
GetDlgItem $NEXTWINDOW $HWNDPARENT 1<br />
EnableWindow $NEXTWINDOW 0<br />
....<br />
FunctionEnd<br />
<br />
Function java_home_valid<br />
....<br />
; search for java.exe  <br />
JREdll::validate &quot;$JRE_LOCATION&quot; ;my own plugin<br />
Pop $valid<br />
StrCmp $valid &quot;TRUE&quot; &quot;&quot; &quot;ELSE&quot;<br />
GetDlgItem $NEXTWINDOW $HWNDPARENT 1<br />
EnableWindow $NEXTWINDOW 1<br />
ELSE:<br />
....<br />
FunctionEnd<br />
....<br />
<br />
Thas it... easy, right ? but it doesn't work... it does work for the other 2 buttons, &quot;back&quot; and &quot;cancel&quot;... i can disable and enable them as i wish... but i don't need that! I want my &quot;Next&quot; back !!<br />
<br />
Anyone has ANY idea ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">30th April 2004, 13:40</div></div><div class="posttext">Hi :)<br />
<br />
Instead of disabling the &quot;Next&quot; button you could use the instruction &quot;Abort&quot; in the page's &quot;Leave Function&quot; if the user has typed rubbish... If he did, he'll stay on the page. You can also display a message at this point.. <br />
<br />
Explanations about &quot;Callback functions&quot; can be found there:<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.5.3<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">30th April 2004, 14:00</div></div><div class="posttext">I know that... but i prefer not to let them click &quot;next&quot; if the input is not correct... <br />
Actually it's a bit different... The &quot;input&quot; is a disabled customized &quot;browse for directory&quot; which has the &quot;OK&quot; button enabled if and only if the selected directory points to a JDK home. Until the user chooses a valid JDK directory the &quot;Next&quot; button is disabled.<br />
<br />
Of course if i will not be able to do it my way, the proposed solution sounds good. <br />
It's just a challenge for me and who ever has some free time to think about it ... :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">30th April 2004, 14:35</div></div><div class="posttext">http://forums.winamp.com/showthread.php?s=&amp;threadid=177208</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">30th April 2004, 19:27</div></div><div class="posttext">Aha!!! so it's the little sneaky &quot;abort&quot; that causes all the problems... the little bastard...<br />
NOw.. how can I go around it.... ??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">30th April 2004, 19:31</div></div><div class="posttext">It has been reported and will be fixed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">1st May 2004, 04:08</div></div><div class="posttext">Sorry, I'm new here... I discovered NSIS one week ago :D How will I know if it has been fixed ? Is there a page that I have to read daily like a ChangeLog or something ?<br />
<br />
Thanks for your help...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">1st May 2004, 09:58</div></div><div class="posttext">http://nsis.sourceforge.net/development/changelog/http://nsis.sourceforge.net/development/changelog/</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th May 2004, 13:53</div></div><div class="posttext">Fixed in the latest CVS version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">11th May 2004, 16:20</div></div><div class="posttext">Hmm.... <br />
I've tried the new changes and it seams to me that all the buttons are messed up... Is it just me or someone else had same problem.. <br />
&quot;Next&quot; doesn't get enabled and &quot;Back&quot; and &quot;Next&quot; (if i do not disable it) have the same effect, &quot;move to next screen&quot; ... I will keep trying to see if it's my error but so far my script seams to be correct... <br />
<br />
P.S.<br />
Thanks for the effort!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th May 2004, 16:32</div></div><div class="posttext">kichik fixed that in the latest CVS version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">24th May 2004, 03:08</div></div><div class="posttext">Strange... It still behaves the same.... the &quot;next&quot; doesnt get re-enabled...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">26th May 2004, 13:56</div></div><div class="posttext">Just curious, is anybody still looking into this error or I should give up the hope and try a different solution?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th May 2004, 14:08</div></div><div class="posttext">Make sure you have the latest CVS version. It's working for other people and I have just successfully tested it again to make sure.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">26th May 2004, 14:16</div></div><div class="posttext">OK.. I will download it again and test one more time... <br />
Fingers crossed!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ovidiu</div><div class="date">26th May 2004, 16:28</div></div><div class="posttext">It works!! <br />
<br />
What was wrong? kichik forgot to add &quot;InstallOptions.dll&quot; in the modifed files list and I havent update it... :rolleyes: <br />
<br />
2004-05-15 11:22 Amir Szekely (kichik)<br />
<br />
makensis.exe, Source/exehead/Ui.c: fixed the next/back buttons bug caused by the last fix<br />
<br />
<br />
Now it's PERFECT!!! Thanks alot guys!!! Great job!!!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>