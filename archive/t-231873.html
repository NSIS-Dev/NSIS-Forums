<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Passing parameters using -D on Linux, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Passing parameters using -D on Linux NSIS Discussion" />
	
	<title> Passing parameters using -D on Linux [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Passing parameters using -D on Linux</div>
<hr />
<div class="pda"><a href="t-231873.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=231873">Passing parameters using -D on Linux</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">webqs</div><div class="date">25th November 2005, 07:24</div></div><div class="posttext">Hi all<br />
<br />
I'm trying to pass a parameters at run time to an .NSI script but this doesn't seem to work.<br />
<br />
The Documentation suggests <br />
makensis /DVAR=value example.nsi<br />
Which should be functionally equivalent to<br />
!define VAR &quot;value&quot;<br />
in example.nsi<br />
<br />
But this doesn't work, the compiler treats the ${VAR} references as literal strings.<br />
<br />
./makensis -? gives me this documentation:<br />
<br />
<br />
$ ./makensis -?<br />
MakeNSIS v25-Nov-2005.cvs - Copyright 1999-2005 Nullsoft, Inc.<br />
<br />
Portions Copyright (C) 1995-1998 Jean-loup Gailly and Mark Adler (zlib).<br />
Portions Copyright (C) 1996-2002 Julian R Seward (bzip2).<br />
Portions Copyright (C) 1999-2003 Igor Pavlov (lzma).<br />
<br />
Contributors: nnop-at=newmail.ru, Ryan Geiss, Andras Varga, Drew Davidson, <br />
Peter Windridge, Dave Laundon, Robert Rainwater, <br />
Yaroslav Faybishenko, Jeff Doozan, Amir Szekely, <br />
Ximon Eighteen, et al.<br />
<br />
Usage:<br />
  makensis [option | script.nsi | - [...]]<br />
   options are:<br />
    -CMDHELP item prints out help for 'item', or lists all commands<br />
    -HDRINFO prints information about what options makensis was compiled with<br />
    -LICENSE prints the makensis software license<br />
    -VERSION prints the makensis version and exits<br />
    -Vx verbosity where x is 4=all,3=no script,2=no info,1=no warnings,0=none<br />
    -Ofile specifies a text file to log compiler output (default is stdout)<br />
    -PAUSE pauses after execution<br />
    -NOCONFIG disables inclusion of &lt;path to makensis.exe&gt;/nsisconf.nsh<br />
    -NOCD disabled the current directory change to that of the .nsi file<br />
    -Ddefine[=value] defines the symbol &quot;define&quot; for the script [to value]<br />
    -Xscriptcmd executes scriptcmd in script (i.e. &quot;-XOutFile poop.exe&quot;)<br />
   parameters are processed by order (-Ddef ins.nsi != ins.nsi -Ddef)<br />
   for script file name, you can use - to read from the standard input<br />
<br />
<br />
So I tried the following for my project (if I place the nsi script call after the -D calls, compile doesn't even start).<br />
<br />
$ ./makensis example.nsi -DVC_TAG=release_example_1.0 -DTMP_DIR=/var/tmp/<br />
<br />
Unfortunately, this doesn't work either. The error I get is this:<br />
<br />
<br />
File: &quot;${TMP_DIR}${VC_TAG}/*&quot; -&gt; no files found.<br />
Usage: File [/nonfatal] [/a] ([/r] [/x filespec [...]] filespec [...] |<br />
   /oname=outfile one_file_only)<br />
Error in script &quot;example.nsi&quot; on line 52 -- aborting creation process<br />
<br />
<br />
<br />
Does anyone have any pointers about how these params can be passed in to the nsi at run time?<br />
<br />
Line 52 of the nsi looks like this:<br />
<br />
File &quot;${TMP_DIR}${VC_TAG}/*&quot;<br />
<br />
TIA<br />
James</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">25th November 2005, 10:58</div></div><div class="posttext">The command line parameters are parsed sequentially. Try:$ ./makensis -DVC_TAG=release_example_1.0 -DTMP_DIR=/var/tmp/ example.nsi</div></div><hr />


<div class="post"><div class="posttop"><div class="username">webqs</div><div class="date">28th November 2005, 04:39</div></div><div class="posttext">hmm, that works fine. I'm sure i tried that on Friday. Put it down to Friday afternoons...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>