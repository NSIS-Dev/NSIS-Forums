<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Turn off sections on runtime, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Turn off sections on runtime NSIS Discussion" />
	
	<title> Turn off sections on runtime [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Turn off sections on runtime</div>
<hr />
<div class="pda"><a href="t-308791.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=308791">Turn off sections on runtime</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Vankov</div><div class="date">23rd July 2009, 11:31</div></div><div class="posttext">Turn off sections on runtime <br />
<br />
<br />
<br />
I have a problem :<br />
Section  &quot;VerifyEnvironment&quot; <br />
${If} $CommandLine == '/admin'<br />
 messageBox MB_OK &quot;/admin&quot;<br />
${Else}<br />
SectionIn RO<br />
${EndIf}<br />
<br />
CommandLine is &quot;/admin&quot; but section is read-only!If i continue install the messageBox is show!!!:confused: <br />
Please help!:up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd July 2009, 12:02</div></div><div class="posttext">SectionIn is not a run time instruction therefore you section will be disabled unconditionally.<br />
<br />
Are you trying to unselect the section or make it read only? To unselect it, use the UnselectSection macro in Sections.nsh. To make it read only, use the SetSectionFlag macro with ${SF_RO}.<br />
<br />
Note: These must be done prior to the Components page.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vankov</div><div class="date">23rd July 2009, 13:28</div></div><div class="posttext">i have:<br />
SectionGroup  &quot;Prerequisits (Required)&quot; sec<br />
<br />
Section  &quot;VerifyEnvironment&quot; sec1<br />
......<br />
and i use :<br />
   insertmacro SetSectionFlag ${sec} ${SF_RO}<br />
     !insertmacro SetSectionFlag ${sec1} ${SF_RO}<br />
     !insertmacro SetSectionFlag ${sec2} ${SF_RO}<br />
<br />
and the results is - only SectionGroup is read-only!!:confused: and i can make it check box 1/0(mark or unmark) with sec1,sec2 ....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vankov</div><div class="date">27th July 2009, 13:55</div></div><div class="posttext">please help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th July 2009, 17:28</div></div><div class="posttext">Where have you put this code? As I have already said, you need to use it before the components and instfiles pages. That could be in .onInit or a page PRE function.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">27th July 2009, 18:12</div></div><div class="posttext">And the code has to be *below* the section defines - otherwise the ${sec1} - ${secN} values are not defined. Not defined is like &quot;0&quot; which is probably the value of ${sec} and explains how the group gets turned into RO.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vankov</div><div class="date">29th July 2009, 09:39</div></div><div class="posttext">Originally posted by demiller9 <br />
And the code has to be *below* the section defines <br />
Now is ok!10x!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>