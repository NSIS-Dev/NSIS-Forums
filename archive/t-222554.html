<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Color, backgrounds, etc..., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Color, backgrounds, etc... NSIS Discussion" />
	
	<title> Color, backgrounds, etc... [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Color, backgrounds, etc...</div>
<hr />
<div class="pda"><a href="t-222554.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=222554">Color, backgrounds, etc...</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">26th July 2005, 18:47</div></div><div class="posttext">I'm trying to make a custom page menu that will show some links for user options (using InstallOptionsEx) and these links will be images.  But I want to change the color of the grey background of the dialog and was wondering how to do this?<br />
<br />
I've got<br />
<br />
...<br />
Page Custom Pre Post<br />
...<br />
Function Pre<br />
  InstallOptionsEx::initDialog /NOUNLOAD PLUGINSDIR\install_menu.ini<br />
  Pop $HWND<br />
  SetCtlColors $HWND 000000 ff0000<br />
  InstallOptionsEx::show<br />
FunctionEnd<br />
<br />
I don't want blue, but this is just to see if it works.  Any help would be much appreciated.<br />
<br />
Also, I've modified Contrib/UIs/modern.exe as well as modern_headerbmp.exe to be larger (550x399) and was wondering what all the controls in there were for?  It seems as if there are multiple controls for different items?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">26th July 2005, 19:26</div></div><div class="posttext">Ok, I've partly answered my own question (I guess that's Murphy's Law, once you post, you figure it out).  Anyways, I'm able to change the background color through .onGuiInit with <br />
<br />
...<br />
!define MUI_CUSTOMFUNCTION_GUIINIT myGuiInit<br />
...<br />
Function myGuiInit<br />
  SetCtlColors $HWNDPARENT 000000 777777<br />
  ...<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">26th July 2005, 19:58</div></div><div class="posttext">This could be considered as a feature request. Right now you can't set the page color just by configurating the INI file (you had to use SetCtlColors instead). I'm gonna look over this to see what I can do in short term.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">27th July 2005, 23:11</div></div><div class="posttext">So, I've got this stuff working, but now I want to make an image into a link and I can't get it to work.  This is what I've got so far...<br />
<br />
<br />
[Field 1]<br />
Type=Link<br />
Left=<br />
Right=<br />
Top=<br />
Bottom=<br />
Width=<br />
Height=<br />
Notify=ONCLICK<br />
<br />
[Field 2]<br />
Type=Bitmap<br />
Text=resource\image.bmp<br />
Left=<br />
Right=<br />
Top=<br />
Bottom=<br />
Width=<br />
Height=<br />
<br />
*Note: left, right, top, bottom, width, and height all have the same values for these two fields (and they're non-blank).<br />
<br />
If I do it in this order, nothing is shown, but there is a link at those coordinates.  If I switch the order of the two fields, then the image is shown, but there is no link there.<br />
<br />
Also, is there a way to make a link transparent so that the bitmap I have placed beneath it can be seen?<br />
<br />
Help...!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">28th July 2005, 12:11</div></div><div class="posttext">Don't specify Height and Width. Right and Bottom are considered first.<br />
<br />
Hmmm... The non-transparency bug of Link controls is a bug. Now, the bitmap one is not a bug because you didn't put any notifications in it. If you did, there would be another bug that don't change the mouse pointer cursor to a hand, the problem that all controls have at this moment. I'll gonna try to fix them when I return to the development of IOEx.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">28th July 2005, 18:56</div></div><div class="posttext">Okay, so now I've got this:<br />
<br />
<br />
[Field 1]<br />
Type=Bitmap<br />
Text=resource\image.bmp<br />
Left=0<br />
Right=100<br />
Top=0<br />
Bottom=100<br />
Width=<br />
Height=<br />
Notify=ONCLICK<br />
<br />
[Field 2]<br />
Type=Link<br />
Left=0<br />
Right=100<br />
Top=0<br />
Bottom=100<br />
Width=<br />
Height=<br />
Notify=ONCLICK<br />
<br />
<br />
and this will work, but the image doesn't have the hand when the cursor is over it like a normal link.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">29th July 2005, 15:25</div></div><div class="posttext">Hmm... I don't think I should fix the non-transparency problem with Link controls, because I would need to do this with other of controls like Label and Checkbox. This would make necessary manually handling most of the messages to change those controls when the page is running, making the plugin even bigger.<br />
<br />
I don't know how to implement the change of mouse pointers for controls. Maybe adding another INI value name for this purpose and make it work with certain notifications?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">29th July 2005, 17:11</div></div><div class="posttext">I think that this would be another one of those link transparency issues because if I had the link field first (which causes the bitmap not be shown, then the mouse changes to the hand in the appropriate place), then the link would be transparent and you would only see the bitmap.<br />
<br />
I think I found in the code where to make the link transparent, but I'm not sure how to go about it and I don't really have time to figure it out.  I think it's at the switch statement around line 1899:<br />
<br />
  // BgColor<br />
  //--------------------------------------------------------------<br />
    if((COLORREF)myGetProfileInt(&quot;BgColor&quot;, 0xFFFFFFFF) == 0xFFFFFFFF)<br />
	  switch(pField-&gt;nType) {<br />
		case FIELD_TEXT:<br />
		case FIELD_LISTBOX:<br />
		case FIELD_COMBOBOX:<br />
		  pField-&gt;crBgColor = GetSysColor(COLOR_WINDOW);<br />
		  break;<br />
		case FIELD_DATETIME:<br />
		case FIELD_MONTHCALENDAR:<br />
		  pField-&gt;crBgColor = GetSysColor(COLOR_INFOBK);<br />
		  break;<br />
		case FIELD_LINK:<br />
		  pField-&gt;crBgColor = myGetProfileInt(&quot;BgColor&quot;, 0xFFFFFFFF);<br />
		  break;<br />
		default:<br />
	      pField-&gt;crBgColor = myGetProfileInt(&quot;BgColor&quot;, 0xFFFFFFFF);<br />
		  break;<br />
	  }<br />
	else<br />
    {<br />
	  if (pField-&gt;nFlags &amp; FLAG_CUSTOMDRAW_TEMP)<br />
		pField-&gt;nFlags &amp;= ~FLAG_CUSTOMDRAW_TEMP;<br />
	  pField-&gt;crBgColor = myGetProfileInt(&quot;BgColor&quot;, 0xFFFFFFFF);<br />
	}<br />
<br />
And I put in the case for FIELD_LINK, even though it's not doing anything right now.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">29th July 2005, 17:57</div></div><div class="posttext">Did you even read what I wrote in my last 2 posts? I just told you why I'm not going to support this feature of &quot;transparency&quot; anymore. I had that &quot;feature&quot; because of a bug that existed with Link controls, which was fixed on the current IOEx version. Means that this feature you're pursuing was really a bug.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">29th July 2005, 18:42</div></div><div class="posttext">Is there a place I can get this older version from so that I can have this bug that I want?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">29th July 2005, 20:28</div></div><div class="posttext">Oh crap. I always thought that I had someday implemented this but actually never even did. I don't know why this &quot;trick&quot; was still on docs... :confused: Thank you anyways for reporting this.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>