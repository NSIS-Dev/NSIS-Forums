<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Components page accessibility, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Components page accessibility NSIS Discussion" />
	
	<title> Components page accessibility [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Components page accessibility</div>
<hr />
<div class="pda"><a href="t-249001.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=249001">Components page accessibility</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">RobertStrong</div><div class="date">18th June 2006, 02:55</div></div><div class="posttext">The treeview doesn't send accessibility events for checked / unchecked which I believe is due to it not having the TVS_CHECKBOXES style. I've set this in the ui resource for the treeview in order to get the events but then the checkbox images are incorrect when clicking on the checkbox itself though it does work fine when clicking on the text, etc. I'd just use checkboxes but I'd like to keep the selected item description functionality. Any help with this would be appreciated.<br />
<br />
Thanks,<br />
Ronert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th June 2006, 10:59</div></div><div class="posttext">.onSelChanged function is called when a checkbox is checked or unchecked.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobertStrong</div><div class="date">18th June 2006, 11:11</div></div><div class="posttext">I tried using .onSelChange along with SectionSetFlags, SectionGetFlags, etc. to come up with a workaround without any joy. I also tried using WM_KEYDOWN 32 to send a spacebar keypress along with a few other methods. SectionGetFlags returns unselected while the checkbox displays the selected image and the dark gray selected image when it is selected.<br />
<br />
One option may be to force the correct image for the TVITEM in .onSelChange but I'm not sure if I should even go down that path... seems a bit painful and may just not be possible. Any ideas of which route would be simplest to take?<br />
<br />
Robert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th June 2006, 13:30</div></div><div class="posttext">As far as I can see you haven't really explained what you want to do.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobertStrong</div><div class="date">18th June 2006, 21:34</div></div><div class="posttext">Hey Stu,<br />
<br />
From the original post:<br />
&quot;The treeview doesn't send accessibility events for checked / unchecked which I believe is due to it not having the TVS_CHECKBOXES style.&quot;<br />
<br />
I would like the treeview's checkbox state to work with screen readers. Currently a screen reader is unable to tell a visually imparied person whether the checkbox is checked or unchecked or for that matter that there is a checkbox.<br />
<br />
I can get the state in a screen reader by modifying the ui resource and adding TVS_CHECKBOXES to the treeview's style. This then breaks the display of the checkbox checked state when clicking on the checkbox itself.<br />
<br />
My second post describes some possible hacks to workaround the bug and that I was unable to fix the display of the image by using .onSelChange, etc.<br />
<br />
Robert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th June 2006, 09:01</div></div><div class="posttext">The problem is that those aren't really checkboxes. Those are just images of checkboxes. TVS_CHECKBOXES is not available on older versions of Windows and so images are used for compatibility. This also allows easily customizing the checkbox image.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobertStrong</div><div class="date">30th June 2006, 16:54</div></div><div class="posttext">Do you have any pointers as to what would need to be modified in order to use TVS_CHECKBOXES or perhaps a way to work around this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th June 2006, 18:35</div></div><div class="posttext">Way too much code in Source\exehead\Ui.c, exec.c and components.c. A workaround would probably be manually implementing IAccessible for the control.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>