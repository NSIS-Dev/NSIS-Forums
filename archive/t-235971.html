<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SetBrandingImage error, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SetBrandingImage error NSIS Discussion" />
	
	<title> SetBrandingImage error [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SetBrandingImage error</div>
<hr />
<div class="pda"><a href="t-235971.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=235971">SetBrandingImage error</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Axonn</div><div class="date">20th January 2006, 08:53</div></div><div class="posttext">Hi everybody. It's been a long time since I was around here last time, so I welcome you all in 2006 :- D.<br />
<br />
I've been trying to add a branding image to my installer. But the NSIS compiler issues the following error:<br />
&quot;Error: no branding image found in chosen UI&quot;.<br />
<br />
I tried putting this in .onInit and didn't work.. then I put it like this:<br />
<br />
&lt; CODE &gt;<br />
Function .onInit<br />
  !insertmacro MUI_LANGDLL_DISPLAY<br />
FunctionEnd<br />
<br />
Section &quot;My main installation&quot; SEC01<br />
  SetOutPath &quot;$INSTDIR&quot;<br />
  File &quot;ASD.bmp&quot;<br />
  SetBrandingImage &quot;$INSTDIR\ASD.bmp&quot;<br />
  SetOverwrite on<br />
&lt; CODE &gt;<br />
<br />
Then I tried putting it in onGUIInit but it says &quot;Error: Function named &quot;.onGUIInit&quot; already exists&quot; allthough I only declared it once.<br />
<br />
Secondly, what size should the branding image be? I put 164 x 314, as I saw that the original was... is this correct?<br />
<br />
Thank you in advance for your help :- ).<br />
<br />
How can I make it work?? :- ).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Axonn</div><div class="date">20th January 2006, 09:02</div></div><div class="posttext">I just saw something after I searched the forum, but I don't know if it'll work. Anyway, my question about the size remains. If I put that size will  NSIS still auto-calculate stuff?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th January 2006, 12:13</div></div><div class="posttext">Before using SetBrandingImage, you must use AddBrandingImage or add your own branding image control to the UI. AddBrandingImage accepts a size parameter and prints out the size that eventually came out.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Axonn</div><div class="date">20th January 2006, 13:35</div></div><div class="posttext">Hi again kichik ::- ). You do know you're in my &quot;Thanks to&quot; file right? ::- D. This is for the installer for the Beta 2 of my freeware application and I mentioned in the thanks section (almost) everybody that helped in any area of the project.<br />
<br />
Hm. I suspected something about AddBrandingImage. But hey, I searched through this forum and investigated some posts and stuff like this really makes me dizzy:<br />
<br />
&lt; CODE &gt;<br />
<br />
!macro BIMAGE IMAGE PARMS<br />
Push $0<br />
GetTempFileName $0<br />
File /oname=$0 &quot;${IMAGE}&quot;<br />
SetBrandingImage ${PARMS} $0<br />
Delete $0<br />
Pop $0<br />
!macroend<br />
<br />
[...]<br />
<br />
!insertmacro BIMAGE &quot;${NSISDIR}\pics\tmp1.bmp&quot; &quot;/RESIZETOFIT&quot;<br />
<br />
&lt; CODE &gt;<br />
<br />
So what's all this? I don't see any use of AddBrandingImage, just SetBrandingImage. This code is taken from:<br />
<br />
http://forums.winamp.com/showthread.php?threadid=135382&amp;highlight=branding+AND+image<br />
<br />
<br />
I apologize for not reading quite so much from the NSIS documentation as I would have liked too, but you are a developer so you MUST now how hard it is to do everything on your own :- ). I barely have time to eat due to the deadlines I self-impose to myself.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th January 2006, 14:08</div></div><div class="posttext">That thread doesn't contain a complete example. Examples\gfx.nsi contains a complete example that uses both AddBrandingImage and SetBrandingImage.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Axonn</div><div class="date">20th January 2006, 14:52</div></div><div class="posttext">And where can I see the image that the installer will use for a picture? It will output it at compilation time?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th January 2006, 14:54</div></div><div class="posttext">No, you set that using SetBrandimgImage. AddBrandingImage adds the image control to the UI and SetBrandimgImage sets the image on the control.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Axonn</div><div class="date">20th January 2006, 18:19</div></div><div class="posttext">There were lots of discussions around here about picture size. I would prefer to dictate a size for the image control and put in that a picture of the same size. For example if I say 200x50, to keep it that way. But as far as I saw, it's more complicated than that.<br />
<br />
Anyway, I did my important stuff for now with <br />
MUI_WELCOMEFINISHPAGE_BITMAP<br />
<br />
I'll probably leave this as is for the time being because on 25 January I got to release Beta 2 for my freeware application and this is really pressing me.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>