<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CVS snapshot + Win98SE + RadioButtons = crash, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CVS snapshot + Win98SE + RadioButtons = crash NSIS Discussion" />
	
	<title> CVS snapshot + Win98SE + RadioButtons = crash [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CVS snapshot + Win98SE + RadioButtons = crash</div>
<hr />
<div class="pda"><a href="t-144168.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=144168">CVS snapshot + Win98SE + RadioButtons = crash</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">30th July 2003, 22:34</div></div><div class="posttext">After updating to this morning's CVS snapshot and rebuilding my installer, I now get a crash when trying to display a custom page which has radio buttons. I'm using Win98SE and the 30 July 07:44 snapshot. Tried using a simpler example and still get the crash. <br />
<br />
DEMO caused an invalid page fault in<br />
module INSTALLOPTIONS.DLL at 0187:00a925f2.<br />
Registers:<br />
EAX=00000000 CS=0187 EIP=00a925f2 EFLGS=00010246<br />
EBX=0000000d SS=018f ESP=0065f0b4 EBP=bfc05836<br />
ECX=00430480 DS=018f ESI=00000006 FS=8227<br />
EDX=00a92392 ES=018f EDI=00000da4 GS=0000<br />
Bytes at CS:EIP:<br />
80 38 31 75 0c 6a 00 6a 01 68 f1 00 00 00 57 ff <br />
Stack dump:<br />
00a929c2 00426000 0065fb10 0040aad0 00530e88 00000000 00000000 0000005a 0000002d 00000066 00000087 00000073 0000000b 0000000a 0000019a 000000dd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">3rd August 2003, 16:50</div></div><div class="posttext">After upgrading to the latest CVS snapshot (3 Aug 2003, 13:44 GMT) I found no change - custom pages with radio buttons still cause installer to crash.<br />
<br />
When I examined the files in the snapshot I found that the problem appears to have been introduced when InstallOptions.dll was updated from 1.62 to 1.63.<br />
<br />
If I use the latest CVS snapshot my installer crashes whenever it tries to display a custom page containing radio buttons. This snapshot uses CVS version 1.63 of InstallOptions.dll. If I overwrite this DLL with CVS version 1.62 (from an earlier CVS snapshot) and recompile, my installer does not crash and the radio buttons work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd August 2003, 19:10</div></div><div class="posttext">You don't have any strcmp/intcmp['s in your custom page by any chance?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">3rd August 2003, 19:30</div></div><div class="posttext">No, in fact it just calls InstallOptions::dialog to display the page, and the custom page INI file just has a single groupbox enclosing 3 radio buttons.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd August 2003, 20:32</div></div><div class="posttext">Maybe you could try moving the radio buttons around (change field numbers)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">3rd August 2003, 21:06</div></div><div class="posttext">Have tried that - even with completely different field numbers it crashes. But if I use InstallOptions.dll v1.62 (and change nothing else - same script, same INI file) then there are no crashes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd August 2003, 21:11</div></div><div class="posttext">I have a Win98SE machine on the network.<br />
Send me your ini and nsi file.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd August 2003, 22:55</div></div><div class="posttext">Plesae try latest CVS version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">4th August 2003, 00:30</div></div><div class="posttext">I am using the latest CVS snapshot (3 August, 19:44 GMT - this is the most up-to-date version available at the present time).<br />
<br />
It seems that v1.63 of InstallOptions.dll handles radio buttons differently from earlier versions of the DLL.<br />
<br />
In my script I had a group of 3 radio buttons with one preset using &quot;State=1&quot;. This worked OK with older versions of the DLL but with v1.63 the installer crashes on my Win98SE system.<br />
<br />
When v1.63 is used, however, all three radio buttons require an initial state. Adding &quot;State=0&quot; to the two other radio buttons appears to solve this problem.<br />
<br />
Unfortunately v1.63 of InstallOptions.dll is still causing problems in my installer. It now crashes at different times, apparently at random, so I have had to switch back to v1.62 to get a stable installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">4th August 2003, 00:36</div></div><div class="posttext">1.64 is the latest CVS version. See the CVS Issues (http://forums.winamp.com/showthread.php?s=&amp;threadid=139427) sticky post for more information. The snapshot probably haven't updated yet... As can be seen in the chancelog I have uploadead a new version of InstallOptions.dll after the snapshot time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">4th August 2003, 00:51</div></div><div class="posttext">I'm aware of the CVS problems, that is why I was careful to quote the time and date of the snapshot and the version number of the DLL.<br />
<br />
At the moment the NSIS Update feature is not working reliably, so I've been checking the Changelog to see if it is worth downloading another snapshot.<br />
<br />
Version 1.64 should be in the next snapshot so I'll try again later today.<br />
<br />
It must be a bit frustrating for developers to fix something and still find users complaining about the bug - lets hope SourceForge fix the CVS problems this month ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ramon18</div><div class="date">4th August 2003, 10:48</div></div><div class="posttext">Hi pengyou,<br />
<br />
The version 1.64 you're talking is the version of InstallOptions.dll or InstallOptions.cpp?<br />
<br />
I think the problem(s) start with &quot;LINK&quot; control on win98, and we develop in win2k/xp, so the tests made by users on win98 are very important for us.<br />
<br />
Maybe I should build InstallOptions.dll without &quot;LINK&quot; ctrl for you test if the latest version of CVS don't work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">4th August 2003, 11:06</div></div><div class="posttext">Ramon, it was pszState being null. 1.64 should fix this. As pengyou said:<br />
<br />
Adding &quot;State=0&quot; to the two other radio buttons appears to solve this problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">4th August 2003, 11:43</div></div><div class="posttext">Downloaded the current CVS snapshot (4 August, 07:44 GMT) and recompiled my script. My installer no longer crashes so InstallOptions.dll v1.64 has solved my problems.<br />
<br />
Thanks for fixing it!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ramon18</div><div class="date">4th August 2003, 16:05</div></div><div class="posttext">good</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>