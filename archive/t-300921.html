<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Mass directory and file creation, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Mass directory and file creation NSIS Discussion" />
	
	<title> Mass directory and file creation [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Mass directory and file creation</div>
<hr />
<div class="pda"><a href="t-300921.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=300921">Mass directory and file creation</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jeromechong</div><div class="date">11th December 2008, 10:21</div></div><div class="posttext">Is there anywhere where I can have a whole folder (with many sub folders and files) copied to a specified location at the target system?<br />
<br />
I am doing this as I want to create an installer for my web application that runs on Tomcat. I am figuring out how to get Tomcat installed using my own customized installer.<br />
<br />
I have the following line in my nsi file that gets all the files and sub folders in &quot;apache-tomcat-5.5.27&quot; to be compiled into the installer:<br />
File /r apache-tomcat-5.5.27\*.*<br />
<br />
I noticed that if at the target path, when the folder structures are created, the files will be extracted correctly into the respective folder. But I do not want to have have many CreateDirectory command just to create the whole folder structure before the files can be extracted and populated correctly.<br />
<br />
I have tried zip2exe as well, meaning that from my installer, I ExecWait the generated apache-tomcat-5.5.27.exe file. This is not a very elegant way of doing things. Is it possible to have it execute in silent mode?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th December 2008, 20:50</div></div><div class="posttext">File /r will create the directory structure for you and SetOutPath will create the directory where you want the files to be extracted. There's no need to ever call CreateDirectory in your case.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jeromechong</div><div class="date">17th December 2008, 03:35</div></div><div class="posttext">It works now with the current codes:<br />
<br />
  SetOutPath $INSTDIR<br />
  CreateDirectory &quot;$INSTDIR\apache-tomcat-5.5.27&quot;<br />
  DetailPrint &quot;Copying the Tomcat zip files&quot;<br />
  SetOutPath &quot;$INSTDIR\apache-tomcat-5.5.27&quot;<br />
  File resources\tomcat.ico<br />
  File /nonfatal /r apache-tomcat-5.5.27\*.*<br />
<br />
I still have to create the folder first before extracting the files from the apache-tomcat-5.5.27 folder, else it would be all extracted to the root of $INSTDIR (meaning not in the apache-tomcat-5.5.27 folder).<br />
<br />
Thanks kichik!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>