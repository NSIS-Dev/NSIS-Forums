<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" File Association - Icon problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  File Association - Icon problem NSIS Discussion" />
	
	<title> File Association - Icon problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  File Association - Icon problem</div>
<hr />
<div class="pda"><a href="t-238100.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=238100">File Association - Icon problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Madpenny</div><div class="date">15th February 2006, 14:05</div></div><div class="posttext">Originally posted by Comperio <br />
http://nsis.sourceforge.net/wiki/File_Association <br />
<br />
i've used this examle to assign icons to my files, but i have problem. explorer does not show my icons. it shows default system icons instead. does theese icons have to meet some special needs?? the wired thing is that, when i enter folder options in the explorer and browse file types, my files are shown with orrect icons.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KenA</div><div class="date">15th February 2006, 14:31</div></div><div class="posttext">Hi, have you tried to hit &quot;F5&quot; when in Explorer ? Maybe all is needed is just a refresh.<br />
<br />
KenA</div></div><hr />


<div class="post"><div class="posttop"><div class="username">madpenny</div><div class="date">15th February 2006, 14:43</div></div><div class="posttext">Originally posted by KenA <br />
Hi, have you tried to hit &quot;F5&quot; when in Explorer ? Maybe all is needed is just a refresh.<br />
<br />
KenA  <br />
<br />
well yes, i did. this does not help. althouh when i run my application and when browse with it for files to open my icons are displayed... what's more, theese icons are not the ones i specified inside the installer (WriteRegStr HKCR &quot;myapp\DefaultIcon&quot; &quot;&quot; &quot;$INSTDIR\myapp.exe,3&quot;) providing apropriate icon index.<br />
<br />
it looks like there is something wrong with my icons. does anyone know if the icons need to be in some exact format (size, colors)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KenA</div><div class="date">15th February 2006, 15:19</div></div><div class="posttext">Ah. I don't know if it helps, but you can find some info about icon's format in Widnows here here (http://www.rw-designer.com/windows-xp-icon).<br />
<br />
KenA</div></div><hr />


<div class="post"><div class="posttop"><div class="username">madpenny</div><div class="date">15th February 2006, 16:01</div></div><div class="posttext">Originally posted by KenA <br />
Ah. I don't know if it helps, but you can find some info about icon's format in Widnows here here (http://www.rw-designer.com/windows-xp-icon).<br />
<br />
KenA <br />
thanks, but this is not what i needed.<br />
something more technical on embeding icons in applications would be helpful. now i'm digging through msdn.com but can't find anything useful.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">15th February 2006, 22:45</div></div><div class="posttext">Little off topic:<br />
I'm not sure where you got the link &quot;Originally posted by Comperio&quot; message in your original post, but near as I can tell, I've not been involved at all in this discussion. (???)<br />
<br />
Back to your issue:<br />
Before pulling your hair out with troubleshooting NSIS, it may be worthwhile to take a step back and make sure that you can assign the icon properly in Windows by manually editing your file types.  (You don't say what version of Windows, but assuming Windows XP, you can to to TOOLS and FOLDER OPTIONS, click on the FILE TYPES tab to get a list of all known extension.  Simply pick the extension you need to edit and click on the 'advanced' button.  From there, you can change the icon.)  You could also create a manual shortcut from within Explorer and assign the icon there.<br />
<br />
If the icons work properly in Windows, then you know there is nothing wrong with your EXE's icons.<br />
<br />
Also: this plugin (http://nsis.sourceforge.net/RfshDktp_plug-in) may help refresh explorer after changing the icon in your installer.<br />
<br />
And a few links from MS:<br />
http://support.microsoft.com/kb/q132668/<br />
<br />
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnwxp/html/winxpicons.asp<br />
<br />
and finally an interesting forum article from MSDN:<br />
http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=170920&amp;SiteID=1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">3D_me</div><div class="date">16th February 2006, 12:53</div></div><div class="posttext">I'm having the same problem.. I've searched the internet for a long time, but I didn't find a solution until now... I hope this thread is going to enlight my 'problem'.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">halutotale</div><div class="date">20th February 2006, 11:11</div></div><div class="posttext">I'm having the same kind of problem. On one computer the icon apears correctly, and on another I've got the default windows exe icon. After having done several trials and check everything, it seams that it does this as soon as the intall file is bigger than 200 Mb like (i.e. with the same install script, the icons appears when the install file is not too big). Don't know if it comes from windows (probably) or from NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st February 2006, 19:17</div></div><div class="posttext">halutotale, the two problems aren't related. Your problem is a known issue. Windows sometimes skips icons of files that large. Search the forum for more information on this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tamzak</div><div class="date">21st February 2006, 23:48</div></div><div class="posttext">I'm having the same problem...<br />
<br />
/me on win xp 64</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd February 2006, 17:42</div></div><div class="posttext">To get around the problem described in the first post, use this code after creating the association:!define SHCNE_ASSOCCHANGED 0x8000000<br />
!define SHCNF_IDLIST 0<br />
System::Call 'Shell32::SHChangeNotify(i ${SHCNE_ASSOCCHANGED}, i ${SHCNF_IDLIST}, i 0, i 0)'</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>