<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" BMPs for  each page, MUI_ICON no show,  Header_txt color, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  BMPs for  each page, MUI_ICON no show,  Header_txt color NSIS Discussion" />
	
	<title> BMPs for  each page, MUI_ICON no show,  Header_txt color [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  BMPs for  each page, MUI_ICON no show,  Header_txt color</div>
<hr />
<div class="pda"><a href="t-282061.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282061">BMPs for  each page, MUI_ICON no show,  Header_txt color</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">4est</div><div class="date">25th November 2007, 08:32</div></div><div class="posttext">Hello,<br />
<br />
I know nothing about coding... So learning to use NSIS with UMUI has been a bit of challenge and I have a few issues remaining.  I've really poured myself into this the last several days.  However, my level of knowledge started at 0.  My apologies if these question seem elementary.<br />
<br />
The MUI-ICON will not show on the &lt;installer&gt;.exe file. It does show on the desktop shortcut.  Even the icon that is defaulted by UMUI does not show.  Oddly, if I open Icon Sushi and then choose to &quot;open file&quot;, the &quot;open file&quot; browser window shows the icon on the installer.  The icons also show in Filezilla.<br />
<br />
Also, I can't figure out how to change the color of the header text in the upper left.  Is this MUI_HEADER_TEXT?  I'm not wanting to change MUI_TEXT_COLOR, only the header.  Is there and easy command for this or does it require a fair amount of extra code?<br />
<br />
Finally, is there a way to define a different UMUI_LEFTIMAGE_BMP for different pages rather than just using the same image for all?<br />
<br />
Thanks in advance.<br />
<br />
Here's the code I'm using for reference.<br />
<br />
;--------------------------------<br />
;General<br />
<br />
  !define VERSION &quot;1.11&quot;<br />
  !define NAME &quot;Fortress Forever&quot;<br />
<br />
;--------------------------------<br />
;Configuration<br />
<br />
  Name &quot;${NAME} ${VERSION}&quot;<br />
  OutFile &quot;${Name} ${VERSION}.exe&quot;<br />
<br />
SetCompressor /FINAL lzma<br />
  <br />
XPStyle on<br />
  BrandingText &quot;${Name} ${VERSION}&quot;<br />
<br />
!define PRODUCT_NAME &quot;Fortress Forever&quot;<br />
!define PRODUCT_VERSION &quot;1.11&quot;<br />
!define PRODUCT_PUBLISHER &quot;Fortress Forever Team&quot;<br />
!define PRODUCT_WEB_SITE &quot;http://www.fortress-forever.com/&quot;  <br />
  <br />
;--------------------------------<br />
;Include UltraModernUI<br />
<br />
  !include &quot;UMUI.nsh&quot;<br />
<br />
;--------------------------------<br />
;Interface Settings<br />
	<br />
!define MUI_ABORTWARNING  <br />
!define MUI_ICON &quot;F:\HalfLife\FF\INSTALLER\FortressForever\Fortress Forever.ico&quot; <br />
!define MUI_COMPONENTSPAGE_CHECKBITMAP &quot;${NSISDIR}\Contrib\Graphics\Checks\red.bmp&quot; <br />
<br />
!define MUI_TEXT_COLOR FFFFCC <br />
!define MUI_BGCOLOR  a1a9b0 <br />
!define UMUI_TEXT_LIGHTCOLOR 000000 <br />
<br />
<br />
!define UMUI_LEFTIMAGE_BMP  &quot;F:\HalfLife\FF\INSTALLER\pics\3classes171x384.bmp&quot; <br />
!define UMUI_HEADERIMAGE_BMP  &quot;F:\HalfLife\FF\INSTALLER\pics\headrlogo.bmp&quot; <br />
!define UMUI_BOTTOMIMAGE_BMP &quot;${NSISDIR}\Contrib\UltraModernUI\Skins\gray\BtmImg.bmp&quot; <br />
!define UMUI_BRANDINGTEXTFRONTCOLOR F5F5F5 <br />
!define UMUI_BRANDINGTEXTBACKCOLOR 000000 <br />
!define MUI_LICENSEPAGE_BUTTON  &quot;DO it!&quot;  <br />
<br />
;------------------------<br />
; Installer pages<br />
<br />
!insertmacro MUI_PAGE_WELCOME <br />
  !define MUI_LICENSEPAGE_CHECKBOX <br />
!insertmacro MUI_PAGE_LICENSE &quot;F:\HalfLife\FF\INSTALLER\FortressForever\license.txt&quot;<br />
!insertmacro MUI_PAGE_COMPONENTS <br />
!insertmacro MUI_PAGE_DIRECTORY <br />
!insertmacro MUI_PAGE_INSTFILES <br />
!insertmacro MUI_PAGE_FINISH <br />
!insertmacro MUI_LANGUAGE &quot;English&quot; <br />
<br />
; Reserve files<br />
!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
<br />
!define APPID 215<br />
<br />
!define FULL_GAME_NAME &quot;Fortress Forever&quot;  ;This is the name of the game defined in gameinfo.txt<br />
;Remove all colons from this (as well as any other invalid char in a file name)<br />
<br />
!define DESKICO &quot;F:\HalfLife\FF\INSTALLER\FortressForever\Fortress Forever.ico&quot;  <br />
;This is the location on the local computer for the desktop icon for the game.<br />
;The icon name must be the same name as the Game keyvalue specified in your GameInfo.txt.  <br />
;Remove all colons from this (as well as any other invalid char in a file name)<br />
<br />
; MUI end<br />
<br />
;======= NSIS STEAM SOURCEMOD INSTALLER, zipdll section removed =======<br />
<br />
var ICONDIR<br />
var STEAMEXE<br />
ShowInstDetails show<br />
<br />
Section &quot;Game Files&quot; FILES<br />
	SetOverwrite ifdiff<br />
;	SetOutPath &quot;$INSTDIR&quot;<br />
<br />
	!include &quot;F:\HalfLife\FF\INSTALLER\filelist.nsh&quot;<br />
<br />
!ifndef NO_DESKTOP_ICON<br />
	SetOutPath &quot;$ICONDIR&quot;<br />
	File &quot;${DESKICO}&quot;<br />
!endif<br />
<br />
SectionEnd<br />
<br />
!ifndef NO_DESKTOP_ICON<br />
Section &quot;Desktop Shortcut&quot; SHORTCUT<br />
	SetOutPath &quot;$DESKTOP&quot;<br />
	CreateShortcut &quot;${FULL_GAME_NAME}.lnk&quot; $STEAMEXE \<br />
		'-applaunch ${APPID} -game &quot;$INSTDIR&quot;' &quot;$ICONDIR\${FULL_GAME_NAME}.ico&quot;<br />
SectionEnd<br />
!endif<br />
<br />
;---------------------<br />
; Section descriptions<br />
<br />
!insertmacro MUI_FUNCTION_DESCRIPTION_BEGIN<br />
  !insertmacro MUI_DESCRIPTION_TEXT ${SHORTCUT} &quot;No need to make things easy...&quot;<br />
  !insertmacro MUI_DESCRIPTION_TEXT ${FILES} &quot;Trying to uncheck the Game Files are we?&quot;<br />
!insertmacro MUI_FUNCTION_DESCRIPTION_END<br />
<br />
Page custom Finish<br />
Function Finish<br />
  MessageBox MB_OK|MB_ICONEXCLAMATION &quot;Steam must be restarted for the game to show on the games list.&quot;<br />
FunctionEnd<br />
<br />
;---------------------------------------<br />
; Registry path detector for Source Mods<br />
<br />
Function .onInit<br />
	ReadRegStr $R0 HKLM &quot;Software\Valve\Steam&quot; InstallPath<br />
	ReadRegStr $R1 HKCU &quot;Software\Valve\Steam&quot; SourceModInstallPath<br />
	IfErrors lbl_error 0<br />
	StrCpy $INSTDIR &quot;$R1\FortressForever&quot;<br />
!ifndef NO_DESKTOP_ICON<br />
	StrCpy $ICONDIR &quot;$R0\steam\games&quot;<br />
	SectionSetFlags ${SHORTCUT} 0<br />
	StrCpy $STEAMEXE &quot;$R0\steam.exe&quot;<br />
!endif<br />
	SectionSetFlags ${FILES} 17<br />
	Return<br />
	lbl_error:<br />
		ClearErrors<br />
		SectionSetFlags ${FILES} 17<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">25th November 2007, 18:03</div></div><div class="posttext">As for the icon, it's an icon cache problem. See:<br />
<br />
http://www.pctools.com/guides/registry/detail/1153/</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>