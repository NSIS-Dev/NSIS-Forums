<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" displaying a bitmap via InstallOptions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  displaying a bitmap via InstallOptions NSIS Discussion" />
	
	<title> displaying a bitmap via InstallOptions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  displaying a bitmap via InstallOptions</div>
<hr />
<div class="pda"><a href="t-265258.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=265258">displaying a bitmap via InstallOptions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Fuzzybunny</div><div class="date">6th February 2007, 20:47</div></div><div class="posttext">What I'm trying to accomplish is to have a bitmap beside the radio button.  I've browsed through the forums and tried the various suggestions but they don't seem to work for me.  <br />
<br />
Function .onInit<br />
<br />
  ;Extract InstallOptions INI files<br />
  InitPluginsDir<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioB.ini&quot; &quot;Field 5&quot; &quot;Type&quot; &quot;Bitmap&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioB.ini&quot; &quot;Field 5&quot; &quot;Text&quot; &quot;image.bmp&quot;<br />
  File /oname=$PLUGINSDIR\image.bmp &quot;c:\image.bmp&quot;<br />
  <br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ioB.ini&quot;<br />
  <br />
FunctionEnd<br />
<br />
Function ChooseCamera<br />
;  WriteIniStr $PLUGINSDIR\io.ini &quot;[Field 5]&quot; Text $PLUGINSDIR\pgr.bmp<br />
  <br />
   !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioB.ini&quot;<br />
FunctionEnd<br />
<br />
Nothing gets written to the ioB.ini file from either the MUI_INSTALLOPTIONS_WRITE or the WriteIniStr.  I can't seem to get it to write.  Can someone enlighten me?  Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th February 2007, 20:49</div></div><div class="posttext">You are writing to the INI file before you extract it using MUI_INSTALLOPTIONS_WRITE. That means the extraction will overwrite whatever you wrote. The Text you specify also doesn't contain the full path as required.<br />
<br />
With WriteIniStr, you wrote to the wrong INI file and again the wrong path. It should be $PLUGINSDIR\image.bmp and not $PLUGINSDIR\pgr.bmp.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fuzzybunny</div><div class="date">6th February 2007, 21:35</div></div><div class="posttext">ahh sorry typos, with your corrections it would be:<br />
<br />
Function .onInit<br />
<br />
;Extract InstallOptions INI files<br />
InitPluginsDir<br />
File /oname=$PLUGINSDIR\image.bmp &quot;c:\image.bmp&quot;<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ioB.ini&quot;<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioB.ini&quot; &quot;Field 5&quot; &quot;Type&quot; &quot;Bitmap&quot;<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioB.ini&quot; &quot;Field 5&quot; &quot;Text&quot; &quot;image.bmp&quot;<br />
<br />
FunctionEnd<br />
<br />
Function ChooseCamera<br />
; WriteIniStr $PLUGINSDIR\ioB.ini &quot;[Field 5]&quot; Text $PLUGINSDIR\image.bmp<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioB.ini&quot;<br />
FunctionEnd<br />
<br />
Sadly, both methods still do not work.  Am I missign something?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th February 2007, 21:39</div></div><div class="posttext">Still missing full path in MUI_INSTALLOPTIONS_WRITE. The WriteINIStr is also incorrect because you've used &quot;[Field 5]&quot; instead of just &quot;Field 5&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fuzzybunny</div><div class="date">6th February 2007, 21:45</div></div><div class="posttext">ya sorry it's suppose to be &quot;Field 5&quot;, i was trying things.<br />
I added the full path to the bmp in MUI_INSTALLOPTIONS_WRITE so it is now:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioB.ini&quot; &quot;Field 5&quot; &quot;Text&quot; &quot;c:\image.bmp&quot;<br />
<br />
but still nothing is being written.  I would imagine that even if I got it wrong, something should still have been written to ioB.ini.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th February 2007, 21:50</div></div><div class="posttext">That's not the full path on the user's computer. That's the full path on your computer. Just as with WriteINIStr, it should be $PLUGINSDIR\image.bmp.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">6th February 2007, 21:59</div></div><div class="posttext">What about &quot;The position on the dialog where this control appears. All sizes should be set in dialog units.&quot; Left, Right, Top, Bottom, all required.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fuzzybunny</div><div class="date">6th February 2007, 22:02</div></div><div class="posttext">Ok I've modified again with<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioB.ini&quot; &quot;Field 5&quot; &quot;Text&quot; $PLUGINSDIR\Image.bmp<br />
<br />
and<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioB.ini&quot; &quot;Field 5&quot; &quot;Text&quot; &quot;$PLUGINSDIR\Image.bmp&quot;<br />
<br />
still nothing.  Nothing being displayed and nothing is being written to the ioB.ini file.<br />
<br />
I've attached my file for everyone to look at.  There's probably some ofther unrelated errors in there lol, but my main concern is trying to display the bitmap.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fuzzybunny</div><div class="date">6th February 2007, 22:06</div></div><div class="posttext">My ioB.ini file looks like this (sorry couldn't attach it)<br />
<br />
[Settings]<br />
NumFields=5<br />
<br />
[Field 1]<br />
Type=RadioButton<br />
Text=Camera1<br />
Left=10<br />
Right=-1<br />
Top=0<br />
Bottom=10<br />
<br />
[Field 2]<br />
Type=RadioButton<br />
Text=Camera2<br />
Left=0<br />
Right=-1<br />
Top=10<br />
Bottom=40<br />
<br />
[Field 3]<br />
Type=RadioButton<br />
Text=Camera3<br />
Left=0<br />
Right=-1<br />
Top=40<br />
Bottom=70<br />
<br />
[Field 4]<br />
Type=RadioButton<br />
Text=Camera4<br />
Left=0<br />
Right=-1<br />
Top=70<br />
Bottom=100<br />
<br />
[Field 5]<br />
Type=Bitmap<br />
Left=50<br />
Right=-1<br />
Top=0<br />
Bottom=10</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th February 2007, 22:07</div></div><div class="posttext">Attach ioB.ini as well.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th February 2007, 22:09</div></div><div class="posttext">The image is overlapping all of the other controls. Try using Top=100 for the image. You should use a GUI editor like HM NIS's and EclipseNSIS's to edit IntsallOptions dialogs. It's much easier that way.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fuzzybunny</div><div class="date">7th February 2007, 14:37</div></div><div class="posttext">I tried it at 100, still nothing.  I'm still concerned that my  nothing is being written to my ioB.ini file.  Even if the numbers, paths, or file names are wrong, it should still have been written to the ioB.ini file.  Unless I'm misinterpreting what either Write command does.  I will look at the 2 GUI editors, but I'm afraid they won't solve the write issue.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">7th February 2007, 15:13</div></div><div class="posttext">Just open the ioB.ini file in $PLUGSINSDIR with a call to ExecShell after you finish writing to it, then you should see what it looks like right before you pass it to IO.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fuzzybunny</div><div class="date">7th February 2007, 15:41</div></div><div class="posttext">Ok so for reasons unknown to me, after i tried the HM NIS editor for the ioB.ini file, my bmp showed up.  The only difference that i see is that it did this:<br />
<br />
[Field 5]<br />
Type=Bitmap<br />
Text=Bitmap<br />
<br />
where before I used the Text parameter for the path of the Bitmap as per documention.  Thanks for the help everyone.  Can  someone explain to me as to why Text should be Bitmap and not the path?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th February 2007, 20:27</div></div><div class="posttext">It shouldn't. It should be the path to the image when InstallOptions loads. Something else must be different.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>