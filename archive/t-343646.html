<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ReadRegStr maximum lenght?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ReadRegStr maximum lenght? NSIS Discussion" />
	
	<title> ReadRegStr maximum lenght? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ReadRegStr maximum lenght?</div>
<hr />
<div class="pda"><a href="t-343646.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=343646">ReadRegStr maximum lenght?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">29th March 2012, 13:43</div></div><div class="posttext">Dear all,<br />
<br />
I am trying to add a check to see if the software is installed or not. If it is installed the installation should abort, if it is not installed the installation should continue as planned.<br />
<br />
I currently have this:<br />
; Check to see if already installed<br />
Section -Run<br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48} InstallLocation<br />
IfFileExists $R0 +1 NotInstalled<br />
  MessageBox MB_OK &quot;Driver is already installed, installer will continue.&quot;<br />
  Quit<br />
<br />
NotInstalled:<br />
  MessageBox MB_OK &quot;Driver is not already installed, installer will continue.&quot;<br />
  Quit<br />
SectionEnd<br />
<br />
This does not work, register (and its key value) is not recognized.. It simply says that it is not found (but it is definitly there)<br />
<br />
However if I try:<br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\ ProgramFilesDir<br />
or<br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Themes InstallTheme<br />
<br />
It does work properly.<br />
<br />
I also tried:<br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\AVG InstallLocation<br />
Which doesn't work either.<br />
<br />
Is there a maximum lenght of the ReadRegStr? Can I only enter so many subfolders?<br />
<br />
Thanks in advanced,<br />
Ruud</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">29th March 2012, 13:49</div></div><div class="posttext">If there was a maximum length of 90 characters I'm sure you would have heard about it already, so no that is not your problem. Is it perhaps because you are running on Windows x64 and you haven't disabled registry redirection with SetRegView 64?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">29th March 2012, 13:58</div></div><div class="posttext">Thanks for your quick reply.<br />
<br />
All my test computers are 32bit, so that can't be the problem.<br />
I tried it so far on W7, Vista, and XP (all 32bit). - None seem to work.<br />
<br />
Thanks for the help,<br />
Ruud</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">29th March 2012, 14:09</div></div><div class="posttext">Here is the full code, I'm currently using.. Maybe I am missing something (but then the others shouldn't work either, right?)<br />
<br />
<br />
 ; --- MUI 1.66 compatible<br />
!include &quot;MUI.nsh&quot;<br />
<br />
; ---  General Information<br />
Name &quot;App Name&quot;<br />
BrandingText &quot;App Branding Text&quot;<br />
OutFile &quot;..\OutputFile.exe&quot;<br />
InstallDir &quot;$TEMP\Folder&quot;<br />
<br />
; --- Define images and include pages<br />
!define MUI_ABORTWARNING<br />
!define MUI_WELCOMEFINISHPAGE_BITMAP &quot;USB.bmp&quot;<br />
!define MUI_HEADERIMAGE<br />
!define MUI_HEADERIMAGE_BITMAP &quot;HEADER.bmp&quot;<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Dutch&quot;<br />
<br />
; --- Include Files<br />
Section -Files<br />
  SetOutPath &quot;$INSTDIR&quot;<br />
  File &quot;USB.bmp&quot;<br />
  File &quot;HEADER.bmp&quot;<br />
  anotherFile<br />
  anotherFile<br />
  etc..<br />
  ..<br />
SectionEnd<br />
<br />
; --- Check to see if already installed, then run<br />
Section -Run<br />
  ReadRegStr $R0 HKLM &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}&quot; &quot;InstallLocation&quot;<br />
IfFileExists $R0 +1 NotInstalled<br />
  MessageBox MB_OK &quot;Driver is already installed, installer will continue.&quot;<br />
  Quit<br />
<br />
NotInstalled:<br />
  MessageBox MB_OK &quot;Driver is not already installed, installer will continue.&quot;<br />
  Quit<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">29th March 2012, 15:27</div></div><div class="posttext">The limit is probably 1024, try running Process Monitor see what the issue is</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">29th March 2012, 15:48</div></div><div class="posttext">Thank you for your reply.<br />
<br />
This is what Process Monitor says:<br />
<br />
RegOpenKey<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
SUCCESS<br />
Desired Access: Read<br />
<br />
RegQueryValue<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}\InstallLocation<br />
SUCCESS<br />
Type: REG_SZ, Length: 98, Data: C:\Program Files\ProgramDir<br />
<br />
RegQueryValue<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}\InstallLocation<br />
SUCCESS<br />
Type: REG_SZ, Length: 98, Data: C:\Program Files\ProgramDir<br />
<br />
RegCloseKey<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
SUCCESS	<br />
<br />
CreateFile	C:\Program Files\ProgramDir<br />
SUCCESS<br />
Desired Access: Read Data/List Directory, Synchronize, Disposition: Open, Options: Directory, Synchronous IO Non-Alert, Attributes: n/a, ShareMode: Read, Write, Delete, AllocationSize: n/a, OpenResult: Opened<br />
<br />
CloseFile	C:\Program Files\ProgramDir<br />
SUCCESS	<br />
<br />
<br />
Then it continue with a lot of keyboard layouts..<br />
<br />
So it seems like it actually does recognize / read the key.. But somehow my program does not recognize it?<br />
<br />
Edit01:<br />
Btw I changed the real program directory to ProgramDir. Thats why it shows &quot;length: 98&quot;, its the length of the orignal program dir.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">29th March 2012, 17:36</div></div><div class="posttext">Check the read value with a MessageBox.<br />
<br />
Edit: Is there a reason you call Quit in both cases? Is that on purpose?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">29th March 2012, 17:43</div></div><div class="posttext">The registry entry holds the name of the directory so you need to check that the directory exists:<br />
<br />
IfFileExists &quot;$R0\*.*&quot; +1 NotInstalled<br />
<br />
or else check that a particular file exists in that directory<br />
<br />
IfFileExists &quot;$R0\somefile.exe&quot; +1 NotInstalled</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">30th March 2012, 08:56</div></div><div class="posttext">Thank you guys for all the help.<br />
Thank you pengyou, that seems to do the trick.<br />
<br />
<br />
Is there a reason you call Quit in both cases? Is that on purpose?<br />
<br />
<br />
Currently this how my code will look. I used the message-boxes to test if the function works, now I substituted them to run an .exe<br />
<br />
; --- Check to see if already installed<br />
Section -Run<br />
  ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48} InstallLocation<br />
IfFileExists &quot;$R0\*.*&quot; +1 NotInstalled<br />
  ExecWait &quot;$INSTDIR\InstallAll\Setup.exe&quot;<br />
  SetAutoClose true<br />
  Quit<br />
<br />
NotInstalled:<br />
  ExecWait &quot;$INSTDIR\install.exe&quot;<br />
  SetAutoClose true<br />
  Quit<br />
SectionEnd<br />
<br />
I tested it without calling &quot;Quit&quot;, but then the code automatically continues to NotInstalled.<br />
Installer detects software is already installed.<br />
Starts running InstallAll\Setup.exe <br />
InstallAll\Setup.exe is finished<br />
Automatically continue and start running NotInstalled (thus running install.exe).<br />
<br />
But all I need now is, if already installed run programA.. if not installed run programB.<br />
The docs doesn't say &quot;Quit&quot; is needed, so this issue might occur due to my lack of experience with NSIS. Am I missing something?<br />
<br />
Thanks,<br />
Ruud</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th March 2012, 11:55</div></div><div class="posttext">If you need to Quit your installation after then that is fine. You could also just use LogicLib:${If} ${FileExists} $R0\*.*<br />
...<br />
${Else}<br />
...<br />
${EndIf}<br />
SetAutoClose true<br />
QuitStu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">30th March 2012, 16:02</div></div><div class="posttext">Hi guys...<br />
Thanks for all the help, but I might have replied a bit to early.<br />
<br />
It is still not working probably, the following is going on:<br />
<br />
If using:<br />
${If} ${FileExists} $R0\*.*<br />
or<br />
IfFileExists &quot;$R0\*.*&quot; +1 NotInstalled<br />
It always runs programB (the program that runs when nothing is detected)<br />
<br />
If using:<br />
${If} ${FileExists} $R0<br />
or<br />
IfFileExists &quot;$R0&quot; +1 NotInstalled<br />
It always runs programA (the program that runs when something is detected)<br />
<br />
Currently my code looks like this (Thanks to the suggestion of Afrow UK)<br />
; --- Check to see if already installed<br />
Section -Run<br />
  ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48} InstallLocation<br />
${If} ${FileExists} $R0\*.*<br />
  ExecWait &quot;$INSTDIR\programA\Setup.exe&quot;<br />
${Else}<br />
  ExecWait &quot;$INSTDIR\programB\install.exe&quot;<br />
${EndIf}<br />
SetAutoClose true<br />
Quit<br />
SectionEnd<br />
<br />
<br />
Maybe I should go for reading a different registry entry? I tried &quot;UninstallString&quot;, which generates similair results.<br />
<br />
Thanks,<br />
Ruud</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th March 2012, 17:48</div></div><div class="posttext">What is the stored value?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">2nd April 2012, 10:15</div></div><div class="posttext">Thanks for your help Afrow UK.<br />
<br />
Here is a screen of the whole register:<br />
http://www.uploadup.com/dt-4W8F.jpg (http://www.uploadup.com/pt-4W8F.html)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">2nd April 2012, 10:20</div></div><div class="posttext">I submitted a post a few seconds ago with a screen of the register, but this one has to be moderated so here is a quick overview:<br />
<br />
DisplayName --- REG_SZ --- 32bit Driver Install<br />
InstallLocation --- REG_SZ --- C:\Program Files\ .. <br />
InstallSource --- REG_SZ --- E:\Autoinstall\..<br />
UninstallString --- REG_EXPAND_SZ --- MsiExec.exe /I..<br />
<br />
Again when using &quot;$R0\*.*&quot; or using &quot;$R0&quot; it claims always to be installed (or not installed).<br />
<br />
I added a function to check if its 32 or 64 bit, (which seems to properly function - not tested on 64bit yet), here is the full code:<br />
<br />
; --- Install to the correct directory on 32 bit or 64 bit machines. <br />
Section -Run<br />
IfFileExists $WINDIR\SYSWOW64\*.* Is64bit Is32bit<br />
Is32bit:<br />
     MessageBox MB_OK  &quot;32 bit&quot;<br />
     SetRegView 32<br />
     GOTO Installation32Bit<br />
<br />
Is64bit:<br />
     MessageBox MB_OK  &quot;64 bit&quot;<br />
     SetRegView 64<br />
     GOTO Installation64Bit<br />
<br />
; --- Check to see if already installed, then run install.<br />
Installation32Bit:<br />
     ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{32bit} UninstallString<br />
     IfFileExists &quot;$R0\*.*&quot; Is32Installed Is32NotInstalled<br />
	Is32NotInstalled:<br />
		MessageBox MB_OK  &quot;Not Installed&quot;<br />
		ExecWait &quot;$INSTDIR\SoftwareA\install.exe&quot;<br />
		SetAutoClose true<br />
		GOTO End32Bitvs64BitCheck<br />
	Is32Installed:<br />
		MessageBox MB_OK  &quot;Installed&quot;<br />
		ExecWait &quot;$INSTDIR\SoftwareB\Setup.exe&quot;<br />
		SetAutoClose true<br />
		GOTO End32Bitvs64BitCheck<br />
<br />
Installation64Bit:<br />
     ReadRegStr $R1 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{64bit} UninstallString<br />
     IfFileExists &quot;$R1\*.*&quot; Is64Installed Is64NotInstalled<br />
	Is64NotInstalled:<br />
		MessageBox MB_OK  &quot;Not Installed&quot;<br />
		ExecWait &quot;$INSTDIR\SoftwareA\install.exe&quot;<br />
		SetAutoClose true<br />
		GOTO End32Bitvs64BitCheck<br />
	Is64Installed:<br />
		MessageBox MB_OK  &quot;Installed&quot;<br />
		ExecWait &quot;$INSTDIR\SoftwareB\Setup.exe&quot;<br />
		SetAutoClose true<br />
		GOTO End32Bitvs64BitCheck<br />
<br />
; --- When finished quit.<br />
End32Bitvs64BitCheck:<br />
     Quit<br />
SectionEnd<br />
<br />
The code above always claims that the softare is installed.<br />
UninstallString or InstallLocation generate same, incorrect, results (both using &quot;$R0\*.*&quot; or using &quot;$R0&quot;).<br />
<br />
Note:<br />
I changed the string in the above code for the registry-entry, so the post doesn't rip open the forum design. If needed, here they are:<br />
{32bit} = {BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
{64bit} = {51C64AFF-0180-47E0-A535-2D99EBC10F09}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">2nd April 2012, 12:17</div></div><div class="posttext">When I asked what the value was I meant what is the path stored. Put in a MessageBox to display the value of $R0. I didn't want a screenshot from the registry editor! Plus you have blanked out half the values so it's not much help to us anyway!<br />
<br />
As for 32/64 you should use the macro in x64.nsh (${If} ${RunningX64}). Also you need to use SetRegView 64 if the registry key isn't under Wow6432Node on 64-bit Windows (this has no effect/is ignored on 32-bit Windows).<br />
<br />
There are only two possible reasons that your code isn't working:<br />
1. The path is wrong<br />
2. The path has no read access<br />
<br />
Does the path end with a backstroke? Does it have any whitespace on the end? Can you open up cmd and cd to the directory it specifies?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">2nd April 2012, 12:39</div></div><div class="posttext">I only blanked out 4 values (the one with the line through it), the rest are all empty.<br />
<br />
Full path (direct copy-paste from the registry):<br />
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
<br />
$RO - doesn't print anything.<br />
But using the following it does work / does print something..<br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\ <br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Themes <br />
<br />
Using the following (doesn't matter what inside it) doesn't work..<br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\<br />
<br />
Thats why my initial quetion about path length.<br />
But it might be something with permissions; Do I need special permission to acces the Uninstall path? How can I check for read access?<br />
<br />
Reg-Values<br />
DisplayName --- REG_SZ --- Driver 32bit Driver Install<br />
InstallLocation --- REG_SZ --- C:\Program Files\Driver\<br />
InstallSource --- REG_SZ --- E:\Autoinstall\Driver\<br />
UninstallString --- REG_EXPAND_SZ --- MsiExec.exe /I{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
<br />
ProcessMonitor<br />
 -- When computer with program NOT installed<br />
<br />
RegOpenKey<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
NAME NOT FOUND<br />
Desired Access: Read<br />
<br />
<br />
 -- When computer with program installed<br />
<br />
RegOpenKey<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
SUCCESS<br />
Desired Access: Read<br />
<br />
RegQueryValue<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}\UninstallString<br />
SUCCESS<br />
Type: REG_EXPAND_SZ, Length: 106, Data: MsiExec.exe /I{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
<br />
RegQueryValue<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}\UninstallString	SUCCESS	Type: REG_EXPAND_SZ, Length: 106, Data: MsiExec.exe /I{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
<br />
RegCloseKey<br />
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{BF61699A-6D79-4A97-B879-7A890E5A9A48}<br />
SUCCESS	<br />
<br />
CreateFile	C:\Users\User\AppData\Local\Temp\Driver\x86\x86Inf\i386\MsiExec.exe \I{BF61699A-6D79-4A97-B879-7A890E5A9A48}\<br />
PATH NOT FOUND<br />
Desired Access: Read Data/List Directory, Synchronize, Disposition: Open, Options: Directory, Synchronous IO Non-Alert, Attributes: n/a, ShareMode: Read, Write, Delete, AllocationSize: n/a<br />
<br />
<br />
So it seems like it is working properly according to process monitor.<br />
But why does it try to create a file at the UnistallString? It only has to check if the value exist or not, right?<br />
<br />
EDIT01:<br />
 Can you open up cmd and cd to the directory it specifies?<br />
Haven't tried this, about to try it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MeRuud</div><div class="date">2nd April 2012, 13:19</div></div><div class="posttext">UPDATE - SOLVED<br />
So my findings conclude that in this case &quot;CreateFile&quot; is the issue.<br />
&quot;CreateFile&quot; seems to be creating a temp file to check if folder really exist.<br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\etc.. REGISTRYKEY<br />
     IfFileExists &quot;$R1\*.*&quot; Installed NotInstalled<br />
	NotInstalled:<br />
		MessageBox MB_OK  &quot;Not Installed&quot;<br />
		GOTO EndInstall<br />
	Installed:<br />
		MessageBox MB_OK  &quot;Installed&quot;<br />
		GOTO EndInstall<br />
The following happens when using &quot;InstallLocation:<br />
 1. It read the registry, trying to find the key you identified<br />
 2. It stores the value into a string<br />
 3. It reads the string<br />
 4.a Is there a value in the string? Yes continue 5a<br />
 4.b No value in string? Continue 5b<br />
 5.a. Create a temp file at location of string. <br />
     SUCCES! Go to &quot;Installed&quot;.<br />
 5.b. Create a temp file at C:/. <br />
     SUCCES! Go to &quot;Installed&quot;.<br />
The following happens when using &quot;UninstallString:<br />
 1. It read the registry, trying to find the key you identified<br />
 2. It stores the value into a string<br />
 3. It reads the string<br />
 4.a Is there a value in the string? Yes continue 5a<br />
 4.b No value in string? Continue 5b<br />
 5.a. Can't access temp folder, can't create a temp file. <br />
     FAIL! Go to &quot;NotInstalled&quot;<br />
 5.b. No file to access, can't create a temp file. <br />
     FAIL! Go to &quot;NotInstalled&quot;<br />
<br />
First it tries to find the path gathered from the registry string. Then it tries to create a temp file in that path. This seems to defeat the whole purpose of &quot;IfFileExist&quot;. (The fact that the folder exist doesn't necessarily mean that it should be accessible / wirable).<br />
<br />
I'm using the following code, which seems to be doing the trick:<br />
ReadRegStr $R0 HKLM SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\etc.. REGISTRYKEY<br />
	${If} $R0 == &quot;Value of REGISTRYKEY&quot;<br />
		MessageBox MB_OK  &quot;Program Installed&quot;<br />
		GOTO EndInstall<br />
	${Else}<br />
		MessageBox MB_OK  &quot;Program Not Installed&quot;<br />
		GOTO EndInstall<br />
	${EndIf}<br />
${EndIf}<br />
The following happens when using this:<br />
 1. It read the registry, trying to find the key you identified<br />
 2. It stores the value into a string<br />
 3. It reads the string<br />
 4.a Is string equal to required value? Yes<br />
     Display Box<br />
 4.b Is string equal to required value? No<br />
     Display Box<br />
<br />
I am not sure if this is the right way to do it, but it does work.<br />
This will not work if you don't know the value of they key, or the key is not static.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>