<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Key shortcuts for controls created using nsDialogs, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Key shortcuts for controls created using nsDialogs NSIS Discussion" />
	
	<title> Key shortcuts for controls created using nsDialogs [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Key shortcuts for controls created using nsDialogs</div>
<hr />
<div class="pda"><a href="t-284958.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=284958">Key shortcuts for controls created using nsDialogs</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bradharding</div><div class="date">14th January 2008, 11:02</div></div><div class="posttext">Hi,<br />
<br />
I have been trying to implement a key shortcut for the text of a checkbox control I have created using nsDialogs. This works fine by using an ampersand, eg. &quot;&amp;Open program.&quot; My problem is, though, I don't want the underlined character denoting the key shortcut to appear underlined until I press the ALT key, matching what happens with the back, next, finish buttons, and the controls on the standard pages. Can this behaviour be done programatically?<br />
<br />
Thanks in advance.<br />
<br />
Regards,<br />
Brad.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">14th January 2008, 11:35</div></div><div class="posttext">AFAIK, SPI_GETKEYBOARDCUES(or whatever its called) is system wide.<br />
<br />
adding a &amp; to the base example works fine on my machine <br />
<br />
http://img265.imageshack.us/img265/7427/kbdcuesoa4.png<br />
<br />
edit: works the same with checkboxes aswell</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bradharding</div><div class="date">14th January 2008, 22:23</div></div><div class="posttext">Thanks for your response, Anders!<br />
<br />
On further testing, I've found that it is not the text on checkbox controls that's the problem, but the text on link controls.<br />
Changing the &quot;hello&quot; label in the example you've tested to a link control and changing the text to &quot;&amp;hello&quot; produces what I've described. Any ideas?<br />
<br />
Thanks again,<br />
Brad.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">14th January 2008, 23:36</div></div><div class="posttext">the link control is a custom control, if you really feel this simple bug is important you can file a feature request or bug report<br />
<br />
i would guess the control would need to send the WM_QUERYUISTATE message to get the initial state, then listen for WM_CHANGEUISTATE messages</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">15th January 2008, 00:27</div></div><div class="posttext">as a work-around..<br />
you could create a button that listens to whatever key you're looking for (using aforementioned approach), hide that (off-dialog or using ShowWindow etc., and have that button's event call the same function the link would when clicked.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bradharding</div><div class="date">15th January 2008, 05:30</div></div><div class="posttext">Thanks for your help, both of you!<br />
<br />
As trivial as this little bug is, I have invested a lot of time and effort into the installer, perfecting every little aspect of it, (and the thing it installs), so I would like to see this fixed.<br />
<br />
I'll submit a bug report in a little while...<br />
<br />
Brad.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">15th January 2008, 10:55</div></div><div class="posttext">I submitted a patch, http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1871856&amp;group_id=22049&amp;atid=373087</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bradharding</div><div class="date">15th January 2008, 11:18</div></div><div class="posttext">Thanks very much, Anders! :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>