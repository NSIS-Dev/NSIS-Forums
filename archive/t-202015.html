<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CopyFiles from Website?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CopyFiles from Website? NSIS Discussion" />
	
	<title> CopyFiles from Website? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CopyFiles from Website?</div>
<hr />
<div class="pda"><a href="t-202015.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=202015">CopyFiles from Website?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">13th December 2004, 22:08</div></div><div class="posttext">Hello all, basically what I want to do is this:<br />
<br />
CopyFiles &quot;http://www.blabla.com/version.txt&quot; &quot;$TEMP&quot;<br />
<br />
I tried it, but it did not work.  Is this possible, or should check out that ftp plug in?  Basically I want to make a &quot;Version Checker&quot; for a software app I develop.  Once I get this version.txt, Iâ€™ll rename it to version.ini, and pull values out of it.  What do you think?  Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">13th December 2004, 22:42</div></div><div class="posttext">I was just playing around with that FTP dll, but then it occurred to me that many of my customers have ftp blocked by their firewall.  Is there a way I can transfer this file using http or web port 80?  Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">13th December 2004, 23:05</div></div><div class="posttext">Well i used Takhir's plugin (http://forums.winamp.com/showthread.php?s=&amp;threadid=198596&amp;highlight=dll), what do you all think about his, is it stable?  Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">13th December 2004, 23:48</div></div><div class="posttext">What's wrong with NSISdl? :/</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">14th December 2004, 06:06</div></div><div class="posttext">Originally posted by Lobo Lunar <br />
What's wrong with NSISdl? :/  <br />
<br />
Thanks Lobo, actually my only problem with NSISdl is that i did not know it existed.  But now i do, and its working very well, thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">14th December 2004, 16:46</div></div><div class="posttext">Ok, I now have 2 problems.  First, NSISdl was working perfectly at home, but now that i'm at work, its not getting past our proxy server, and giving me the error:<br />
<br />
Download failed: HTTP/1.1 407 Proxy Authentication Required ( The ISA Server requires authoriztion to fulfill the request.  Access to the Web Proxy service is denied. )<br />
<br />
So i'm back to using Takhir's Plugin (http://forums.winamp.com/showthread.php?s=&amp;threadid=198596&amp;highlight=dll), which looks like it may get by proxys a bit better then NSISdl.  My problem is now, that the .txt file that i'm trying to download off our website arrives on my desktop via my nsis script with the correct name, but when i open it, instead of it being the 3 line text file i made, it is the &quot;Page can not be displayed&quot; html code.:igor: <br />
<br />
Any thoughts?  I put the InetLoad.dll in my Plugins folder, and put the other files for Takhir's Plugin (InetLoad.cpp, InetLoad.dsp, InetLoad.dsw, InetLoad.rc, resource.h) in a new folder i made called .\NSIS\Contrib\InetLoad, that was my best guess based on other plugins.  Help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">14th December 2004, 18:39</div></div><div class="posttext">What says Internet Explorer about your link? Is URL correct? What code returns plug-in (OK)? Plug-in not creates any html pages, so text comes from Net, may be from proxy server. Can you test attached version?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">14th December 2004, 18:45</div></div><div class="posttext">Takhir, yes, the text file's contents are overwritten with the &quot;page can not be displayed&quot; message, and the following:<br />
<br />
HTTP 407 Proxy Authentication Required - The ISA Server requires authorization to fulfill the request. Access to the Web Proxy service is denied. (12209)<br />
Internet Security and Acceleration Server<br />
<br />
I'll just attatch the file after it is downloaded, but the text file on our website starts out with this in it:<br />
<br />
[Loans]<br />
CurLoans=GPLDMsr112204.txt<br />
[Deposits]<br />
[Mortgage]<br />
<br />
<br />
My code is this:<br />
<br />
InetLoad::load &quot;http://files.fipco.com/updates/gulfpak/GPversion.txt&quot; &quot;$EXEDIR\GPversion.txt&quot;<br />
<br />
  Pop $0<br />
  MessageBox MB_OK &quot;$0&quot;<br />
  StrCmp $0 &quot;OK&quot; dlok<br />
  MessageBox MB_OK|MB_ICONEXCLAMATION &quot;Download Error, click OK to abort installation&quot; /SD IDOK<br />
  Abort<br />
dlok:<br />
<br />
<br />
And i do get a return of &quot;OK&quot;.  Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">14th December 2004, 18:51</div></div><div class="posttext">With your new inetload.dll (above post), I now get a Proxy Error return for $0. :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">15th December 2004, 09:15</div></div><div class="posttext">Thanks, Jnum. Google shows few links for this situation, I'll try to understand what happens :(<br />
It looks like &quot;INTERNET_OPEN_TYPE_PRECONFIG (Retrieves the proxy or direct configuration from the registry)&quot; is not enougth..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th December 2004, 11:08</div></div><div class="posttext">I recommend you use Lobo Lunar's Internet plugin from http://www.lobo-lunar.com/nsis to check that the URL is valid or not already.<br />
<br />
Something like this:<br />
Internet::GetUrlCode &quot;hmd.hostileintent.org&quot; &quot;file.txt&quot; $0<br />
StrCmp $0 200 +3<br />
 MessageBox &quot;URL is broken!&quot;<br />
 Abort<br />
<br />
If you have dynamically changing URL's you can use this function (http://nsis.sourceforge.net/archive/nsisweb.php?page=659&amp;instances=0,11) to cut a URL into the correct segments for use with the plugin.<br />
I.e. http://www.web.com/files/file.ext =&gt; &quot;www.web.com&quot; &quot;files/file.ext&quot;<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>