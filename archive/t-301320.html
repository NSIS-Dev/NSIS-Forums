<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" New Plugin API, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  New Plugin API NSIS Discussion" />
	
	<title> New Plugin API [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  New Plugin API</div>
<hr />
<div class="pda"><a href="t-301320.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=301320">New Plugin API</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Speed78</div><div class="date">22nd December 2008, 18:15</div></div><div class="posttext">Hello,<br />
<br />
I just saw that the new release brings a modified plug-in api. IÂ´m the developer the Simple Service Plugin and the Simple Firewall Plugin which are written in Delphi. I check the Examples\Plugin Directory, but the delphi &quot;headers&quot; (NSIS.PAS) are not changed. So must I change this or should I change this? <br />
<br />
I tried to create a setup with my current versions of the plugin (old plugin api) and it seemed to be ok! Other plugins I used e.g. &quot;KillProc&quot; or &quot;GetVersion&quot; are running without any problems.<br />
<br />
What is the big change and what exactly should/must I do to rewrite the plugin?<br />
<br />
Kind regards<br />
<br />
Rainer<br />
<br />
BTW: Is there any newletter system to get infos about new releases?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">22nd December 2008, 18:20</div></div><div class="posttext">You don't HAVE to do anything, older plugins will continue to work just like they used to, but if you want to get rid of /NOUNLOAD and unloading problems, you could implement the new message callback (the delphi header has not been updated as you said, I don't think any of the devs use delphi)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Speed78</div><div class="date">22nd December 2008, 18:50</div></div><div class="posttext">What exactly are the unloading problems? Are plugins not unloaded after a plugin-function call? What is the default behaviour?<br />
<br />
Kind regards<br />
<br />
Rainer</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">22nd December 2008, 19:07</div></div><div class="posttext">some plugins need to stay loaded after the call returns, /NOUNLOAD does that, but when you do that you have to remember to call the plugin again without that flag so it does not stay in memory when nsis is going to delete $instdir</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>