<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Single-dialog Bootstrapper, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Single-dialog Bootstrapper NSIS Discussion" />
	
	<title> Single-dialog Bootstrapper [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Single-dialog Bootstrapper</div>
<hr />
<div class="pda"><a href="t-307461.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307461">Single-dialog Bootstrapper</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sp00nyG</div><div class="date">18th June 2009, 03:43</div></div><div class="posttext">Hi, I have a pretty straightforward need-- to utilize NSIS to act as a bootstrapper for an MSI I have authored using WiX.  (I chose NSIS because I have requirements that the generic Windows SDK bootstrapper cannot handle, and I don't have the knowledge to write my own bootstrapper from scratch.)<br />
<br />
Basically I need to do a series of registry, filesystem, IIS, etc checks on the destination system and take appropriate action if things are found or not found.  Then once that is done I have to run several 3rd party application installers-- Flash, Adobe Reader, etc.  Finally the bootstrapper will fire off &quot;msiexec,&quot; and my application's install takes over from there.<br />
<br />
This is all working like a charm.  However, the problem I am facing is on the UI side.  I would just like to have the user double-click setup.exe, and a single window appears with maybe a progress bar to indicate the status of the bootstrap process.  <br />
<br />
There isn't a need for a license dialog, a component selection dialog, or even a &quot;instfiles&quot; dialog since nothing is actually getting copied, in the sense of a typical installer.  <br />
<br />
I'm trying to figure out how to customize the UI to get what I need but I'm getting lost in a sea of InstallOptions, nsDialog, Modern UI, Ultra Modern UI, etc.  I have no idea which one I would use to achieve a single dialog install.<br />
<br />
Many thanks in advance for any pointers!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th June 2009, 18:49</div></div><div class="posttext">Just use an InstFiles page then with ShowInstDetails nevershow and AutoCloseWindow true set.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sp00nyG</div><div class="date">18th June 2009, 21:02</div></div><div class="posttext">Excellent, thanks!  This gets me a bit further-- now I no longer have the unnecesary dialogs. <br />
<br />
But-- a couple more questions.  <br />
<br />
1. How can I customize the progress text?  I'd like to be able to display &quot;Installing Adobe Reader...&quot; in the progress text instead of &quot;Executing C:\Docum~1\Admin~1\LocalSe~1\....&quot;<br />
2. How can I change the generic &quot;llama&quot; icon in the dialog and in the setup.exe icon?  <br />
<br />
I'm really really confused with regards to the Modern UI, Modern UI 2, InstallOptionsEx, nsDialogs, and how they all work with the &quot;core&quot; NSIS.  <br />
<br />
Thanks again!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">18th June 2009, 23:16</div></div><div class="posttext">1) SetDetailsPrint none + DetailPrint &quot;foo&quot;<br />
<br />
2) Icon</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th June 2009, 14:42</div></div><div class="posttext">2. Or if using MUI, !define MUI_ICON file.ico.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sp00nyG</div><div class="date">19th June 2009, 14:58</div></div><div class="posttext">If I do a &quot;SetDetailsPrint none + DetailPrint 'blah'&quot; then no text is shown above the progress bar.<br />
<br />
Also, it looks like the welcome page textbox is overlapping the bottom part of the dialog, covering the &quot;Nullsoft Install System&quot; text.  See attached screenshot, annotated.  I dont know how I can modify this.  I eventually want to change this text to my company's name, so this will be an issue.<br />
<br />
I am using MUI2, if that makes a difference.  <br />
<br />
Thanks again!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">19th June 2009, 15:22</div></div><div class="posttext">detailprint first, then setdetailprint none<br />
<br />
When the MUI is messed up like that you are probably using the macros in the wrong order or you forgot the language macro, check the samples</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sp00nyG</div><div class="date">19th June 2009, 17:22</div></div><div class="posttext">ahh ok I'm with you now... thanks!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>