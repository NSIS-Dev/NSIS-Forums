<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Get IP, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Get IP NSIS Discussion" />
	
	<title> Get IP [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Get IP</div>
<hr />
<div class="pda"><a href="t-74526.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=74526">Get IP</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">5th February 2002, 00:47</div></div><div class="posttext">well, i know this might be difficult. i was wondering if it is possible to get the machine's ip connected to the internet (not local ip). you might say that this is unnecessary since many people are on dialup, but the installer i'm working on is targeted for servers with 24/7 connection. so if there's a possibility to get the ip, please let me know!<br />
<br />
thanks in advance,<br />
<br />
jan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">8th February 2002, 13:25</div></div><div class="posttext">I'm pretty sure NSIS doesn't do anything like that, but you should be able to use NET.EXE or something.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bballer182</div><div class="date">8th February 2002, 16:47</div></div><div class="posttext">if it was a windows based sever with dos or dos support then you could use &quot;ipconfig&quot; or &quot;winipcfg&quot; then once you've got that then output to file or something. <br />
hope i helped.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">felfert</div><div class="date">8th February 2002, 17:00</div></div><div class="posttext">Please be more specific. _What_ IP?<br />
Not local but the IP &quot;coonected to the internet&quot;<br />
What the hell do you mean?<br />
<br />
Probably that:<br />
<br />
<br />
Machine--&gt;LAN---&gt;Router/Firewall+-&gt;INET<br />
                                ^<br />
                                |<br />
                       This one ?<br />
<br />
<br />
If yes, that's nearly impossible. Some router can be queried via snmp but the MIBS are different models. Probably traceroute with some postprocessing of it's output ..<br />
<br />
Or do you mean the default gateway?<br />
Thats simple, run ipconfig and parse it's<br />
output.<br />
<br />
Ciao<br />
 -Fritz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">8th February 2002, 17:37</div></div><div class="posttext">Originally posted by bballer182 <br />
if it was a windows based sever with dos or dos support then you could use &quot;ipconfig&quot; or &quot;winipcfg&quot; then once you've got that then output to file or something. <br />
hope i helped. <br />
<br />
i know how to find out my ip dude, but i want NSIS to do that.<br />
<br />
let's take my rig as example. i got to NICs in my machine, one for the lan (localhost), the other one is connected to the internet. although i know the ip, i'd like NSIS to query the ip connected to the internet and add it to the .ini of my installer's application.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">8th February 2002, 18:00</div></div><div class="posttext">You can write a simple plugin for NSIS in c++ to add the users ip address to a register in NSIS.  Then you can do whatever you want with the ip.  If you want some source code for this, let me know.<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bballer182</div><div class="date">9th February 2002, 04:57</div></div><div class="posttext">if it was a hop throught the machine then you could use trace route or &quot;tracert&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">9th February 2002, 19:44</div></div><div class="posttext">Originally posted by bballer182 <br />
if it was a hop throught the machine then you could use trace route or &quot;tracert&quot;. <br />
<br />
maybe re-read my post... my question was not for a command in windows but for a function within NSIS (guess why i posted it  HERE).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bballer182</div><div class="date">10th February 2002, 03:36</div></div><div class="posttext">sorry just trying to help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">felfert</div><div class="date">10th February 2002, 06:27</div></div><div class="posttext">Originally posted by killahbite <br />
<br />
<br />
maybe re-read my post... my question was not for a command in windows but for a function within NSIS (guess why i posted it  HERE). <br />
<br />
Maybe you misunderstood my (and other people's) answers, so here some more elaborated:<br />
<br />
Run ipconfig from within NSIS by using the ExecWait function of NSIS. Redirect its output to a temporary file. Then read that file by using the FileOpen/FileRead/FileClose functions and filter the lines for the desired value by using String functions. Of course, the filtering is not trivial with NSIS' limited string functions, (hint: use StrStr from the function examles as a start.)<br />
<br />
Or you can also use rainwater's approach with an external DLL (i would do that if i had you problem) but i expect, you don't want that, because otherwise you wouldn't have asked and started hacking away a DLL ;-)<br />
<br />
Ciao<br />
 -Fritz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bballer182</div><div class="date">10th February 2002, 22:27</div></div><div class="posttext">Originally posted by felfert <br />
<br />
<br />
Maybe you misunderstood my (and other people's) answers, so here some more elaborated:<br />
<br />
Run ipconfig from within NSIS by using the ExecWait function of NSIS. Redirect its output to a temporary file. Then read that file by using the FileOpen/FileRead/FileClose functions and filter the lines for the desired value by using String functions. Of course, the filtering is not trivial with NSIS' limited string functions, (hint: use StrStr from the function examles as a start.)<br />
<br />
Or you can also use rainwater's approach with an external DLL (i would do that if i had you problem) but i expect, you don't want that, because otherwise you wouldn't have asked and started hacking away a DLL ;-)<br />
<br />
Ciao<br />
 -Fritz <br />
<br />
<br />
thats exactly what i was talking about Fritz  thanx for the backup</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>