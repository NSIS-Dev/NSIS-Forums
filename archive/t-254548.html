<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to ask for a reboot after uninstall?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to ask for a reboot after uninstall? NSIS Discussion" />
	
	<title> How to ask for a reboot after uninstall? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to ask for a reboot after uninstall?</div>
<hr />
<div class="pda"><a href="t-254548.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=254548">How to ask for a reboot after uninstall?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pedroac</div><div class="date">1st September 2006, 03:23</div></div><div class="posttext">Hi <br />
<br />
I want to ask user for a reboot after uninstallation, and I am using: <br />
!define MUI_FINISHPAGE_TEXT_REBOOT &quot;AAA&quot;<br />
!define MUI_FINISHPAGE_TEXT_REBOOTNOW &quot;BBB&quot;<br />
!define MUI_FINISHPAGE_TEXT_REBOOTLATER &quot;CCC&quot;<br />
<br />
!insertmacro MUI_UNPAGE_FINISH<br />
<br />
Is there anything else I need to include in my script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">freebendy</div><div class="date">1st September 2006, 04:22</div></div><div class="posttext">use the &quot;reboot&quot; Instruction! i think that you should use &quot;reboot&quot; in the function the button call!<br />
i am a begginer:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pedroac</div><div class="date">1st September 2006, 05:01</div></div><div class="posttext">All I wanna do is present this dialog:<br />
http://nsis.sourceforge.net/Docs/Modern%20UI/images/screen2.png<br />
<br />
How do I do?<br />
I've searched the documentation and found nothing about it..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">freebendy</div><div class="date">1st September 2006, 06:34</div></div><div class="posttext">Are U using the .ini to make this finish page?<br />
if you are,you can define a callback fuction which the installation will call when leaving the page.<br />
with the code:<br />
!insertmacro MUI_INSTALLOPTIONS_READ $INI_VALUE &quot;*.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
    ${If} $INI_VALUE = 1<br />
           reboot<br />
    ${EndIf}<br />
<br />
in the function!<br />
try it and look is it OK?<br />
my English is poor!!I hope U can understand!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st September 2006, 09:59</div></div><div class="posttext">There's no need to edit the INI or to use Reboot manually. Simply set the reboot flag before the finish page shows. You can do that with SetRebootFlag or any of the /REBOOTOK enabled instructions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pedroac</div><div class="date">1st September 2006, 11:17</div></div><div class="posttext">Following kichick's advice, I am now using <br />
SetRebootFlag true <br />
in un.onInit and it works just fine!<br />
<br />
Thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">freebendy</div><div class="date">14th September 2006, 02:44</div></div><div class="posttext">I make a test!<br />
use :<br />
!define MUI_FINISHPAGE_TEXT_REBOOT  &quot;AAA&quot;<br />
!define MUI_FINISHPAGE_TEXT_REBOOTNOW  &quot;BBB&quot;<br />
!define MUI_FINISHPAGE_TEXT_REBOOTLATER  &quot;CCC&quot;<br />
!define MUI_FINISHPAGE_SHOWREADME &quot;$INSTDIR\AddressBook\LICENSE.txt&quot; ;è®¾ç½®å®‰è£…å®ŒæˆåŽæç¤ºçš„æ“ä½œ<br />
<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
<br />
but  there isn't any radiobotton as http://nsis.sourceforge.net/Docs/Mo...ges/screen2.png<br />
show? why ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">freebendy</div><div class="date">14th September 2006, 02:46</div></div><div class="posttext">and if i want to ask a reboot after installation!where i should <br />
lay the &quot;setrebootflag true&quot;?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th September 2006, 11:44</div></div><div class="posttext">If there aren't any buttons, it's because the reboot flag isn't set. To set it in the installation, you can use SetRebootFlag in .onInit or any section or function the installer executes.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>