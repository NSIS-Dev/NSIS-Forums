<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" possible bugs in 2.0b0, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  possible bugs in 2.0b0 NSIS Discussion" />
	
	<title> possible bugs in 2.0b0 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  possible bugs in 2.0b0</div>
<hr />
<div class="pda"><a href="t-117833.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=117833">possible bugs in 2.0b0</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pcristip</div><div class="date">14th December 2002, 10:08</div></div><div class="posttext">I think I may found some bugs, please tell me if someone else get these, or I'm doing something wrong:<br />
<br />
1. the branding text not correctly localized, i use something like<br />
<br />
    BrandingText /LANG=${LANG_ENGLISH} &quot;English text&quot;<br />
    BrandingText /LANG=${LANG_FRENCH} &quot;French text&quot;<br />
 <br />
what actually happens is that if I choose english, I get the english text but if I choose french I get the default text &quot;NullSoft Install System v2.0b0&quot;<br />
<br />
<br />
2. I get some strange warnings regarding ComponentText and UninstallText: &quot;specified multiple times, wasting space&quot;<br />
The script is well compiled, but I wanted to understand what's causing this.<br />
<br />
I know for sure that I only use each once in the whole script.<br />
So what gives ?<br />
<br />
The documentation even encourages the use of ComponentText if multiple sections are present.<br />
<br />
thx for any help<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RIV@NVX</div><div class="date">14th December 2002, 12:08</div></div><div class="posttext">1. Don't know.<br />
2. Look at ModernUI readme, it is explained there.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th December 2002, 14:42</div></div><div class="posttext">The readme should answer &quot;bug&quot; number one too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pcristip</div><div class="date">15th December 2002, 07:08</div></div><div class="posttext">Hmmm...<br />
<br />
<br />
<br />
It's seems that everything is in place, but I still can't find the problems :( . I'm pretty sure it's either something very obvious or something that has to do with the order in which in do things in the script (some NSIS voodoo :) ).<br />
<br />
The readme doesn't say anything specific to the problems that i encounter, so please be more specific.<br />
<br />
Here is how my script looks like<br />
<br />
!define MUI_PRODUCT &quot;Product name&quot;<br />
!define MUI_VERSION &quot;1.90&quot;<br />
<br />
!include &quot;${NSISDIR}\Contrib\Modern UI\System.nsh&quot;<br />
<br />
!define MUI_UI &quot;${NSISDIR}\Contrib\UIs\modern2.exe&quot; ;Select the modern ui version that has the description at bottom<br />
	<br />
!define MUI_WELCOMEPAGE<br />
!define MUI_LICENSEPAGE<br />
!define MUI_COMPONENTSPAGE<br />
!define MUI_DIRECTORYPAGE<br />
<br />
!define MUI_ABORTWARNING<br />
<br />
!define MUI_UNINSTALLER<br />
!define MUI_UNCONFIRMPAGE<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
<br />
OutFile &quot;Product v1.90.exe&quot;<br />
<br />
LicenseData /LANG=${LANG_ENGLISH} &quot;license.txt&quot;<br />
LicenseData /LANG=${LANG_FRENCH} &quot;license.txt&quot;<br />
<br />
BrandingText /LANG=${LANG_ENGLISH} &quot;Product version 1.90&quot;<br />
BrandingText /LANG=${LANG_FRENCH} &quot;Product version 1.90&quot;<br />
<br />
<br />
;string descriptions follow<br />
;...<br />
<br />
<br />
ComponentText /LANG=${LANG_ENGLISH} &quot;Something in english&quot;<br />
ComponentText /LANG=${LANG_FRENCH} &quot;Something in french&quot;<br />
<br />
InstType &quot;Full instalation&quot;<br />
<br />
InstallDir &quot;C:\${MUI_PRODUCT}&quot;<br />
XPStyle on<br />
<br />
<br />
!insertmacro MUI_SYSTEM<br />
<br />
<br />
;.... the sections and functions follow<br />
<br />
<br />
any help is appreciated<br />
<br />
Cheers,<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th December 2002, 12:48</div></div><div class="posttext">Please read it again (the Define interface settings part). You have to define MUI_BRANDINGTEXT etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pcristip</div><div class="date">15th December 2002, 13:59</div></div><div class="posttext">Joost,<br />
<br />
I'm a little confused here,<br />
<br />
why doesn't the MultiLanguage.nsi example (that you created :) )<br />
doesn't have no MUI_BRANDINGTEXT definitions ?<br />
I mean the readme says &quot;Define interface settings (optional)&quot;<br />
so it's not mandatory to declare it.<br />
<br />
And if I add BrandingText /LANG=.... to MultiLanguage.nsi<br />
then it displays correctly for both languages :confused: <br />
I'll try to see the exact difference between my script and MultiLanguage.nsi .<br />
<br />
Can you also tell me why do I get warnings for declaring ComponentText and UninstallText<br />
<br />
thx for your help,<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th December 2002, 14:43</div></div><div class="posttext">Again, do not use BrandingText etc. in Modern UI scripts.<br />
<br />
Optional means that that the Modern UI will use the default Modern UI values if you don't define them.<br />
<br />
So you should use:<br />
<br />
!define MUI_BRANDINGTEXT &quot;Your brandingtext&quot;<br />
<br />
BrandingText works when you put it after all Modern UI stuff, but it wastes space, because the Modern UI already sets it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pcristip</div><div class="date">15th December 2002, 16:50</div></div><div class="posttext">Ok,<br />
<br />
but how do I localize a branding text then ?<br />
I mean !define doesn't support this, does it ?<br />
<br />
and I got it to work properly in MultiLanguage.nsi<br />
if you add there 2 lines after the LicenseDate lines something like<br />
<br />
  BrandingText /LANG=${LANG_ENGLISH} &quot;English text&quot;<br />
  BrandingText /LANG=${LANG_FRENCH} &quot;French text&quot;<br />
<br />
the branding text is localized correctly.<br />
<br />
<br />
And it's not the branding text that causes the wasting space warnings is ComponentText.<br />
<br />
I'll keep looking, thx<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RIV@NVX</div><div class="date">15th December 2002, 17:27</div></div><div class="posttext">C:\Program Files\NSIS\Contrib\Modern UI\Readme.html<br />
!define MUI_BRANDINGTEXT /LANG=${LANG_ENGLISH}<br />
!define MUI_BRANDINGTEXT /LANG=${LANG_FRENCH}<br />
Should do it. Or should it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th December 2002, 18:44</div></div><div class="posttext">I'm sorry, there is a bug with multilanguage branding texts in the Modern UI. Will be fixed ASAP.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th December 2002, 21:46</div></div><div class="posttext">Download the updated Modern UI and define MUI_BRANDINGTEXT before the MUI_LANGUAGE macro's:<br />
<br />
!define MUI_BRANDINGTEXT &quot;English Installer&quot;<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
!define MUI_BRANDINGTEXT &quot;French Installer&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pcristip</div><div class="date">16th December 2002, 03:28</div></div><div class="posttext">Thanks Joost,<br />
<br />
It worked :up: <br />
<br />
<br />
to RIV@NVX:<br />
it doesn't work this way cause !define is much like C style #define<br />
you can only define simbols with no additional params<br />
actually i tried it myself in the beginning :D <br />
<br />
<br />
<br />
now I only have to see about the ComponentText and UninstallText warnings, BTW does anyone have an example of a Modern UI script that uses ComponentText and UninstallText and doesn't get any warnings ?<br />
<br />
for me even basic.nsi gets the warning if I add a ComponentText declaration<br />
<br />
Cheers,<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">16th December 2002, 13:59</div></div><div class="posttext">Same way (check the language files for the string names):<br />
<br />
!define MUI_INNERTEXT_COMPONENTS_TOP &quot;English txt&quot;<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
!define MUI_INNERTEXT_COMPONENTS_TOP &quot;French txt&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pcristip</div><div class="date">16th December 2002, 14:16</div></div><div class="posttext">thanks Joost,<br />
<br />
I think I have to see think in v2 way :)<br />
I was used to the old way of calling functions<br />
(in fact I'm porting from a nsis v1.x so it seemed<br />
faster to do the /LANG stuff)<br />
<br />
and I have to look more inside the language files,<br />
not only into the documentation,<br />
<br />
thx again,<br />
Chris</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>