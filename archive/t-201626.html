<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom Page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom Page NSIS Discussion" />
	
	<title> Custom Page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom Page</div>
<hr />
<div class="pda"><a href="t-201626.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=201626">Custom Page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bgosalci</div><div class="date">9th December 2004, 15:27</div></div><div class="posttext">I have successfully created a custom page where initially combobox is disabled. The user can enable the combobox by clicking the checkbox. It all works fine except when I return to that page the combobox is still disabled even if I have used the command !insertmacro MUI_INSTALLOPTIONS_WRITE to overwrite the disabled state.<br />
<br />
Here is the fragment of the code, could anyone tell me what is wrong?<br />
<br />
Function<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE_1)&quot; &quot;&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;info.ini&quot;<br />
  Pop $hwnd<br />
  !insertmacro MUI_INSTALLOPTIONS_SHOW<br />
FunctionEnd<br />
<br />
Function<br />
  ...<br />
  check_box:<br />
  !insertmacro MUI_INSTALLOPTIONS_READ $mycheckbox &quot;info.ini&quot; &quot;Field 7&quot; &quot;State&quot;<br />
  StrCmp $mycheckbox 1 enable disable<br />
  <br />
  enable:<br />
  GetDlgItem $dlgitem $hwnd 1204 ; PathRequest control (1200 + field 5 - 1)<br />
  EnableWindow $dlgitem $mycheckbox<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;info.ini&quot; &quot;Field 5&quot; &quot;State&quot; &quot;GROUP&quot;<br />
  Abort<br />
  <br />
  disable:<br />
  GetDlgItem $dlgitem $hwnd 1204 ; PathRequest control (1200 + field 5 - 1)<br />
  EnableWindow $dlgitem $mycheckbox<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;info.ini&quot; &quot;Field 5&quot; &quot;State&quot; &quot;GROUP|DISABLED| &quot;<br />
  Abort <br />
  ...<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th December 2004, 18:07</div></div><div class="posttext">The script seems OK. Can you attach a minimal complete example that shows this behavior?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bgosalci</div><div class="date">13th December 2004, 14:33</div></div><div class="posttext">Solved, the script was not ok as I was writing in the wrong section value:<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;info.ini&quot; &quot;Field 5&quot; &quot;State&quot; &quot;GROUP|DISABLED| &quot;<br />
<br />
I should have writen to <br />
<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;info.ini&quot; &quot;Field 5&quot; &quot;Flags&quot; &quot;GROUP|DISABLED| &quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>