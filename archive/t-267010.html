<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Limitations at filenames with multiple points?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Limitations at filenames with multiple points? NSIS Discussion" />
	
	<title> Limitations at filenames with multiple points? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Limitations at filenames with multiple points?</div>
<hr />
<div class="pda"><a href="t-267010.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=267010">Limitations at filenames with multiple points?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">3rd March 2007, 09:10</div></div><div class="posttext">NSIS 2.21<br />
<br />
I cant get managed filenames with several points in it.<br />
<br />
example: Firefox Setup 2.0.0.2 Final.ext<br />
<br />
writeini and fileopen creates Firefox Setup 2.0.0.ext and IfFileExists cannot handle that<br />
(the variable contains the correct name but i cant write it down)<br />
<br />
is that fixed in newer versions?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd March 2007, 10:58</div></div><div class="posttext">The following works perfectly fine for me.FileOpen $0 &quot;$TEMP\Firefox Setup 2.0.0.2 Final.ext&quot; wInclude an example of non-functional code.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">3rd March 2007, 16:04</div></div><div class="posttext">thx i have the old code...<br />
<br />
Function nisp_save<br />
  ;save config file<br />
  StrCpy $R9 &quot;Firefox Setup 2.0.0.2 Final&quot; ;input from dialog plugin<br />
  StrCpy $PROJECT $R9<br />
  messagebox mb_ok &quot;'$PROJECT'&quot;<br />
  IfFileExists $PROJECT nisp_save01<br />
    ${GetBaseName} $R9 $PROJECT<br />
    Push $R9<br />
      Call GetParent<br />
    Pop $R9<br />
    StrCpy $PROJECT &quot;$R9\$PROJECT.nsp&quot;<br />
  nisp_save01:<br />
  Delete $PROJECT<br />
  ;write content<br />
  WriteINIStr $PROJECT nisp dummy   &quot;sometext<br />
FunctionEnd<br />
<br />
i think it was my bad with the combination of GetBaseName.<br />
the new code work a bit different and proper well.<br />
<br />
ok, after sitting 6 hours on 1500 lines code with squared eyes...<br />
i should split with include...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">12th March 2007, 21:05</div></div><div class="posttext">warming up that question...<br />
i tried again for simplifyiing my code again, still no go with writeini instead fileopen/firewrite<br />
<br />
does not work<br />
  StrCpy $PROJECT &quot;$PROJECT.nsp&quot;<br />
  Delete $PROJECT<br />
<br />
  ;write content<br />
  WriteINIStr $PROJECT section entry $VARIABLE<br />
<br />
works:<br />
  StrCpy $PROJECT &quot;$PROJECT.nsp&quot;<br />
  Delete $PROJECT<br />
  ;write content<br />
  Call settings_save2<br />
  Return<br />
FunctionEnd<br />
<br />
<br />
Function settings_save2<br />
  ;write content<br />
  FileOpen  $4 $PROJECT w<br />
  FileWrite $4 &quot;[section]&quot;<br />
   FileWriteByte $4 &quot;13&quot;<br />
   FileWriteByte $4 &quot;10&quot;<br />
  FileWrite $4 &quot;entry=$VARIABLE&quot;<br />
   FileWriteByte $4 &quot;13&quot;<br />
   FileWriteByte $4 &quot;10&quot;<br />
  FileClose $4<br />
FunctionEnd<br />
<br />
project name: firefox-2.0.0.3.de.win32.installer_rc1.brummel<br />
<br />
the code that not works even rejects a name like &quot;firefox-2.0.0.3.de&quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>