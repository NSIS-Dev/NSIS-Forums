<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MakensisW Wrapper Update, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MakensisW Wrapper Update NSIS Discussion" />
	
	<title> MakensisW Wrapper Update [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MakensisW Wrapper Update</div>
<hr />
<div class="pda"><a href="t-73724.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=73724">MakensisW Wrapper Update</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">28th January 2002, 22:22</div></div><div class="posttext">I've updated makensisw again (v0.6).  You can get the source here (http://prdownloads.sourceforge.net/nsisext/makensisw-0.6-source.zip).        Just extract the zip to your NSIS contrib directory (it will make a 'makensisw' directory).  Most of the changes are minor changes:<br />
<br />
 - print correct usage if unable to execute compiler<br />
 - removed mingw warnings<br />
 - set title/branding before errors<br />
 - some docs changes<br />
 - Added Edit|Edit Script function<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">felfert</div><div class="date">29th January 2002, 00:02</div></div><div class="posttext">Hi, Rob.<br />
<br />
There's a design flaw with the edit feature:<br />
The g_input_script variable is set after compilation. At this time the Text &quot;Processing script...&quot; might already be lost in the log buffer and thus no editing is possible. (My scripts here usually produce compiler output far beyond 32k).<br />
<br />
I've corrected that (moved the check from EnableItems into LogMessage) and while i've been on it, added code for window-resizing as well as save/restore of window state on exit/startup.<br />
<br />
I've attached patches for both issues.<br />
 -Fritz<br />
<br />
PS: If you prefer a complete zip arch, drop me a mail.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">29th January 2002, 00:49</div></div><div class="posttext">Good call.  I'll add the fix for the edit script and post it soon.  The only thing i changed was i didnt check for the script once it was found.<br />
<br />
I look at the resize code (it may not make it in the next release).<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">29th January 2002, 05:47</div></div><div class="posttext">I've updated makensisw with your changes.  I had to make a few resize changes to your patch in order for everything to line up correctly.  I also fixed the enabling of some menuitems that shouldnt have been.  Here's the changes:<br />
<br />
 - Edit Script should now work for output&gt;32k<br />
 - Added resize support (thanks to felfert)<br />
 - Added window position saving (thanks to felfert)<br />
 - Disable some items when exec of makensis failed<br />
<br />
Download here (http://prdownloads.sourceforge.net/nsisext/makensisw-0.7-source.zip)<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">felfert</div><div class="date">29th January 2002, 12:10</div></div><div class="posttext">Cool! :) Works great. ... and thanks for the credits.<br />
<br />
Ciao<br />
 -Fritz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bcheck</div><div class="date">29th January 2002, 16:54</div></div><div class="posttext">how about enforcing a min size to avoid jerks like me from having an ugly window:<br />
<br />
		case WM_GETMINMAXINFO:<br />
		{<br />
			((MINMAXINFO*)lParam)-&gt;ptMinTrackSize.x=350;<br />
			((MINMAXINFO*)lParam)-&gt;ptMinTrackSize.y=175;<br />
		}<br />
		// fall thru<br />
		case WM_ENTERSIZEMOVE:<br />
		{<br />
			GetClientRect(g_hwnd, &amp;resizeRect);<br />
			return TRUE;<br />
		}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">29th January 2002, 17:16</div></div><div class="posttext">I guess that is pretty ugly.  No problem, I'll add it and it will be in the next release.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">29th January 2002, 19:03</div></div><div class="posttext">As usual you can find the updated source here (http://prdownloads.sourceforge.net/nsisext/makensisw-0.8-source.zip).  The latest version has the windows contraints fix.<br />
<br />
Rob</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>