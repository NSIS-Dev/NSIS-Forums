<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" about KillProcDLL::KillProc, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  about KillProcDLL::KillProc NSIS Discussion" />
	
	<title> about KillProcDLL::KillProc [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  about KillProcDLL::KillProc</div>
<hr />
<div class="pda"><a href="t-272963.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=272963">about KillProcDLL::KillProc</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">51819</div><div class="date">17th June 2007, 08:30</div></div><div class="posttext">I have tried to use killproc to kill all processes with a name. Inevitably, it kills only one of them with that name. How can I make it kill them all? <br />
<br />
Examples:my PC is running 4 programs. I want to use &quot;KillProcDLL::KillProc&quot; to kill all them,when i install/Uninstall.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th June 2007, 09:16</div></div><div class="posttext">Perhaps it would be better to use this plugin:<br />
http://nsis.sourceforge.net/wiki/Processes_plug-in<br />
Use the FindProcess function in a loop with KillProcess.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">51819</div><div class="date">17th June 2007, 09:58</div></div><div class="posttext">Originally posted by Afrow UK <br />
Perhaps it would be better to use this plugin:<br />
http://nsis.sourceforge.net/wiki/Processes_plug-in<br />
Use the FindProcess function in a loop with KillProcess.<br />
<br />
Stu  <br />
<br />
sorry sir. <br />
I don't konw how to write Use the FindProcess function in a loop with KillProcess.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th June 2007, 10:22</div></div><div class="posttext">loop:<br />
Processes::FindProcess &quot;process_name&quot; ;without &quot;.exe&quot;<br />
StrCmp $R0 1 0 done<br />
<br />
  Processes::KillProcess &quot;process_name&quot; ;without &quot;.exe&quot;<br />
  StrCmp $R0 1 loop<br />
<br />
    MessageBox MB_OKCANCEL|MB_ICONEXCLAMATION &quot;process_name could not be closed.$\r$\nTry again?&quot; IDOK loop<br />
    Abort<br />
<br />
done:<br />
<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">51819</div><div class="date">17th June 2007, 11:46</div></div><div class="posttext">Originally posted by Afrow UK <br />
<br />
loop:<br />
Processes::FindProcess &quot;process_name&quot; ;without &quot;.exe&quot;<br />
StrCmp $R0 1 0 done<br />
<br />
  Processes::KillProcess &quot;process_name&quot; ;without &quot;.exe&quot;<br />
  StrCmp $R0 1 loop<br />
<br />
    MessageBox MB_OKCANCEL|MB_ICONEXCLAMATION &quot;process_name could not be closed.$\r$\nTry again?&quot; IDOK loop<br />
    Abort<br />
<br />
done:<br />
<br />
<br />
Stu <br />
<br />
Thank you sir</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">17th June 2007, 13:51</div></div><div class="posttext">BTW KillProcDLL also returns some value :) To kill them all just use it in loop with &quot;...check out $R0 to get the return value&quot;. Plug-in returns 0 if &quot;Process was successfully terminated&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th June 2007, 14:37</div></div><div class="posttext">Ah yes :)<br />
<br />
loop:<br />
KillProcDLL::KillProc &quot;process_name.exe&quot;<br />
StrCmp $R0 603 done<br />
StrCmp $R0 0 loop<br />
<br />
    MessageBox MB_OKCANCEL|MB_ICONEXCLAMATION &quot;process_name could not be closed.$\r$\nTry again?&quot; IDOK loop<br />
    Abort<br />
<br />
done:<br />
<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vc6</div><div class="date">12th July 2007, 03:26</div></div><div class="posttext">Hmmm... I was looking for a solution to a similar problem (killing a process before uninstalling (deleting) its .exe) and I luckily found this thread.<br />
<br />
However, I am somewhat confused by the code you posted here:<br />
<br />
First, the readme.txt that accompanies that plugin demonstrates getting the return code by first popping $R0:<br />
<br />
  Processes::KillProcess &quot;process_name&quot;<br />
  Pop $R0<br />
<br />
  StrCmp $R0 &quot;1&quot; dead_meat why_wont_you_die<br />
	<br />
  dead_meat:<br />
     ...<br />
	<br />
  why_wont_you_die:<br />
    ...<br />
<br />
However, I tested the code with using the statement Pop $R0 and it seems to work, too. Why? Which is more correct?<br />
<br />
Thanks,<br />
Victor</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th July 2007, 12:16</div></div><div class="posttext">My code is wrong. You need to Pop $R0 with Processes, but KillProcDll simply puts its output into $R0 (without using pushstring internally).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">24th July 2008, 19:38</div></div><div class="posttext">I have an issue where I need to launch an *.exe but need to kill the running process first.<br />
<br />
The issue is the timing. Sometimes it takes a few sections to kill the running process and the *.exe gets launched from within the script (while the process has not been killed).<br />
<br />
Further, I need to launch the *.exe silently. Using a loop to kill the process is not feasible for this situation (Iâ€™m concerned about a condition failing and my installation getting stuck in a loop â€“ all silently). Is there an alternative? Something similar to ExecWait (where the script would wait to execute the next line until the process has been killed). <br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">24th July 2008, 19:45</div></div><div class="posttext">You could try the &quot;KillProc&quot; plugin instead of &quot;KillProcDLL&quot; here:<br />
http://nsis.sourceforge.net/KillProc_plug-in<br />
<br />
It should be able to kill 'em all http://www.airborneranger.com/forums/style_emoticons/dark/headbang.gif</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">25th July 2008, 02:07</div></div><div class="posttext">This seems like a good plugin, something I was trying to write. <br />
I will give it a try in a day or so. Thanks for the pointer!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">25th July 2008, 02:11</div></div><div class="posttext">Originally posted by zanz <br />
This seems like a good plugin, something I was trying to write. <br />
I will give it a try in a day or so. Thanks for the pointer!  <br />
<br />
Be aware: This was tested on WinXP only, never tested it on Vista...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>