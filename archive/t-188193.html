<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSISdl again..., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSISdl again... NSIS Discussion" />
	
	<title> NSISdl again... [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSISdl again...</div>
<hr />
<div class="pda"><a href="t-188193.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=188193">NSISdl again...</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">29th July 2004, 13:32</div></div><div class="posttext">Is there a way to pass username\pass info to NSISdl so it can authenticate  on a server?If not this would be a handy feature.This seems like it should be a basic feature.<br />
<br />
the usernamepassword@blahblah<br />
<br />
mentioned in the docs doesnt work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mumuri</div><div class="date">29th July 2004, 14:20</div></div><div class="posttext">You can try to download via FTP.<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=186466</div></div><hr />


<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">29th July 2004, 14:22</div></div><div class="posttext">no im not downloading from an ftp..so this isnt an option.thxz though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th July 2004, 14:52</div></div><div class="posttext">mmm, did you try something like:<br />
<br />
StrCpy $0 &quot;user&quot;<br />
StrCpy $1 &quot;pwd&quot;<br />
<br />
NSISdl::download &quot;http://www.server.com/base.php?user=$0&amp;pass=$1&quot; ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">29th July 2004, 15:12</div></div><div class="posttext">yep thxz though.seems the plugin just cant handle it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">29th July 2004, 18:25</div></div><div class="posttext">has no one used this tool to download from a server that requires authorization? can ie cookie data be used somehow?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">j27lee</div><div class="date">30th July 2004, 00:44</div></div><div class="posttext">Here you go:<br />
<br />
use NSISdl to download to a file like so:<br />
   NSISdl::download /TIMEOUT=10000 &quot;www.someurl.com?u=$1&amp;p=$2&quot; &quot;$INSTDIR\result.txt&quot;<br />
<br />
   Pop $0<br />
   #MessageBox MB_OK &quot;result=$0&quot;<br />
    StrCmp $0 success success<br />
    SetDetailsView show<br />
    DetailPrint &quot;download failed: $0&quot;<br />
#       MessageBox MB_ICONEXCLAMATION|MB_OK &quot;download failed: $0&quot;<br />
       MessageBox MB_ICONEXCLAMATION|MB_OK &quot;The installer was not able to register/log you in.&quot;<br />
    Pop $1<br />
    Pop $0<br />
    GoTo finished<br />
    #Abort<br />
<br />
--then check the result by reading in the file, in this case result.txt  -&gt;<br />
<br />
  success:<br />
<br />
    FileOpen $2 &quot;$INSTDIR\result.txt&quot; &quot;r&quot;<br />
    FileRead $2 $1   ;read line one into $1<br />
    FileClose $2<br />
    Delete &quot;$INSTDIR\result.txt&quot;<br />
<br />
    IntCmp $1 0 finished +1 not_authenticated<br />
    MessageBox MB_ICONEXCLAMATION|MB_OK &quot;The username you have chosen is already registered.&quot;<br />
    Abort</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th July 2004, 12:04</div></div><div class="posttext">If you're using PHP, I seem to remember you need to specify the Content header length for it to work.<br />
<br />
This should help you:<br />
<br />
&lt;?php<br />
ob_start();<br />
?&gt;<br />
<br />
...output page contents as usual...<br />
<br />
&lt;?php<br />
# Make a Content-Length: header<br />
header('Content-Length: ' . ob_get_length());<br />
<br />
ob_end_flush();<br />
?&gt;<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">31st July 2004, 08:16</div></div><div class="posttext">ah thxz but &quot;content header length&quot; isnt the problem.I just need to be able to get it to authorize at the server...would be nice if cookie data could be used somehow...or if user\pass data could be sent in the url which it cant be it seems.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st July 2004, 11:19</div></div><div class="posttext">Downloading http://user:password@server/file works fine for me.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">31st July 2004, 12:29</div></div><div class="posttext">what if server requires something other than &quot;user&quot; &quot;pass&quot;.<br />
<br />
if it requires &quot;username&quot; password&quot; or some other VARIABLE then what?<br />
<br />
some versatallity would be nice to add maybe.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st July 2004, 12:34</div></div><div class="posttext">Huh? Do you have an example? I don't understand what you want.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">31st July 2004, 13:02</div></div><div class="posttext">my point is can we use IE cookie data since user/pass doesnt work on all servers...which it does not.Period.otherwise i wouldnt be here.ive used NSISdl for quite some time with success except for this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st July 2004, 13:16</div></div><div class="posttext">I still don't understand which kind of authorization you want. I need an example. I can't help you without knowing the authorization method you're looking for. From your first message it looked like you wanted what I've first suggested, but then you started talking about variables which seems to suggest you're looking for what Lobo, j27lee and Afrow suggested. Can you specify exactly what you're looking for? An example will be most helpful.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">31st July 2004, 13:37</div></div><div class="posttext">hmm i dont know how  i can make this clearer...user\pass doesnt work for me because the server im dl from doesnt request &quot;user&quot;\&quot;pass&quot;.It requires data availiable from cookies(which we seem to be avoiding)or other things such as &quot;blahblahmember&quot;/&quot;blahblahpass&quot; which i cant seem to send in a url.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st July 2004, 13:46</div></div><div class="posttext">OK, so it's cookies you want. NSISdl doesn't support cookies nor does it use Internet Explorer's cookies data.  NSISdl only uses proxy information from Internet Explorer's registry key.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">razor_x</div><div class="date">31st July 2004, 14:09</div></div><div class="posttext">ok well i guess ill just have to fix the plugin again(like i did for the content header length)thxz anyways..but just as a suggestion,the plugin should be more versatile.In it's current state it's very limited.1) you shouldnt get a failed dl just because the plugin cant get the size of the file for &quot;dialogs&quot;.<br />
2)It should be more versatile to dl from more than just the simplest server set-ups.NSIS is an awesome tool,too bad it's hobbled by a weak dl plugin.thxz anyways.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>