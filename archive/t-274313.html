<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" License Agreement Add Print Button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  License Agreement Add Print Button NSIS Discussion" />
	
	<title> License Agreement Add Print Button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  License Agreement Add Print Button</div>
<hr />
<div class="pda"><a href="t-274313.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274313">License Agreement Add Print Button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kallan06</div><div class="date">13th July 2007, 13:16</div></div><div class="posttext">Hello, <br />
<br />
i'm novice :(<br />
How can put a print button in the license page with EXPERIENCEUI .<br />
<br />
Thx all.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th July 2007, 17:25</div></div><div class="posttext">You'll have to add your own button to the license page with Resource Hacker (modify UIs\modern.exe).<br />
You will then have to use the ButtonEvent plug-in (http://nsis.sf.net/ButtonEvent_plug-in) to execute a function with the code at the bottom of this page:<br />
<br />
http://forums.winamp.com/showthread.php?threadid=228334<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sprinleo</div><div class="date">16th June 2009, 12:53</div></div><div class="posttext">Hi,<br />
<br />
i am new to NSIS. and trying to add a Print button on the license page, but i am not able to identify the License page.<br />
<br />
http://forums.winamp.com/showthread.php?threadid=228334<br />
<br />
referring to the above link, says that :<br />
[Field 5]<br />
Type=Button<br />
Flags=NOTIFY<br />
Text=&amp;Print License<br />
Left=240<br />
Right=-10<br />
Top=123		<br />
Bottom=137<br />
<br />
has to be added but where to add ....:confused: ??<br />
<br />
code snippet from setup.nsi is as below:<br />
...<br />
...<br />
Page custom InstallTypePageCreate InstallTypePageLeave<br />
!insertmacro MUI_PAGE_LICENSE &quot;$(license_txt)&quot;<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
...<br />
...<br />
<br />
i could also locate License.nsh which actually has MUI_PAGE_LICENSE defined, but nothing like the Button field code. i believe that Button field should be added in a License.ini file but this file non-existing at the moment.<br />
<br />
pls let me know in case you need any other info.<br />
kindly advise/help.<br />
<br />
many thanks <br />
Manu:up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th June 2009, 13:05</div></div><div class="posttext">The license page isn't made with InstallOptions! You need to add a button using Resource Hacker and then you can use the ButtonEvent plugin to assign a function to it. In there you would need to extract the license file and then ExecShell print file.rtf to print it.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sprinleo</div><div class="date">7th July 2009, 08:07</div></div><div class="posttext">Stu... sorry for coming back to you so late.<br />
forgive my ignorance, but how do i do add a button using resource hacker and use a ButtonEvent plugin thereafter ?<br />
could you please be more elaborate?<br />
<br />
many thanks<br />
Manohar</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th July 2009, 11:42</div></div><div class="posttext">Go download Resource Hacker, open up Contrib\UIs\modern.exe and add your button to either dialog 108 or 109 (you should be able to work that one out). Make sure you give it an Id unique to the dialog. Save as a new file in your installer script's folder and add !define MUI_UI file.exe to the script.<br />
<br />
The ButtonEvent plugin has a readme.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sprinleo</div><div class="date">8th July 2009, 11:21</div></div><div class="posttext">i have tried making the change using resource hacker to the NSIS-src\Examples\Modern UI\Basic.exe, added a button in there and compiled, saved as Basic_new.exe<br />
However, when i tried opening Basic_new.exe, popped up a error: &quot;Installer integrity check has failed. Common...Blah Blah&quot;<br />
<br />
clues?<br />
<br />
thanks for helping.<br />
ManU</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th July 2009, 12:37</div></div><div class="posttext">No you don't modify the built installer executable. Read my post again!<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sprinleo</div><div class="date">8th July 2009, 14:01</div></div><div class="posttext">I have done exactly the way explained above, this time changed \NSIS\Contrib\UIs\modern.exe and added button.<br />
The resulting .exe was saved as new.exe in the folder where setup.nsi is present. Below is the extract of setup.nsi:<br />
<br />
...<br />
...<br />
Page custom InstallTypePageCreate InstallTypePageLeave<br />
!define MUI_UI new.exe<br />
!define MUI_LICENSEPAGE_RADIOBUTTONS<br />
!define MUI_LICENSEPAGE_RADIOBUTTONS_TEXT_ACCEPT &quot;I Agree to the license agreement.&quot;<br />
!define MUI_LICENSEPAGE_RADIOBUTTONS_TEXT_DECLINE &quot;I do not Agree to the license agreement.&quot;<br />
!insertmacro MUI_PAGE_LICENSE &quot;$(license_txt)&quot;<br />
...<br />
...<br />
<br />
but with the above code, building it fails with message: <br />
!define: &quot;MUI_UI&quot; already defined!<br />
Error in script &quot;winst\setup.nsi&quot; on line 60 -- aborting creation process<br />
Done Adding Additional Store<br />
SignTool Error: ISignedCode::Sign returned error: 0x80070008<br />
        Not enough storage is available to process this command.<br />
SignTool Error: An error occurred while attempting to sign: setup.exe<br />
<br />
pls help.<br />
thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th July 2009, 15:29</div></div><div class="posttext">Well what does the error say?<br />
<br />
!define: &quot;MUI_UI&quot; already defined!<br />
Error in script &quot;winst\setup.nsi&quot; on line 60 -- aborting creation process<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sprinleo</div><div class="date">9th July 2009, 06:17</div></div><div class="posttext">correct, that's the exact error message...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sprinleo</div><div class="date">16th July 2009, 13:26</div></div><div class="posttext">Hi Stu, any luck with this problem? could you offer any expert advice ?<br />
<br />
cheers<br />
Manu..</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>