<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" [Page] Allow user to enter URL or choose default, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  [Page] Allow user to enter URL or choose default NSIS Discussion" />
	
	<title> [Page] Allow user to enter URL or choose default [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  [Page] Allow user to enter URL or choose default</div>
<hr />
<div class="pda"><a href="t-331871.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=331871">[Page] Allow user to enter URL or choose default</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Panarchy</div><div class="date">25th June 2011, 06:49</div></div><div class="posttext">Hello<br />
<br />
How do I create a page allowing user to enter in the URL to download a .zip archive?<br />
<br />
I want either a default URL where you can see the text (but user can edit) or a dropdown menu or radio buttons to choose between Default and Enter URL.<br />
<br />
I will be using the InetC plugin.<br />
<br />
How can I build this interface? (I will be using NSIS MUI)<br />
<br />
Thanks in advance for any suggestions,<br />
<br />
Chip D. Panarchy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">25th June 2011, 11:13</div></div><div class="posttext">You need to create a custom page with nsDialogs. The nsDialogs readme has an excellent tutorial:  http://nsis.sourceforge.net/Docs/nsDialogs/Readme.html</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Panarchy</div><div class="date">26th June 2011, 13:33</div></div><div class="posttext">Thanks, that method worked for the non-MUI interface, but I can't seem to get it working in MUI...<br />
<br />
Can someone take a look?<br />
<br />
Thanks,<br />
<br />
Chip D. Panarchy<br />
<br />
<br />
<br />
<br />
!include nsDialogs.nsh<br />
!include LogicLib.nsh<br />
<br />
!include &quot;MUI2.nsh&quot;<br />
<br />
Name &quot;BOOST Library Installer&quot;<br />
OutFile &quot;Boost installer.exe&quot;<br />
<br />
InstallDir &quot;$INSTDIR&quot;<br />
InstallDirRegKey HKCU &quot;Software\Boost&quot; &quot;&quot;<br />
<br />
RequestExecutionLevel user<br />
XPStyle on<br />
<br />
!define MUI_ABORTWARNING<br />
<br />
!insertmacro MUI_PAGE_LICENSE &quot;${NSISDIR}\Docs\GPL.txt&quot;<br />
!define MUI_COMPONENTSPAGE_TEXT_DESCRIPTION_TITLE &quot;Please enter boost download URL (zip)&quot;<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
!insertmacro MUI_UNPAGE_CONFIRM<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
<br />
#LangString PAGE_TITLE ${LANG_ENGLISH} &quot;Title&quot;<br />
#LangString PAGE_SUBTITLE ${LANG_ENGLISH} &quot;Subtitle&quot;<br />
<br />
#Function CustomPageFunction<br />
  #!insertmacro MUI_HEADER_TEXT $(PAGE_TITLE) $(PAGE_SUBTITLE)<br />
#FunctionEnd<br />
  <br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Var Text<br />
Var Text_State<br />
<br />
Section &quot;Dummy Section&quot; SecDummy<br />
	SetOutPath &quot;$INSTDIR&quot;<br />
	#download $Text $TEMP<br />
	#unzip $TEMP\boost_1_46_1.zip<br />
	#run bjam.exe, set prefix to $INSTDIR<br />
<br />
	WriteRegStr HKCU &quot;Software\Modern UI Test&quot; &quot;&quot; $INSTDIR<br />
	WriteUninstaller &quot;$INSTDIR\Uninstall.exe&quot;<br />
SectionEnd<br />
<br />
Page custom nsDialogsPage nsDialogsPageLeave<br />
<br />
Section &quot;Uninstall&quot;<br />
	Delete &quot;$INSTDIR\Uninstall.exe&quot;<br />
	RMDir &quot;$INSTDIR&quot;<br />
	DeleteRegKey /ifempty HKCU &quot;Software\Modern UI Test&quot;<br />
SectionEnd<br />
<br />
Function nsDialogsPage<br />
	StrCpy $Text_State &quot;http://sourceforge.net/projects/boost/files/boost/1.46.1/boost_1_46_1.zip/download&quot;<br />
<br />
	${NSD_CreateText} 0 13u 100% 12u $Text_State<br />
	Pop $Text<br />
<br />
	nsDialogs::Show<br />
FunctionEnd<br />
<br />
Function nsDialogsPageLeave<br />
	${NSD_GetText} $Text $Text_State<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">26th June 2011, 15:49</div></div><div class="posttext">1. You need to put the custom page command inbetween the other page macros.<br />
2. You don't create a custom page in your custom page function. Please follow the tutorial in the nsDialogs readme, as I pointed out before.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>