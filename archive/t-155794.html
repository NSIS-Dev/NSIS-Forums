<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Help, Nsis_max_strlen Too Small!!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Help, Nsis_max_strlen Too Small!! NSIS Discussion" />
	
	<title> Help, Nsis_max_strlen Too Small!! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Help, Nsis_max_strlen Too Small!!</div>
<hr />
<div class="pda"><a href="t-155794.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=155794">Help, Nsis_max_strlen Too Small!!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">10th November 2003, 22:27</div></div><div class="posttext">Can someone please tell me how I can increase the size of NSIS_MAX_STRLEN. the string I am loading into it is approx. twice the size of NSIS_MAX_STRLEN and I need it to be larger.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">10th November 2003, 22:40</div></div><div class="posttext">You will need to change that in the source code and recompile NSIS.  I think its the makensis that need recompiling.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">10th November 2003, 23:00</div></div><div class="posttext">I have made the changes to this line in config.h:<br />
<br />
FROM: #define NSIS_MAX_STRLEN 1024<br />
TO: #define NSIS_MAX_STRLEN 4096<br />
<br />
and recompiled in VC++ 6 with no change.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">11th November 2003, 00:02</div></div><div class="posttext">Whouldn't be easier to change it during runtime or make one?<br />
For example:<br />
<br />
#define NSIS_MAX_PATH 4093<br />
;...<br />
MessageBox MB_OK &quot;This is my string lenght ${NSIS_MAX_PATH}&quot;<br />
;..<br />
<br />
:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">11th November 2003, 00:41</div></div><div class="posttext">I thought that that was a predefined constant that could not be changed from the script.  <br />
<br />
Sorry but I think I got the wrong file you needed to recompile it should be MakeNSISw for more info you could read this topic (http://forums.winamp.com/showthread.php?s=&amp;threadid=142439) <br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th November 2003, 10:17</div></div><div class="posttext">You can always undefine NSIS_MAX_STRLEN and define it again in the script, but it will not change the size of the strings. You must recompile makensis in order to make the strings bigger.<br />
<br />
MakeNSISw is just a Windows wrapper. You don't have to recompile it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">11th November 2003, 14:41</div></div><div class="posttext">Sorry for not understanding but given the posts that are here so far there still is not a straight answer as to how to do this. As posted previously, I have already made changes to the source file and rebuilt the &quot;makenssi&quot; workspace ( all projects ) with Visual C++ 6.0 with no changes to the string size.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">11th November 2003, 15:00</div></div><div class="posttext">You must have do something wrong. Did you rebuild the exehead too?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">11th November 2003, 15:24</div></div><div class="posttext">Here is the screenshot of the process I use to compile. I also show the change made to the NSIS_MAX_STRLEN define. I choose to rebuild all projects within the workspace.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th November 2003, 15:31</div></div><div class="posttext">That is the correct process.<br />
<br />
How did you check that the size hasn't changed?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">11th November 2003, 15:42</div></div><div class="posttext">Soryy for all the WHoooo Haaaa!!!!!!! he he, I was doing &quot;copy details to clipboard&quot; option in the installer and noticed that there was no change but tried a sec. ago to just display to messagebox and everything seems to be there. I am not sure why there is a diffrence in the amount of data displayed but it seems to be working for me.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>