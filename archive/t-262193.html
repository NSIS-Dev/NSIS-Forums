<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" New to NSIS, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  New to NSIS NSIS Discussion" />
	
	<title> New to NSIS [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  New to NSIS</div>
<hr />
<div class="pda"><a href="t-262193.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=262193">New to NSIS</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">21st December 2006, 05:26</div></div><div class="posttext">I am brand new just discovered NSIS<br />
<br />
i want to make a installer (MUI)<br />
I know how to do some things but...<br />
<br />
I have no clue how to add files and put them in the install dir ($INSTDIR)when it installs<br />
:confused: <br />
<br />
i have already made the MUI I JUST NEED TO ADD THE FILES<br />
<br />
thx<br />
<br />
also when i am here <br />
I have made a mod for Cnc Generals Zero hour<br />
How do i make the installer installed into Directers that are there already (e.g.)<br />
<br />
When they select the Dir which will be <br />
C:\Program Files\EA Games\Command &amp; Conquer Generals Zero Hour<br />
<br />
i want some files instaled to <br />
C:\Program Files\EA Games\Command &amp; Conquer Generals Zero Hour\Data\INI<br />
<br />
How do i do this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">21st December 2006, 09:09</div></div><div class="posttext">Take a walk at wiki (http://nsis.sourceforge.net), pick up a development environment (http://nsis.sourceforge.net/Category:Development_Environments) that suits your needs, also discover there (http://nsis.sourceforge.net/Developer_Center) useful stuff like full working code examples (http://nsis.sourceforge.net/Category:Code_Examples) for instance, and script generators (http://nsis.sourceforge.net/Category:Related_Software) among others, and you're ready to go!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">21st December 2006, 10:58</div></div><div class="posttext">thx, i know how to add files but...<br />
how do i add a folder with the stuff in it?<br />
e.g. <br />
\My Documents\Zero Hour\CnC Zero HOur data\Data\INI<br />
<br />
The files in the folder INI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">21st December 2006, 11:04</div></div><div class="posttext">plz read about File Instruction (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.1)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">21st December 2006, 11:05</div></div><div class="posttext">i have been looking but havn't found it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">21st December 2006, 11:07</div></div><div class="posttext">cant you just tell me?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">21st December 2006, 11:21</div></div><div class="posttext">This wiki article (http://nsis.sourceforge.net/One_Installer_with_Different_Installation_Files_Each_Time) might help you.<br />
As for the File Instruction:<br />
4.9.1.5 File<br />
<br />
[/nonfatal] [/a] ([/r] [/x file|wildcard [...]] (file|wildcard) [...] | /oname=file.dat infile.dat)<br />
<br />
Adds file(s) to be extracted to the current output path ($OUTDIR).<br />
<br />
    * Note that the output file name is $OUTDIR\filename_portion_of_file.<br />
    * If the /oname=X switch is used, the output name becomes $OUTDIR\X. When using the /oname= switch, only one file can be specified, and the file name can contain variables (or a fully qualified path, e.g. $SYSDIR\whatever.dll). If the output name contains spaces, quote the entire parameter, including /oname, as shown in the examples below.<br />
    * Wildcards are supported.<br />
    * If the /r switch is used, matching files and directories are recursively searched for in subdirectories. If just one path segment is specified (e.g. File /r something), the current directory will be recursively searched. If more than one segment is specified (e.g. File /r something\*.*), the last path segment will be used as the matching condition and the rest for the directory to search recursively. If a directory name matches, all of its contents is added recursively. Directory structure is preserved.<br />
    * Use the /x switch to exclude files or directories.<br />
    * If the /a switch is used, the attributes of the file(s) added will be preserved.<br />
    * The File command sets the error flag if overwrite mode is set to 'try' and the file could not be overwritten, or if the overwrite mode is set to 'on' and the file could not be overwritten and the user selects ignore.<br />
    * If the /nonfatal switch is used and no files are found, a warning will be issued instead of an error.<br />
<br />
File something.exe<br />
File /a something.exe<br />
File *.exe<br />
File /r *.dat<br />
File /r data<br />
File /oname=$TEMP\temp.dat somefile.ext<br />
File &quot;/oname=$TEMP\name with spaces.dat&quot; somefile.ext<br />
File /nonfatal &quot;a file that might not exist&quot;<br />
File /r /x CVS myproject\*.*<br />
File /r /x *.res /x *.obj /x *.pch source\*.*<br />
<br />
Note: when using the /r switch, both matching directories and files will be searched. This is always done with or without the use of wildcards, even if the given path perfectly matches one directory. That means, the following directory structure:<br />
<br />
&lt;DIR&gt; something<br />
  file.dat<br />
  another.dat<br />
&lt;DIR&gt; dir<br />
  something<br />
  &lt;DIR&gt; dir2<br />
    file2.dat<br />
&lt;DIR&gt; another<br />
  &lt;DIR&gt; something<br />
    readme.txt<br />
<br />
with the following File usage:<br />
<br />
File /r something<br />
<br />
will match the directory named something on the root directory, the file named something in the directory named dir and the directory named something in the directory named another. To match only the directory named something on the root directory, use the following:<br />
<br />
File /r something\*.*<br />
<br />
When adding \*.*, it will be used as the matching condition and something will be used as the directory to search. When only something is specified, the current directory will be recursively searched for every and directory named something and another\something will be matched.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">21st December 2006, 20:55</div></div><div class="posttext">i dont get it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">21st December 2006, 21:28</div></div><div class="posttext">File /r 'D:\My Documents\Zero Hour\CnC Zero HOur data\Data\INI\*'<br />
to add all the files and subdirs under INI<br />
<br />
or<br />
<br />
File /r 'D:\My Documents\Zero Hour\CnC Zero HOur data\Data\INI'<br />
to add INI as parent and all the files and subdirs under INI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">22nd December 2006, 06:57</div></div><div class="posttext">Thx now do i make the unistaller unistall them?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">27th December 2006, 05:35</div></div><div class="posttext">how do i make the unistaller delete the files</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">27th December 2006, 05:49</div></div><div class="posttext">You could do it either by Rmdir /r $INSTDIR (risky!), or by creating an install.log that unistaller would read. Search the forum with install log keywords, to find out how you would achieve this method.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">27th December 2006, 23:26</div></div><div class="posttext">i would like the 2nd option,<br />
the first option sounds like i wont have a c:/ drive left<br />
<br />
How do i make the install log thing<br />
<br />
Thx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">28th December 2006, 04:09</div></div><div class="posttext">There is a ready solution at wiki http://nsis.sourceforge.net/Uninstall_only_installed_files</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">28th December 2006, 05:47</div></div><div class="posttext">I am sorry, but how do i do it on a MUI (Modern UI)<br />
<br />
In fact how do i do it, it contains no instructions, i can see</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spyder25000</div><div class="date">28th December 2006, 05:53</div></div><div class="posttext">I got an idea how about you make me a MUI installer <br />
(dont compile it PLZ!!!)<br />
(dont compiler it PLZ!!!)<br />
(dont compiler it PLZ!!!)<br />
<br />
It needs to have the INstaller insatller a: <br />
.txt to the install dir <br />
.jpg to the insatll dir<br />
<br />
and the unistaller delete them<br />
<br />
I will just look at the coding<br />
<br />
Is that okay?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">28th December 2006, 05:57</div></div><div class="posttext">The function is suitable for both MUI and classic UI.<br />
There are full instructions on this forum thread:<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=199750</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>