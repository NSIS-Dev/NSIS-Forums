<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Error in macro MUI_DESCRIPTION_TEXT on macroline 10, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Error in macro MUI_DESCRIPTION_TEXT on macroline 10 NSIS Discussion" />
	
	<title> Error in macro MUI_DESCRIPTION_TEXT on macroline 10 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Error in macro MUI_DESCRIPTION_TEXT on macroline 10</div>
<hr />
<div class="pda"><a href="t-289490.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=289490">Error in macro MUI_DESCRIPTION_TEXT on macroline 10</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">2nd April 2008, 13:24</div></div><div class="posttext">Hi all, <br />
<br />
i get the following error message when compiling:<br />
<br />
Error: label &quot;mui.description_2_done:&quot; already declared in function<br />
Error in macro MUI_DESCRIPTION_TEXT on macroline 10<br />
Error in script &quot;Z:\12_EclipseWorkspace\BW Setups\C7\NSIS Script\C7Setup.nsi&quot; on line 195 -- aborting creation process<br />
<br />
It complains about this line:<br />
<br />
    !insertmacro MUI_DESCRIPTION_TEXT ${SEC_OSDEPLOY_W2K} $(DESC_SEC_OSDEPLOY_W2K)<br />
<br />
i have a couple other such errors and started remarking those lines but now it gets to be a lot of them and actually i need them :)<br />
<br />
When i check the system.nsh the part NSIS complains about is this one:<br />
<br />
<br />
<br />
!macro MUI_DESCRIPTION_TEXT VAR TEXT<br />
<br />
  !verbose push<br />
  !verbose ${MUI_VERBOSE}<br />
<br />
  StrCmp $0 ${VAR} 0 mui.description_${VAR}_done<br />
    SendMessage $MUI_TEMP1 ${WM_SETTEXT} 0 &quot;STR:&quot;<br />
    EnableWindow $MUI_TEMP1 1<br />
    SendMessage $MUI_TEMP1 ${WM_SETTEXT} 0 &quot;STR:${TEXT}&quot;<br />
    Goto mui.description_done<br />
  mui.description_${VAR}_done:<br />
<br />
  !verbose pop<br />
<br />
!macroend<br />
<br />
<br />
Line 10 ist this one: <br />
<br />
mui.description_${VAR}_done:<br />
<br />
Any ideas where this comes from? Its not every &quot;!insertmacro MUI_DESCRIPTION_TEXT &quot; line but only some of them.<br />
<br />
To be honest i am confused, the spelling of the section descriptions is OK (copy&amp;paste), any ideas?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mauvecloud</div><div class="date">2nd April 2008, 14:00</div></div><div class="posttext">I think that means you're using the macro more than once with the same section ID. Can you move them into separate functions? Then you wouldn't get the label collision.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">2nd April 2008, 14:30</div></div><div class="posttext">I double checked on the SectionIDs but all are only in once. <br />
<br />
It happens when i add descriptions for the Uninstallation Sections, i just decided i will not need those :D for now.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>