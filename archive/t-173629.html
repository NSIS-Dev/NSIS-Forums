<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Search for files, any easier way?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Search for files, any easier way? NSIS Discussion" />
	
	<title> Search for files, any easier way? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Search for files, any easier way?</div>
<hr />
<div class="pda"><a href="t-173629.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=173629">Search for files, any easier way?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">17th March 2004, 00:46</div></div><div class="posttext">hi back again, before im going into 24 hours of reading in the forum, witch i have allready done :-), im having some difficulties implenting a search script, and not sure if you really have to make 2 pages of script to make this installer search for a file on any location on any drive letter possibel. so far i have this section i wanna work with:<br />
<br />
Function .onInit<br />
ReadRegStr $R0 HKLM &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\GhostRecon.exe&quot; &quot;path&quot;<br />
StrCmp $R0 &quot;&quot; NotPresent Present<br />
<br />
notpresent:<br />
StrCpy $INSTDIR &quot;$programfiles\Red Storm Entertainment\Ghost Recon\Mods\Navy SEALS_V2&quot;<br />
MessageBox MB_ICONQUESTION|MB_YESNO &quot;Couldent Find The Location Of [..\Ghost Recon\Mods], Want This Installer To Search For The Right Location?&quot; IDYES +2<br />
goto done<br />
goto search<br />
<br />
search:<br />
<br />
present:<br />
<br />
strcpy $instdir &quot;$R0\mods\Navy SEALS_V2&quot;<br />
goto done<br />
<br />
so what i have read to make a search was to enter this:<br />
<br />
ComponentText &quot;Check the drives where you want the installer to scan for Ghost Recon Directory.&quot; &quot;&quot; &quot;Select drives to scan:&quot;<br />
<br />
; One section to scan drive C<br />
Section &quot;Drive C:&quot;<br />
  ; put search root on stack, initialize stack counter<br />
  StrCpy $8 1<br />
  Push &quot;C:&quot;<br />
  ; start searching<br />
  Call FindFiles<br />
SectionEnd<br />
<br />
; One section to scan drive D<br />
Section &quot;Drive D:&quot;<br />
  ; put search root on stack, initialize stack counter<br />
  StrCpy $8 1<br />
  Push &quot;D:&quot;<br />
  ; start searching<br />
  Call FindFiles<br />
SectionEnd<br />
<br />
now here is my question, is it really meaning you have to make a section like above for every harddrive letter possible? since there is alot of harddrive letter possible since cc: dd: ee: is also possible :-).<br />
and when i wanted to make an goto the search section where the script should search for a file i would get an error that ComponentText cannot be inside a function, ok i moved it out, but look like the function .oninit and all the thing in there must not be seperated by no function stuff, hehe can it be done? and plz dont mind cut it out for me :-), since the stuff in the archives are not any good for me, there is to little info there, i dont get the whole picture. Well i almost dont get any of this scripting anyway :-(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">17th March 2004, 08:58</div></div><div class="posttext">You can also create a loop that checks all drives. The System plug-in allows you to detect which drives exist (see examples).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">17th March 2004, 12:44</div></div><div class="posttext">Ty Joost sounds great :-) well found a exampel, and can see i still need 2 pages of scripting to search for a file on any harddrive hehe. i guess thats just to find out what drive letter there is on the system :-( , so i still would know how to use the loop, since i dident find anything usefull there, can u give a link to an exampel written so i can understand it hehe. ty in advance, so far you have been most helpfull</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">17th March 2004, 15:24</div></div><div class="posttext">ok im totally lost how would i incorporate the search for drives and add that loop in the script so the user can select the drives to search in, and then nicely get that in the script where i have the function search. since i dont get any of that, when i tried to just put the script in the function .oninit before the rest in .oninit, i will get an error installer corrupted, invalid opcode, i dont know what an opcode is hehe.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>