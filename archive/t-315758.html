<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Torrent Patcher?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Torrent Patcher? NSIS Discussion" />
	
	<title> Torrent Patcher? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Torrent Patcher?</div>
<hr />
<div class="pda"><a href="t-315758.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=315758">Torrent Patcher?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Rein Masamuri</div><div class="date">27th December 2009, 09:14</div></div><div class="posttext">OK.  I'm aware of BattleTorrent but I'm a complete nub with NSIS.<br />
I have no idea where to even start with this. <br />
<br />
Bittorrent will be the ideal distribution for my program since we will be making small modifications to large files (i.e. they'll essentially just hashcheck their current files, and it will modify the ones that need to be updated).<br />
<br />
Can anybody help with a simple starting point on how to utilize bittorrent in NSIS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">27th December 2009, 09:36</div></div><div class="posttext">Bittorrent will be the ideal distribution for my program since we will be making small modifications to large files (i.e. they'll essentially just hashcheck their current files, and it will modify the ones that need to be updated). <br />
Are you really sure about this? BitTorrent pieces are always of a fixed size, so if you add even a single byte inbetween two others somewhere, all file data from that point on will have to be redownloaded because the piece hashes have changed. What you probably want is a diff patcher, not BitTorrent hashchecking.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rein Masamuri</div><div class="date">27th December 2009, 09:51</div></div><div class="posttext">Originally posted by MSG <br />
Are you really sure about this? BitTorrent pieces are always of a fixed size, so if you add even a single byte inbetween two others somewhere, all file data from that point on will have to be redownloaded because the piece hashes have changed. What you probably want is a diff patcher, not BitTorrent hashchecking.  <br />
A diff patcher sounds wonderful.<br />
I take it you'd have to download the diff file and use a diff patcher to make the modifications?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">27th December 2009, 10:35</div></div><div class="posttext">Originally posted by Rein Masamuri <br />
A diff patcher sounds wonderful.<br />
I take it you'd have to download the diff file and use a diff patcher to make the modifications?  <br />
Yeah, that sounds about right. One method would be to use the md5 plugin on a file and send the md5sum to the server, which then decides what diff file to send back to the installer. After download, the installer then patches the file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rein Masamuri</div><div class="date">27th December 2009, 11:47</div></div><div class="posttext">Originally posted by MSG <br />
Yeah, that sounds about right. One method would be to use the md5 plugin on a file and send the md5sum to the server, which then decides what diff file to send back to the installer. After download, the installer then patches the file.  <br />
That is way above my head I think, but thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">27th December 2009, 13:09</div></div><div class="posttext">Well diff patches only work from ONE file to ONE other file. If your software has v1.0, v1.1 and v1.5, then the 1.0-&gt;1.5 and 1.1-&gt;1.5 diff patches will be different.<br />
<br />
To deal with this, you'll have to either do incremental upgrades (first 1.0-&gt;1.1 and then 1.1-&gt;1.5), or keep diff patches for both possibilities. The method I described above would allow the installer to only download the diff patches it needs. If it sends the md5 checksums of the v1.1 files to the server, the server will know it needs to give the 1.1-&gt;1.5 diff patches. Then in the future when you create a v1.6, the server would return the 1.1-&gt;1.6 diff patches.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>