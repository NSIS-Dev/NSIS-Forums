<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" New Compression Results for NSIS ...., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  New Compression Results for NSIS .... NSIS Discussion" />
	
	<title> New Compression Results for NSIS .... [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  New Compression Results for NSIS ....</div>
<hr />
<div class="pda"><a href="t-85236.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=85236">New Compression Results for NSIS ....</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">19th April 2002, 05:40</div></div><div class="posttext">I decided to do some compression test after I had moved my whole Apache Test Webserver documents from one computer to another. That was a few months ago and now I have more files. Here are the results from a screen shot.<br />
<br />
1) The total amount of files ... it took me more than a year to create and gather these. (about 80% of them are text)<br />
<br />
http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/folder-properties.png <br />
<br />
2)Next I zipped them up using 7-zip (http://www.7-zip.org)(but using the .zip format)<br />
<br />
http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/ZIP-properties.png<br />
<br />
3) 7-zip (.7z) compression<br />
<br />
http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/7z-properties.png<br />
<br />
4) NSIS-zlib compression (with SetCompress force tag)<br />
<br />
http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/NSISreg-properties.png<br />
<br />
5) NSIS-Bzip2 compression (with SetCompress force tag)<br />
<br />
http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/NSISbz2-properties.png<br />
<br />
So there you go. You can determine who the Winner is ;) :D <br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">19th April 2002, 09:47</div></div><div class="posttext">Duane,<br />
<br />
to confirm your findings: I also noticed that bzip2 does extremely well when it has to compress a lot of files of the same structure, eg: all textfiles or all exe files. On the other hand, zlib can be better with more heterogeneous files.<br />
<br />
But this is no strict rule...<br />
<br />
Greetz,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">veekee</div><div class="date">19th April 2002, 17:51</div></div><div class="posttext">Hi, as i did not really know was bz2 was... now, i know !<br />
Although i translated the whole c++ files, the bz2 compilation is still with english messages ! Why ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">19th April 2002, 18:50</div></div><div class="posttext">Have you tried RAR compression or ACE? I'm guessing these two formats still beat bz2... bot not by much :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">19th April 2002, 19:15</div></div><div class="posttext">Originally posted by veekee <br />
Hi, as i did not really know was bz2 was... now, i know !<br />
Although i translated the whole c++ files, the bz2 compilation is still with english messages ! Why ? <br />
<br />
You have to compile it with the bz2 compression turned on (see config.h).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">veekee</div><div class="date">19th April 2002, 19:28</div></div><div class="posttext">i still do not understand .... <br />
well, bz2 was not defined, but i was able to use it as compression mode ! Why, if this is disable ?????<br />
:igor:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">19th April 2002, 19:36</div></div><div class="posttext">Originally posted by veekee <br />
i still do not understand .... <br />
well, bz2 was not defined, but i was able to use it as compression mode ! Why, if this is disable ?????<br />
:igor: <br />
<br />
The compression mode is determined by the exe that you are using to compile it.  Both zlib and bz2 makensis exes are installed by default.  You can't specify the compression mode in your script.  If you want to compile the source, you will have to compile it twice to get both exes.  Then you would have to replace the 2 exes in the install dir to use them with the extensions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">veekee</div><div class="date">19th April 2002, 19:38</div></div><div class="posttext">well, i uncomment BZ2 support, try to compile, removed the ZLIB support (;) forgot that one), recompiled, and it passes ! I reinstalled NSIS and try a compile with bz2 ! All strings were the english one, even if all strings in nsis are in french !!!! :cry: <br />
I don't see any difference bewteen selecting bz2 or zlib in config.h !!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">veekee</div><div class="date">19th April 2002, 19:41</div></div><div class="posttext">understood =) Okai, thanks a lot .. my mind was so slow :D ! Thank you very much rainwater!!!!!!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Repzilon</div><div class="date">20th April 2002, 00:42</div></div><div class="posttext">Originally posted by Smile2Me <br />
Duane,<br />
<br />
to confirm your findings: I also noticed that bzip2 does extremely well when it has to compress a lot of files of the same structure, eg: all textfiles or all exe files. On the other hand, zlib can be better with more heterogeneous files.<br />
<br />
But this is no strict rule...<br />
<br />
Greetz,<br />
-Hendri. <br />
bzip2 compresses text well. But if makensis-bz2.exe creates smaller installers when there are similar files, this is because NSIS_COMPRESS_WHOLE has been defined.<br />
<br />
Koen, RAR and ACE compression algorithms are proprietary. We can't put them in NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">22nd April 2002, 21:51</div></div><div class="posttext">just a comment:<br />
<br />
I am compressing only icons and bz2 produces a bigger file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">veekee</div><div class="date">22nd April 2002, 22:05</div></div><div class="posttext">i get the same result, with nearly 90% of my installers !<br />
For example, (i'm using the french nsis) compiling NSIS package with bz2 is 4 kb bigger than zlib compression mode.. (without bz2_smallmode and bz2_compress_whole options) !</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>