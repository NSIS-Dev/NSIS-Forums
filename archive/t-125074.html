<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" !Macros hate labels?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  !Macros hate labels? NSIS Discussion" />
	
	<title> !Macros hate labels? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  !Macros hate labels?</div>
<hr />
<div class="pda"><a href="t-125074.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=125074">!Macros hate labels?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">14th February 2003, 22:57</div></div><div class="posttext">trying this:<br />
<br />
<br />
!macro BuscarArch MiArch Seccion FlagNoArch FlagSiArch <br />
ifFileExists $SYSDIR\${MiArch} yay<br />
MessageBox MB_OK|MB_ICONEXCLAMATION &quot;No se encontr√≥ el archivo...&quot;<br />
SectionSetFlags ${Seccion} ${FlagNoArch} <br />
yay:<br />
SectionSetFlags ${Seccion} ${FlagSiArch}<br />
!macroend<br />
<br />
<br />
The macro doesn't read the part of yay: .....<br />
Is this normal? <br />
:blah:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2003, 23:15</div></div><div class="posttext">What do you mean by doesn't read? Does it not execute it?<br />
I'll assume that si is yes and no is, well, no. According to this code and my poor knowldge of Spanish, ${Seccion} will always be selected because you don't skip the last line if the one before was executed. Is this the problem? Or does it completely ignore what comes after the label? If the second case is what happens to you then try to replace the last line with !error &quot;skip me?&quot; and see if you get the error.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">14th February 2003, 23:28</div></div><div class="posttext">mmm.... the problem is the macro execute first:<br />
SectionSetFlags ${Seccion} ${FlagNoArch} <br />
and then execute:<br />
SectionSetFlags ${Seccion} ${FlagSiArch}<br />
It's suppose to be, if the file doesn't exists, do:<br />
SectionSetFlags ${Seccion} ${FlagNoArch}<br />
else:<br />
SectionSetFlags ${Seccion} ${FlagSiArch}<br />
<br />
The macro is this, firs detect the file if is not there then <br />
turn the section with flag 25.<br />
If does then turn section 16<br />
<br />
And yes... Si = Yes No = No :p and Seccion = Section...<br />
I think you already know that :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2003, 23:34</div></div><div class="posttext">OK, so like I have said you need to jump over the enabling of the section. It won't jump for you... :)<br />
Add Goto +2 just before yay: and all should work well.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">14th February 2003, 23:48</div></div><div class="posttext">thanks KichiK !!!<br />
<br />
Works great...I most build the coolest Installer ;)<br />
<br />
PS: I wonder if &quot;LicenseData&quot; will accept html files...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th February 2003, 00:05</div></div><div class="posttext">LicesneData doesn't know what HTML files are. It will treat it as a text file. You can open the HTML file in Word and save it as RTF.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>