<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Finding the name of a random directory to place a file, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Finding the name of a random directory to place a file NSIS Discussion" />
	
	<title> Finding the name of a random directory to place a file [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Finding the name of a random directory to place a file</div>
<hr />
<div class="pda"><a href="t-241911.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=241911">Finding the name of a random directory to place a file</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Boworr</div><div class="date">27th March 2006, 08:22</div></div><div class="posttext">Hi, <br />
<br />
I have an application that installs an add-on into an existing directory but also needs to place one file into a directory with a random name. This means I can't hard code the directory but need to find it and then potentially ask the user to pick which one they want to use because there may be more than one.<br />
<br />
e.g. <br />
<br />
<br />
installdir\<br />
    interface\<br />
        add-on-goes-here\<br />
    account\<br />
        abc\  <br />
            single-file-goes-here<br />
        xyz\<br />
            or-maybe-here  <br />
<br />
<br />
95% of the time there will be just one directory under \account so how can I read the directories under \account and then use that as an installdir for this one file? If there are two directories, how would I prompt the user to pick on of them</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th March 2006, 14:22</div></div><div class="posttext">Use FindFirst, FindNext and FindClose to loop through files and folders. To check if a found name is the name of a folder, use IfFileExists &quot;$path\$folder\*.*&quot; ...<br />
<br />
You can use the PopupListBox (http://nsis.sf.net/File:PopupListBox.zip) plugin to display a list of directories for the user to select, or you can create a custom InstallOptions dialog.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th March 2006, 14:29</div></div><div class="posttext">Forgot to mention... I also have an EmbeddedListBox plugin which displays an embedded dialog containing a list box. The list box can be customised with columns and column headers and/or check boxes. This plugin however isn't on the Wiki yet.<br />
<br />
Benefits of using both plugins (PopupListBox/EmbeddedListBox) rather than InstallOptions is that list box items are passed via the NSIS stack which in theory has an unlimited size for the amount of data we tend to use. InstallOptions requires you to write list box items in a format as a single string, which means you are limited to 1023 characters (or 8191 if using the special makensis build).<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>