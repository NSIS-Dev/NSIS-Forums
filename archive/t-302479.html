<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" FCT plugin - msgonly, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  FCT plugin - msgonly NSIS Discussion" />
	
	<title> FCT plugin - msgonly [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  FCT plugin - msgonly</div>
<hr />
<div class="pda"><a href="t-302479.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302479">FCT plugin - msgonly</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">vicky1981</div><div class="date">27th January 2009, 11:11</div></div><div class="posttext">Hello,<br />
<br />
I would like to identify whether my application is currently running while i am uninstalling it. I don't want to kill/close the  application, but rather notify the user to close it. <br />
<br />
I found that FCT plugin suits my needs. However, I have a problem. Eventhough I am using /MSGONLY parameter (Not attempts to terminate the process), it is still terminating the application. what is wrong with my code? <br />
<br />
How can I know that FCT identified a running instance of my application? Return value should be &gt;0?<br />
 <br />
fct::fct /WC &quot;SunAwtFrame&quot; /WTP &quot;partial application name&quot; /MSGONLY <br />
Pop $0 <br />
StrCmp $0 1 0 OK1 <br />
MessageBox MB_OK &quot;The application you are trying to uninstall is running. Close it and try again.&quot; <br />
Abort ok1: <br />
<br />
Thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">27th January 2009, 12:45</div></div><div class="posttext">Speaking about your application I guess you know the window class/title so you may simply use the FindWindow instruction,<br />
<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.14.5<br />
<br />
Just search the forum, you'll find loads of examples.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vicky1981</div><div class="date">27th January 2009, 13:00</div></div><div class="posttext">Hello,<br />
<br />
FindWindow doesn't suit my needs because my application's class name is &quot;SunAWTFrame&quot; and most of the java application using JFrame tend to have the same. And title is only partial i.e. only some part of the title is constant and the remaining part changes (project name).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">27th January 2009, 13:11</div></div><div class="posttext">Takhir added a function in wiki which involve system plugin, did you check it?<br />
<br />
You may replace the part of killing the process with interactive messages.<br />
<br />
http://nsis.sourceforge.net/Find_and_Close_or_Terminate</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vicky1981</div><div class="date">27th January 2009, 13:24</div></div><div class="posttext">thanks for the quick replies.....<br />
<br />
&quot;Find and Close or Terminate&quot; macro won't work as it needs unique &amp; complete class name or unique &amp; complete class title.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">27th January 2009, 13:45</div></div><div class="posttext">You're welcome.<br />
Same issue huh?<br />
I'm sure I've seen here several related threads, so what do you say, are you going to dig the forum? :)<br />
<br />
Here's the result of a very quick search,<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=248179</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vicky1981</div><div class="date">27th January 2009, 14:00</div></div><div class="posttext">Actually i searched the forum before posting...<br />
<br />
Hopefully Takhir will find this post &amp; reply :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">27th January 2009, 14:41</div></div><div class="posttext">'Close or Terminate' means that plug-in first sends WM_CLOSE to application and then (optionaly) terminates application. 'Find only' mode not supported in current version (may be in next release? :) ). But you can try to find application by file name, for example http://nsis.sourceforge.net/KillProc_plug-in<br />
Also - plug-in returns number of not closed/terminated processes.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>