<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" I would like to create a custom page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  I would like to create a custom page NSIS Discussion" />
	
	<title> I would like to create a custom page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  I would like to create a custom page</div>
<hr />
<div class="pda"><a href="t-246063.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=246063">I would like to create a custom page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Speedy Gonzales</div><div class="date">12th May 2006, 18:55</div></div><div class="posttext">Hi,<br />
<br />
I have make a patchinstaller.<br />
<br />
In this installer the user should choose one of 3 possibilitys.<br />
<br />
When he choose e.g. the 1 in the drop list the files from the folder 1_High should be install. When he choose the 2 in the drop list the files from the folder 2_Middle should be install...<br />
<br />
And further when the user chose e.g. 1 the picture 1.jpeg should be view.<br />
<br />
I hope you understand what I mean.<br />
<br />
Can you help me please and write me the code for this custompage?<br />
Thank you<br />
<br />
Sorry when my english isn't very good.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Speedy Gonzales</div><div class="date">12th May 2006, 21:05</div></div><div class="posttext">Understand you my question ?<br />
<br />
Please help me</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Speedy Gonzales</div><div class="date">13th May 2006, 15:40</div></div><div class="posttext">Could you only say me perhaps how I can make that when the user choose e.g. the 1 in the drop list the files from the folder 1_High would be install...?<br />
<br />
The picture isn't so important.<br />
<br />
Perhaps you can download my patch.rar there I've build the user page ... but without this function. Could you insert the code for this function in this patch.nsi?<br />
<br />
Thank you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Speedy Gonzales</div><div class="date">13th May 2006, 23:14</div></div><div class="posttext">Hi,<br />
I have try now a lot of things and I hope that it could be work with the new code in my new Patch.rar.<br />
<br />
..But there must be a problem. Can you say me what's wrong in the code?<br />
<br />
Thank you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galil</div><div class="date">14th May 2006, 04:39</div></div><div class="posttext">Do these 1_High, 2_Middle and 3_Low file folders must be in $INSTDIR? Or do you want them to be inside your Patch.exe? Or do you want them to be outside, in the $EXEDIR of Patch.exe?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Speedy Gonzales</div><div class="date">14th May 2006, 12:31</div></div><div class="posttext">Hi, <br />
the Folders will be install in the $INSTDIR<br />
<br />
	SetOutPath &quot;$INSTDIR\1_High&quot;<br />
	File &quot;1_High\blood.spr&quot;<br />
	SetOutPath &quot;$INSTDIR\2_Middle&quot;<br />
	File &quot;2_Middle\blood.spr&quot;<br />
	SetOutPath &quot;$INSTDIR\3_Low&quot;<br />
	File &quot;3_Low\blood.spr&quot;<br />
<br />
<br />
<br />
Then the user can chose if he want the Files from the folder 1_high, 2_middle or 3_low. If he chose par example the 2_Middle the File blood.spr from the folder 2_Middle should be copy in the new patch folder. If he choose the 1_high the file blood.spr from the folde 1_high should be install.<br />
<br />
I've try it to make this with the following code in my custompage.<br />
..But it doesn't work. Can anybody say me what i've make wrong:<br />
<br />
<br />
; Copy Netsettings<br />
Function PatchPage<br />
<br />
!insertmacro SectionFlagIsSet ${Section1} ${SF_SELECTED} ShowPage SkipPage<br />
ShowPage:<br />
<br />
GetDlgItem $R0 $HWNDPARENT 2<br />
EnableWindow $R0 0|1 # 0=hide, 1=show<br />
GetDlgItem $R0 $HWNDPARENT 3<br />
ShowWindow $R0 ${SW_HIDE}<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;patch.ini&quot;<br />
<br />
SkipPage:<br />
<br />
FunctionEnd<br />
<br />
Function .OnGUIEnd<br />
Call CopyFiles<br />
FunctionEnd<br />
<br />
; Copy Files<br />
!macro COPY_FILES SOURCE<br />
CopyFiles /silent &quot;$INSTDIR\${SOURCE}\blood.spr&quot; &quot;$INSTDIR\patch&quot;<br />
goto done<br />
!macroend<br />
<br />
; Copy Netsettings<br />
Function CopyFiles<br />
<br />
Push $R0<br />
ReadINIStr $R0 &quot;$PLUGINSDIR\patch.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
<br />
StrCmp $R0 &quot;1_High&quot; 0 not1_High<br />
!insertmacro COPY_FILES 1_High<br />
not1_High:<br />
<br />
StrCmp $R0 &quot;2_Middle&quot; 0 not2_Middle<br />
!insertmacro COPY_FILES 2_Middle<br />
not2_Middle:<br />
<br />
StrCmp $R0 &quot;3_Low&quot; 0 not3_Low<br />
!insertmacro COPY_FILES 3_Low<br />
not3_Low:<br />
<br />
done:<br />
<br />
Pop $R0<br />
FunctionEnd<br />
<br />
Function PageLeavePatch<br />
<br />
ReadIniStr $0 '$PLUGINSDIR\patch.ini' 'Field 1' 'State'<br />
strcmp $0 '' error ok<br />
error:<br />
MessageBox MB_OK &quot;You haven't chose a Patch!&quot;<br />
abort<br />
ok:<br />
<br />
FunctionEnd<br />
<br />
<br />
Thank you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galil</div><div class="date">14th May 2006, 22:35</div></div><div class="posttext">Well, in the second patch.rar that you attached,<br />
<br />
In the Section &quot;Patch&quot;<br />
replace<br />
	SetOutPath &quot;$INSTDIR\1_High&quot;<br />
	File &quot;1_High\blood.spr&quot;<br />
	SetOutPath &quot;$INSTDIR\2_Middle&quot;<br />
	File &quot;2_Middle\blood.spr&quot;<br />
	SetOutPath &quot;$INSTDIR\3_Low&quot;<br />
	File &quot;3_Low\blood.spr&quot;<br />
with:<br />
      Call CopyFiles<br />
<br />
And fix all the String compares in the CopyFiles function.<br />
Because you are comparing to &quot;1_High&quot;, &quot;2_Middle&quot; etc, but in the patch.ini they are named just &quot;High&quot;, &quot;Middle&quot; etc... so the copying can't get executed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Speedy Gonzales</div><div class="date">15th May 2006, 18:28</div></div><div class="posttext">Hi<br />
<br />
THX it works :-).<br />
<br />
Is it perhaps possible that when the user choose as example High in the droplist the picture 1.gif/.jpg .. whatever is shown and when he choose Middle in the droplist the picture 2.gif/.jpg.. is shown?<br />
<br />
Thank you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galil</div><div class="date">15th May 2006, 19:41</div></div><div class="posttext">Originally posted by Speedy Gonzales <br />
Is it perhaps possible that when the user choose as example High in the droplist the picture 1.gif/.jpg .. whatever is shown and when he choose Middle in the droplist the picture 2.gif/.jpg.. is shown? <br />
<br />
This thread has a working example of that:<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=244895<br />
<br />
Although the image must be BMP, not JPG/GIF...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Speedy Gonzales</div><div class="date">16th May 2006, 13:07</div></div><div class="posttext">Hi Galil thank you for your help<br />
<br />
I've try no very long to insert the code for the picture in my .nsi but it doesn't work.<br />
<br />
Could you perhaps help me an write me the code im my patch.nsi?<br />
<br />
It would be very friendly from you.<br />
<br />
This is my final patch. In the droplist are three possibilitys<br />
<br />
Low<br />
Middle <br />
Extrem<br />
<br />
It should be that the picture 1.bmp will be shown (the preview should be under the droplist) when the user choose low<br />
<br />
The picture 2.bmp when he choose middle in the droplist..<br />
<br />
Thank you</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>