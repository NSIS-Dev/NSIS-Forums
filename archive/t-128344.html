<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Validating User Input, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Validating User Input NSIS Discussion" />
	
	<title> Validating User Input [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Validating User Input</div>
<hr />
<div class="pda"><a href="t-128344.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=128344">Validating User Input</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">viper0179</div><div class="date">13th March 2003, 19:25</div></div><div class="posttext">Hello again :)<br />
<br />
I've been trying to determine how I can validate some data entered by the users using the Modern UI to ensure that the user enters something in a required field. I thought about using the .onNextPage event, but it doesn't seem to work. Does the .onNextPage event only work with the normal UI or am I just doing something wrong? When I compiled the script MakeNSIS displayed a warning: install function &quot;.onNextPage&quot; not referenced. I'm sure that this is why it isn't using the function in the script. Anyone have any idea what could be causing this? I've searched thru the examples and haven't found anything that might cause this with my script. Could it be because I'm using custom pages?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">viper0179</div><div class="date">13th March 2003, 20:29</div></div><div class="posttext">Hmm, I might have found something that would help me out. I got bored and started aimlessly wandering topics. I managed to find it on something completely irrelevant to it, but oh well. <br />
<br />
http://nsis.sourceforge.net/archive/viewpage.php?pageid=87</div></div><hr />


<div class="post"><div class="posttop"><div class="username">viper0179</div><div class="date">13th March 2003, 20:39</div></div><div class="posttext">Well I couldn't figure it out and I got some other things to do yet. If anyone has anything of a simple validation for custom pages let me know please.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th March 2003, 23:20</div></div><div class="posttext">Use<br />
<br />
!define MUI_CUSTOMFUNCTION_WELCOME_SHOW &quot;Validate&quot;<br />
<br />
Where &quot;Validate&quot; is your function (which you currently have as .onNextPage)<br />
If your custom page is before the InstFiles page, then change it to...<br />
<br />
!define MUI_CUSTOMFUNCTION_INSTFILES_SHOW &quot;Validate&quot;<br />
<br />
etc.<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">viper0179</div><div class="date">14th March 2003, 18:26</div></div><div class="posttext">Ah, thanks for the help Stuart, now I just need to figure out how to stop it from changing pages :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th March 2003, 19:03</div></div><div class="posttext">That's wrong with the archive page? It shows you how to validate.<br />
<br />
After the IO call, validate when the return value is success and go back to the call if the input is wrong.<br />
<br />
Use the MUI_INSTALLOPTIONS_DISPLAY_RETURN macro to be able to get the return value from the stack.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th March 2003, 11:51</div></div><div class="posttext">.onNextPage and .onPrevPage no longer exist in NSIS 2. According to your original question the answer is very simple, just use MinLen=1 in the INI file. For example:<br />
<br />
[Field 1]<br />
Type=Text<br />
Left=10<br />
Right=-10<br />
Top=90<br />
Bottom=98<br />
MinLen=1<br />
<br />
This will cause IO to display an error message if the user is trying to exit the page when this control has less than 1 characters in it, which means zero characters, nothing.<br />
<br />
To change the error message use ValidateText in [Field *].</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th March 2003, 12:40</div></div><div class="posttext">Nice one KiCHiK :)<br />
<br />
/me goes and adds it to my IO ini files...<br />
<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">viper0179</div><div class="date">17th March 2003, 13:05</div></div><div class="posttext">Well that explains quite a bit about why .onNextPage didn't work. And thanks for that tip about MinLen kichik. That should do it :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>