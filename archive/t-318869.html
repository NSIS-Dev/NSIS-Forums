<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Conditional MUI_FINISHPAGE_TEXT, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Conditional MUI_FINISHPAGE_TEXT NSIS Discussion" />
	
	<title> Conditional MUI_FINISHPAGE_TEXT [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Conditional MUI_FINISHPAGE_TEXT</div>
<hr />
<div class="pda"><a href="t-318869.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318869">Conditional MUI_FINISHPAGE_TEXT</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Squirre1</div><div class="date">2nd May 2010, 16:32</div></div><div class="posttext">I know I can define the MUI_FINISHPAGE_TEXT prior to the language macro, but I would like to do a conditional change of the finish page text that is displayed at the end of my installation.<br />
<br />
Has anyone done this before?<br />
<br />
Thanks,<br />
<br />
Squirre1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">2nd May 2010, 16:56</div></div><div class="posttext">You can modify the text using SendMessage with SetText (or using the NSD_SetText macro) in the page's SHOW function. The variable containing the label's HWND is stored in a variable which is not documented, but you can find it if you look in the nsh file of that MUI page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Squirre1</div><div class="date">2nd May 2010, 17:13</div></div><div class="posttext">Just found this post...:<br />
<br />
http://forums.winamp.com/showthread.php?t=192865<br />
<br />
Worked like a charm...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Squirre1</div><div class="date">2nd May 2010, 18:31</div></div><div class="posttext">I fixed it by settings MUI_FINISHPAGE_TEXT as a to a variable and just setting the variable in the section... I replied but I think since I put a URL in the reply it is being moderated. I would like to do the same thing on the uninstall, BUT there is no nsh for the uninstall settings or anything like a MUI_UNFINISHPAGE_TEXT.<br />
<br />
Thanks,<br />
<br />
Squirre1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Squirre1</div><div class="date">2nd May 2010, 23:22</div></div><div class="posttext">Ok, I have the final solution now after many a trial and errors.<br />
<br />
Once you define MUI_FINISHPAGE_TEXT and then it is processed by the MUI_PAGE_FINISH it appears that it gets undefined somehow. What you then have to do is redefine it yet again. Defining it the second time makes it available again to the processing of MUI_UNPAGE_FINISH.<br />
<br />
<br />
; Installation<br />
  !define MUI_FINISHPAGE_TEXT &quot;$FINISHPAGE_TEXT&quot;<br />
  !insertmacro MUI_PAGE_WELCOME<br />
#  !insertmacro MUI_PAGE_COMPONENTS<br />
#  !insertmacro MUI_PAGE_DIRECTORY<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
  !insertmacro MUI_PAGE_FINISH<br />
<br />
<br />
; Uninstallation<br />
  !define MUI_FINISHPAGE_TEXT &quot;$FINISHPAGE_TEXT&quot;<br />
  !insertmacro MUI_UNPAGE_WELCOME<br />
#  !insertmacro MUI_UNPAGE_CONFIRM<br />
  !insertmacro MUI_UNPAGE_INSTFILES<br />
  !insertmacro MUI_UNPAGE_FINISH<br />
<br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
<br />
<br />
Hope this helps someone else other than just me..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">2nd May 2010, 23:45</div></div><div class="posttext">The Modern UI manual clearly states under Page settings:Page settings apply to a single page and should be set before inserting a page macro. The same settings can be used for installer and uninstaller pages. You have to repeat the setting if you want it to apply to multiple pages.Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Squirre1</div><div class="date">3rd May 2010, 00:27</div></div><div class="posttext">Ugh, Sorry afrow... Appreciate the information. would have been nice about 3-4 hours ago. but still appreciated none the less...<br />
<br />
Have not read the docs word for word from tip to tail, although I was looking all over for it...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd May 2010, 10:56</div></div><div class="posttext">Not to worry you are definitely not the first to have missed it. I suppose the fact that to see that text you have to expand &quot;Page settings&quot; first. Perhaps an enhancement is due here.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>