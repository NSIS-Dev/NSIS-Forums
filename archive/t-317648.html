<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Clear to stack, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Clear to stack NSIS Discussion" />
	
	<title> Clear to stack [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Clear to stack</div>
<hr />
<div class="pda"><a href="t-317648.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=317648">Clear to stack</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Gruys</div><div class="date">11th March 2010, 13:44</div></div><div class="posttext">Is there a method to clear the stack?<br />
<br />
On the stack there is an errorcode 5, I can pop as many as i want but the stack will not be emptied.<br />
<br />
<br />
<br />
# name the installer<br />
outFile &quot;bare.exe&quot;<br />
 <br />
# default section start; every NSIS script has at least one section.<br />
section<br />
   pop $0<br />
  MessageBox MB_OK &quot;$0&quot; ; displays 5<br />
   pop $0<br />
  MessageBox MB_OK &quot;$0&quot; ; still displays 5<br />
   pop $0<br />
  MessageBox MB_OK &quot;$0&quot; ; still displays 5<br />
   pop $0<br />
  ClearErrors           ; does not help <br />
  MessageBox MB_OK &quot;$0&quot; ; still 5<br />
   pop $0<br />
  MessageBox MB_OK &quot;$0&quot; ; stack is NEVER empied?!<br />
<br />
<br />
# default section end<br />
sectionEnd<br />
<br />
<br />
Anyone knows how to clear the stack? :-(<br />
<br />
Thanks advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th March 2010, 14:17</div></div><div class="posttext">Read Pop in the manual.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gruys</div><div class="date">13th March 2010, 15:11</div></div><div class="posttext">I have done this.<br />
But, like I earlier said, Pop does reads a string of the stack into the user variable $x, but does not pops the value of the stack, so it leaves the stack alone.<br />
<br />
Really weird<br />
<br />
Thx in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gruys</div><div class="date">13th March 2010, 15:43</div></div><div class="posttext">I have solved the mystery. Because the stack was empty the original value in $0 was never overwritten when popping again from an empty stack. Thanks for listening.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th March 2010, 17:47</div></div><div class="posttext">As I said, the manual effectively tells you this. If you Pop from the stack when it is empty the error flag will be set (it does not say you will get an empty value).<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>