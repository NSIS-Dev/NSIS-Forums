<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" WordFunc does not work as expected. Bug?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  WordFunc does not work as expected. Bug? NSIS Discussion" />
	
	<title> WordFunc does not work as expected. Bug? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  WordFunc does not work as expected. Bug?</div>
<hr />
<div class="pda"><a href="t-259079.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=259079">WordFunc does not work as expected. Bug?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">davidnewcomb</div><div class="date">7th November 2006, 15:49</div></div><div class="posttext">The code:<br />
<br />
	${WordFind} &quot;1|999|severnam1|r1|p1||||||||||||||&quot; &quot;|&quot; &quot;+3&quot; $0<br />
	DetailPrint &quot;3rd=$0&quot;<br />
<br />
	${WordFind} &quot;1|999|severnam1|r1|p1||||||||||||||&quot; &quot;|&quot; &quot;+9&quot; $0<br />
	DetailPrint &quot;9rd=$0&quot;<br />
<br />
	${WordFind} &quot;1|999|severnam1|r1|p1||||||||||||||&quot; &quot;|&quot; &quot;+1&quot; $0<br />
	DetailPrint &quot;1st=$0&quot;<br />
<br />
Produces:<br />
<br />
3rd=severnam1<br />
9rd=1|999|severnam1|r1|p1||||||||||||||<br />
1st=1<br />
Completed<br />
<br />
I would except the 9th to be empty?<br />
<br />
I am using the right function? Or am I supposed to check that the return is the same as the search string?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">davidnewcomb</div><div class="date">7th November 2006, 15:51</div></div><div class="posttext">BTW I'm using WordFun 3.3 with NSIS v2.21</div></div><hr />


<div class="post"><div class="posttop"><div class="username">davidnewcomb</div><div class="date">8th November 2006, 17:58</div></div><div class="posttext">To fix this issue:<br />
<br />
!include &quot;WordFunc.nsh&quot;<br />
!insertmacro WordFind<br />
<br />
!macro WordFindFixedCall STR DEL COL RET<br />
	${WordFind} ${STR} ${DEL} ${COL} ${RET}<br />
	StrCmp &quot;${STR}&quot; &quot;${RET}&quot; 0 +2<br />
	StrCpy ${RET} &quot;&quot;<br />
!macroend<br />
!define WordFindFixed `!insertmacro WordFindFixedCall`</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">8th November 2006, 18:44</div></div><div class="posttext">${WordFind} &quot;1|999|severnam1|r1|p1||||||||||||||&quot; &quot;|&quot; &quot;E+9&quot; $0<br />
IfErrors 0 +2<br />
StrCpy $0 &quot;&quot;<br />
<br />
DetailPrint &quot;9rd=$0&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">davidnewcomb</div><div class="date">9th November 2006, 09:51</div></div><div class="posttext">This is fair enough and will work, but it means you always have to add the 'E' and always have to check for errors. Yours effectively does the same as mine. We, and everyone else in the world, will have to add this check and compare. So why not incorporate it into the WordFind.nsh ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th November 2006, 12:56</div></div><div class="posttext">Any other comments on this (http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1592634&amp;group_id=22049&amp;atid=373085)? What is the expected behavior? In case of error, return the entire string or an empty string when no error handling is used?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">24th November 2006, 19:13</div></div><div class="posttext">No bug. Expected behavior is entire string.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">25th November 2006, 14:49</div></div><div class="posttext">The wiki does say that the entire string is output when an error occurs and the 'E' switch is not used, but why is the case above considered an error? I would have expected it to return a null string.<br />
<br />
Don</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>