<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI_PAGE_INSTFILES: change bgcolor, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI_PAGE_INSTFILES: change bgcolor NSIS Discussion" />
	
	<title> MUI_PAGE_INSTFILES: change bgcolor [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI_PAGE_INSTFILES: change bgcolor</div>
<hr />
<div class="pda"><a href="t-267697.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=267697">MUI_PAGE_INSTFILES: change bgcolor</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">gerome69</div><div class="date">13th March 2007, 15:09</div></div><div class="posttext">Hi together!<br />
Is it possible to change the background color of the page<br />
MUI_PAGE_INSTFILES<br />
<br />
If yes: how?<br />
<br />
Thanks for Tips, Bernd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th March 2007, 16:51</div></div><div class="posttext">If you want to change the bkg color, this wiki page might help start,<br />
<br />
http://nsis.sourceforge.net/Demonstrating_Page%27s_Custom_Functions_Pre_Show_Leave<br />
<br />
if you want to change the progress bar then you'll find the answer in MUI documentation<br />
<br />
http://nsis.sourceforge.net/Docs/Modern%20UI/Readme.html</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gerome69</div><div class="date">13th March 2007, 16:58</div></div><div class="posttext">If you want to change the bkg color, this wiki page might help start,<br />
http://nsis.sourceforge.net/Demonstrating_Page%27s_Custom_Functions_Pre_Show_Leave<br />
 <br />
<br />
But they do nothing else than:<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
And for other pages some things with FindWindow and SetCtlColors.<br />
I managed this for my custom pages in the same way, but my problem is that I don't have any ideas &quot;to get a foot in the door&quot;, while the page MUI_PAGE_INSTFILES is displayed. There is nothing like an eventhandler etc.<br />
<br />
<br />
http://nsis.sourceforge.net/Docs/Modern%20UI/Readme.html  <br />
<br />
Surely I had a look at this page and did not find anything.<br />
<br />
Greetings, Bernd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th March 2007, 17:02</div></div><div class="posttext">copied from MUI documentation ;)<br />
<br />
Installation Page Interface Settings<br />
<br />
MUI_INSTFILESPAGE_COLORS (/windows | (foreground color: RRGGBB hexadecimal) (background color: RRGGBB hexadecimal))<br />
The colors of the details screen. Use /windows for the default Windows colors.<br />
Default: /windows<br />
<br />
MUI_INSTFILESPAGE_PROGRESSBAR (&quot;&quot; | colored | smooth)<br />
The style of the progress bar. Colored makes it use the MUI_INSTALLCOLORS.<br />
Default: smooth</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Davion</div><div class="date">13th March 2007, 17:05</div></div><div class="posttext">You're too fast Red Wine, <br />
I've just copied the same block :D<br />
<br />
it's always good to refresh before submitting</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gerome69</div><div class="date">13th March 2007, 17:15</div></div><div class="posttext">Originally posted by Red Wine <br />
MUI_INSTFILESPAGE_COLORS (/windows | (foreground color: RRGGBB hexadecimal) (background color: RRGGBB hexadecimal))<br />
The colors of the details screen. Use /windows for the default Windows colors.<br />
Default: /windows<br />
 <br />
<br />
Sorry for not reading this.<br />
I tried it (maybe the wrong way) and it has no effect. My whole installer background is white, but while the progressbar for the file copying is show, the background remains in the standard windows color gray :-(<br />
<br />
Relevant passage from my code:<br />
<br />
!include &quot;MUI.nsh&quot;<br />
!define MUI_BGCOLOR FFFFFF<br />
!define MUI_ABORTWARNING<br />
!define MUI_ICON &quot;.\icon.ico&quot;<br />
!define MUI_UNICON &quot;.\icon.ico&quot;<br />
!define MUI_WELCOMEFINISHPAGE_BITMAP &quot;.\side.bmp&quot;<br />
!define MUI_WELCOMEPAGE_TITLE_3LINES<br />
!define MUI_HEADERIMAGE<br />
!define MUI_HEADERIMAGE_BITMAP &quot;.\header.bmp&quot;<br />
!define MUI_HEADERIMAGE_UNBITMAP &quot;.\header.bmp&quot;<br />
!define MUI_INSTFILESPAGE_COLORS &quot;FFFFFF 00000&quot;<br />
!insertmacro MUI_PAGE_WELCOME<br />
Page custom ShowSQLServerConfigDialog WriteToIni<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!define MUI_FINISHPAGE_TITLE_3LINES<br />
!define MUI_FINISHPAGE<br />
!insertmacro MUI_PAGE_FINISH<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
<br />
!insertmacro MUI_LANGUAGE &quot;German&quot;<br />
<br />
<br />
What might be wrong?<br />
<br />
Thanks for further help, Bernd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th March 2007, 17:23</div></div><div class="posttext">post a snapshot (png) if possible showing what you want to change.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gerome69</div><div class="date">13th March 2007, 17:27</div></div><div class="posttext">Originally posted by Red Wine <br />
post a snapshot (png) if possible showing what you want to change.  <br />
<br />
I did. My installer should have a complete white background. But the inner window stills remains gray. How do I get a HWD to this part of the gui to change the color to white?<br />
<br />
Greetings, Bernd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th March 2007, 17:55</div></div><div class="posttext">!define MUI_INSTFILESPAGE_PROGRESSBAR &quot;colored&quot;<br />
!define MUI_INSTFILESPAGE_COLORS &quot;0xFFFFFF 0xFFFFFF&quot;<br />
......<br />
......<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW inst_show<br />
!insertmacro MUI_PAGE_INSTFILES<br />
.......<br />
.......<br />
<br />
function inst_show<br />
         FindWindow $1 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
         SetCtlColors $1 '' '0xFFFFFF'<br />
functionend</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gerome69</div><div class="date">13th March 2007, 18:15</div></div><div class="posttext">Originally posted by Red Wine <br />
!define MUI_INSTFILESPAGE_PROGRESSBAR &quot;colored&quot;<br />
!define MUI_INSTFILESPAGE_COLORS &quot;0xFFFFFF 0xFFFFFF&quot;<br />
......<br />
......<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW inst_show<br />
!insertmacro MUI_PAGE_INSTFILES<br />
.......<br />
.......<br />
<br />
function inst_show<br />
         FindWindow $1 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
         SetCtlColors $1 '' '0xFFFFFF'<br />
functionend  <br />
<br />
:) Thanks, this works fine. <br />
The only thing which is not 100% perfect: The background color of the progressbar remains gray.<br />
How do I get a handle to this to change it's bgcolor to white, too?<br />
<br />
B.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th March 2007, 18:25</div></div><div class="posttext">&quot;colored&quot; makes it white for me (no XP theme-classic windows)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gerome69</div><div class="date">13th March 2007, 18:56</div></div><div class="posttext">Originally posted by Red Wine <br />
&quot;colored&quot; makes it white for me (no XP theme-classic windows)  <br />
<br />
But I want to use it also with XP style.<br />
<br />
What I found out now from:<br />
Contrib\UIs\UI Holder\resource.h and resource.rc<br />
<br />
The element I'm looking for is not the progress bar. It is the label. And I want to change the bgcolor of this label.<br />
<br />
CONTROL         &quot;&quot;,IDC_INTROTEXT,&quot;Static&quot;,...<br />
#define IDC_INTROTEXT                   1006<br />
<br />
So what I did now:<br />
FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $1 $0 1006<br />
<br />
This gives me definetly an handle for the label. :-)<br />
<br />
Then I tried:<br />
SetCtlColors $1 0xffffff bgcolor<br />
=&gt; White letters on black background, exactly the opposite of what I wanted :-(<br />
<br />
SetCtlColors $1 0x000000 bgcolor<br />
=&gt; Black letters on black background, nothing to see.<br />
<br />
SetCtlColors $1 0xffffff transparent<br />
=&gt; White letters on black background, exactly the opposite of what I wanted :-(<br />
<br />
SetCtlColors $2 0xffffff transparent<br />
=&gt; White letters on white bgground =&gt; nothing to see.<br />
<br />
SetCtlColors $2 0xffffff transparent<br />
=&gt; Black letters on white ground =&gt; perfect. <br />
No, not at all. All text are written on the label without erasing the old text. So a more or less black bar on white background appears.<br />
<br />
Any other ideas?<br />
<br />
B.<br />
<br />
transparent</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th March 2007, 19:00</div></div><div class="posttext">SetCtlColors $1 &quot;0x000000&quot; &quot;0xFFFFFF&quot; ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gerome69</div><div class="date">13th March 2007, 19:08</div></div><div class="posttext">Originally posted by Red Wine <br />
SetCtlColors $1 &quot;0x000000&quot; &quot;0xFFFFFF&quot; ;)  <br />
<br />
Huuuh, yes that's it! Thanks for your assistence and patience.<br />
<br />
I'm not familiar with this WINApi function, I normally use QT framework for windows stuff.<br />
<br />
Greetings, Bernd</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>