<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Execution Time/Compile Time question, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Execution Time/Compile Time question NSIS Discussion" />
	
	<title> Execution Time/Compile Time question [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Execution Time/Compile Time question</div>
<hr />
<div class="pda"><a href="t-207325.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=207325">Execution Time/Compile Time question</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">geoffrey_4js</div><div class="date">9th February 2005, 13:41</div></div><div class="posttext">Hi,<br />
<br />
I've got a new problem to solve. In the file I have to install, there is one I need to get paramaters to configure shortcuts, services and to modify other files. The problem is that it doesn't compile because the file isn't already here, he will be here only at execution.<br />
<br />
Is it a way to get around that ?<br />
<br />
Thx for your help.<br />
<br />
Geo</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pidgeot</div><div class="date">9th February 2005, 19:53</div></div><div class="posttext">It sounds to me like you have a File command that refers to a file that doesn't exist on your system. You should only use the File command when you have an actual file to be in the installer. If it already exists or your installer generates it during runtime, the File command is not used (there are other functions for that).<br />
<br />
I'm a bit unsure if that's what you really mean, however. It would help if you posted your script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">geoffrey_4js</div><div class="date">10th February 2005, 08:44</div></div><div class="posttext">Yes, I have a File command that refer to a file that doesn't already exist. The file is generated during runtime but I've no clue on wich command to use to extract data from it. <br />
<br />
For the script, I'm not sure it will be usefull but I attach it to this post</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">10th February 2005, 09:12</div></div><div class="posttext">Hello<br />
<br />
I think you need something like this :<br />
<br />
<br />
;Reserve Files<br />
;Things that need to be extracted on first (keep these lines before any File command!)<br />
;Only useful for BZIP2 compression<br />
  <br />
  ReserveFile &quot;genero.bat&quot;<br />
 <br />
!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
<br />
Function .onInit<br />
    <br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;genero.bat&quot;<br />
<br />
FunctionEnd<br />
<br />
<br />
And if you want read something of the genero.bat think that the file is in $PLUGINSDIR\genero.bat<br />
<br />
Best regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pidgeot</div><div class="date">10th February 2005, 10:18</div></div><div class="posttext">You'll want to use FileRead/FileReadByte, then. Look under 4.9.5 File Instructions in the documentation.<br />
<br />
I've attached a (slightly modified) script for an updater I made - a small NSIS app that downloads a text file and checks the content. The text file indicates the latest version ($9) as well as the file size ($8). It compares $9 to the version number in the install script, and, if the two values are different, offers to download and install the new version.<br />
<br />
The script won't work, as the files referenced don't exist (that's the part that has been modified), but it will compile and work if the URLs are changed to working ones.<br />
<br />
If you need to do complicated calculations on the data, you may want to make a small program that does those calculations and outputs the needed results to a text file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">geoffrey_4js</div><div class="date">10th February 2005, 17:27</div></div><div class="posttext">@kike_velez<br />
<br />
I've try but I get the same error (file not found) :<br />
File: &quot;genero.bat&quot; -&gt; no files found.<br />
Usage: File [/nonfatal] [/a] ([/r] [/x filespec [...]] filespec [...] |<br />
   /oname=outfile one_file_only)<br />
Error in macro MUI_INSTALLOPTIONS_EXTRACT on macroline 7</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pidgeot</div><div class="date">10th February 2005, 17:46</div></div><div class="posttext">The File command is only used to put a file on the end user's computer. Unless you're going to provide a default file (as a fallback), it's not used to access an existing file. Of course, if you ARE going to provide a default file, you have to make it.<br />
<br />
If you're trying to copy an existing file, use CopyFiles instead.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">11th February 2005, 09:41</div></div><div class="posttext">Sorry geoffrey_4js i don´t understand the problem.<br />
The problem is that genero.bat don´t exists and extract works with a file that exists.<br />
<br />
Sorry again</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">11th February 2005, 09:58</div></div><div class="posttext">Hello geoffrey_4js<br />
<br />
I saw th scrip but i don´t see where you generate the genero.bat. <br />
<br />
Best Regards</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>