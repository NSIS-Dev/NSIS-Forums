<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to set enable/disable a Custom Button on a Custom Page?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to set enable/disable a Custom Button on a Custom Page? NSIS Discussion" />
	
	<title> How to set enable/disable a Custom Button on a Custom Page? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to set enable/disable a Custom Button on a Custom Page?</div>
<hr />
<div class="pda"><a href="t-252639.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=252639">How to set enable/disable a Custom Button on a Custom Page?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">UranusOne</div><div class="date">4th August 2006, 15:43</div></div><div class="posttext">* This commands set enabled or disabled de next button:<br />
<br />
; Disable &quot;Next&quot; button.<br />
GetDlgItem $1 $HWNDPARENT 1<br />
EnableWindow $1 0<br />
; Enable &quot;Next&quot; button.<br />
GetDlgItem $1 $HWNDPARENT 1<br />
EnableWindow $1 1<br />
<br />
<br />
* But for example, this commands not work on a Custom Page on a Custom Button:<br />
<br />
; Supposedly Disable &quot;Field 7&quot; . Is a Button of $INI file.<br />
<br />
GetDlgItem $1 $HWND 1206 ; PathRequest control (1200 + field 7 - 1)<br />
EnableWindow $1 0<br />
<br />
<br />
* How is the suitable way? :rolleyes: <br />
------------------------------------</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">4th August 2006, 15:45</div></div><div class="posttext">That will work for Button controls. If you want to disable the button of a DirRequest control, then the control ID is one greater (so it's 1207).<br />
<br />
You need to use the code between the InitDialog and Show InstallOptions calls.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">UranusOne</div><div class="date">4th August 2006, 23:31</div></div><div class="posttext">These commands are executed in the Function LeaveCustom, after Function ShowCustom and Work.<br />
Originally posted by Me <br />
[b]* This commands set enabled or disabled de next button:<br />
<br />
; Disable &quot;Next&quot; button.<br />
GetDlgItem $1 $HWNDPARENT 1<br />
EnableWindow $1 0<br />
; Enable &quot;Next&quot; button.<br />
GetDlgItem $1 $HWNDPARENT 1<br />
EnableWindow $1 1<br />
Depending conditionally of the parameters that are obtained according to two DirRequest fields, NEXT button is activate or not.<br />
<br />
I would like to do the same with the CustomButton ClearFields for the two DirRequest Fields, but I cannot find the way to obtain $HWND of he himself.<br />
<br />
For that reason it asked if it were well before this.<br />
<br />
I could not found information as well as either examples, on like the state of a DirRequest Field, do make enabled or disabled a CustomButton. Single I found information on this for next Button.<br />
<br />
I Attached 2 files on a Zip, CopyFolderTo.nsi and CopyFolderTo.ini.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">UranusOne</div><div class="date">5th August 2006, 00:13</div></div><div class="posttext">Sorry, Here is Attached File...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">engine</div><div class="date">5th August 2006, 00:44</div></div><div class="posttext">Try:<br />
ReadINIStr $1 &quot;$INI&quot; &quot;Field 3&quot; HWND2<br />
<br />
If it does work,View &quot;yournsisdir\Docs\InstallOptions\readme.htm&quot; for detail.<br />
Note in IO Plug-in's Changelog.txt:<br />
DLL version 2.44 (10/11/2005)<br />
* Added HWND and HWND2 entries to the INI file to avoid messy calculations of the correct control id <br />
<br />
Watch the $INI file while your installer is running to make it lucid.<br />
<br />
Hope it helps.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">UranusOne</div><div class="date">6th August 2006, 06:39</div></div><div class="posttext">I found the solution read This Topic (http://forums.winamp.com/showthread.php?threadid=252544&amp;highlight=GetDlgItem#post2000565).<br />
<br />
The penultimate post of Afrow UK containing the real solution...<br />
<br />
; * Disable item *<br />
ReadINIStr $R7 &quot;$INI&quot; &quot;Field 7&quot; &quot;HWND&quot;<br />
EnableWindow $R7 0<br />
<br />
<br />
; * Enable item *<br />
ReadINIStr $R7 &quot;$INI&quot; &quot;Field 7&quot; &quot;HWND&quot;<br />
EnableWindow $R7 1<br />
<br />
Thank you very much by everything...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>