<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" multilanguage support - recommended solution, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  multilanguage support - recommended solution NSIS Discussion" />
	
	<title> multilanguage support - recommended solution [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  multilanguage support - recommended solution</div>
<hr />
<div class="pda"><a href="t-242583.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=242583">multilanguage support - recommended solution</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">coco_vc</div><div class="date">4th April 2006, 16:23</div></div><div class="posttext">Hi all,<br />
<br />
I have in my script stuff like this:<br />
<br />
<br />
LangString AdminMsg ${LANG_ENGLISH} &quot;You need to have full admin rights to install the product&quot;<br />
LangString AdminMsg ${LANG_FRENCH} &quot;FRENCH -&gt; You need to have full admin rights to install the product&quot;<br />
<br />
<br />
and also code like the following (needed for having the $LANGUAGE switch in onInit):<br />
<br />
<br />
!define NEED_SPECIFIC_OS_AND_SP_LANG_ENGLISH &quot;You need Windows 2000 SP3 and up&quot;<br />
!define NEED_SPECIFIC_OS_AND_SP_LANG_FRENCH &quot;FRENCH -&gt; You need Windows 2000 SP3 and up&quot;<br />
<br />
<br />
I was thinking of doing the following:<br />
- have 2 files eg: my_english.nsh and my_french.nsh which will contain the above code<br />
- include these 2 files in my script<br />
- give the .nsh files out for translation<br />
<br />
Questions:<br />
1) Would this be a way of adding multi-language support to my script? Is there another recommended way?<br />
2) What if one of the .nsh files contain a language that needs unicode? Do I need to do something special for those?<br />
<br />
Thx,<br />
Viv</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">4th April 2006, 17:48</div></div><div class="posttext">That should be fine. If you take a look under Contrib\Modern UI\Language files, plain text (.nsh) files are used.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">coco_vc</div><div class="date">5th May 2006, 12:12</div></div><div class="posttext">I started to work on this issue as described in my first entry but I get some warnings and I don't understand why.<br />
<br />
So what I did was just moving some defines into external .nsh files, so that I now have:<br />
<br />
myMainFile.nsi:<br />
<br />
<br />
!include &quot;myEnglish.nsh&quot;<br />
!include &quot;myFrench.nsh&quot;<br />
<br />
<br />
myEnglish.nsh:<br />
<br />
LangString InstallRedirPlsWait ${LANG_ENGLISH} &quot;Installing the redirector, please wait ...&quot;<br />
<br />
<br />
myFrench.nsh<br />
<br />
LangString InstallRedirPlsWait ${LANG_FRENCH} &quot;FRENCH -&gt; Installing the redirector, please wait ...&quot;<br />
<br />
<br />
Now when building the nsi file I get the following 2 warnings (for each set of string I have in the external files):<br />
<br />
1)<br />
!include: closed: &quot;myEnglish.nsh&quot;<br />
!include: &quot;myFrench.nsh&quot;<br />
warning: LangString &quot;InstallRedirPlsWait&quot; set multiple times for 0, wasting space (myFrench.nsh:6)<br />
LangString: &quot;InstallRedirPlsWait&quot; 0 &quot;FRENCH -&gt; Installing the redirector, please wait ...&quot;<br />
<br />
2)<br />
Removing unused resources... Done!<br />
Generating language tables... warning: LangString &quot;InstallRedirPlsWait&quot; is not set in language table of language French<br />
warning: LangString &quot;InstallRedirDone&quot; is not set in language table of language French<br />
<br />
Can someone pls tell me what am I doing wrong? If all those strings are into the main .nsi file everything is fine. I just moved them in diff .nsh files specific for languages and I started to have these warnings.<br />
<br />
Thx,<br />
Viv</div></div><hr />


<div class="post"><div class="posttop"><div class="username">coco_vc</div><div class="date">5th May 2006, 14:03</div></div><div class="posttext">Found the problem: the includes should be after the !insertmacro MUI_LANGUAGE so the order should be like:<br />
<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
!include &quot;myEnglish.nsh&quot;<br />
!include &quot;myFrench.nsh&quot;<br />
<br />
<br />
Viv</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>