<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" disable Back button on welcome page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  disable Back button on welcome page NSIS Discussion" />
	
	<title> disable Back button on welcome page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  disable Back button on welcome page</div>
<hr />
<div class="pda"><a href="t-259992.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=259992">disable Back button on welcome page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">20th November 2006, 17:05</div></div><div class="posttext">Hi all,<br />
<br />
i have create a custom page to make test on user system and configuration before installation my program. this page is not visible and it's for test purpose.<br />
<br />
This page is the declare first and i quit the program if requirements are not ok. <br />
I do that to have language specific message. i can't do test in .oninit function because language var is not set yet.<br />
<br />
the problem is that on the welcome page i have the back button enabled. So i would like to disable this button.<br />
<br />
how can i do that ?<br />
<br />
page order :<br />
Page custom testPage &quot;&quot;<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
testpage funstion :<br />
<br />
function testPage<br />
; abort if not NT or 2000  <br />
 call IsWindowsNT<br />
 StrCmp $CSWAVEIsNT 0 0 lbl_continue<br />
 MessageBox MB_ICONSTOP|MB_OK $(CSWAVEDLG_Not_NT)<br />
 Quit<br />
 lbl_continue:<br />
 <br />
 ; abort if wacontrol has been install before <br />
 ReadRegStr $0 HKLM &quot;${PRODUCT_WACONTROL_REGKEY}&quot; &quot;AppPath&quot;<br />
 strcmp $0 &quot;&quot; lbl_testpage_ok 0<br />
 MessageBox MB_ICONSTOP|MB_OK $(CSWAVEDLG_WaControl_Already_Install)<br />
 Quit<br />
 lbl_testpage_ok:<br />
functionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st November 2006, 18:36</div></div><div class="posttext">Simply use BackEnabled in the SETTINGS section of the INI file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">23rd November 2006, 09:33</div></div><div class="posttext">ok. thanks for the tips.<br />
<br />
this means that a INI file is mandatory to disable back button, even if my test page is not shown to the user...<br />
<br />
guillaume</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd November 2006, 17:46</div></div><div class="posttext">No, you can also use GetDlgItem and EnableWindow to do that. But I don't see why you'd want to prevent the user from going back.GetDlgItem $0 $HWNDPARENT 3<br />
EnableWindow $0 0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">27th November 2006, 08:49</div></div><div class="posttext">i want to prevent user for going back because there is no visible page before, and if they clic back button setup program close without any messsage.<br />
<br />
where should i put this code ? in my testPage  function ? i suppose this must be in the welcome page function, no ? bu t i can't find how to add custom function to the welcome page.<br />
<br />
code:GetDlgItem $0 $HWNDPARENT 3<br />
EnableWindow $0 0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th November 2006, 12:38</div></div><div class="posttext">Use that code in the show callback function of the welcome page or modify the INI using WriteINIStr in the pre callback function of the welcome page.<br />
<br />
But a better overall solution would be doing these tests in .onInit or .onGUIInit instead of creating a dummy empty page for them.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">27th November 2006, 16:17</div></div><div class="posttext">great, i don't understand why i can't find help for the .onGUIInit function ...<br />
<br />
your right it's better to do that in this function.<br />
<br />
thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jackkoho</div><div class="date">26th April 2007, 18:48</div></div><div class="posttext">I found this thread helpful.  I wanted to get rid of the back button in my license page and I had a custom page before it with a couple dialouge boxes in it.  <br />
<br />
I just put the dialouge boxes in the .oninit function instead of the custom page and now theres no back button on my license page.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>