<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Math tricks and examples, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Math tricks and examples NSIS Discussion" />
	
	<title> Math tricks and examples [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Math tricks and examples</div>
<hr />
<div class="pda"><a href="t-149345.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=149345">Math tricks and examples</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">brainsucker</div><div class="date">15th September 2003, 21:55</div></div><div class="posttext">Math final attached.<br />
May be I'll post here some useful scripts...<br />
<br />
Let's start with Position function, use like pos=P(text,subs) and it will place position of first occurrence of subs at text or -1 if not found.<br />
Use example:<br />
Math::Script &quot;r0=P('Where it is?', 'it')&quot;<br />
will place 6 to $0.<br />
Source (should be defined before use of course):<br />
Math::Script /NOUNLOAD &quot;P(s,e, p,i) (p=-1;i=0; #{(i&lt;l(s))&amp;&amp;(p&lt;0), #[s[i,i+l(e)-1]==e, p=i]; i++}; p)&quot;<br />
<br />
The second one is Search And Replace, result=SaR(text,s,r). s and r are the arrays of search and replace text pairs.<br />
Example:<br />
Math::Script &quot;a = 'Hello\r\nWorld!!!'; a = SaR(a,{'\r','\n'},{'$\r','$\n'}); r0 = a&quot; <br />
this will place hello world with real $\r and $\n to $0.<br />
Source:<br />
Math::Script /NOUNLOAD 'SaR(s,fa,ra, i,f,r,e,p) (i=0;#{i&lt;l(fa),e=l(f=fa[i]);r=ra[i];p=0;#{p&lt;l(s),#[s[p,p+e-1]==f,s=(s[,p-1])+r+(s[p+e,]);p+=l(r), p++]}; i++}; s);'</div></div><hr />


<div class="post"><div class="posttop"><div class="username">brainsucker</div><div class="date">15th September 2003, 23:24</div></div><div class="posttext">Fuh... it looks terrible.<br />
Anyway, I've forgotten mathtest.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th September 2003, 00:09</div></div><div class="posttext">Thanks Nik, uploaded.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">psyke</div><div class="date">16th September 2003, 03:00</div></div><div class="posttext">sorry for being slightly? ;) off topic, but i just wanted to thank you brainsucker for this plugin, and all your other work too.<br />
<br />
i can't imagine how you thought of and wrote system.dll, just using it is cryptic enough - lol. i saw your work on that system tray plugin, and the banner plugin too... we're really lucky to have contributors like yourself. thanks. :)<br />
<br />
and kichik, no praise is enough for you. ;) all this work on the nsis core (and plugins etc.), and so patient and helpful with people in the forums, you're an example to everyone, really. :)<br />
<br />
many thanks to joost for his hard work on MUI which has raised NSIS above all criticisms in terms of it's appearance. I think NSIS installers look better than those of the competitors now. ;)<br />
<br />
my apologies to other contributors, even those who write scripts and the like for the archive, you're too numerous to mention, but i thank you too. :)<br />
<br />
salaam/peace</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th September 2003, 10:26</div></div><div class="posttext">Thank you very much psyke! :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">brainsucker</div><div class="date">16th September 2003, 11:18</div></div><div class="posttext">psyke: thanx ;)<br />
<br />
KichiK: calc.exe ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th September 2003, 11:28</div></div><div class="posttext">I was actually thinking of something like this:<br />
<br />
http://education.ti.com/images/products/graphing/92pluscalc.jpg<br />
<br />
or this one: http://www.technoplaza.net/images/89large.jpg<br />
<br />
;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">brainsucker</div><div class="date">16th September 2003, 14:31</div></div><div class="posttext">heh, they are not cool enough (for me).<br />
I prefer something like that http://www.computer-museum*****images/precomp/felix.jpg, or even that http://www.savel*****museum/soviet_calc/abac.jpg.<br />
<br />
Have you ever programmed something like that? ;) It gives you not only moral pleasure, but also forces you to do some physical exercises... Really cool :))) I'll think about introducing something like that in to the next version of Math ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th September 2003, 19:23</div></div><div class="posttext">:D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">17th September 2003, 01:29</div></div><div class="posttext">&quot;Math&quot; plugin will be a wrong name if you add much of other things than the mathematics things (i.e. Search &amp; Replace). If is called &quot;Math&quot;, have to be focused on all things in the mathematics subject. (Things like that, you should put in other dll, isn't it?)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">17th September 2003, 09:05</div></div><div class="posttext">good i have taken a look into this thrad, deguix is right, i thought it is something like a calculator to solve my math problems :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">brainsucker</div><div class="date">17th September 2003, 23:19</div></div><div class="posttext">SaR is just demonstration of posibilities. Since I wrote a expression parser for math, it took almost nothing to include the support for string operations, on the other side if I am using math anyway, it comes more naturally to me to work with strings using C style scripting, than to write such functions in NSIS script language.<br />
<br />
Btw, fast prime numbers function (use PN(from, to), returns array):<br />
PN(f,t, m,a,b,c,n,i,d,k) (m=sqt(t)+1;a={};b={};c=n=0; i=2; #{i&lt;t, d=k=0; #{(!k)&amp;&amp;(d&lt;n), #[i%(a[d++])==0, k++]}; #[!k,#[i&gt;=f,b[c++]=i];#[i&lt;=m,a[n++]=i,#[i&lt;f,i=f-1]]]; i++}; b);<br />
<br />
Example of use:<br />
r0='Res: '; a=PN(1000000,1010000); i=-10;l=l(a); #{(i+=10)&lt;l, r0+= a[i] + ' '}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">18th September 2003, 01:12</div></div><div class="posttext">Maybe it can be more simpler... You know how to use the C style scripting, but I'm not. Please, make macros or defines for the codes... Or put all in the documentation (if isn't here).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">brainsucker</div><div class="date">18th September 2003, 22:05</div></div><div class="posttext">Macros or defines for what? It's obvious enough at simple level, and I couldn't write macros for advanced cases since they are countless.<br />
For example we want to take square root from the result of division of the sum of $0 and $1 by $2, and place it into $3. Here it is:<br />
<br />
r3=sqt((r0+r1)/r2)<br />
<br />
since the parcer will treat numbers as int if it will not meet . or e sign, you could add f to calculate division right anyway:<br />
<br />
r3=sqt(f(r0+r1)/r2)<br />
<br />
I don't know what to place in macros or defines here :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">19th September 2003, 00:41</div></div><div class="posttext">Macros or defines for what?<br />
<br />
For easily put big codes as the Search and Replace. I.e.:<br />
<br />
!define Search&amp;Replace 'SaR(s,fa,ra, i,f,r,e,p) (i=0;#{i&lt;l(fa),e=l(f=fa[i]);r=ra[i];p=0;#{p&lt;l(s),#[s[p,p+e-1]==f,s=(s[,p-1])+r+(s[p+e,]);p+=l(r), p++]}; i++}; s);'<br />
<br />
Section<br />
  Math::Script &quot;${Search&amp;Replace}&quot;<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">brainsucker</div><div class="date">19th September 2003, 11:32</div></div><div class="posttext">Huh :)<br />
Idea :)<br />
Anyway, using system.dll as an example, I know that nobody uses include files (beside MUI of course :)<br />
<br />
On the other hand such a call could be done once for the script with /NOUNLOAD param (for example at OnInit), and then the &quot;SaR(,{},{})&quot; function could be simply used. <br />
So, thank you for idea, I'll think...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>