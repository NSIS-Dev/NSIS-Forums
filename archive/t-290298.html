<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Log Details, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Log Details NSIS Discussion" />
	
	<title> Log Details [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Log Details</div>
<hr />
<div class="pda"><a href="t-290298.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290298">Log Details</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">15th April 2008, 21:55</div></div><div class="posttext">I'm using a TextLog.nsh that provides some functions to log text to a file, but I would also like all the output from the instfiles page(or in my case MUI_PAGE_INSTFILES) logged to a file as well.  Or if it is silent, log what would be shown in the instfiles page if such a page had been displayed.<br />
<br />
Is there a way to access that data through the script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th April 2008, 21:56</div></div><div class="posttext">Can you not use the logging special build?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">15th April 2008, 22:08</div></div><div class="posttext">Originally posted by Afrow UK <br />
Can you not use the logging special build? <br />
No... which would mean &quot;I can't not&quot;?  I know not if I can't, as I have not tried :D  I see now the Advanced Logging download in Special Builds.  I will check that out, thanks.<br />
<br />
Just now in searching the manual for more info on that build, I also saw this:<br />
D.4 Dump Content of Log Window to File<br />
http://nsis.sourceforge.net/Docs/AppendixD.html#D.4<br />
<br />
Does anyone know off the top of their head if that script would work on a silent install?  I would guess no but just curious.  I can't read scripts that have system calls in them, I haven't wrapped my head around the syntax yet.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th April 2008, 23:28</div></div><div class="posttext">You can make a simple test to check it out, but I'll save you the trouble because you've asked nicely and say it doesn't work with silent installations.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">25th April 2008, 23:42</div></div><div class="posttext">The advanced logging build is awsome, with exception of one problem.  <br />
<br />
I can't seem to get it to change the location of the log file.  I understand it goes to $INSTDIR\installer.log, so in .oninit I backup the value of $INSTDIR, then set $INSTDIR to a subdirectory, create the directory, then turn logging on.  Later, after directory selection takes place, I want to turn off logging, move the log file, and start logging again.  So I came up with the below code to test this out.  Problem is, it continues to log in the original file.  Not sure if there is anything I can do about this.  I could wait till the very end to move the file manually though.<br />
  StrCpy $0 $INSTDIR  ;backup value of $INSTDIR  <br />
  StrCpy $INSTDIR &quot;$INSTDIR\Logs\Installer1&quot;<br />
  CreateDirectory &quot;$INSTDIR&quot;<br />
  LogSet on  <br />
  StrCpy $INSTDIR $0  ;restore original value of INSTDIR<br />
  LogText &quot;Here is a bunch of text logged via LogText to the first location: ${__LINE__}&quot;<br />
  DetailPrint &quot;Here is a bunch of text logged via DetailPrint: ${__LINE__}&quot;<br />
  LogSet off<br />
  StrCpy $0 $INSTDIR  ;backup value of $INSTDIR  <br />
  StrCpy $INSTDIR &quot;$INSTDIR\Logs\Installer2&quot;<br />
  CreateDirectory &quot;$INSTDIR&quot;<br />
  LogSet on<br />
  LogText &quot;Here is a bunch of text while logging is in the second location: ${__LINE__}&quot;<br />
  LogSet off</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>