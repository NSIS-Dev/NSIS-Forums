<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Can't create a directory, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Can't create a directory NSIS Discussion" />
	
	<title> Can't create a directory [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Can't create a directory</div>
<hr />
<div class="pda"><a href="t-373462.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=373462">Can't create a directory</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">northwind</div><div class="date">2nd November 2013, 23:20</div></div><div class="posttext">Hi guys,<br />
<br />
This is my first post.<br />
<br />
I try to create a script to build a installation file. I have put the program files under the $INSTDIR\myProgramName\. Then I want to put the license file into a directory under the $APPDATA. There is no error from NSIS, but after installing the program, I found the directory under $APPDATA is not created and the license file can't be installed.<br />
<br />
Here is the script snippet:<br />
<br />
  SetOutPath &quot;$APPDATA\myCompay\myprogram\xx unfold srf&quot;<br />
  File &quot;..\testfolders\license.lic&quot;<br />
<br />
Could anyone tell me where I should go to find the problem?<br />
<br />
I run win7 64bit, but the program should be installed on 32&amp;64, xp, win7 and win8.<br />
<br />
thank you<br />
John</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Highcoder</div><div class="date">3rd November 2013, 00:23</div></div><div class="posttext">Hello,<br />
<br />
I guess you use SetExecutionLevelAdmin?<br />
<br />
Where want you to store the license file?<br />
<br />
Under SetShellVarContext Current it will be stored under &quot;c:\users\username\appdata\roaming\myCompay\myprogram\xx unfold srf&quot;<br />
<br />
Under SetShellVarContext All it will be stored under<br />
&quot;c:\ProgramData\myCompay\myprogram\xx unfold srf&quot;<br />
<br />
If you want it in localappdata instead of roaming you should use $LOCALAPPDATA.<br />
<br />
And you have a look for compiler warnings. Maybe nothing found under  &quot;..\testfolders\license.lic&quot; and you have to use the full path instead of the relative one.<br />
<br />
cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">northwind</div><div class="date">3rd November 2013, 01:57</div></div><div class="posttext">highcoders,<br />
<br />
thank you for your quick reply. I found the problem, the script is correct, but SetShellVarContext has current as default. I need to use SetShellVarContext all to make it work.<br />
<br />
Regards<br />
john</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>