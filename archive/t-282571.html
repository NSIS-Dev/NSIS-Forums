<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Username and Password, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Username and Password NSIS Discussion" />
	
	<title> Username and Password [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Username and Password</div>
<hr />
<div class="pda"><a href="t-282571.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282571">Username and Password</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Fightin_Foo</div><div class="date">3rd December 2007, 15:05</div></div><div class="posttext">I am trying to write an installer for a service, and I would like the service to be installed under the current user and not the system user.  I've seen several plugins that handle services, and they need to username and password of the account to install the service to.  Is there a way to get a user's username and password?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ClayDowling</div><div class="date">3rd December 2007, 16:29</div></div><div class="posttext">nsDialogs would be a good place to start.  I wrote my first custom screen last week and fell completely in love with it.  Much easier to use than the old InstallOptions.<br />
<br />
You'll need to verify that the username and password are valid before you accept them, which you should do on the Leave function of your custom page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fightin_Foo</div><div class="date">3rd December 2007, 16:38</div></div><div class="posttext">I was hoping for a way of just getting them and not prompting the user.  Is there a way to just look them up with some system call or registry entry?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd December 2007, 16:42</div></div><div class="posttext">username:<br />
System::Call &quot;advapi32::GetUserName(t .r0, *i ${NSIS_MAX_STRLEN} r1) i.r2&quot;<br />
DetailPrint &quot;User name - $0&quot;<br />
<br />
to get the password you would probably have to bruteforce the SAM database lol</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ClayDowling</div><div class="date">3rd December 2007, 16:43</div></div><div class="posttext">Not particularly.  For one, the installing user probably isn't the one who will be running the service.  Having a service run as a user with Administrative privileges is a really bad idea, because any flaw in your program will allow an attacker to smash the stack in your program and run their own code on the machine with administrator rights.<br />
<br />
There's a system account with privileges less than an administrator that is a common choice, but I don't know the details of using it.  The absolute safest option is to create your own user and run the service as that user.  That user has extremely restricted privileges, so that even if miscreants hijack your service they'll be fairly restricted in what they can do.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fightin_Foo</div><div class="date">4th December 2007, 14:18</div></div><div class="posttext">Thanks for all the info everybody.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>