<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" PAssDialog + Number.txt, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  PAssDialog + Number.txt NSIS Discussion" />
	
	<title> PAssDialog + Number.txt [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  PAssDialog + Number.txt</div>
<hr />
<div class="pda"><a href="t-275503.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=275503">PAssDialog + Number.txt</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kallan06</div><div class="date">7th August 2007, 09:08</div></div><div class="posttext">Hi all ! Please i need help :(<br />
<br />
It's possible with passDialog to verify serial number with table, .txt or other...<br />
<br />
I explain my problem : <br />
I've an .txt file with 1000 serials,<br />
<br />
Number.txt<br />
1111-1111-1111-1111-1111<br />
2222-2222-2222-2222-2222<br />
3333-3333-3333-3333-3333<br />
......<br />
 <br />
<br />
Is it possible to integrate these 1000 serials in nsis script? <br />
Is it possible with passDialog to compare the serial entered with 1000 serials list? If yes, how ? <br />
<br />
<br />
Please help me :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th August 2007, 15:40</div></div><div class="posttext">PassDialog doesn't do the comparing, you have to do it in your NSIS code.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ClayDowling</div><div class="date">7th August 2007, 23:32</div></div><div class="posttext">kallan06,<br />
<br />
Use the file functions to read the data from the file.  That will work very well.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">8th August 2007, 02:37</div></div><div class="posttext">What is going to stop a user from just looking at the text file in $plugins dir(I assume you would put it there) ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ClayDowling</div><div class="date">8th August 2007, 02:43</div></div><div class="posttext">I would assume that there is nothing to prevent them from doing that.  Since decompiling an NSIS script isn't a major challenge either, I would expect cracks of this app to be circulating fairly quickly.  It's possible though that it's considered a low-value target.<br />
<br />
There is a registration component which I wrote that might be a happier solution.  You can find it in the plugins section.  I won't claim that it's rock-solid though, just better than a list of valid serials in a text file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kallan06</div><div class="date">8th August 2007, 15:24</div></div><div class="posttext">that works perfectly if is in MUI<br />
<br />
<br />
Name    &quot;Serial&quot;<br />
OutFile &quot;Serial.exe&quot;<br />
<br />
## Include headers<br />
!include MUI.nsh<br />
!include LogicLib.nsh<br />
## Pages<br />
 !insertmacro MUI_PAGE_WELCOME<br />
 Page custom SerialPageShow SerialPageLeave<br />
;!define MUI_PAGE_CUSTOMFUNCTION_SHOW ComponentsPageShow<br />
 !insertmacro MUI_PAGE_COMPONENTS<br />
 !insertmacro MUI_PAGE_INSTFILES<br />
<br />
## Languages<br />
!insertmacro MUI_LANGUAGE English<br />
<br />
## Displays the serial dialog<br />
Function SerialPageShow<br />
<br />
 !insertmacro MUI_HEADER_TEXT &quot;Enter Serial Code&quot; &quot;Enter the software serial code to continue.&quot;<br />
<br />
 PassDialog:: Dialog Serial            \<br />
                    /HEADINGTEXT 'Please enter the serial code located on the software CD case...' \<br />
                    /CENTER             \<br />
                    /BOXDASH 12  70 4 '' \<br />
                    /BOXDASH 92  70 4 ''  \<br />
                    /BOXDASH 172 70 4 ''   \<br />
                    /BOXDASH 252 70 4 ''    \<br />
                    /BOX     332 70 4 ''<br />
<br />
  Pop $R0 # success, back, cancel or error<br />
<br />
FunctionEnd<br />
<br />
## Validate serial numbers<br />
Function SerialPageLeave<br />
<br />
 ## Pop values from stack<br />
 Pop $R0<br />
 Pop $R1<br />
 Pop $R2<br />
 Pop $R3<br />
 Pop $R4<br />
<br />
<br />
 ## A bit of validation<br />
<br />
;StrCpy '$5' '$R0-$R1-$R2-$R3-$R4'<br />
StrCpy '$5' '$R0-$R1-$R2-$R3-$R4$\r$\n'<br />
StrCpy $6 0<br />
<br />
Loop:<br />
IntOp $6 $6 + 1<br />
StrCmp $6 500 Bad ;1 more than the # serials in file<br />
Push $6 ;line number to read from <br />
File /oname=$PLUGINSDIR\serial.txt &quot;Numbers.txt&quot;<br />
Push &quot;$PLUGINSDIR\serial.txt&quot; ;text file to read <br />
Call ReadFileLine <br />
Pop $0 ;output string (read from file.txt) <br />
StrCmp $0 $5 Good<br />
Goto Loop<br />
<br />
Bad:<br />
MessageBox MB_OK|MB_ICONEXCLAMATION &quot;The entered username or password is incorrect!&quot;<br />
Delete &quot;$PLUGINSDIR\serial.txt&quot;<br />
Abort<br />
<br />
Good:<br />
Delete &quot;$PLUGINSDIR\serial.txt&quot;<br />
FunctionEnd<br />
<br />
Function ReadFileLine<br />
Exch $0 ;file<br />
Exch<br />
Exch $1 ;line number<br />
Push $2<br />
Push $3<br />
<br />
  FileOpen $2 $0 r<br />
 StrCpy $3 0<br />
Loop:<br />
 IntOp $3 $3 + 1<br />
  ClearErrors<br />
  FileRead $2 $0<br />
  IfErrors +2<br />
 StrCmp $3 $1 0 loop<br />
  FileClose $2<br />
<br />
Pop $3<br />
Pop $2<br />
Pop $1<br />
Exch $0<br />
<br />
FunctionEnd<br />
<br />
## Just a dummy section<br />
Section 'A section'<br />
SectionEnd<br />
 <br />
<br />
<br />
You have and idea why &quot;SerialPageLeave&quot; don't display with XPUI mode</div></div><hr />


<div class="post"><div class="posttop"><div class="username">anandharaja</div><div class="date">7th March 2009, 02:17</div></div><div class="posttext">iam searching a script like this thanks. hai friend i want a script like this for UltraModernUI Serial number page. please give script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Manchut</div><div class="date">14th February 2013, 06:23</div></div><div class="posttext">I look this script and somebody know how must look files: serial.txt and numbers.txt? Thanks for help</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>