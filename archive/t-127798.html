<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Change top bitmap in modern ui, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Change top bitmap in modern ui NSIS Discussion" />
	
	<title> Change top bitmap in modern ui [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Change top bitmap in modern ui</div>
<hr />
<div class="pda"><a href="t-127798.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=127798">Change top bitmap in modern ui</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 09:26</div></div><div class="posttext">Hi<br />
<br />
is there a way to change the white bar (with the installer icon) on the top of the modern ui installers to a bitmap like in some installshield setups?<br />
<br />
DOCa Cola<br />
<br />
http://www.borgcore.de/outerspace/norton.png</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 12:04</div></div><div class="posttext">I think I'll add an option for it to the Modern UI :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 12:07</div></div><div class="posttext">cool, thx!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 14:49</div></div><div class="posttext">Modern UI 1.63 with header bitmap support and some other new features is ready.<br />
<br />
I can't upload it now, because a stupid router somewhere is dead so I can't connect to SourceForge :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 14:51</div></div><div class="posttext">yay, can't wait for it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">9th March 2003, 15:02</div></div><div class="posttext">From Homer Simpson:<br />
Woohoo<br />
<br />
<br />
:up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 15:27</div></div><div class="posttext">Here is a screenshot. Still can't upload :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 15:37</div></div><div class="posttext">nice!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">9th March 2003, 15:40</div></div><div class="posttext">Cool :up:  Can we change the top text alignment? Center, right, left?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 15:44</div></div><div class="posttext">good idea<br />
and something like toptext_left=200 (yep, not a very creative name :))</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 15:45</div></div><div class="posttext">It's not possible to put an image behind the text, but you can put the bitmap on the left or right side.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">9th March 2003, 15:49</div></div><div class="posttext">But It'll be both... Header and SubHeader in modern UI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 15:54</div></div><div class="posttext">The header bitmap has a fixed size. With the default DPI, it has a width of 150 pixels, so the text does fit next to the image.<br />
<br />
You can either put the image on the left size (text will be moved a bit to the right side) or on the right side.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">9th March 2003, 16:45</div></div><div class="posttext">That's very cool!<br />
Can't wait for that<br />
:D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 18:53</div></div><div class="posttext">Uploaded :D Grab the latest CVS version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 18:54</div></div><div class="posttext">yay!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 19:51</div></div><div class="posttext">wouldn't it be better if the header bitmap can be used this way?<br />
!define MUI_HEADERBITMAP &quot;${NSISDIR}\Contrib\Icons\modern-header.bmp&quot;<br />
!define MUI_UI &quot;${NSISDIR}\Contrib\UIs\modern_headerbmp.exe&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 19:53</div></div><div class="posttext">You don't have to define MUI_UI. The headerbitmap UI is an extension which will be used automatically.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 19:55</div></div><div class="posttext">yep, but it's then more complicated to use an custom made UI<br />
or am i wrong?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 20:08</div></div><div class="posttext">I'll add an option to use a customized header UI with dialog IDD_INST.<br />
<br />
edit: Done :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 20:36</div></div><div class="posttext">erm, can you give me an example, pls? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 21:01</div></div><div class="posttext">!define MUI_UI &quot;normal ui&quot;<br />
!define MUI_UI_HEADERBITMAP &quot;ui with custom IDD_INST resource&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">9th March 2003, 21:14</div></div><div class="posttext">!define MUI_UI_HEADERBITMAP_RIGHT &quot;ui with custom IDD_INST resource&quot;<br />
<br />
Use this if you want to use the header bitmap in the right.<br />
<br />
(if you edited with the ${NSISDIR}\Contrib\UIs\modern-headerbmpr.exe&quot;)<br />
<br />
And how about a option to allow use the icon and the bitmap at same time (and put the icon on the bitmap)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">9th March 2003, 21:41</div></div><div class="posttext">I know there i a way to make the background of a text label transparent (this is possible in visual basic and is also used in install shield).<br />
if the bitmap in the dialog ressource is then arranged to be behind the two text labels then we can use bitmaps with the full width of the header and they do not cover the text labels anymore</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">9th March 2003, 21:44</div></div><div class="posttext">Great job Joost!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th March 2003, 22:40</div></div><div class="posttext">NSIS does not support transparent labels.<br />
<br />
This would be a nice feature for the future, but you would also need a possibility to resize the dialog control.<br />
<br />
I think this won't be ready anytime soon, there is still a lot of stuff on the TODO list.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">10th March 2003, 03:49</div></div><div class="posttext">Nice work dude :up: :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">10th March 2003, 08:16</div></div><div class="posttext">Well, well, well<br />
Great enhancement Major Dude!<br />
:D  Thx again (make things look smoother...)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">10th March 2003, 12:51</div></div><div class="posttext">Originally posted by Joost Verburg <br />
This would be a nice feature for the future, but you would also need a possibility to resize the dialog control.<br />
 <br />
Sorry, which dialog control?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">10th March 2003, 15:42</div></div><div class="posttext">The bitmap control.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">10th March 2003, 15:51</div></div><div class="posttext">For the beginning it would not be necessary to integrate the custom size feature, because people can make their own custom header UIs with the bitmap size they need and the labels set to foreground through reshacker. Then the transparent label feature would be good for people who really need to customize the ui and can wait for the easier commands in the later builds.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">10th March 2003, 15:55</div></div><div class="posttext">Maybe a feature for transparency will be added to NSIS in the future.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">10th March 2003, 16:26</div></div><div class="posttext">Is it not just a matter of calling SetBkMode(dc,TRANSPARENT) ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">10th March 2003, 16:31</div></div><div class="posttext">I'm not sure. I think you also have to respond to a message.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th March 2003, 20:28</div></div><div class="posttext">Yea, it must be in a message. There is already some partly transparent code for the MUI's branding text, I'll try to get a transparent text option out of it too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Andrew Francis</div><div class="date">11th March 2003, 02:50</div></div><div class="posttext">The message you're thinking of is WM_CTLCOLORSTATIC<br />
<br />
You probably want something like this:<br />
<br />
case WM_CTLCOLORSTATIC:<br />
{<br />
  HWND ctl = (HWND)lp;<br />
  HDC hdc = (HDC)wp;<br />
  if(ctl == APPROPRIATE_CONTROL)<br />
    SetBkMode(hdc, TRANSPARENT);<br />
  else<br />
    SetBkMode(hdc, OPAQUE);<br />
  return 0; // we're meant to return a brush, but this should<br />
            // get us a default<br />
}<br />
<br />
This didn't work quite right the one time I tried it, but that was on the PocketPC, where nothing works quite as it should :/</div></div><hr />


<div class="post"><div class="posttop"><div class="username">raffiX</div><div class="date">16th December 2003, 15:37</div></div><div class="posttext">Fist sorry my post.<br />
<br />
Second: Cool. The bitmap is COOL.<br />
<br />
Third: How I can use my own headbitmap?<br />
I think, it is better, when I can make an own bitmap, which is right for the program I want to install, am I right?<br />
<br />
So long,<br />
raffiX, 15; Germany, NRW, Cologne</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">16th December 2003, 16:18</div></div><div class="posttext">Check the Modern UI Readme:<br />
<br />
Use MUI_HEADERIMAGE to enable the image and MUI_HEADERIMAGE_BITMAP to use a custom bitmap.<br />
<br />
(Modern UI 1.67/1.68)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LazyBear</div><div class="date">17th December 2003, 07:18</div></div><div class="posttext">As I said, I'm quite to dumb for this :D I had Errors with MUI_HEADERIMAGE_BITMAP but I used a simple way which I used in InstallShield some time ago:<br />
<br />
take your bitmap, and save it as <br />
...\NSIS\Contrib\Graphics\Header\nsis.bmp<br />
<br />
As me and my friends say: if you don't understand how to do it, try to find another way...<br />
<br />
I know this isn't the best way and in fact not the way you mentioned, but it works well :)<br />
<br />
so long -L-B-</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">17th December 2003, 11:26</div></div><div class="posttext">It's a very simple setting:<br />
<br />
!define MUI_HEADERIMAGE_BITMAP &quot;yourbitmap.bmp&quot;<br />
<br />
No need to overwrite the default image file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bunker</div><div class="date">4th February 2004, 19:04</div></div><div class="posttext">Well, I'm trying to add a header bitmap with NSIS 2.0 RC4 and not having much success.<br />
<br />
I do not get any bitmap with any of these:<br />
!define MUI_HEADERIMAGE_BITMAP &quot;${NSISDIR}\Contrib\Graphics\Header\nsis.bmp&quot;<br />
!define MUI_HEADERIMAGE_BITMAP &quot;nsis.bmp&quot;<br />
<br />
But with:<br />
!define MUI_HEADERIMAGE<br />
or<br />
!define MUI_HEADERIMAGE &quot;whatever.bmp&quot;<br />
I get the default nsis.bmp from the ${NSISDIR}\Contrib\Graphics\Header\ dir. <br />
<br />
If I replace the default nsis.bmp with my own bmp my custom bmp works as well.<br />
<br />
My custom bmp is 150x57 as required.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">4th February 2004, 21:29</div></div><div class="posttext">!define MUI_HEADERIMAGE<br />
!define MUI_HEADERIMAGE_BITMAP &quot;whatever.bmp&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bunker</div><div class="date">5th February 2004, 00:23</div></div><div class="posttext">Oh, you mean I need both? Yup that solved it. But I just couldn't figure that out from the docs.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>