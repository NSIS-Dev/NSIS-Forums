<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSISdl problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSISdl problem NSIS Discussion" />
	
	<title> NSISdl problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSISdl problem</div>
<hr />
<div class="pda"><a href="t-143003.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=143003">NSISdl problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st July 2003, 12:54</div></div><div class="posttext">I'm experiencing problems with NSISdl on a few of my users' machines.<br />
The users are running big Firewalls, which is causing NSISdl to fail everytime.<br />
Is there going to be a way to fix this, because I'm sure this will make (or has made) a lot of installers using NSISdl to not function correctly...<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st July 2003, 13:21</div></div><div class="posttext">Is Internet Explorer working properly? Can you get Internet Explorer's proxy configuration from them?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st July 2003, 13:26</div></div><div class="posttext">The only user I am able to contact now, uses NetScape.<br />
He has no Proxy settings, and has a direct connection.<br />
<br />
The other one having problems is away.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st July 2003, 13:28</div></div><div class="posttext">Ok, user 1 fixed the problems.<br />
He messed around with a firewall setting, and that fixed it.<br />
<br />
Soberly Challenged says:<br />
<br />
for some reasons, the firewall was blocking it<br />
even though I told it to give access<br />
but if you could get the app to be able to use an http and ftp proxy that would be great<br />
just have it as an option for the people that need it<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st July 2003, 13:31</div></div><div class="posttext">NSISdl uses the proxy setting from Internet Explorer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st July 2003, 14:45</div></div><div class="posttext">I will see what my other user has to say...<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">codehistorian</div><div class="date">21st August 2003, 15:34</div></div><div class="posttext">I am having the same problem with NSIS 2.  Any luck figuring this one out?  I tested NSISdl's ability to grab proxy settings from IE, and it seems to do that just fine.  However even without any proxy configuration we get those complaints from our users.<br />
<br />
Thanks much in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st August 2003, 21:56</div></div><div class="posttext">In the end, users had to configure their firewall settings to fix the problems.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fromcat2me</div><div class="date">25th September 2003, 16:35</div></div><div class="posttext">Hi,<br />
<br />
I'm writing a script that uses nsisDL a lot, it's been working great but i have 2 issues.<br />
<br />
1) Would it be possible to have an option to not display what files are being downloaded (just not display the names, progress bar is good)<br />
<br />
2) I get crashes using my firewall. I've put MessageBox statements around the call to download() and its definitely happening in the dll. I'm using kerio software firewall. When the installer tries to connect to the internet i get a dialog from kerio saying an app is trying to call out. i can then accept or deny it (there is a checkbox to then accept all or deny all traffic), if i deny all with the checkbox on, the installer is fine. If i keep hitting deny (deny, deny, deny), it will crash out the installer.<br />
<br />
anyone else get this / reproduce this? I'll start hacking around the dll and see if i can resolve it, but if the writers can (or someone else involved in the project), the better</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">25th September 2003, 16:46</div></div><div class="posttext">1) You can use the quiet option. If you want a progessbar, you have to modify the source to make it hide the name.<br />
<br />
2) We have never had reports about NSISdl crashing. Please create a debug version and see where it crashes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fromcat2me</div><div class="date">25th September 2003, 17:05</div></div><div class="posttext">Originally posted by Joost Verburg <br />
1) You can use the quiet option. If you want a progessbar, you have to modify the source to make it hide the name.<br />
<br />
2) We have never had reports about NSISdl crashing. Please create a debug version and see where it crashes.  <br />
<br />
thanks for the quick reply. I've coded the change for the name removal<br />
<br />
about the firewall crashing, I get the crash at line 70 of nsisdl.cpp<br />
<br />
return CallWindowProc((long (__stdcall *)(struct HWND__ *, unsigned int, unsigned int, long))lpWndProcOld, hwnd, message, wParam, lParam);<br />
<br />
i'm debuggin this with the code from cvs, not my edited code. the message var is WM_ACTIVATE, wnd seems valid, though i haven't checked, maybe its because the dialog for the firewall is the foreground window? i'm not sure, i'll investigate, if you have any ideas, or ideas on how to get you further info, please post</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th September 2003, 12:52</div></div><div class="posttext">Is this firewall a free download or do I have to pay to get it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">26th September 2003, 13:37</div></div><div class="posttext">Can you include attach a script too? Are you downloading multiple files?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">psyke</div><div class="date">26th September 2003, 18:06</div></div><div class="posttext">Originally posted by kichik <br />
Is this firewall a free download or do I have to pay to get it?  <br />
<br />
From the kerio (http://www.kerio.com/us/kpf_download.html) site: &quot;Kerio Personal Firewall is free for home and personal use.&quot;<br />
<br />
keep up the great work! :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th September 2003, 18:08</div></div><div class="posttext">I see two of them on the website, one of them is not free. I need to know exactly which one it is.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">psyke</div><div class="date">26th September 2003, 21:59</div></div><div class="posttext">sorry, I thought there was only one firewall offered by kerio with different licneses.<br />
<br />
Of course only Afrow knows what exactly his user is umm.... using. ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fromcat2me</div><div class="date">30th September 2003, 22:26</div></div><div class="posttext">its the free firewall<br />
&quot;kerio personal firewall 2.1.5&quot;<br />
link here<br />
<br />
http://www.kerio.com/dwn/kpf2-en-win.exe<br />
<br />
I can't post the script, as its huge and i'm using it at my co. its a very strange problem. I'm downloading multiple files, but i'm calling download multiple times (only one download per call to download right?)<br />
<br />
basically the code looks like<br />
<br />
NSISdl::download &quot;http://www.blah.com/blah.php&quot; &quot;$PLUGINSDIR\test.dat&quot;<br />
Pop $R1<br />
StrCmp $R1 &quot;cancel&quot; quit &quot;&quot;<br />
<br />
NSISdl::download &quot;http://www.blah.com/blah2.php&quot; &quot;$PLUGINSDIR\test2.dat&quot;<br />
Pop $R1<br />
StrCmp $R1 &quot;cancel&quot; quit &quot;&quot;<br />
<br />
<br />
this works find in 80% of the cases. sometimes i have a hard time getting it to crash, if its crashed once before. if i restart the computer, and keep hitting &quot;deny&quot; with correct timing, it will totally crash out.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fromcat2me</div><div class="date">3rd October 2003, 15:25</div></div><div class="posttext">Here is a simple script i'm using that can crash (brings up the &quot;send error report to microsoft&quot; dialog)<br />
<br />
again, it depends on some kind of weird timing with the firewall. you should not check the box to &quot;create a filter&quot;, you have to keep hitting deny at a certain rate, for me its about once a second, and i can get it to crash. Sometimes its ok, sometimes it crashes. I've seen this on multiple machines / OSes.<br />
<br />
<br />
InstType Standard<br />
<br />
Name &quot;Test crash app&quot;<br />
ComponentText &quot;This will crash sometimes&quot;<br />
OutFile &quot;crash.exe&quot;<br />
<br />
Page instfiles &quot;&quot; &quot;&quot; &quot;&quot;<br />
<br />
Section -DownloadScripts sec0<br />
   NSISdl::download /TIMEOUT=5000 &quot;http://www.google.com/not-there.html&quot; &quot;not-there.txt&quot;<br />
   Pop $R1<br />
<br />
   StrCmp $R1 &quot;cancel&quot; quitMe &quot;&quot;<br />
<br />
   NSISdl::download /TIMEOUT=5000 &quot;http://www.winamp.com/not-there.html&quot;  &quot;not-there2.txt&quot;<br />
   Pop $R1<br />
<br />
   StrCmp $R1 &quot;cancel&quot; quitMe &quot;&quot;<br />
<br />
   goto out<br />
<br />
quitMe:<br />
  Quit<br />
<br />
out:<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">9th November 2003, 21:47</div></div><div class="posttext">Ramon has found and fixed the bug. A fix should be uploaded soon.<br />
<br />
Thank you for your bug report and information fromcat2me.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aheld</div><div class="date">29th February 2004, 21:33</div></div><div class="posttext">Is there any more information on this issue? <br />
I can't find anything in the bug tracker and I have similar problem with 2.0b4.<br />
<br />
I need to upgrade to 2.0 anyway, but I have some font code that does not work in 2.0 yet.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">29th February 2004, 21:51</div></div><div class="posttext">Which issue are you refering to? Please post details about the problems and system configurations.<br />
<br />
You should also try the download stuff using NSIS 2.0. There have been no big language changes since beta 4, what is the font problem?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>