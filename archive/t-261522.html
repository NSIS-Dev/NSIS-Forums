<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" rapi::CeCreateProcess, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  rapi::CeCreateProcess NSIS Discussion" />
	
	<title> rapi::CeCreateProcess [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  rapi::CeCreateProcess</div>
<hr />
<div class="pda"><a href="t-261522.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=261522">rapi::CeCreateProcess</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zbd</div><div class="date">11th December 2006, 01:36</div></div><div class="posttext">Hi Please could anyone help me out here, I am needing to run the above command, and am unsure on how to create the necessary parameters for this to run from NSIS.<br />
The only one that is really giving me any trouble is how the create the structure to hold the return information. <br />
<br />
i.e.  <br />
LPPROCESS_INFORMATION lpProcessInformation<br />
 <br />
The doco states:<br />
lpProcessInformation<br />
[out] Long pointer to a PROCESS_INFORMATION structure that receives identification information about the new process.<br />
<br />
Thanks for any help you can give.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CancerFace</div><div class="date">11th December 2006, 09:03</div></div><div class="posttext">Are you talking about this (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/base/process_information_str.asp) structure?<br />
System::Call '*(i,i,i,i)i.R0'This stores the structure in R0 and you can use it in the rapi call as i R0.So it would beSystem::Call 'rapi::CeCreateProcess(w &quot;C:\some_dir\myapp.exe&quot;,w &quot;&quot;,,,,,,,,i R0)i.r9'you can then pull things out of the structure to NSIS variables $1-$4 like this:System::Call '*$R0(i.r0,i.r1,i.r2,i.r3)'I am a bit puzzled by the long pointer reference, but I can't really test this. If the rapi call is unsuccesfull it should feed a zero to $9 so you can check it. To debug it and see what the error is, use this:System::Call 'rapi::CeCreateProcess(w &quot;C:\some_dir\myapp.exe&quot;,w &quot;&quot;,,,,,,,,i R0)i.r9 ?e'<br />
Pop $8and look for the value of $8 (the error code) here (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/debug/base/system_error_codes.asp)<br />
Hope this helps ...<br />
CF</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>