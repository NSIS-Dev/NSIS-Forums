<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to disable the &quot;Make new folder&quot;, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to disable the &quot;Make new folder&quot; NSIS Discussion" />
	
	<title> How to disable the &quot;Make new folder&quot; [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to disable the &quot;Make new folder&quot;</div>
<hr />
<div class="pda"><a href="t-240349.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=240349">How to disable the &quot;Make new folder&quot;</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">josabraham</div><div class="date">9th March 2006, 11:38</div></div><div class="posttext">Hello<br />
<br />
Can any one tell me how to disable the &quot;Make new folder&quot; button on directory browse dialog. <br />
<br />
I am using Moden UI.<br />
<br />
Also in my installer I use folder browse dialog  to select a folder on the system by user and I check for a particluar file.Is there any option to keep the folder  browser dialog util the user selects a valid Folder(cotaining the required file).(he can close the dialog using cancel button if required)<br />
<br />
Can any one show me the code how to do this using Modern UI?<br />
<br />
I am creating acustom page using moden UI in this case. <br />
<br />
Best Regards<br />
<br />
Joseph</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">9th March 2006, 11:56</div></div><div class="posttext">To disable it, you have to change the source code, add the BIF_NONEWFOLDERBUTTON flag and recompile NSIS. There was a recent thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=238655&amp;highlight=new+folder) about this in InstallOptions.<br />
<br />
Without a custom page, use the .onVerifyInstDir callback function to keep the user on the browse dialog until the selected directory is valid. With a custom page, it's not possible, maybe with InstallOptionsEx.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">9th March 2006, 14:28</div></div><div class="posttext">Here's a suggestion that might work, if you were up to coding it:<br />
<br />
The DialogsEX (http://nsis.sourceforge.net/Dialog****plug-in)  plugin has a 'Classic Folder Box&quot; that doesn't include a 'create new folder' dialog that you might be able to use.<br />
<br />
However, since this plugin isn't a 'page' (it's actually a pop-up folder browser), you'd have to make your own custom page using a text box and a button. Using the page's leave function, you could look for a button click and display the folder browse screen.  Use SendMessage to update the text box with the return value of the folder box.  You could also let the user type directly into the text box and then check in the page's leave function to see that the folder name they type actually exists.<br />
<br />
I know, it's probably easier to just hack the source code, (which may be what you'll do anyway), but I thought I'd at least offer an alternative.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">josabraham</div><div class="date">9th March 2006, 15:06</div></div><div class="posttext">Hi all thank you for your quick reply,<br />
<br />
Hi kichik <br />
I got the new Installoptions.dll from the other thread.Why this option can be part of standard source and can be enabled by seting some paramets?<br />
<br />
Hi Comperio,<br />
<br />
I tried the link you pointed.But it only goes to your site.But no file was available for download<br />
<br />
http://plugins.joelito.net/descargas.php?file=dialogsex.zip<br />
<br />
best regards<br />
<br />
Joseph</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">9th March 2006, 17:18</div></div><div class="posttext">You can also try the DirPage plugin:<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=220950&amp;highlight=dirpage<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Eroger</div><div class="date">26th March 2013, 09:38</div></div><div class="posttext">Do these answers still stand? I would like to do exactly the same (in fact just greying out the &quot;Make New Folder&quot; button should be OK) in MUI2.<br />
<br />
At the moment the thread Kichik refers to in the second post uses InstallOptions which I'd rather not use as it is now described as deprecated, and it seems an overkill: MUI_PAGE_DIRECTORY is so straightforward to use! DirPage (http://nsis.sourceforge.net/Dirpage_plug-in) is not ideal (see developers comment section on that page) and I wonder how to call DialogEx when pressing the Browse button instead of the default Browse dialog.<br />
<br />
What would the solution of recompiling the source code (with a greyed out &quot;Make New Folder&quot;) consist of?<br />
<br />
Thank you,<br />
<br />
Eric</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">26th March 2013, 16:47</div></div><div class="posttext">Why do you want to add pointless restrictions?<br />
<br />
The user could just create a new folder in explorer or run your installer as setup.exe /S /D=c:\whatever\they\want</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Eroger</div><div class="date">26th March 2013, 17:07</div></div><div class="posttext">Thank you for your reply Anders.<br />
<br />
I understand that what I'm trying to do is not what the installer was exactly created for, however in my case (very controlled environment) the user cannot set where he wants to install my software.<br />
<br />
I'm using the Directory page/Browse to folder dialog only to look for the folder where the user has copied files that are required in a very specific upgrade type.<br />
<br />
In that context I would wish not to give the user the ability to make a new folder as this is not useful in this case.<br />
<br />
It's not a major problem, but surprisingly everything else can be changed to make the Directory page used not to set the output folder (which is what the control was created for), but as some kind of user input.<br />
<br />
As I'm not the only who's asked something along those lines, I thought that this is a case that might happen again in the future.<br />
<br />
Great work on that page and control by the way, it has literally saved me hours (if not days) and the solution was there in only 4 lines of additional NSIS code!<br />
<br />
Many thanks!<br />
<br />
Eric</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>