<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Add a mass of files and directories into my script., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Add a mass of files and directories into my script. NSIS Discussion" />
	
	<title> Add a mass of files and directories into my script. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Add a mass of files and directories into my script.</div>
<hr />
<div class="pda"><a href="t-251889.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=251889">Add a mass of files and directories into my script.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">niexuchina</div><div class="date">25th July 2006, 12:04</div></div><div class="posttext">NSIS uses &quot;File&quot; to extract file.<br />
When I have so meny files to be extracted, I have to write &quot;File file_name&quot; for each file.<br />
Is there another way to handle such installation with a mass of files?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">25th July 2006, 12:19</div></div><div class="posttext">If this file don't change often  <br />
you can simple put this into a zip file<br />
install this zip file in the temp folder<br />
and after this unzip the files in the required destination...<br />
<br />
But why not putting the &quot;File&quot; operation into a include file?<br />
so you have a main script which only controls the installation process and the huge list is in a extra file.<br />
<br />
To create the list of files<br />
probably this is usefull for you<br />
http://nsis.sourceforge.net/File_List_Generator<br />
(Eclipse NSIS also have this feature included)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">niexuchina</div><div class="date">25th July 2006, 13:17</div></div><div class="posttext">It's very kind of you for telling me that.I have handled this problem with wildcard in use of File.But the deletion of files and directories while uninstallion is still a little troublesom.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">25th July 2006, 13:31</div></div><div class="posttext">You can use wildcards also in the remove file<br />
and if you like to delete a whole directory with files use<br />
RMDIR /r  &quot;directoryname&quot;<br />
this recursivly deletes the whole directory (also all files inside) <br />
<br />
Also for the normal delete wildcards are working.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th July 2006, 14:33</div></div><div class="posttext">It is not recommended that you use RMDir /r to remove your program. What happens if the user installs your program to My Documents?<br />
<br />
I recommend that you create a seperate NSIS installer:<br />
http://nsis.sourceforge.net/Invoking_NSIS_run-time_commands_on_compile-time<br />
Which recursively loops through your files using:<br />
http://nsis.sourceforge.net/RecFind:_Recursive_FindFirst%2C_FindNext%2C_FindClose<br />
And generates NSIS code which implements the following:<br />
http://nsis.sourceforge.net/Uninstall_only_installed_files<br />
<br />
This seperate NSIS installer can be executed at compile time with !execute and you can include the generated script in your main script with !include.<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>