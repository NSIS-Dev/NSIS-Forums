<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Ask user for username and password and write to variable ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Ask user for username and password and write to variable ? NSIS Discussion" />
	
	<title> Ask user for username and password and write to variable ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Ask user for username and password and write to variable ?</div>
<hr />
<div class="pda"><a href="t-223205.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=223205">Ask user for username and password and write to variable ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">0001001</div><div class="date">2nd August 2005, 19:51</div></div><div class="posttext">Hi,<br />
<br />
I need to ask the user for a username and a password and write that to two variables. <br />
I need to do that because I need a customized shortcut to my software.<br />
<br />
So how can I ask the user for a username and a password and save that in a variable?<br />
<br />
Thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">0001001</div><div class="date">3rd August 2005, 01:20</div></div><div class="posttext">I've found out that a custom page would fit my needs, but I have some trouble making one.<br />
<br />
Thats my ini file I've created:<br />
[Settings]<br />
NumFields=2<br />
<br />
[Field 1]<br />
Type=Text<br />
State=Text<br />
Left=173<br />
Right=296<br />
Top=45<br />
Bottom=58<br />
<br />
[Field 2]<br />
Type=Text<br />
State=Text<br />
Left=173<br />
Right=296<br />
Top=62<br />
Bottom=75 <br />
<br />
But I don't have any clue how to create an custom page.<br />
Can someone please help me creating a custom page, which reads the user input from the two textfields.<br />
<br />
thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">3rd August 2005, 06:37</div></div><div class="posttext">You seem to have a good start.  But, I'd make Field #2 of type=Password.  (and take remove the &quot;state&quot; statement--you probably want them blank.)<br />
<br />
If you don't have it yet, I'd suggest downloading  HM NIS Edit  (http://hmne.sourceforge.net/).  It will make creating installoptions pages much easier.<br />
<br />
The installoptions docs and examples included with NSIS should give you plenty of info about how to display the page and read the values.<br />
<br />
Joel (aka Lobo Lunar) has a DiaglogsEx plugin that might also off another option.  But, it's in the form of a dialog, though, not a custom page. (Just depends on your taste.)<br />
<br />
It's on the wiki, which I can't get to at the moment, but maybe you can if you're curious...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">0001001</div><div class="date">3rd August 2005, 08:00</div></div><div class="posttext">i will give it a try. thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd August 2005, 12:03</div></div><div class="posttext">I wonder if it would be worth writing a plugin for this which can display different types of pages from username and password to say serial code boxes.<br />
<br />
Some may argue a custom page will work fine, but it has no password security (the password or serial will be stored in the INI file).<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">3rd August 2005, 17:46</div></div><div class="posttext">Interesting thought... <br />
I guess it depends on how secure you need to be.  But overall, I think this sounds like an excellenet idea.<br />
<br />
Would it be possible for the plugin to integrate with the existing InstallOptions format?  This would give the best of both worlds--the designer could still customize their page with the existing installoptions plus could keep things secure.  (might require some more brainstorming....)<br />
<br />
edit:<br />
Just some more food for thought:<br />
If there was just some way to grab the input string of the password while the user was typing, then you could either save the results in a variable or write them to the INI file in an encrypted form.  (The 'encryption' could be done on the fly by a function in the install.  It could be something very simple like outputting the characters in hex or more advanced like rearranging the ASCII codes for each character.)<br />
<br />
<br />
The InstallOptionsEx plugin I noticed has something that would almost work:  There is a speical notify for text and password boxes (ONTEXTCHANGE) that is supposed to trigger an event when when the user changes the state of the text on the control (i.e. when writing) before the change appears on screen.. <br />
<br />
Anyway, like I said, just some things to think about...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">0001001</div><div class="date">4th August 2005, 01:35</div></div><div class="posttext">Originally posted by Comperio <br />
You seem to have a good start.  But, I'd make Field #2 of type=Password.  (and take remove the &quot;state&quot; statement--you probably want them blank.)<br />
<br />
If you don't have it yet, I'd suggest downloading  HM NIS Edit  (http://hmne.sourceforge.net/).  It will make creating installoptions pages much easier.<br />
<br />
The installoptions docs and examples included with NSIS should give you plenty of info about how to display the page and read the values.<br />
<br />
Joel (aka Lobo Lunar) has a DiaglogsEx plugin that might also off another option.  But, it's in the form of a dialog, though, not a custom page. (Just depends on your taste.)<br />
<br />
It's on the wiki, which I can't get to at the moment, but maybe you can if you're curious...  <br />
<br />
I've tried and tried and tried but it just doesn't work.<br />
I don't need a user/pwd authentification I just need two textfields were the user enters his information and that info is stored in two variables.<br />
So DialogsEx isn't the right thing for me. I've taken a look  at the examples too but I can't find anything there that would fit my needs.<br />
Can someone please give me a hint how to create a custom page based on my ini file.<br />
thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">4th August 2005, 12:29</div></div><div class="posttext">It's quite simple:<br />
<br />
[Settings]<br />
NumFields=2<br />
<br />
[Field 1]<br />
Type=Text<br />
Left=173<br />
Right=296<br />
Top=45<br />
Bottom=58<br />
<br />
[Field 2]<br />
Type=Password<br />
Left=173<br />
Right=296<br />
Top=62<br />
Bottom=75<br />
<br />
<br />
You might also want to put some labels on there too.<br />
<br />
You need to read the values in the page's Leave function with MUI_INSTALLOPTIONS_READ. There's an InstallOptions example in  the Examples\Modern UI folder.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">0001001</div><div class="date">4th August 2005, 13:19</div></div><div class="posttext">I've solved problem already:<br />
<br />
<br />
<br />
Here's the code I use(Taken from some examples):<br />
<br />
<br />
!define TEMP1 $R0 ;Temp variable<br />
!define TEMP2 $R1 ;Temp variable<br />
.<br />
.<br />
.<br />
!insertmacro MUI_PAGE_WELCOME<br />
<br />
<br />
;Things that need to be extracted on startup (keep these lines before any File command!)<br />
;Only useful for BZIP2 compression<br />
;Use ReserveFile for your own InstallOptions INI files too!<br />
<br />
ReserveFile &quot;${NSISDIR}\Plugins\InstallOptions.dll&quot;<br />
ReserveFile &quot;test.ini&quot;<br />
<br />
;Order of pages<br />
Page custom SetCustom ValidateCustom &quot;: Testing InstallOptions&quot; ;Custom page. InstallOptions gets called in SetCustom.<br />
<br />
<br />
<br />
<br />
Function .onInit<br />
<br />
  ;Extract InstallOptions files<br />
  ;$PLUGINSDIR will automatically be removed when the installer closes<br />
<br />
  InitPluginsDir<br />
  File /oname=$PLUGINSDIR\test.ini &quot;test.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
Function SetCustom<br />
<br />
  ;Display the InstallOptions dialog<br />
<br />
  Push ${TEMP1}<br />
<br />
    InstallOptions::dialog &quot;$PLUGINSDIR\test.ini&quot;<br />
    Pop ${TEMP1}<br />
<br />
  Pop ${TEMP1}<br />
FunctionEnd<br />
.<br />
.<br />
.<br />
Section &quot;Software&quot;<br />
  ;Get Install Options dialog user input<br />
<br />
  ReadINIStr ${TEMP1} &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
  ReadINIStr ${TEMP2} &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
.<br />
.<br />
.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Thomas1982</div><div class="date">22nd August 2005, 15:59</div></div><div class="posttext">Hi,<br />
<br />
I'm sorry; I am an NSIS newbie an I want to create a custom page in which the user is being asked several values, e.g. username etc.<br />
I can generate this custom page easily, using an ini-file called customPage.ini. But at the moment I try to read out the values the user entered I fail. And since I am failing for ~4 hours now, I ask you to explain to me how I can do this. I have studied the examples at the NSIS homepage, I have read (almost) the whole forum, and I have tried to understand and reuse the code example posted above - but failed.<br />
If somebody could explain the last example or write a few lines of code which tell me what is to be done, I would be very thankful!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Thomas1982</div><div class="date">22nd August 2005, 16:23</div></div><div class="posttext">Alright, I got it. Finally *sigh*</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>