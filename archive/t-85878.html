<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CreateShortcut truncates name of exe-file, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CreateShortcut truncates name of exe-file NSIS Discussion" />
	
	<title> CreateShortcut truncates name of exe-file [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CreateShortcut truncates name of exe-file</div>
<hr />
<div class="pda"><a href="t-85878.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=85878">CreateShortcut truncates name of exe-file</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jankofoed</div><div class="date">25th April 2002, 12:56</div></div><div class="posttext">Using NSIS 1.96, and the nsi-file template with one small section added for creation of a shortcut, I see that the command is correctly understood from the text in the shell, but in the installarion step the file name is truncated to 8+3.<br />
<br />
Section &quot;Shortcuts&quot;<br />
CreateDirectory &quot;f:\users\DanSim&quot;<br />
CreateShortCut &quot;f:\users\DanSim\Sta.lnk&quot; &quot;v:\x86\1234567890.exe&quot;<br />
SectionEnd<br />
<br />
gives<br />
<br />
V:\x86\12345678.exe<br />
<br />
Best regards<br />
Jan Eggert Kofoed</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">25th April 2002, 16:31</div></div><div class="posttext">I tested it with this scriptname test<br />
outfile test.exe<br />
<br />
section<br />
  CreateShortCut &quot;$DESKTOP\prob.lnk&quot; &quot;f:\testtesttest.test&quot;<br />
sectionend<br />
and it worked. (It gives indeed f:\testtesttest.test, so 12+4)<br />
<br />
I'm not sure what could be the cause of this...<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jankofoed</div><div class="date">14th March 2003, 09:40</div></div><div class="posttext">I have now found a possible explanation for trunctaion to 8+3 file names. If the target file of the link does not (yet) exist Makensis does the truncation. If the file actually exists the correct (longer) name is used. Running the installer twice (or create shortcuts after copying of files, creation of logical drive letters, etc.) will perhaps solve my problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th March 2003, 09:57</div></div><div class="posttext">Try using to latest NSIS 2 version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jankofoed</div><div class="date">14th March 2003, 10:01</div></div><div class="posttext">I am now using v2.0b0 and has the problem with that version as well.<br />
The work-around described will suffice.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th March 2003, 10:11</div></div><div class="posttext">Still the same problem with the latest version (2.0 beta 2 / beta 3 CVS)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th March 2003, 11:37</div></div><div class="posttext">MakeNSIS doesn't even know you give it a file path. If it happens with b2/3 can you please attach the script, and MakeNSIS.exe output (get it with MakeNSISw)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jankofoed</div><div class="date">16th March 2003, 12:03</div></div><div class="posttext">I have now<br />
*) downloaded MakeNSIS v2.0b2<br />
*) made a simple installation script based on Example1.nsi, first using a non-existant drive for the target of a shortcut<br />
<br />
please attach huge scripts/outputs. attached below :down:<br />
<br />
*) and the properties of the shortcut is now:<br />
C:\windows\temp\batchfilewithalongname.bat<br />
<br />
The file C:\windows\temp\batchfilewithalongname.bat does not exist, and neither does the x: drive. It seems that existence of the drive determines the behaviour.<br />
<br />
I understand perfectly that NSIS does not recognize the text as being a path, and that is why I have not bothered with ensuring creating the network connection prior to creating the shortcut.<br />
<br />
The current test has been made under Windows 98, but the behaviour seems to be the same as previous experiences under Windows 2000 and Windows NT, and with previous NSIS versions.<br />
<br />
btw: Thank you very much for a very useful program for creation of installationprograms, and for quick answers to posted questions.<br />
AND<br />
Do you prefer file attachments insted of pasted text?<br />
<br />
best regards,<br />
Jan Eggert Kofoed</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">16th March 2003, 15:01</div></div><div class="posttext">Yep, please attach large scripts.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th March 2003, 16:50</div></div><div class="posttext">My guess is that since the drive doesn't exist Windows can't get the short file name of that file (8.3) and can't be sure a long file name will work because it doesn't know what file system is used. Therefore, it assumes the worst and truncates the name of the file. This is a not a NSIS bug, NSIS just tells Windows what's the path of the file. What Windows does with that file name is beyond NSIS's reach.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jankofoed</div><div class="date">16th March 2003, 18:17</div></div><div class="posttext">Thanx.<br />
Your assumption sounds very reasonable, and makes it easier to remember to map the drive before creating the shortcut.<br />
<br />
Best regards,<br />
Jan</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>