<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Selective Uninstalling, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Selective Uninstalling NSIS Discussion" />
	
	<title> Selective Uninstalling [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Selective Uninstalling</div>
<hr />
<div class="pda"><a href="t-175469.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=175469">Selective Uninstalling</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Zettai</div><div class="date">5th April 2004, 22:29</div></div><div class="posttext">I'm not quite sure how to impliment this, so here I am asking :)<br />
<br />
<br />
I currently have a meta-installer that, when they are selected as components for installation, runs individual installers for each component.<br />
<br />
Now, when it comes to uninstalling, I'd like to be able to have the user:<br />
<br />
1) Be able to select which components to uninstall and have the uninstaller find the location for each component's uninstaller by looking in the registry and run each uninstaller exe for each component.<br />
<br />
2) Have the uninstaller not be deleted unless all elements are selected for uninstallation. Either that or ask a question at the beginning of the uninstaller asking if the user wants to remove all or just some of the components.<br />
<br />
I've found things like MUI_UNPAGE_COMPONENTS but I can't make out how it actually works nor if I can do what I want to do.<br />
<br />
Any help you be greatly appreciated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">5th April 2004, 22:56</div></div><div class="posttext">You can use sections for the uninstaller just like the uninstaller. Use the un. prefix for the section name.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zettai</div><div class="date">8th April 2004, 11:52</div></div><div class="posttext">OK, good. I've got sections working in the uninstaller.<br />
<br />
I do have one last problem though - is there any way of only having the sections that were installed to be shown in the uninstaller?<br />
<br />
I can check reg entries to see if a section was installed, but I've no idea how to choose which sections will appear on my components list :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">8th April 2004, 11:58</div></div><div class="posttext">example from one of my scripts<br />
<br />
!include &quot;Sections.nsh&quot;<br />
<br />
Function .onInit<br />
  ReadRegStr $NSIS HKLM &quot;Software\NSIS&quot; &quot;&quot;<br />
  IfFileExists &quot;$NSIS\NSIS.chm&quot; +1 PostNSIS2<br />
  !insertmacro UnSelectSection &quot;${NSIS2}&quot;<br />
  PostNSIS2:<br />
FunctionEnd<br />
<br />
whereas NSIS2 is my section</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zettai</div><div class="date">8th April 2004, 14:07</div></div><div class="posttext">That looks great but I can't get it to work for unselecting more than one section in a row without strange results :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">o_owd</div><div class="date">8th April 2004, 14:54</div></div><div class="posttext">have a look at this.<br />
<br />
i am not using separate installers, but this works. it's not the best solution but for me it's working. this is MY solution. maybe it's a little outdated...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>