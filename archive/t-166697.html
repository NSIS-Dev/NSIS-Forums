<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Asking user if they want to install on all acounts if admin., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Asking user if they want to install on all acounts if admin. NSIS Discussion" />
	
	<title> Asking user if they want to install on all acounts if admin. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Asking user if they want to install on all acounts if admin.</div>
<hr />
<div class="pda"><a href="t-166697.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=166697">Asking user if they want to install on all acounts if admin.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Nadrew</div><div class="date">26th January 2004, 05:30</div></div><div class="posttext">Hi, thanks for the help on my previous post, I got everything sorted out on that.<br />
<br />
Now, I have another question. What would be the best way to ask a user that has administrator rights on a Win2k system if they want to install on all accounts? And what would be the best way to actually install it globally across the accounts rather than just the one account (I'm talking of Start Menu stuff here, the files are installed globally anyways). <br />
<br />
<br />
Also, how would I go about asking someone if they want to place things on their desktop before it actually placed?<br />
<br />
<br />
Thanks for any help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nadrew</div><div class="date">26th January 2004, 10:57</div></div><div class="posttext">Okay, I managed to get it to ask you if you want to create desktop icons, the thing is, it goes to the label I made no matter what I press in the message box:<br />
<br />
<br />
Section &quot;Shortcuts&quot;<br />
  ;Add Shortcuts<br />
  CreateDirectory &quot;$SMPROGRAMS\BYOND&quot;<br />
  CreateShortCut &quot;$SMPROGRAMS\BYOND\Dream Daemon.lnk&quot; &quot;$INSTDIR\bin\dreamdaemon.exe&quot; &quot;&quot; &quot;$INSTDIR\bin\dreamdaemon.exe&quot; 0<br />
  CreateShortCut &quot;$SMPROGRAMS\BYOND\Dream Maker.lnk&quot; &quot;$INSTDIR\bin\dreammaker.exe&quot; &quot;&quot; &quot;$INSTDIR\bin\dreammaker.exe&quot; 0<br />
  CreateShortCut &quot;$SMPROGRAMS\BYOND\Dream Seeker.lnk&quot; &quot;$INSTDIR\bin\dreamseeker.exe&quot; &quot;&quot; &quot;$INSTDIR\bin\dreamseeker.exe&quot; 0<br />
  MessageBox MB_YESNO|MB_ICONSTOP &quot;Do you want to create desktop icons?&quot; IDYES &quot;.dsicon&quot;<br />
  .dsicon:<br />
            CreateShortCut &quot;$DESKTOP\Dream Seeker.lnk&quot; &quot;$INSTDIR\bin\dreamseeker.exe&quot; &quot;&quot; &quot;$INSTDIR\bin\dreamseeker.exe&quot; 0<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">26th January 2004, 16:33</div></div><div class="posttext">Use SetShellVarContext to choose between all users and current user.<br />
<br />
Currently you tell the messagebox to go to a useless label on YES and to continue on NO. You only have to handle IDNO (set a label after CreateShortcut or use +2).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nadrew</div><div class="date">26th January 2004, 17:07</div></div><div class="posttext">Could you give me a small example on how to use labels? I'm used to using them in VB, and C++, where they're not called unless specfically goto'ed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">26th January 2004, 17:41</div></div><div class="posttext">MessageBox MB_YESNO|MB_ICONSTOP &quot;Do you want to create desktop icons?&quot; IDNO noicons<br />
<br />
...create icons...<br />
<br />
noicons:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nadrew</div><div class="date">26th January 2004, 18:15</div></div><div class="posttext">And in noicons: I would remove the icons, correct? From what I've seen labels are reached no matter what happens, which is no valid for a label in any language I've ever seen.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">26th January 2004, 19:11</div></div><div class="posttext">no, they will never be reached, if u jump around them.<br />
so, u'll not have to remove the icons in noicons.<br />
labels in nsis are just jumpto-points. like in ms-dos batch-files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nadrew</div><div class="date">26th January 2004, 19:20</div></div><div class="posttext">Oh! That makes sense, I see what it does, I feel stupid now, thanks a lot!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>