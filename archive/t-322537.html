<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" buffer allocation question, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  buffer allocation question NSIS Discussion" />
	
	<title> buffer allocation question [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  buffer allocation question</div>
<hr />
<div class="pda"><a href="t-322537.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=322537">buffer allocation question</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Annihilatorrr</div><div class="date">19th September 2010, 19:05</div></div><div class="posttext">Hi!<br />
I`m studying an example http://nsis.sourceforge.net/WinSxS_QueryAssemblyInfo_to_check_if_assembly_is_installed<br />
There is line:<br />
System::Call '*(i 24,i 0,l,i 0,i 0)i.R1' ;<br />
As I guess from here (http://nsis.sourceforge.net/Docs/System/System.html)<br />
It allocates the buffer and place<br />
24, 0, &lt;some large int&gt;, 0, 0 and return pointer to int?<br />
Also question - why 1st parameter = 24?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th September 2010, 20:00</div></div><div class="posttext">http://msdn.microsoft.com/en-us/library/aa374213%28v=VS.85%29.aspx<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Annihilatorrr</div><div class="date">22nd September 2010, 14:33</div></div><div class="posttext">Thanks, stu!<br />
I guess that it is like<br />
int* R1 = (int*) calloc (1,sizeof(QueryAssemblyInfo))<br />
Could you explain <br />
i0,l,i0,i0<br />
in original script there is no space between 'i' and '0'. And why 'l' is used without value. I know it is 'large integer'. Is it 0 by default?<br />
<br />
Ruslan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">22nd September 2010, 15:48</div></div><div class="posttext">There should be a 0 there but perhaps System doesn't mind and uses 0 anyway. You don't need to have spaces; they are optional.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">22nd September 2010, 21:03</div></div><div class="posttext">I'm not 100% sure if a missing 0 is the same as using 0, but I did not really care about the value of that field so I did not specify anything (That member is used for output, not input) The first two members (size and flags) need to be set correctly. Not sure if the last members for the manifest path needs to be 0 or not, but it does not hurt to set them</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>