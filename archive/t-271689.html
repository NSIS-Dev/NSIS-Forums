<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to change installer based on user's existing files?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to change installer based on user's existing files? NSIS Discussion" />
	
	<title> How to change installer based on user's existing files? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to change installer based on user's existing files?</div>
<hr />
<div class="pda"><a href="t-271689.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=271689">How to change installer based on user's existing files?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Gato Muerto</div><div class="date">24th May 2007, 01:23</div></div><div class="posttext">As the title states, I am trying to change installer options based on if files are already installed.  I am attempting the following:<br />
<br />
1. Read a list of files to be installed to location.  This could be within the original .nsi script itself, but might make it difficult for #3.<br />
2. Retrieve list of files that are already installed to the location by the program. (Add/Remove functionality)<br />
3. Detect what files that are not on list 2 but are on list 1 that are already installed.<br />
4. Show the MUI_PAGE_COMPONENTS page with files on list 3 either a)Not showing as install options or b)Permanently marked to avoid overwriting/erasing the files needed by another program.<br />
<br />
I can see how to do 1 and 2, but having difficulties with 3 and 4.  I tried using PUSH commands, but there appears to be an upper limit on how many times I can use that in a row... or at least the compiled installer does odd things after the 4-5 POP command I use.  <br />
:igor:<br />
<br />
Of course, if you have a different way, I just need to detect already installed files and avoid overwriting existing files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theblazingangel</div><div class="date">24th May 2007, 02:08</div></div><div class="posttext">would it not be easier to use SetOverwrite off?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gato Muerto</div><div class="date">24th May 2007, 02:35</div></div><div class="posttext">The add/remove portion would remove the files if there is no way to selectively disable them (and the user is unaware (always good to assume :D )).  Overwriting is the least of the worries.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th May 2007, 16:09</div></div><div class="posttext">For 3, use NSISArray.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gato Muerto</div><div class="date">24th May 2007, 18:26</div></div><div class="posttext">Ooooo.  Spiffy.  Never seen the array function before, so happily playing with the features.  Boss is leaning on me to get results, so working under time constraints.<br />
<br />
Is it possible to make NSIS refer to an external dynamic ini file when ON the components page in order to display (or mark as mandatory) specific files for installation, or must it be defined upon compile?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th May 2007, 16:57</div></div><div class="posttext">You can add lots of sections with no captions to hide them and unselected (/o), then enable the first X depending on the INI file and set the captions (to show them) with SectionSetText.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gato Muerto</div><div class="date">29th May 2007, 18:01</div></div><div class="posttext">Thanks.  The boss decided to scrap the idea since it was taking too long, but I think I am going to try this idea to make a stand-alone font installer/uninstaller.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>