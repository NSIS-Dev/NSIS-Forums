<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS delete function seems to lock files, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS delete function seems to lock files NSIS Discussion" />
	
	<title> NSIS delete function seems to lock files [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS delete function seems to lock files</div>
<hr />
<div class="pda"><a href="t-113017.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=113017">NSIS delete function seems to lock files</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">hutch120</div><div class="date">6th November 2002, 06:18</div></div><div class="posttext">Hi All,<br />
<br />
I'm using NSIS to deliver updates for the product I work on. Just recently I needed to delete a file on the destination machine prior to copying/extracting it from the installer. Although the delete process and copy process seemed to have worked correctly there were issues when it came to using the file later in the installation script.<br />
<br />
These are the basic steps(sections) performed:<br />
1. Delete fileX from destination machine<br />
2. Install/extract fileX onto destination machine<br />
3. Execute a function that uses and modifies fileX<br />
<br />
* If I run with all 3 steps the 3rd step fails.<br />
* If I manually delete the file and only run steps 2 and 3 the installation works.<br />
* If I put a sleep in between step 1 and 2 the installation works.<br />
<br />
I would like to find a better solution to putting a sleep after the delete, also I'm wondering what is actually occuring. <br />
<br />
If the NSIS installer is locking the file can it be unlocked? <br />
Has anyone seen something similar to the above scenario?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">6th November 2002, 07:55</div></div><div class="posttext">The reason that sleep solves the problem is that the destination machine did not finish step 1/2 when you start step 3. You should give it some time to finish the task. Eg. with a sleep.<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th November 2002, 15:49</div></div><div class="posttext">What NSIS version are you using?<br />
What Windows version are you using?<br />
Have you set the overwrite flag to anything else than the default?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hutch120</div><div class="date">6th November 2002, 21:35</div></div><div class="posttext">Running <br />
* NSIS v2.0a7 modern interface.<br />
* Win2k Pro<br />
Overwrite flag set to ifnewer</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">7th November 2002, 01:07</div></div><div class="posttext">I am having problems with Delete, too.<br />
<br />
If this conforts you:confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th November 2002, 13:51</div></div><div class="posttext">Why don't you just overwrite the file?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>