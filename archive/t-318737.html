<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" losing my mind...strloc, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  losing my mind...strloc NSIS Discussion" />
	
	<title> losing my mind...strloc [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  losing my mind...strloc</div>
<hr />
<div class="pda"><a href="t-318737.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318737">losing my mind...strloc</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Lodester</div><div class="date">28th April 2010, 03:46</div></div><div class="posttext">I am loading StrFunc, and i thought nothing of adding<br />
<br />
${StrLoc} $0 $ThisString &quot;\&quot; &quot;&gt;&quot;<br />
<br />
to my script in order to evaluate whether a \ exists in ThisString<br />
<br />
but at compile time i get<br />
<br />
!insertmacro: FUNCTION_STRING_StrLoc<br />
!insertmacro: macro &quot;FUNCTION_STRING_StrLoc&quot; requires 0 parameter(s), passed 4!<br />
<br />
I look in the StrFunc.nsh and the function looks fine, it wants to evaluate four parameters as expected.<br />
<br />
am i losing my mind? Feels that way... it's gotta be something obvious that i'm missing..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Lodester</div><div class="date">28th April 2010, 04:23</div></div><div class="posttext">OK, every function for StrFunc that i call is giving me the same message.<br />
<br />
Other functions work, i can't see why this one won't.<br />
I see it loading without error during the includes, and obviously NSIS has the macros available, but when they are called they are just...broken. wtf is going on here.<br />
<br />
${StrStrAdv} $ServerName $name &quot;\&quot; &quot;&gt;&quot; &quot;&lt;&quot; &quot;0&quot; &quot;0&quot; &quot;0&quot;<br />
<br />
!insertmacro: FUNCTION_STRING_StrStrAdv<br />
!insertmacro: macro &quot;FUNCTION_STRING_StrStrAdv&quot; requires 0 parameter(s), passed 8!<br />
<br />
And before someone asks, yes, i've tried using other 'normal' strings instead of &quot;\&quot;<br />
<br />
Tried reinstalling NSIS, no luck.<br />
<br />
Really confused. I need these functions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Lodester</div><div class="date">28th April 2010, 04:52</div></div><div class="posttext">I was able to use the StrStrAdv from the wiki as a workaround, but I'd like to get StrFunc back and working properly if possible.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">28th April 2010, 07:51</div></div><div class="posttext">From the StrFunc doc:Every command used in install sections and functions have to be called first before and out of any sections and functions, and without parameters.Did you do this?<br />
If not your error will show.<br />
<br />
This should be a working example:OutFile testsetup.exe<br />
<br />
 !include &quot;StrFunc.nsh&quot;<br />
<br />
    ${StrStr} # Supportable for Install Sections and Functions<br />
<br />
    ${UnStrStr} # Supportable for Uninstall Sections and Functions<br />
<br />
    Section<br />
<br />
      ${StrStr} $0 &quot;OK! Now what?&quot; &quot;wh&quot;<br />
<br />
    SectionEnd<br />
<br />
    Section Uninstall<br />
<br />
      ${UnStrStr} $0 &quot;OK! Now what?&quot; &quot;wh&quot;<br />
<br />
    SectionEnd</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>