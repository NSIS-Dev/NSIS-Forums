<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom License Dialog, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom License Dialog NSIS Discussion" />
	
	<title> Custom License Dialog [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom License Dialog</div>
<hr />
<div class="pda"><a href="t-120019.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=120019">Custom License Dialog</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tderouin</div><div class="date">3rd January 2003, 21:59</div></div><div class="posttext">Hi,<br />
<br />
I need to display a custom license dialog for a 2-step license accepting process. The first step (the custom one) asks the user if they understand the license before pressing next, then the next step is the standard acceptence dialog. <br />
<br />
Is there a way to override the text in the labels and buttons just for the default license dialog? Keeping in mind I'll want to use the defaults on the next step as well. If not, what would be the custom .ini settings to duplicate the license dialog? And how would the license be read into the label box?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd January 2003, 23:54</div></div><div class="posttext">Currently there is no way to show two different license pages (the buttons would be easy to change but the license text itself would not change with NSIS scripting alone). If the text is not too long you can put it in an IO text field, or a label. For example:<br />
<br />
[Field 3]<br />
Type=Label<br />
Left=...<br />
Right=...<br />
Top=...<br />
Bottom=...<br />
Text=license text here\r\ncontinue....\r\nyet another line...<br />
<br />
IO doesn't support RTF.<br />
<br />
Putting two or more different license pages in one installer should be avaiable soon, before NSIS 2 final is released.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tderouin</div><div class="date">3rd January 2003, 23:57</div></div><div class="posttext">Right.. I don't want to change the license text between the two pages. How can I change the button text from &quot;Accept&quot; to &quot;Next&quot; on the first step?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">4th January 2003, 00:09</div></div><div class="posttext">If you don't want to change the licesne text itself use:<br />
<br />
<br />
!include WinMessages.nsh<br />
<br />
Page license &quot;&quot; licCallBack<br />
Page license<br />
# ... other pages<br />
<br />
Function licCallBack<br />
   GetDlgItem $0 $HWNDPARENT 1 # next button hwnd<br />
   SendMessage $0 ${WM_SETTEXT} 0 &quot;STR:I understand&quot;<br />
   # other buttons...<br />
   GetDlgItem $1 $HWNDPARENT 1018 # inner rect hwnd<br />
   GetDlgItem $0 $1 1006 # license label hwnd<br />
   SendMessage $0 ${WM_SETTEXT} 0 &quot;STR:read and understand&quot;<br />
FunctionEnd<br />
<br />
# sections, other functions...<br />
<br />
<br />
To get other id numbers of dialog controls (to use with GetDlgItem) use Resource Hacker or another resource editor and open default.exe in Contrib\UIs.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tderouin</div><div class="date">6th January 2003, 22:51</div></div><div class="posttext">That's great. Although no text shows up below the box where the license is displayed where &quot;If you accept all of the terms...&quot; usually shows up, even when I comment out the last three statements of the function. Was that were &quot;read and understand&quot; was supposed to appear?<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th January 2003, 22:57</div></div><div class="posttext">Add:<br />
<br />
!insertmacro MUI_INNERDIALOG_TEXT 1040 $(MUI_INNERTEXT_LICENSE_BOTTOM)<br />
<br />
And it should be set. This is taken from System.nsh, that's how the MUI sets this text. You can use this macro to do the above too. First parm is the the control id and the second is the text itself (a LangString in the case).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tderouin</div><div class="date">6th January 2003, 23:44</div></div><div class="posttext">Great, thanks a lot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tderouin</div><div class="date">7th January 2003, 23:31</div></div><div class="posttext">Is there somewhere where the dialog ID's are documented? I'd like to reuse the license dialog for a dialog that summarizes what's about to take place during the install and would like to override the license text dynamically, do you have any suggestions for how to do that? <br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">7th January 2003, 23:45</div></div><div class="posttext">To get other id numbers of dialog controls (to use with GetDlgItem) use Resource Hacker or another resource editor and open default.exe in Contrib\UIs.As far as I am aware this is the only way you can find out the ID numbers.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tderouin</div><div class="date">7th January 2003, 23:48</div></div><div class="posttext">There's only 7 of them there ranging from 102-111, that doesn't really tell me why 1040 is the lower text in the license page.<br />
<br />
Thanks though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th January 2003, 14:18</div></div><div class="posttext">102 is the license dialog, inside 102 you can find the numbers you are looking for. Just open the 102 &quot;folder&quot;, click on 1033 (English) abd then you'll have all of the numbers you want.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>