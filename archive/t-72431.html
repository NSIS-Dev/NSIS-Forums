<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Create users wa3 install dir the installdir, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Create users wa3 install dir the installdir NSIS Discussion" />
	
	<title> Create users wa3 install dir the installdir [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Create users wa3 install dir the installdir</div>
<hr />
<div class="pda"><a href="t-72431.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=72431">Create users wa3 install dir the installdir</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mc^^^^</div><div class="date">19th January 2002, 07:24</div></div><div class="posttext">how do i make the users wa3 install directory be the instdir of the installer?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">19th January 2002, 07:42</div></div><div class="posttext">Isn't that probably just stored somewhere in the registry,  so you can read the path out with a ReadRegStr command and then set it.  You might have to use the .onInit callback to read it before the portion of the installer runs where you normally set the default install directory.  Don't know if that helps,  may be way off here...rather tired...:(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mc^^^^</div><div class="date">19th January 2002, 08:01</div></div><div class="posttext">it is in the registry, kinda, in the windows uninstall bit you know. for me it has &quot;d:/winamp3/uninst-wa3.exe&quot;. I'm not sure if you can get just the directory though. i think you can cause when it says it for me using that key it says &quot;d:/winamp3/&quot; which is good, but i cant get it to be the installdir. im not great at nsis so might need a little guidence;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rocker</div><div class="date">19th January 2002, 10:34</div></div><div class="posttext">just make your nsis point to $programfiles\winamp3<br />
<br />
<br />
if its wrong....then the person installing is an idiot:D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mc^^^^</div><div class="date">19th January 2002, 12:09</div></div><div class="posttext">You callin me an idiot! mine is in D:\winamp3 cause i have 3 partitions, 1 for xp 1 for 98 and one for programs.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Lactobacillus</div><div class="date">19th January 2002, 12:33</div></div><div class="posttext">TryInstallDirRegKey HKLM Software\Microsoft\Windows\CurrentVersion\Uninstall\Winamp3 UninstallString...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mc^^^^</div><div class="date">19th January 2002, 12:46</div></div><div class="posttext">YOUR A BLOODY CHAMPION MATE!<br />
<br />
now for the hard part:(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th January 2002, 14:18</div></div><div class="posttext">Hi Lactobacillus!<br />
<br />
Here is the answer for the hard part:<br />
<br />
;-------------------------------------------------<br />
; GetParent<br />
; input, top of stack  (i.e. C:\Program Files\Poop)<br />
; output, top of stack (replaces, with i.e. C:\Program Files)<br />
; modifies no other variables.<br />
;<br />
; Usage:<br />
;   Push &quot;C:\Program Files\Directory\Whatever&quot;<br />
;   Call GetParent<br />
;   Pop $0<br />
;   ; at this point $0 will equal &quot;C:\Program Files\Directory&quot;<br />
<br />
Function GetParent <br />
  Exch $0 ; old $0 is on top of stack<br />
  Push $1<br />
  Push $2<br />
  StrCpy $1 -1<br />
  loop:<br />
    StrCpy $2 $0 1 $1<br />
    StrCmp $2 &quot;&quot; exit<br />
    StrCmp $2 &quot;\&quot; exit<br />
    IntOp $1 $1 - 1<br />
  Goto loop<br />
  exit:<br />
    StrCpy $0 $0 $1<br />
    Pop $2<br />
    Pop $1<br />
    Exch $0 ; put $0 on top of stack, restore $0 to original value<br />
FunctionEnd<br />
<br />
<br />
This was taken from functions.html from your NSIS dir.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rocker</div><div class="date">24th January 2002, 13:31</div></div><div class="posttext">Originally posted by : : : Chromium : : : <br />
You callin me an idiot! mine is in D:\winamp3 cause i have 3 partitions, 1 for xp 1 for 98 and one for programs. <br />
<br />
why did you type that here and on icq???<br />
<br />
lol<br />
<br />
yeah your an idiot:p:D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>