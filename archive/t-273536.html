<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI_LANGDLL_SAVELANGUAGE comes too late, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI_LANGDLL_SAVELANGUAGE comes too late NSIS Discussion" />
	
	<title> MUI_LANGDLL_SAVELANGUAGE comes too late [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI_LANGDLL_SAVELANGUAGE comes too late</div>
<hr />
<div class="pda"><a href="t-273536.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=273536">MUI_LANGDLL_SAVELANGUAGE comes too late</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">28th June 2007, 06:57</div></div><div class="posttext">MUI saves current (langdll selected) language in the INSTFILES page Leave function only. I understand why - not to write registry value on cancelled installation, but IMHO this is not 100% descision. Some initialization may require on INSTFILES page - install drivers, services or perform operations with already installed files. Not a problem to add this line to the script, but moving MUI_LANGDLL_SAVELANGUAGE to INSTFILES Show function looks usefull for me.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th June 2007, 14:06</div></div><div class="posttext">I don't understand. How can initialization in the instfiles page of drivers or services after that macro? Are you saying the initialization might fail and therefore the macro won't be called?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">28th June 2007, 14:32</div></div><div class="posttext">No. My situation is following: during installation QStar installer asks customer to select devices for claiming. This is done by a special GUI tool (just copied/installed application) that displays a list of available devices. While this happen on INSTFILES page, registry LanguageID value is not setten yet (will be done by MUI in Leave function), so application uses old/default lang. If MUI can save value in Show function LangId will be up-to-date.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th June 2007, 14:46</div></div><div class="posttext">That's a very specific case. In the normal case, we'd want the language to be saved only when the installation actually finishes. This allows the user to still cancel the installation in the instfiles page when something is asked or when the Cancel button is available in case he doesn't understand anything because of a wrong language.<br />
<br />
That registry key is saved for the MUI anyway. It's not meant for external usage. It can just as well contain the name of the language someday if that's easier for the MUI. The documentation only states it stores the language, nothing else.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>