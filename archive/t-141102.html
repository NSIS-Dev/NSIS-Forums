<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" how to skip a page &quot;next&quot; or &quot;back&quot;, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  how to skip a page &quot;next&quot; or &quot;back&quot; NSIS Discussion" />
	
	<title> how to skip a page &quot;next&quot; or &quot;back&quot; [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  how to skip a page &quot;next&quot; or &quot;back&quot;</div>
<hr />
<div class="pda"><a href="t-141102.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=141102">how to skip a page &quot;next&quot; or &quot;back&quot;</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">4th July 2003, 15:04</div></div><div class="posttext">I have this order:<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_LICENSE<br />
  Page custom find_xyz<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
<br />
But when cklicking &quot;back&quot; from components i get everytime the custom page (which is only on &quot;next&quot; useful) - so i want to skip this page and want go straight to the license page.<br />
<br />
how can i do this</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">4th July 2003, 15:12</div></div><div class="posttext">Set a variable when entering components page and check to see if that variable is set in the xyz show function if so abort loading it. Note you will need to unset the variable when entering license page so that page xyz can be displayed again when next is clicked on the license page.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">4th July 2003, 15:25</div></div><div class="posttext">Nice idea but i do not work till now:<br />
<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_LICENSE<br />
  Page custom findabsfreset<br />
  Page custom findabsf<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
<br />
...<br />
<br />
Section &quot;${MUI_PRODUCT} ${MUI_VERSION}&quot; SecInfo0<br />
  ;this skipps the findabsf  message on &quot;back&quot; to license page<br />
  StrCpy $1 &quot;skip&quot;<br />
SectionEnd<br />
<br />
...<br />
<br />
Function findabsfreset<br />
  ;this enables the findabsf message on &quot;back&quot; to license page<br />
  StrCpy $1 &quot;&quot;<br />
FunctionEnd<br />
<br />
<br />
...<br />
<br />
Function findabsf<br />
  StrCmp $1 &quot;skip&quot; 0 +2<br />
  return<br />
  ;other stuff<br />
FunctionEnd<br />
<br />
<br />
Wrong variable or wrong way!?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">4th July 2003, 15:35</div></div><div class="posttext">Try abort insta=ead of return e.g.:Function findabsf<br />
  StrCmp $1 &quot;skip&quot; 0 +2<br />
  abort<br />
  ;other stuff<br />
FunctionEnd<br />
 If still no luck i'll post a working script based on a example from nsis.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">4th July 2003, 15:53</div></div><div class="posttext">The problem was the variable - i use $R1 now:<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_LICENSE<br />
  Page custom findabsfreset<br />
  Page custom findabsf<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
<br />
[the part from SECTION was dropped to the FUNCTION below]<br />
<br />
...<br />
<br />
Function findabsfreset<br />
  ;this enables the findabsf message on &quot;back&quot; to license page<br />
  StrCpy $R1 &quot;&quot;<br />
FunctionEnd<br />
<br />
Function findabsf<br />
  StrCmp $R1 &quot;skip&quot; 0 +2<br />
  return<br />
  ;other stuff<br />
<br />
  ;this skipps the findabsf message on &quot;back&quot; to license page<br />
  StrCpy $R1 &quot;skip&quot;<br />
FunctionEnd<br />
<br />
<br />
thx for impoving my nsis skill :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">4th July 2003, 16:07</div></div><div class="posttext">i simplified code:<br />
<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_LICENSE<br />
  Page custom findabsf<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
<br />
...<br />
<br />
Function findabsf<br />
  StrCmp $R1 &quot;skip&quot; 0 +3<br />
  StrCpy $R1 &quot;&quot;<br />
  return<br />
  ;other stuff<br />
<br />
  ;this skipps the findabsf message on &quot;back&quot; to license page<br />
  StrCpy $R1 &quot;skip&quot;<br />
FunctionEnd<br />
<br />
<br />
The only problem may be not to interfere with other routines that uses $R1.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">4th July 2003, 16:14</div></div><div class="posttext">A more elegant way of achieving this is shown here ;)   !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_LICENSE<br />
  Page custom find_xyz<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
<br />
  !define MUI_CUSTOMFUNCTION_COMPONENTS_PRE PreC<br />
  !define MUI_CUSTOMFUNCTION_LICENSE_PRE PreL Function find_xyz<br />
  StrCmp $R1 &quot;skip&quot; end 0 ; This must be before the following line<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioA.ini&quot;<br />
  ; rest of code for custom page<br />
end:<br />
FunctionEnd<br />
<br />
Function PreL<br />
  StrCpy $R1 &quot;&quot;<br />
FunctionEnd<br />
<br />
Function PreC<br />
  StrCpy $R1 &quot;skip&quot;<br />
FunctionEnd Hope this helps.<br />
<br />
Vytautas<br />
<br />
<br />
Brummelchen posted the previous post quicker that me and it's an even better solution, although both will work well.  Also you need to make sure that the &quot;!insertmacro MUI_INSTALLOPTIONS_DISPLAY ...&quot; line is after the comparison<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">4th July 2003, 16:26</div></div><div class="posttext">As far as I know only $9, used in MUI with StartMenu Plugin, is used by NSIS installer unless you use them in your own custom functions :p <br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">4th July 2003, 16:45</div></div><div class="posttext">&gt;   !define MUI_CUSTOMFUNCTION_COMPONENTS_PRE PreC<br />
&gt;  !define MUI_CUSTOMFUNCTION_LICENSE_PRE PreL<br />
<br />
Nice solution - didnt know about that feature<br />
<br />
But why this one?<br />
&gt; !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioA.ini&quot;<br />
<br />
i am not familiar with IO yet.<br />
<br />
PS $R1 is not used so far in my script - and when - it is pushed before (functions)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">5th July 2003, 07:20</div></div><div class="posttext">I thought that &quot;!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioA.ini&quot;&quot; line was needed to display the IO page.  Unless it has changed in the last week or so. Note: &quot;ioA.ini&quot; is the filename of IO layout file.<br />
<br />
Check out the ModernUI Readme file for the full list of callback functions, e.g. all pages have a PRE, SHOW and LEAVE function.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">5th July 2003, 12:38</div></div><div class="posttext">i found it - sure it is the more elegant way :)<br />
<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_LICENSE<br />
<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
    !define MUI_CUSTOMFUNCTION_COMPONENTS_PRE findcomp ; two func = one func now<br />
<br />
...<br />
<br />
Function findcomp<br />
  ;skip if this part was already used<br />
  StrCmp $R1 &quot;skip&quot; 0 +3<br />
  return<br />
<br />
...<br />
<br />
  ;this skipps the found message on &quot;back&quot; or &quot;next&quot;<br />
  StrCpy $R1 &quot;skip&quot;<br />
FunctionEnd<br />
<br />
<br />
i did so to avoid annoying clicking when the decision was made (more comfotable)<br />
<br />
Thank you very much.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">5th July 2003, 13:21</div></div><div class="posttext">Glad I could help.<br />
<br />
Vytautas</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>