<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Writing extra data to the installer exe and then read it., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Writing extra data to the installer exe and then read it. NSIS Discussion" />
	
	<title> Writing extra data to the installer exe and then read it. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Writing extra data to the installer exe and then read it.</div>
<hr />
<div class="pda"><a href="t-283271.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=283271">Writing extra data to the installer exe and then read it.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dave113</div><div class="date">16th December 2007, 14:13</div></div><div class="posttext">Hi,<br />
<br />
I need to distribute installers exe with different data added to them at download time.<br />
(site.com/download.php?id=123 outputs setup.exe with 123 value inside it). I cannot recompile installers each time because Im on unix hosting.<br />
<br />
I know that win32 binaries can have extra data added to the end of file (&quot;type info.txt &gt; notepad.exe&quot;) and exe continues working.<br />
<br />
The question is it possible to read that extra data with NSIS and if yes how to do this. I looked through docs but found no readfile or something like it functions.<br />
<br />
Any ideas?<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">16th December 2007, 15:31</div></div><div class="posttext">FileOpen,FileClose,FileSeek,FileRead/FileReadByte</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vovan-VE</div><div class="date">16th December 2007, 15:34</div></div><div class="posttext">I need to distribute installers exe with different data added to them at download time.<br />
(site.com/download.php?id=123 outputs setup.exe with 123 value inside it).<br />
<br />
AFAIK, NSIS installer is an EXE file with added archive to its end. So if you add some data to the end if EXE, this archive will be damaged.<br />
<br />
There are some zero bytes in the installer before archive. You can try to overwrite some of this bytes with your own data, but you need to know offset of the archive.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">16th December 2007, 15:48</div></div><div class="posttext">Originally posted by Vovan-VE <br />
AFAIK, NSIS installer is an EXE file with added archive to its end. So if you add some data to the end if EXE, this archive will be damaged.<br />
 <br />
No it will not (It will even pass the CRC check)<br />
<br />
http://nsis.sourceforge.net/ReadCustomerData</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave113</div><div class="date">16th December 2007, 21:27</div></div><div class="posttext">Originally posted by Anders <br />
No it will not (It will even pass the CRC check)<br />
<br />
http://nsis.sourceforge.net/ReadCustomerData  <br />
<br />
that is exactly what I need. Thank you!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>