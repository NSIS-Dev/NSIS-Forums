<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSISDL problems, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSISDL problems NSIS Discussion" />
	
	<title> NSISDL problems [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSISDL problems</div>
<hr />
<div class="pda"><a href="t-125372.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=125372">NSISDL problems</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">simham_uk</div><div class="date">17th February 2003, 11:22</div></div><div class="posttext">Hi all<br />
<br />
I'm not sure where the issue is, but I've been using NSISDL successfully until I bring it into work, and try to run an updater I made (using NSIS/NSISDL) through our MS ISA Server.  I have the firewall client installed, but that makes no difference.<br />
<br />
It still seems to download the file in IE OK, if I put the URL into there, but in the utility (using NSISDL) it fails.<br />
<br />
Is this because there is no proxy support within the NSISDL plugin, or can anyone explain why I might be having this problem and hoq to overcome it?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th February 2003, 15:36</div></div><div class="posttext">NSISdl doesn't support proxy with passwords. It does support normal proxies. It takes the proxy configuration from the registry where IE keeps it (Software\Microsoft\Windows\CurrentVersion\Internet Settings). Did NSISdl return any error (check $0 unless using the latest CVS version where you should check the stack)? If so, what was the error?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">simham_uk</div><div class="date">19th February 2003, 21:22</div></div><div class="posttext">I think I got this one fixed, or at least worked around:<br />
<br />
My problem seems to be that the downloader, although it has support for proxy (without authentication), and uses the IE settings, it doesn't seem to have support for the ProxyOverride option for local addresses.<br />
<br />
Although I'm not really a coder, I did have a look at the source of nsisdl.cpp.  At around line 230 is the statement that reads the reg proxy settings for IE, so I'd guess this needs a small addition to check if the address matches any of the strings in the semi-colon delimited value of ProxyOverride. i.e. addresses that begin with...<br />
<br />
Knowing PHP a little and knowing that IE has support for wildcards in the addresses such as 192.168.0.* and the like, maybe some regex would be required?<br />
<br />
Is this a feature that could be added easily to NSISdl?<br />
<br />
My workaround is to temporarily disable proxy, download updates (they're located on a local webserver), and then re-enable.<br />
<br />
I would be glad to help with testing!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th February 2003, 17:01</div></div><div class="posttext">That won't be so easy to accomplish. However, a fallback to no proxy can be very easily added. What do you think?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">simham_uk</div><div class="date">20th February 2003, 19:48</div></div><div class="posttext">A fallback is not necessary since I can just switch off ProxyEnable with one line in the script as I have done already.<br />
<br />
To make it more useful, eventually it will need full support for proxy settings, including Override and authentication.<br />
<br />
Since I have completed this project with the workaround I have no urgency for the above-mentioned feature enhancements, but they should be there to complete the plugin.<br />
<br />
To really dig in, FTP support would be cool too :-) maybe as a separate plugin.<br />
<br />
Clearly this tool is used for liveupdate/online installer type setups  (as I have used it for) so to compete with the big boys we need these features someday.<br />
<br />
Thanks for your comments!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>