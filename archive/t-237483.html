<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS slow, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS slow NSIS Discussion" />
	
	<title> NSIS slow [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS slow</div>
<hr />
<div class="pda"><a href="t-237483.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=237483">NSIS slow</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">MikeDC1</div><div class="date">8th February 2006, 03:49</div></div><div class="posttext">My app requires a lot of components to be installed which results in an NSIS installer of approx 200MB. This all works fine except the problem I have is that it can be very slow to just view the file in windows explorer or other programs. The problem is that it seems to search the entire file for the icon to display. On CDs this can be extremely slow and give the impression that the PC has frozen for the first minute and the CD is faulty. The first time I encountered it I removed the CD several times before waiting long enough. Is there any solution to this?<br />
<br />
Thanks,<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">8th February 2006, 09:31</div></div><div class="posttext">I have experience similar problems with big installers. And indeed, it feels like it's searching the icon. I don't recall problems like this in older (2.0x) versions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">9th February 2006, 11:54</div></div><div class="posttext">Interesting problem, any link where we can download the 200MB installer? Then I can test on one of my slow test machines see  where the problem is.<br />
<br />
And have you tried to build without HAVE_UPX?<br />
<br />
And try various option below:<br />
<br />
CRCCheck off<br />
SetCompress off<br />
; SetCompressor lzma<br />
; SetCompressor zlib</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MikeDC1</div><div class="date">9th February 2006, 12:36</div></div><div class="posttext">Originally posted by onad <br />
Interesting problem, any link where we can download the 200MB installer? Then I can test on one of my slow test machines see  where the problem is.<br />
<br />
And have you tried to build without HAVE_UPX?<br />
<br />
And try various option below:<br />
<br />
CRCCheck off<br />
SetCompress off<br />
; SetCompressor lzma<br />
; SetCompressor zlib  <br />
<br />
Thanks for the reply onad. I have tried the different compressions but not with compression off and not with the CRC check off. What is HAVE_UPX? I'll organise a link, it will take a while to upload the file.<br />
<br />
Is it possible this is just a windows thing and it will happen on any large file?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">9th February 2006, 13:59</div></div><div class="posttext">Originally posted by onad <br />
And have you tried to build without HAVE_UPX?<br />
<br />
And try various option below:<br />
<br />
CRCCheck off<br />
SetCompress off<br />
; SetCompressor lzma<br />
; SetCompressor zlib  <br />
No UPX or any other exe packers. And I will try those options when I have more time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">l_d_allan</div><div class="date">9th February 2006, 20:42</div></div><div class="posttext">Is this something that ReserveFiles would help with?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MikeDC1</div><div class="date">9th February 2006, 22:23</div></div><div class="posttext">Here's the link to the file if anyone is interested<br />
<br />
http://www.mikesdriveway.com/Misc/SmileSetup.exe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th February 2006, 11:07</div></div><div class="posttext">The icon is located at the very beginning of the installer, so that's probably not the problem. I'd guess you have an anti-virus software installed which scans the file when you view it in Explorer. Try disabling any automatic scanners.<br />
<br />
ReserveFile can't help here as the installer isn't even executed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">27th February 2006, 10:11</div></div><div class="posttext">I downloaded the installer and I will test the Icon issue on an old regualr 300MHZ P3 with XP EN. This is a &quot;Clean&quot; XP with no additional software installed.<br />
<br />
I'll and post the outcome asap.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">27th February 2006, 10:29</div></div><div class="posttext">I had NO issue of icon appearing on this slower XP machine. It must be some other software on your Windows machine. <br />
<br />
Notes: <br />
Or maybe a corrupt icon cache. There are free tools to clean the cashe e.g. MS powertoys.<br />
<br />
If you use the software from a CD, note that if you have an autorun.inf ,assign an *ICON=* AND having a *LABEL* line in there will result in an Icon NOT displayed in the explorer. This is an Windows OS defect.<br />
<br />
OK --- <br />
[autorun]<br />
OPEN=\SmileSetup.exe<br />
ICON=CDIMG.ICO<br />
<br />
NOT OK ---<br />
[autorun]<br />
OPEN=\SmileSetup.exe<br />
ICON=CDIMG.ICO<br />
LABEL=MyTestLabel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">27th February 2006, 10:44</div></div><div class="posttext">BTW your installer does not install everything correctly. E.g. there is no main application istalled thus the Shortcut Icon is empty.<br />
<br />
Also, if I have my main Windows on E: some things get installed on wrong location e.g. <br />
C:\Program Files\Microsoft SQL Server\80\Tools\Binn<br />
<br />
I have a C partition where the is no &quot;Program Files&quot; etc.<br />
<br />
I think you have to review your own installer code a little more ;) and make it more robust.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MikeDC1</div><div class="date">27th February 2006, 11:49</div></div><div class="posttext">Originally posted by onad <br />
BTW your installer does not install everything correctly. E.g. there is no main application istalled thus the Shortcut Icon is empty.<br />
<br />
Also, if I have my main Windows on E: some things get installed on wrong location e.g. <br />
C:\Program Files\Microsoft SQL Server\80\Tools\Binn<br />
<br />
I have a C partition where the is no &quot;Program Files&quot; etc.<br />
<br />
I think you have to review your own installer code a little more ;) and make it more robust.  <br />
<br />
Thanks for the info. I took my app files out of this install as I didn't want to release it as a freebie but I will look at the C drive issue.<br />
<br />
BTW, whoever said it was anti-virus software was absolutely right, I disabled mcafee and the problem went away. Thanks everyone who looked at this.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>