<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" 2.0a7 Bug - Won't work on XP, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  2.0a7 Bug - Won't work on XP NSIS Discussion" />
	
	<title> 2.0a7 Bug - Won't work on XP [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  2.0a7 Bug - Won't work on XP</div>
<hr />
<div class="pda"><a href="t-104936.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=104936">2.0a7 Bug - Won't work on XP</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">okapi</div><div class="date">12th September 2002, 20:55</div></div><div class="posttext">I have an installer built from this version. When I run it on a 2000 machine, it installs fine. When I run it on an XP machine, the installer says it ran fine but it actually did not copy the files to the install directory. I have admin rights on both machines. Anyone aware of this problem? Someone else using this same installer was having this problem on NT, but I have not tried to reproduce it on NT personally.<br />
<br />
Thanks,<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">12th September 2002, 21:24</div></div><div class="posttext">I got no problemes at all on Windows XP. Are you using the latest CVS version? Or maybe post a script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">okapi</div><div class="date">12th September 2002, 22:46</div></div><div class="posttext">Tracked down the problem. In the 2.0a7 (and probably in other v2.x but not the v1.x) you need to specify CreateDirectory for the installation directory on XP (and NT it would seem according to the problem). However, in W2K it will make the directory without specifically specifying for it to be made. Whether this is a bug in XP that it doesn't create the directory and should or it's one in W2K as it does create the directory (and maybe shouldn't unless creation is specified), I don't know. One way or the other, there's an inconsistency bug.<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">12th September 2002, 23:08</div></div><div class="posttext">Sounds like you are not doing SetOutPath before you do File x.x?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">okapi</div><div class="date">12th September 2002, 23:55</div></div><div class="posttext">No, I do have a SetOutPath. However in 1.x and 2.x on W2K it creates the install directory but (or the output path) but on W2K and NT it does not do this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">13th September 2002, 00:48</div></div><div class="posttext">Originally posted by okapi <br />
No, I do have a SetOutPath. However in 1.x and 2.x on W2K it creates the install directory but (or the output path) but on W2K and NT it does not do this. <br />
<br />
I cannot reproduce this on XP.  Everytime I use SetOutPath the directory is created as it should.  Do you have a script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dick4</div><div class="date">13th September 2002, 03:43</div></div><div class="posttext">same here...I can't reproduce it either..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">okapi</div><div class="date">13th September 2002, 05:24</div></div><div class="posttext">Here's the config (it's split in 2 files for certain reasons).<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th September 2002, 10:21</div></div><div class="posttext">Works here too. Make sure your $INSTDIR is really what you think it is.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">okapi</div><div class="date">13th September 2002, 15:37</div></div><div class="posttext">Ooops... the ZIP I posted had the CreateDirectory line in there and thus worked. Attached is one that does not have that and thus does not create the install directory on XP (and NT?).<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">13th September 2002, 16:18</div></div><div class="posttext">i'm also having a bug since i have updated to alpha 7.<br />
<br />
Processing script file: &quot;C:\Programme\NSIS\makensis.exe&quot;<br />
Invalid command: MZ¬ê<br />
Error in script &quot;C:\Programme\NSIS\makensis.exe&quot; on line 1 -- aborting creation process<br />
<br />
<br />
i had this error on my code, which is why i tried compiling the example by joost.<br />
<br />
the odd thing is, that &quot;MZ&quot; doesnt appear in the whole code!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th September 2002, 16:24</div></div><div class="posttext">Make sure you run SetCVSShellCommands.exe before you start using the latest version of MakeNSISw from the CVS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">13th September 2002, 19:27</div></div><div class="posttext">Originally posted by killahbite the odd thing is, that &quot;MZ&quot; doesnt appear in the whole code! <br />
<br />
Can I just explain something, the error message you get with this problem actually tells you what is going wrong, you're just not reading it :)<br />
<br />
It says Processing script file: &quot;C:\Programme\NSIS\makensis.exe&quot; and Error in script &quot;C:\Programme\NSIS\makensis.exe&quot;. Both of these errors tell you that it is trying and unsuprisingly failing to compile makensis.exe... makensis.EXE *not* the script file you intended... the MZ stuff is because it tries to read a BINARY file, makensis.exe!!! This was all because makensisw used to need the path to makensis.exe as an argument but no longer does, however the old right mouse button menus installed by 2.0a6 still supply the path to makensis.exe as an argument which gets mistakenly interpreted as the name of the script to compile :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>