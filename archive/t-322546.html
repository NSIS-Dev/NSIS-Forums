<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" What does SetRegView do on a 32-bit system?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  What does SetRegView do on a 32-bit system? NSIS Discussion" />
	
	<title> What does SetRegView do on a 32-bit system? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  What does SetRegView do on a 32-bit system?</div>
<hr />
<div class="pda"><a href="t-322546.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=322546">What does SetRegView do on a 32-bit system?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">20th September 2010, 01:55</div></div><div class="posttext">I know what SetRegView does on a 64-bit system - it is well documented: http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.7<br />
<br />
But what does it do on a 32-bit system? Is it a NOOP?<br />
<br />
or does it produce unpredictable results and mandates a clause like<br />
${If} ${RunningX64}   <br />
 SetRegView 32<br />
${EndIf} <br />
<br />
Also, does SetRegView affect any (or all) of the functions in the Registry plug-in? http://nsis.sourceforge.net/Registry_plug-in<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">manasi1128</div><div class="date">20th September 2010, 08:29</div></div><div class="posttext">I hav used setregview for 64 bit compatible installer.....<br />
n dere is no need for using SetRegView 32 on 32 bit system.......it is only applicable for 64 bit systems.<br />
setregview 32 directs ur registry entries to 32 bit registry(i.e wow6432node...(not sure of the exact word.))  on a 64 bit system while setregview 64 directs ur entries to 64 bit registries.... as u might be aware dat dere are 2 branches of registries on 64 bit system...one for 64 bit and one for 32 bit....<br />
<br />
${If} ${RunningX64}   <br />
 SetRegView 32 --------------&gt;change this to setregview 64 if u r making an installer for  <br />
                                           64 bit<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th September 2010, 09:23</div></div><div class="posttext">It won't do anything on a 32-bit system.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">20th September 2010, 16:44</div></div><div class="posttext">there is no need for using SetRegView 32 on 32 bit system...I know that, but I am writing a single script for both 32-bit and 64-bit systems and I would like to consult the gurus whether an '${If} ${RunningX64}' is necessary.<br />
<br />
It won't do anything on a 32-bit system.<br />
Thanks, so I understand this is by design (just like a macro that evaluates to whitespace when a condition is not met). Do I understand correctly?<br />
<br />
Also, do you happen to know whether it affects any of the functions in Registry plug-in? http://nsis.sourceforge.net/Registry_plug-in<br />
<br />
Empirically, I know what it does on my system but it's good to get the formal intended behavior by the developers/gurus (and could be helpful for others visiting the forum).<br />
<br />
Cheers. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th September 2010, 17:58</div></div><div class="posttext">SetRegView simply adds or removes the KEY_WOW64_64KEY flag to the desired SAM access to be used when NSIS calls the RegCreateKeyEx, RegOpenKeyEx etc API's. As this flag was added on XP x64 it will simply be ignored on older OS's or 32-bit OS's. For NSIS plug-ins, the extra_parameters-&gt;g_exec_flags-&gt;alter_reg_view field will be set to KEY_WOW64_64KEY if the calling script used SetRegView 64. The plug-in would need to use this field accordingly. I do not know if the Registry plug-in does this, but if not it needs to be modified to do so.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">20th September 2010, 18:49</div></div><div class="posttext">SetRegView simply adds or removes the KEY_WOW64_64KEY flag to the desired SAM access to be used when NSIS calls the RegCreateKeyEx, RegOpenKeyEx etc API's. As this flag was added on XP x64 it will simply be ignored on older OS's or 32-bit OS's. For NSIS plug-ins, the extra_parameters-&gt;g_exec_flags-&gt;alter_reg_view field will be set to KEY_WOW64_64KEY if the calling script used SetRegView 64. The plug-in would need to use this field accordingly. I do not know if the Registry plug-in does this, but if not it needs to be modified to do so.<br />
This is incredible information. Thanks so much!<br />
<br />
I happened to be enhancing the Registry plug-in back then (http://forums.winamp.com/showpost.php?p=2484404&amp;postcount=7), so I can tell you that it doesn't access extra_parameters-&gt;g_exec_flags-&gt;alter_reg_view in any way. Still, for some reason, the Registry plug-in seems to be working fine for me on both 64-bit and 32-bit systems (without any modification).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th September 2010, 19:18</div></div><div class="posttext">It will work, sure, but I'm pretty sure registry access will always be redirected from e.g. HKEY_LOCAL_MACHINE\SOFTWARE to HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node unless KEY_WOW64_64KEY is used.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>