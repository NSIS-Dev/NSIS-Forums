<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" EXE not found, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  EXE not found NSIS Discussion" />
	
	<title> EXE not found [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  EXE not found</div>
<hr />
<div class="pda"><a href="t-202111.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=202111">EXE not found</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">GFORCE100</div><div class="date">14th December 2004, 23:02</div></div><div class="posttext">I have a function that exits the running EXE file before uninstall the whole thing (including the EZE).<br />
<br />
Somehow it doesn't work and keeps on giving me that the exe is not running (I test it with a message box).<br />
<br />
What could be wrong?<br />
<br />
(at the top of the script)<br />
!define MUI_PROGRAM_FILENAME &quot;XYZ&quot;<br />
<br />
;**************************************************************************************************<br />
;FUNCTION - un.KillProgramExe<br />
;**************************************************************************************************<br />
<br />
Function un.KillProgramExe <br />
<br />
FindProcDLL::FindProc &quot;${MUI_PROGRAM_FILENAME}.exe&quot;  <br />
StrCmp $R0 1 foundexe notfoundexe<br />
<br />
foundexe:<br />
KillProcDLL::KillProc &quot;${MUI_PROGRAM_FILENAME}.exe&quot; <br />
<br />
notfoundexe:<br />
MessageBox MB_OK &quot;Program is not running&quot;<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">GFORCE100</div><div class="date">14th December 2004, 23:08</div></div><div class="posttext">Very weird..............I run it, message box says it's not running but I quit the installer/uninstaller (the routine is run either way) and it closes the EXE file (thus process).<br />
<br />
Just what is going on?<br />
<br />
If it's supposedly not running it shouldn't run the code as if it was running....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">15th December 2004, 09:11</div></div><div class="posttext">That's something to do with the fact that after it hits &quot;foundexe:&quot;, it will then execute the &quot;notefoundexe:&quot; label code - you have to jump over this if you want it to not be executed as well. E.g.<br />
<br />
<br />
Function un.KillProgramExe<br />
<br />
FindProcDLL::FindProc &quot;${MUI_PROGRAM_FILENAME}.exe&quot;<br />
StrCmp $R0 1 foundexe notfoundexe<br />
<br />
foundexe:<br />
KillProcDLL::KillProc &quot;${MUI_PROGRAM_FILENAME}.exe&quot;<br />
Goto +3<br />
<br />
notfoundexe:<br />
MessageBox MB_OK &quot;Program is not running&quot;<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">15th December 2004, 10:12</div></div><div class="posttext">goto +2Labels are not considered.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">15th December 2004, 11:04</div></div><div class="posttext">Aah I always wondered about that :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th December 2004, 11:13</div></div><div class="posttext">You also must use proper lables when jumping over compile time Function/Section commands such as File, ReserveFile etc<br />
A full list of these are in the documentation (somewhere!)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">15th December 2004, 11:25</div></div><div class="posttext">Oh really? I thought you only had to use labels when you're jumping over macros.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th December 2004, 11:46</div></div><div class="posttext">See http://nsis.sourceforge.net/Docs/Chapter4.html#4.4<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">GFORCE100</div><div class="date">15th December 2004, 22:44</div></div><div class="posttext">Originally posted by Afrow UK <br />
See http://nsis.sourceforge.net/Docs/Chapter4.html#4.4<br />
<br />
-Stu  <br />
<br />
Well guys you do raise a worthy item of knowledge but some further testing seems to point it's something extra to what's already been proposed.<br />
<br />
For some reasons it keeps on assuming the exe is not running when it is, my eyes do not lie and that I can be sure of.<br />
<br />
Doing further testing, possibly it's mixing up the file name somehow.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">GFORCE100</div><div class="date">15th December 2004, 22:47</div></div><div class="posttext">Also after running FindProc the value of $R0 is &quot;603&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">16th December 2004, 02:13</div></div><div class="posttext">&quot;603&quot; used to be one of the codes which FindProc could return:<br />
<br />
From the documentation supplied with FindProc.dll dated 25 December 2003:<br />
<br />
The meaning of the return codes is this:<br />
<br />
   0   = Process was successfully terminated<br />
   603 = Process was not currently running<br />
   605 = Unable to load PSAPI.DLL<br />
   606 = Unable to identify system type<br />
   607 = Unsupported OS<br />
   632 = Invalid process name<br />
   700 = Unable to get procedure address from PSAPI.DLL<br />
   701 = Unable to get process list, EnumProcesses failed<br />
   702 = Unable to load KERNEL32.DLL<br />
   703 = Unable to get procedure address from KERNEL32.DLL<br />
   704 = CreateToolhelp32Snapshot failed<br />
<br />
From the documentation supplied with FindProc.dll dated 2 June 2004:<br />
<br />
The meaning of the return codes is this:<br />
<br />
   0   = Process was not found<br />
   1   = Process was found<br />
   605 = Unable to search for process<br />
   606 = Unable to identify system type<br />
   607 = Unsupported OS<br />
   632 = Process name is invalid<br />
<br />
Which version of FindProc.dll are you using?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">GFORCE100</div><div class="date">16th December 2004, 13:05</div></div><div class="posttext">Originally posted by pengyou <br />
&quot;603&quot; used to be one of the codes which FindProc could return:<br />
<br />
From the documentation supplied with FindProc.dll dated 25 December 2003:<br />
<br />
The meaning of the return codes is this:<br />
<br />
   0   = Process was successfully terminated<br />
   603 = Process was not currently running<br />
   605 = Unable to load PSAPI.DLL<br />
   606 = Unable to identify system type<br />
   607 = Unsupported OS<br />
   632 = Invalid process name<br />
   700 = Unable to get procedure address from PSAPI.DLL<br />
   701 = Unable to get process list, EnumProcesses failed<br />
   702 = Unable to load KERNEL32.DLL<br />
   703 = Unable to get procedure address from KERNEL32.DLL<br />
   704 = CreateToolhelp32Snapshot failed<br />
<br />
From the documentation supplied with FindProc.dll dated 2 June 2004:<br />
<br />
The meaning of the return codes is this:<br />
<br />
   0   = Process was not found<br />
   1   = Process was found<br />
   605 = Unable to search for process<br />
   606 = Unable to identify system type<br />
   607 = Unsupported OS<br />
   632 = Process name is invalid<br />
<br />
Which version of FindProc.dll are you using?  <br />
<br />
I looked at the DLL and it states &quot;December 25th 2003&quot;.<br />
<br />
It's definetly running &quot;The process&quot; as it's visible in task manager.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>