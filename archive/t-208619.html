<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Overwrite File In Use, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Overwrite File In Use NSIS Discussion" />
	
	<title> Overwrite File In Use [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Overwrite File In Use</div>
<hr />
<div class="pda"><a href="t-208619.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=208619">Overwrite File In Use</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">twistymcgee</div><div class="date">23rd February 2005, 13:31</div></div><div class="posttext">I have a nsis installer that is basically an update.  I need to overwrite a file that is currently in use.  I have been using a windows executable (inuse.exe) to accomplish it but I'm wondering if there's a way to do it with nsis directly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th February 2005, 18:30</div></div><div class="posttext">Rename /REBOOTOK is what you need. Extract the new file with another name and use Rename /REBOOTOK to copy it over the old file after reboot. The Library macro does this. You can take a look at its source code in Include\Library.nsh.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">twistymcgee</div><div class="date">24th February 2005, 19:44</div></div><div class="posttext">Thanks, I will try this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dienjd</div><div class="date">27th October 2005, 21:52</div></div><div class="posttext">I'm unable to find documentation on how to determine that a file is in-use with NSIS. Am I missing something, or is there a plug-in out there that does this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th October 2005, 21:53</div></div><div class="posttext">Use SetOverwrite try and check the error flag after calling File. If the error flag is set, the file was not overwritten. Don't forget to clear the error flag using ClearErrors before calling File.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>