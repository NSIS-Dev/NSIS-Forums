<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Uninstaller in different folder, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Uninstaller in different folder NSIS Discussion" />
	
	<title> Uninstaller in different folder [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Uninstaller in different folder</div>
<hr />
<div class="pda"><a href="t-177687.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=177687">Uninstaller in different folder</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">nbroers</div><div class="date">23rd April 2004, 09:27</div></div><div class="posttext">Hi,<br />
<br />
I need to put the uninst.exe file in a subdirectory of the INSTDIR. But when running the uninstaller, it fails to delete the files from INSTDIR. <br />
<br />
Is INSTDIR set to the folder where uninst.exe is stored for the uninstaller? Why does this happen?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">23rd April 2004, 13:13</div></div><div class="posttext">Hi :)<br />
<br />
Yes, INSTDIR is set to the folder where the uninstaller is stored when running the uninstaller. What you can do is to redefine it in the 'pre' function of the uninstaller's confirm page: <br />
<br />
; If you need to save the uninstaller's location<br />
Var UNINSTDIR<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE 				    un.onPreConfirmPage<br />
!insertmacro MUI_UNPAGE_CONFIRM<br />
<br />
<br />
<br />
Function un.onPreConfirmPage<br />
  StrCpy $UNINSTDIR $INSTDIR<br />
  <br />
  ; Put some code here to retrieve the real INSTDIR <br />
  ; (from the registry or from an 'ini' file for instance)<br />
<br />
FunctionEnd<br />
<br />
<br />
Let me know if it doesn't work..<br />
<br />
evilO/Olive</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>