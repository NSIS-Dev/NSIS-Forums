<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to tell NSIS to use a different pluginsdir (?) + suggestions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to tell NSIS to use a different pluginsdir (?) + suggestions NSIS Discussion" />
	
	<title> How to tell NSIS to use a different pluginsdir (?) + suggestions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to tell NSIS to use a different pluginsdir (?) + suggestions</div>
<hr />
<div class="pda"><a href="t-174231.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=174231">How to tell NSIS to use a different pluginsdir (?) + suggestions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">niteflyer</div><div class="date">26th March 2004, 20:01</div></div><div class="posttext">My installer needs some plugins, which can be found in NSIS' standard-pluginsdir. The problem is that these have been updated several times since the initial release of NSIS 2 (final) and I want to include the sources and plugins, which actually have been used for the released build of my installer.<br />
<br />
The user should be able to repack the installer with any NSIS 2 (final) build, and as I dont want him to overwrite the DLLs in his standard-pluginsdir with the versions I have included in my installer, I've put them together with my scriptsources in the projectfolder and made them public to NSIS with the command<br />
<br />
!addplugindir '.'<br />
<br />
in the installerscript. NSIS accepts this folder, but still refers primarily to his own pluginsdir, if the plugin-calls in my script can be resolved from this location. My 'workaround' to this, was to rename the DLLs in the projectfolder to installoptions.new.dll or something like that and call<br />
<br />
InstallOptions.new::dialog &quot;ini_file_location.ini&quot;<br />
<br />
Is there any other way to do what I want without having to rename the DLLs ?<br />
<br />
If not, I'd like to suggest that any addplugindir-command puts the standard-plugindir to the end of the nsis-searchorder or to allow pathspecs in a plugin-call like<br />
<br />
.\InstallOptions::dialog &quot;ini_file_location.ini&quot;<br />
<br />
which is currently not allowed, according to my tests.<br />
<br />
I'd also like to suggest that plugins should be compiled with version-information, so that it could be evaluated by GetDLLVersion. It's also more convenient for the programmer to decide which version is more recent, as he could inspect the fileprops of a DLL in his explorer.<br />
<br />
Another nice feature would be if VIProductVersion could use the result of GetDLLVersionLocal 'AppName', so that the installer could inherit the build number of the application to be distributed, without the need to modify the script in this respect.<br />
<br />
And, before you beat me, one last thing: the compiler does not accept SW_HIDE as showmode for ExecShell. I know, this is documented, but I don't see a reason for crippling, as SW_HIDE is already defined in WinMessages.nsh and WinAPIs ShellExecute accepts this value - it would allow hidden DOS-Boxes without the need for a plugin like nsExec.dll - afaik there already has been a thread about this...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">26th March 2004, 20:34</div></div><div class="posttext">What's wrong with using the included plug-ins? If a future NSIS version will be compatible with your script code the plug-ins will probably be backwards compatible too.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>