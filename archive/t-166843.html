<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Runtime customizable sections, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Runtime customizable sections NSIS Discussion" />
	
	<title> Runtime customizable sections [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Runtime customizable sections</div>
<hr />
<div class="pda"><a href="t-166843.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=166843">Runtime customizable sections</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">BigWillyStyle42</div><div class="date">27th January 2004, 05:18</div></div><div class="posttext">I've created a NSIS webinstaller to install available skins for the Overnet filesharing program. Currently the available skins are hardcoded into the installer and then downloaded from my website. This means that I have to release a new installer each time a new skin is created.<br />
<br />
What I was hoping to do was to have a list in text format on the webserver that would allow the installer to be configured at runtime with the available skins. Does anyone have any ideas on how I could do this?<br />
<br />
P.S. The current webinstaller is available at www.bigwillystyle42.com?dest=skins&amp;sub=skinpack only the v0.52 skin pack is a NSIS installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">27th January 2004, 13:19</div></div><div class="posttext">u could read out any textfile with:<br />
<br />
FileOpen $handle &quot;file&quot; r<br />
FileRead $handle $variable_to_set $line_to_read<br />
FileClose $handle<br />
<br />
for ini-files use<br />
ReadINIStr $var_to_set &quot;label&quot; &quot;field&quot; &quot;setting&quot;<br />
<br />
more information in the docs :)<br />
(scripting reference -&gt; basic instructions -&gt; file instructions / -&gt; registry, inifiles)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">BigWillyStyle42</div><div class="date">27th January 2004, 16:17</div></div><div class="posttext">Reading the text file is the easy part. What I'm more concerned with is  adding the sections at runtime instead of compile time as I haven't seen any documentation to that extent. I was hoping to continue using the MUI_COMPONENTS_PAGE if at all possible (really like the way it looks).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th January 2004, 16:26</div></div><div class="posttext">It's possible. You can create lots of hidden sections and set their names using SectionSetText (in the show function of the page) to show them. In each section call a function which will download a certain file from the list.<br />
<br />
An easier solution would be constructing an InstallOptions custom page in which you can simply fill a list.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">BigWillyStyle42</div><div class="date">29th January 2004, 00:57</div></div><div class="posttext">Thanks kichik I created a _bunch_ of hidden sections and it works great now.<br />
<br />
One other question, is there a way to run a program in the background? The skins are packaged in .7z files and I'm running the commandline version of 7zip in order to extract them, however, it pops up a DOS box for each file and spews out some progress info (unfortunately there doesn't seem to be a quiet switch).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th January 2004, 01:03</div></div><div class="posttext">Why not simply use the LZMA compression built into NSIS? You can try running the command line 7zip with nsExec which hides any DOS boxes and captures the input.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>