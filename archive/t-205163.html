<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" InstallUpgradeDriver - Unknown error values, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  InstallUpgradeDriver - Unknown error values NSIS Discussion" />
	
	<title> InstallUpgradeDriver - Unknown error values [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  InstallUpgradeDriver - Unknown error values</div>
<hr />
<div class="pda"><a href="t-205163.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=205163">InstallUpgradeDriver - Unknown error values</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">noisecrime</div><div class="date">17th January 2005, 18:06</div></div><div class="posttext">Hi,<br />
<br />
I'm using Kuba Ober's InstallUpgradeDriver script from the NSIS archive to install a driver.<br />
<br />
I've had a report of an error (5) returned from 'UpdateDriverForPlugAndPlayDevices' but have no idea what this means.<br />
<br />
Unfortunately the author only added 1 error mask<br />
; the masked value of ERROR_NO_SUCH_DEVINST is 523<br />
!define ERROR_NO_SUCH_DEVINST -536870389<br />
<br />
but there are others<br />
ERROR_FILE_NOT_FOUND<br />
ERROR_IN_WOW64<br />
ERROR_INVALID_FLAGS<br />
NO_ERROR<br />
<br />
However i cannot find the error code for any of these, i think i need the Windows DDK, which i don't have and can't get.<br />
<br />
Anyone here know the error codes for the 4 listed above (including NO_ERROR as that is an error) so i can add them to the code.<br />
<br />
thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">17th January 2005, 19:31</div></div><div class="posttext">assuming it's a standard windows error returned then i found...<br />
<br />
5 Access is denied.  ERROR_ACCESS_DENIED<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fuct</div><div class="date">15th January 2013, 20:16</div></div><div class="posttext">I know this is an old thread, but here are some the following error values returned  by, UpdateDriverForPlugAndPlayDevices.  These error messages are a MUST for any device driver programmer!!  i'll be adding the documentation to the NSIS's Wiki site shortly.<br />
<br />
Code formatted for NSIS<br />
!define NO_ERROR              0<br />
!define ERROR_FILE_NOT_FOUND  2<br />
!define ERROR_IN_WOW64        -536870347  ; 0xE0000235<br />
!define ERROR_INVALID_FLAGS   1004        ; 0x3EC<br />
!define ERROR_NO_SUCH_DEVINST -536870389  ; 0xE000020B<br />
<br />
Another thing that should be noted about, UpdateDriverForPlugAndPlayDevices is the &quot;DWORD InstallFlags&quot; parameter.  Below are the values for that as well. Depending on your project the FORCE flag may be appropriate.<br />
<br />
!define INSTALLFLAG_FORCE           0x1<br />
!define INSTALLFLAG_READONLY        0x2<br />
!define INSTALLFLAG_NONINTERACTIVE  0x4<br />
<br />
<br />
A common one we will all run into now is, ERROR_IN_WOW64.  Here's Microsoft's documentation on the subject:<br />
http://msdn.microsoft.com/en-us/library/windows/hardware/ff541255(v=vs.85).aspx<br />
<br />
<br />
As an FYI, ERROR_NO_SUCH_DEVINST is defined by the following:<br />
<br />
ERROR_NO_SUCH_DEVINST   = (APPLICATION_ERROR_MASK | ERROR_SEVERITY_ERROR | 0x20B)<br />
APPLICATION_ERROR_MASK  = 0x20000000<br />
ERROR_SEVERITY_ERROR    = 0xC0000000</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>