<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Uninstaller by section, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Uninstaller by section NSIS Discussion" />
	
	<title> Uninstaller by section [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Uninstaller by section</div>
<hr />
<div class="pda"><a href="t-313397.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=313397">Uninstaller by section</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">cosmos38240</div><div class="date">5th October 2009, 12:37</div></div><div class="posttext">Hello,<br />
<br />
I would like to have a uninstaller on each section.<br />
Example :<br />
<br />
Section 1 &quot;Section1&quot;<br />
  ... <br />
  Software1<br />
  ...<br />
  WriteUninstaller &quot;$Variable\Uninst1.exe&quot;<br />
End Section<br />
<br />
Section 2 &quot;Section2&quot;<br />
  ... <br />
  Software2<br />
  ...<br />
  WriteUninstaller &quot;$Variable\Uninst2.exe&quot;<br />
End Section<br />
<br />
When I want to launch the Uninst1.exe then un.Section1 is executed but also the un.Section2.<br />
<br />
And I don't want that how is it possible to change that please ?<br />
<br />
Thank you,<br />
MichaÃ«l</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cosmos38240</div><div class="date">6th October 2009, 09:45</div></div><div class="posttext">Nobody has got an idea or a workaround ?<br />
I'm just starting to discover NSIS so i am perhaps on a wrong way :)<br />
<br />
Thx <br />
MichaÃ«l</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">6th October 2009, 10:03</div></div><div class="posttext">There is no simple way to do this. The most straight-forward method I can think of is writing somewhere (registry, ini file) which sections were installed, and then reading that info in your uninstaller.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">6th October 2009, 10:03</div></div><div class="posttext">Hi,<br />
I made an installer that installs a package, containing 3 different applications. It is clear that it must be possible to uninstall only one of them. My idea is the following. I create only one uninstaller, but it accepts a parameter from the command line. The parameter is the name of the application that must be uninstalled (or several names). When I write the uninstall information to the registry, I put also the corresponding parameter that must be passed to the uninstaller. In function un.onInit you have to check and get the parameters on from the command line. You can do this with the macro un.GetParameters from FileFunc.nsh. Everything works without any problems.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">6th October 2009, 10:21</div></div><div class="posttext">There is one problem with this approach: The user might run uninstall.exe manually, in which case no parameters would be supplied.<br />
<br />
Since you're already writing to the registry, you might as well create some regkeys of your own, to identify which applications have been installed and which haven't.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">6th October 2009, 10:43</div></div><div class="posttext">If the unuinstaller is started manually, it shows a component dialog (I forgot to tell that in another case it is started in silent mode). In this dialog you can see all supported applications and these once which are already uninstalled are inactive. So you can select manually what do you want to uninstall. After the last application is uninstalled, the uninstaller can delete itself too... It works so...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cosmos38240</div><div class="date">6th October 2009, 12:50</div></div><div class="posttext">Hi Msg and TrifonovS,<br />
<br />
Thank you very much for your advice, it is very helpfull for me.<br />
<br />
I have now an idea of what to do :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cosmos38240</div><div class="date">6th October 2009, 13:53</div></div><div class="posttext">I didn't see that it was possible to have page for uninstall ...<br />
<br />
So I have just put <br />
!insertmacro MUI_UNPAGE_COMPONENTS<br />
<br />
And the Section &quot;un.Section1&quot; is executed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">6th October 2009, 14:58</div></div><div class="posttext">Yes, the most of the pages that can be used in the installer have uninstaller versions...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>