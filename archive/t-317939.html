<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SetCtlColors Using Variables, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SetCtlColors Using Variables NSIS Discussion" />
	
	<title> SetCtlColors Using Variables [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SetCtlColors Using Variables</div>
<hr />
<div class="pda"><a href="t-317939.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=317939">SetCtlColors Using Variables</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Zilatica</div><div class="date">23rd March 2010, 22:25</div></div><div class="posttext">I'm using SetCtlColors and want to have the last value be a variable, but the text background is ALWAYS black.<br />
<br />
I have tried<br />
<br />
SetCtlColors $__TEXT &quot;&quot; $__WIN_COLOR<br />
and <br />
SetCtlColors $__TEXT &quot;&quot; &quot;$__WIN_COLOR&quot;<br />
<br />
Where __WIN_COLOR is defined as one of the following definitions:<br />
StrCpy $__WIN_COLOR &quot;0x348017&quot;<br />
StrCpy $__WIN_COLOR 0x348017<br />
IntOp $__WIN_COLOR &quot;0x348017&quot; + 0<br />
IntOp $__WIN_COLOR 0x348017 + 0<br />
IntOp $__WIN_COLOR &quot;0x348017&quot; + &quot;0&quot;<br />
<br />
The only thing I can make work to give me green background (control color) is <br />
SetCtlColors $__TEXT &quot;&quot; 0x348017<br />
or<br />
SetCtlColors $__TEXT &quot;&quot; &quot;0x348017&quot;<br />
<br />
Every other option using a variable is treated as garbage and results in a black control background.<br />
<br />
What am I missing?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">24th March 2010, 01:12</div></div><div class="posttext">From the User Manual:<br />
<br />
4.9.14.15 SetCtlColors<br />
hwnd [/BRANDING] [text_color] [transparent|bg_color]<br />
<br />
Sets a background color and the text color for a static control, edit control, button or a dialog. text_color and bg_color don't accept variables.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">24th March 2010, 02:20</div></div><div class="posttext">If you really really need to use variables (Why?) You would have to go into undocumented land and get the userdata with GetWindowLong with help from the system plugin. To get the layout of the userdata, you would have to check the nsis source (And needless to say, this struct could change in the future)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zilatica</div><div class="date">24th March 2010, 14:28</div></div><div class="posttext">Eh, it isn't too important.  I was using a variable to set red/green/yellow for bad/good/ok values on a minimum requirements dialog.  Instead, I can set a variable and just run an if/elseif/else sequence.  I just wondered if I was doing something stupid.<br />
<br />
<br />
Thanks,<br />
Zach</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>