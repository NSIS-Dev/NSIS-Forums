<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" basing an If on a file search, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  basing an If on a file search NSIS Discussion" />
	
	<title> basing an If on a file search [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  basing an If on a file search</div>
<hr />
<div class="pda"><a href="t-267048.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=267048">basing an If on a file search</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">SteveRussell</div><div class="date">3rd March 2007, 20:49</div></div><div class="posttext">I am trying to figure out how to do something which I know very well how to do in C++:<br />
<br />
A collection of up to twenty exe's can be installed in one mother directory.  Let's say they are all named 'Collie', followed by consecutive product numbers, e.g., Collie 1.exe, Collie 2.exe, etc.<br />
<br />
In my uninstaller, I would like to base an If condition on whether or not at least one of these files exists, including verifying that the file found in each iteration is not the file asking to be uninstalled.  If no other exe is found, then the condition is fulfilled and I will go ahead with comprehensive deletions.<br />
<br />
Could I get some counsel on the best way to do this?<br />
<br />
IfFileExists looks to me to be structured with Gotos, which I definitely do not prefer; furthermore I do not see how I can employ it as stated above.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">3rd March 2007, 21:29</div></div><div class="posttext">IfFileExists looks to me to be structured with Gotos, which I definitely do not prefer<br />
I'm not sure why you don't prefer, other than it can be a pain to code.  But, it might be easier with LogicLib.  <br />
<br />
Here's an example that you might try:<br />
<br />
!include logiclib.nsh<br />
...<br />
${If} ${FileExists} &quot;Collie 1.exe&quot;<br />
${OrIf} ${FileExists} &quot;Collie 2.exe&quot;<br />
${OrIf} ${FileExists} &quot;Collie 3.exe&quot;<br />
; enter the code here for when one of the files exist<br />
${Else}<br />
; enter the code here for when none of the files exist<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SteveRussell</div><div class="date">3rd March 2007, 23:19</div></div><div class="posttext">Well, that's more mechanical and wordy than what I'm used to, but it seems I need lots of help with even a simple installer, and I have employed your suggestion successfully.  Thank you very much!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>