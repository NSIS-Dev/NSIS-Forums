<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Inetc and local file names, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Inetc and local file names NSIS Discussion" />
	
	<title> Inetc and local file names [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Inetc and local file names</div>
<hr />
<div class="pda"><a href="t-327614.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=327614">Inetc and local file names</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">20th February 2011, 10:20</div></div><div class="posttext">Hello,<br />
<br />
  I need an installer to download a file using a URL entered by the user during installation. I know how to use inetc the problem is that inetc requires a local filename (the file which is stored locally with the content downloaded) but I need the file name to be the file name as specified by the server the file is downloaded from. For example if you use Internet Explorer to download a file from a URL it will suggest the filename to store the data (based on the URL or on the http headers). Is there anyway to do the same, to have inetc figure out the filename on its own?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">20th February 2011, 12:52</div></div><div class="posttext">err... I think you're confusing local and server filenames. If you have the URL to a file on a server, then that URL already contains the exact filename. How else, after all, could the server know what it should send to the user? When you download http://example.org/foo/bar.baz , the file 'bar.baz' will be downloaded to your computer. The name you give it locally, on your computer, is entirely up to you.<br />
<br />
I never used inetc, but I would expect that, by default, it saves a file to its own name. So $INSTDIR\bar.baz, to follow the above example.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">20th February 2011, 12:58</div></div><div class="posttext">MSG - I am not confusing but maybe my explanation was not worded very well.<br />
<br />
Lets take your example,  http://example.org/foo/bar.baz - I'd like inetc to do exactly what you said save the file locally as bar.baz - the problem is that according to the inetc plugin you must supply a local file name so inetc get would look something like:<br />
<br />
inetc::get http://example.org/foo/bar.baz &quot;bar.baz&quot;<br />
<br />
I need to specify the file name which I can not really know...<br />
<br />
And by the way the URL does not need to always specify the file name the server has many ways of knowing the filename and the filename can be returned as a Content-Disposition http header - which is why just parsing the URL is not a safe way to figure out the filename, you need to actually HEAD the URL and parse the headers which I assume inetc is already doing.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jiake</div><div class="date">20th February 2011, 13:44</div></div><div class="posttext">${WordFind} &quot;http://example.org/foo/bar.baz&quot; &quot;/&quot; &quot;-1&quot; $R0<br />
inetc::get &quot;http://example.org/foo/bar.baz&quot; $R0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">20th February 2011, 13:57</div></div><div class="posttext">It is not safe to assume the URL format is that simple and has the filename at its end, there are so many different possible URLs for example:<br />
<br />
http://example.org/foo/bar.baz?id=7<br />
<br />
or simply http://example.org/foo/bar <br />
<br />
where the http header returned include the file name in a Content-Disposition header.<br />
<br />
It needs to be implemented in inetc or some other plugin that is more intimate with the networking.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>