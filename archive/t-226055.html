<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" defining wich language file from a configuration file, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  defining wich language file from a configuration file NSIS Discussion" />
	
	<title> defining wich language file from a configuration file [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  defining wich language file from a configuration file</div>
<hr />
<div class="pda"><a href="t-226055.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=226055">defining wich language file from a configuration file</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Beorne</div><div class="date">15th September 2005, 10:20</div></div><div class="posttext">Up to now I defined wich language file to use with NSIS with:<br />
<br />
!ifdef ITA<br />
LoadLanguageFile 'Italian.nlf'<br />
!endif<br />
<br />
Now I have an external configuration file containing my deploy configuration (includung the language) that I read with the very useful command<br />
<br />
${ConfigRead} 'configfile' 'Language = ? $R5	<br />
<br />
But the latter is an instruction that has to be in a section, and LoadLanguageFile is a command that cannot be placed in a section.<br />
<br />
How could I read a configuration file and on the basis of the parameter load the right language file?<br />
<br />
Thank you very much</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">15th September 2005, 10:23</div></div><div class="posttext">in my installer i'm using this in the onInit function<br />
  ReadINIStr $0 &quot;$EXEDIR\rwparam.ini&quot; &quot;RunWithParameters&quot; &quot;Language&quot;<br />
  StrCpy $LANGUAGE &quot;$0&quot;<br />
that StrCpy command shouldn't be necessary in your script, just use $LANGUAGE in the ReadINIStr command.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Beorne</div><div class="date">15th September 2005, 14:27</div></div><div class="posttext">This does not resolve my problem<br />
I have put <br />
${ConfigRead} &quot;configfile&quot; &quot;lang = &quot; $R5<br />
StrCpy $LANGUAGE $R5<br />
in OnInit but don't work<br />
<br />
I have to read the language from a parameter file, then set the default NSIS strings to that language, like using <br />
LoadLanguageFile &quot;C:\Italian.nlf&quot;<br />
<br />
Simply put I have to localize the installer on the basis of a parameter on file</div></div><hr />


<div class="post"><div class="posttop"><div class="username">glory_man</div><div class="date">15th September 2005, 16:13</div></div><div class="posttext">${ConfigRead} &quot;configfile&quot; &quot;lang = &quot; $R5<br />
MessageBox MB_OK &quot;Language - $R5&quot;<br />
StrCpy $LANGUAGE $R5<br />
<br />
What does this MB show?<br />
And attach script (if you can).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">15th September 2005, 16:23</div></div><div class="posttext">Multilingual example in Moreinfo<br />
<br />
Multilingual example in Moreinfo plugin. Multi language in an easy extensible way in one of the demos. Will solve a lot of multilanguage language problems.<br />
<br />
The &quot;CustomLanguageDemo&quot; Fully shows the power of getting the OS GUI language. I the demo a good example of how custompage localization works and could be implemented.<br />
<br />
See the Wikipage<br />
<br />
http://nsis.sourceforge.net/wiki/MoreInfo_plug-in<br />
<br />
Or take a look in:<br />
<br />
http://forums.winamp.com/showthread...hlight=moreinfo<br />
<br />
Just try the &quot;CustomLanguageDemo&quot; demo included.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Beorne</div><div class="date">16th September 2005, 09:01</div></div><div class="posttext">Originally posted by glory_man <br />
${ConfigRead} &quot;configfile&quot; &quot;lang = &quot; $R5<br />
MessageBox MB_OK &quot;Language - $R5&quot;<br />
StrCpy $LANGUAGE $R5<br />
<br />
What does this MB show?<br />
And attach script (if you can).  <br />
<br />
<br />
Function .onInit<br />
    ${ConfigRead} &quot;configfile&quot; &quot;lang = &quot; $R5<br />
    StrCpy $LANGUAGE $R5<br />
    MessageBox MB_OK &quot;Language - $LANGUAGE&quot;    <br />
FunctionEnd<br />
<br />
It shows me correcty &quot;Language = Italian&quot;<br />
That is the value of the lang parameter<br />
<br />
But the writings on the installer are not in Italian<br />
<br />
If I put<br />
    MessageBox MB_OK &quot;language2 = $LANGUAGE&quot;<br />
in another section, it shows me &quot;language2 = 1033&quot;<br />
<br />
I don't wont to give different language options in the moment of the installation of the application. I'd like, at the moment of the compiling of the .nsi installer, to compile it with a languge set defined in a separate config file, like the effect obtained by using<br />
LoadLanguageFile 'C:\Programmi\NSIS\Contrib\Language files\Italian.nlf'.<br />
But I want to load a different language set on the basis of an external parameter.<br />
<br />
I don'know if I have explained me well and I don't know if this is possible.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">glory_man</div><div class="date">16th September 2005, 11:04</div></div><div class="posttext">You need to use constant (like ${LANG_ENGLISH}, ${LANG_ITALIAN}, etc) or language ID (1033-for English, 1040-for italian, etc) to set right language.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>