<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Replacing Duplicates in the script, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Replacing Duplicates in the script NSIS Discussion" />
	
	<title> Replacing Duplicates in the script [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Replacing Duplicates in the script</div>
<hr />
<div class="pda"><a href="t-207775.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=207775">Replacing Duplicates in the script</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Mark_Ive</div><div class="date">14th February 2005, 17:12</div></div><div class="posttext">Hi,<br />
   I have a NSIS 1.98 script (havent had time to upgrade yet) that is a kind of patch system, I am wondering if anyone has achieved the following. Qhat i want to do is if a file has been superseded then dont include the previous one.<br />
<br />
Eg<br />
SetOutPath c:\<br />
<br />
;patch from 1.0<br />
file &quot;c:\myfile.extn&quot;<br />
;patch from 1.1<br />
file &quot;c:\myfile.extn&quot;<br />
;patch from 1.2<br />
file &quot;c:\myotherfile.extn&quot;<br />
;patch from 1.3<br />
file &quot;c:\myfile.extn&quot;<br />
<br />
So in the compiled exe at the end it doesnt have three different versions of myfile.extn taking up space. <br />
<br />
I know i can remove the File line for the previous version but this is a massive pain.... Any ideas anyone?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th February 2005, 19:04</div></div><div class="posttext">You could just use an !ifdef block over it.<br />
<br />
 !ifdef NOTHING<br />
;patch from 1.0<br />
file &quot;c:\myfile.extn&quot;<br />
;patch from 1.1<br />
file &quot;c:\myfile.extn&quot;<br />
;patch from 1.2<br />
file &quot;c:\myotherfile.extn&quot;<br />
 !endif<br />
;patch from 1.3<br />
file &quot;c:\myfile.extn&quot;<br />
<br />
NOTHING will never be defined, so those File commands will never be used.<br />
You'd just now need to move the last !endif down every time.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mark_Ive</div><div class="date">15th February 2005, 09:24</div></div><div class="posttext">Thanks Afrow UK for the reply, <br />
Sorry im after something more runtime based(should have said that). What you have specified is what i am having to do now and its a pain, becasuse i have to have a version 1 to version 3 then a 1.1 to 3 then a 1.2 to 3<br />
<br />
<br />
Basically if the target for a file is the same as a previous one remove the reference for the previous one.<br />
<br />
As it compiles i would imageing it would create a list of instructions <br />
<br />
like this<br />
copy this file to outpath<br />
copy that file to outpath<br />
write this registry string<br />
<br />
So the compiler would need to look back through this list and delete duplicates??!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mark_Ive</div><div class="date">15th February 2005, 09:31</div></div><div class="posttext">From a look in the code something to do with build_entries looks like an array of installer commands</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>