<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problems with handling the &quot;NEXT&quot; button on Directory page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problems with handling the &quot;NEXT&quot; button on Directory page NSIS Discussion" />
	
	<title> Problems with handling the &quot;NEXT&quot; button on Directory page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problems with handling the &quot;NEXT&quot; button on Directory page</div>
<hr />
<div class="pda"><a href="t-256179.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=256179">Problems with handling the &quot;NEXT&quot; button on Directory page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">airria</div><div class="date">25th September 2006, 14:41</div></div><div class="posttext">Hello!<br />
<br />
(first post, so I'm a newbie at this) :)<br />
<br />
Anyway, I'm creating an installer, that will &quot;upgrade&quot; a software avaiable on a cd-rom to a folder. Simply, it copies all files that are usable from the earlier version from a cd-rom, and then extract the new files from the installer itself.<br />
<br />
This all works great, but of course, I need to use two directory pages, one for source, and one for destination.<br />
<br />
I have written an &quot;verify&quot; function, that works, and allows users to choose &quot;valid&quot; folders. I'm using &quot;onVerifyInstDir&quot; and ti works, for example the &quot;ok&quot; button in the browse folder dialog is disabled / enabled as it should be.<br />
<br />
The problem however appears, when I use cd-rom as source. If I do not set &quot;MUI_DIRECTORYPAGE_VERIFYONLEAVE&quot; to false (I'm using modern ui), the &quot;next&quot; button will always be disabled when a cd-rom station is chosen. (no matter what I set with enablewindow, it goes back to disabled).<br />
<br />
And, the other way around, If I set verifyonleave, even if I disable the button, it will go back to enabled once I press &quot;cancel&quot; in the &quot;browse folder&quot; window.<br />
<br />
So, is there a way to completly &quot;override&quot; the basic functionality that is enabling/disabling the next button?<br />
<br />
Thanks for a great forum and a great software!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">26th September 2006, 14:34</div></div><div class="posttext">Originally posted by airria <br />
I'm creating an installer, that will &quot;upgrade&quot; a software avaiable on a cd-rom to a folder. Simply, it copies all files that are usable from the earlier version from a cd-rom, and then extract the new files from the installer itself. <br />
<br />
I don't know the answer to your problem, but I pressume the installer is also on the CD-ROM, am I right? couldn't you guess the source folder and only ask for destination?<br />
<br />
Are you really, really sure that you can't make the installer look for the source files automatically?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th September 2006, 14:51</div></div><div class="posttext">It won't let you use the CD drive, because a CD is read only.<br />
Use InstallOptions to create your own Directory page by using the DirRequest control.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">airria</div><div class="date">26th September 2006, 15:34</div></div><div class="posttext">Originally posted by n0On3 <br />
I don't know the answer to your problem, but I pressume the installer is also on the CD-ROM, am I right? couldn't you guess the source folder and only ask for destination?<br />
<br />
Are you really, really sure that you can't make the installer look for the source files automatically? <br />
<br />
No. The installer is not on the CD-ROM. It's not possible to guess the source folder, as it can be anywhere (cd-rom or any folder).<br />
<br />
I can make it search for the source files, but running locate to search through an harddrive takes a lot of time.<br />
<br />
<br />
Originally posted by Afrow UK<br />
It won't let you use the CD drive, because a CD is read only.<br />
Use InstallOptions to create your own Directory page by using the DirRequest control.<br />
<br />
<br />
Yes, but it does allow me to use the cd-drive if I set:<br />
MUI_DIRECTORYPAGE_VERIFYONLEAVE to false. But then it automatically enables the button as soon as I disable it.<br />
<br />
InstallOptions is of course a possibility, but it requires lot of code just to resize the browse button. (saw some example in one of your posts, I think)<br />
<br />
<br />
Anyway, currently I added the function that verifies the folder on _LEAVE for the page. If the folder is not ok, it gives an error messagebox and runs Abort.<br />
<br />
So, this solved my problem, but not in the way I wanted. :)<br />
<br />
Thanks for both suggestions!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>