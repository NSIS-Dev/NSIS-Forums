<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Trying to create an Updater program., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Trying to create an Updater program. NSIS Discussion" />
	
	<title> Trying to create an Updater program. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Trying to create an Updater program.</div>
<hr />
<div class="pda"><a href="t-221196.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=221196">Trying to create an Updater program.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dive2xs</div><div class="date">11th July 2005, 15:30</div></div><div class="posttext">I have searched the forum but have not found what I am looking for.<br />
<br />
I have used NSIS to create an installer.  It works fine, creating files and links.<br />
<br />
The installer does not create any registry keys.  The program the installer installs, however does create a registry key for values.<br />
<br />
HKCU/Software/program name<br />
There is 1 REG_SZ and 4 REG_Binary keys in the directory.<br />
<br />
I want to create an installer that will only work if the following exists:<br />
<br />
1. the program &quot;exe&quot; file exists<br />
2. the program &quot;dll&quot; file exists<br />
3. the programs regkey exists<br />
<br />
I have got 1 &amp; 2 figured out.  How do I do #3.<br />
<br />
Should I be doing anything else? Should i be creating additional reg keys?<br />
<br />
My uninstaller will delete everything and is linked from the start menu.<br />
<br />
Thanks for your assistance,<br />
<br />
Brett<br />
<br />
P.s. I am not a heavy programmer, so simplicity is devine!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">scully13</div><div class="date">11th July 2005, 16:07</div></div><div class="posttext">It sounds like you need something like this:<br />
<br />
ReadRegStr $R3 HKCU \<br />
    &quot;SOFTWARE\Company Name\Software Title&quot; \<br />
    &quot;LastInstallPath&quot;<br />
StrCmp $R3 &quot;&quot; 0 installed<br />
   MessageBox MB_OK &quot;Must not be installed.&quot;<br />
   Goto end<br />
installed:<br />
   MessageBox MB_OK &quot;Software Found.&quot;<br />
end:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th July 2005, 18:44</div></div><div class="posttext">You can also check for errors after attempting to read from the registry key. This ensures that it will fail even if the value is &quot;&quot;.<br />
<br />
ClearErrors<br />
ReadRegStr ...<br />
IfErrors ...<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Luxor</div><div class="date">13th March 2007, 21:33</div></div><div class="posttext">Hi! I'm new on this forum, I have a trouble with realization of updater. The process of updating must be executed on http, ftp protocols or on local network(from share folders). I have a next idea: <br />
1.when update program started, user can choose the way of update. There are 5 ways: first - by http with preset paths;<br />
second - by http, but user will assign the way manually;third and fourth ways are the same but protocol is ftp; fifth way is - user assign  the path to local resourse(shared folder).<br />
2.Thereby we choose the server where are located files which must be copied on user machine to update the software.<br />
3.I think on server must be locate a text or ini file in which described the files to update(name, date of modification, size, version). Also the same file must be locate on the user machine, but there must be described files, which are installed on user's machine.<br />
Then updater must compare the filelist from on the server with filelist from users machine(by date, size or version) and in the next window display in the listbox the files which user must update.<br />
May be anybody have expirience in this i'll be glad to know anything about this. I dont, know how to compare the ini or text files. There are exists function &quot;TextCompare&quot; in NSIS, but it doesn't work, I don't know why. <br />
May be my idea is bad and incorrect,i'll be pleased to hear any new information.<br />
I've used the SwUpdata by AfrowUK it's good product and I think it wil be usefull to me, but i'm beginner in NSIS and some details is not clear for me yet. I'm sorry for my language, i'm from Russia.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th March 2007, 22:09</div></div><div class="posttext">Comparing to mine, your english are perfect :)<br />
Definitely INI is the way to go, see NSIS manual,<br />
<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.2<br />
<br />
also, a good forum search, I'm sure will come up with many details.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>