<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Announcement: New branch of NSIS, NSIS(lch), with new functionality!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Announcement: New branch of NSIS, NSIS(lch), with new functionality! NSIS Discussion" />
	
	<title> Announcement: New branch of NSIS, NSIS(lch), with new functionality! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Announcement: New branch of NSIS, NSIS(lch), with new functionality!</div>
<hr />
<div class="pda"><a href="t-60285.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=60285">Announcement: New branch of NSIS, NSIS(lch), with new functionality!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">18th September 2001, 09:05</div></div><div class="posttext">NSIS(lch) is a variant of the NSIS installer we all know and love.  I've hacked in a bunch of new functionality for a project I needed, and because my bosses are swell guys, I've made the changes available to you!<br />
<br />
Frequently Asked Questions about NSIS(lch):<br />
<br />
(Or, questions that would be frequently asked, if anyone cared.)<br />
<br />
What's different about NSIS(lch)?<br />
<br />
There are a total of ten new script elements.<br />
<br />
Two new &quot;attributes&quot;: BrandingText and ReserveFreeSpace.<br />
<br />
Three new callback functions: .onExit, .onInsufficientSpaceInstDir, and .onSufficientSpaceInstDir.<br />
<br />
And five new functions: BroadcastMessage, CallExtensionDll, DebugBreak, ExitWindows, and SetDialogText.<br />
<br />
I put the full documentation up here:<br />
<br />
http://www.midwinter.com/~funkster/nsislch.html<br />
<br />
Of course, it's also included in the installer.<br />
<br />
What license is NSIS(lch) released under?<br />
<br />
It's licensed under the same license as the original NSIS (the zlib license); however, since I did the work on it on company time, my bosses wanted to retain ownership, so there was a one-line addition to the license to reflect this.<br />
<br />
Where can I get technical support for NSIS(lch)?<br />
<br />
Ha ha ha!  Oh, you kill me.  Seriously, post a message on this here Winamp message board, and I (or somebody else) will probably be able to help.<br />
<br />
<br />
Where can I get this incredible new thingy, whatever it is?  It sounds exciting!<br />
<br />
You bet!<br />
<br />
http://www.midwinter.com/~funkster/nsislch144.exe<br />
<br />
:D<br />
<br />
<br />
Seriously, please post here if you find this useful, or whatever.  I'm interested in whether or not anybody uses this.<br />
<br />
Bon appetit,<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">18th September 2001, 10:00</div></div><div class="posttext">Great, I'm downloadin' now to see what it is like. I hope it is good.<br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">18th September 2001, 10:12</div></div><div class="posttext">Now, after formally downloading it, I have a few questions.<br />
<br />
1) I see a DLL file, What is that???<br />
2) I don't understand the BroadcastMessage tag, what does it do (with out using Programming terms)???<br />
3) What does LCH mean???<br />
<br />
There will be a few more questions when I really get to use the program. But for now, it sounds good.<br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">18th September 2001, 10:19</div></div><div class="posttext">1) If you're talking about extdemo.dll, that's a sample &quot;extension DLL&quot; for use with the new CallExtensionDLL function.  It's used in the examplelch.nsi sample NSI script.  C programmers can now write DLLs to add new functions to NSIS, without having to hack up the NSIS source.<br />
<br />
2) Explaining the BroadcastMessage function without using programming terms... ain't gonna happen.  Don't sweat it, like I said in the documentation, it's not particularly useful for most folks.<br />
<br />
3) L C H are my initials.<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">18th September 2001, 17:15</div></div><div class="posttext">Im downloading it now - thanks much ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">18th September 2001, 17:41</div></div><div class="posttext">lookin lovely - but the one feature I liked about the Yaga installer was the I agree checkbox.  Do you plan to release something that'll let us all use that (or even could you...)  if it's difficult making it optional, Id love it even more if it was the only way (although I dont know how others might feel about that :D :D :D )<br />
<br />
thanks a lot for releasing what you have anyway</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dTomoyo</div><div class="date">25th September 2001, 07:22</div></div><div class="posttext">:( I can't download it.<br />
<br />
DNS error... (at South Korea. Bora.net )<br />
<br />
show me the mirror link.<br />
<br />
plz...<br />
<br />
<br />
:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Someonebutnotme</div><div class="date">4th October 2001, 18:19</div></div><div class="posttext">my bosses wanted to retain ownership, so there was a one-line addition to the license to reflect this<br />
<br />
Isn't that against the original license agreement?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CraigF</div><div class="date">5th October 2001, 00:35</div></div><div class="posttext">possibly.<br />
I assume that as the original program is owned by nullsoft, and no agreement has taken place to transfer ownership of said software, then they cannot retain any ownership rights, as they had none in the first place.<br />
<br />
Of course, im not one on the legalities of this such stuff.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">5th October 2001, 00:51</div></div><div class="posttext">The change to the license is simply the insertion of this line below the existing copyright notice:<br />
Modifications Copyright 2001 Yaga, Inc. <br />
or words to that effect.  I don't have it handy.  Anyway, I ran it past our lawyer, and he said it was appropriate and legal and all.<br />
<br />
Why sweat it?  It's still the zlib license, and you can do with the software whatever you like.<br />
<br />
BTW, I know, http://www.midwinter.com is down right now (actually it's up, it's just inaccessible due to a routing scroo-up); I'll get my variant put up somewhere else eventually.<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">5th October 2001, 05:13</div></div><div class="posttext">Are you gonna port the newest version to lch???</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">5th October 2001, 07:45</div></div><div class="posttext">There are exactly two changes from NSIS 1.44 to NSIS 1.45:<br />
  Made exehead explicitly call InitCommonControls() for potential XP bugfix.<br />
  Fixed bug when you hit back and the OK button is disabled. <br />
I already found (and fixed) the second one, and the first one is apparently only a &quot;potential&quot; bugfix.  But yeah, what the hey, I'll incorporate that fix and kick out a new release in a week or two.<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Repzilon</div><div class="date">6th October 2001, 14:39</div></div><div class="posttext">ExoticMandibles, the InitCommonControls change is just adding #include &lt;commctrl.h&gt; in declarations of exehead\main.c and InitCommonControls(); just after declarations of WinMain function of main.c .<br />
<br />
But, NSIS 1.50 released and I will have to update my source code too (based on Edgewize, updated to match 1.45).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">11th October 2001, 09:25</div></div><div class="posttext">Since you posted, we got 1.50, and then in quick succession 1.51 - 1.55.  I think I'm gonna wait until it's been at lest, oh, two days since a new release before I do my Big Hairy Merge.  Besides, the machine I'd post it on has no chance of coming back online 'til next week anyway...<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">11th October 2001, 21:38</div></div><div class="posttext">Once you do your &quot;Big Hairy Merge&quot;, Submit it to the NSIS Project House ( I'm the admin :D ). You can read more about it in the thread titled &quot;NSIS Project House Coming Soon...&quot; .<br />
<br />
-Duane<br />
<br />
P.s. I have to work on the PHP/MySQL Scripting :eek:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">12th October 2001, 10:20</div></div><div class="posttext">I've sync'd up my branch of NSIS to version 1.55.  Here's the list of changes from 1.44(lch):<br />
  Removed RequireFreeSpace attribute, as it has been superceded by NSIS's excellent AddSize function.<br />
  Added LicenseExplicitAgree and LicenseAgreeText attributes.<br />
  Added NoSleep attribute/function. <br />
Since the www.midwinter.com web server is still down, I've put it up on my personal web server at home.  Be kind to my poor DSL line! :)  The URL is:http://www.funkopolis.com:8080/~lch/nsislch155.exe<br />
<br />
(You can thank Pacific Bell DSL for that :8080 crap.  They've blocked everybody's port 80 following the recent Nimda / CodeRed worms, sigh.)<br />
<br />
Oh, and DuaneJeffers: You'll be happy to know that 1.55(lch) has the checkbox for the license agreement.  Please feel free to put it on yer Der NSIS Projekt Haus web page thingy.<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">13th October 2001, 02:14</div></div><div class="posttext">Do you have a SourceForge Unix (login) Name??? I can add you to the project.<br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">13th October 2001, 17:05</div></div><div class="posttext">I have added NSIS(lch) v. 1.55 to the following page<br />
http://sourceforge.net/projects/nsisphouse .<br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">15th October 2001, 01:03</div></div><div class="posttext">Originally posted by ExoticMandibles <br />
I've sync'd up my branch of NSIS to version 1.55.  ......<br />
<br />
The uninstaller in NSISlch1.55 doesn't seem to work (or at least not on my either my win95, or WinXP system)<br />
<br />
Scripts compile fine, as with NSIS 1.55 and 1.57 (official) but when I compile with NSISlch the Uninstaller always crashes with Unhandled exception in blah.exe: 0xC0000005: Access Violation as soon as I run it<br />
<br />
I've tried commenting out differant sections of the uninstaller, but I can't narrow it down to a certain command that stops it from working.  Can anyone else confirm the Uninstaller NSISlch155 creates doesn't work, or am I just missing something?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">15th October 2001, 11:32</div></div><div class="posttext">Sorry to hear it.  I haven't seen it go by.<br />
<br />
Could you make a tiny test case and send it to me / post it here?  My email address is larry at hastings dot org.<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">15th October 2001, 15:37</div></div><div class="posttext">By the way: another user sent me email directly pointing out that the examplelch.nsi installer crashes immediately with 1.55(lch).  That's because I included an older version of extdemo.cpp, which used a prototype extension DLL interface (which was radically different), and that was the version I built extdemo.dll from.<br />
<br />
This is fixed, along with the (minor) bug of specifying the now-no-longer-defined ReserveFreeSpace.  I was lazy and didn't create a new file, I just called it the same thing: http://www.funkopolis.com:8080/~lch/nsislch155.exe <br />
<br />
If you care about extdemo.dll or examplelch.nsi, you should grab a fresh copy.  Apart from that, the distribution is the same, and by not downloading a second copy you spare my poor DSL line :)<br />
<br />
Enjoy,<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">15th October 2001, 17:15</div></div><div class="posttext">I've zipped up the files+script, and a copy of the installer created on my machine.  It's at http://septor.screaming.net/massive_nsislch155_testcase.zip if you want to take a look.  (It's not that massive, only 223k :) )<br />
<br />
Also, I should mention, I haven't tested it with NSIS155 (I thought I had, but I've only got 154, 156 and 157 here).  The uninstaller created does work when created by NSIS154, 156 or 157 though.<br />
<br />
Thanks a lot.<br />
<br />
calum</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ExoticMandibles</div><div class="date">15th October 2001, 18:34</div></div><div class="posttext">Fixed it!  And, it turns out, the uninstall was broken for everybody.  Sigh.  Sorry about that.<br />
<br />
Once again, in my neglectful slacker ways, I just cut a new installer with the same name and all: http://www.funkopolis.com:8080/~lch/nsislch155.exe  You can tell the difference, as this one is 1,233,774 bytes, was released today (Oct 15), and doesn't crash 100% of the time in the uninstaller.<br />
<br />
For the record: it was my bug, in the quickly-hacked-together SleepBetweenStatements code.  When installing, it needs to look in the install header; when uninstalling it needs to look in the uninstall header, as the install header is invalid.  My previous code always looked in the install header, and that's why it crashed.<br />
<br />
Sheepishly,<br />
<br />
<br />
larry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">15th October 2001, 19:05</div></div><div class="posttext">Brilliant - works beautifully now.  Thanks :p</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>