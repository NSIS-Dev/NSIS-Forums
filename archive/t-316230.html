<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" GRC Perfect Paper Password, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  GRC Perfect Paper Password NSIS Discussion" />
	
	<title> GRC Perfect Paper Password [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  GRC Perfect Paper Password</div>
<hr />
<div class="pda"><a href="t-316230.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316230">GRC Perfect Paper Password</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Zinthose</div><div class="date">14th January 2010, 02:17</div></div><div class="posttext">I'm trying to get Steve Gibson's Perfect Paper Passwords ppp.dll (https://www.grc.com/ppp/implementation.htm) to work within NSIS using the System plugin (http://nsis.sourceforge.net/Docs/System/System.html).  Thus far with no success.<br />
<br />
I'm pretty sure it's something simple, AKA my Stupid is showing.<br />
<br />
FYI:<br />
* I copied the ppp.dll to my nsi's OutFile path.<br />
* I'm focusing on getting the &quot;ConvertAsciiTo128BitDecimal&quot; function to work first as it can produce re-creatable results.<br />
<br />
Documentation per the GRC site:<br />
ConvertAsciiTo128BitDecimal<br />
---------------------------<br />
BinaryBuffer	:	Pointer to a 128-bit (16-byte) buffer which will receive the result of an ASCII to decimal conversion<br />
AsciiString	:	Pointer to a null-terminated ASCII string containing only ASCII digits 0-9 and possibly commas.<br />
Returns: 1	:	Successful conversion with non-zero result.<br />
	 0	:	Zero result.<br />
	-1	:	Invalid characters in string.<br />
	-2	:	Overflow - binary conversion would have required more than 128-bits.<br />
<br />
&quot;ConvertAsciiTo128BitDecimal&quot; performs an ASCII to decimal conversion upon a null-terminated input string which may contain commas (which will be ignored). <br />
The 32-bit (signed) return value indicates the outcome of the operation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">14th January 2010, 03:17</div></div><div class="posttext">(Why did you not post the code you already have?)<br />
<br />
The docs on GRC are wrong, its not pascal, but stdcall, anyways, try:<br />
<br />
<br />
!include LogicLib.nsh<br />
Outfile test.exe<br />
ShowInstDetails show<br />
Section<br />
Initpluginsdir<br />
Setoutpath $pluginsdir<br />
File ppp.dll<br />
System::Alloc 16<br />
pop $1<br />
System::Call '$pluginsdir\ppp.dll::ConvertAsciiTo128BitDecimal(i r1,m &quot;123,456&quot;)i.r0'<br />
DetailPrint &quot;return=$0&quot;<br />
${If} $0 &gt;= 0<br />
	${For} $2 0 15<br />
		IntOp $0 $1 + $2<br />
		System::Call '*$0(&amp;i1.r3)'<br />
		DetailPrint &quot;Byte #$2 = $3&quot;<br />
	${Next}<br />
${EndIf}<br />
System::Free $1<br />
Setoutpath $temp<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zinthose</div><div class="date">14th January 2010, 05:22</div></div><div class="posttext">Sorry about not posting what I had... by the time I posted on the forum I had deleted my working copy and was tinkering with something else to as I was just getting frustrated.<br />
<br />
<br />
I'll try to avoid this in the future   ^_^<br />
<br />
I'll take a look at your example when I return to work tomorrow.  Thanks for the quick reply.  ;o)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>