<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" building NSIS with VS C++ 2005, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  building NSIS with VS C++ 2005 NSIS Discussion" />
	
	<title> building NSIS with VS C++ 2005 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  building NSIS with VS C++ 2005</div>
<hr />
<div class="pda"><a href="t-295599.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=295599">building NSIS with VS C++ 2005</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">wu5mike</div><div class="date">6th August 2008, 19:09</div></div><div class="posttext">Hi, I'm trying to compile NSIS as to print to stdout in my installer, but I'm having a spot of trouble.<br />
<br />
On a VM with WinXP I installed:<br />
Python 2.5.2<br />
Scons 0.96.93<br />
Visual C++ 2005 Express<br />
And the Platform SDK for WinXP SP2<br />
<br />
When I run scons in the nsis directory I get the following error:<br />
<br />
...<br />
scons: done reading SConscript files.<br />
scons: Building targets ...<br />
cl /nologo /GS- /O1 /W3 /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_NO_WARNINGS /c<br />
Contrib\AdvSplash\advsplash.c /Fobuild\release\AdvSplash\advsplash.obj<br />
advsplash.c<br />
Contrib\AdvSplash\advsplash.c(4) : fatal error C1083: Cannot open include file:<br />
'windows.h': No such file or directory<br />
scons: *** [build\release\AdvSplash\advsplash.obj] Error 2<br />
scons: building terminated because of errors.<br />
<br />
<br />
The config.log isn't too much more helpful, the first error is: <br />
<br />
<br />
<br />
file C:\nsis-2.38-src\SCons\Config\ms,line 184:<br />
	Configure(confdir = .sconf_temp)<br />
scons: Configure: &quot;.sconf_temp\conftest_1.c&quot; is up to date.<br />
scons: Configure: The original builder output was:<br />
  |.sconf_temp\conftest_1.c &lt;-<br />
  |  |<br />
  |  |#include &lt;windows.h&gt;<br />
  |  |int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInst,LPSTR lpszCmdParam, int nCmdShow) {<br />
  |  |	ULARGE_INTEGER *i = 0;<br />
  |  |	return (int)(i-&gt;QuadPart &gt;&gt; 10);<br />
  |  |}<br />
  |  |<br />
  |<br />
scons: Configure: Building &quot;.sconf_temp\conftest_1.obj&quot; failed in a previous run and all its sources are up to date.<br />
scons: Configure: The original builder output was:<br />
  |cl /nologo /GS- /O1 /W3 /FAcs /Fa.sconf_temp\conftest_1.obj.lst /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_NO_WARNINGS /c .sconf_temp\conftest_1.c /Fo.sconf_temp\conftest_1.obj<br />
  |<br />
<br />
<br />
Any ideas what I'm missing or what I should investigate?<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jimpark</div><div class="date">8th August 2008, 20:34</div></div><div class="posttext">Do you by any chance have MSVS 2008 installed as well?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wu5mike</div><div class="date">8th August 2008, 21:34</div></div><div class="posttext">Nope, I tried this on a fresh VM machine</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>