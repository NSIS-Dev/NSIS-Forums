<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Need help for a very in-depth installation, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Need help for a very in-depth installation NSIS Discussion" />
	
	<title> Need help for a very in-depth installation [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Need help for a very in-depth installation</div>
<hr />
<div class="pda"><a href="t-344593.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=344593">Need help for a very in-depth installation</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">eqizeqiz</div><div class="date">3rd May 2012, 04:31</div></div><div class="posttext">Hey everyone,<br />
<br />
First off I read through the rules for this forum and I believe what i'm wanting to do isn't against any of the rules. This type of installation is extremely important to me and I need to be able to accomplish this as soon as possible.<br />
<br />
What I'm trying to achieve:<br />
<br />
I resell software from a vendor and currently right now they don't offer great &quot;Rebranding&quot; features in the installation of their product. What I want to be able to do is create an installation file that will install both my software and their software at the same time. The only problem is their installation is a basic &quot;setup.exe&quot; that has to be ran since it creates a lot of different registry values etc.<br />
<br />
I have my own setup.exe that i want to be ran before theirs so i can make sure that everything is installed properly. Their installation setup.exe installs some files, but sometimes they don't get installed correctly and this is where my setup.exe comes into play by installing this files first so their setup.exe skips trying to install since theirs does a check to see if those files (ones required) have already been installed on the system.<br />
<br />
Another thing I would love to be able to do, which i don't know if i can, is when their setup.exe has completed, it takes a file from where my setup.exe installed to and replaces it with a file their setup.exe has created.<br />
<br />
For Example... Their setup.exe after completing creates a desktop Icon pointing to their software.exe. I want their software.exe to be renamed to something like vendorsoftware.exe and then a file from my Setup.exe (my installation that happened first) to be placed into their folder and named software.exe<br />
<br />
Why you ask? well they don't have an automatic updater feature. i have wrote an automatic updater for their software that i want to be ran before their software opens. My automatic updater needs to run first, check for updates, then run their actual software.<br />
<br />
<br />
Hopefully I didn't confuse you guys too bad. I made these basic steps to give a more &quot;visual&quot; idea..<br />
<br />
to help prevent confusion these are &quot;variables&quot; i will use in these steps.<br />
<br />
My SETUP.EXE is called &quot;Eqiz Software&quot;<br />
Their Setup.exe is called &quot;Vendor Software&quot;<br />
NewSetup.exe = the created installation file using NSIS<br />
<br />
1) Main Installation starts (NewSetup.exe)<br />
2) NewSetup.exe starts installing &quot;Eqiz Software&quot;<br />
*Note - Being able to play a FlashVideo during this part while other installs are going would be really nice*<br />
3) Once completed, it then starts the setup.exe for &quot;Vendor Software&quot;<br />
4) Once completed, it renames the file &quot;startup.exe&quot; from inside the &quot;Vendor Software&quot; directory (which is always the same path, we will say it goes to &quot;C:\VendorInstall\&quot;) to &quot;vendorstartup.exe&quot; then takes the &quot;startup.exe&quot; from &quot;Eqiz Software&quot; directory (C:\eqizDirectory\) and places it into the C:\VendorInstall\ directory.<br />
<br />
<br />
This way when the shortcut that was created by the &quot;Vendor Software&quot; installation will open the newely placed &quot;startup.exe&quot; located in C:\VendorInstall\<br />
<br />
<br />
I've tried reading some of the tutorials and code behind trying to do something like this, but i haven't came close to finding out specifically how. If need be i'll pay someone to do this, but i have been programming for a while and can understand it pretty easily if someone could help point me into right direction.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">3rd May 2012, 05:40</div></div><div class="posttext">This is very simple to do. Simply install your own files, then execute the other setup using ExecWait, then continue doing your own stuff.<br />
<br />
Section<br />
SetOutPath &quot;C:\VendorInstall&quot;<br />
File &quot;File1.ext&quot;<br />
File &quot;File2.ext&quot;<br />
SetOutPath $PLUGINSDIR<br />
File &quot;Vendor Software.exe&quot;<br />
ExecWait '&quot;$PLUGINSDIR\Vendor Software.exe&quot;'<br />
SetOutPath &quot;C:\VendorInstall&quot;<br />
Rename &quot;C:\VendorInstall\startup.exe&quot; &quot;C:\VendorInstall\Vendorstartup.exe&quot;<br />
File &quot;startup.exe&quot;<br />
SectionEnd<br />
<br />
Note that the user will need to go through the installation steps of vendor software.exe manually, unless that setup features a silent mode (something like ExecWait '&quot;$PLUGINSDIR\Vendor Software.exe&quot; /silent' ).<br />
<br />
It sounds like you're new to NSIS. To learn NSIS, you should start by looking at NSIS\Example1.nsi and Example2.nsi. Learn what all the commands in those examples are for, and why they are used. You can use the command reference for this: http://nsis.sourceforge.net/Docs/Chapter4.html<br />
Once you've done that, you will be well underway to building your own NSIS installer.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>