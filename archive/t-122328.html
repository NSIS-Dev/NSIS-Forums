<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Program Back/Cancel button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Program Back/Cancel button NSIS Discussion" />
	
	<title> Program Back/Cancel button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Program Back/Cancel button</div>
<hr />
<div class="pda"><a href="t-122328.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=122328">Program Back/Cancel button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">treaz</div><div class="date">22nd January 2003, 00:55</div></div><div class="posttext">Hi,<br />
<br />
May I know if there is anyway to modify or program the back buttons and the Cancel/Next buttons?<br />
<br />
For example I want the installer to do something before going back to the previous page when the user clicks &quot;Back&quot;.<br />
<br />
Thanks.:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treaz</div><div class="date">22nd January 2003, 01:19</div></div><div class="posttext">Hi,<br />
<br />
Continuation to my above posting...<br />
<br />
It would also be nice if someone could advice me on how do I enable my CANCEL button at my Install Page. Currently while my installer is extracting its files, etc, I am unable to stop it half-way by clicking Cancel button because it has been disabled.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">virtlink</div><div class="date">22nd January 2003, 11:20</div></div><div class="posttext">The Cancel button is always disabled while installing. This is configured in the NSIS compiler itself.<br />
<br />
If you aren't using the Modern UI, you can use the following:<br />
<br />
Page license|components|directory|instfiles [pre_function] [post_function]<br />
<br />
Where you replace [pre_function] with the function name of a function that contains instructions that need to be executed before loading, and [post_function] with the function name of a function that contains instructions that need to be executed after loading.<br />
<br />
Taken from: Chapter 3.5.2 (http://nsis.sourceforge.net/Docs/Chapter3.html#3.5.2)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd January 2003, 15:03</div></div><div class="posttext">You can't enable the cancel button yet. I do plan on adding this feature sometime in the future though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treaz</div><div class="date">23rd January 2003, 20:36</div></div><div class="posttext">May I know then if there is anyway to modify or program the back button? <br />
<br />
What I actually wish to do is:<br />
If the user clicks on &quot;BACK&quot; then the installer skips all my functions and checking which I have coded.<br />
<br />
Thanks.<br />
:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">virtlink</div><div class="date">24th January 2003, 13:44</div></div><div class="posttext">Look here: http://forums.winamp.com/showthread.php?s=&amp;threadid=122389. KiCHiK said two days ago that a feature that would enable to do things at exit of a page would become available tomorrow (yesterday). I haven't heard anything from him about it since.<br />
<br />
So I don't know whether KiCHiK implemented a variable or function that can be used to check what button was used. I should be there in order to let what you want work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th January 2003, 13:56</div></div><div class="posttext">It will only be called when pressing next. Should be available today I hope.<br />
<br />
treaz, you should just copy 1 to a variable and before checking check if this variable is 1. If it is, skip your functions. No need to know when the user clicks back, just flag that you have already done the testing.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th January 2003, 19:43</div></div><div class="posttext">Up and running.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treaz</div><div class="date">7th March 2003, 22:07</div></div><div class="posttext">Originally posted by kichik <br />
It will only be called when pressing next. Should be available today I hope.<br />
<br />
treaz, you should just copy 1 to a variable and before checking check if this variable is 1. If it is, skip your functions. No need to know when the user clicks back, just flag that you have already done the testing. <br />
<br />
May I know how do I verify if the user clicked the BACK button instead of any other button?  If I have a way to check, it would solve my problem for sure.<br />
<br />
Thanks.:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th March 2003, 22:16</div></div><div class="posttext">After the function executes copy 1 to a variable and before executing again check if that variable is 1. If the function has already executed it won't execute it again. If really want it only not to execute when pressing back (can't see why, but it's your call) then set that variable in one of the next page's callback functions and have the function that you don't want to execute check for it and unset it after it checked.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treaz</div><div class="date">7th March 2003, 22:33</div></div><div class="posttext">My apologies but I am totally confused by your explanation.<br />
<br />
I need to run my check function every time the text boxes get changed.  Therefore if I use a variable (to check that once the function has been ran, it does not run again), I will not be able to run my check function again once the user modifies the text boxes.<br />
<br />
Not sure if I am making myself clear, cause I seem to have difficulty explaining the senerio.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th March 2003, 22:36</div></div><div class="posttext">I will answer this tomorrow unless someone does before me. Too tired to think :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treaz</div><div class="date">10th March 2003, 21:39</div></div><div class="posttext">Let me try to explain me scenerio:<br />
<br />
I have a customised page that takes in 4 user inputs.<br />
These inputs should be checked only when the user click NEXT.<br />
<br />
The checking process: these 4 inputs are passed as arguments into a java class which does the validation.  If there is an error, a message box would pop up to tell the user what was wrong with the inputs.  The user should be allowed to re-enter the inputs. <br />
<br />
I do NOT wish to run the check function upon clicking the BACK button, firstly because the checking takes a very long time. Secondly, because my checking function pops up a message box if the information entered was invalid. <br />
<br />
Currently if the input boxes were empty and the user click BACK or even CANCEL, my checking function would run and return an error message to say that an error occurred (because it does not accept empty inputs). BUT this doesn't make sense because the user did not request to move forward with this installation.  He merely requested to go BACK.<br />
<br />
I wish to know how I can make my above scenerio more sensible.<br />
Any help would be great. Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">10th March 2003, 23:03</div></div><div class="posttext">The Check funtion should be called on the next page's pre function.<br />
<br />
If using Modern UI and your next page is the InsFiles page, use<br />
      !define MUI_CUSTOMFUNCTION_INSTFILES_SHOW &quot;Check&quot;<br />
Where &quot;Check&quot; is your special function.<br />
<br />
If you don't use Modern UI, use the<br />
Page InstFiles &quot;Check&quot;<br />
<br />
Does that answer your query?<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treaz</div><div class="date">10th March 2003, 23:45</div></div><div class="posttext">Hi,<br />
<br />
Thanks for your reply.<br />
I have tried that method of putting my check function as the pre function for the next page. <br />
<br />
However, I would not be able to return to the previous page automatically if the input given by the users are invalid.  <br />
<br />
If you have any ideas, I would be more than glad to try it.<br />
<br />
Thanks.:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">11th March 2003, 08:02</div></div><div class="posttext">If you use Install Options 2, you can do this:<br />
<br />
Use this code in the function of your page.<br />
<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;TEXT TO TITLE&quot; &quot;TEXT TO SUBTITLE&quot;<br />
<br />
  #If you use !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;inifile.ini&quot;<br />
  #replace this by:<br />
<br />
  Push $R0<br />
    InstallOptions::dialog &quot;$PLUGINSDIR\\inifile.ini&quot;<br />
  Pop $R0<br />
<br />
  #...<br />
<br />
  StrCmp $R0 &quot;success&quot; 0 EndSuccess<br />
<br />
#Put here the code that you want to run when next button is pressed.<br />
<br />
  EndSuccess:<br />
<br />
#Put here the code that you want to run when any button is pressed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treaz</div><div class="date">11th March 2003, 19:39</div></div><div class="posttext">Thanks a lot!<br />
<br />
I finally got my problem solved.<br />
That was indeed a very helpful piece of code.<br />
<br />
:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">12th March 2003, 08:02</div></div><div class="posttext">I viewed the Modern UI documentation and I detected a change in this doc, now this code:<br />
<br />
  Push $R0<br />
    InstallOptions::dialog &quot;$PLUGINSDIR\inifile.ini&quot;<br />
  Pop $R0<br />
<br />
Can be replaced by:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY_RETURN &quot;inifile.ini&quot;<br />
<br />
But I didn't test this, so if you get any problems with this, you can use the old code posted by me before.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>