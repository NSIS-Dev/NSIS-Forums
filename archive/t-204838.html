<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to add files by wildcards, but uninstall only what is installed, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to add files by wildcards, but uninstall only what is installed NSIS Discussion" />
	
	<title> How to add files by wildcards, but uninstall only what is installed [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to add files by wildcards, but uninstall only what is installed</div>
<hr />
<div class="pda"><a href="t-204838.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=204838">How to add files by wildcards, but uninstall only what is installed</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Dkom</div><div class="date">13th January 2005, 21:46</div></div><div class="posttext">If I want to uninstall only installed files - I must create log-file. It's easy if I'll write:<br />
SetOutPath &quot;$INSTDIR\Langs&quot;<br />
  File &quot;Langs\Spanish.txt&quot;<br />
  File &quot;Langs\German.txt&quot;<br />
  File &quot;Langs\French.txt&quot;<br />
<br />
But how to wrtie file names (French.txt, German.txt and so on) to log file if code will be:<br />
SetOutPath &quot;$INSTDIR\Langs&quot;<br />
  File &quot;Langs\*.txt&quot;<br />
  <br />
Or I must always use full names, if I want ot create such uninstaller? If there are to many files - what will be more easy: to write their full names and paths to both installer and uninstaller or to use File &quot;SomeDir\*.&lt;exttension&gt;&quot; or File /r &quot;Somedir\*.&lt;extension&gt;&quot; and to add some macro to the script?<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th January 2005, 12:43</div></div><div class="posttext">This thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=146048&amp;highlight=log+delete) is full of information about this topic.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dkom</div><div class="date">14th January 2005, 17:03</div></div><div class="posttext">Don't you think, that it will be usefull to add new switch \log for example to &quot;File&quot; command in the next NSIS release?<br />
For example if code is<br />
SetOutPath &quot;$INSTDIR\Somedir&quot;<br />
File \log \r &quot;Source\*.*&quot;<br />
then installer will automatically generate log with installed files and their paths and put this log into installed dir.<br />
In uninstaller it will be only<br />
RMDir \log &quot;$INSTDIR\Somedir&quot;<br />
and uninstaller will automatically read log and delete only needed files.<br />
<br />
It will be great help for newbies, or for those, who want to delete only installed files and don't want to explore how to write special macro or huge amount of commands for that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th January 2005, 17:20</div></div><div class="posttext">Rather than adding a \log switch for each specific command, it would be much better to use a CreateUninstallLog true|false<br />
<br />
However, I doubt this will be implemented. If it's possible using NSIS script already available, then why make it a built-in feature?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th January 2005, 17:26</div></div><div class="posttext">Here is the simplest way to achieve it. I just put it up on the Archive:<br />
http://nsis.sourceforge.net/archive/nsisweb.php?page=679&amp;instances=0<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dkom</div><div class="date">14th January 2005, 17:52</div></div><div class="posttext">&gt;&gt;Here is the simplest way to achieve it<br />
<br />
As I understood I must to write every file name with its extension (&quot;file1.ext&quot;), but if there are hundred of files in folders and subfolders and I want to write *.* when adding files what must I change in this code? Can I use ${File} \r &quot;Source\*.*&quot; or something like that or only <br />
${File} &quot;file1.ext&quot;<br />
${File} &quot;file2.ext&quot;<br />
....<br />
${File} &quot;file100.ext&quot;<br />
&gt;&gt; If it's possible using NSIS script already available, then why make it a built-in feature?<br />
<br />
 Many things can be done using script, but for example why RmDir has [/r] switch if user can write<br />
Delete &quot;$INSTDIR\Somedir\*.*&quot;<br />
RmDir &quot;$INSTDIR\Somedir&quot;<br />
Possibly because of quick and easy use of RmDir /r?<br />
<br />
It's quick and easy to write CreàteUninstàllLog (and ReàdUninstàllLog to uninstàller) and not to think how to create needed code.<br />
 I think such implementation will be useful no only for me or will be unneded because of rare use.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">domenico10</div><div class="date">18th January 2005, 17:24</div></div><div class="posttext">We are using Wise Installer and trying out NSIS. &lt;br&gt; With Wise every action (installed file or registry setting) is written to a log file. The uninstaller then undo what is written in the log file.&lt;br&gt; Is there in NSIS a similar function or script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dkom</div><div class="date">18th January 2005, 18:50</div></div><div class="posttext">&gt;Is there in NSIS a similar function or script?<br />
<br />
You must write all code by yourself. Afrow UK thinks that it can be easy to all, but imho NSIS must have single command for that useful function.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>