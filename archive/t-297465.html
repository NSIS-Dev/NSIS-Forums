<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" LangString and .onInit, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  LangString and .onInit NSIS Discussion" />
	
	<title> LangString and .onInit [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  LangString and .onInit</div>
<hr />
<div class="pda"><a href="t-297465.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=297465">LangString and .onInit</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">XRaptor</div><div class="date">16th September 2008, 14:26</div></div><div class="posttext">Hi, I need to use MessageBox in .onInit part for telling user some information and maybe abort install process. I need to display language specific message. But it not works, it always display the same string, no matter which language is selected. Is there any way without using variables and testing $LANGUAGE?<br />
<br />
<br />
<br />
LangString MSG1 ${LANG_CZECH} &quot;yyy&quot;<br />
LangString MSG1 ${LANG_ENGLISH} &quot;xxx&quot;<br />
<br />
...<br />
<br />
Function .onInit<br />
<br />
  !insertmacro MUI_LANGDLL_DISPLAY<br />
<br />
	ReadRegStr $R0 HKLM \<br />
		&quot;SOFTWARE\something&quot; \<br />
		&quot;something&quot;<br />
<br />
  ${If} $R0 == &quot;&quot;<br />
		;MessageBox MB_OK $(MSG1) IDOK<br />
    Abort<br />
  ${EndIf}<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th September 2008, 17:57</div></div><div class="posttext">Language strings use the first selected language in .onInit. You can either wait for .onGUIInit or use the good old ${Switch} on $LANGUAGE.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>