<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Popup and bold text, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Popup and bold text NSIS Discussion" />
	
	<title> Popup and bold text [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Popup and bold text</div>
<hr />
<div class="pda"><a href="t-229397.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=229397">Popup and bold text</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">26th October 2005, 11:14</div></div><div class="posttext">There are two things I like to accomplish with NSIS, but i don't know if this is possible.<br />
<br />
1) I want when clicked on a Link (in a custom page) A popup shows up with an scrollable field for a license.<br />
<br />
2) I want the text of my radio buttons in Bold <br />
<br />
Anyone? Thanks anyway</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th October 2005, 11:49</div></div><div class="posttext">You could write another NSIS executable which only contains a license page that you extract to $PLUGINSDIR from your main installer. Your main installer executes it with ExecWait in your Leave function of your custom page (the Link control needs NOTIFY flag). The license page installer will have to write something to the registry in the license page's Leave function to show that the user accepted the license agreement rather than simply pressed the Cancel button.<br />
<br />
To make text bold you need to use GetDlgItem, CreateFont and SendMessage.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">26th October 2005, 12:36</div></div><div class="posttext">Afrow UK thanks, but is there any example for the Bold text.<br />
<br />
Its very hard for me to code it from zero, my english is also not so good, thats why some Tuts are difficult.<br />
<br />
Thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th October 2005, 15:31</div></div><div class="posttext">OutFile license.exe<br />
Page License &quot;&quot; LicenseShow LicenseLeave<br />
LicenseForceSelection RadioButtons<br />
LicenseData license.nsi<br />
XPStyle on<br />
<br />
!include WinMessages.nsh<br />
<br />
!define LicenseRadioButton1 1034<br />
!define LicenseRadioButton2 1035<br />
<br />
Function LicenseShow<br />
<br />
 FindWindow $R0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
 CreateFont $R2 $(^Font) $(^FontSize) 700<br />
<br />
 GetDlgItem $R1 $R0 ${LicenseRadioButton1}<br />
 SendMessage $R1 ${WM_SETFONT} $R2 1<br />
<br />
 GetDlgItem $R1 $R0 ${LicenseRadioButton2}<br />
 SendMessage $R1 ${WM_SETFONT} $R2 1<br />
<br />
FunctionEnd<br />
<br />
Function LicenseLeave<br />
 WriteRegStr HKCU &quot;Software\My Product&quot; &quot;LicenseAgreed&quot; &quot;1&quot;<br />
FunctionEnd<br />
<br />
Section<br />
SectionEnd<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">27th October 2005, 23:42</div></div><div class="posttext">About lanching this License page, this must happen (only) when a user clicks on a link. Because now it just lauches when i click next. How to solve this?<br />
<br />
License Page, I have created a simple License page (see code) But how do i hide the Cancel button and if possible the line displayed above thise buttons. The tips on this on the forum didn't work for me.<br />
<br />
!define TEMP1 $R0<br />
<br />
Name &quot;Save! License Agreement&quot;<br />
OutFile &quot;..\save_license.exe&quot;<br />
ShowInstDetails show<br />
ReserveFile &quot;${NSISDIR}\Plugins\InstallOptions.dll&quot;<br />
ReserveFile &quot;save_license.ini&quot;<br />
BrandingText &quot; &quot;<br />
<br />
Page custom PageShow LeavePage<br />
<br />
Section &quot;Components&quot;<br />
  ;Get Install Options dialog user input<br />
SectionEnd<br />
<br />
Function .onInit<br />
  InitPluginsDir<br />
  File /oname=$PLUGINSDIR\save_license.ini &quot;save_license.ini&quot;<br />
FunctionEnd<br />
<br />
Function PageShow<br />
<br />
  Push ${TEMP1}<br />
    InstallOptions::dialog &quot;$PLUGINSDIR\save_license.ini&quot;<br />
    Pop ${TEMP1}<br />
  Pop ${TEMP1}<br />
<br />
FunctionEnd<br />
<br />
Function LeavePage<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">28th October 2005, 09:35</div></div><div class="posttext">Firstly make sure you have Flags=NOTIFY for your Link Field (control).<br />
<br />
Then your Leave Function should look like this:<br />
<br />
!define LinkField 5<br />
<br />
Function LeavePage<br />
<br />
  Push ${TEMP1}<br />
    ReadINIStr ${TEMP1} &quot;$PLUGINSDIR\save_license.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
    StrCmp ${TEMP1} ${LinkField} 0 End<br />
<br />
      ExecWait &quot;$PLUGINSDIR\license.exe&quot;<br />
<br />
      ReadRegStr ${TEMP1} HKCU &quot;Software\My Product&quot; &quot;LicenseAgreed&quot;<br />
      StrCmp ${TEMP1} 1 End<br />
        Abort #User clicked Cancel<br />
<br />
    End:<br />
  Pop ${TEMP1}<br />
<br />
FunctionEnd<br />
<br />
<br />
You should define LinkField to the Field # of your Link control.<br />
<br />
I'm not sure how you want it to work exactly, but currently if the user clicks Cancel it will go back to the save_license.ini page. Otherwise it will continue to the next page.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dandaman32</div><div class="date">28th October 2005, 21:57</div></div><div class="posttext">Try the ExperienceUI; it allows you to set a custom function for your link on the Finish page.  That way you can skip modifying Modern UI files.<br />
<br />
http://xpui.sourceforge.net<br />
<br />
-dandaman32</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>