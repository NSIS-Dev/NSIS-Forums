<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Select Sectiongroup with Radiobutton, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Select Sectiongroup with Radiobutton NSIS Discussion" />
	
	<title> Select Sectiongroup with Radiobutton [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Select Sectiongroup with Radiobutton</div>
<hr />
<div class="pda"><a href="t-268481.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=268481">Select Sectiongroup with Radiobutton</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">27th March 2007, 16:44</div></div><div class="posttext">Hello<br />
I have a selection Group<br />
with 4 entries<br />
<br />
This four entries should behave like radioButtons<br />
So at least one of the RadioButtons have to be selected<br />
<br />
<br />
The problem is, if I click on the selectionButton of the group<br />
several &quot;Sub&quot;Sections are selected<br />
<br />
like in the attached picture  (Red marked is the group)<br />
<br />
My .onSelChange Function..<br />
Function .onSelChange<br />
  !insertmacro StartRadioButtons $Matlabver<br />
    !insertmacro RadioButton ${SEC0016}<br />
    !insertmacro RadioButton ${SEC0013}<br />
    !insertmacro RadioButton ${SEC0014}<br />
    !insertmacro RadioButton ${SEC0015}<br />
 !insertmacro EndRadioButtons<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">27th March 2007, 18:32</div></div><div class="posttext">I following example, once you click on a group default settings restored.<br />
<br />
; one-section.nsi<br />
;<br />
; This example demonstrates how to control section selection.<br />
; It allows only one of the sections of a group to be selected.<br />
<br />
;--------------------------------<br />
<br />
; Section define/macro header file<br />
; See this header file for more info<br />
<br />
!include &quot;Sections.nsh&quot;<br />
!include &quot;logiclib.nsh&quot;<br />
<br />
;--------------------------------<br />
<br />
Name &quot;One Section&quot;<br />
OutFile &quot;one-section.exe&quot;<br />
<br />
;--------------------------------<br />
<br />
; Pages<br />
<br />
Page components<br />
<br />
;--------------------------------<br />
<br />
; Sections<br />
<br />
Section !Required<br />
  SectionIn RO<br />
SectionEnd<br />
<br />
SectionGroup /e &quot;Group 1&quot; grp1<br />
Section &quot;Group 1 - Option 1&quot; g1o1<br />
SectionEnd<br />
<br />
Section /o &quot;Group 1 - Option 2&quot; g1o2<br />
SectionEnd<br />
<br />
Section /o &quot;Group 1 - Option 3&quot; g1o3<br />
SectionEnd<br />
SectionGroupEnd<br />
<br />
SectionGroup /e &quot;Group 2&quot; grp2<br />
Section &quot;Group 2 - Option 1&quot; g2o1<br />
SectionEnd<br />
<br />
Section /o &quot;Group 2 - Option 2&quot; g2o2<br />
SectionEnd<br />
<br />
Section /o &quot;Group 2 - Option 3&quot; g2o3<br />
SectionEnd<br />
SectionGroupEnd<br />
;--------------------------------<br />
<br />
; Functions<br />
<br />
; $1 stores the status of group 1<br />
; $2 stores the status of group 2<br />
<br />
Function .onInit<br />
<br />
  StrCpy $1 ${g1o1} ; Group 1 - Option 1 is selected by default<br />
  StrCpy $2 ${g2o1} ; Group 2 - Option 1 is selected by default<br />
<br />
FunctionEnd<br />
<br />
Function .onSelChange<br />
<br />
SectionGetFlags ${grp1} $R0<br />
IntOp $R0 $R0 &amp; ${SF_SELECTED}<br />
<br />
${If} $R0 == ${SF_SELECTED}<br />
    !insertmacro SelectSection ${g1o1}<br />
    !insertmacro UnSelectSection ${g1o2}<br />
    !insertmacro UnSelectSection ${g1o3}<br />
${EndIf}<br />
<br />
  !insertmacro StartRadioButtons $1<br />
    !insertmacro RadioButton ${g1o1}<br />
    !insertmacro RadioButton ${g1o2}<br />
    !insertmacro RadioButton ${g1o3}<br />
  !insertmacro EndRadioButtons<br />
<br />
SectionGetFlags ${grp2} $R0<br />
IntOp $R0 $R0 &amp; ${SF_SELECTED}<br />
<br />
${If} $R0 == ${SF_SELECTED}<br />
    !insertmacro SelectSection ${g2o1}<br />
    !insertmacro UnSelectSection ${g2o2}<br />
    !insertmacro UnSelectSection ${g2o3}<br />
${EndIf}<br />
<br />
  !insertmacro StartRadioButtons $2<br />
    !insertmacro RadioButton ${g2o1}<br />
    !insertmacro RadioButton ${g2o2}<br />
    !insertmacro RadioButton ${g2o3}<br />
  !insertmacro EndRadioButtons<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">28th March 2007, 08:46</div></div><div class="posttext">Hi Red Wine!<br />
Thank you, I found the error<br />
I forgot to reset the Flags <br />
SectionGetFlags ${grp1} $R0<br />
IntOp $R0 $R0 &amp; ${SF_SELECTED}<br />
<br />
${If} $R0 == ${SF_SELECTED}<br />
    !insertmacro SelectSection ${g1o1}<br />
    !insertmacro UnSelectSection ${g1o2}<br />
    !insertmacro UnSelectSection ${g1o3}<br />
${EndIf}<br />
<br />
But now i have onother question<br />
<br />
I want that the click on the Grp Icon' doesn't change the selection..<br />
is this possible?<br />
I used the following code, but i doesn't change the behavior<br />
<br />
what I'm doing wrong?<br />
 ${If} $R0 == ${SF_SELECTED}<br />
    ${switch} $Matlabver<br />
    ${Case} ${SEC0016}<br />
    !insertmacro SelectSection ${SEC0016}<br />
    !insertmacro UnSelectSection ${SEC0013}<br />
    !insertmacro UnSelectSection ${SEC0014}<br />
    !insertmacro UnSelectSection ${SEC0015}<br />
    ${Case} ${SEC0013}<br />
    !insertmacro SelectSection ${SEC0013}<br />
    !insertmacro UnSelectSection ${SEC0016}<br />
    !insertmacro UnSelectSection ${SEC0015}<br />
    !insertmacro UnSelectSection ${SEC0014}<br />
    ${Case} ${SEC0014}<br />
    !insertmacro SelectSection ${SEC0014}<br />
    !insertmacro UnSelectSection ${SEC0016}<br />
    !insertmacro UnSelectSection ${SEC0013}<br />
    !insertmacro UnSelectSection ${SEC0015}<br />
    ${Case} ${SEC0015}<br />
    !insertmacro SelectSection ${SEC0015}<br />
    !insertmacro UnSelectSection ${SEC0016}<br />
    !insertmacro UnSelectSection ${SEC0013}<br />
    !insertmacro UnSelectSection ${SEC0014}<br />
    ${Default}<br />
    !insertmacro SelectSection ${SEC0016}<br />
    !insertmacro UnSelectSection ${SEC0015}<br />
    !insertmacro UnSelectSection ${SEC0013}<br />
    !insertmacro UnSelectSection ${SEC0014}<br />
    ${EndSwitch}<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">28th March 2007, 09:03</div></div><div class="posttext">I want that the click on the Grp Icon' doesn't change the selection..<br />
is this possible?I haven't tested something like this so I couldn't confirm, but, as far as I know NSIS, must be possible, just give it some try.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">28th March 2007, 12:37</div></div><div class="posttext">My first Problem was, that I added one of the section in the radiobutton group to an installtype<br />
This is a NO-NO!!!<br />
but here is a onselchange which solves the problem<br />
simple select the right section when the section grp get activated<br />
<br />
Function .onSelChange<br />
    SectionGetFlags ${SECGRP0002} $R0<br />
    IntOp $R0 $R0 &amp; ${SF_SELECTED}<br />
    ${If} $R0 == ${SF_SELECTED}<br />
        ${select} $Matlabver<br />
        ${Case} ${SEC0016}<br />
            !insertmacro SelectSection ${SEC0016}<br />
            !insertmacro UnSelectSection ${SEC0013}<br />
            !insertmacro UnSelectSection ${SEC0014}<br />
            !insertmacro UnSelectSection ${SEC0015}<br />
        ${Case} ${SEC0013}<br />
            !insertmacro SelectSection ${SEC0013}<br />
            !insertmacro UnSelectSection ${SEC0016}<br />
            !insertmacro UnSelectSection ${SEC0015}<br />
            !insertmacro UnSelectSection ${SEC0014}<br />
        ${Case} ${SEC0014}<br />
            !insertmacro SelectSection ${SEC0014}<br />
            !insertmacro UnSelectSection ${SEC0016}<br />
            !insertmacro UnSelectSection ${SEC0013}<br />
            !insertmacro UnSelectSection ${SEC0015}<br />
        ${Case} ${SEC0015}<br />
            !insertmacro SelectSection ${SEC0015}<br />
            !insertmacro UnSelectSection ${SEC0016}<br />
            !insertmacro UnSelectSection ${SEC0013}<br />
            !insertmacro UnSelectSection ${SEC0014}<br />
        ${Default}<br />
            !insertmacro SelectSection ${SEC0016}<br />
            !insertmacro UnSelectSection ${SEC0015}<br />
            !insertmacro UnSelectSection ${SEC0013}<br />
            !insertmacro UnSelectSection ${SEC0014}<br />
        ${EndSelect}<br />
    ${EndIf}<br />
<br />
    !insertmacro StartRadioButtons $Matlabver<br />
        !insertmacro RadioButton ${SEC0013}<br />
        !insertmacro RadioButton ${SEC0014}<br />
        !insertmacro RadioButton ${SEC0015}<br />
        !insertmacro RadioButton ${SEC0016}<br />
    !insertmacro EndRadioButtons<br />
FunctionEnd</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>