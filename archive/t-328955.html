<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Answer to parameter prompt in console, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Answer to parameter prompt in console NSIS Discussion" />
	
	<title> Answer to parameter prompt in console [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Answer to parameter prompt in console</div>
<hr />
<div class="pda"><a href="t-328955.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=328955">Answer to parameter prompt in console</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">n4fx</div><div class="date">26th March 2011, 17:39</div></div><div class="posttext">hello,<br />
<br />
I have very little experience in nsis and my english is not very good (sorry ;-)), bad i'm gona try to explain my doubt. <br />
<br />
I want to execute a command line app. This app ask for some parameter. I'm trying to pass this parameters using ExecDos plugin, bad the app only accept the first parameter.<br />
<br />
I have done some basic example. First i do a bat file:<br />
<br />
@echo off<br />
set /p choice1=Entrada 1:<br />
set /p choice2=Entrada 2:<br />
IF &quot;%choice1%&quot;==&quot;hola1&quot; ( IF &quot;%choice2%&quot;==&quot;hola2&quot; notepad.exe )<br />
<br />
Then i call with:<br />
<br />
ExecDos::exec  /DETAILED /TIMEOUT=10000 &quot;$EXEDIR\prueba.bat&quot; &quot;hola1$\r$\nhola2$\r$\n&quot;<br />
<br />
bad don't work.<br />
<br />
If the bat file is: <br />
<br />
@echo off<br />
set /p choice1=Entrada 1:<br />
IF &quot;%choice1%&quot;==&quot;hola1&quot; notepad.exe<br />
<br />
and i call it with:<br />
<br />
ExecDos::exec  /DETAILED /TIMEOUT=10000 &quot;$EXEDIR\prueba.bat&quot; &quot;hola1$\r$\n&quot;<br />
<br />
Then it work fine.<br />
<br />
Can i make what i want?? Can i pass more than one parameter?? how??<br />
<br />
Thanks for any help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n4fx</div><div class="date">26th March 2011, 19:00</div></div><div class="posttext">Sorry!! change &quot;bad&quot; for &quot;but&quot; :-(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">27th March 2011, 00:00</div></div><div class="posttext">Use stdin_string instead. See:<br />
http://nsis.sourceforge.net/ExecDos_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n4fx</div><div class="date">27th March 2011, 10:19</div></div><div class="posttext">hello,<br />
<br />
I'm using the first example in this page.<br />
<br />
ExecDos::exec /TIMEOUT=2000 &quot;$EXEDIR\consApp.exe&quot; &quot;test_login$\ntest_pwd$\n&quot; &quot;$EXEDIR\execdos.log&quot;<br />
Pop $0 # return value<br />
MessageBox MB_OK &quot;Exit code $0&quot;<br />
<br />
I just exchange &quot;test_login$\ntest_pwd$\n&quot; for &quot;hola1$\nhola2$\n&quot;.<br />
<br />
The end result is the same. When i test only with one parameter &quot;hola1$\n&quot;, adapting the bat file for that, work fine. With two parameter don't work.<br />
<br />
I'm doing something wrong??? I suppose yes :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">28th March 2011, 16:44</div></div><div class="posttext">For me this looks like messing of command line parameters and program stdin. Second parameter of ExecDos is program standard input. If you want run bat file with command line parameters just use something like '&quot;$EXEDIR\prueba.bat&quot; hola1 hola2' in ExecDos or nsExec first parameter.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">28th March 2011, 18:05</div></div><div class="posttext">I don't think he is mixing it up. &quot;set /p const=Enter some text: &quot; will prompt the user to enter some text.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n4fx</div><div class="date">28th March 2011, 18:53</div></div><div class="posttext">I can't pass the strings to application as parameters in one command line. The .bat i have done is only an example for explain what i want (sorry because probably i have complicated it).<br />
<br />
Really i have a console application that let me change a smartcard pin. The command is &quot;pkcs11-tool --module=aetpkss1.dll --change-pin&quot;.<br />
<br />
This application don't accept the old and new pin as parameter. The aplication always shows the messages:<br />
<br />
- Insert the old pin: then i must enter the actual pin<br />
- Insert the new pin: Then i must enter the new pin<br />
- Confirm the new pin: then i must confirm<br />
<br />
I want to call this command application and send this valors of pins when the application ask for its.<br />
<br />
it is possible???<br />
<br />
Thanks!!!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>