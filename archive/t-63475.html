<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Splash Behaviour?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Splash Behaviour? NSIS Discussion" />
	
	<title> Splash Behaviour? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Splash Behaviour?</div>
<hr />
<div class="pda"><a href="t-63475.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=63475">Splash Behaviour?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">23rd October 2001, 08:42</div></div><div class="posttext">Hi guys,<br />
<br />
Does anyone know how to close the splash screen from an NSIS script? A SendMessage command, perhaps? I've tried FindWindow and FindWindowByTitle but they can't find the thing.<br />
<br />
Better yet, does anyone know how to make the splash screen ignore a user's mouse clicks, so that it won't close unless NSIS tells it to?<br />
<br />
I've attached an example picture file that I'd like to use in one of my installations.<br />
<br />
Thanks,<br />
Alex</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">23rd October 2001, 22:27</div></div><div class="posttext">Eh, am I correct in saying that you want a &quot;Creating icons&quot; window in a colour other than the user's colour scheme to appear on the screen for a set amount of time, refusing to go away, with that said amount of time being far greater than the time taken to actually create the icons?<br />
<br />
Not very user friendly I wouldn't think...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">24th October 2001, 01:57</div></div><div class="posttext">Originally posted by petersa <br />
Hi guys,<br />
<br />
Does anyone know how to close the splash screen from an NSIS script? A SendMessage command, perhaps? I've tried FindWindow and FindWindowByTitle but they can't find the thing.<br />
<br />
Better yet, does anyone know how to make the splash screen ignore a user's mouse clicks, so that it won't close unless NSIS tells it to?<br />
<br />
I've attached an example picture file that I'd like to use in one of my installations.<br />
<br />
Thanks,<br />
Alex <br />
<br />
I see you are going for traditional (bloated) installer behaviour. The thing is, NSIS creates icons so quickly, it should only be open for a fraction of a second (as opposed to the many seconds other installers can take, using DDE or whatever they do to make icons)...<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">27th October 2001, 12:23</div></div><div class="posttext">Sorry, prodangle, you're incorrect...and I'm not exactly looking for traditional installer behaviour either.<br />
<br />
Okay, creating icons = bad example...<br />
<br />
I have an installation for a program here that is made up of about 20 files. What I'm making NSIS do is extract these files to a temporary location, running the main setup program, and then killing this temporary folder.<br />
<br />
I'm hoping for a way to make a small window pop up while it's extracting these files and starting the installation. Have a look at the attachment.<br />
<br />
I'm trying to do something like PackageForTheWeb or WinZip SFX, but I'd rather use NSIS for its speed and size. Still, I'd like this small bitmap to pop up while it's doing something.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">27th October 2001, 12:27</div></div><div class="posttext">Being able to do this would be quite useful considering the installation is 20mb in size and will be run from a CD or Zip disk.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">27th October 2001, 20:14</div></div><div class="posttext">Well if you really want to, modify splash.exe to not do anything on a WM_LBUTTONDOWN, then use this in your script:<br />
<br />
FindWindow $0 &quot;_sp&quot;<br />
StrCmp $0 &quot;&quot; no<br />
SendMessage $0 16 0 0<br />
no:<br />
<br />
<br />
Or something.<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">5th November 2001, 04:34</div></div><div class="posttext">The SendMessage line has no effect. The splash window just stays there.<br />
<br />
Does anyone know of a free compiler I could use to change the source and recompile the .EXE? I've got no idea how to do it but I'm sure I can work it out. I don't have Visual C++ or whatever it is NSIS is made in.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">5th November 2001, 07:51</div></div><div class="posttext">Here's splash.exe changed the way Justing suggested.  Hope that's a start :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">7th November 2001, 07:19</div></div><div class="posttext">Thanks, prodangle, but while I was offline I stumbled across some hidden genius and made my own version:<br />
<br />
Armed with the knowledge that WM_TIMER = 0x113 and WM_LBUTTONDOWN = 0x201, I went into a hex editor and searched for '01 13' and '02 01'.<br />
<br />
Failing that, I searched for '13 01' and '01 02'. I found those and changed them to WM_CUT, which is 0x300.<br />
<br />
Now it checks if it was sent either WM_CUT or WM_CUT, but hey, I'm not a programmer so that makes it okay. :D<br />
<br />
So here's a version of SPLASH.EXE that only quits when you tell it to 'Cut!'.<br />
<br />
  Exec '$TEMP\SPLASH 1 $HWNDPARENT $TEMP\SPLASH'<br />
; do the stuff that takes a long time<br />
  FindWindow $0 _sp<br />
  SendMessage $0 0x300 0 0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pjw62</div><div class="date">7th November 2001, 18:22</div></div><div class="posttext">Originally posted by petersa <br />
The SendMessage line has no effect. The splash window just stays there.<br />
<br />
Does anyone know of a free compiler I could use to change the source and recompile the .EXE? I've got no idea how to do it but I'm sure I can work it out. I don't have Visual C++ or whatever it is NSIS is made in. <br />
<br />
Borland have a free compiler which you can use to compile both makensis and the exe head (see other thread). The only problem is that the size optimisations aren't as good.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>