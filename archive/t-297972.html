<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Change order of the message ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Change order of the message ? NSIS Discussion" />
	
	<title> Change order of the message ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Change order of the message ?</div>
<hr />
<div class="pda"><a href="t-297972.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=297972">Change order of the message ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">28th September 2008, 13:40</div></div><div class="posttext">Hi all i got a little problem getting some message to display after another ?<br />
<br />
here is what i got:<br />
<br />
; Script generated by the HM NIS Edit Script Wizard.<br />
; HM NIS Edit Wizard helper defines<br />
!define PRODUCT_NAME &quot;Bobs Mappack 1.3&quot;<br />
!define PRODUCT_VERSION &quot;1.3&quot;<br />
!define PRODUCT_UNINST_KEY &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\${PRODUCT_NAME}&quot;<br />
!define PRODUCT_UNINST_ROOT_KEY &quot;HKLM&quot;<br />
SetCompressor /SOLID lzma<br />
SetCompressorDictSize 64<br />
; MUI 1.67 compatible ------<br />
!include &quot;MUI.nsh&quot;<br />
; MUI Settings<br />
!define MUI_ABORTWARNING<br />
!define MUI_ICON &quot;${NSISDIR}\Contrib\Graphics\Icons\modern-install.ico&quot;<br />
!define MUI_UNICON &quot;${NSISDIR}\Contrib\Graphics\Icons\modern-uninstall.ico&quot;<br />
; Directory page<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
; Instfiles page<br />
!insertmacro MUI_PAGE_INSTFILES<br />
; Finish page<br />
!insertmacro MUI_PAGE_FINISH<br />
; Uninstaller pages<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
; Language files<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
; Reserve files<br />
!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
; MUI end ------<br />
Name &quot;${PRODUCT_NAME}&quot;<br />
OutFile &quot;C:\Bobs Mappack 1.3.exe&quot;<br />
ShowInstDetails show<br />
ShowUnInstDetails show<br />
Function .onInit<br />
ReadRegStr $R0 HKLM &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\GhostRecon.exe&quot; &quot;path&quot;<br />
StrCmp $R0 &quot;&quot; NotPresent Present<br />
notpresent:<br />
StrCpy $INSTDIR &quot;$programfiles\Red Storm Entertainment\Ghost Recon\Mods&quot;<br />
MessageBox MB_OK &quot;Path to ghost recon was not found, plz verify this path, or browse to ghost recon\mods\ and install&quot;<br />
goto done<br />
present:<br />
strcpy $instdir $R0\Mods<br />
done:<br />
functionend<br />
Section &quot;MainSection&quot; SEC01<br />
    SetOutPath &quot;$INSTDIR\Bobs Mappack 1_3&quot;<br />
  SetOverwrite on<br />
  File /r &quot;G:\Ghost Recon\mods\Bobs Mappack 1_3\*.*&quot;<br />
sectionend<br />
Section -AdditionalIcons<br />
  CreateDirectory &quot;$SMPROGRAMS\Bobs Mappack 1.3&quot;<br />
  CreateShortCut &quot;$SMPROGRAMS\Bobs Mappack 1.3\Uninstall Bobs Mappack 1.3.lnk&quot; &quot;$INSTDIR\Remove_Bobs Mappack 1.3.exe&quot;<br />
SectionEnd<br />
Section -Post<br />
  WriteUninstaller &quot;$INSTDIR\Remove_Bobs Mappack 1.3.exe&quot;<br />
  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} &quot;${PRODUCT_UNINST_KEY}&quot; &quot;DisplayName&quot; &quot;$(^Name)&quot;<br />
  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} &quot;${PRODUCT_UNINST_KEY}&quot; &quot;UninstallString&quot; &quot;$INSTDIR\Remove_Bobs Mappack 1.3.exe&quot;<br />
  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} &quot;${PRODUCT_UNINST_KEY}&quot; &quot;DisplayVersion&quot; &quot;${PRODUCT_VERSION}&quot;<br />
SectionEnd<br />
Function un.onUninstSuccess<br />
  HideWindow<br />
  MessageBox MB_ICONINFORMATION|MB_OK &quot;$(^Name) was successfully removed from your computer.&quot;<br />
FunctionEnd<br />
Function un.onInit<br />
  MessageBox MB_ICONQUESTION|MB_YESNO|MB_DEFBUTTON2 &quot;Are you sure you want to completely remove $(^Name) and all of its components?&quot; IDYES +2<br />
  Abort<br />
FunctionEnd<br />
Section Uninstall<br />
  Delete &quot;$SMPROGRAMS\Bobs Mappack 1.3\Bobs Mappack 1.3.lnk&quot;<br />
  rmdir &quot;$SMPROGRAMS\Bobs Mappack 1.3&quot;<br />
 RMDIR /r &quot;$INSTDIR\Bobs Mappack 1_3&quot;<br />
  Delete &quot;$INSTDIR\Remove_Bobs Mappack 1.3.exe&quot;<br />
  DeleteRegKey ${PRODUCT_UNINST_ROOT_KEY} &quot;${PRODUCT_UNINST_KEY}&quot;<br />
  SetAutoClose true<br />
SectionEnd<br />
<br />
Problem is when i start the installer i get an error window saying &quot;Path to ghost recon was not found, plz verify this path, or browse to ghost recon\mods\ and install&quot; before all else in the installer.<br />
<br />
Now error message is what i wanted, but can i have that error message saying it in the install path window?<br />
so ppl just dident forget what they clicked ok to? ;)<br />
so i want install path window to come first, then the error message ? can it be done ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">28th September 2008, 14:53</div></div><div class="posttext">you should place the message in the leave function of the directory-page<br />
Page directory &quot;&quot; &quot;&quot; &quot;DirectoryLeave&quot;<br />
<br />
...<br />
<br />
Function DirectoryLeave<br />
  MessageBox MB_YESNO &quot;Continue?&quot; IDYES +2<br />
  Abort<br />
FunctionEnd<br />
please attach your script in future, rather than pasting it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">29th September 2008, 08:59</div></div><div class="posttext">ok im a noob here, i dont know much of the stuff here <br />
you said place something in the page directory ? i dont see that?<br />
<br />
Page directory &quot;&quot; &quot;&quot; &quot;DirectoryLeave&quot;<br />
<br />
...<br />
<br />
Function DirectoryLeave<br />
  MessageBox MB_YESNO &quot;Continue?&quot; IDYES +2<br />
  Abort<br />
FunctionEnd<br />
<br />
i guess i should place above some where?<br />
and ... should be the message?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">30th September 2008, 12:53</div></div><div class="posttext">Ok i found out how above should be put in, thx.<br />
Now its almost as i want it, but can the message be displayed right away the directory page open up?(now it waits for me to click install before message pops up), and also if the registry key was found it make that the new directory path, but then i have to click next, and install while the directory page is the same? hope that can be fixed too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">2nd October 2008, 17:07</div></div><div class="posttext">ok i found out how to avoid the 2 same install windows, i only had to remove:<br />
<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
; Instfiles page<br />
<br />
hehe, dunno why it acted up, just because i add an message in the directory dialog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">2nd October 2008, 19:21</div></div><div class="posttext">Well since i had to add almost 2 identical script lines, which i saw was not leading anywhere to my goal, i replaced it with an search option, to look for the right place to install, i guess this is better?<br />
<br />
Edit: i was having problems uploading the changed file, in here it was not changed ???, gonna try again</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">2nd October 2008, 19:28</div></div><div class="posttext">another try<br />
this works almost like i want it to, but i still need to fix the massagebox, (path was not found ect..) it only appear when you press install, i want that box showing when directory window shows up? , so ppl know allready to browse to another location.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">4th October 2008, 12:51</div></div><div class="posttext">ok, since no one has an answer :-), i figured out to try something else, and this works ok i guess<br />
<br />
Function .onVerifyInstDir<br />
    IfFileExists $INSTDIR\ghostrecon.exe PathGood<br />
       Abort<br />
    PathGood:<br />
  FunctionEnd<br />
<br />
well it somehow fullfill my wishes to pick the right directory. Though i can not use messageboxes with above, since that message box would show like 20 times before you get to the right location hehe, but your not able to install to any another directory than where ghostrecon.exe is located, so thats good enough for me, since there is no other alternative i guess.<br />
<br />
Edit: What i really want is, directory page show up, then the error message, that the path is wrong, then user select another path, right/wrong , if right no message, proceed with installation, if wrong, display same message, can that be made ?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>