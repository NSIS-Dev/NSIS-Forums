<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Branding Image problems, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Branding Image problems NSIS Discussion" />
	
	<title> Branding Image problems [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Branding Image problems</div>
<hr />
<div class="pda"><a href="t-287040.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=287040">Branding Image problems</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Kaos61</div><div class="date">17th February 2008, 11:01</div></div><div class="posttext">Yes, it's me again!<br />
<br />
I have searched and read everything I can lay my hands on - not only from this forum but from other sites as well - but I am now more confused than when I started.<br />
<br />
I think my confusion may be related to my not being familiar with the terminologies used in the documentation.<br />
<br />
Firstly, what IS a branding image?  Is it the blue (or orange) image on the left side of the interface?<br />
<br />
Is creating a custom interface (I have 4 that will be used VERY regularly) as simple as changing the nsisconf.nsh file and then saving that UI as &quot;custom_ui&quot; or something?<br />
<br />
I have thus far been &quot;cheating&quot; by simply moving the default &quot;win.bmp&quot; image out of the NSIS directory and replacing it with my own win.bmp image.<br />
<br />
I have no doubt there is an easier way. If someone could gently join the dots for me this tired old dinosaur would be eternally grateful.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">17th February 2008, 13:09</div></div><div class="posttext">taken from the NSIS manual::<br />
<br />
4.8.1.1 AddBrandingImage<br />
(left|right|top|bottom) (width|height) [padding]<br />
Adds a branding image on the top, bottom, left, or right of the installer. Its size will be set according to the width/height specified, the installer width/height and the installer font. The final size will not always be what you requested; have a look at the output of the command for the actual size. Because this depends on the installer font, you should use SetFont before AddBrandingImage. The default padding value is 2.<br />
<br />
AddBrandingImage only adds a placeholder for an image. To set the image itself on runtime, use SetBrandingImage.<br />
<br />
AddBrandingImage left 100<br />
AddBrandingImage right 50<br />
AddBrandingImage top 20<br />
AddBrandingImage bottom 35<br />
AddBrandingImage left 100 5<br />
<br />
<br />
<br />
4.9.14.12 SetBrandingImage<br />
[/IMGID=item_id_in_dialog] [/RESIZETOFIT] path_to_bitmap_file.bmp<br />
Sets the current bitmap file displayed as the branding image. If no IMGID is specified, the first image control found will be used, or the image control created by AddBrandingImage. Note that this bitmap must be present on the user's machine. Use File first to put it there. If /RESIZETOFIT is specified the image will be automatically resized (very poorly) to the image control size. If you used AddBrandingImage you can get this size, by compiling your script and watching for AddBrandingImage output, it will tell you the size. SetBrandingImage will not work when called from .onInit!<br />
<br />
<br />
<br />
<br />
4.8.1.1 AddBrandingImage<br />
(left|right|top|bottom) (width|height) [padding]<br />
Adds a branding image on the top, bottom, left, or right of the installer. Its size will be set according to the width/height specified, the installer width/height and the installer font. The final size will not always be what you requested; have a look at the output of the command for the actual size. Because this depends on the installer font, you should use SetFont before AddBrandingImage. The default padding value is 2.<br />
<br />
AddBrandingImage only adds a placeholder for an image. To set the image itself on runtime, use SetBrandingImage.<br />
<br />
AddBrandingImage left 100<br />
AddBrandingImage right 50<br />
AddBrandingImage top 20<br />
AddBrandingImage bottom 35<br />
AddBrandingImage left 100 5</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kaos61</div><div class="date">18th February 2008, 00:35</div></div><div class="posttext">I've read all that so many times I almost know it by heart.  However it is all completely meaningless to me.  Is there an example script somewhere I missed?  I couldn't find one.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">18th February 2008, 03:14</div></div><div class="posttext">let me make it simple 4 u. look at win.bmp and complie a script. c where it is. now try ::<br />
<br />
SetBrandingImage some_image.bmp <br />
<br />
then recompile it. that image must have changed. AddBrandingImage is used to tell the compiler where it must be placed</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kaos61</div><div class="date">18th February 2008, 15:43</div></div><div class="posttext">I must be missing something here cos it still makes absolutely no sense to me at all.  I have no doubt we are dealing with a PEBKAC error here.<br />
<br />
 I'm going to take a break from scripting for a few days then look at it again.  Hopefully, whatever insignificant detail I have not absorbed will somehow register in my head and the lights will come back on!  :confused:<br />
<br />
<br />
EDIT:   I thank you for your attempts to help enlighten an old man.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">18th February 2008, 15:48</div></div><div class="posttext">it is just an image placed at the side of the installer on the welcome page.....run the nsis installer again and have a look</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kaos61</div><div class="date">19th February 2008, 12:02</div></div><div class="posttext">Sorry .... still not getting it.  I don't understand where in the script I should put it, and in what context/syntax.<br />
http://img.photobucket.com/albums/v411/hells/more/3_8_2.gif<br />
<br />
<br />
EDIT: <br />
I have attached a basic script called &quot;test.nsi&quot;.  If I want to change the &quot;win.bmp&quot; image on the installer to &quot;abc.bmp&quot; how would I do it?<br />
<br />
<br />
I know, I know!  I'm a pain in the rear.  But if you don't ask you don't learn.  ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kaos61</div><div class="date">19th February 2008, 12:22</div></div><div class="posttext">Hmmmm - it seems you can't add attachments on an edit.<br />
<br />
Here it is any how!  :confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">19th February 2008, 12:45</div></div><div class="posttext">here is a simple example. u should be able to replicate it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kaos61</div><div class="date">19th February 2008, 13:34</div></div><div class="posttext">fabian<br />
<br />
I thank you so much!  If I could send you a beer through this forum I would.<br />
<br />
Your patience is appreciated.<br />
<br />
http://img.photobucket.com/albums/v411/hells/4_17_11.gif</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Daniel James</div><div class="date">19th February 2008, 14:01</div></div><div class="posttext">Originally posted by fabian.rap.more <br />
here is a simple example. u should be able to replicate it  <br />
Nice ... but that's not what I thought the OP wanted (nor what I would want).<br />
<br />
MUI already uses a bitmap (not created as a BrandImage) on the WELCOME page, and it is that bitmap that I think the OP wants to replace (and certainly it is that image that I should like to be able to replace).<br />
<br />
If you add a branding image to a MUI installer that image is displayed as well as the MUI image on the WELCOME page ... or rather it isn't because the image isn't loaded until after the WELCOME page has been dismissed.<br />
<br />
Try sticking a<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
<br />
in front of the <br />
<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
in your example and you'll see what I mean ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">19th February 2008, 14:57</div></div><div class="posttext">yes u have a point daniel.......i never checked it..........unfortunately i have no time left today so ill try tomorrow.<br />
<br />
any moderators or senior members have any idea on how to replace it without renaming the win.bmp?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">19th February 2008, 15:25</div></div><div class="posttext">The large image on the welcome page is control 1200, and is loaded by mui2 macros with the lineSystem::Call 'user32::LoadImage(i 0, t s, i ${IMAGE_BITMAP}, i 0, i 0, i ${LR_LOADFROMFILE}) i.s' &quot;$PLUGINSDIR\modern-wizard.bmp&quot;<br />
<br />
I suggest looking at how they did that in Program Files\NSIS\Contrib\Modern UI 2\Pages\Welcome.nsh<br />
<br />
You can get a handle to the control by FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $0 $0 1200</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Daniel James</div><div class="date">20th February 2008, 13:28</div></div><div class="posttext">A little (more) Googling reveals the solution in a post from 2004 :)<br />
<br />
<br />
!define MUI_WELCOMEFINISHPAGE_BITMAP &quot;MyImage.bmp&quot;<br />
!insertmacro MUI_PAGE_WELCOME<br />
<br />
<br />
Easy when you know how ... but the documentation is largely non-existent :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">GregL</div><div class="date">26th February 2008, 15:33</div></div><div class="posttext">I've noticed that it's not always a lack of documentation, but more that you be looking in the right one.  I still use MUI v1, and I knew the answer to your question from Day 1, personally.  But if you said you were using MUI2 or nsDialogs, I'd have no idea.  :) <br />
<br />
A lot of the stuff I've learned was accidental, just from browsing the Help file for a different topic.  I'm led to believe that nsDialogs is faster, but it takes 5 or 6 lines of that code to do the same thing in 1 with MUI.  I don't see how that's better. :(  A time savings of 200 milliseconds is very negligible to me.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Daniel James</div><div class="date">27th February 2008, 13:27</div></div><div class="posttext">Originally posted by GregL <br />
... it's not always a lack of documentation, but more that you be looking in the right one.<br />
Indeed ... but I have never seen MUI_WELCOMEFINISHPAGE_BITMAP mentione in any documentation. If there is some that covers it I'd love to know where?<br />
<br />
I still use MUI v1, and I knew the answer to your question from Day 1, personally.  But if you said you were using MUI2 or nsDialogs, I'd have no idea.  :) <br />
Yes, the post that I found was talking about MUI v1, but I tested it in MUI v2 and it works.<br />
<br />
A lot of the stuff I've learned was accidental, just from browsing the Help file for a different topic.<br />
Sounds familiar :( ... it shouldn't have to be that way! <br />
<br />
I'm led to believe that nsDialogs is faster, but it takes 5 or 6 lines of that code to do the same thing in 1 with MUI.  I don't see how that's better. :(  A time savings of 200 milliseconds is very negligible to me.<br />
Oh, I like nsDialogs ... I use it for custom pages with MUI2. I like being able to define the whole layout of a dialog in one place (the .nsi file) and not have to manage and maintain a .ini file as well. Saving a few tenths of a second isn't the issue, really.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">27th February 2008, 17:29</div></div><div class="posttext">I have never seen MUI_WELCOMEFINISHPAGE_BITMAP mentione in any documentation. If there is some that covers it I'd love to know where? <br />
From the Modern UI ReadMe:<br />
<br />
MUI_WELCOMEFINISHPAGE_BITMAP bmp_file<br />
Bitmap for the Welcome page and the Finish page (recommended size: 164x314 pixels).<br />
Default: ${NSISDIR}\Contrib\Graphics\Wizard\win.bmp<br />
<br />
From the Modern UI 2 ReadMe:<br />
<br />
MUI_WELCOMEFINISHPAGE_BITMAP bmp_file<br />
Bitmap for the Welcome page and the Finish page (recommended size: 164x314 pixels).<br />
Default: ${NSISDIR}\Contrib\Graphics\Wizard\win.bmp</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Daniel James</div><div class="date">28th February 2008, 00:44</div></div><div class="posttext">Originally posted by pengyou <br />
Originally by me<br />
I have never seen MUI_WELCOMEFINISHPAGE_BITMAP mentione in any documentation. If there is some that covers it I'd love to know where?[snip]<br />
From the Modern UI 2 ReadMe:<br />
<br />
MUI_WELCOMEFINISHPAGE_BITMAP bmp_file<br />
Bitmap for the Welcome page and the Finish page (recommended size: 164x314 pixels).<br />
Default: ${NSISDIR}\Contrib\Graphics\Wizard\win.bmp  <br />
As I said, I'd never seen it ... but now that you mention it I see that it is there if you click &quot;Expand All&quot;. I missed some of the sections that it's possible to expand, and there's a lot there that I hadn't seen before. :o <br />
<br />
Thanks for that ... but my basic feeling remains the same: if the documentation isn't accessible it isn't good documentation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">28th February 2008, 00:59</div></div><div class="posttext">As I said, I'd never seen it ... but now that you mention it I see that it is there if you click &quot;Expand All&quot;. I missed some of the sections that it's possible to expand, and there's a lot there that I hadn't seen before.<br />
<br />
Thanks for that ... but my basic feeling remains the same: if the documentation isn't accessible it isn't good documentation.<br />
I guess you're not good observer. Documentation is fine, but, as far I can tell, you're always welcome to contribute and improve it.<br />
btw you could click on expand all, or on every bold blue link above every section of the documentation ;)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>