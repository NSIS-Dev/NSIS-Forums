<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to copy locked/in-use files and prompt reboot?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to copy locked/in-use files and prompt reboot? NSIS Discussion" />
	
	<title> How to copy locked/in-use files and prompt reboot? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to copy locked/in-use files and prompt reboot?</div>
<hr />
<div class="pda"><a href="t-264726.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264726">How to copy locked/in-use files and prompt reboot?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Rentrick</div><div class="date">31st January 2007, 01:23</div></div><div class="posttext">I know, I know... Kill me!   I've read and read and searched and searched and looked in other scripts.  My brain is not running optimally today.   Not to mention I'm brand new to NSIS (I LOVE IT!) and I'm being pressed to write a pretty intensive install in the next two days.<br />
<br />
I'm just trying to reinstall with a file that might possibly be open/locked (tray applet).  I don't want the install to prompt for Abort/Retry/Ignore, but to flag and prompt for reboot so the file can be replaced upon rebooting.<br />
<br />
I really would rather not kill the process either, if I don't have to.<br />
<br />
Can someone assist with what to call to make this so?  I know it's something simple I just missed.<br />
<br />
Thanks in advance!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">31st January 2007, 01:27</div></div><div class="posttext">Search for information regarding HKLM\SYSTEM\CurrentControlSet\Control\SessionManager [PendingFileRenameOperations].</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st February 2007, 20:26</div></div><div class="posttext">Use `SetOverwrite try` and after trying to write the file, check for errors using IfErrors. If errors exist, extract the file with a temporary name and rename it with the /REBOOTOK flag.<br />
<br />
The UpgradeDLL (http://nsis.sourceforge.net/UpgradeDLL_Func_function) is an example for this and so are the Library macros in Includes\Library.nsh.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rentrick</div><div class="date">1st February 2007, 22:00</div></div><div class="posttext">Perfect.  Thanks. . . that's exactly what I was looking for!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>