<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" InstallOptions - how to do radiobuttons choose install option, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  InstallOptions - how to do radiobuttons choose install option NSIS Discussion" />
	
	<title> InstallOptions - how to do radiobuttons choose install option [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  InstallOptions - how to do radiobuttons choose install option</div>
<hr />
<div class="pda"><a href="t-229735.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=229735">InstallOptions - how to do radiobuttons choose install option</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Pawel</div><div class="date">30th October 2005, 17:51</div></div><div class="posttext">Hi.<br />
I have got NSIS installer for my Winamp language pack.<br />
There are some pages, like PAGE_WELCOME,PAGE_LICENSE, PAGE_COMPONENTS, PAGE_DIRECTORY, PAGE_INSTFILES and PAGE_FINISH. User can choose whitch element he want to install. You can find it here, to see that:<br />
My langpack example (http://www.winamp.com/plugins/details.php?id=145431)<br />
<br />
As we can see there is an option &quot;Skórka Nowoczesna PL&quot; - to install (Modern Skin PL). Now, I did polish version of classic skin. So I want to do that, like in originall Winamp Installer - page to choose default skin set after instalation.<br />
On that page (i use custom page (installoptions) after Page_Directory) it will be placed some components:<br />
1. first image with picture of winamp modern PL<br />
2. second image with picture of winamp classic PL<br />
3. first RadioButton (Modern Skin)<br />
4. second RadioButton (Classic Skin)<br />
5,6,7 - labels<br />
Default, radiobutton 1 is checked (State=1).<br />
If user want to have Classic skin as a default skin he choose second radiobutton - to winamp.ini will be added that skin. If user choose Modern Skin (first radiobutton) it will be installed as a default.<br />
After user choose first or second radiobutton and click button Next it must be write to some variable that I can use in section of Skins - in that section i will write it to winamp.ini.<br />
<br />
Here is my example ini file (skorki.ini):<br />
<br />
[Settings]<br />
NumFields=7<br />
<br />
[Field 1]<br />
Type=Bitmap<br />
Text=ms.bmp  // it is first image<br />
Left=0<br />
Right=146<br />
Top=20<br />
Bottom=94<br />
<br />
[Field 2]<br />
Type=Label<br />
Text=Wybierz, któr± skórkê Winamp ma u¿ywaæ po instalacji pakietu spolszczaj±cego. Mo¿esz pó¼niej zmieniaæ skórki, u¿ywaj±c Preferencji Winampa.<br />
Left=1<br />
Right=294<br />
Top=0<br />
Bottom=19<br />
Flags=NOTABSTOP<br />
<br />
[Field 3]<br />
Type=Bitmap<br />
Text=cs.bmp  // it is second image<br />
Left=150<br />
Right=302<br />
Top=22<br />
Bottom=96<br />
<br />
[Field 4]<br />
Type=RadioButton<br />
Text=Modern Skin PL<br />
Left=24<br />
Right=118<br />
Top=97<br />
Bottom=105<br />
Flags=NOTABSTOP|NOTIFY<br />
State=1<br />
<br />
[Field 5]<br />
Type=RadioButton<br />
Text=Classic Skin PL<br />
Left=182<br />
Right=261<br />
Top=97<br />
Bottom=108<br />
Flags=NOTABSTOP|NOTIFY<br />
State=0<br />
<br />
[Field 6]<br />
Type=Label<br />
Text=(zoptymalizowana dla wiêkszych monitorów, bardziej funkcjonalna)<br />
Left=24<br />
Right=135<br />
Top=112<br />
Bottom=129<br />
<br />
[Field 7]<br />
Type=Label<br />
Text=(zoptymalizowana dla s³abszych komputerów, bardziej dostêpna)<br />
Left=174<br />
Right=285<br />
Top=112<br />
Bottom=131<br />
<br />
<br />
Please, help me with that, I can't write it... It doesn't work. First of all, the images are not visible...<br />
Second, how to do that user can click first radiobutton - second will be unchecked then click second radiobutton - first will be unchecked. After choose, for example second (radiobutton 2 is checked, first not) user can install files after click buttton Next...<br />
I have:<br />
//Pages<br />
.<br />
.<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
Page custom SetCustom ValidateCustom &quot;&quot;<br />
.<br />
. <br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
<br />
Function .onInit<br />
InitPluginsDir<br />
 File /oname=$PLUGINSDIR\skorki.ini &quot;Grafika\skorki.ini&quot;<br />
 File /oname=$PLUGINSDIR\ms.bmp &quot;Grafika\Wizard\ms.bmp&quot;<br />
 File /oname=$PLUGINSDIR\cs.bmp &quot;Grafika\Wizard\cs.bmp&quot;<br />
FunctionEnd<br />
<br />
Function SetCustom<br />
<br />
InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\skorki.ini&quot;<br />
  Pop $hwnd<br />
  !insertmacro MUI_HEADER_TEXT &quot;Wybierz domy¶ln± skórkê interfejsu&quot; &quot;Dostosuj wygl±d Winampa, ustalaj±c odpowiedni± skórkê&quot;<br />
  InstallOptions::show<br />
  Pop $0<br />
  <br />
FunctionEnd<br />
<br />
Function ValidateCustom<br />
??? // <br />
FunctionEnd<br />
<br />
I hope you understand what i mean and help me...<br />
Best regards, Pawel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th October 2005, 19:17</div></div><div class="posttext">Rather than store it in a global variable, just read the State from your Section instead...<br />
<br />
Section ...<br />
 ReadINIStr $R0 &quot;$PLUGINSDIR\skorki.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
 StrCmp $R0 1 0 InstallClassicSkinA<br />
  ; Install modern skin here<br />
 Goto End<br />
 InstallClassicSkinA:<br />
  ; Install class skin here<br />
 End:<br />
SectionEnd<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>