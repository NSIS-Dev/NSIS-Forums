<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Uninstaller doesnÂ´t do anything, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Uninstaller doesnÂ´t do anything NSIS Discussion" />
	
	<title> Uninstaller doesnÂ´t do anything [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Uninstaller doesnÂ´t do anything</div>
<hr />
<div class="pda"><a href="t-256537.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=256537">Uninstaller doesnÂ´t do anything</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">cctnt</div><div class="date">30th September 2006, 15:15</div></div><div class="posttext">Hello, iÂ´m currently working on a installer for my friends mod and now iÂ´ve a strange &quot;bug&quot;, the uninstaller doesnÂ´t remove anything. It just plays the uninstall music and thats all.<br />
<br />
maybe you can point me to the mistake iÂ´m doing?<br />
<br />
and maybe you can point me to a better way to find the modinstallpath for steam.<br />
<br />
i attach my setup file.<br />
<br />
greets <br />
cctnt</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2006, 15:36</div></div><div class="posttext">The uninstaller deletes nothing because you gave it the wrong path to delete. $ISNTDIR already contains the fp directory in its path. MessageBox $INSTDIR in the uninstaller to see what its value is.<br />
<br />
As for Steam, there's a script (http://nsis.sourceforge.net/Get_Steam_account_name_and_install_path) on the Wiki.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cctnt</div><div class="date">30th September 2006, 17:32</div></div><div class="posttext">i did like you said and it prompts me the correct directory.<br />
<br />
but still it doesnÂ´t remove anything<br />
<br />
i redid the code a bit in the meanwhile and still it doesnÂ´t work.<br />
<br />
hereÂ´s the new setup.nsi<br />
<br />
while compiling i found this error.<br />
<br />
Removing unused resources... Done!<br />
Generating language tables... Done!<br />
System can not find defined path.<br />
Generating uninstaller... Done!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2006, 18:34</div></div><div class="posttext">The last version of your script seems to have $INSTDIR set right. It seems unreasonable that it won't be able to delete all of the files because they're in use. The path must be wrong somehow. Use IfFileExists to make sure the file you're trying to delete is really there.<br />
<br />
The error you see when compiling is from !packhdr because it can't find upx in the path you specified.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cctnt</div><div class="date">30th September 2006, 19:18</div></div><div class="posttext">do i have to use IfFileExists for every file or can i just look if there are files in the folder i wanna delete?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2006, 19:20</div></div><div class="posttext">One file is enough. It's for debugging the script just for the sake of this problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cctnt</div><div class="date">30th September 2006, 19:51</div></div><div class="posttext">uninstaller works now but now i get this error<br />
install function &quot;.GUIInit&quot; not referenced - zeroing code (966-983) out</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2006, 19:55</div></div><div class="posttext">It's a warning, not an error. You can ignore it or remove that function because it's not used.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cctnt</div><div class="date">30th September 2006, 19:59</div></div><div class="posttext">the strange thing is that i use it here <br />
<br />
!define MUI_CUSTOMFUNCTION_GUIINIT &quot;.GUIInit&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2006, 20:21</div></div><div class="posttext">Works fine for me with your last script... Make sure that line is located above the MUI_LANGUAGE macro insertion. If it still doesn't work, attach your new script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cctnt</div><div class="date">30th September 2006, 20:36</div></div><div class="posttext">that fixed it thank you<br />
<br />
but now the uninstaller isnÂ´t going into the uninstall section again.<br />
<br />
can i force him somehow to go into the section?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cctnt</div><div class="date">1st October 2006, 09:41</div></div><div class="posttext">ok fixed that but now i get a mci error that a file isnÂ´t found and i should look if the path and filename is correct.<br />
<br />
can i somehow prompt out which file he is refering to?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th October 2006, 16:19</div></div><div class="posttext">MessageBox the path you send to msvfw32.dll::MCIWndCreate. According to your old script, it's $PLUGINSDIR\${SND_NAME}.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cctnt</div><div class="date">6th October 2006, 18:01</div></div><div class="posttext">i finally fixed it <br />
<br />
just had a typo <br />
<br />
now the installer is fully working<br />
<br />
thx to everyone</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>