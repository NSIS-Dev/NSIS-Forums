<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Compile time information from a single text file?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Compile time information from a single text file? NSIS Discussion" />
	
	<title> Compile time information from a single text file? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Compile time information from a single text file?</div>
<hr />
<div class="pda"><a href="t-277817.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=277817">Compile time information from a single text file?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TYT</div><div class="date">23rd September 2007, 23:02</div></div><div class="posttext">I've searched for a possible answer, but I don't know if i'm using the right context for searching, so forgive me if this has been asked before...<br />
<br />
I've got some tutorials in HTML format that I use the NSIS installer to setup on other peoples computers.  The tuts come in four parts, and I've got four NSIS compile scripts for each part ( one script for week one, week two, etc... ).  Each script has defines and macros at the beginning to define the name of the install and directories for icons and directory naming.  What I would like to accomplish ( with a minimal of effort, since i'm a lazy bum. ) is to have one text file that all four scripts read off of.  Example...<br />
<br />
My first weeks script has this<br />
<br />
# Output Files Defines<br />
!define OutFile &quot;Create Butter Text in Photoshop&quot;<br />
!define OutDir &quot;E:\temp\Releasing\&quot;<br />
<br />
# Macro<br />
!macro setVars ;sets variables for the start page and the folder which contains the shortcut icon.<br />
 StrCpy $1 &quot;Buttertext.htm&quot; ;Sets the page to run in both the shortcut and after install.<br />
 StrCpy $2 &quot;Buttertext_files\logo.ico&quot;  ;Sets the folder location for the desktop icon.<br />
 StrCpy $3 &quot;Butter Text in Photoshop&quot; ;Sets the name of the install dir.<br />
 StrCpy $4 &quot;BuTxPS&quot; ;Sets the name of the .ini file to be used for the update sets.<br />
 !macroend<br />
<br />
<br />
And then I set outfile and outdirs to <br />
<br />
# Installer attributes<br />
OutFile &quot;${OutDir}${OutFile} Week 1.exe&quot;<br />
InstallDir &quot;$INSTDIR\$3&quot;<br />
<br />
<br />
The outfile defines are pretty self-explanatory, and the macros are just file pointers, except the last one which I use for an .ini file that I place instead of a registry string.  No uninstaller, it's a simple setup used to keep the HTML structure intact.<br />
<br />
Which is all fine and dandy because it keeps me from having to trudge all over my compile scripts just to replace those four instances of text.  The only thing is, I have to change those defines and macros for each week, and sometimes I miss one bit because i'm in a hurry and the whole thing is shot.  What I'd like to have is one text file with those setting in it, and the four compile scripts read from that text file.  Is this possible without having to reinvent the wheel?<br />
<br />
ThanQ for any help in advance.  ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">23rd September 2007, 23:12</div></div><div class="posttext">!include is your friend here, move the defines out of the script and into a new file included by all the scripts<br />
<br />
it is also possible to pass(create) defines directly on the commandline as arguments for makensis.exe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TYT</div><div class="date">23rd September 2007, 23:26</div></div><div class="posttext">Sweet.  I'll check it out.  ThanQ.<br />
<br />
-=edit=-  OMG, you rock!  This is exactly what I needed.  Again, thanQ.  :D  -=/edit=-</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>