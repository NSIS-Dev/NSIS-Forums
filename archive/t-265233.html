<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" personalised installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  personalised installer NSIS Discussion" />
	
	<title> personalised installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  personalised installer</div>
<hr />
<div class="pda"><a href="t-265233.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=265233">personalised installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">aditu.g</div><div class="date">6th February 2007, 15:34</div></div><div class="posttext">Hi,<br />
<br />
Is there any possibility to set a registry (or a file) with a specific value that is injected (with a cgi script or something else) at the moment that someone is downloading the installer from a web page?<br />
I mean that the installer has a registry value that should be filled by injecting the proper value at the download time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">6th February 2007, 16:43</div></div><div class="posttext">I don't know if and how this could be done by server side, by nsis side you may compile a small &quot;downloader&quot; that is downloaded to the target and when executed performs the download of the installer, executes the installer, writes to registry etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th February 2007, 19:48</div></div><div class="posttext">You can append data to the installer. See the following wiki page.<br />
<br />
http://nsis.sourceforge.net/ReadCustomerData</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aditu.g</div><div class="date">7th February 2007, 11:25</div></div><div class="posttext">It is exactly what I needed, Thanks kichik. Now I am struggling my brain out how to make it work ... <br />
I known, sounds stupid but ... I don't quite understand what should be added on the section &quot;TODO: add dispatching code here&quot;. Any help?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">7th February 2007, 12:46</div></div><div class="posttext">It is also possible with a perl script on the serverside that replaces version information.<br />
<br />
add to your NSIS script:<br />
<br />
VIAddVersionKey MyExtraVersionData &quot;!!!REPLACEMENOWYESIMSURE!!!&quot;<br />
<br />
then create your installer, then run the perl(or PHP) script that looks for !!!REPLACEMENOWYESIMSURE!!! in the setup.exe and replace it with your own data.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aditu.g</div><div class="date">7th February 2007, 13:24</div></div><div class="posttext">That will be perfect, Onad ... <br />
but I cannot find &quot;!!!REPLACEMENOWYESIMSURE!!!&quot; in the setup.exe, and if I cange anything the setup.exe this will not work anymore. Is it something that I miss? Does the data is not encoded in the compiled exe? and if yes, how can I somehow just replace some specific value?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">7th February 2007, 14:18</div></div><div class="posttext">The version details are appended to the executable as a resource (Version information block)... you can probably update this resource server-side with a newly generated one.<br />
<br />
If you have a Windows server, look into using Resource Hacker (which can do this), I'm not aware of an Win32 PE tools for *nix.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">12th February 2007, 15:28</div></div><div class="posttext">&gt; I cange anything the setup.exe this will not work anymore. <br />
<br />
That is not correct, you can just change version resources and the application keeps working, maybe disable CRC check of NSIS though, have not tried that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">12th February 2007, 15:35</div></div><div class="posttext">And since the date is in widestrings (Unicode) you have to look  hex sting then like : 100210021005200450050004C004100430045004D0045004E004F00570059004500530049004D0053005500520045002100210021</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aditu.g</div><div class="date">12th February 2007, 15:48</div></div><div class="posttext">Ok!<br />
I got it: either I can append everything at the end of the setup.exe or I can use VIAddVersionKey and then the installer read itself (using the example from ReadCustomerData) and use the found data :)<br />
<br />
about NSIS i cannot tell much but about the support you find here I think is very professional and fast!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>