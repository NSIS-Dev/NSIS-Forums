<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" IO:DirRequest - NOTIFY ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  IO:DirRequest - NOTIFY ? NSIS Discussion" />
	
	<title> IO:DirRequest - NOTIFY ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  IO:DirRequest - NOTIFY ?</div>
<hr />
<div class="pda"><a href="t-167029.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=167029">IO:DirRequest - NOTIFY ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kobus</div><div class="date">28th January 2004, 10:44</div></div><div class="posttext">Hi,<br />
<br />
I've got only one question. How to implement notify feature on DirRequest field ?<br />
<br />
I have custom page with 3 dirRequest fields. 1st field for base instalation directory, 2nd and 3rd for subdirectories. I need a mechanism that allow to modify path of subdirectories after changing value of base directory.<br />
<br />
The paths don't need to be the same, that's user choice.<br />
<br />
<br />
Anyone can help ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">opher</div><div class="date">28th January 2004, 13:47</div></div><div class="posttext">Suppose DirRequests are Field #1, #2, #3.<br />
Give them  the notify flag.<br />
Now in the leave function examine the state key of [settings] section. If it's value is 1, then read appropriate [Field #] state keys, manipulate the strings, and use GetDlgItem $DLGITEM $HWND 1202<br />
SendMessage $DLGITEM ${WM_SETTEXT} 0 &quot;STR:$2&quot;<br />
GetDlgItem $DLGITEM $HWND 1204<br />
SendMessage $DLGITEM ${WM_SETTEXT} 0 &quot;STR:$3&quot; <br />
where $2, $3 contain appropriate paths.<br />
Also in INIT function do !insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;iopage.ini&quot;<br />
Pop $HWND ;HWND of dialog<br />
...<br />
!insertmacro MUI_INSTALLOPTIONS_SHOW<br />
And offcourse :D declare variables DLGITEM and HWND</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kobus</div><div class="date">28th January 2004, 14:08</div></div><div class="posttext">That was my first idea but it didn't work :( <br />
<br />
Documentation to IO2 says:<br />
<br />
<br />
NOTIFY Used by &quot;Button&quot;, &quot;Link&quot;, &quot;CheckBox&quot;, &quot;RadioButton&quot;, &quot;ListBox&quot; and &quot;DropList&quot; controls ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">opher</div><div class="date">29th January 2004, 09:19</div></div><div class="posttext">So????<br />
It still works ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kobus</div><div class="date">29th January 2004, 13:20</div></div><div class="posttext">DirRequest field fires validation procedure only after choosing new directory by using button &quot;...&quot;. When I type the directory name directly to text field it doesn't work :(<br />
<br />
For now I gave up and split this into 2 pages ...<br />
<br />
Thanks for all suggestion opher</div></div><hr />


<div class="post"><div class="posttop"><div class="username">opher</div><div class="date">3rd February 2004, 21:52</div></div><div class="posttext">Well I tweaked around there and I have a workaround that would be fine as long as its acceptable to restrict the user to ONLY browse for the folder (optionally creating new folders through that dialogue). Simply set the DirRequest Flags property to NOTIFY|READONLY.<br />
Best of luck.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>