<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Skip custom page based on check button state, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Skip custom page based on check button state NSIS Discussion" />
	
	<title> Skip custom page based on check button state [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Skip custom page based on check button state</div>
<hr />
<div class="pda"><a href="t-290375.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290375">Skip custom page based on check button state</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jimpy22</div><div class="date">17th April 2008, 02:38</div></div><div class="posttext">I have read various threads on skipping a custom page based on a user selection, but cannot get it to work.<br />
<br />
I want to skip custom page B if the user does not check a check box in custom page A. Where ever I put the abort in the funtion it seems to skip page B.<br />
<br />
Any help appreciated.<br />
<br />
Installer copied below. Thanks.<br />
<br />
!define PRODUCT_NAME &quot;xxxx&quot;<br />
!define PRODUCT_VERSION &quot;2.0&quot;<br />
!define PRODUCT_PUBLISHER &quot;XXX&quot;<br />
!define PRODUCT_WEB_SITE &quot;XXXXXX&quot;<br />
!define MUI_ABORTWARNING<br />
!define MUI_ICON &quot;xxxx.ico&quot;<br />
<br />
<br />
!include &quot;MUI.nsh&quot;<br />
!include &quot;LogicLib.nsh&quot;<br />
<br />
<br />
; Welcome page<br />
!insertmacro MUI_PAGE_WELCOME<br />
; License page<br />
!insertmacro MUI_PAGE_LICENSE &quot;C:XXXX.txt&quot;<br />
; Directory page<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
   Page custom CustomPageA<br />
   Page custom CustomPageB<br />
;Instfiles page<br />
!insertmacro MUI_PAGE_INSTFILES<br />
; Finish page<br />
!insertmacro MUI_PAGE_FINISH<br />
;--------------------------------<br />
<br />
; Language files<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
;--------------------------------<br />
<br />
<br />
 ReserveFile &quot;ioA.ini&quot;<br />
 ReserveFile &quot;ioB.ini&quot;<br />
  !insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
<br />
<br />
Name &quot;${PRODUCT_NAME} ${PRODUCT_VERSION}&quot;<br />
OutFile &quot;XXX_2_0.exe&quot;<br />
InstallDir &quot;$PROGRAMFILES\XXX&quot;<br />
;InstallDirRegKey HKLM &quot;${PRODUCT_DIR_REGKEY}&quot; &quot;&quot;<br />
ShowInstDetails hide<br />
<br />
Section &quot;MainSection&quot; SEC01<br />
       ;Read a value from an InstallOptions INI file<br />
      !insertmacro MUI_INSTALLOPTIONS_READ $R0 &quot;ioA.ini&quot; &quot;Field 2&quot; &quot;State&quot; ;&quot;IP&quot;<br />
      !insertmacro MUI_INSTALLOPTIONS_READ $R1 &quot;ioA.ini&quot; &quot;Field 4&quot; &quot;State&quot; ;&quot;X&quot;<br />
      !insertmacro MUI_INSTALLOPTIONS_READ $R2 &quot;ioA.ini&quot; &quot;Field 5&quot; &quot;State&quot; ;<br />
      !insertmacro MUI_INSTALLOPTIONS_READ $R3 &quot;ioA.ini&quot; &quot;Field 7&quot; &quot;State&quot; ;<br />
      !insertmacro MUI_INSTALLOPTIONS_READ $R9 &quot;ioA.ini&quot; &quot;Field 8&quot; &quot;State&quot; ;query install wake on lan feature<br />
      !insertmacro MUI_INSTALLOPTIONS_READ $R5 &quot;ioB.ini&quot; &quot;Field 2&quot; &quot;State&quot; ;<br />
      !insertmacro MUI_INSTALLOPTIONS_READ $R8 &quot;ioB.ini&quot; &quot;Field 4&quot; &quot;State&quot; ;<br />
      !insertmacro MUI_INSTALLOPTIONS_READ $R7 &quot;ioB.ini&quot; &quot;Field 6&quot; &quot;State&quot; ;for ip address<br />
   <br />
SectionEnd<br />
<br />
Section -Post<br />
SectionEnd<br />
<br />
<br />
section -mapped_drive<br />
sectionend<br />
<br />
section -write_csv_file<br />
sectionend<br />
<br />
;Installer Functions<br />
<br />
Function .onInit<br />
<br />
  ;Extract InstallOptions INI files<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ioA.ini&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ioB.ini&quot;<br />
FunctionEnd<br />
<br />
LangString TEXT_IO_TITLE ${LANG_ENGLISH} &quot;XXXX System Set Up&quot;<br />
LangString TEXT_IO_SUBTITLE ${LANG_ENGLISH} &quot;This Page will set up&quot;<br />
<br />
Function CustomPageA<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioA.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
Function CustomPageB<br />
  ${If} $R9 = 0<br />
	Abort<br />
  ${EndIf}<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;Please enter description&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioB.ini&quot;<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">17th April 2008, 04:08</div></div><div class="posttext">try <br />
<br />
<br />
${If} $R9 == 0<br />
Abort<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">17th April 2008, 05:10</div></div><div class="posttext">Function CustomPageB<br />
!insertmacro MUI_INSTALLOPTIONS_READ $R9 &quot;ioA.ini&quot; &quot;Field 8&quot; &quot;State&quot;<br />
${If} $R9 = 0<br />
Abort<br />
${EndIf}<br />
!insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;Please enter description&quot;<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioB.ini&quot;<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jimpy22</div><div class="date">17th April 2008, 09:20</div></div><div class="posttext">Thank you, Thank you.<br />
<br />
That did the trick.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>