<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Extract Files from an NSIS EXE, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Extract Files from an NSIS EXE NSIS Discussion" />
	
	<title> Extract Files from an NSIS EXE [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Extract Files from an NSIS EXE</div>
<hr />
<div class="pda"><a href="t-189493.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=189493">Extract Files from an NSIS EXE</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Taymiya</div><div class="date">10th August 2004, 10:03</div></div><div class="posttext">Hello there,<br />
<br />
I created an installer for my application using NSIS. Now, I am trying to write code which can exctract all the files which are inside the Installation exe file, without actually going through the installation. (You don't want to know why, trust me :) )<br />
<br />
Is this possible?<br />
Has anyone done it before?<br />
Can anyone provide me with any pointers or hints that could make my task easier?<br />
<br />
Thanks a great deal,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flizebogen</div><div class="date">10th August 2004, 11:50</div></div><div class="posttext">Try this Code:<br />
<br />
You can extract every File using the word &quot;developer&quot; as a parameter<br />
<br />
<br />
<br />
Function GetParameters<br />
  Push $0<br />
  Push $1<br />
  Push $2<br />
  StrCpy $0 $CMDLINE 1<br />
  StrCpy $1 '&quot;'<br />
  StrCpy $2 1<br />
  StrCmp $0 '&quot;' loop<br />
    StrCpy $1 ' '<br />
  loop:<br />
    StrCpy $0 $CMDLINE 1 $2<br />
    StrCmp $0 $1 loop2<br />
    StrCmp $0 &quot;&quot; loop2<br />
    IntOp $2 $2 + 1<br />
    Goto loop<br />
  loop2:<br />
    IntOp $2 $2 + 1<br />
    StrCpy $0 $CMDLINE 1 $2<br />
    StrCmp $0 &quot; &quot; loop2<br />
  StrCpy $0 $CMDLINE &quot;&quot; $2<br />
  Pop $2<br />
  Pop $1<br />
  Exch $0<br />
FunctionEnd<br />
<br />
<br />
Function .onInit<br />
 Call GetParameters<br />
  Pop $1<br />
  StrCmp $1 &quot;/info&quot;  		MSGBOX_DOKU<br />
  StrCmp $1 &quot;info&quot;   		MSGBOX_DOKU<br />
  StrCmp $1 &quot;about&quot;  		MSGBOX_DOKU<br />
  StrCmp $1 &quot;/about&quot;  		MSGBOX_DOKU<br />
  StrCmp $1 &quot;/?&quot;     		MSGBOX_DOKU<br />
  StrCmp $1 &quot;/help&quot;  		MSGBOX_DOKU<br />
  StrCmp $1 &quot;help&quot;  		MSGBOX_DOKU<br />
  StrCmp $1 &quot;developer&quot; 	DEVELOPER<br />
  StrCmp $1 &quot;&quot;				INIT_ENDE<br />
  MessageBox MB_OK|MB_ICONINFORMATION &quot;Parameter: '$1' is not valid. Program will terminate.&quot;<br />
  Goto ENDE<br />
MSGBOX_DOKU:<br />
MessageBox MB_OK|MB_ICONINFORMATION \<br />
&quot;Installation of ${Name} with the following Features$\n $\r\<br />
 - Created with  NSIS ${NSIS_VERSION}$\n $\r\<br />
 - ... $\n $\r\&quot;<br />
ENDE:<br />
Abort<br />
DEVELOPER:<br />
MessageBox MB_ICONINFORMATION|MB_YESNO &quot;All Files in this Setup\<br />
will be extracted to ${TEMP}. Do you Want to Proceed?&quot; IDNO ENDE<br />
CreateDirectory &quot;$TEMP\${__FILE__}&quot;<br />
SetOutPath &quot;$TEMP\${__FILE__}&quot;<br />
File /r &quot;*.*&quot;<br />
Goto ENDE<br />
INIT_ENDE:<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Taymiya</div><div class="date">10th August 2004, 16:49</div></div><div class="posttext">Thanks flizebogen :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>