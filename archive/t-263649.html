<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Link who opens a text file, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Link who opens a text file NSIS Discussion" />
	
	<title> Link who opens a text file [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Link who opens a text file</div>
<hr />
<div class="pda"><a href="t-263649.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=263649">Link who opens a text file</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Sp33dy G0nz4l3s</div><div class="date">14th January 2007, 10:34</div></div><div class="posttext">Hi,<br />
I've created a custom page. Now I would add a function:<br />
<br />
At the bottom is a link &quot;Hier&quot;. Is it possible when the user clicks on &quot;Hier&quot; that a text file e.g. &quot;$INSTDIR\Infos\Textfile.txt&quot; opens?<br />
<br />
Thanks for your help.<br />
- Marc<br />
<br />
Here is a screenshot:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">14th January 2007, 11:00</div></div><div class="posttext">Type=Link<br />
........<br />
........<br />
Text=Open Read me<br />
State=&lt;full_path_to_file&gt;\file.txt</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy G0nz4l3s</div><div class="date">14th January 2007, 12:22</div></div><div class="posttext">Oh very easy :)<br />
<br />
THANKS<br />
<br />
Edit:<br />
One question: When I choose the path: C:\... it works perfect but when I use State=$INSTDIR\Infos\Tasten.txt it doesn't work.<br />
<br />
Is there a way that it works?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">14th January 2007, 12:57</div></div><div class="posttext">You may add constants though the directory must exists, you're receiving this error because the $INSTDIR yet is not created since your section would be executed later on InstFiles page :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy G0nz4l3s</div><div class="date">14th January 2007, 14:35</div></div><div class="posttext">I thought this to but this is my sequence:<br />
<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
Page custom ConfigPage PageLeaveConfig<br />
...<br />
<br />
The ConfigPage is the page with the link. So it should work?<br />
<br />
Have you an idea what I could trying?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">14th January 2007, 14:50</div></div><div class="posttext">Let's make it clear, if the $INSTDIR is created and all files are in tact, you need to add this line to the custom ini within the ConfigPage function e.g.<br />
Function ConfigPage<br />
WriteINIStr &quot;$PLUGINSDIR\&lt;ini_file_name&gt;&quot; &quot;field #&quot; &quot;State&quot; &quot;$INSTDIR\Infos\Tasten.txt&quot;<br />
<br />
..............<br />
..............<br />
..............<br />
FunctioEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy G0nz4l3s</div><div class="date">14th January 2007, 17:37</div></div><div class="posttext">Thanks Red Wine for your help. I've make it now like you've said.<br />
<br />
This is the ConfigPage Function Code:<br />
<br />
Function ConfigPage<br />
!insertmacro SectionFlagIsSet ${SectionConfig} ${SF_SELECTED} ShowPage SkipPage<br />
ShowPage:<br />
<br />
GetDlgItem $R0 $HWNDPARENT 2<br />
EnableWindow $R0 0|1 # 0=hide, 1=show<br />
GetDlgItem $R0 $HWNDPARENT 3<br />
EnableWindow $R0 0|1 # 0=hide, 1=show<br />
!insertmacro MUI_HEADER_TEXT &quot;Konfiguration des Erweiterungs System&quot; &quot;Legen Sie die Tasten fÃ¼r die Config fest.&quot;<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;config.ini&quot;<br />
<br />
WriteINIStr &quot;$PLUGINSDIR\config.ini&quot; &quot;field 9&quot; &quot;State&quot; &quot;$INSTDIR\Infos\Tasten.txt&quot;<br />
<br />
SkipPage:<br />
<br />
FunctionEnd<br />
<br />
This is the Code from the link in the config.ini:<br />
<br />
[Field 9]<br />
Type=Link<br />
Text=Hier<br />
Left=28<br />
Right=42<br />
Top=118<br />
Bottom=126<br />
TxtColor=0x0080FF<br />
State=$INSTDIR\Infos\Tasten.txt<br />
<br />
Is this right so? Unfotunately it doesn't work.<br />
<br />
Can you say me what's wrong?<br />
Thank you!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">14th January 2007, 17:42</div></div><div class="posttext">The wrong is that you first display the page then write to ini.<br />
WriteINIStr &quot;$PLUGINSDIR\config.ini&quot; &quot;field 9&quot; &quot;State&quot; &quot;$INSTDIR\Infos\Tasten.txt&quot;<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;config.ini&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy G0nz4l3s</div><div class="date">14th January 2007, 18:55</div></div><div class="posttext">COOL THANKS :) <br />
<br />
Works perfect now!!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>