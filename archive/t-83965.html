<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Silent Mode Comand Line, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Silent Mode Comand Line NSIS Discussion" />
	
	<title> Silent Mode Comand Line [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Silent Mode Comand Line</div>
<hr />
<div class="pda"><a href="t-83965.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=83965">Silent Mode Comand Line</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">crisp</div><div class="date">7th April 2002, 18:46</div></div><div class="posttext">Hello<br />
<br />
I'm sorry to interrupt this technical discussion about NSIS compiler. <br />
<br />
I have a question as a USER of a program distributed using NSIS. (I'm sorry if I am in the writing in the wrong place) . <br />
<br />
I want to make a custom CD which will install some applications after the Windows Setup is complete. <br />
<br />
So I want to run a kit in silent mode. This works for the Install Shield programs (-r and the -s switch). <br />
But I cannot get it to work for a NSIS kit. (Ex. Divx412codec) <br />
<br />
I've tryied /S and /SILENT, after browsing the compiler documentation but it doesn't run in silent mode. <br />
<br />
Thansks for your time, <br />
<br />
Crisp</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th April 2002, 19:47</div></div><div class="posttext">Hi Crisp!<br />
<br />
After looking into the source and testing on some of my installers I have found out that /S does work.<br />
<br />
There are two exceptions:<br />
1) The command line interpretation is case sensitive (/s won't work, only /S)<br />
2) If the compiler which built the installer was a recompiled version of NSIS, it could have NSIS_CONFIG_SILENT_SUPPORT disabled which means you can not run the installer built by it in silent mode.<br />
<br />
If you did use /S and not /s I see no other reason of DivX not running in silent mode but a recompiled compiler.<br />
<br />
KiCHiK</div></div><hr />


<div class="post"><div class="posttop"><div class="username">crisp</div><div class="date">7th April 2002, 23:02</div></div><div class="posttext">Hi kichik!<br />
<br />
I do run the installer with /S not /s.<br />
So I guess SILENT Suport is disabled, or is an OLD version of NSIS (1.44 i think).<br />
I've also tried the Winamp installation kit and Zoom DVD Player . Still nothing. <br />
I'm definetly doing something wrong here, I don't think everybody disabled SILENT mode ...<br />
<br />
Crisp</div></div><hr />


<div class="post"><div class="posttop"><div class="username">crisp</div><div class="date">7th April 2002, 23:20</div></div><div class="posttext">Hi kichik again !<br />
<br />
I've just tested with PowerDivx312 (NSIS 1.60) and it's working ...<br />
Thanks for your time !<br />
So not all the installers that float around support this feature. Too bad.<br />
<br />
Anyway, can someone point me to a reference of command-line switches or this is something that depends on how the kit was build ?<br />
<br />
Crisp</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">8th April 2002, 07:29</div></div><div class="posttext">Crisp,<br />
<br />
the reference is:<br />
http://www.nullsoft.com/free/nsis/makensis.htm<br />
<br />
Since NSIS is OpenSource everyone can rebuild the project to do specific tasks and hence it's possible that in a custom made setup the /S is not supported.<br />
<br />
Good luck,<br />
greetz, Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th April 2002, 13:18</div></div><div class="posttext">Hi Crisp!<br />
<br />
According to the version history (quoted below) commmand line options were added in version 1.42...<br />
<br />
nsis142.exe (5/6/01)<br />
Made it so that installers can take command line switches: /S (silent), /NCRC (no CRC checking) and /D= (sets output directory). Note that /D= must be the last parameter on the line. <br />
[...]<br />
<br />
<br />
I have also tested the /S silent switch with an installer I built with NSIS 1.44 and it works.<br />
The only possible reason I can think of is a recompiled NSIS compiler... Sorry.<br />
<br />
The only place I know you can find the command line switches in is the source code it self.<br />
<br />
KiCHiK</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wilbur</div><div class="date">17th May 2002, 22:54</div></div><div class="posttext">&gt;Made it so that installers can take command line switches: /S (silent), / NCRC (no CRC checking) and /D= (sets output directory). Note that /D= must be the last parameter on the line. <br />
<br />
I cannot get /D to work.  <br />
I executed:  ./setup_debug.exe /S /D=./x from a cygwin shell.  The program silently installed into the install directory defined in the .nsi file.  I tried several values (x, ./x, and \x) for the value of /D, but they were all ignored.  And, directory x did exist.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th May 2002, 13:30</div></div><div class="posttext">This indeed seems like a bug to me. The /D switch is read and processed before the default installation dir set with InstallDir is read and processed. The later ignores the fact that the first has already set the installation dir.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th May 2002, 13:59</div></div><div class="posttext">Oops :(<br />
<br />
Sorry about that one, my bad... It does ignore it if an installation directory was given in the command line.<br />
<br />
I have looked closer into the code and it seems that the directory validating code expects full path, that is C:\cygwin\x and not ./x or other variations.<br />
<br />
Again, I am sorry about this confusion.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wilbur</div><div class="date">20th May 2002, 23:31</div></div><div class="posttext">I got /D to work using absolute directories.  The following commands silently install into c:\x.  setup.exe will create x if it doesn't exist.<br />
<br />
(From Dos command prompt):   setup.exe /S /D=c:\x  <br />
(From cygwin shell):         ./setup.exe /S /D=c:\\x</div></div><hr />


<div class="post"><div class="posttop"><div class="username">timbyrd</div><div class="date">20th September 2003, 04:58</div></div><div class="posttext">(Using a dev snapshot from 2003-Sep-17)<br />
<br />
I was beating my head about using the /D switch in my installer.  I thought that the InstallDir and InstallDirRegKey commands were overriding it.  It turns out, though, that the /D switch doesn't work if the specified folder has quotes in it, e.g.:<br />
<br />
myinstall.exe /S /D=&quot;C:\Program Files\testdir&quot;<br />
<br />
does not work, but<br />
<br />
myinstall.exe /S /D=C:\Program Files\testdir<br />
<br />
does work.<br />
<br />
Looking at the code in Source\exehead\Main.c, I understand that the /D switch has to be the last one on the command line.  But I would like to understand why it can't deal with quoted paths.<br />
<br />
-- Tim</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th September 2003, 11:14</div></div><div class="posttext">If it has to be last then there is no use of quotes. Nothing can come after it, hence spaces won't matter.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">timbyrd</div><div class="date">22nd September 2003, 21:21</div></div><div class="posttext">loop:<br />
<br />
Originally posted by kichik <br />
If it has to be last then there is no use of quotes. Nothing can come after it, hence spaces won't matter. <br />
<br />
And of course, since it can't handle a quoted argument, it has to be the last thing on the command line so it can accept paths with embedded spaces.<br />
<br />
Goto loop<br />
<br />
(I'm afraid this is going to turn into a circular conversation...)<br />
<br />
Okay, I'll just have to accept that's the way it is.  I, personally, found it confusing, since I quote long file names out of habit. (And I'm not yet familiar enough with the NSIS docs to find a reference that says to avoid using quotes with /D.)   I suppose it saves some code space in the installer runtime.<br />
<br />
-- Tim</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd September 2003, 21:29</div></div><div class="posttext">I'm afraid that part is not very well documented. But this thread pretty much coveres it all.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>