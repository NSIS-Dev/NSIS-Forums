<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem with ButtonEvent Plugin, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem with ButtonEvent Plugin NSIS Discussion" />
	
	<title> Problem with ButtonEvent Plugin [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem with ButtonEvent Plugin</div>
<hr />
<div class="pda"><a href="t-253811.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=253811">Problem with ButtonEvent Plugin</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kookh</div><div class="date">22nd August 2006, 09:58</div></div><div class="posttext">I have been using the ButtonEvent plugin for quite a while now, mostly to add buttons to the components page. However, when I tried to add a button to the parent dialog, everything worked ok except that the &quot;Abort&quot; statement didn't seem to do anything. It performed the code but then skipped to the next page disregarding the Abort statement. Is there something wrong from my end or is this a bug?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kookh</div><div class="date">25th August 2006, 09:08</div></div><div class="posttext">anyone ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th August 2006, 11:11</div></div><div class="posttext">If you have a button on the parent dialog, you need to call your button code in all Leave functions for all installer dialogs. The plugin example shows this.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kookh</div><div class="date">25th August 2006, 23:08</div></div><div class="posttext">Afrow UK, I did as you said and all the custom pages seem to be working fine but in the Components page, the Abort statement is still not being executed. The same thing is happening with your example file.<br />
<br />
The button is loaded in the MUI_CUSTOMFUNCTION_GUIINIT function. Here's the code from the Leave function of the Components page:<br />
<br />
  ButtonEvent::WhichButtonID /NOUNLOAD<br />
  Pop $R1<br />
  <br />
  ${If} $R1 = 69<br />
  ExecShell open http://www.blah.com<br />
  Abort<br />
  ${ElseIf} ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th August 2006, 11:33</div></div><div class="posttext">Thanks, fixed.<br />
http://nsis.sf.net/File:ButtonEvent.zip<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kookh</div><div class="date">26th August 2006, 12:05</div></div><div class="posttext">Super. Thanks alot =)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th August 2006, 12:17</div></div><div class="posttext">Just make sure you disable the parent window button on the InstFiles page. I've added code to the example.<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>