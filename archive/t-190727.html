<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SP2 Firewall in WinXP, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SP2 Firewall in WinXP NSIS Discussion" />
	
	<title> SP2 Firewall in WinXP [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SP2 Firewall in WinXP</div>
<hr />
<div class="pda"><a href="t-190727.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=190727">SP2 Firewall in WinXP</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">lars1106</div><div class="date">20th August 2004, 09:00</div></div><div class="posttext">I noticed yesterday when I installed &quot;Groove&quot; [http://www.groove.net] that during the installation, the installation kit (InstallShield) that this interacted with the new firewall in XP.<br />
this means that the installer unblocked this program during installation. I think this is a very good feature, since users do not by accident block a program that needs certain ports open.<br />
<br />
I have in vain searched MSDN to find information to find information about this issue, so I could implement this in the NSIS installer.<br />
Does anyone here know which information, and how to pass this on to the Firewall ???<br />
<br />
<br />
Cheers,<br />
<br />
Lars</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2004, 10:16</div></div><div class="posttext">Is the installer signed? Windows probably did this automatically if it is. I seriously doubt there is some way to disable the firewall for a specific program without some sort of approval from Microsoft. That would make the firewall pretty useless...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lars1106</div><div class="date">20th August 2004, 12:10</div></div><div class="posttext">Hi<br />
After posting question I found some more information. There exists an API for Windows firewall + you can use a command like:<br />
<br />
netsh firewall set portopening TCP 445 ENABLE <br />
or<br />
netsh firewall add allowedprogram [program.exe]<br />
<br />
I disagree with you in that this renders the firewall useless since this is done from within the secure side of the firewall.<br />
<br />
Now I just have to find out how to run this from an NSIS script..<br />
<br />
Cheers,<br />
Lars</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2004, 12:16</div></div><div class="posttext">I wouldn't call a program I didn't write the secure side of the firewall. What about trojans? Wouldn't you want to be notified when it tries to send your credit card number to the other side of the world?<br />
<br />
To execute programs from NSIS use Exec, ExecWait, ExecShell or the nsExec plug-in.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lars1106</div><div class="date">20th August 2004, 12:31</div></div><div class="posttext">Well - I guess the idea is that the trojan will not be allowed in by the firewall in the first place. If it is in though for some reason it will be able to fire the &quot;add allowed program&quot; command.<br />
<br />
Try to run this command from a prompt, then you will see the possibilities:<br />
netsh firewall add allowedprogram<br />
<br />
Thanks for your answer ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2004, 12:35</div></div><div class="posttext">A firewall is not an antivirus, it can not recognize you're downloading a trojan.<br />
<br />
I don't have SP2 yet, so I can't test this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">afrodan</div><div class="date">20th August 2004, 12:59</div></div><div class="posttext">Originally posted by kichik <br />
A firewall is not an antivirus, it can not recognize you're downloading a trojan.  <br />
<br />
But the firewall is going to stop the trojan from listing on ports to be activated. It also askes if you would like to allow the progam that is accesing the net to get access to the net...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2004, 13:02</div></div><div class="posttext">That's another story. I'm sure lars1106 doesn't want to distribute his installer this way.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2004, 13:03</div></div><div class="posttext">It also askes if you would like to allow the progam that is accesing the net to get access to the net...Which is exactly what lars1106 is trying to avoid.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">afrodan</div><div class="date">20th August 2004, 13:06</div></div><div class="posttext">Originally posted by kichik <br />
Which is exactly what lars1106 is trying to avoid.  <br />
<br />
He can't its micrsofts newest thing... that is what sp2 is about beffing up security</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lars1106</div><div class="date">20th August 2004, 13:10</div></div><div class="posttext">Afro...Read the thread and if you have windows firewall then try to fire the command I mention.<br />
<br />
Lars</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2004, 13:10</div></div><div class="posttext">Exactly. That's why I seriously doubt it's possible. However, lars1106 says that netsh can do the trick.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lars1106</div><div class="date">20th August 2004, 13:21</div></div><div class="posttext">I you guys doesn´t believe me, maybe you belive Microsoft:<br />
<br />
Using Command line options (http://support.microsoft.com/default.aspx?scid=kb;en-us;875357#13)<br />
<br />
The more I think about this the more sense it makes. Imagine a netadmin controlling 1000´s of computers in for instance a bank, he has to have command line tools if the firewall is deployed locally as well<br />
<br />
Cheers,<br />
Lars</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2004, 13:23</div></div><div class="posttext">It makes sense for an admin to have an option to allow a certain program, but it doesn't make sense for a program to allow itself.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>