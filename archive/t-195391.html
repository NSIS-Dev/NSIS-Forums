<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problems with InstallOptions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problems with InstallOptions NSIS Discussion" />
	
	<title> Problems with InstallOptions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problems with InstallOptions</div>
<hr />
<div class="pda"><a href="t-195391.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=195391">Problems with InstallOptions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sHARD&gt;&gt;</div><div class="date">2nd October 2004, 19:17</div></div><div class="posttext">For the installer I am creating I want to have a simple welcome page with a few instructions, so I created the INI file for the page as well as the creator and reserved the file. I then used the following example:<br />
<br />
 Function customPage<br />
   GetTempFileName $R0<br />
   File /oname=$R0 customPage.ini<br />
   InstallOptions::dialog $R0<br />
   Pop $R1<br />
   StrCmp $R1 &quot;cancel&quot; done<br />
   StrCmp $R1 &quot;back&quot; done<br />
   StrCmp $R1 &quot;success&quot; done<br />
   error: MessageBox MB_OK|MB_ICONSTOP &quot;InstallOptions error:$\r$\n$R1&quot;<br />
   done:<br />
 FunctionEnd<br />
<br />
Renaming the function and filename to their respective proper names. InstallOptions always errors out with &quot;error finding config&quot;. I checked, and the file is being properly extracted. I thought maybe it was not being extracted before the page was ready for generation, but determined that was not the problem. I also tried manually setting the path to the original path of the config file where it would still reside, but it would still offer a &quot;error finding config&quot;. Any clues? Help is greatly appriciated. Thanks<br />
<br />
-sHARD&gt;&gt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd October 2004, 19:23</div></div><div class="posttext">You can also get this error message if the INI file contains no fields. For example, if [Settings]\NumFields is 0 or does not exist.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sHARD&gt;&gt;</div><div class="date">2nd October 2004, 19:29</div></div><div class="posttext">Originally posted by kichik <br />
You can also get this error message if the INI file contains no fields. For example, if [Settings]\NumFields is 0 or does not exist.  <br />
<br />
I checked my INI against an one from the examples (which works), it is exactly the same except for changes in text and captions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sHARD&gt;&gt;</div><div class="date">2nd October 2004, 19:30</div></div><div class="posttext">Originally posted by sHARD&gt;&gt; <br />
I checked my INI against an one from the examples (which works), it is exactly the same except for changes in text and captions.  <br />
<br />
Forgot to add, would this error occur if the syntax in the file was wrong? Like I said, I checked it against the other, but it would be interesting to know if it uses the same error for syntax problems too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd October 2004, 19:30</div></div><div class="posttext">Can you attach a complete example?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd October 2004, 19:35</div></div><div class="posttext">Originally posted by sHARD&gt;&gt; <br />
would this error occur if the syntax in the file was wrong?Only if it's wrong enough to make it miss [Settings]\NumFields.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sHARD&gt;&gt;</div><div class="date">2nd October 2004, 19:35</div></div><div class="posttext">Originally posted by kichik <br />
Can you attach a complete example?  <br />
<br />
Sure, just be warned it is a long script (WASTE installation script in case you have ever heard of it ;) )</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd October 2004, 19:41</div></div><div class="posttext">What about the INI file?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sHARD&gt;&gt;</div><div class="date">2nd October 2004, 19:43</div></div><div class="posttext">Originally posted by kichik <br />
What about the INI file?  <br />
<br />
Attached and renamed to NSI so I can upload.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd October 2004, 19:45</div></div><div class="posttext">It's Settings, not Setup. Rename your first section and it should work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sHARD&gt;&gt;</div><div class="date">2nd October 2004, 19:51</div></div><div class="posttext">Originally posted by kichik <br />
It's Settings, not Setup. Rename your first section and it should work. <br />
<br />
Wow, I hate it when I make incredibally stupid mistakes like that. Thanks a lot! :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>