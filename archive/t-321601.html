<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" uninstall/reinstall issues, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  uninstall/reinstall issues NSIS Discussion" />
	
	<title> uninstall/reinstall issues [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  uninstall/reinstall issues</div>
<hr />
<div class="pda"><a href="t-321601.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=321601">uninstall/reinstall issues</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">timbstoke</div><div class="date">12th August 2010, 11:12</div></div><div class="posttext">I'm an administrator, not a developer. One of the tools we use uses NSIS, and we're trying to script a silent uninstall/install for upgrades, and we're having a few problems. <br />
<br />
It seems that NSIS spawns a seperate, randomly named process for uninstalling, at which point the uninstaller terminates. This means that our scripts continue running, and try to install the new version before the old has finished uninstalling. The result is files in use, a failed install, and a dialog box on every machine that we need to acknowledge before we can try again. <br />
<br />
After doing this once on a few hundred machines and not liking the idea of doing again, I have a few questions: <br />
<br />
- Is there a way to detect the process name that the uninstaller spawns, so we can monitor it and pause script execution until it's finished?<br />
- Failing that, is there a way to make a silent install *really* silent - i.e. exit with an non-zero error code rather than displaying a dialog box? This would at least allow us to detect a failed install, rather than having a hung script that requires me to wander the building, zombie-like, logging in to machines at 5am to acknowledge an error message. <br />
<br />
If none of those are doable, does anyone else have advice on how we can gracefully handle an uninstall/reinstall reliably without it falling over?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">12th August 2010, 11:26</div></div><div class="posttext">i think http://nsis.sourceforge.net/Docs/Chapter3.html#3.2.2 should help with the uninstaller spawning 'issue' or at least help in modifying your scripts to work with it.<br />
<br />
-daz</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>