<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Want to disable an EditBox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Want to disable an EditBox NSIS Discussion" />
	
	<title> Want to disable an EditBox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Want to disable an EditBox</div>
<hr />
<div class="pda"><a href="t-240332.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=240332">Want to disable an EditBox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">9th March 2006, 05:22</div></div><div class="posttext">I created a custom page to hold two radio buttons and an edit box. I would like the edit box to enable and disable according to which radio button is checked. I am only partially successful so far and would like help from whomever might know how to do this.<br />
<br />
I can enable and disable the edit box, but the tabstop  doesn't change unless I leave the page and re-enter it. (In other words, if the field is active upon entry then the tab always goes into the edit box even when it is grayed out; vice-versa if it is disabled upon screen entry the tab won't go into it even if it becomes active.)<br />
<br />
To disable the edit box I have the edit box HWND in $1 and use:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;newpage.ini&quot; &quot;Field 3&quot; &quot;Flags&quot; DISABLED|READONLY|NOTABSTOP<br />
SendMessage $1 ${WM_ENABLE} 0 0<br />
SendMessage $1 ${EM_SETREADONLY} 1 0<br />
Abort<br />
<br />
<br />
To enable the edit box I use:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;newpage.ini&quot; &quot;Field 3&quot; &quot;Flags&quot; &quot;&quot;<br />
SendMessage $1 ${WM_ENABLE} 1 0<br />
SendMessage $1 ${EM_SETREADONLY} 0 0<br />
Abort<br />
<br />
<br />
Does anyone have ideas?<br />
<br />
Thanks,<br />
Don</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">9th March 2006, 09:07</div></div><div class="posttext">Use built-in EnableWindow instruction.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">9th March 2006, 18:32</div></div><div class="posttext">Thanks for the advise. It is a big improvement, but I found (another) problem.<br />
<br />
I wanted to set the edit box state to match the radio button upon entry to the page, so I replace the page Display function with InitDialog and Show, and in between those I call EnableWindow if I need to disable edit box. The problem is that when I disable the edit box, the entire dialog loses keyboard function. The mouse still works, and it works properly when disabled via the 'leave page' function.<br />
<br />
Here's the code I use now to enter the page:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;newpage.ini&quot;<br />
<br />
Pop $0	; HWND for dialog<br />
IntCmp $1 0 +3	; test radiobutton state<br />
GetDlgItem $1 $0 1202	; $1 is now 'Field 3' hWnd<br />
EnableWindow $1 0<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_SHOW<br />
<br />
The code in the 'leave-page' function is so simple now that I won't copy it here.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>