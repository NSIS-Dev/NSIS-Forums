<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" $(^NameDA) not found for uninstaller., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  $(^NameDA) not found for uninstaller. NSIS Discussion" />
	
	<title> $(^NameDA) not found for uninstaller. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  $(^NameDA) not found for uninstaller.</div>
<hr />
<div class="pda"><a href="t-301625.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=301625">$(^NameDA) not found for uninstaller.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">touchring</div><div class="date">2nd January 2009, 17:29</div></div><div class="posttext">Hi, i'm a newbie, recently, i took over an NSIS project done by another programmer.  The project uses MUI.<br />
<br />
For 2 days, I've been trying in vain to find out how to solve a bug in which the &quot;program name&quot; does not appear in the uninstaller.  The problem does not affect the installer and the software appears ok in Windows Add/Remove dialog as well.<br />
<br />
My investigations led me to the variable $(^NameDA) in the file English.nlf.<br />
<br />
For example, the line <br />
<br />
&quot;$(^NameDA) will be uninstalled from the following folder.&quot; <br />
<br />
will appear as <br />
<br />
&quot;  will be uninstalled from the following folder.&quot; in my uninstaller.<br />
<br />
Here's some code, hope someone can give me a tip on where to look.  Would appreciate a lot.  :)<br />
<br />
<br />
#####################<br />
# Uninstaller pages #<br />
#####################<br />
<br />
!insertmacro MUI_UNPAGE_CONFIRM<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
 <br />
<br />
<br />
########################<br />
# Installer attributes #<br />
########################<br />
<br />
Name                &quot;$_ShortName&quot;<br />
OutFile             &quot;installer\bin\${DEFAULT_SETUP_FILENAME}&quot;   ; Installer output file<br />
InstallDir          &quot;$PROGRAMFILES\$_CombinedVar&quot;               ; Default installation directory<br />
InstallDirRegKey    HKLM &quot;${PRODUCT_DIR_REGKEY}&quot; &quot;&quot;<br />
BrandingText        &quot;$_CompanyName&quot;                             ; Text at the bottom of the install window<br />
ShowInstDetails     hide                                        ; Details are not shown by default<br />
ShowUnInstDetails   hide                                        ; Details are not shown by default<br />
XPStyle             on                                          ; XP controls styles<br />
CRCCheck            on                                          ; The installer performs a CRC check before installing<br />
;SetCompressor       lzma<br />
<br />
VIProductVersion	&quot;0.0.0.0&quot;<br />
VIAddVersionKey	    ProductName     &quot;&quot;<br />
VIAddVersionKey	    ProductVersion  &quot;&quot;<br />
VIAddVersionKey	    CompanyName     &quot;&quot;<br />
VIAddVersionKey	    CompanyWebsite  &quot;&quot;<br />
VIAddVersionKey	    FileVersion     &quot;&quot;<br />
VIAddVersionKey	    FileDescription &quot;&quot;<br />
VIAddVersionKey	    LegalCopyright  &quot;?2006. All rights reserved.&quot;<br />
<br />
<br />
<br />
 <br />
###########################################################################################<br />
# Copy the installer to the installation directory for the Repair/Modify uninstall option #<br />
###########################################################################################<br />
<br />
CopyFiles /SILENT &quot;$EXEDIR\${DEFAULT_SETUP_FILENAME}&quot; &quot;$INSTDIR\${DEFAULT_SETUP_FILENAME}&quot;]<br />
    <br />
<br />
Section -post SEC0001<br />
<br />
    WriteUninstaller &quot;$INSTDIR\uninstall.exe&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_DIR_REGKEY}&quot; &quot;&quot;                 &quot;$INSTDIR\VisualGSMManager.exe&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;DisplayName&quot;      &quot;$_LongName&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;UninstallString&quot;  &quot;$INSTDIR\uninstall.exe&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;ModifyPath&quot;       '&quot;$INSTDIR\${DEFAULT_SETUP_FILENAME}&quot; /repair'<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;RepairPath&quot;       '&quot;$INSTDIR\${DEFAULT_SETUP_FILENAME}&quot;  /repair'<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;DisplayIcon&quot;      &quot;$INSTDIR\VisualGSMManager.exe&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;DisplayVersion&quot;   &quot;0.0.0.0&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;URLInfoAbout&quot;     &quot;&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;Publisher&quot;        &quot;$_CompanyName&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;URLUpdateInfo&quot;    &quot;&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;URLInfoAbout&quot;     &quot;&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;VersionMajor&quot;     &quot;1&quot;<br />
    WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;VersionMinor&quot;     &quot;0&quot;<br />
	WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;HelpLink&quot;         &quot;&quot;<br />
	WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;NoRepair&quot;         &quot;0&quot;<br />
	WriteRegStr HKLM &quot;${PRODUCT_UNINST_KEY}&quot; &quot;NoModify&quot;         &quot;0&quot;<br />
<br />
SectionEnd<br />
<br />
<br />
<br />
#########################<br />
# Uninstaller functions #<br />
#########################<br />
<br />
Function un.onInit<br />
    <br />
   !insertmacro MUI_UNGETLANGUAGE   <br />
    SetAutoClose true<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">2nd January 2009, 17:34</div></div><div class="posttext">you are using a variable in name, you must init $_ShortName in un.onInit (or just don't use a variable)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">touchring</div><div class="date">3rd January 2009, 08:53</div></div><div class="posttext">Originally posted by Anders <br />
you are using a variable in name, you must init $_ShortName in un.onInit (or just don't use a variable)  <br />
<br />
<br />
Thanks, i got an error &quot;Invalid command: init&quot;.  I apologize if this is a silly question.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">touchring</div><div class="date">6th January 2009, 12:24</div></div><div class="posttext">any thoughts?  appreciate.  :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">6th January 2009, 14:15</div></div><div class="posttext">you must use StrCpy $_ShortName &quot;something&quot; in un.onInit</div></div><hr />


<div class="post"><div class="posttop"><div class="username">touchring</div><div class="date">7th January 2009, 16:43</div></div><div class="posttext">Originally posted by Anders <br />
you must use StrCpy $_ShortName &quot;something&quot; in un.onInit  <br />
<br />
<br />
Thanks, you're great, i guess it is necessary to initialize $_shortname in uninstall even though it has already been done over in install code.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>