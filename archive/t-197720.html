<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Upgrade Code Explanation, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Upgrade Code Explanation NSIS Discussion" />
	
	<title> Upgrade Code Explanation [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Upgrade Code Explanation</div>
<hr />
<div class="pda"><a href="t-197720.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=197720">Upgrade Code Explanation</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">SmilingBandit</div><div class="date">28th October 2004, 21:06</div></div><div class="posttext">Ok, so my installer can detect if it is already installed, and can launch the uninstaller from the previous version before the new files are installed.  The uninstall process launches in an Upgrade section.<br />
<br />
Now here's the crazy thing, it wasnt working using nsExec::Exec '&quot;$INSTDIR\uninstall.exe&quot; /S'<br />
But I found this code in the archive here (http://nsis.sourceforge.net/archive/viewpage.php?pageid=326) to do this very thing, and the code shows the upgrade process like this:<br />
ExecWait '$R0 _?=$INSTDIR'<br />
So I changed my code accordingly, and now the upgrade magically works.  So what on earth does this _?=$INSTDIR option do??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">28th October 2004, 23:57</div></div><div class="posttext">See the FAQ:<br />
<br />
http://nsis.sourceforge.net/index.php?id=19&amp;backPID=15&amp;tx_faq_faq=14</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SmilingBandit</div><div class="date">29th October 2004, 13:22</div></div><div class="posttext">Thanks, I looked everywhere else but the FAQ for that answer, searched the forums, searched the archive, searched through the NSIS source code even.  <br />
<br />
Maybe it should be pointed out in the NSIS help file so other idiots like me dont waste time with this :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>