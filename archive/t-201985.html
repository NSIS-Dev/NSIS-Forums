<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" animate bgimage - how to get handle?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  animate bgimage - how to get handle? NSIS Discussion" />
	
	<title> animate bgimage - how to get handle? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  animate bgimage - how to get handle?</div>
<hr />
<div class="pda"><a href="t-201985.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=201985">animate bgimage - how to get handle?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">13th December 2004, 17:24</div></div><div class="posttext">i'm trying to animate bgimage using this command:<br />
System::Call	&quot;user32::AnimateWindow(i $HWNDPARENT, i '500', i '${AW_HIDE}|${AW_BLEND}') i.&quot;<br />
of course, $HWNDPARENT only works with the nsis window itself.<br />
<br />
win32spy told me that the window class is &quot;NSISBGImage&quot;, so i tried the following code:<br />
	Push	$0<br />
	FindWindow	$0 &quot;NSISBGImage&quot;<br />
	StrCmp	$0  &quot;0&quot;  +2<br />
	System::Call	&quot;user32::AnimateWindow(i $0, i '500', i '${AW_HIDE}|${AW_BLEND}') i.&quot;<br />
	Pop	$0<br />
	BgImage::Destroy<br />
but didn't work.<br />
and, yes, i defined the flags correctly, works with the main window :)<br />
anyone could help me getting the handle to the backround image?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">14th December 2004, 16:15</div></div><div class="posttext">noone any idea?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">14th December 2004, 17:44</div></div><div class="posttext">have you looked at the code for bgimage to see how it creates the window and to then go from there? (i'd look if i had access to the source myself but tricky to do at work :( )<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th December 2004, 18:39</div></div><div class="posttext">Comm@nder21, if you pass a number, it shouldn't be in quotes. Quotes are only for strings.<br />
<br />
DrO, the source (http://cvs.sourceforge.net/viewcvs.py/nsis/NSIS/Contrib/BgImage/BgImage.cpp?rev=1.16&amp;view=auto) is always accessible ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">14th December 2004, 21:23</div></div><div class="posttext">@dro: i'm sry, my skills are not enough in c++ to understand the code. i tried it :)<br />
<br />
@kichik: the system call itself works fine for me, but only with $HWNDPARENT as handle (so, for the main installer window).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">14th December 2004, 21:26</div></div><div class="posttext">kichik: that's true but it's a bit tricky to view it when you're not meant to be looking at code ;)<br />
<br />
Comm@nder21: my bad, you seemed to know what you were doing with the system plugin so i sort of assumed you knew c/c++<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">14th December 2004, 21:29</div></div><div class="posttext">indeed i've some very low skills in c++, not enough to write somethin really usefull, though.<br />
so, the nsis scripting language and the way, the system plugin  handles api calls is not that complicated than it's in c++.<br />
atleast a basic understanding of code itself i really do have, but not enough for that case.<br />
so, if anyone could read the code for me and get the answer, i'd be really happy :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">14th December 2004, 21:31</div></div><div class="posttext">i'll try and have a scan through in a bit for you :)<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">16th December 2004, 14:49</div></div><div class="posttext">found something, dro?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>