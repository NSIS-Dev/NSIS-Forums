<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" AccessControl::SetOnRegKey Windows 2008 64 bit, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  AccessControl::SetOnRegKey Windows 2008 64 bit NSIS Discussion" />
	
	<title> AccessControl::SetOnRegKey Windows 2008 64 bit [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  AccessControl::SetOnRegKey Windows 2008 64 bit</div>
<hr />
<div class="pda"><a href="t-302295.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302295">AccessControl::SetOnRegKey Windows 2008 64 bit</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dlloyd</div><div class="date">21st January 2009, 16:19</div></div><div class="posttext">I need to use the AccessControl plugin's SetOnRegKey function on a Windows 2008 64 bit system.  I need to set permissions on HKLM Software\Xyz.  When I ran my install, the permissions were not changed.  <br />
<br />
Thinking this could be a WOW6432 issue, I created a &quot;Xyz&quot; registry key under WOW6432 and ran my installer again.  The permissions on HKLM Software\Wow6432\Xyz were changed.<br />
<br />
Is there a way to tell AccessControl to turn off registry redirection?<br />
<br />
I did use SetRegView 64 before calling AccessControl, however, that had no effect.<br />
<br />
Dan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st January 2009, 18:48</div></div><div class="posttext">The plug-in has to be updated it for it. It can use the internal alter_reg_view flag so SetRegView will affect it as well or it can add a flag.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dlloyd</div><div class="date">26th January 2009, 21:43</div></div><div class="posttext">kichik thanks for the reply.  I looked at the code for the AccessControl plugin and discovered that the SetNamedSecurityInfo api does not support changing 64 bit registry access from a 32 bit application.  From the discussions I found, apparently Microsoft did not include a flag to make that api work on the 64 bit registry like they did for the registry api.<br />
<br />
As best as I can tell, in order to accomplish this, the AccessControl plugin will have to use the SetRegKeySecurity api.  Those changes are more than I can tackle.<br />
<br />
Can you or anyone else recommend a script or program that will change the security of a registry key on 64 bit systems?<br />
<br />
Dan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th January 2009, 17:28</div></div><div class="posttext">RegSetKeySecurity indeed seems like what you'll be needing here.<br />
<br />
SetACL might be able to pull this off.<br />
http://setacl.sourceforge.net/</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rijukk</div><div class="date">23rd January 2012, 05:18</div></div><div class="posttext">I have same issue, did you found a way to resolve it?<br />
Since I am not in C++; it is a different world for me to update AccessControl plug-in.<br />
<br />
my thread: http://205.188.87.199/showthread.php?t=340774</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>