<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" LicenseLangString in Modern UI, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  LicenseLangString in Modern UI NSIS Discussion" />
	
	<title> LicenseLangString in Modern UI [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  LicenseLangString in Modern UI</div>
<hr />
<div class="pda"><a href="t-249604.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=249604">LicenseLangString in Modern UI</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">robertpnl</div><div class="date">25th June 2006, 14:00</div></div><div class="posttext">Hi,<br />
<br />
I'm trying to create a install script with multi-language and with the modern UI. During installation, the page of EULA must be displayed. This works, but...<br />
<br />
By starting installation, the user can select one of the available languages (Dutch or English). After then, when the EULA displays, only the Dutch EULA is showing. If the user choose English, also then the Dutch EULA is displayed.<br />
<br />
During compiling I've got two warnings:<br />
  2 warnings:<br />
    LicenseLangString &quot;lics&quot; set multiple times for 0, <br />
         wasting space (..:43)<br />
    LangString &quot;lics&quot; is not set in language table of <br />
         language Dutch<br />
<br />
A piece of code:<br />
<br />
<br />
; Modern UI<br />
!include &quot;MUI.nsh&quot;<br />
<br />
; LicenseLang<br />
LicenseLangString lics $(LANG_ENGLISH) &quot;English.rtf&quot;<br />
LicenseLangString lics $(LANG_DUTCH) &quot;Dutch.rtf&quot;<br />
<br />
; Screens<br />
!insertmacro MUI_PAGE_WELCOME <br />
!insertmacro MUI_PAGE_LICENSE $(lics)<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
; Uninstall screen<br />
!insertmacro MUI_UNPAGE_WELCOME<br />
!insertmacro MUI_UNPAGE_CONFIRM<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
<br />
; Language<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Dutch&quot;<br />
<br />
<br />
I don't get it why I got the two warnings and only the Dutch RTF is showing. Can someone please help me?<br />
<br />
Greets<br />
Robert-Paul</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">25th June 2006, 14:41</div></div><div class="posttext">Add these strings after inserting the language files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">robertpnl</div><div class="date">25th June 2006, 15:05</div></div><div class="posttext">Originally posted by Joost Verburg <br />
Add these strings after inserting the language files.  <br />
<br />
Hi Joost,<br />
<br />
Thank you for your reply, but it doesn't help. <br />
<br />
Here the whole script (excep the sections):<br />
<br />
<br />
; Modern UI<br />
!include &quot;MUI.nsh&quot;<br />
<br />
Name &quot;Test_ML 1.0&quot;<br />
OutFile &quot;Setup.exe&quot;<br />
InstallDir &quot;$PROGRAMFILES\Test\&quot;<br />
!define MUI_ABORTWARNING<br />
<br />
; Language Selection Dialog Settings<br />
!define MUI_LANGDLL_REGISTRY_ROOT &quot;HKCU&quot; <br />
!define MUI_LANGDLL_REGISTRY_KEY &quot;Software\Modern UI Test&quot; <br />
!define MUI_LANGDLL_REGISTRY_VALUENAME &quot;Installer Language&quot;<br />
<br />
; Screens<br />
!insertmacro MUI_PAGE_WELCOME <br />
!insertmacro MUI_PAGE_LICENSE $(MUILicense)<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
 <br />
; Uninstall screen<br />
!insertmacro MUI_UNPAGE_WELCOME<br />
!insertmacro MUI_UNPAGE_CONFIRM<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
<br />
; Language<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Dutch&quot;<br />
<br />
; LicenseLang<br />
LicenseLangString $(MUILicense) $(LANG_ENGLISH) &quot;English.rtf&quot;<br />
LicenseLangString $(MUILicense) $(LANG_DUTCH) &quot;Nederlands.rtf&quot;<br />
<br />
!insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
Function .onInit<br />
  !insertmacro MUI_LANGDLL_DISPLAY<br />
FunctionEnd<br />
<br />
Section &quot;&quot;<br />
  ...<br />
SectionEnd<br />
<br />
Section &quot;Uninstall&quot;<br />
  ...<br />
SectionEnd<br />
<br />
Function un.onInit<br />
  !insertmacro MUI_UNGETLANGUAGE<br />
FunctionEnd<br />
<br />
<br />
I don't get it. What is wrong? The both .nlf are in de same directory.<br />
<br />
Thanks<br />
Robert-Paul</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th June 2006, 15:16</div></div><div class="posttext">LicenseLangString $(MUILicense) $(LANG_ENGLISH) &quot;English.rtf&quot;<br />
LicenseLangString $(MUILicense) $(LANG_DUTCH) &quot;Nederlands.rtf&quot;<br />
<br />
should be<br />
<br />
LicenseLangString MUILicense $(LANG_ENGLISH) &quot;English.rtf&quot;<br />
LicenseLangString MUILicense $(LANG_DUTCH) &quot;Nederlands.rtf&quot;<br />
<br />
No parenthesis.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">robertpnl</div><div class="date">25th June 2006, 15:47</div></div><div class="posttext">Originally posted by Afrow UK <br />
LicenseLangString $(MUILicense) $(LANG_ENGLISH) &quot;English.rtf&quot;<br />
LicenseLangString $(MUILicense) $(LANG_DUTCH) &quot;Nederlands.rtf&quot;<br />
<br />
should be<br />
<br />
LicenseLangString MUILicense $(LANG_ENGLISH) &quot;English.rtf&quot;<br />
LicenseLangString MUILicense $(LANG_DUTCH) &quot;Nederlands.rtf&quot;<br />
<br />
No parenthesis.<br />
<br />
-Stu  <br />
<br />
Hi Afrow,<br />
<br />
Thank you for your reply. But changing the both lines, the problem still repeated. This doesn't work.<br />
<br />
I get the next warning again:<br />
- Generating language tables... warning:<br />
- LangString &quot;MUILicense&quot; is not set in language table of <br />
    language English<br />
And when I choose for English installation language, no EULA is displayed. <br />
<br />
This makes me crazy. Help me..<br />
<br />
Robert-Paul</div></div><hr />


<div class="post"><div class="posttop"><div class="username">robertpnl</div><div class="date">25th June 2006, 18:31</div></div><div class="posttext">Problem solved. Everybody thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">27th June 2006, 14:52</div></div><div class="posttext">It would be a nice touch if you could describe what you did to solve it.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>