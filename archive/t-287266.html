<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Force UAC Dialog even when UAC is Disabled Vista, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Force UAC Dialog even when UAC is Disabled Vista NSIS Discussion" />
	
	<title> Force UAC Dialog even when UAC is Disabled Vista [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Force UAC Dialog even when UAC is Disabled Vista</div>
<hr />
<div class="pda"><a href="t-287266.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=287266">Force UAC Dialog even when UAC is Disabled Vista</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jlanza</div><div class="date">20th February 2008, 17:35</div></div><div class="posttext">Is there a simple way to force the UAC run as admin dialog to pop up even when UAC is disabled?  I have a limited user account in Vista where I need to a run a legacy custom uninstaller (discussed a bit more here http://forums.winamp.com/showthread.php?s=&amp;threadid=287227) and it needs admin rights.  However on vista when UAC is disabled everything craps out because it ignores the manifest.  It doesnt seem like the runas verb on shellexec is working.  Any ideas?<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">20th February 2008, 18:03</div></div><div class="posttext">No need for a new thread...<br />
<br />
the UAC plugin calls CreateProcessWithLogonW(...,LOGON_WITH_PROFILE,...) when UAC is off, you can try that</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jlanza</div><div class="date">20th February 2008, 19:35</div></div><div class="posttext">Is there a function inside of UAC that I can already use?  The ShellExecWait w\ runas was such a simple fix I was hoping there was something I can do with limited no UAC on vista.  I ran the real world app under those conditions and the dialog that popped up was exactly what I needed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">20th February 2008, 19:51</div></div><div class="posttext">no, you must code it yourself</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>