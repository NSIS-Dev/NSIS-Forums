<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Autorun.inf not functioning properly on XP Prof.?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Autorun.inf not functioning properly on XP Prof.? NSIS Discussion" />
	
	<title> Autorun.inf not functioning properly on XP Prof.? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Autorun.inf not functioning properly on XP Prof.?</div>
<hr />
<div class="pda"><a href="t-193009.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=193009">Autorun.inf not functioning properly on XP Prof.?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">9th September 2004, 19:55</div></div><div class="posttext">Hello Everyone, <br />
<br />
I know this isn't specifically NSIS related, but it IS installer related. I have an autorun.inf file with the following contents (see below). When I burn the contents to a CD with the proper structure and autorun file, then place the disc in a drive, I don't get the desired or expected results.<br />
<br />
My autorun.inf contains:<br />
<br />
<br />
[autorun]<br />
open=windows\setup.exe<br />
icon=myicon.ico,1<br />
label=&quot;Setup&quot;<br />
<br />
and my disc has the following structure:<br />
<br />
windows\Setup.exe<br />
windows\readme.txt<br />
autorun.inf<br />
myicon.ico<br />
<br />
<br />
The autorun open portion works fine, but the icon only displays in Windows Explorer IF and only IF the Operating System is 95/98/ME/NT/2K but NOT XP. In XP I get the no icon associated icon. Any ideas?<br />
<br />
P.S. I have tried this on 20 different machines, all the XP ones fail, all the others mentioned were tested and passed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">9th September 2004, 21:57</div></div><div class="posttext">You found a Windows bug, have a cookie! ;) I think there's a post around here somewhere about it, but the answer is simple.<br />
<br />
You cannot specify both icon and label in the autorun.inf, it produces inconsistent results, usually not showing the icon. Depending on the icon order, you may get other results on older Windows versions, as well.<br />
<br />
The best way to do it? Label the disc properly in your burning app and just not use label= in autorun.inf.<br />
<br />
--Matt</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">10th September 2004, 15:59</div></div><div class="posttext">Thanks! Removing the &quot;label=&quot; option solved the problem. It's too bad though, now we have to remember to label the disc each time we burn the master cd. Thanks for the quick reply, it was much appreciated.<br />
<br />
Cheers,<br />
<br />
ZIMSMS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">10th September 2004, 20:32</div></div><div class="posttext">Ya, it can be a pain. But take the opportunity to set all the fun fields like Publisher and Data Preparer, as well. :)<br />
<br />
On the bright side, setting the label ensures that even users with autorun disabled will be able to see the disc's label. (As well as users not using 32-bit Windows, such as DOS, UNIX, and Linux...) Oh, and keep the label under 16 chars. There's another bug lurking there... :)<br />
<br />
Another hint: <br />
If your burning software lets you set file burning precedence (such as Nero), set the autorun.inf to be low, and whatever program autoruns as well as the installer to high. If the icon is its own .ico file, set that to low. Leave all other files at medium. This has helped me make discs that feel far more responsive on lower-end hardware (i.e. Win98 w/ 4x CD-ROM). Setting the priority to high also helps speed up the CRCCheck slightly.<br />
<br />
--Matt</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">13th September 2004, 13:06</div></div><div class="posttext">Sweet. Thanks for the tips!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>