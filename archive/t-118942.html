<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Password, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Password NSIS Discussion" />
	
	<title> Password [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Password</div>
<hr />
<div class="pda"><a href="t-118942.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=118942">Password</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">NsisMan</div><div class="date">24th December 2002, 13:58</div></div><div class="posttext">Can anyone help me to make a script <br />
<br />
&quot;when executing the compiled exe he ask for a pasword and only after the right password executes the installing after 3 times try it quits&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th December 2002, 14:50</div></div><div class="posttext">You should use Install Options to create a custom dialog to ask the user for a password. There is a readme for IO in Contrib\InstallOptions\Readme.html. If the user got the password wrong, create the page again and a label to the INI file saying the password was wrong. If the user gets it wrong the third time use Quit to quit the installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NsisMan</div><div class="date">30th December 2002, 08:27</div></div><div class="posttext">Can you help me write a script, not yet versed with nsis script yet.<br />
If possible comment the example script.<br />
<br />
* - Is this the only option to do it Install Options.<br />
* - Are there online(live)websites for example scripts if not i am in<br />
    the process of setting up a site with examples scripts, do you<br />
    know any sites were i can setup a link to scripts.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th December 2002, 15:43</div></div><div class="posttext">You can either use InstallOptions or write your own plug-in. I think using InstallOptions is much easier don't you agree? :P<br />
<br />
There is an example script that shows an InstallOptions page in Contrib\InstallOptions and Examples\Modern UI\InstallOptions.nsi for InstallOptions with the Modern UI. All you need to change is the INI file from TYPE=Text to TYPE=Password.<br />
<br />
The old examples page was Sunjammer's NSIS Archive, it was closed but we (mostly Sunjammer) are working on a new archive that will be much more easier to use, contribute to and maintain. There will be a message on the forums when it's ready and probably on http://nsis.sf.net/ too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">30th December 2002, 17:43</div></div><div class="posttext">I'm putting starting content together for it at the moment (and continuing to add features and get it working properly) ... I'm weeding through the old Sunjammer's NSIS Archive content trying to determine what's worth keeping as we speak (or write).<br />
<br />
I'll try and see what I can find that is good for InstallOptions, maybe I'll just write some new content for that :)<br />
<br />
Hopefully the archive will be active soon and then the more contributors the merrier, especially since I'll be back at work as of Thursday this week and we've got New Year before then too!!!<br />
<br />
X</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NsisMan</div><div class="date">6th January 2003, 14:54</div></div><div class="posttext">There is an example script that shows an InstallOptions page in Contrib\InstallOptions and Examples\Modern UI\InstallOptions.nsi for InstallOptions with the Modern UI. All you need to change is the INI file from TYPE=Text to TYPE=Password.<br />
<br />
Still not understanding this. please please pretty please help me with an example script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th January 2003, 15:29</div></div><div class="posttext">Enjoy.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NsisMan</div><div class="date">7th January 2003, 12:55</div></div><div class="posttext">Can you make it so that i just have to change these lines<br />
<br />
user = nsis<br />
pass = kickass<br />
<br />
where by i only have to change variables user and pass, i tried did not find variable for the password.<br />
<br />
Thanx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th January 2003, 14:22</div></div><div class="posttext">StrCmp $0 &quot;user1&quot; 0 +2<br />
    StrCmp $1 &quot;user1 password&quot; continue wrong<br />
  StrCmp $0 &quot;user2&quot; 0 +2<br />
    StrCmp $1 &quot;user2 password&quot; continue wrong<br />
  StrCmp $0 &quot;user3&quot; 0 +2<br />
    StrCmp $1 &quot;user3 password&quot; continue wrong<br />
<br />
That's all you need to change. Every two lines represent the user name (user1, user2, user3) and the password (user1 password, etc.).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NsisMan</div><div class="date">7th January 2003, 15:32</div></div><div class="posttext">After compiling i see by component install a checkbox with line &quot;Read INI file&quot; i send the script with exe along. <br />
<br />
Tankx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th January 2003, 15:36</div></div><div class="posttext">That's the section name...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NsisMan</div><div class="date">7th January 2003, 16:00</div></div><div class="posttext">can i put these lines<br />
<br />
Section &quot;Read INI file&quot;<br />
  ReadINIStr ${TEMP1} &quot;$TEMP\temp.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
  DetailPrint &quot;User name: ${TEMP1}&quot;<br />
  ReadINIStr ${TEMP1} &quot;$TEMP\temp.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
  DetailPrint &quot;Password: ${TEMP1}&quot;<br />
SectionEnd<br />
<br />
in this<br />
<br />
Function .onInit<br />
  ReadINIStr ${TEMP1} &quot;$TEMP\temp.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
  DetailPrint &quot;User name: ${TEMP1}&quot;<br />
  ReadINIStr ${TEMP1} &quot;$TEMP\temp.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
  DetailPrint &quot;Password: ${TEMP1}&quot;<br />
  StrCpy $2 0<br />
  InitPluginsDir<br />
  File /oname=$TEMP\temp.ini &quot;temp.ini&quot;<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th January 2003, 16:06</div></div><div class="posttext">No, you can't put it in .onInit because the user hasn't entered the data yet... .onInit is called when the installer just starts, before any page is shown.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NsisMan</div><div class="date">7th January 2003, 16:08</div></div><div class="posttext">and try it works, why</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th January 2003, 16:21</div></div><div class="posttext">Then you must have left some code behind. You can't check the password before the user entered it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NsisMan</div><div class="date">7th January 2003, 16:25</div></div><div class="posttext">You try it, attach all files</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th January 2003, 21:07</div></div><div class="posttext">Why did you move the INI file to $TEMP? It's supposed to be in $PLUGINSDIR or else it won't be deleted. When you read the username and password from $TEMP you read the username and password from the last installer. You simply can't read the username and password before the user entered them, that's impossible.<br />
<br />
The code I gave you already checks if the username and password match according to those StrCmp's you need to change. If you want to later get the username and info you must get it from the INI file AFTER the user has entered them which is impossible in .onInit.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>