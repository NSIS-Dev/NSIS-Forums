<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" A \ at end of line, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  A \ at end of line NSIS Discussion" />
	
	<title> A \ at end of line [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  A \ at end of line</div>
<hr />
<div class="pda"><a href="t-195659.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=195659">A \ at end of line</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bluenet</div><div class="date">5th October 2004, 14:18</div></div><div class="posttext">My code:<br />
<br />
Name                 &quot;Temp&quot;<br />
OutFile              &quot;.\temp.exe&quot;<br />
ShowInstDetails      show<br />
<br />
Page instfiles<br />
	<br />
Section<br />
	Push &quot;aaa&quot;<br />
	Call temp<br />
SectionEnd<br />
<br />
Function temp  ;Convert \\ -&gt; \<br />
	Exch $R0<br />
	DetailPrint &quot;$R0&quot;<br />
	Pop $R0<br />
FunctionEnd	<br />
 <br />
Compiler don't give any error, and have a empty output. :rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">5th October 2004, 14:29</div></div><div class="posttext">what are you trying to do? be more specific please!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">5th October 2004, 14:37</div></div><div class="posttext">Yeah what do you want? Your Exch $R0 puts the null $R0 value on top of the stack and sets $R0 to be &quot;aaa&quot;, then you DetailPrint which I believe shows up in a box on the installer if you ask it to, then you pop $R0 which makes $R0 the top value on the stack (i.e. null).<br />
<br />
Why???? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bluenet</div><div class="date">5th October 2004, 15:20</div></div><div class="posttext">This code work, output a string &quot;aaa&quot;<br />
<br />
<br />
Name                 &quot;Temp&quot;<br />
OutFile              &quot;.\temp.exe&quot;<br />
ShowInstDetails      show<br />
<br />
Page instfiles<br />
	<br />
Section<br />
	Push &quot;aaa&quot;<br />
	Call temp<br />
SectionEnd<br />
<br />
Function temp<br />
	Exch $R0<br />
	DetailPrint &quot;$R0&quot;<br />
	Pop $R0<br />
FunctionEnd<br />
 <br />
<br />
I think the compiler should give me a error waring or a correctly result.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">saivert</div><div class="date">5th October 2004, 15:23</div></div><div class="posttext">A &quot;\&quot; at the end of line tells makensis to concatenate the next line to the line with the &quot;\&quot; at the end.<br />
<br />
Do this instead:<br />
<br />
    Function temp ;Convert &quot;\\&quot; -&gt; &quot;\&quot;<br />
    Exch $R0<br />
    DetailPrint &quot;$R0&quot;<br />
    Pop $R0<br />
    FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bluenet</div><div class="date">5th October 2004, 16:28</div></div><div class="posttext">Oh my god, I use ; to comment the \, but why ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th October 2004, 18:42</div></div><div class="posttext">You still haven't told us what you want to do???<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bluenet</div><div class="date">6th October 2004, 02:04</div></div><div class="posttext">Sorry for my wrong, I guess a ; before a backslash would make compiler ignore the backslash, but in fact, the next line will still effectively be concatenated the end of current line. So Exch $R0 be commented. So I guess is a bug, bu didn't.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">6th October 2004, 02:17</div></div><div class="posttext">That's a feature, not a bug. See, you can make comments like this: (I think this is correct, correct me if it's wrong)<br />
<br />
;Test \<br />
Test2 \<br />
Test3</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bluenet</div><div class="date">6th October 2004, 04:01</div></div><div class="posttext">Thanks, I known.<br />
<br />
Hi, deguix, these is a suggest for String Functions Header File. I find some string function not support double width character such as Chinese. I modified StrLoc, StrRep to improve this, would you have a look and continue develope it? The reason I wrote in file header.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th October 2004, 00:51</div></div><div class="posttext">Thanks! I'll examine your changes, test the functions, convert these to LogicLib, and include them on the next version of StrFunc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">13th October 2004, 23:07</div></div><div class="posttext">Bluenet, test the new version of StrFunc already included on NSIS. Is it working correctly now?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bluenet</div><div class="date">17th October 2004, 12:17</div></div><div class="posttext">Test some function, StrIOToNSIS and StrNSISToIO still have problem, I rewrite the two function here<br />
<br />
Function StrIOToNSIS<br />
	Exch $R0<br />
	Push $R1<br />
	Push $R2<br />
	Push $R3<br />
	Push $R4<br />
	StrLen $R2 $R0<br />
		${For} $R1 0 $R2<br />
			StrCpy $R3 $R0 2 $R1<br />
			${If} $R3 == &quot;\r&quot;<br />
				StrCpy $R4 &quot;$\r&quot;<br />
			${ElseIf} $R3 == &quot;\n&quot;<br />
				StrCpy $R4 &quot;$\n&quot;<br />
			${ElseIf} $R3 == &quot;\t&quot;<br />
				StrCpy $R4 &quot;$\t&quot;<br />
			${Else}<br />
				StrCpy $R4 &quot;&quot;<br />
			${EndIf}<br />
			${If} $R4 != &quot;&quot;<br />
				StrCpy $R3 $R0 $R1<br />
				IntOp $R1 $R1 + 2<br />
				StrCpy $R0 $R0 &quot;&quot; $R1<br />
				StrCpy $R0 &quot;$R3$R4$R0&quot;<br />
				IntOp $R2 $R2 - 1<br />
				IntOp $R1 $R1 - 2<br />
			${EndIf}<br />
		${Next}<br />
	Pop $R4<br />
	Pop $R3<br />
	Pop $R2<br />
	Pop $R1<br />
	Exch $R0<br />
FunctionEnd<br />
<br />
Function StrNSISToIO<br />
	Exch $R0<br />
	Push $R1<br />
	Push $R2<br />
	Push $R3<br />
	Push $R4<br />
	StrLen $R2 $R0<br />
		${For} $R1 0 $R2<br />
			StrCpy $R3 $R0 1 $R1<br />
			${If} $R3 == &quot;$\r&quot;<br />
				StrCpy $R4 &quot;\r&quot;<br />
			${ElseIf} $R3 == &quot;$\n&quot;<br />
				StrCpy $R4 &quot;\n&quot;<br />
			${ElseIf} $R3 == &quot;$\t&quot;<br />
				StrCpy $R4 &quot;\t&quot;<br />
			${ElseIf} $R3 == &quot;\&quot;<br />
				StrCpy $R4 &quot;\\&quot;<br />
			${Else}<br />
				StrCpy $R4 &quot;&quot;<br />
			${EndIf}<br />
			${If} $R4 != &quot;&quot;<br />
				StrCpy $R3 $R0 $R1<br />
				IntOp $R1 $R1 + 1<br />
				StrCpy $R0 $R0 &quot;&quot; $R1<br />
				StrCpy $R0 &quot;$R3$R4$R0&quot;<br />
				IntOp $R2 $R2 + 1<br />
			${EndIf}<br />
		${Next}<br />
	Pop $R4<br />
	Pop $R3<br />
	Pop $R2<br />
	Pop $R1<br />
	Exch $R0<br />
FunctionEnd<br />
<br />
Work fine!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">17th October 2004, 16:33</div></div><div class="posttext">If you warned me before of that, this fix would be already included with StrFunc. Now it will take much longer to happen. But thanks for warning me anyways, I'll be including that to the next version :).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>