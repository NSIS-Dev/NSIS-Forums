<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Append file to already created NSIS executable?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Append file to already created NSIS executable? NSIS Discussion" />
	
	<title> Append file to already created NSIS executable? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Append file to already created NSIS executable?</div>
<hr />
<div class="pda"><a href="t-316949.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316949">Append file to already created NSIS executable?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">seattledev</div><div class="date">11th February 2010, 06:49</div></div><div class="posttext">Hi all,<br />
<br />
I have tried searching everywhere and have had no luck so far.  My problem is that I create a general installer executable with NSIS that contains several megabytes worth of files and directories, then I later have to customize a file for each specific user that must be packaged in with the executable (the users are not known at the time the general executable is created).  So, I need to append this new file to the already created executable.  Because this file gets customized when the user requests the installer, it would take way too long to recreate the entire executable with this customized file.<br />
<br />
Does anyone know if it is possible to append / package a file to an already created executable?<br />
<br />
I really appreciate your help in advance!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CG!</div><div class="date">11th February 2010, 11:33</div></div><div class="posttext">if you disable the CRC check for your installer and if you put a dummy file in the script, you can open the installer with 7zip and edit it's contents.<br />
<br />
Never tryed, but should work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">11th February 2010, 15:20</div></div><div class="posttext">The wiki shows how to customize installers by adding some data to the installer after it has been compiled:<br />
<br />
http://nsis.sourceforge.net/ReadCustomerData</div></div><hr />


<div class="post"><div class="posttop"><div class="username">seattledev</div><div class="date">12th February 2010, 22:08</div></div><div class="posttext">Thanks a lot of your replies!  I'll be trying your suggestions this weekend and will let you know how it goes!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">seattledev</div><div class="date">26th February 2010, 19:50</div></div><div class="posttext">Hi all -- I've been busy with exams and projects, so I finally had some time to work on this more, and unfortunately neither of these solutions have worked for me....<br />
<br />
I tried disabling the CRCCheck (CRCCheck off) and opening the executable with 7zip, but after I modify my dummy file and 7zip tries to update the archive, it says the archive cannot be updated.  So, the dummy file never gets changed within the executable.  I don't think this has anything to do with CRCCheck because I believe CRCCheck is a runtime check.<br />
<br />
I also tried looking at the tutorial at http://nsis.sourceforge.net/ReadCustomerData , but this is not exactly what I am looking for.  ReadCustomerData is for appending data to the end of the executable, whereas I need to modify a file within the executable.  Also, ReadCustomerData only seems to demonstrate how to read the appended information without actually demonstrating how to append data to the end of the executable (which isn't what I need anyway).<br />
<br />
I'd appreciate it if you have any more suggestions!<br />
<br />
Thanks-</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">26th February 2010, 20:02</div></div><div class="posttext">How about:<br />
<br />
1) Create your installer, called nsi.exe<br />
2) Create a file.list, which contains files to install.<br />
3) This files, from what I'm reading, must be outside of nsi.exe<br />
4) Add your files in the same folder where is nsi.exe, nsi.exe will read file.list file which contains the files, which are external.<br />
<br />
easy?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">26th February 2010, 20:29</div></div><div class="posttext">I also tried looking at the tutorial at http://nsis.sourceforge.net/ReadCustomerData , but this is not exactly what I am looking forHow big is this file which you have to customize for each installer?<br />
<br />
Although the example only shows some text being added at the end of the file, you could modify the code to make your installer extract the customized file from the end of the installer and store it in the required location.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CG!</div><div class="date">26th February 2010, 21:13</div></div><div class="posttext">The file, you need to customize, isn't it in plain text?<br />
if yes, there must be a way to edit it after installation using an NSiS plugin.<br />
Or maybe one of windows APi's does what you need. Check the MSDN and the NSiS doc's for examples.<br />
Or do what i do, if the NSiS solution is more complicated then using another programing language and just use another programing language that fullfills your needs by starting it after an successfull installation.<br />
Used such a solution once to alter file dates to create a load order for some FO3 mods and to install them in an eventually existing FOMM installation.<br />
Had to alter a plain text file as well, called Archiveinvalidation.txt if another program wasn't installed. in this case, NSiS possibilities was more than enough and easy realized.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>