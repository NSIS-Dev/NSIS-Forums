<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom Messagebox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom Messagebox NSIS Discussion" />
	
	<title> Custom Messagebox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom Messagebox</div>
<hr />
<div class="pda"><a href="t-332009.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=332009">Custom Messagebox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ripper17</div><div class="date">29th June 2011, 16:49</div></div><div class="posttext">Hi all, <br />
<br />
since the messagebox plug-in has been removed (see this thread) (http://forums.winamp.com/showthread.php?t=148932&amp;page=3) (and didn't work on 64-bit systems anyway):<br />
Is there a 'new' way to make a custom messagebox?<br />
<br />
What I'm trying to do is: display a messagebox With buttons &quot;Default&quot; &quot;Custom Installation&quot; and &quot;Cancel&quot; during the MUI_PAGE_INSTFILES. <br />
<br />
What's happening is: I'm checking JAVA if the user selected one specific section in my installer, if it's not installed, I'll install it (yes, JAVA is included in my installer) but want to ask the user if (s)he wants to do a silent (=Default) installation of JAVA, or a customized one.<br />
<br />
I've got the same situation later with MySQL, where the options are &quot;Default&quot;, &quot;Default, but change root PW&quot; and &quot;Custom&quot;. <br />
<br />
Does anybody know of a good way to do this during MUI_PAGE_INSTFILES or will I have to create another two custom pages in my installer with radio-buttons?<br />
<br />
Best<br />
<br />
Martin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">29th June 2011, 20:27</div></div><div class="posttext">i never had any problems using the messagebox plugin on 64-bit systems. however, if you prefer not to use it, you could fake some messageboxes using nswindows (http://forums.winamp.com/showthread.php?t=30443).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">29th June 2011, 21:12</div></div><div class="posttext">You're missing a trailing 1 in your link.<br />
http://forums.winamp.com/showthread.php?t=304431</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ripper17</div><div class="date">30th June 2011, 14:02</div></div><div class="posttext">OK, I should have been more precise: The messagebox plug-in is not working in Windows Server 2008R2 64-bit, because the DLL has non-resolved dependencies (i.e. try to open the plugin DLL with DependencyWalker). The result is, that the messagebox is not displayed.<br />
<br />
Thanks for pointing out nsWindows - but unfortunately it does not work as I had expected: I'm creating a nsWindow inside of a section, which (of course) means that the nsWindow will be opened during the install-files page. Unfortunately the window closes immediately when the Instfiles page is done. I would like to have it stop the Instfiles progress and wait until the user clicks one of the buttons. Am I missing something? Is there documentation for this plugin?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">1st July 2011, 06:58</div></div><div class="posttext">Pausing installation progress is a little tricky, check this thread to grasp some ideas: http://nsis.sourceforge.net/InstFiles_Cancel_-_Allowing_a_user_to_cancel_installation_during_InstFiles<br />
<br />
If your plugin has  sources you can easily remove dependencies bby rebuilding it with static libs.<br />
Or you can supply dependencies (.dll) with your installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">1st July 2011, 08:20</div></div><div class="posttext">The messagebox plug-in is not working in Windows Server 2008R2 64-bit, because the DLL has non-resolved dependencies (i.e. try to open the plugin DLL with DependencyWalker).Dependency Walker always shows non-resolved dependencies though you might be using the 64-bit version which gives even more missing results i've found. However that wouldn't be the cause of it not working - on 64-bit platforms due to how the messagebox plug-in was compiled, it's just not DEP compatible which most 64-bit Windows versions will refuse to allow it to be properly used. That is due to some slightly over aggressive compiler optimisations which turned out to cause DEP issues ~3years after the last version of the plug-in was made. Not that that helps much now but wanted to clarify that as a final reason for why the plug-in was pulled.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">8th January 2013, 21:17</div></div><div class="posttext">it's a big joke anyway that there was even a need for an extra plugin to accomplish this. the messagebox command should've supported custom buttons years ago, especially since it has become common practise to avoid buttons labeled ok/cancel or yes/no to ensure better user interaction.<br />
<br />
http://ignorethecode.net/blog/2008/10/31/nobody-reads/<br />
http://ux.stackexchange.com/a/9960<br />
<br />
but apart from that, it always should have been clear there would be demand for custom buttons.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">8th January 2013, 21:40</div></div><div class="posttext">and that is why you're meant to create a dialog window rather than re-purposing an OS api which was meant for a specific need only. that's all a messagebox is at it's most basic way of thinking, a specific dialog window. or even better you provide a more sensible means of reporting an error.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">9th January 2013, 10:36</div></div><div class="posttext">and that is why you're meant to create a dialog window<br />
<br />
not that i need this, but out of general interest: what does this mean, using nsWindows? there's no other way provided by the OS?<br />
<br />
as i said, i'm not in need for that myself, but i always find it unfortunate when i have to blow up my installer size with extra plugins (and yes, i'm aware that for most people an extra 5kb means nothing)<br />
<br />
i just think that such a basic feature should be core functionality, but well, with the current state of nsis that would probably mean that users have to wait years to get such a new feature (if there'll ever be a new version)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">9th January 2013, 11:19</div></div><div class="posttext">The MessageBox instruction just uses the MessageBox API in Windows...<br />
<br />
You could also try http://nsis.sourceforge.net/DlgHost_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">9th January 2013, 21:13</div></div><div class="posttext">same problem as nsWindows though, wouldn't work onInit iirc</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">9th January 2013, 22:11</div></div><div class="posttext">Well, you are not really supposed to display UI in .oninit, use .onguiint or the show callback of your first page.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>