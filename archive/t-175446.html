<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Way to include path in clients while installing server., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Way to include path in clients while installing server. NSIS Discussion" />
	
	<title> Way to include path in clients while installing server. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Way to include path in clients while installing server.</div>
<hr />
<div class="pda"><a href="t-175446.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=175446">Way to include path in clients while installing server.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">scully13</div><div class="date">5th April 2004, 19:06</div></div><div class="posttext">I have a product that installs a server with some data that the clients access. The client files are installed at the same time the server is set up. The clients need to have an HTTP path embedded in them somehow so that when a user downloads the client it will point back to the server. I'll be asking the user for the URL during the server install but I don't want to have to ask the clients. So, are any of the ideas below possible? Also, if somebody has any other ideas of how to do this...<br />
<br />
A. Have the client installs prebuilt and then append a URL to the end of the file during the serer install that NSIS would read whenever a client installs.<br />
<br />
B. Have the client install script created during the server install and then also compile that script so that it will already have the URL in it when it's built. If yes, would it be legal to distribute parts of NSIS to do this and which files would I need?<br />
<br />
C. Build the client install with a bogus URL that could be modified during the server install.<br />
<br />
Thanks,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">5th April 2004, 19:19</div></div><div class="posttext">A is possible if you append data to the end so it won't make the installer verification fail (unless you have recompiled NSIS to make installer verification very strict). You can read the data using script code.<br />
<br />
B is possible too and legal. You only need the makensis compiler and plug-in/header files you are using.<br />
<br />
A is faster than B, B is useful if you want to change other things too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">scully13</div><div class="date">5th April 2004, 20:46</div></div><div class="posttext">Ok, I wrote a script to write the URL to the end of my client install. Something like:<br />
  FileOpen $0 C:\Temp\setup32.exe a<br />
  FileSeek $0 0 END<br />
  FileWrite $0 &quot;$\r$\nhttp://www.something.com/data$\r$\n&quot;<br />
  FileClose $0<br />
Now, I'm trying to read it in but the only way I can get that to work is if I know exactly how long the URL is which I won't have any way of knowing:<br />
  FileOpen $0 C:\Temp\setup32.exe r<br />
  FileSeek $0 -42 END<br />
  FileRead $0 $1<br />
  FileClose $0<br />
  MessageBox MB_OK &quot;$1&quot;<br />
How can I modify the code above to seek to the last line?<br />
<br />
Thanks,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">5th April 2004, 22:57</div></div><div class="posttext">Reserve a certain space for the URL and fill the rest of it with null characters.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>