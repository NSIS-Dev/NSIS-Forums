<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" LockWindow on/off, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  LockWindow on/off NSIS Discussion" />
	
	<title> LockWindow on/off [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  LockWindow on/off</div>
<hr />
<div class="pda"><a href="t-192545.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=192545">LockWindow on/off</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">5th September 2004, 15:57</div></div><div class="posttext">what does this settings do?<br />
it's not explained in the docs, but used in modern ui (e.g. system.nsh on line 1147).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th September 2004, 16:21</div></div><div class="posttext">Perhaps it makes the installation window 'on top' at all times (so other programs cannot hide the window).<br />
<br />
Try the setting and see what happens.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">5th September 2004, 17:54</div></div><div class="posttext">E.2.2.1 Changes from 1.98<br />
<br />
New commands: [...] LockWindow, [...] SetCompressionLevel [...].Both of them aren't on documentation, used hiddenly by NSIS and naturaly syntax highlighted by HM NIS Edit.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">6th September 2004, 02:56</div></div><div class="posttext">well nsis is open source so just check the src if u want to know what it does (btw, it sends the WM_SETREDRAW msg to the main window)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">6th September 2004, 15:00</div></div><div class="posttext">well nsis is open source so just check the src if u want to know what it does (btw, it sends the WM_SETREDRAW msg to the main window)<br />
the fact that the source is distributed to everyone, doesn't mean, it's READABLE for everyone ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st March 2005, 17:31</div></div><div class="posttext">Sorry for bringing up an old post, but I need to explain the use of the commands (which still aren't on the docs):<br />
<br />
LockWindow on|off:<br />
<br />
LockWindow &quot;on&quot; makes the window not to redraw itself from specified commands sent by user, like showing the window. When LockWindow &quot;off&quot; is used, all controls that weren't redrawn since LockWindow &quot;on&quot; will be redrawn. This makes the pages flickering look nicer because now it flickers a group of controls at the same time, instead of one control at a time. The individual control flickering is more noticiable on older computers...<br />
<br />
SetCompressionLevel level_0-9:<br />
<br />
Sets the individual files compression level. Supported by zlib and bzip2 compression methods. The lesser the compression, the faster the compilation will be, but the bigger the installer is. 0 is the minimum (no compression) and 9 is the maximum (maximum compression). Default is 9.<br />
<br />
This command is special because it can be used anywhere (outside or inside Sections or Functions) for zlib.<br />
<br />
For bzip2 compression method, it can only be used 1 time for all files to be compressed but you still can use more than 1 time before including files to installer data.<br />
<br />
This command affects commands that include files to the installer data (File, ReserveFile, DLL calls...).<br />
<br />
Some files gain size by the compression (they're already compressed). With this, they can be ignored for the smallest size possible, without affecting other files that are take advantage of the compression, and making the speed of the compilation and installation faster.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st March 2005, 17:49</div></div><div class="posttext">Thanks deguix. I can't find ${NSIS_VERSION} in there either.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st March 2005, 21:15</div></div><div class="posttext">Thanks deguix. I can't find ${NSIS_VERSION} in there either.If anyone wants to know ALL the other defines the NSIS already defines on start besides those mentioned in docs, just look at the file &quot;Source\exehead\config.h&quot;. There are already explainations for them.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd March 2005, 18:31</div></div><div class="posttext">SetCompressionLevel doesn't currently do anything.<br />
<br />
I've added a slightly modified version of deguix's LockWindow description. I've already forgotten why I didn't want to add it to the documentation and it probably wasn't that good of a reason anyway.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd March 2005, 23:36</div></div><div class="posttext">SetCompressionLevel doesn't currently do anything.Hmmmm... I doubt it. Maybe it doesn't do all the things it should do (I didn't think of this before). I've been testing it more and it works only for the levels 0 and 1.<br />
<br />
Try this attachment below (just change the &quot;File&quot; lines to real files). You'll see that the one that follows 'SetCompressionLevel 1' compresses, but the second one followed by 'SetCompressionLevel 0' doesn't. The last 'SetCompressionLevel 1' compresses the rest of the installer data (not only files).<br />
<br />
So this is actually useful. The command just needs improved more to actually support levels 2-9 (which are the same as 1).<br />
<br />
Tested with NSIS 2.06 (no updates).<br />
WinXP SP2 w/ all updates available.<br />
<br />
--------------------------------------------<br />
<br />
Maybe I should create a new description for it after this discovery :D (logically, thinking on the future of this command):<br />
<br />
SetCompressionLevel level_0-9<br />
<br />
Sets the installer data compression level. Supported by zlib and bzip2 compression methods. Bzip2 compression only supports the use of this command 1 time in the script. The lesser the compression, the faster the compilation will be, but the bigger the installer is. 0 is no compression, 9 is the best compression.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">24th March 2005, 00:28</div></div><div class="posttext">Wow, I discovered another NSIS command, but this one doesn't look too useful:<br />
<br />
Nop<br />
<br />
  Makes relative jumps to be reduced 1 line. For else, it doesn't do anything. Cannot be used outside of Functions or Sections.<br />
<br />
Example:<br />
<br />
  Goto +3<br />
  MessageBox MB_OK &quot;This message box will not appear.&quot;<br />
  Nop<br />
  MessageBox MB_OK &quot;This message box will appear.&quot;Yep! Nop! :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">24th March 2005, 01:25</div></div><div class="posttext">mmm Null OPeration, now that is a bit of the asm style of nsis showing through :)<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th March 2005, 15:37</div></div><div class="posttext">Ok, so SetCompressionLevel 0 works. But it still doesn't do what it's supposed to do. If you want to disable compression, just use SetCompress off. It'll be faster too.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>