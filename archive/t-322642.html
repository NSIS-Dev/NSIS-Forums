<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Call DetailPrint while in EXECWAIT, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Call DetailPrint while in EXECWAIT NSIS Discussion" />
	
	<title> Call DetailPrint while in EXECWAIT [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Call DetailPrint while in EXECWAIT</div>
<hr />
<div class="pda"><a href="t-322642.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=322642">Call DetailPrint while in EXECWAIT</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">htome</div><div class="date">22nd September 2010, 20:17</div></div><div class="posttext">Hi there,<br />
<br />
Is it possible to update the UI while inside a EXECWAIT?<br />
<br />
I am installing a quite large application that doesn't give any feedback and I can't use &quot;EXEC&quot; as it is to difficult to verify if the large application was installed successfully. <br />
<br />
So my best option is to call EXECWAIT and rotate some text using DetailPrint but not sure how to do it.<br />
<br />
I tried by setting a timer right before I call EXECWAIT<br />
<br />
${NSD_CreateTimer} OnRotateText 10<br />
<br />
but my function is never called. <br />
<br />
I am not sure if using nsExec or ExecDos will help... I haven't tried though...<br />
<br />
Any suggestions?<br />
<br />
Many thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">22nd September 2010, 20:45</div></div><div class="posttext">I don't think you can use the NSD timer within InstFiles (as there's no dialog kicking the timer off) - but putting it on its own page wouldn't do you any good either... It looks like ExecWait blocks those timers.<br />
<br />
As far as feedback goes.. why not DetailPrint something that tells the user that this could take a while, and then try changing the progressbar to a marquee style progressbar? ( the kind that loops around).. then change back once the execwait is done.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">22nd September 2010, 21:01</div></div><div class="posttext">There's also some banner plugins that you could use that would have a similar effect.<br />
<br />
Just to get back to your actual desire, though... there is of course one other option... create a wrapper installer that executes that large installer.  That wrapper installer uses ExecWait so that it can get the large installer's exit code and check for successful installation.  It, then, writes this out somewhere... to a file, to the registry.. whatever.<br />
<br />
Then in your main installer, call -that- installer using Exec so that you're not waiting for it... and instead 'wait' by creating a loop that checks for that result (file/registry) value, does a little pause, and uses DetailPrint or whatever you want to let the user know the installer is still working, and simply waiting.<br />
<br />
Nasty.. but should work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">htome</div><div class="date">22nd September 2010, 21:29</div></div><div class="posttext">I liked the idea of a second NSIS installer for the large install.<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">22nd September 2010, 21:41</div></div><div class="posttext">keep in mind that if you use a file, the wrapper installer can't write entire tomes of information away.. otherwise the main installer might start reading the file while the wrapper is still writing to it (race condition... might try locking the file, I guess).. keep things as simple as possible :)<br />
<br />
( I'm getting the feeling there's a better solution that I know about, but can't bring to the front of my mind right now )</div></div><hr />


<div class="post"><div class="posttop"><div class="username">htome</div><div class="date">22nd September 2010, 22:20</div></div><div class="posttext">I decided to use a registry value<br />
thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">23rd September 2010, 07:24</div></div><div class="posttext">Why not use the ExecDos plugin as you suggested in ASYNC mode?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">htome</div><div class="date">23rd September 2010, 17:50</div></div><div class="posttext">ExecDos is the winner! <br />
It worked perfectly!<br />
Thanks everyone!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>