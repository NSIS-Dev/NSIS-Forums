<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Allow user to cancel during install?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Allow user to cancel during install? NSIS Discussion" />
	
	<title> Allow user to cancel during install? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Allow user to cancel during install?</div>
<hr />
<div class="pda"><a href="t-160626.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=160626">Allow user to cancel during install?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Wasteland</div><div class="date">18th December 2003, 20:49</div></div><div class="posttext">Once the installer has started copying files, it seems the cancel button becomes disabled, and it does not let a user cancel the install unless something goes wrong (in which case it displays an error and enables the cancel button).  Is there some way I can tell NSIS to always have the cancel button enabled?  If I just send the windows message to enable the button, is the installer going to function correctly (i.e. stop if a user hits cancel), or does it expect the cancel button to stay disabled?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th December 2003, 21:01</div></div><div class="posttext">You can't enable the cancel button yet. It was originally planned for v2 but it looks like it will have to wait for 2.1. Enabling it manually will not work as you expect it, you shouldn't do that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wasteland</div><div class="date">18th December 2003, 21:08</div></div><div class="posttext">Well... it seems all of the functionality is there for what I want to do (i.e. if the installer gets an error copying files, it exits out gracefully), it seems like it would be trivial for a user to trigger this condition... but okay, I'll wait and see if you get the feature in before our game ships.<br />
<br />
Thanks for the quick response!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th December 2003, 21:13</div></div><div class="posttext">Well, there are still some issues with it such as stopping plug-ins, stopping executed programs and not leaving partially installed applications behind.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wasteland</div><div class="date">18th December 2003, 21:54</div></div><div class="posttext">Well, for stopping Plugins, that's the purpose of the .onUserAbort thing, right?<br />
<br />
And leaving partially installed applications behind is the expected behavior of canceling an install... in fact I think it might be the desired behavior, depending on the situation.<br />
<br />
But, okay, I'll just keep on the lookout for when the feature is in...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th December 2003, 22:03</div></div><div class="posttext">Originally posted by Wasteland <br />
Well, for stopping Plugins, that's the purpose of the .onUserAbort thing, right?<br />
<br />
Not exactly. NSIS is not thread safe when it comes to scripting, it can't execute two scripts on the same time. So we can't execute .onUserAbort if a plug-in is already running. The plug-in will probably need to subclass and figure out if the user clicked the cancel button on its own. It'll probably be a opt-in option for plug-ins.<br />
<br />
We'll cross all those bridges when we get to them, currently we have NSIS 2 to release first :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">oborstad</div><div class="date">9th March 2006, 17:57</div></div><div class="posttext">So, now that 2.0 is out :)  any word on canceling during file extraction?  I have a plug-in that decompresses files and I'm decompressing close to 3 gig of data... I would like to put a cancel option in if possible without having to resort to something like what the realprogress plugin does (for the progress bar) and hijack or mimick the cancel button...<br />
<br />
    Owen.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">9th March 2006, 17:59</div></div><div class="posttext">No. But there's this:<br />
<br />
http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1219437&amp;group_id=22049&amp;atid=373087</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>