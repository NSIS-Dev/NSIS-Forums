<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Possible bug in GetFullPathname, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Possible bug in GetFullPathname NSIS Discussion" />
	
	<title> Possible bug in GetFullPathname [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Possible bug in GetFullPathname</div>
<hr />
<div class="pda"><a href="t-181447.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=181447">Possible bug in GetFullPathname</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">hlogmans</div><div class="date">28th May 2004, 11:36</div></div><div class="posttext">Hi all,<br />
<br />
I seem to have a problem on win98 with the function GetFullpathname. If i add a filename that does not exist, it returns an empty string. This is different than what is mentioned in the help:<br />
<br />
Assign to the user variable $x, the full path of the file specified. If the path portion of the parameter is not found, the error flag will be set and $x will be empty. If /SHORT is specified, the path is converted to the short filename form.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th May 2004, 11:42</div></div><div class="posttext">As you quoted yourself:$x will be emptyWhat's the problem?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hlogmans</div><div class="date">28th May 2004, 12:08</div></div><div class="posttext">Originally posted by kichik <br />
As you quoted yourself:What's the problem?  <br />
<br />
The path is empty even if the path exists. The function DOES return the path if i omit the file-part. The help states that only the path needs to exist. I use if for the DLL upgrade macro to get a short path to a file, but now i need to remove the file-portion first.<br />
<br />
Thanks for the quick reply!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">28th May 2004, 14:25</div></div><div class="posttext">Well, maybe this is not your awnser, but the GetFullPathName is the same as msdn's (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/fileio/base/getfullpathname.asp).<br />
You'll need some files installed, they call them Microsoft Layer for Unicode on Windows 95/98/Me Systems.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th May 2004, 14:59</div></div><div class="posttext">I'll try to find out what the documentation is referring to.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">28th May 2004, 22:32</div></div><div class="posttext">The function DOES return the path if i omit the file-part.Maybe he is trying to say something I said in a recent post (if you didn't read it), GetFullPathName doesn't return totally the full name. Example:<br />
<br />
&quot;C:\PROGRA~1\COMMON~1&quot;<br />
<br />
Will return<br />
<br />
&quot;C:\PROGRA~1\Common Files&quot;<br />
<br />
And the Windows original GetFullPathName does return the correct folder name.<br />
<br />
The bug is in front of you now, kichik. Just say when it's fixed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hlogmans</div><div class="date">31st May 2004, 19:38</div></div><div class="posttext">Originally posted by Lobo Lunar <br />
Well, maybe this is not your awnser, but the GetFullPathName is the same as msdn's (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/fileio/base/getfullpathname.asp). <br />
<br />
This link resolves it: msdn states the FILE must exist (a folder is a file). So it fails if the file does not exist, which is exactly what happened. So my conclusion is that the helpitem is not entirely true, or just confusing. It tries to say the same, but it isn't. The helpfile makes you believe you can get the fullpathname of a theoretically existing file if the destination folder exists (which is true for the updatedll macro), but this is obviousely not true.<br />
<br />
Maybe it won't be a bad idea at all to include links to the MSDN pages in the helpdocs if those functions are used (on the other side, who wants to write docs at all... If i suggest this, i probably would get 50 invitations to help write the docs :) ).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>