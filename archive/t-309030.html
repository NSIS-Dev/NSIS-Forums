<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Listing of files that are installed by NSIS installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Listing of files that are installed by NSIS installer NSIS Discussion" />
	
	<title> Listing of files that are installed by NSIS installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Listing of files that are installed by NSIS installer</div>
<hr />
<div class="pda"><a href="t-309030.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=309030">Listing of files that are installed by NSIS installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Sil0x0000</div><div class="date">29th July 2009, 11:24</div></div><div class="posttext">Hello Everyone,<br />
<br />
Is it (easily) possible to create a text file with a complete list of all files that are installed during the installation. (separated by a new line, or /0) I use an NSIS installer with no optional components which means that the list can also be created at compile time. I use the file command to at files to my sections, this also includes the use of wild cards. In some case i rename the files using the /oname option.<br />
<br />
Thanx in advance!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">29th July 2009, 12:09</div></div><div class="posttext">Creating at compile time is your best option. You can write an NSIS executable to do it or some other executable and run it with !system.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sil0x0000</div><div class="date">29th July 2009, 12:21</div></div><div class="posttext">Thanx for your reply<br />
<br />
Originally posted by Afrow UK <br />
Creating at compile time is your best option. You can write an NSIS executable to do it or some other executable and run it with !system.<br />
<br />
Stu  <br />
<br />
Thats a pretty harsh way because then i have to parse the nsis file myself. I also only want to have one file containing all the entries other wise i have a double administration. <br />
<br />
Are there hook functions that are called for every file that is added? Like the onInit<br />
<br />
Thanx again</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">29th July 2009, 12:34</div></div><div class="posttext">There is no callback for extracting a file I'm afraid. You could add one though and rebuild NSIS.<br />
<br />
You haven't actually explained what you want to achieve by creating this list. If it's for use on the end users' machine then what is wrong with generating at compile time before including it in the installer?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sil0x0000</div><div class="date">29th July 2009, 13:20</div></div><div class="posttext">Originally posted by Afrow UK <br />
You haven't actually explained what you want to achieve by creating this list. If it's for use on the end users' machine then what is wrong with generating at compile time before including it in the installer?<br />
[/B] <br />
<br />
The file is needed at runtime to run some important verification checks. Creating this list at compile time before the installer runs is quiet hard due to the fact that the files are not in the same directory structure as they will be on the end users machine. So doing recursive listing isn't the option. Keeping a list of files getting installed is a bit of redundancy. Parsing the nsis file isn't that easy.<br />
<br />
Can the nsis installer create a log file of the installed files? I might use that to solve my problem...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th July 2009, 00:32</div></div><div class="posttext">You have the logging special build (http://nsis.sf.net/Special_Builds) which you could parse or you could use the DumpLog function (http://nsis.sf.net/Dump_log_to_file) or DumpLog plugin (http://nsis.sf.net/DumpLog_plug-in) to save the log window output to a file after installation.<br />
<br />
Both methods will contain stuff you don't need but it's a start. Maybe you could write an executable to parse the logs and generate your file with a format of choice which you run at the end of installation.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sil0x0000</div><div class="date">30th July 2009, 08:33</div></div><div class="posttext">I was hoping this was not needed but i guess there is no other solution...<br />
<br />
Thanx for thinking with meh.<br />
<br />
Greetz Xander</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>