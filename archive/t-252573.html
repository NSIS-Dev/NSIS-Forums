<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" PassDialog: is it possible to change its behaviour?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  PassDialog: is it possible to change its behaviour? NSIS Discussion" />
	
	<title> PassDialog: is it possible to change its behaviour? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  PassDialog: is it possible to change its behaviour?</div>
<hr />
<div class="pda"><a href="t-252573.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=252573">PassDialog: is it possible to change its behaviour?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pedroac</div><div class="date">3rd August 2006, 16:21</div></div><div class="posttext">Hello everybody<br />
<br />
From my experience with PassDialog (using a PassDialog::InitDialog, with username and password authentication), I realized that it automatically erases user's password once he/she clicks on next; can I decide when to erase it / or even make it not disappear at all?<br />
<br />
Second question: is it possible to give focus to the username field once the user enters the auth page?<br />
<br />
Thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd August 2006, 16:27</div></div><div class="posttext">1. Use the /USERTEXT and /PASSTEXT parameters with variables that will store the username and password.<br />
2. System::Call &quot;user32::SetFocus(i $R0, i 0x0007, i,i)i&quot;<br />
where $R0 is the HWND of the box.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pedroac</div><div class="date">3rd August 2006, 16:47</div></div><div class="posttext">Still with problems...<br />
<br />
I am using this code to make the auth dialog appear:<br />
<br />
Function UserPassPageShow<br />
 <br />
  !insertmacro MUI_HEADER_TEXT &quot;$(msg_auth_enter)&quot; &quot;$(msg_auth_enter_to_continue).&quot;<br />
<br />
  PassDialog::InitDialog /NOUNLOAD UserPass /HEADINGTEXT $(msg_auth_enter_to_continue2) \ <br />
  /GROUPTEXT $(msg_auth) /USERTEXT $(msg_auth_username) &quot;$R6&quot; /PASSTEXT $(msg_auth_passwd) &quot;$R7&quot;<br />
  Pop $R0 # Page HWND<br />
    <br />
  ## Control ID's<br />
  !define IDC_USERNAME 1215<br />
  !define IDC_PASSWORD 1214<br />
<br />
  GetDlgItem $R1 $R0 ${IDC_USERNAME}<br />
  SetCtlColors $R1 0x000000 0xFFFFFF<br />
  GetDlgItem $R1 $R0 ${IDC_PASSWORD}<br />
  SetCtlColors $R1 0x000000 0xFFFFFF<br />
<br />
System::Call &quot;user32::SetFocus(i $R0, i 0x0007, i,i)i&quot;  <br />
  PassDialog::Show<br />
System::Call &quot;user32::SetFocus(i $R0, i 0x0007, i,i)i&quot;<br />
<br />
FunctionEnd<br />
 <br />
<br />
and I use this<br />
 <br />
Function UserPassPageLeave    <br />
    ## Pop password &amp; username from stack<br />
    Pop $R6<br />
    Pop $R7<br />
    (...)<br />
FunctionEnd<br />
 <br />
<br />
to get username/password and validate them.<br />
<br />
Using the solutions you gave, I noticed no difference: <br />
-the username doesn't get focus on the first time the user accesses auth dialog<br />
-the password is being erased when I return to the auth dialog<br />
<br />
Am I doing something wrong?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd August 2006, 17:02</div></div><div class="posttext">The password will still be cleared when you call Abort in the Leave function. This is by design.<br />
I told you that $R0 in the SetFocus call needed to contain the HWND of the username box.<br />
See attached script.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pedroac</div><div class="date">3rd August 2006, 17:14</div></div><div class="posttext">That example had everything i wanted, except for the erase password feature.<br />
<br />
Thanks a lot!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>