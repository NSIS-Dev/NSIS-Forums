<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Web file install possible?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Web file install possible? NSIS Discussion" />
	
	<title> Web file install possible? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Web file install possible?</div>
<hr />
<div class="pda"><a href="t-187168.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=187168">Web file install possible?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">markusha</div><div class="date">20th July 2004, 08:22</div></div><div class="posttext">Hi,<br />
<br />
Is the following scenario possible to author using NSIS?<br />
<br />
User starts an update wizard which first lists available<br />
servers. User selects a server and wizard lists available<br />
files. User selects files to be downloaded from the server<br />
and wizard finishes after that.<br />
<br />
Markus</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">20th July 2004, 14:54</div></div><div class="posttext">Yes, it is possible with the combination of NSISdl and InstallOptions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">markusha</div><div class="date">20th July 2004, 17:22</div></div><div class="posttext">Thanks for pointing me to right direction. However, after getting to know InstallOptions I don't think it is very suitable for my purpose. <br />
<br />
Offering the list of download servers in a listbox still works but I cannot come up with a way to show the available files in a list so that user can select them (preferably using check boxes) and then install them. Can I create the list of components dynamically for MUI_PAGE_COMPONENTS page? That page pretty much has the functionality but the list of files will be generated dynamically, on the fly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">20th July 2004, 17:33</div></div><div class="posttext">Oh, the TreeView control... I'm trying to add this control to InstallOptionsEx (see the thread with the same name) but it's not available now. I'm doing other changes to this plugin, so it will not be available soon.<br />
<br />
However I would suggest to do that using the combination of DropList and ListBox. You could select a directory in DropList and files in ListBox.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">20th July 2004, 21:31</div></div><div class="posttext">You can dynamically generate the list of files using a combination of FindFirst and calling SendMessage to the listbox control on your IO page.  Send the LB_ADDSTRING message with the text to be added. The syntax for this message is documented on MSDN.<br />
<br />
I have used this technique with great success to circumvent the default NSIS restriction of 1024 characters for the LISTITEMS field in the IO ini file.<br />
(I did not want to download a special build or recompile NSIS.)<br />
This allows me to add as many items to a listbox using Windows API.<br />
<br />
<br />
In your case the list of files seems to come from a remote server.<br />
What protocol are you using to get the files?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">markusha</div><div class="date">21st July 2004, 05:58</div></div><div class="posttext">Originally posted by iceman_k <br />
<br />
<br />
In your case the list of files seems to come from a remote server.<br />
What protocol are you using to get the files?<br />
  <br />
Thx for the tip! I will look into it later. I figure that I first use NSISdl to download a text file containing the file names and then parse the file names to InstallOptions page. It is not going to be easy since I am a newbie in NSIS but this is fun to try at least.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">21st July 2004, 14:17</div></div><div class="posttext">One more tip would be to use the Windows LB_XXXX messages to get the selected items from the listbox.<br />
If it is just a few items you can get it from the STATE field in the IO ini file, but that again has a limit of 1024 characters in the default NSIS build.<br />
If you need some help with this I can  perhaps upload a simple example illustrating these techniques.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">markusha</div><div class="date">21st July 2004, 15:00</div></div><div class="posttext">Originally posted by iceman_k <br />
One more tip would be to use the Windows LB_XXXX messages to get the selected items from the listbox.<br />
If it is just a few items you can get it from the STATE field in the IO ini file, but that again has a limit of 1024 characters in the default NSIS build.<br />
If you need some help with this I can  perhaps upload a simple example illustrating these techniques.  <br />
No, thank you. I am leaning towards custom built MFC app that will do all that and more with great ease.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>