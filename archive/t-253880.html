<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Trouble with specifying file, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Trouble with specifying file NSIS Discussion" />
	
	<title> Trouble with specifying file [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Trouble with specifying file</div>
<hr />
<div class="pda"><a href="t-253880.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=253880">Trouble with specifying file</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">nervous pervous</div><div class="date">23rd August 2006, 03:02</div></div><div class="posttext">Is it possible to use absolute file names with the File command? I'm doing the following in the main section of the script:<br />
<br />
StrCpy $R0 &quot;$TEMP\Sample&quot;<br />
CreateDirectory &quot;$R0&quot;<br />
SetOutPath &quot;$R0&quot;<br />
<br />
File &quot;/oname=\bin\DLLs\mydll.dll&quot; &quot;C:\dev\SomeDirectory\bin\DLLs\mydll.dll&quot;It compiles fine and I'm pretty sure the files are being found because the exe size is large. However, when I run the setup the files are not extracted. The documentation on this command is very brief, so am I missing some crucial point?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">23rd August 2006, 03:57</div></div><div class="posttext">This line:<br />
&quot;/oname=\bin\DLLs\mydll.dll&quot;<br />
is not specifying an absolute path, so the file is being extracted, but you don't know where. Specifying an absolute path like:<br />
<br />
File &quot;/oname=$R0\bin\DLLs\mydll.dll&quot; &quot;mine.dll&quot;<br />
or<br />
File &quot;/oname=$INSTDIR\bin\DLLs\mydll.dll&quot; &quot;mine.dll&quot;<br />
<br />
should extract the file to where you want it.<br />
<br />
 Forgot to add the end onto the post.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nervous pervous</div><div class="date">23rd August 2006, 04:14</div></div><div class="posttext">Sorry for the confusion, I meant specifying an absolute path as the source file.<br />
<br />
I didn't think I have to specify an absolute path for the destination file. The documentation said that it will create the file as $OUTDIR\$X where /oname=$X. And I am setting the output path correctly.<br />
<br />
I tried removing the /oname option and my files are extracted to the Sample directory. So it seems like I am misusing this option. One guess is that the /oname option does not create the directory structure for you, and that I have to create it manually. Can somebody verify if this is true?<br />
<br />
I will try your suggestion and simply specify the absolute path for the /oname option as well.<br />
<br />
Thanks for the help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">23rd August 2006, 05:27</div></div><div class="posttext">I had to test some of the things to determing the real behavior.  Here is how it works:<br />
<br />
 First, /oname means output name.  It allows you to specify the output path/file name for a single file rather than having to specify SetOutPath for each file.  <br />
<br />
 When using /oname=, The part after the equal sign is the output path/file name.  In your first example, you were specifying the output as the relative path.  (probably where the confusion started.)<br />
<br />
 /oname option DOES NOT create the directory structure.  You'll have to make a call to CreateDirectory first.<br />
<br />
  It's always better to specify an absolute path when extracting, but relatives paths will work find for the source file names.<br />
<br />
  You can use SetOutPath followed by a regular file command to accomplish the same thing the /oname switch.  For example, this:<br />
File &quot;/oname=C:\temp\foo.exe&quot;<br />
is exactly the same as this:<br />
SetOutPath &quot;C:\temp&quot;<br />
File &quot;foo.exe&quot;<br />
 <br />
Personally, I prefer the long way as it gives more control and allows more files to be added to a single directory.  Plus, adding more files to the list later is much easier. But either way will work.<br />
 <br />
Hope this helps clear up the confusion.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nervous pervous</div><div class="date">23rd August 2006, 05:59</div></div><div class="posttext">Thanks! This is exactly the information I needed. I couldn't find this in the docs. Is it available somewhere else? IMHO, this information should be in the documentation, at least the bit about the /oname option not creating the directory structure.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>