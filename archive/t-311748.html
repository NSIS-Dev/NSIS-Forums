<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" dynamically naming the outfile (*.exe), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  dynamically naming the outfile (*.exe) NSIS Discussion" />
	
	<title> dynamically naming the outfile (*.exe) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  dynamically naming the outfile (*.exe)</div>
<hr />
<div class="pda"><a href="t-311748.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=311748">dynamically naming the outfile (*.exe)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">marcusp</div><div class="date">7th September 2009, 21:35</div></div><div class="posttext">Good evening,<br />
<br />
I'm new in NSIS so please be kind if it's something quite obvious or trivial but:<br />
I wanted to name the outfile dynamically and make it somewhat like &quot;2009_sep_07_14_13.exe&quot; so you can read more easily when the .exe was compiled.<br />
The problem: As I try to name my .exe via:<br />
&lt;code&gt;Outfile $filename&lt;/code&gt;<br />
it names the output-file exactly &quot;$filename&quot; instead what this variable is standing for.<br />
I've tried several quotations but nothing seems to work.<br />
<br />
Any suggestions how to solve or at least work-around this problem? At very least it would be enough to name the file with a spelled 3-sign-month (jan, feb, mar, ...)<br />
<br />
Thanks for any info,<br />
<br />
best regards - Marcus</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">7th September 2009, 21:48</div></div><div class="posttext">$xxx is a variable, and those only work at run time<br />
<br />
try ${__DATE__} ${__TIME__}<br />
or ${__TIMESTAMP__}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">YmerejO42</div><div class="date">8th September 2009, 02:23</div></div><div class="posttext">Here's the code that I use:<br />
<br />
; Define your application name<br />
!define APPNAME &quot;Utilities&quot;<br />
!define /date DATE &quot;%Y.%m.%d&quot;<br />
!define APPNAMEANDVERSION &quot;Utilities ${DATE}&quot;<br />
<br />
; Main Install settings<br />
Name &quot;${APPNAMEANDVERSION}&quot;<br />
InstallDir &quot;$PROGRAMFILES\Utilities&quot;<br />
InstallDirRegKey HKLM &quot;Software\${APPNAME}&quot; &quot;&quot;<br />
OutFile &quot;Installers\${APPNAMEANDVERSION}.exe&quot; <br />
<br />
Not sure if this will help, but if you read the Helpfile for the DATE options, you should find something that you can use.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">marcusp</div><div class="date">8th September 2009, 08:35</div></div><div class="posttext">Thanks for first help but the Problem is that ${__DATE__) only provides pure numerical information. So I would end up with something like 2009_09_07_13_13 ... and hell - I even won't try to read this ^^<br />
So the task is to get a letter into - replacing is no problem but putting the build string into the outfile-name is the issue I'm going down on.<br />
<br />
I read somewhere around here that outfile needs compile-time-information whereas ${__DATE__) and so forth are exceptions from this rule. Anoybody who can approve this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">8th September 2009, 08:57</div></div><div class="posttext">${xxx} are defines, and they are defined at compile time</div></div><hr />


<div class="post"><div class="posttop"><div class="username">marcusp</div><div class="date">8th September 2009, 09:30</div></div><div class="posttext">So it looks like there is no chance renaming the outfile with runtime-information?<br />
Hm.. any work-around suggestions? Could I perhaps rename the .exe after building it using NSIS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">8th September 2009, 09:33</div></div><div class="posttext">...what? Outfile is a compile-time command. Runtime information has nothing to do with the filename of your installer. You don't want to change the name of your installer.exe after the user has downloaded and run it, do you? o___O</div></div><hr />


<div class="post"><div class="posttop"><div class="username">marcusp</div><div class="date">8th September 2009, 10:24</div></div><div class="posttext">Ah, no no - of course not^^<br />
At creating the installer (not using it!) i want to name the .exe like I described because I'll have several versions of this and want to keep track of when they were created this way.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">8th September 2009, 10:42</div></div><div class="posttext">Well, that's what the DATE define is for. I don't think there's a compile command that does what StrCpy does, so if you want it in text you'll have to use renaming or other hackjob methods. You can use !system to run a bat file or exe file of your choosing.<br />
http://nsis.sourceforge.net/Docs/Chapter5.html#5.1.11<br />
<br />
(If you're not familiar with programming languages, one ugly way to create that exe is to write an NSIS &quot;installer&quot; that takes a filename from its command line and renames it to the current date in your preferred format.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">marcusp</div><div class="date">8th September 2009, 12:38</div></div><div class="posttext">Thanks for your help everyone. I'll try it as MSG said (while this method has the problem that I'd need another file to retreive this information from) or rename it by a wrapping project.<br />
<br />
Thanks again for your very fast and helpful answers!<br />
(So at least I won't try to set the Outfile-property with runtime-information and you guys helped me saving a lot of time^^)<br />
<br />
Kind regards and good luck to your projects,<br />
<br />
Marcus</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>