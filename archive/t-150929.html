<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" problem with SetOverwrite, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  problem with SetOverwrite NSIS Discussion" />
	
	<title> problem with SetOverwrite [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  problem with SetOverwrite</div>
<hr />
<div class="pda"><a href="t-150929.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=150929">problem with SetOverwrite</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">KLM</div><div class="date">30th September 2003, 10:20</div></div><div class="posttext">Hello,<br />
<br />
i need to set the overwrite-flag at runtime. I have readed in the docu (4.4 Realtive Jumps), that this is not possible, because it is a compiler-flag.<br />
<br />
I tryed a code alike this:<br />
<br />
  SetOverwrite On<br />
<br />
  ReadINIStr $R0 $7 &quot;Field 3&quot; State<br />
  StrCmp $R0 &quot;1&quot; Overwrite_Texte<br />
<br />
  SetOverwrite Off<br />
  Overwrite_Texte:<br />
<br />
<br />
What can i do ?<br />
<br />
<br />
Thank you very much for your help !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2003, 12:46</div></div><div class="posttext">You can do something such as this:<br />
<br />
StrCmp $R0 1 overwrite<br />
SetOverwrite off<br />
File ...<br />
Goto end<br />
<br />
overwrite:<br />
SetOverwrite on<br />
File ...<br />
<br />
end:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KLM</div><div class="date">30th September 2003, 13:39</div></div><div class="posttext">Hello kichik,<br />
<br />
your tip works !<br />
<br />
Why don't grow the size of the installer ?<br />
<br />
<br />
Thank you very much for your fast help !!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2003, 13:46</div></div><div class="posttext">Because NSIS has a datablock optimizer. It will not add the same file twice. It does however make the section's required size grow (the one you see on the components page and the directory page). If you want to avoid that, simply put one of the File commands in a function and call that function.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>