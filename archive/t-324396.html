<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Read dynamically uninstall Name, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Read dynamically uninstall Name NSIS Discussion" />
	
	<title> Read dynamically uninstall Name [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Read dynamically uninstall Name</div>
<hr />
<div class="pda"><a href="t-324396.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=324396">Read dynamically uninstall Name</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bostko</div><div class="date">30th November 2010, 10:24</div></div><div class="posttext">I'm reading on startup .onInit the $my_name variable and<br />
Name $pdName<br />
This works great for my installer but what if I want to use it for the uninstaller<br />
Can you tell me how exactly NSIS is generating variables for the uninstaller. Is there some way to store them on WriteUninstaller</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">30th November 2010, 15:24</div></div><div class="posttext">Do you mean the OutFile ???<br />
<br />
Because there is a difference between Name and OutFile.<br />
Name - it is just a description of installer, just some string<br />
where the OutFile is name of the .exe file written to disk<br />
WriteInstaller has nothing with them - it is a name of .exe file written to disk which is used to uninstall your application - you can name if freely</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bostko</div><div class="date">30th November 2010, 16:24</div></div><div class="posttext">All I'm saying is that it is easy to declare in the nsi head<br />
Name My Program<br />
but when it is<br />
Name $varSetOnInit<br />
It has to be variable which is set .onInit or respectively in un.onInit<br />
Is there any chance to store its value on this row<br />
WriteUninstaller $INSTDIR\uninstaller.exe not on compile time</div></div><hr />


<div class="post"><div class="posttop"><div class="username">blh83</div><div class="date">30th November 2010, 18:07</div></div><div class="posttext">This may not be what you are looking for but you can store the value in the registry.  For example, in one of my installers I have the &quot;-Post&quot; section write values out to the registry. You could also do this just before, or after, you execute the write uninstaller command.  Here's an example from my &quot;-Post&quot; section:<br />
<br />
WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} &quot;${PRODUCT_UNINST_KEY}&quot; &quot;UninstallString&quot; &quot;$INSTDIR\uninstall.exe&quot;<br />
<br />
You can then simply read this variable in the uninstaller by using ReadRegStr and either store it in a variable you created or simply store it in a stack variable and use it:<br />
<br />
ReadRegStr $0 ${PRODUCT_UNINST_ROOT_KEY} &quot;${PRODUCT_UNINST_KEY}&quot; &quot;UninstallString&quot;<br />
<br />
Now do a StrCmp on $0 to &quot;&quot; or do ${IF} $0 != &quot;&quot;.  You may also want to check the error flag (see the documentation on ReadRegStr about what the error flag will be set to).  Hope this helps.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>