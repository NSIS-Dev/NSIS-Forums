<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Best Way to rewrite the Dev-C++ installer?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Best Way to rewrite the Dev-C++ installer? NSIS Discussion" />
	
	<title> Best Way to rewrite the Dev-C++ installer? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Best Way to rewrite the Dev-C++ installer?</div>
<hr />
<div class="pda"><a href="t-305476.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305476">Best Way to rewrite the Dev-C++ installer?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Panarchy</div><div class="date">18th April 2009, 05:54</div></div><div class="posttext">Hello<br />
<br />
I am trying to make a new Dev-C++ package. The first new feature included will be updated MinGW. After that, other features can be added, but first I want to get everything working properly.<br />
<br />
So here's what needs to be done;<br />
<br />
Install the program to the Program Files directory (user interaction here, so can change if wanted).<br />
<br />
Install MinGW Libraries (this option can be deselected<br />
<br />
Create file associations<br />
<br />
Create uninstaller<br />
Here is my [incomplete] idea on the best style of writing this;<br />
<br />
<br />
!include MUI2.nsh<br />
<br />
!define PRODUCT_NAME &quot;Dev-C++&quot; <br />
!define PRODUCT_VERSION &quot;5&quot;<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_LICENSE license.txt<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
!insertmacro MUI_LANGUAGE English<br />
<br />
  WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\Dev-C++&quot; &quot;DisplayName&quot; &quot;${DISPLAY_NAME}&quot;<br />
  WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\Dev-C++&quot; &quot;UninstallString&quot; '&quot;$INSTDIR\uninstall.exe&quot;'<br />
  WriteRegDWORD HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\Dev-C++&quot; &quot;NoModify&quot; 1<br />
  WriteRegDWORD HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\Dev-C++&quot; &quot;NoRepair&quot; 1<br />
  WriteUninstaller &quot;$INSTDIR\uninstall.exe&quot;<br />
<br />
SubSectionEnd<br />
<br />
BrandingText `Installer created by Chip D. Panarchy`<br />
<br />
Section &quot;MainSection&quot; SEC01 <br />
  SetOutPath &quot;$INSTDIR&quot; <br />
  SetOverwrite ifnewer <br />
  File &quot;UNDEFINED&quot; <br />
  SetOutPath &quot;$SYSDIR&quot; <br />
  SetOutPath &quot;$SMPROGRAMS\Dev-C++\&quot; <br />
  CreateShortCut &quot;$SMPROGRAMS\Dev-C++\Dev-C++.lnk&quot; \<br />
    &quot;$PROGRAMFILES\Dev-C++\UNDEFINED&quot; <br />
SectionEnd <br />
<br />
<br />
How is it so far?<br />
<br />
Also, File &quot;UNDEFINED&quot;... does that mean it will install all files from the directory I run the script?<br />
<br />
Please tell me the best way to rewrite the .nsi script.<br />
<br />
Thanks in advance,<br />
<br />
Panarchy<br />
<br />
PS: Instead of using the original .nsi included with Dev-C++ (source) I think it best to rewrite it. As it currently seems more complicated then it should be.<br />
<br />
Here is the original .nsi: pastebin.com/f6a705da9</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Panarchy</div><div class="date">9th May 2009, 07:38</div></div><div class="posttext">Not to worry, found wxDev-C++, it's missing a few features, well not exactly missing, but replaced with wxWidgets equivalents, however it is still updated... so yeah.<br />
<br />
:eek:<br />
<br />
And not just MinGW (and wxWidgets) but it also has new icons!  :cool:  <br />
<br />
Panarchy<br />
<br />
:p</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>