<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Start Radio Buttons macro doesn't handle section groups., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Start Radio Buttons macro doesn't handle section groups. NSIS Discussion" />
	
	<title> Start Radio Buttons macro doesn't handle section groups. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Start Radio Buttons macro doesn't handle section groups.</div>
<hr />
<div class="pda"><a href="t-295823.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=295823">Start Radio Buttons macro doesn't handle section groups.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Andrew Wallo</div><div class="date">11th August 2008, 18:47</div></div><div class="posttext">Greetings everyone,<br />
<br />
I have a clear answer now to the issue that became rather cluttered on this post:<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;postid=2388180#post2388180<br />
<br />
But a less cluttered framing of the question would be:<br />
<br />
What is the effect that a SectionGroup has on the Radiobutton macros..... used in this fashion:<br />
<br />
!insertmacro StartRadioButtons $1 <br />
   !insertmacro RadioButton ${1notINgroup}<br />
   !insertmacro RadioButton ${2notINgroup}<br />
   !insertmacro RadioButton ${3InGroup}<br />
   !insertmacro RadioButton ${4InGroup}<br />
   !insertmacro RadioButton ${5InGroup}<br />
!insertmacro EndRadioButtons<br />
<br />
The simple state is that if the user clicks on the section group header in teh components page.... then ALL of the untis inside it will be marked as ON... and hence 3 will be on, but 4 will trump it, and 5 will trump 4.  <br />
<br />
The only way to fix this, is to do soemthing like this:<br />
<br />
; presuming that 3InGroup,4InGroup,5InGroup is wrapped with<br />
; a section group marker titled InGroup<br />
<br />
<br />
!insertmacro StartRadioButtons $1 <br />
   !insertmacro RadioButton ${1notINgroup}<br />
   !insertmacro RadioButton ${2notINgroup}<br />
<br />
<br />
; get flags for group section <br />
SectionGetFlags ${InGroup} $TempRadioButtonFlagsVar <br />
; test against 35 which is the setting for if a user<br />
; clicked directly onto the section group header....<br />
; the flags for the group header would be 98 if they had <br />
; clicked on a sub option under the group... <br />
; See the flags in the help index under SectionGetFlags<br />
 <br />
StrCmp $TempRadioButtonFlagsVar &quot;35&quot; 0 NextRadioButton<br />
;  if we drop in then we clear the group....<br />
IntOp $TempRadioButtonFlagsVar $TempRadioButtonFlagsVar &amp; ${SECTION_OFF} <br />
SectionSetFlags ${InGroup} $TempRadioButtonFlagsVar<br />
NextRadioButton:<br />
<br />
   !insertmacro RadioButton ${3InGroup}<br />
   !insertmacro RadioButton ${4InGroup}<br />
   !insertmacro RadioButton ${5InGroup}<br />
!insertmacro EndRadioButtons</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Andrew Wallo</div><div class="date">11th August 2008, 22:20</div></div><div class="posttext">Just so future readers understand.....<br />
<br />
StrCpy $1 <br />
insertmacro StartRadioButtons $1<br />
insertmacro   RadioButtons a,b,c,d,e,f,g, etc...<br />
insertmacro EndRadioButtons<br />
StrCmp $1<br />
<br />
Is a macro set for creating and handling mutually exclusive option selection.  And that is why having all the options under the sectiongroup being selected at the same time, was a functional error. Because presentation dictated I needed it grouped, but implmenentation of the 'event' dictated that I should only ever return $1 for a selectable option... (NOT all options together) and the way the macro list processes the flag states, the last one that is found to be selected will be returned.... so when they were all selected, the last in the group would always come back as the one clicked, even though it was the group header that received the user click.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>