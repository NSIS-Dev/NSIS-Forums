<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" how to change behaviour of back button?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  how to change behaviour of back button? NSIS Discussion" />
	
	<title> how to change behaviour of back button? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  how to change behaviour of back button?</div>
<hr />
<div class="pda"><a href="t-152004.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=152004">how to change behaviour of back button?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">psyke</div><div class="date">8th October 2003, 21:28</div></div><div class="posttext">hello. :)<br />
<br />
I am hoping that somehow, it would be possible to change the behaviour of the back button.<br />
<br />
I am using the back button (with BackButtonText=Help in the .ini file) in an InstallOptions page, as a 'Help' button.<br />
<br />
When the user clicks on 'Help' I launch a readme via execwait, but when the readme closes, the installer goes to the license page (which comes before the custom installoptions page). I know that this is the correct behaviour, because the user did press 'back' after all.<br />
<br />
But i really wish to make back button not do this, i have tried putting abort into license page, but this causes license page to be skipped when help button is pressed, it is even worse for what i want.<br />
<br />
I hope some solution is possible. (please! ;))<br />
<br />
<br />
thank you. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">psyke</div><div class="date">8th October 2003, 21:48</div></div><div class="posttext">I just wanted to say that I am checking the return value from installoptions for 'back', but i don't know what i can do when i detect 'back' was pressed to stay on the current (installoptions) page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">8th October 2003, 21:50</div></div><div class="posttext">Page custom [creator_function] [leave_function] [caption]...<br />
You can use the leave_function to detect the variable (use $0 to $9 or custom ones) given by your page, and use abort, to go back to the page. Like this:<br />
<br />
<br />
Page custom &quot;YourCustomPage&quot; &quot;Help&quot;<br />
<br />
Function Help<br />
<br />
# Return the page result to the variable $9<br />
<br />
  StrCmp $9 &quot;back&quot; 0 Continue<br />
<br />
    ExecWait &quot;Readme.txt&quot;<br />
    Abort<br />
<br />
  Continue:<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">psyke</div><div class="date">8th October 2003, 21:56</div></div><div class="posttext">Thank you deguix! :)<br />
<br />
I am testing your suggetion right now, but i thought I tried this already and it didn't work. :|<br />
<br />
According to the docs: the leave-function is called right after the user has pressed the next button and before the page is left <br />
<br />
So it sounds like the leave function is not called when 'back' is pressed. :(<br />
<br />
But i will try. :)<br />
<br />
update: It looks like the docs were right (they usually are :)) the leave function is not being called when back is pressed.)<br />
<br />
Maybe there's something I could do in the license page's pre function to skip to the next page (which would be the page I didn't want to leave in the first place, lol).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th October 2003, 22:12</div></div><div class="posttext">You best bet probably lies with this plug-in (http://forums.winamp.com/showthread.php?s=&amp;threadid=149292&amp;highlight=help+button). It will also allow the user to actually go back :)<br />
<br />
You can also just call InstallOptions again if it returned &quot;back&quot;. NSIS will only use the last button clicked and the user will have to click next or cancel eventually.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">psyke</div><div class="date">8th October 2003, 22:17</div></div><div class="posttext">Oh yes, DrO's plugin - i was going to do that kichik but for the NT4 crash. :| (I did search the forums first - yay for me. :))<br />
<br />
I am intrigued by your other option... so I could do something like:<br />
show_helppage:<br />
InstallOptions::dialog &quot;help_page.ini&quot;<br />
Pop $R9<br />
.<br />
.<br />
.<br />
StrCmp $R9 &quot;back&quot; 0<br />
  ExecWait '$PLUGINSDIR\readme.html'<br />
  Goto show_helppage<br />
.<br />
.<br />
.<br />
<br />
I will try that. :)<br />
<br />
Thank you. :)<br />
<br />
update: I tested Kichik's suggestion. Of course, it worked!! :D<br />
<br />
Kichik == life saver. (Even more than the docs.;))</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th October 2003, 22:21</div></div><div class="posttext">Yes, that should work except for the ExecWait part. An HTML file is not executable, you should use ExecShell. I would also not recommend waiting for the readme to close because that will cause the page to flicker. If you don't wait for it, the flicker will occur behind the scenes while the user is reading the readme.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">psyke</div><div class="date">8th October 2003, 22:22</div></div><div class="posttext">Of course. Thank you Kichik, I was being very hasty, I appreciate that you pointed out my mistakes. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">11th October 2003, 17:50</div></div><div class="posttext">was it a txt or html file that you were trying to show?<br />
<br />
haven't had much chance to work on the code - almost tracked down the NT issue (got it to crash at a fixed point in memory, not the hook proceedure anymore at least)<br />
<br />
i was considering adding in reading a txt/rtf file from a specified file instead of being defined in the script. may even look at getting a html file correctly displayed in the window (thinks of the trouble in coding it :D )<br />
<br />
-daz</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>