<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Picture on custom MUI, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Picture on custom MUI NSIS Discussion" />
	
	<title> Picture on custom MUI [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Picture on custom MUI</div>
<hr />
<div class="pda"><a href="t-193256.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=193256">Picture on custom MUI</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">backslashdot</div><div class="date">11th September 2004, 23:43</div></div><div class="posttext">First let me start by saying that I am very new to this.  I use VB, C++, HTML, and VBS, so I am not completely code retarded... just confused at the moment.<br />
<br />
I have gone through the different help pages, both NSIS and MUI.  There is something vital that I am missing.  I am trying to place an image into a custom page.  This is not unlike the example in the GFX.NSI.  However, I am overwhelmed, at the moment, with what appears to be all of todo involved with simply placing an image on the side.  Am I correct in assuming that the image along the left side is the branding image?  I have yet came across a diagram describing exactly what/where these things will appear on the page (understanding, of course, that some can be moved around).  I have no problem 'playing' with the different settings, but I cannot get anything, other than the HEADER image, to appear, so that I can play with it.  I get bounced at compile time with any number o messages that do not indicate, to me, what I did wrong.  For that matter, the message could just say, &quot;nope, try again&quot;.   <br />
<br />
I'm stumped.  Therefore I am risking a flogging for something that seems to be easy to everyone else.  Also, is there a 'cheat sheet' of what elements should appear in Sections and which should appear in Functions?  Eventually, I am to train some monkeys lower on the ladder than myself, so I was hoping there was a 'rule of thumb'.<br />
<br />
Thanks all!<br />
<br />
TM</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th September 2004, 13:41</div></div><div class="posttext">You can put the same elements in both Functions and Sections.<br />
<br />
As for adding a branding image:<br />
<br />
I used one in an installer a few years ago. The code might have changed now, but here's the general idea...<br />
<br />
# goes at top of script (compile time)<br />
AddBrandingImage left 150 0<br />
<br />
# put in pre function for custom page<br />
File &quot;/oname=$PLUGINSDIR\image.bmp&quot; &quot;local_image.bmp&quot;<br />
SetBrandingImage &quot;$PLUGINSDIR\image.bmp&quot;<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">backslashdot</div><div class="date">13th September 2004, 14:43</div></div><div class="posttext">I am creating an NSI file that is not only supposed to work, but serve as a functional example for others and for a quick reference for myself.  I am trying to use the basic functions all in one app.  Here is what I have, and following is the error that I get.<br />
<br />
The following is my TEMPLATE.INI file:<br />
--------------------------------------<br />
; Ini file generated by the HM NIS Edit IO designer.<br />
[Settings]<br />
NumFields=1<br />
<br />
[Field 1]<br />
Type=Bitmap<br />
Flags=RESIZETOFIT<br />
Left=18<br />
Right=126<br />
Top=14<br />
Bottom=110<br />
--------------------------------------<br />
<br />
I have renamed my image to &quot;image.bmp&quot; and placed it into the c:\Program Files\NSIS\Plugins\ directory and into the \Contrib\Graphics\ directory to cover some bases.  I will clean up later as soon as I find out what is wrong.<br />
<br />
The following is my NSI code:<br />
--------------------------------------<br />
  !include &quot;MUI.nsh&quot;<br />
  Name &quot;Demo&quot;<br />
  OutFile &quot;NSIS_Demo.exe&quot;<br />
  BrandingText &quot;Branding Test&quot;<br />
  AddBrandingImage left 150 0<br />
<br />
  !define MUI_WELCOMEPAGE_TITLE &quot;MUI_WELCOMEPAGE_TITLE&quot;<br />
  !define MUI_WELCOMEPAGE_TEXT &quot;MUI_WELCOMEPAGE_TEXT&quot;<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  Page custom Template<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
  !insertmacro MUI_PAGE_FINISH<br />
<br />
  ReserveFile &quot;Template.ini&quot;<br />
<br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
  Section &quot;Section Title&quot; SectionName<br />
    ;Section code here<br />
  SectionEnd<br />
<br />
  LangString TEXT_IO_TITLE ${LANG_ENGLISH} &quot;Langstring Title&quot;<br />
  LangString TEXT_IO_SUBTITLE ${LANG_ENGLISH} &quot;Langstring Subtitle&quot;<br />
<br />
Function .onInit<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;Template.ini&quot;<br />
FunctionEnd<br />
<br />
Function Template<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;Template.ini&quot;<br />
  File &quot;/oname=$PLUGINSDIR\image.bmp&quot; &quot;c:\Program Files\NSIS\Contrib\Graphics\image.bmp&quot;<br />
  SetBrandingImage &quot;$PLUGINSDIR\image.bmp&quot;<br />
FunctionEnd<br />
--------------------------------------<br />
ERROR<br />
--------------------------------------<br />
SetBrandingImage: <br />
Error: no branding image found in chosen UI!<br />
<br />
Can someone help with this?  I do ont understand why it cannot see the image on the UI?  Is there a labelling that I'm missing?<br />
<br />
Thanks all!<br />
TM</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th September 2004, 17:50</div></div><div class="posttext">The MUI changes the UI and therefore removes the branding image. If you put the AddBrandingImage command after the page macros, it should work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">backslashdot</div><div class="date">13th September 2004, 20:20</div></div><div class="posttext">OK... that worked... kind of.<br />
<br />
I now have a space reserved on the side for what looks to be where the image is to be displayed, just no image. When I select &lt;NEXT&gt;, the same 'gap' is present with no image.  Now... if I select &lt;BACK&gt;, the image is now there.  Selecting &lt;NEXT&gt; will, likewise, now show the image.  <br />
<br />
Any idea?<br />
<br />
Thanks,<br />
TM</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th September 2004, 21:05</div></div><div class="posttext">Well, you are setting the image after the InstallOptions call returns, which is when the second page is destroyed.<br />
<br />
Reading your original post again, it seems that branding image is not what you are looking for. You said you wanted to show a picture just in the custom page, not on all pages. For this, you have to define a image field (Type=Bitmap) and set the text value to the path of the image (Text=$PLUGINSDIR\image.bmp). Note that since $PLUGINSDIR is never the same, you should dynamically write this value (before you call MUI_INSTALLOPTIONS_DISPLAY).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>