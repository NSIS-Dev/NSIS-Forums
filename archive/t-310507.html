<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Batting 1000, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Batting 1000 NSIS Discussion" />
	
	<title> Batting 1000 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Batting 1000</div>
<hr />
<div class="pda"><a href="t-310507.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=310507">Batting 1000</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">File077</div><div class="date">22nd August 2009, 07:37</div></div><div class="posttext">I've tried everything I can think of, from welcome page custom leave functions, to Popping the language from the .onInit<br />
<br />
I am using the MUI not MUI2, and I have a custom license file for each language supported.<br />
<br />
So far I've had basically 3 results.  An empty license screen, the same language license no matter what language you select, and the license's file name in the license box.<br />
<br />
<br />
	LangString language_file ${LANG_ENGLISH} ioInstallType.txt<br />
	LangString language_file ${LANG_FRENCH} ioInstallType.txt<br />
	LicenseData $(language_file)<br />
	Page license<br />
	!insertmacro MUI_PAGE_LICENSE $(language_file)<br />
	<br />
 <br />
Shows the file name where the license belongs, I've tried quotes, no quotes, LoadLanguageFile, LangString, etc.<br />
<br />
<br />
<br />
; License data - Not exactly translated, but it shows whats needed<br />
LicenseLangString myLicenseData ${LANG_ENGLISH} &quot;..\required_files\licenses\english.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_FRENCH} 	&quot;..\required_files\licenses\french.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_GERMAN} 	&quot;..\required_files\licenses\german.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_ITALIAN} &quot;..\required_files\licenses\itialian.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_SPANISH} &quot;..\required_files\licenses\spanish.txt&quot;<br />
<br />
LicenseData $(myLicenseData)<br />
!insertmacro MUI_PAGE_LICENSE $(myLicenseData)<br />
<br />
Shows always shows the Spanish license, no matter what I select.<br />
<br />
<br />
	!define MUI_LICENSEPAGE_CHECKBOX<br />
<br />
	!if $LANGUAGE == 1033<br />
		LicenseLangString myLicenseData ${LANG_ENGLISH} &quot;required_files\licenses\english.txt&quot;<br />
		MessageBox MB_OK &quot;Setting English&quot;<br />
		LicenseData $(myLicenseData)<br />
	!endif<br />
	!if $LANGUAGE == 1036<br />
		LicenseLangString myLicenseData ${LANG_FRENCH} &quot;required_files\licenses\french.txt&quot;	<br />
		MessageBox MB_OK &quot;Setting French&quot;<br />
		LicenseData $(myLicenseData)<br />
	!else<br />
		LicenseLangString myLicenseData ${LANG_ENGLISH} &quot;required_files\licenses\english.txt&quot;<br />
<br />
		LicenseData $(myLicenseData)<br />
	!endif<br />
	<br />
	!insertmacro MUI_PAGE_LICENSE $(language_file)<br />
	<br />
 <br />
Blank screen.<br />
<br />
<br />
Please help,.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">File077</div><div class="date">22nd August 2009, 08:24</div></div><div class="posttext">I've tried what this guy said at this post:<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=216015<br />
<br />
and:<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=186730<br />
<br />
But now my English shows French and French is blank.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">22nd August 2009, 15:19</div></div><div class="posttext">I am using the MUI not MUI2, and I have a custom license file for each language supportedI've tried what this guy said at this post ... But now my English shows French and French is blankIf you are referring to my posts, here is a complete example that might help you. It offers a choice of English, French and German and displays a different licence for each.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">22nd August 2009, 15:34</div></div><div class="posttext">!define MUI_LANGDLL_ALWAYSSHOW ;you might not want this in the final installer, but use it during testing<br />
!include MUI.nsh<br />
!insertmacro MUI_RESERVEFILE_LANGDLL<br />
!insertmacro MUI_PAGE_LICENSE &quot;$(mylicense)&quot;<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_LANGUAGE &quot;English&quot; <br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
<br />
LicenseLangString mylicense ${LANG_ENGLISH} &quot;${__FILE__}&quot;<br />
LicenseLangString mylicense ${LANG_FRENCH} &quot;$%windir%\system32\eula.txt&quot;<br />
<br />
Function .onInit<br />
!insertmacro MUI_LANGDLL_DISPLAY<br />
FunctionEnd<br />
<br />
edit: pengyou beat me to it, thats what you get for coding in the reply field :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>