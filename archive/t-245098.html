<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Extract NSIS installations with 7-zip (4.40 beta and up), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Extract NSIS installations with 7-zip (4.40 beta and up) NSIS Discussion" />
	
	<title> Extract NSIS installations with 7-zip (4.40 beta and up) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Extract NSIS installations with 7-zip (4.40 beta and up)</div>
<hr />
<div class="pda"><a href="t-245098.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=245098">Extract NSIS installations with 7-zip (4.40 beta and up)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">1st May 2006, 15:04</div></div><div class="posttext">FYI:<br />
7-zip (www.7-zip.org) just released 4.40 beta which has the ability to extract files from an NSIS installation.<br />
<br />
The notes say that it exports &quot;some&quot; NSIS installations, so it must have something to do with the compression method used.  (It seems to work OK with standard NSIS LZMA compression.  Haven't tested any others.)<br />
<br />
Here's the SourceForge page for it:<br />
http://sourceforge.net/projects/sevenzip/</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ggf31416</div><div class="date">2nd May 2006, 02:16</div></div><div class="posttext">Originally posted by Comperio <br />
FYI:<br />
7-zip (www.7-zip.org) just released 4.40 beta which has the ability to extract files from an NSIS installation.<br />
<br />
The notes say that it exports &quot;some&quot; NSIS installations, so it must have something to do with the compression method used.  (It seems to work OK with standard NSIS LZMA compression.  Haven't tested any others.)<br />
<br />
Here's the SourceForge page for it:<br />
http://sourceforge.net/projects/sevenzip/  <br />
<br />
According to my tests, 7-zip can extract installers with BCJ/LZMA, LZMA and Zlib compression. Extraction from bzip2 installers don't work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ggf31416</div><div class="date">2nd May 2006, 05:58</div></div><div class="posttext">From the 7-zip Open Discussion forum, &quot;When does &quot;7-Zip&quot; support more formats ???&quot;<br />
http://sourceforge.net/forum/forum.php?thread_id=1329708&amp;forum_id=45797<br />
<br />
&quot;By: Igor Pavlov - ipavlov<br />
RE: NSIS Support  <br />
2006-05-02 00:57<br />
NSIS uses modified Deflate (zlib). 7-Zip supports it.  <br />
NSIS uses modified BZip2. 7-Zip doesn't support it now.&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">2nd May 2006, 16:35</div></div><div class="posttext">What's new:<br />
 - 7-Zip now can unpack some installers created by NSIS<br />
<br />
any details on what it does?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koopa</div><div class="date">2nd May 2006, 20:24</div></div><div class="posttext">It simply unpacks the files, wich are integrated in the installer.<br />
<br />
It is not able to decompile your installer. 7Zip users have no access to your .nsi script. ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">2nd May 2006, 20:31</div></div><div class="posttext">what about the [NSIS].nsi entry? ;) but from what someone who knows said, there's a few things which could be done to improve the script decompile. the main thing really is to allow you to access any files in the installer exe assuming it was built in one of the methods that it currently supports (seems that bzip2 installers aren't going to work at the moment ref (http://forums.winamp.com/showthread.php?postid=1922378#post1922378))<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koopa</div><div class="date">2nd May 2006, 20:32</div></div><div class="posttext">what about the [NSIS].nsi entry?  <br />
I guess it's not a valid script, or am I wrong?<br />
<br />
You have to change parts in the [NSIS].nsi, otherwise it will not compile.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">2nd May 2006, 20:47</div></div><div class="posttext">double posting<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=245098<br />
<br />
## already merged ##</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">2nd May 2006, 21:59</div></div><div class="posttext">that's what needs the tweaks so it would create a compilable [NSIS].nsi<br />
<br />
Brummelchen: already noted by the ref i did in my last post, just ran out of time to merge the two threads together like it is now ;)<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">2nd May 2006, 22:12</div></div><div class="posttext">the extracted script is not ready to work - it only shows <br />
an approximate script to get the idea behind.<br />
i have in mind that nsis compiles the script for runtime use<br />
and not for scripting base. works like aPatch or a codefusion <br />
patch where the instructions are hold inside encoded.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">2nd May 2006, 23:46</div></div><div class="posttext">all i'm going on is what kichik mentioned briefly when it was brought up that there was the [NSIS].nsi shown. i can't remember what was fully said but i'm sure he said that it's possible to improve what's decoded to get closer if not to be able to allow compiling of the script. i could be wrong so please don't hold me to it<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rxs2k5</div><div class="date">5th May 2006, 10:17</div></div><div class="posttext">well as you people know innosetup have a special unpacker to unpack installation and nicer arrange the script.<br />
<br />
7zip also does the same to zlib and lzma, where it actually made the nsi script so nicerly that using username and password can be shown so clearly. basically the unauthorised just need to use one set of access to enter the installer or just grab the files being extracted.<br />
<br />
I just really hope nsis could become a better security on this one as I see many many people using it because it is a really good installer compiler and &quot; The Way Of Art Script &quot;.<br />
<br />
Thanks for all at least bzip2 should do the job.For the time being.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">5th May 2006, 19:42</div></div><div class="posttext">lzma is cracked in simple words :(<br />
<br />
i made a test package for me with password in lzma and it <br />
was clear to read either other methods were very clear.<br />
<br />
i have my own solution now but using bzip2 is the only way <br />
for the moment.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koopa</div><div class="date">5th May 2006, 21:42</div></div><div class="posttext">i have my own solution now but using bzip2 is the only way <br />
Yep, but LZMA compression creates smaller files.<br />
<br />
I guess later 7z versions will be able to unpack bzip2 compressed installers too</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">6th May 2006, 01:00</div></div><div class="posttext">If you put plain-text passwords in your script, they can be extracted anyway. The introduction of this 7-zip feature makes no difference.<br />
<br />
The &quot;decompiled&quot; scripts are also completely useless for most purposes, it's a bit like viewing the assembly code of an application. Everything done by the preprocessor, all names, high-level logic etc. are gone. So it's not like someone could steal your complete script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">8th May 2006, 11:19</div></div><div class="posttext">If you want to be sure of security you can write an Plugin for special functions.<br />
<br />
As said before, 7Zip is not able to decompile your installer fully. 7Zip users have no access to your .nsi script. <br />
<br />
Idea: Use an uncompressed NSIS installer and pack with UPX. (which is also unpackable, but not with 7ZIP ;)<br />
<br />
* But better make a plugin if you want to be sure of security via special functions *<br />
<br />
Or, since one has the NSIS source, one can alter the code and take some measure one think are useful (e.g. reversed/scrambleblock of LZMA format). That is one of the main advantages of having Open Source!<br />
<br />
BTW <br />
- MSI is &quot;un-packable&quot; also, MS own ORCA tool helps there ;)<br />
- NSIS is an installer tool, not a protector tool</div></div><hr />


<div class="post"><div class="posttop"><div class="username">No login</div><div class="date">11th May 2006, 07:54</div></div><div class="posttext">This shouldn't surprise anyone - I routinely extract NSIS, InstallShield and MSI files before I install them as a precautionary measure.  When some ambitious developer thinks he'll disguise his installer, I use a virtual machine to make before/after snapshots to double-check, then package up the snapshot differences as a replacement for the faulty original installer.<br />
<br />
Look, it's an installer.  It's little more than a dressed-up self extracting archive.  There are legitimate reasons for end users to browse installer .exe files, and I'm glad Igor implemented NSIS support into 7-Zip as the tool I was using was quite unfriendly.  Depending on how modular his code is, I may adapt 7-Zip to support MSI and InstallShield as well.<br />
<br />
Those of you trying to disguise your installers or convince Igor to cripple 7-Zip must have little experience in computer security - no matter what you do to your installers, you can't thwart a before/after snapshot from a virtual machine.  If a user has bad intentions, this is what they'll do anyway - it doesn't matter what you do to the installer.  And if they really want your script, they'll just attach a debugger and grab it from memory, or run the installer in a full CPU emulator.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">toffo</div><div class="date">3rd October 2007, 09:52</div></div><div class="posttext">I know this is an old thread, but it may be useful for others..<br />
Normally I dont post just because I found a solution, but here I am..<br />
<br />
I want my WinAmp so stripped I can, I have a license<br />
for the Pro so I've used the full rock-on edition..<br />
extracted it with 7zip and then just used the files in<br />
the base folder..<br />
<br />
winamp.exe, dll files and then started it up..<br />
it created the ini file and such.. and I just saved my<br />
settings.. now I have a perfect working fully stripped<br />
and configured WinAmp just like I want it..<br />
<br />
and the best of all.. just copy those files to a fresh<br />
install of Windows and it works out of the box =D<br />
no need to install it..<br />
<br />
perfect for unattended windows xp ;)<br />
<br />
// Chris</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>