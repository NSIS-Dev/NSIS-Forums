<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Directory the installer is in?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Directory the installer is in? NSIS Discussion" />
	
	<title> Directory the installer is in? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Directory the installer is in?</div>
<hr />
<div class="pda"><a href="t-312721.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=312721">Directory the installer is in?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Rein Masamuri</div><div class="date">20th September 2009, 19:14</div></div><div class="posttext">Is there a way to reference the directory that the installer is in?<br />
I have my installer set up to download Y.txt, compare it with file X.txt (already in the directory the installer is in) If they're different, it will delete file X.txt and rename Y.txt to X.txt<br />
For some reason using these commands won't work:<br />
<br />
Section <br />
	Delete &quot;X.txt&quot;<br />
	Rename &quot;Y.txt&quot; &quot;X.txt&quot;<br />
	Quit<br />
SectionEnd<br />
<br />
I'm guessing that it requires the absolute directory and I don't know what that directory is because they can put it in any directory.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">820815</div><div class="date">20th September 2009, 20:24</div></div><div class="posttext">$EXEDIR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rein Masamuri</div><div class="date">20th September 2009, 22:02</div></div><div class="posttext">Well that's odd.  It's still not deleting.<br />
Is there a bug in NSIS that sometimes doesn't delete?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">21st September 2009, 00:30</div></div><div class="posttext">According to the manual you should specify the full path when using the 'Delete' command.<br />
<br />
If the file is in the same folder as the installer then you could useDelete &quot;$EXEDIR\X.txt&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rein Masamuri</div><div class="date">21st September 2009, 04:01</div></div><div class="posttext">Originally posted by pengyou <br />
According to the manual you should specify the full path when using the 'Delete' command.<br />
<br />
If the file is in the same folder as the installer then you could useDelete &quot;$EXEDIR\X.txt&quot;  <br />
That's what I had:<br />
<br />
<br />
Section &quot;complete&quot;<br />
Delete &quot;$EXEDIR\y.txt&quot;<br />
Rename &quot;$EXEDIR\x.txt&quot; &quot;$EXEDIR\y.txt&quot;<br />
Quit<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rein Masamuri</div><div class="date">22nd September 2009, 22:00</div></div><div class="posttext">I'm still unable to do the deletion/rename :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">23rd September 2009, 08:42</div></div><div class="posttext">Check whether or not you have sufficient access privileges to delete the file, or if the file is still in use by some application.<br />
<br />
Or, more basic: Add a MessageBox line to see what &quot;$EXEDIR\y.txt&quot; resolves to, and to check whether or not those code lines are even reached at all.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>