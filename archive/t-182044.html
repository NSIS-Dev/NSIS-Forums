<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" remaining temp files ($pluginsdir), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  remaining temp files ($pluginsdir) NSIS Discussion" />
	
	<title> remaining temp files ($pluginsdir) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  remaining temp files ($pluginsdir)</div>
<hr />
<div class="pda"><a href="t-182044.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=182044">remaining temp files ($pluginsdir)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">stb</div><div class="date">2nd June 2004, 22:32</div></div><div class="posttext">Hi!<br />
<br />
After testing my installers several times I now found many remaining temp files and folders. It seems that the installer does not remove them regardless whether the installer exits via Abort/Quit or &quot;finish&quot;. Is this a bug? What am I doing wrong? I even rebooted the machine hoping NSIS would have inserted something into registry to clean temp files at windows startup. It seems NSIS does not remove ANY file (e.g. ioSpecial.ini or modern-wizard.bmp stay there, too).<br />
<br />
btw: What is the behaviour I should get - especially if using &quot;Quit&quot; to abort the installer (e.g. within some custom page leave function)?<br />
<br />
install.log says: <br />
RMDir: RemoveDirectory(&quot;C:\DOKUME~1\stb\LOKALE~1\Temp\nsr5E.tmp&quot;)<br />
<br />
But the dir persists containing multiple dlls, iospecial.ini and two bitmaps. FYI: I don't add manually files into $pluginsdir (just calling some plugins).<br />
<br />
Regards<br />
stb</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">3rd June 2004, 00:31</div></div><div class="posttext">The most probable reason why the plugin directory is still there is that one of the plugins you are using did not shutdown before you ended the installer.<br />
Make sure you unload all plugins.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">3rd June 2004, 02:03</div></div><div class="posttext">Why doesn't NSIS do that automatically before closing the installer?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd June 2004, 17:54</div></div><div class="posttext">Unloading a DLL while it might be running code can and probably will result in a crash.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">stb</div><div class="date">6th June 2004, 15:03</div></div><div class="posttext">Ok, I removed &quot;SetPluginUnload alwaysoff&quot; from my script and now tmp files go away as expected (regardless of using Abort or Quit).<br />
<br />
Thanks for your help :up: :up: :up:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>