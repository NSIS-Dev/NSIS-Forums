<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Slashes in a file name, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Slashes in a file name NSIS Discussion" />
	
	<title> Slashes in a file name [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Slashes in a file name</div>
<hr />
<div class="pda"><a href="t-285919.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=285919">Slashes in a file name</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pcrowley</div><div class="date">29th January 2008, 23:44</div></div><div class="posttext">It is legal to have a file name in the form Delta/Gamma but the slash is apparently removed at some point with NSIS.  Mostly, this is affecting shortcuts as in:<br />
<br />
!define PRODUCT_NAME Delta/Gamma<br />
...<br />
...<br />
CreateShortCut &quot;$SMPROGRAMS\$ICONS_GROUP\${PRODUCT_NAME_N} Help.lnk&quot; &quot;$INSTDIR\Delta.chm&quot;<br />
<br />
The resulting shortcut is named &quot;DeltaGamma Help&quot;.<br />
<br />
I tried using Delta\/Gamma and that did not work.  Any other suggestions?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">29th January 2008, 23:50</div></div><div class="posttext">\ / * : &quot; &lt; &gt; | are not valid in filenames on windows</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pcrowley</div><div class="date">30th January 2008, 01:52</div></div><div class="posttext">While backslashes aren't legal, the forward slash character (0x2f) is legal.  It is one of those niggling annoyances when trying to do things cross-platform.<br />
<br />
If it was treated as an invalid character in NSIS, that might be OK, depending.  Instead in many places it is apparently converted to a backslash.<br />
<br />
I managed to get around much of this with constructing the name with a backslash and converting backslashes to forward slashes at install time.  The one place that this isn't working is CreateShortcut and Rename.<br />
<br />
For example, I have a variable $SlashName which does have the forward slash in it.  However, the instruction<br />
<br />
CreateShortcut &quot;$DESKTOP\$SlashName.lnk&quot; &quot;$INSTDIR\MainProgram.exe&quot;<br />
<br />
results in not Delta/Gamma but DeltaGamma.<br />
<br />
This is working elsewhere, with WriteRegKey and the like.  So I think maybe I can rename it.<br />
<br />
Rename &quot;$DESKTOP\DeltaGamma.lnk&quot; &quot;$DESKTOP\Delta/Gamma.lnk&quot;<br />
<br />
The correct name (with the slash) is recorded in the Details pane with slashes, but the actual file name has the slash removed.<br />
<br />
This is somewhat frustrating in that I am trying to convert a working installer written with Wise Install.  Absolutely, we have slashes in these names today.  I'm not sure changing the name of the product in the Start menu and on the desktop is going to work.<br />
<br />
I certainly do understand that it isn't nice to have file names with slashes in them because they are difficult to share between Windows and Linux or OS X.  But this is an established Windows product and these names are limited to the Start menu, desktop and a few places in the registry.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">30th January 2008, 02:41</div></div><div class="posttext">the registry is one thing, the file system is another, you can't have a file or folder name with / in it, it is that simple.<br />
<br />
http://img166.imageshack.us/img166/5738/nsisfwdslashpathxn5.th.png (http://img166.imageshack.us/my.php?image=nsisfwdslashpathxn5.png)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>