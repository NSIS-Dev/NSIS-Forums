<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" .reg's hex(2) ==&gt; WriteRegBin or WriteRegExpandStr ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  .reg's hex(2) ==&gt; WriteRegBin or WriteRegExpandStr ? NSIS Discussion" />
	
	<title> .reg's hex(2) ==&gt; WriteRegBin or WriteRegExpandStr ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  .reg's hex(2) ==&gt; WriteRegBin or WriteRegExpandStr ?</div>
<hr />
<div class="pda"><a href="t-320641.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320641">.reg's hex(2) ==&gt; WriteRegBin or WriteRegExpandStr ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">9th July 2010, 03:25</div></div><div class="posttext">This Microsoft article describes the syntax of .reg files:<br />
<br />
http://support.microsoft.com/kb/310516<br />
 (http://support.microsoft.com/kb/310516)<br />
<br />
In there you can find the following table:<br />
Data Type		DataType in .reg <br />
REG_BINARY		hexadecimal <br />
REG_DWORD		dword <br />
REG_EXPAND_SZ	hexadecimal(2) <br />
REG_MULTI_SZ	hexadecimal(7) <br />
<br />
<br />
Which suggests that a hex(2) value in a .reg file should be &quot;translated&quot; to a WriteRegExpandStr in NSIS. Do I understand correctly?<br />
<br />
If so, how would one write a value of &quot;hex(2):25,00,53,00,79,00,73,00,74,00,65,00&quot; in a WriteRegExpandStr line?<br />
 <br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jiake</div><div class="date">9th July 2010, 04:51</div></div><div class="posttext">To write an expand string, write what you see in registry editor but not the .reg file. This was clearly expressed in NSIS manual.<br />
WriteRegExpandStr HKCU Environment TEMP '%USERPROFILE%\Local Settings\Temp'<br />
<br />
To write a binary string, like this: &quot;Config&quot;=hex:01,23,45,67,89,ab,cd,ef<br />
Using: WriteRegBin HKCU 'Sofeware\MyProgram' Config 0123456789abcdef<br />
<br />
To read a multi-string, see http://nsis.sourceforge.net/REG_MULTI_SZ_Reader, or use the Registry (http://nsis.sourceforge.net/Registry_plug-in) plug-in to read and write all kinds of registry value.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">9th July 2010, 19:49</div></div><div class="posttext">Thank you very much. Your reply was very informative and helpful (hopefully to others down the road, too).<br />
<br />
To write an expand string, write what you see in registry editor but not the .reg file.<br />
This is exactly the piece of information that I needed.<br />
<br />
This was clearly expressed in NSIS manual.<br />
Of course I searched the NSIS manual before I posted this question, but even after your answer I am still unable to find any reference to &quot;write what you see in registry editor but not the .reg file&quot;. Which version are you using? (mine is v2.45).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">9th July 2010, 20:10</div></div><div class="posttext">jiake was not referring to the quote &quot;write what you see in registry editor but not the .reg file&quot; but to the example WriteRegExpandStr usage.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">9th July 2010, 21:17</div></div><div class="posttext">jiake was not referring to the quote &quot;write what you see in registry editor but not the .reg file&quot; but to the example WriteRegExpandStr usage.<br />
:) I wasn't referring to the quote literally either. The example WriteRegExpandStr usage in the documentation is very clear but the distinction between the .reg file syntax vs. the NSIS syntax is simply not there.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">10th July 2010, 10:06</div></div><div class="posttext">How about the fact that the example has the string being written in plain text (and without double backstrokes - which is another mistake people make)? Or am I missing something?<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>