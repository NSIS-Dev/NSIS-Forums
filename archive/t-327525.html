<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to make a Personalized Installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to make a Personalized Installer NSIS Discussion" />
	
	<title> How to make a Personalized Installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to make a Personalized Installer</div>
<hr />
<div class="pda"><a href="t-327525.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=327525">How to make a Personalized Installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">18th February 2011, 09:24</div></div><div class="posttext">Hello all,<br />
<br />
  Here is my dilemma, I need to create an installer that is personalized per each user downloading it. The website has tens of thousands of users, when a user login they can download a software installer but the installer should have some unique data for the user. So basically i need to personalize a generic installer per each user.<br />
<br />
  I can go the naive way and just create tens of thousands of copies of the installer, each with a different user ID and then have the installer when it is run connect to the server send the user id and get the rest of the specific user data. Obviously this solution seems very wasteful.<br />
<br />
  I can do it in real time in PHP by implementing the download code in PHP, have PHP dump the installer and then some user id data at the end. This is more generic but it means high load on the server and not being able to enjoy the efficiencies of a simple file server to the installers.<br />
<br />
  Another solution would be to encode the user id in the filename and then have the installer decode it from the filename and use it. This is very easy to do but it seems like a very fragile solution.<br />
  <br />
  Any other ideas? Anyone had to cope with the same problem before?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Highcoder</div><div class="date">18th February 2011, 10:17</div></div><div class="posttext">The best way to do this ist to compile the installer script on demand and pass the user id during compiletime. If your serve is a windows machine it should be easy. <br />
<br />
I don´t know details how to do it but this way is i whould do it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">18th February 2011, 10:27</div></div><div class="posttext">Yeah I forgot this one, but is pretty much the same as having a PHP code dump the EXE and append some ID to it, I guess it is cleaner and safer to recompile. The problem is the same though or maybe even worse this this is not a scalable solution it's ok if you have a low traffic site but if you have high traffic keep compiling is not practical. Also our production server is obviously not Windows ;-) which poses another challenge to recompile on an Apache/LAMP configuration - I guess you could set up another Windows server just for compilations and have ti communicate with the main Apache web server but again, not scalable...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Highcoder</div><div class="date">18th February 2011, 10:58</div></div><div class="posttext">Thats right but if you want a unique installer you have to manipulate it´s base. You can compile it, you can use your PHP variant, recource hacker tools to &quot;inject&quot; ID´s etc...<br />
<br />
But there is no solution that needs no serverpower...<br />
<br />
The variant of encoding ID in filename is the only lightweight variant for your purpose because renaming is resource friendly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">18th February 2011, 12:11</div></div><div class="posttext">Yeah renaming is easy and light but is also very fragile not the most reliable way to go :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">18th February 2011, 12:30</div></div><div class="posttext">An alternative is to have the installer dial home to get the user id. You could let the user enter its login on a custom page or popup, or try to abuse a browser cookie...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">18th February 2011, 12:58</div></div><div class="posttext">Yeah trying to avoid asking the user to enter his info again :-) <br />
<br />
As for browser cookies, any experience doing that? my gut feeling would be that this would not be a super reliable solution.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">18th February 2011, 13:08</div></div><div class="posttext">It'd be a hackjob, probably. There's currently another thread going on about cookie usage with the inetc plugin, maybe check that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th February 2011, 13:53</div></div><div class="posttext">Just output the generic copy using a PHP and write an additional couple of characters containing the user id afterwards.<br />
<br />
http://nsis.sourceforge.net/ReadCustomerData<br />
<br />
Maybe a little bit overkill. One 'magic' character is enough.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">18th February 2011, 14:19</div></div><div class="posttext">He already mentioned that solution, and noted that it'd be a problematic load on the server to use a php downloader.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">18th February 2011, 14:25</div></div><div class="posttext">Yeah, maybe some PHP loader with caching, create the file on the fly and cache it for a while for subsequent downloads. arrrrrrr, I guess there is no easy way to escape this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th February 2011, 14:48</div></div><div class="posttext">If the installer is large then make a small downloader and append the user id to that.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zivha</div><div class="date">18th February 2011, 14:56</div></div><div class="posttext">Yeah good idea, it's about 650KB probably not worth it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">18th February 2011, 17:40</div></div><div class="posttext">Well if it's that small it should be quite doable to just use php...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>