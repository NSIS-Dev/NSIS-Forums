<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" What features/improvements do we want?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  What features/improvements do we want? NSIS Discussion" />
	
	<title> What features/improvements do we want? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  What features/improvements do we want?</div>
<hr />
<div class="pda"><a href="t-51517.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=51517">What features/improvements do we want?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">3rd June 2001, 04:46</div></div><div class="posttext">I suddenly have a lot more time on my hands, and will be doing some heavy development based on NSIS 1.43.<br />
<br />
What features do you guys want to see in an installer?  Any changes or new commands you want?  Tell me and I'll see what I can do about it.<br />
<br />
And of course I'll send all my changes to justin to see if he wants to stick them in the 1.5 series :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ddyne</div><div class="date">3rd June 2001, 15:10</div></div><div class="posttext">I'd like to see CopyFiles flag the IfErrors error flag instead of barfing if the source file doesn't exist.<br />
<br />
<br />
Thanks a lot!<br />
<br />
David</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gonzotek</div><div class="date">3rd June 2001, 15:54</div></div><div class="posttext">ddyne, see your other thread! :)<br />
<br />
http://forums.winamp.com/showthread.php?threadid=51540</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gonzotek</div><div class="date">3rd June 2001, 16:01</div></div><div class="posttext">I mentioned this in http://forums.winamp.com/showthread.php?threadid=51275 , but I'l CP it here for consistancy.<br />
<br />
CALLDLL plugin.dll C_FUNCTION_NAME (PARAMETERS)<br />
<br />
<br />
Small SDK, and plugin writers can roll up specialized plugins, without necessarily bloat up NSIS. Maybe two NSIS forks might be needed.  Plugged-In and Unplugged<br />
<br />
-=Gonzotek=-</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">3rd June 2001, 21:57</div></div><div class="posttext">CopyFiles behavior has been fixed.  Changes submitted to Justin.<br />
<br />
As for plugins, two new commands:<br />
<br />
CustomPreSelect &quot;localfile.dll&quot;<br />
CustomPreCopy &quot;localfile.dll&quot;<br />
<br />
These insert a custom splash screen.  PreSelect goes before the components screen; PreCopy goes right before the actual file-copying screen.<br />
<br />
This 'bloats' the header by an astonishing 0 bytes.  I'm proud of myself.  A mini-SDK for the plugin DLLs coming within a few days, hopefully.  Requires working knowledge of C or C++, sorry :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gonzotek</div><div class="date">3rd June 2001, 23:10</div></div><div class="posttext">Requires working knowledge of C or C++, sorry<br />
<br />
I figured that would be a requirement.  Seems I have semi-sucessfully argued to get a feature implemented that I can't possibly make direct use of :).<br />
<br />
<br />
Time for &quot;C++ for Complete Idiots&quot; :)<br />
<br />
<br />
However, I'm sure this will help many authors out there that want to do more with NSIS.  Yay!<br />
<br />
Thanks Edgewize :-)<br />
<br />
-=Gonzotek=-</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dbareis</div><div class="date">3rd June 2001, 23:26</div></div><div class="posttext">Hi,<br />
<br />
My top ones are (all relatively simple):<br />
<br />
1. A simple fix to the listbox to give it a horizontal scroller so the contents can actually be read!<br />
<br />
2. At LEAST a $Comspec variable but I'd rather see generic access to environment variables.<br />
<br />
3. Built in $ variables for all users related stuff.<br />
<br />
4. Ability to specify &quot;Comment&quot; (affectively the tooltip) on shortcuts.<br />
<br />
5. Named parameters for commands, this could be made backwards compatible with existing useage, see a previous post.<br />
<br />
That will do for now...<br />
<br />
Thanks<br />
Dennis</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">3rd June 2001, 23:51</div></div><div class="posttext">The first two (horizontal scroll, $ENV('blah') special variable) are no problem.<br />
<br />
The third one I don't understand ...<br />
<br />
The forth (shortcut comment field) I have to check on, the shortcut field might not be exported via SHCreateShellLink or whatever the hell its called.<br />
<br />
Named parameters are going to be a real pain in the ass - I may have to overhaul the parser, which will not be fun.  This is dead last on my list of priorities because of the difficulty and the complications involved (it would not be back-portable to NSIS, I'd have to create my own code fork).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Bor</div><div class="date">4th June 2001, 00:41</div></div><div class="posttext">Now only the extraction of files used the installcolors, but it would be nice if &quot;Choose directory&quot; field, choose components, license, would use those colors also, the the installer would have a more coherent look.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dbareis</div><div class="date">4th June 2001, 01:23</div></div><div class="posttext">Originally posted by Edgewize <br />
&gt;&gt;The first two (horizontal scroll, $ENV('blah') special variable) are no problem.<br />
<br />
Excellent!<br />
<br />
&gt;&gt;The third one I don't understand ...<br />
<br />
I probably should have said &quot;ALL USERS&quot; (in quotes), current NSIS has variables for the &quot;CURRENT USER&quot; (desktop etc).<br />
<br />
&gt;Named parameters are going to be a real pain in the ass - <br />
&gt;I may have to overhaul the parser, which will not be fun.  <br />
&gt;This is dead last on my list of priorities because of the <br />
&gt;difficulty and the complications involved (it would not be <br />
&gt;back-portable to NSIS, I'd have to create my own code <br />
&gt;fork).<br />
<br />
Dead last is fine that is where it was on my list :-)<br />
However having done this myself it is actually not that hard and it could be done in a backwards compatible manner (ie support existing positional parameters) as described in a previous (recent) post of mine. It would make NSIS much easier to use for everyone.  All you have to do is look at a command like the add shortcut to see the problem with positional parameters!<br />
 <br />
Thanks<br />
Dennis</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">4th June 2001, 02:27</div></div><div class="posttext">Aah, gotcha, &quot;all users&quot;!<br />
<br />
I'll need to refresh myself on the registry locations for important folders, but that should be easy enough.<br />
<br />
The ENV variable is going to be tougher than I expected, because of way Justin has made NSIS deal with variables.  I might take some time on this in order to re-do his variable scheme completely.  The upshot is that you will not be limited to the digits $0-$9 for user-defined variable names :)<br />
<br />
I found your post about positional vs named parameters, and I'll admit that I like the idea very much.  My gut instinct was that it would be an ugly rewrite of the exe header, but I realize that it is simply a compiler issue and shouldn't be terribly difficult.  I will still need to rearrange the command parser to deal with the new argument style, however.  I very much doubt that Justin would re-integrate this back into the official NSIS :/  Maybe if I throw in some buzzwords like 'XML compliant parser' he'll like it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dbareis</div><div class="date">4th June 2001, 03:06</div></div><div class="posttext">Originally posted by Edgewize <br />
<br />
&gt;&gt;The ENV variable is going to be tougher than I expected, <br />
&gt;&gt;The upshot is that you will not be limited to the digits $0-$9 for user-defined variable names :)<br />
<br />
While I did suggest that the variables should not be restricted 0-9 previously, as a Quick and dirty the environment could be queried in the same way that the registry currently is (ie a command).<br />
<br />
&gt;&gt;I found your post about positional vs named parameters, and I'll admit that I like the idea very much.<br />
&gt;&gt;I very much doubt that Justin would re-integrate this back into the official NSIS :/  Maybe if I throw in some buzzwords like 'XML compliant parser' he'll like it.<br />
<br />
I can't understand this as it does not change the size of the generated install code at all as the code you write is more usable and readable. The only &quot;tricky&quot; bit I can now think of (as I now guess that the parms are stored positionally internally) is the need for each command a ParmName-&gt;ParmPosn table and where this/these should be located.<br />
<br />
CYA<br />
Dennis</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">7th June 2001, 09:30</div></div><div class="posttext">I'd really, really, really like to see a switch added to Section, so that a certain section can be unchecked by default.<br />
<br />
That way, you can have, e.g.:<br />
<br />
[x] Start Menu Group<br />
[x] Desktop Icon<br />
----------<br />
[ ] Run Program When Finished<br />
<br />
without creating InstTypes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">7th June 2001, 09:36</div></div><div class="posttext">Another thing I'd like to see, although it really isn't as important as anything else seen hierrr...<br />
<br />
Perhaps an extra command or switch somewhere, that allows you to bloat the minimum required disk space shown on the directory page?<br />
<br />
You see, I have made an install program with a lot of BMPs. I've found that by turning them into JPEGs, and converting them at the other end, I can make the installer a lot smaller. But to this end, the minimum required space shown is false by about 6MB.<br />
<br />
But yeah, that'd be nice...and besides, Inno Setup (http://www.innosetup.com/) has it...ouch! I should stop referring to it here!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">7th June 2001, 11:37</div></div><div class="posttext">I'm adding a new command:<br />
<br />
InstallDiskSpace [auto | set 012345 | oversize 012345 ]<br />
<br />
Auto keeps it as-is, oversize increases the requirement, and set overrides it completely.<br />
<br />
<br />
A section disabled flag should be pretty easy too.  But can't you just make the default InstType (the first one) only match to some of the sections, and those will then be disabled by default?<br />
<br />
<br />
Anyway, I'm gonna set a primary code release date of June 14 just because I need a deadline to get things done.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">8th June 2001, 07:57</div></div><div class="posttext">That's the thing, though, I'd prefer not to have to include InstTypes.<br />
<br />
But thanks anyway, Edgewize!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>