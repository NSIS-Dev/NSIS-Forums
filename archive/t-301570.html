<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Make whole section group read-only?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Make whole section group read-only? NSIS Discussion" />
	
	<title> Make whole section group read-only? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Make whole section group read-only?</div>
<hr />
<div class="pda"><a href="t-301570.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=301570">Make whole section group read-only?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">eagle3386</div><div class="date">31st December 2008, 13:04</div></div><div class="posttext">Hey guys,<br />
<br />
I searched the docs, forums, wiki and even Google, but couldn't find an answer to my question: Is it somehow possible to make a whole (sub-) section group read-only?<br />
<br />
For example Root<br />
 +-[ ] A<br />
 I  +-[ ] A1<br />
 I  +-[ ] A2<br />
 I<br />
 +-[ ] B<br />
 I  +-[ ] B1<br />
 I  +-[ ] B2<br />
 I<br />
 +-[ ] C is the structure - how to make B, B1 and B2 read-only?<br />
Unfortunately, using &quot;SectionIn RO&quot; only works for B1 &amp; B2..<br />
<br />
Best regards,<br />
 Martin.. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">31st December 2008, 16:28</div></div><div class="posttext">could try poking at it with setting the section flags directly</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eagle3386</div><div class="date">1st January 2009, 14:41</div></div><div class="posttext">But where to set the flags? Within the specific section group? Within the .onInit-function? :)<br />
<br />
BTW: Happy New Year! :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">1st January 2009, 15:02</div></div><div class="posttext">You can set the flags in any function before the components page is swon. <br />
<br />
.onInit will work just fine:!include Sections.nsh<br />
<br />
...<br />
<br />
SectionGroup &quot;B&quot; my_ro_group<br />
<br />
  ; use &quot;SectionIn RO&quot; for subsections<br />
  Section &quot;B1&quot;<br />
    SectionIn RO<br />
  SectionEnd<br />
<br />
  ...<br />
<br />
SectionGroupEnd<br />
<br />
Function .onInit<br />
  !insertmacro SetSectionFlag ${my_ro_group} ${SF_RO}<br />
FunctionEnd<br />
<br />
And a happy new year to you too. :)<br />
<br />
PaR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eagle3386</div><div class="date">1st January 2009, 15:12</div></div><div class="posttext">Ok, got the basic procedure from http://nsis.sourceforge.net/IfFileExists_Changes_Section_Flags and the available flags from Sections.nsh's comments, _but_:<br />
<br />
Normal flag value: 43<br />
Read-only value: 59 (because SF_RO equals to 16)<br />
<br />
Result (according to my scheme in post #1): &quot;Root&quot; gets read-only, A can still be unchecked and A1 &amp; A2 are still read-only as before..<br />
<br />
The code used (...)<br />
SectionGroup /e &quot;!My Stuff&quot;<br />
 SectionGroup /e &quot;My App&quot; myAPP<br />
  Section<br />
   (...)<br />
  SectionEnd<br />
  &lt;more sections&gt;<br />
 SectionGroupEnd<br />
 SectionGroup /e &quot;!Extras&quot; myXTS<br />
  &lt;more sections&gt;<br />
 SectionGroupEnd<br />
SectionGroupEnd<br />
(...)<br />
Function &quot;.onInit&quot;<br />
 SectionSetFlags myAPP 59<br />
FunctionEnd<br />
(...)<br />
<br />
Any help would still be greatly appreciated! ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eagle3386</div><div class="date">1st January 2009, 16:49</div></div><div class="posttext">Okay, using &quot;myAPP&quot; instead of &quot;${myAPP}&quot; was the cause, so finally everything is just like expected, thanks to:<br />
<br />
(...)<br />
!include &quot;Sections.nsh&quot;<br />
(...)<br />
SectionGroup /e &quot;!My Stuff&quot;<br />
 SectionGroup &quot;!My App&quot; myAPP<br />
  &lt;some sections&gt;<br />
 SectionGroupEnd<br />
 (...)<br />
SectionGroupEnd<br />
(...)<br />
Function &quot;.onInit&quot;<br />
 SectionSetFlags ${myAPP} 27 # equals to &quot;SF_SELECTED (1) &amp;&amp; SF_SECGRP (2) &amp;&amp; SF_BOLD (8) &amp;&amp; SF_RO (16)&quot;<br />
FunctionEnd<br />
(...)<br />
<br />
Again, thanks _a lot_, Animaether and trueparuex! :)<br />
<br />
Best regards,<br />
 Martin..</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>