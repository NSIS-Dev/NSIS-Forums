<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Skip a section without deselecting components checkbox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Skip a section without deselecting components checkbox NSIS Discussion" />
	
	<title> Skip a section without deselecting components checkbox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Skip a section without deselecting components checkbox</div>
<hr />
<div class="pda"><a href="t-346721.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=346721">Skip a section without deselecting components checkbox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jai123</div><div class="date">1st August 2012, 14:14</div></div><div class="posttext">Hi,<br />
<br />
I am trying to skip a section if another section has been selected. However, I do not want to uncheck the section's checkbox.<br />
<br />
I tried creating a label for the section, and just adding an if statement within the other sections body. For instance,<br />
<br />
<br />
 Section &quot;Interface&quot; SecCNC_Interface<br />
       !insertmacro SectionFlagIsSet ${SecVision_System} ${SF_SELECTED} exit_section continue<br />
        continue:<br />
        ...<br />
        ...<br />
        ...<br />
        exit_section:  <br />
SectionEnd<br />
     <br />
Section /o &quot;Vision System&quot; Sec2<br />
        ...<br />
        ...<br />
        ...<br />
SectionEnd<br />
<br />
<br />
<br />
it compile, but it thoughs a warning saying <br />
<br />
unknown variable/constant &quot;{SecVision_System}&quot; detected, ignoring (macro:SectionFlagIsSet:2)<br />
<br />
Any idea what is happening? how can I implement the functionality I am looking to use?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jai123</div><div class="date">1st August 2012, 14:28</div></div><div class="posttext">Sorry I just realized that I did not post the code properly. my code uses the correct tag for SectionFlagIsSet; it uses Sec2</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st August 2012, 14:35</div></div><div class="posttext">Sec2 is defined later on in the script i.e. it is not yet defined when the compiler is parsing your SectionFlagIsSet code.<br />
<br />
If Sec2 has to be after, you will have to use its actual value instead which is the zero based section index.<br />
<br />
Also you can use ${If} ${SectionIsSelected} instead of the SectionFlagIsSet macro (may look a bit tidier).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jai123</div><div class="date">1st August 2012, 15:05</div></div><div class="posttext">Afrow UK, I am really not sure what is the zero based section index. Can you further delve on how it works?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jai123</div><div class="date">1st August 2012, 16:35</div></div><div class="posttext">I am using the code below to index Sec2 label as 2, and it is not updating register $0. Any idea where is the problem?<br />
<br />
Thanks<br />
<br />
<br />
SectionGroup &quot;GroupSection&quot; GrpSec1<br />
    Section &quot;Section1&quot; Sec1<br />
        Push $0<br />
        SectionGetFlags 2 $0<br />
        messagebox MB_OK &quot;SectionGetFlag $0&quot;<br />
        ${IfNot} ${SectionIsSelected} $0<br />
            ...<br />
        ${EndIf}<br />
        Pop $0<br />
    SectionEnd<br />
<br />
    Section &quot;Section 2&quot; Sec2<br />
        ...<br />
    SectionEnd<br />
SectionGroup</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">1st August 2012, 19:13</div></div><div class="posttext">Remove the sectiongetflags command, and do ${If} ${SectionIsSelected} directly on the section ID.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st August 2012, 20:21</div></div><div class="posttext">Afrow UK, I am really not sure what is the zero based section index. Can you further delve on how it works?<br />
<br />
The zero based section index is an integer value that identifies the section; 0 is the first section, 1 is the 2nd section and so on. With your code Sec2 will be defined by the compiler with a value of 1. Therefore just use 1 in your code instead of ${Sec2}:<br />
<br />
${IfNot} ${SectionIsSelected} 1<br />
...<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jai123</div><div class="date">1st August 2012, 21:52</div></div><div class="posttext">Hey Afrow, I have followed your advice, and it still does not work. I have tried both using index 1 and 2 (assuming that the group section is also counted). Any ideas where it could be the problem?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>