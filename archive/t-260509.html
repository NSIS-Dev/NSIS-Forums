<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem with paths, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem with paths NSIS Discussion" />
	
	<title> Problem with paths [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem with paths</div>
<hr />
<div class="pda"><a href="t-260509.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=260509">Problem with paths</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">korba_bm</div><div class="date">27th November 2006, 14:24</div></div><div class="posttext">Hello <br />
<br />
I'm new to NSIS and I have few problems. <br />
<br />
I try to create a simple install.<br />
<br />
First, I would like to read two variables from ini file (folderbase and version) and use it in a following way:<br />
<br />
File /r var1 + var2 ;which would be e.g. D:\work\Base\v1.00 where var1 would be D:\work\Base\ and var2 would be v1.00.<br />
<br />
But I keep getting error message that NSIS cannot find any files under var1+var2<br />
<br />
What wrong am I doing?<br />
<br />
Second problem is when I want to install this stuff. I need an option to disable/enable page. I create 2 pages, one where I choose install dir for folder1 and second where I choose install dir for folder2. Then in installer I can choose if I want to install both or just one. The question is how can I disable a page where I specify path for installation. E.g. I choose to install just folder2 but I still can see a page where I need to specify path for folder1.<br />
<br />
Thx in advance for any help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n_baua</div><div class="date">28th November 2006, 06:16</div></div><div class="posttext">Hi korba_bm,<br />
<br />
Try with File $0\$1 not File var1 + var2<br />
where $0 is foldername obtained by reading a file and<br />
$1 is filename obtained by reading a (may be another) file <br />
use FileRead command for this <br />
eg. <br />
FileOpen $0 $INSTDIR\file.dat r<br />
<br />
I guess it should work, I haven't tried it yet.<br />
Please let me know if you get it done.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">korba_bm</div><div class="date">28th November 2006, 15:10</div></div><div class="posttext">Well... I tried this way:<br />
<br />
Section &quot;Framework&quot;<br />
  SetOutPath &quot;$FRAMEWORK_DIR&quot;<br />
  ReadINIStr $8 $INI &quot;Framework&quot; &quot;Path&quot;<br />
  ReadINIStr $9 $INI &quot;Framework&quot; &quot;Version&quot;<br />
  DetailPrint $8\$9<br />
  File /r &quot;$8\$9&quot;<br />
  Call installFramework<br />
SectionEnd<br />
<br />
I get an error message: <br />
File: $8\$9 -&gt; no files found.<br />
<br />
As I checked the variables have correct values <br />
eg. C:\Work\Framework\v1.00<br />
<br />
If I use<br />
&quot;File /r C:\Work\Framework\v1.00&quot; then it works, when I use variables then NSIS cannot find files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Filus</div><div class="date">28th November 2006, 17:39</div></div><div class="posttext">It's because variables are run time. For File command compiler must know files names in compilation time... So, you can't do this (But why you want to use these values from ini file?).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">korba_bm</div><div class="date">29th November 2006, 09:06</div></div><div class="posttext">Hmmm...makes sense. Ok, I think I will drop the idea with the ini file.<br />
<br />
Thanks for help.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>