<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ExecWait and .bat vs .cmd, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ExecWait and .bat vs .cmd NSIS Discussion" />
	
	<title> ExecWait and .bat vs .cmd [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ExecWait and .bat vs .cmd</div>
<hr />
<div class="pda"><a href="t-320950.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320950">ExecWait and .bat vs .cmd</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">nedloh</div><div class="date">19th July 2010, 19:15</div></div><div class="posttext">This is a question more than a problem, but I was working on my NSIS script and during the install process I had a batch file that I needed to run. I attempted to use ExecWait to execute it but it would not run the .bat file and for the life of me could not figure it out. I spent an entire day at work attempting to fix the problem.<br />
<br />
The solution I found at the end of the day is to save the batch file with the .cmd extensions. After hours of fiddling it turned out that doing this and then calling the same way I did when I started my journey solved the problem.<br />
<br />
Does anyone have an explanation on this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jiake</div><div class="date">20th July 2010, 02:38</div></div><div class="posttext">I tried ExecWait a bat file and it worked well.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th July 2010, 10:06</div></div><div class="posttext">You should never run a batch file using ExecWait without cmd.exe. A batch file is not an executable; it is just another file type associated to run with cmd.exe. In addition, don't use ExecWait because you'll get an ugly console window popup. Use nsExec or ExecDos:<br />
<br />
ReadEnvStr $R0 COMSPEC<br />
ExecDos::Exec `&quot;$R0&quot; /C &quot;some_batch_file.bat&quot;`<br />
Pop $R0<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nedloh</div><div class="date">20th July 2010, 13:35</div></div><div class="posttext">Possibly the ExecDos would fix it however I did make sure to run it with cmd.exe as in your example with ExecWait and it did not work at all. As I said I did a simple<br />
<br />
ExecWait '&quot;Batch.cmd&quot; &quot;param1&quot; &quot;param2&quot;'<br />
<br />
and it worked just fine.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>