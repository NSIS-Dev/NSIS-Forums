<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" 2 -&gt; 2.02: 10 kb bigger installer?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  2 -&gt; 2.02: 10 kb bigger installer? NSIS Discussion" />
	
	<title> 2 -&gt; 2.02: 10 kb bigger installer? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  2 -&gt; 2.02: 10 kb bigger installer?</div>
<hr />
<div class="pda"><a href="t-198699.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=198699">2 -&gt; 2.02: 10 kb bigger installer?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">xtf</div><div class="date">8th November 2004, 18:18</div></div><div class="posttext">Hi,<br />
<br />
I upgraded NSIS from 2 to 2.02 and now the generated installer is 10 kb bigger. I'm using LZMA compression.<br />
<br />
Where did those 10 kb come from?<br />
I saw nothing in the FAQ about this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">8th November 2004, 20:20</div></div><div class="posttext">10 KB is nothing.... :)<br />
<br />
Maybe, source update, plugins update, etc..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th November 2004, 20:25</div></div><div class="posttext">Yep, 10kb is only an extra 3 seconds even on a 56k :D<br />
But it is still a good question worthy of an answer...<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">9th November 2004, 09:23</div></div><div class="posttext">I have another result: 1 kB less package with lzma. IMHO this is compressor tricks, in most cases NSIS lzma and WinZip give similar results, but sometimes zip has up to 5% less size (and WinZip compression stability looks higher). Compiller window shows some compression results.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xtf</div><div class="date">9th November 2004, 16:39</div></div><div class="posttext">Originally posted by Afrow UK <br />
Yep, 10kb is only an extra 3 seconds even on a 56k :D<br />
But it is still a good question worthy of an answer...<br />
<br />
-Stu  <br />
It's still 5 %.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">9th November 2004, 20:25</div></div><div class="posttext">Is it always 10k larger? What if you recompile? When using solid compression, which is turned on by default for lzma, dates are compressed along with everything else. These dates include file's last access date and some other dates I don't quite remember right now. Therefore, at each compile, the size might differ a bit.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xtf</div><div class="date">10th November 2004, 11:20</div></div><div class="posttext">Yes, it's always 10 kb larger.<br />
I compiled with the old version, installed the new version, compiled again and it was 10 kb larger while nothing else changed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th November 2004, 19:23</div></div><div class="posttext">Can you attach a complete example?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xtf</div><div class="date">11th November 2004, 19:34</div></div><div class="posttext">If the script?<br />
Sure: http://cvs.sourceforge.net/viewcvs.py/xbtt/xbt/XBT%20Client/XBT%20Client.nsi?rev=1.40&amp;view=auto</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th November 2004, 20:05</div></div><div class="posttext">I have tried compiling the script with 2.0 and 2.02 and got a 10 bytes difference. I have only copied the old makensis.exe, but your script doesn't use anything else. Can you test it again?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xtf</div><div class="date">11th November 2004, 23:34</div></div><div class="posttext">Just switching makensis.exe isn't enough. I installed 2.0 again and the .exe gets 10 kb smaller. I installed 2.02 again and it gets 10 kb larger.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th November 2004, 11:26</div></div><div class="posttext">Ah, I see the change now. It's in UpgradeDLL.nsh. Joost changed it so it'd use a tool from the new Library.nsh. This tool replaces rundll32.exe because it doesn't always exist. If you want a smaller installer, even with this change, you can use lzma:SetCompressor lzma</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xtf</div><div class="date">12th November 2004, 21:56</div></div><div class="posttext">I'm already using lzma.<br />
<br />
BTW, why is lzma not the default compressor?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Olaf van der Spek</div><div class="date">13th November 2004, 16:35</div></div><div class="posttext">Is that tool/rundll also required if you the DLL doesn't need to be registered?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th November 2004, 11:00</div></div><div class="posttext">No, it's only for registering DLLs.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Olaf van der Spek</div><div class="date">15th November 2004, 11:48</div></div><div class="posttext">!define UPGRADEDLL_NOREGISTER<br />
Isn't that enough to exclude it?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>