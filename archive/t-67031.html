<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Required sections and SectionIn, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Required sections and SectionIn NSIS Discussion" />
	
	<title> Required sections and SectionIn [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Required sections and SectionIn</div>
<hr />
<div class="pda"><a href="t-67031.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=67031">Required sections and SectionIn</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">t-tex</div><div class="date">29th November 2001, 09:41</div></div><div class="posttext">Hi,<br />
<br />
I'm creating an installer which can install a client, a server or both on a system. What I would like to do is to have a specific configuration file for each option copied to the destination directory. I tried to achive this by creating three required sections in combination with a SectionIn, but it didn't seem to work.<br />
<br />
I have two sections, &quot;Client&quot; and &quot;Server&quot; (plus a few other required sections), and three install options (&quot;Client-only&quot;, &quot;Server-only&quot; and &quot;Full&quot;). My idea was to create three required sections, like this:<br />
<br />
Section &quot;-ClientCfg&quot;<br />
SectionIn 1<br />
  ; Copy configuration file<br />
SectionEnd<br />
<br />
Section &quot;-ServerCfg&quot;<br />
SectionIn 2<br />
  ; Copy configuration file<br />
SectionEnd<br />
<br />
Section &quot;-FullCfg&quot;<br />
SectionIn 3<br />
  ; Copy configuration file<br />
SectionEnd<br />
<br />
Does anyone have any ideas how I could solve this problem? I would appreciate a quick response because I have to be done with this installer by tomorrow afternoon (CET).<br />
<br />
Best regards,<br />
T-Tex</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">29th November 2001, 10:51</div></div><div class="posttext">Hi T-Tex,<br />
<br />
A required section will be executed regardless of whether or not it is chosen in a section list.<br />
<br />
By using some InstType switches, you can prevent the component list from showing up, as well as allowing certain sections not to run.<br />
<br />
So, the script would then be like this:<br />
<br />
ComponentText 'Please select the type of installation that suits you.'<br />
InstType /NoCustom<br />
InstType /ComponentsOnlyOnCustom<br />
InstType 'Client Only'<br />
InstType 'Server Only'<br />
InstType Both<br />
<br />
Section ClientCfg<br />
SectionIn 1<br />
; Copy configuration file<br />
SectionEnd<br />
<br />
Section ServerCfg<br />
SectionIn 2<br />
; Copy configuration file<br />
SectionEnd<br />
<br />
Section FullCfg<br />
SectionIn 3<br />
; Copy configuration file<br />
SectionEndwhich seems to fulfill your needs. If not, just say so.<br />
<br />
Just wondering, why exactly do you need the Client Only/Server Only/Both installation types instead of just two check boxes with 'Client' and 'Server'? What extra needs to be done if both are installed?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">t-tex</div><div class="date">29th November 2001, 11:39</div></div><div class="posttext">Hi petersa,<br />
<br />
Thanks for the response. It almost works, it seems that the first switch is ignored. But that is ok, unless someone has an idea how to get around it. <br />
<br />
The reason that I want this is because the configuration file should only contain the information needed for the particular installation selected by the user. It is not strictly needed, but it is nice to have a configuration file that isn't filled with information that isn't used by the application.<br />
<br />
/T-Tex</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Schultz</div><div class="date">29th November 2001, 13:08</div></div><div class="posttext">If you are talking about the top one always being required the only work around to this that i know of is just have the top Section your program name and have no code executed under it..</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>