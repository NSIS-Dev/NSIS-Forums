<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Display Multiple languages in Message Box, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Display Multiple languages in Message Box NSIS Discussion" />
	
	<title> Display Multiple languages in Message Box [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Display Multiple languages in Message Box</div>
<hr />
<div class="pda"><a href="t-278793.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=278793">Display Multiple languages in Message Box</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">12th October 2007, 11:09</div></div><div class="posttext">I want to display Multiple languages in Message Box based on System default language ,<br />
Is there any way where in I can create a Resource files for each of the language and fetch the text based on <br />
system default language?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th October 2007, 11:48</div></div><div class="posttext">Can't you just use a LangString?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">12th October 2007, 11:59</div></div><div class="posttext">Thanks for ur reply :-)<br />
<br />
Yes i could do that but m not able to add Japanese Text into NSIS script file, since NSIS doesnt support UNICODE.Is there any way where in I can add Japanese text int NSIS script file ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th October 2007, 22:33</div></div><div class="posttext">Simply save the file as ANSI. Japanese has a codepage, so Unicode is not required.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">15th October 2007, 05:54</div></div><div class="posttext">Thanks for ur reply .....<br />
well I tried adding Japanese text in NSIS script file and <br />
saving it in ANSI , later when I opened back the script file<br />
the japanese text had turned to a question mark &quot; ????????&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">15th October 2007, 06:00</div></div><div class="posttext">This is how I add Japanese text <br />
<br />
Creating a macro <br />
<br />
!macro MACRO_INSTALL_PRODUCT prodname<br />
<br />
       StrCmp $LANGUAGE ${LANG_ENGLISH} 0 +2<br />
      <br />
  MessageBox MB_OKCANCEL|MB_ICONQUESTION &quot;You are about  install ${prodname}. Press OK to continue or CANCEL to exit the installation.&quot; IDOK NoAbort<br />
<br />
       StrCmp $LANGUAGE ${LANG_JAPANESE} 0 +2<br />
       MessageBox MB_OK|MB_ICONSTOP 'Japanese text here'<br />
<br />
!macroend<br />
<br />
<br />
call it as follows :<br />
<br />
!insertmacro MACRO_INSTALL_PRODUCT ${prodname}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th October 2007, 08:42</div></div><div class="posttext">There is no need for that unless you are calling the code in .onInit. As I said, use a LangString:<br />
<br />
LangString MsgBoxText ${LANG_ENGLISH} &quot;You are about to install ${prodname}. Press OK to continue or CANCEL to exit the installation.&quot;<br />
LangString MsgBoxText ${LANG_ENGLISH} &quot;Japanese text...&quot;<br />
<br />
...<br />
MessageBox MB_OKCANCEL|MB_ICONQUESTION $(MsgBoxText) IDOK +2<br />
Abort<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">15th October 2007, 10:02</div></div><div class="posttext">Thanks for ur reply ,But I m calling this MessageBox from <br />
Oninit</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jimpark</div><div class="date">15th October 2007, 16:12</div></div><div class="posttext">ranu_hai, is the Windows you are running set to use the Japanese codepage?  Or are you running using another language (i.e. English) as your codepage and using the IME to type Japanese into the script?<br />
<br />
There are two things you could try.  Using ANSI NSIS:<br />
1. Change your codepage to the language you want to use.  For example, if you want to type Japanese text, change your Windows setting to use the Japanese codepage.  (Control Panel-&gt;Regional and Language Options-&gt;Language for non-Unicode programs-&gt;Japanese.<br />
2. Reboot.<br />
3. Type your Japanese text in your NSIS script.<br />
4. Save as ANSI.<br />
For each language you want to support, you will need to do this process again.  Set the language, reboot, type, save etc.  And when you open the file up in a different language, it will look like junk but believe us, it will look right on the right localized Windows.<br />
<br />
OR, you can try the Unicode version of NSIS.  Look for the thread on the forums and get the files.  There is no rebooting involved that one because it supports Unicode.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galevsky</div><div class="date">16th October 2007, 10:32</div></div><div class="posttext">As for the LangString mechanism ineffective inside .onInit functions, is there any delivery planned to extend LangString abilities everywhere ?<br />
<br />
Because it is a bit disappointing to have both a pseudo-global easy-to-maintain multi-languages feature and hard coded management of languages inside some functions.<br />
<br />
Gal'</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">16th October 2007, 10:52</div></div><div class="posttext">thanks a lot <br />
<br />
Setting options in Control Panel -&gt; Regional &amp; Language Options solved my problem .<br />
<br />
But still I was not able to implement LangString</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th October 2007, 12:48</div></div><div class="posttext">If you want to show multilingual messages on installer launch put them in .onGUIInit or in the first page's pre function.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galevsky</div><div class="date">16th October 2007, 13:33</div></div><div class="posttext">Many thanks Afrow UK ;)<br />
<br />
Gal'</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galevsky</div><div class="date">16th October 2007, 13:52</div></div><div class="posttext">Just one more thing: <br />
<br />
I did my customized .onGUIInit function. I can use LangString inside. Good. The first line of my function is <br />
<br />
!insertmacro MUI_LANGDLL_DISPLAY<br />
<br />
To let the user choose the language. But the language is not taken into account.... so I still have a .onInit which contains this line. Is it normal to have .onGUIInit not able to set the language ?<br />
<br />
Thks.<br />
<br />
Gal'</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">17th October 2007, 06:20</div></div><div class="posttext">Suppose if v select the language( based on system default language),rather then allowing the user ,then will this .onGUIinit works ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galevsky</div><div class="date">17th October 2007, 09:17</div></div><div class="posttext">I advise you to declare your language inside .onInit function, either by !insertmacro MUI_LANGDLL_DISPLAY to let the user choose, or setup manually with StrCpy $LANGUAGE whatuwant.<br />
<br />
The tricky part is that MessageBoxes generated in .onInit don't take care of the language you setup. So, define your own .onGUIInit function into which you define your MessageBoxes of the primary checks (OS checks, welcome message and so on). Another way is to use the PRE function of the first page instead of re-defining .onGUIInit. Despite of all, the MUY_PAGES won't face any problem to use the right language, and the problem concerns only the MessageBoxes of the .onInit function.<br />
<br />
I hope it is clear for you now.<br />
<br />
Gal'</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">17th October 2007, 10:33</div></div><div class="posttext">Hey Thanks <br />
<br />
that solved my problem</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">17th December 2007, 06:54</div></div><div class="posttext">Hi jimpark ,<br />
As u said i was able to display Japanese Text by using the steps mentioned i.e Setting options in Control Panel -&gt; Regional &amp; Language Options ...<br />
But when i run the setup in MUI 2000 Server /Professional instead of Japanese text some junk gets displayed ???????<br />
<br />
any idea ??? y is this happening</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ranu_hai</div><div class="date">17th December 2007, 11:00</div></div><div class="posttext">solved my problem by downloading and installing Unicode NSIS from http://www.scratchpaper.com/</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>