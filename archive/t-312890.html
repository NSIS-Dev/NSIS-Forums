<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer made with NSIS?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer made with NSIS? NSIS Discussion" />
	
	<title> Installer made with NSIS? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer made with NSIS?</div>
<hr />
<div class="pda"><a href="t-312890.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=312890">Installer made with NSIS?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">23rd September 2009, 11:42</div></div><div class="posttext">is there a way to detect if an installer was made using nsis without running it? i guess i could monitor if the installer creates a pluginsdir, but i don't want to run it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">23rd September 2009, 12:20</div></div><div class="posttext">open in resource hacker and look at the dialogs or search the exe for the string &quot;NullsoftInst&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">23rd September 2009, 12:41</div></div><div class="posttext">the reason why i was asking, an installer of mine calls another one. i'd love that installer to detect if the other is made using nsis (it might differ!), so i can use some default nsis commandline options. hence, reshacker is not a very good option.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">23rd September 2009, 16:21</div></div><div class="posttext">You can use reshacker from the commandline.<br />
You can try something likeResHacker.exe -extract &quot;installer.exe&quot;, assembly.rc,  24,,Two files will be created: assembly.rc, which contains the filename of the other file.<br />
This second file contains the assembly info in xml format. The 'name' value in assembly -&gt; assemblyIdentity of an NSIS installer should be &quot;Nullsoft.NSIS.exehead&quot;.<br />
Hope this helps you, I'm not able test this right now.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ErikET</div><div class="date">28th September 2009, 11:55</div></div><div class="posttext">You can also use commandline tool sigcheck.exe from Sysinternals to check the manifest of the installer. <br />
<br />
Something like: <br />
<br />
Sigcheck -i -m -h -a &lt;installer.exe&gt; | find &quot;Nullsoft&quot; /i</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">28th September 2009, 12:36</div></div><div class="posttext">a exe manifest is not required, looking for NullsoftInst after the PE+sections is your best bet</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">28th September 2009, 13:50</div></div><div class="posttext">thanks for the help, but i trying to keep my installer's footprints as low as possible. with an average installer size of 100kb, i will not add an extra 230kb (uncompressed) for reshacker. there is no &quot;internal&quot; way to solve this? what about the mighty system plugin?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">28th September 2009, 16:17</div></div><div class="posttext">you can probably do this without the system plugin even, just IntOp + FileOpen/ReadByte/Seek (But using the system plugin to read pointer sized numbers is probably less work than using filereadbyte and intop)<br />
<br />
see<br />
http://msdn.microsoft.com/en-us/magazine/cc301805.aspx<br />
http://msdn.microsoft.com/en-us/magazine/cc301808.aspx<br />
http://msdn.microsoft.com/en-us/library/ms809762.aspx<br />
and http://nsis.svn.sourceforge.net/viewvc/nsis/NSIS/trunk/Source/exehead/fileform.h?revision=5958&amp;view=markup</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">1st October 2009, 15:37</div></div><div class="posttext">phew, i previously used FileOpen/ReadByte/Seek on relatively small dll files and scanning them takes forever. i take it, the information relevant sits in a specific part (header?) of the file to be scanned? so could i limit my ReadByte/Seek to a portion of the file to get a quicker result?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">1st October 2009, 15:52</div></div><div class="posttext">the nsis header you are looking for (with the NullsoftInst signature) comes after the PE header and its sections, so you need to parse the PE header to figure out where it ends</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>