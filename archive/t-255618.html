<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer with no icon, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer with no icon NSIS Discussion" />
	
	<title> Installer with no icon [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer with no icon</div>
<hr />
<div class="pda"><a href="t-255618.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255618">Installer with no icon</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">16th September 2006, 18:27</div></div><div class="posttext">Hey all,<br />
<br />
How can I make an installer without an icon, because NSIS adds a default icon when the script dont specify one.<br />
<br />
I would like no icon at all, just let windows show the default exe icon for the installer.<br />
<br />
Thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">16th September 2006, 19:45</div></div><div class="posttext">I am sorry, you are saying you don't want an icon and then you end the question with 'show the default icon'? Which is it? Do you want an icon or not?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">16th September 2006, 20:36</div></div><div class="posttext">I suspect he wants an icon, but he wants it to be the icon as seen for an executable that has no icon resource itself.<br />
If this is the case, Backland, just get a copy of that icon in .ico format and specify that as the icon.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">17th September 2006, 01:08</div></div><div class="posttext">Ah, yeah, ok, if that is it, do what Animaether says :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">17th September 2006, 08:27</div></div><div class="posttext">Sorry, yes I meant the default windows icon for executables which Windows disaplays when there is none set in the actual exe.<br />
<br />
I could just copy that icon and set it in my installer, but another user may have specified something different as their exe file icon in Windows settings, any other way to get an icon-less installer?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">17th September 2006, 09:24</div></div><div class="posttext">not seeing any</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">17th September 2006, 10:11</div></div><div class="posttext">Not sure if it will work, but you could try to remove the icon from the installer with tool like Resource Hacker (http://www.angusj.com/resourcehacker/). Just add &quot;CRCCheck off&quot; in your script so you don't get CRC error when you run the installer.<br />
<br />
Edit: I tried it and it works. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">v-tal</div><div class="date">17th September 2006, 11:56</div></div><div class="posttext">Turning CRCCheck off is not good thing.<br />
Look at !packhdr command. With it you can invoke ResourceHacker whithin your script to remove icon from installer stub.<br />
Read ResourceHacker help for commandline options.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">17th September 2006, 12:14</div></div><div class="posttext">!packhdr with ResourceHacker should just work well, i'm using (http://forums.winamp.com/showthread.php?postid=2004904#post2004904) it to add a 2nd icon to the installer. i'm wondering though how windows treats an exe without icon. will it display that empty window icon?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">17th September 2006, 12:26</div></div><div class="posttext">yes, it displays the empty window icon, flat if it's small, the fancy angled+shaded one if it's big (XP anyway).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">17th September 2006, 12:33</div></div><div class="posttext">Yes !packhdr is definitely the right way to go. :)<br />
<br />
!packhdr &quot;exehead.tmp&quot; '&quot;C:\Program Files\ResHack\ResHacker.exe&quot; -delete exehead.tmp, exehead.tmp, icongroup,103,'<br />
<br />
That should do the trick.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Backland</div><div class="date">17th September 2006, 13:37</div></div><div class="posttext">Thanks for the help guys. :)<br />
<br />
I was wondering how difficult it would be to add such a functionality to NSIS itself?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th September 2006, 17:00</div></div><div class="posttext">You just need to put that code into your script.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">17th September 2006, 20:11</div></div><div class="posttext">very nice and clean solution, i like it :)<br />
thus posted in the wiki:<br />
http://nsis.sourceforge.net/Installer_without_Icon_Ressource<br />
:)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>