<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SetCtlColors and button text color, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SetCtlColors and button text color NSIS Discussion" />
	
	<title> SetCtlColors and button text color [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SetCtlColors and button text color</div>
<hr />
<div class="pda"><a href="t-247999.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=247999">SetCtlColors and button text color</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zeeh3</div><div class="date">6th June 2006, 18:10</div></div><div class="posttext">NSIS manual says that &quot;SetCtlColors Sets a background color and the text color for a static control, edit control, button or a dialog.&quot; But I couldn't change the text color of buttons to white using it. Any ideas excluding wansis plugin?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">6th June 2006, 18:23</div></div><div class="posttext">No I can't get it to work either!<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">11th August 2006, 20:41</div></div><div class="posttext">I tried it too, but no success<br />
Maybe I am doing something wrong?<br />
<br />
<br />
!define BUTTONS_TEXT_COLOR &quot;0xFFFFFF&quot;<br />
<br />
FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $0 $HWNDPARENT 1   <br />
SetCtlColors $0 ${BUTTONS_TEXT_COLOR} transparent   GetDlgItem $0 $HWNDPARENT 2   <br />
SetCtlColors $0 ${BUTTONS_TEXT_COLOR} transparent   GetDlgItem $0 $HWNDPARENT 3   <br />
SetCtlColors $0 ${BUTTONS_TEXT_COLOR} transparent<br />
 <br />
<br />
This code works with labels, but with buttons no!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">scully13</div><div class="date">11th August 2006, 21:08</div></div><div class="posttext">You can't use variables for the colors.  You would need to do something like this:<br />
<br />
<br />
FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $0 $HWNDPARENT 1   <br />
SetCtlColors $0 0xFFFFFF transparent<br />
GetDlgItem $0 $HWNDPARENT 2   <br />
SetCtlColors $0 0xFFFFFF transparent<br />
GetDlgItem $0 $HWNDPARENT 3   <br />
SetCtlColors $0 0xFFFFFF transparent<br />
<br />
A feature request has been made for it but no progress yet.<br />
https://sourceforge.net/tracker/index.php?func=detail&amp;aid=901756&amp;group_id=22049&amp;atid=373088</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th August 2006, 00:02</div></div><div class="posttext">T.Slappy wasn't using variables. He was using a compile time constant.<br />
<br />
It doesn't work due to issues with Windows XP styles. If you don't use XPStyle on then it should work (you may still need to refresh the static control though).<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dandaman32</div><div class="date">12th August 2006, 07:57</div></div><div class="posttext">AFAIK there is no way to skin a button. Using the compile-time constants is fine (I do it all the time in the ExperienceUI) but I have never been able to get buttons to work with SetCtlColors. The SkinnedButton plugin (http://ultramodernui.sf.net) has worked pretty well in my tests, but I haven't messed with it in over a year, and as far as I can remember it requires you to explicitly specify XPStyle off if you are using the Modern UI.<br />
<br />
Also, I know this is totally off topic, but I need to announce this somewhere: my old e-mail address dandaman32@isp.com will cease to exist as of this coming Monday, as I am finally biting the bullet and getting DSL, thus involving a switch to another ISP. My new e-mail address, which I have been using all summer, is &lt;my screen name&gt; AT gmail &lt;dot&gt; com.<br />
<br />
-dandaman32</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">12th August 2006, 08:16</div></div><div class="posttext">Originally posted by dandaman32 <br />
<br />
Also, I know this is totally off topic, but I need to announce this somewhere: my old e-mail address dandaman32@isp.com will cease to exist as of this coming Monday, as I am finally biting the bullet and getting DSL, thus involving a switch to another ISP. My new e-mail address, which I have been using all summer, is &lt;my screen name&gt; AT gmail &lt;dot&gt; com.<br />
<br />
-dandaman32  <br />
<br />
Maybe you should make the switch to 64 bit aswell :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">12th August 2006, 15:58</div></div><div class="posttext">I set XPStyle off, beacuse I use skinnedbutton plugin.<br />
<br />
I want to have full skin in my installer (I wrote my own script and publish it in another topic), but when I use dark bitmaps for buttons (see attachment) buttons texts cannot be read.<br />
<br />
Upper code works fine with labels...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dandaman32</div><div class="date">12th August 2006, 21:57</div></div><div class="posttext">Originally posted by Anders<br />
Maybe you should make the switch to 64 bit aswell :D<br />
well i just finished downloading openSuSE 10.1 final x86 edition, and i already wasted a DVD on it, so i'm stuck with x86 for now ;) don't feel like downloading that gigantic ISO again :rolleyes: besides NSIS doesn't have 64bit support yet so why bother? :p<br />
<br />
Slappy - my guess for coloring button text would be to call SetCtlColors and then send the control WM_REDRAW or something, though I have no experience with C or anything with the Win32 API for that matter so I don't know. I think kichik wrote that doc page so he's probably the one you should ask.<br />
<br />
-dandaman32</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">12th August 2006, 23:28</div></div><div class="posttext">Originally posted by T.Slappy I want to have full skin in my installer (I wrote my own script and publish it in another topic), but when I use dark bitmaps for buttons (see attachment) buttons texts cannot be read.The next version of the SkinnebButton plugin will implement this feature.<br />
<br />
I develop also an other plugin named SkinnedControls that can skin Buttons AND/OR ScrollBars.<br />
<br />
I will release these plugins soon at the same time as UltraModernUI beta2.<br />
<br />
And I try to make so that the next and back buttons skin then even after having used the startmenu plugin, but I do not arrive to fix it.<br />
<br />
It would be possible to modify 2 lines in the file ui.c?<br />
The lines 98 and 553, where a button gets set to BS_PUSHBUTTON resp. BS_DEFPUSHBUTTON, it voids the flag BS_OWNERDRAW that is mandatory for skinned buttons.<br />
Can your modify BS_PUSHBUTTON and BS_DEFPUSHBUTTON by the BS_OWNERDRAW in this file for the next NSIS version since that does not influence the unskinned installers?<br />
<br />
An other change is to editing the GUI exe, dialog 106, resource ID 1027 (&quot;Show Details&quot; button) where we must replace BS_PUSHBUTTON by BS_OWNERDRAW again to keep this button skinned.<br />
<br />
This 3 changes make SkinnedButton, SkinnedControls and Wansis work better...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th August 2006, 11:22</div></div><div class="posttext">I think you should post a feature request on the NSIS Source Forge page.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">13th August 2006, 14:27</div></div><div class="posttext">OK I will do that</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>