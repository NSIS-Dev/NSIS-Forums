<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Win9x shows ugly icons for some installers, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Win9x shows ugly icons for some installers NSIS Discussion" />
	
	<title> Win9x shows ugly icons for some installers [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Win9x shows ugly icons for some installers</div>
<hr />
<div class="pda"><a href="t-291063.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=291063">Win9x shows ugly icons for some installers</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">30th April 2008, 11:31</div></div><div class="posttext">I've noticed that since I upgraded to NSIS 2.36 my installers now use icons with an ugly black edge on Win9x and Win2K systems (but on WinXP and Vista the icons look OK).<br />
<br />
At first I thought there was a problem with my icons but I found that I could recreate the problem by inserting the following line into the VersionInfo.nsi example shipped with the NSIS compiler: Icon &quot;${NSISDIR}\Contrib\Graphics\Icons\orange-install.ico&quot;<br />
Working back through my collection of nightly builds I found that the problem appears to have been introduced between NSIS 2.31 and 2.32.<br />
<br />
The nsis-01-Oct-2007.cvs compiler generates an installer with an icon that looks the same on Win9x and Vista systems but the nsis-05-Oct-2007.cvs compiler generates an installer which looks ugly on Win9x systems (and I've had reports that Win2K systems also show the ugly version of the icon).<br />
<br />
This screenshot shows the results seen on my Win98SE system after compiling the same source file (with the same icon file) using these two nightly builds. The screenshot also shows the basic icon for comparison.<br />
<br />
On Vista both installers look like the orange-install.ico shown in the screenshot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">30th April 2008, 11:52</div></div><div class="posttext">Normally only icons with just 32bit images look like that. In 2.32 the icon handling was changed to support PNG icons, maybe that introduced a bug (maybe the icons image order changes or something like that)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">30th April 2008, 22:39</div></div><div class="posttext">I have noticed this too. But I always thought the the actual icon files were changed.<br />
<br />
I did a little digging and compared the icons in the installer with Resource Hacker and if the icon image order matters anything that's definitely changed...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">30th April 2008, 23:32</div></div><div class="posttext">I did a little digging and compared the icons in the installer with Resource Hacker and if the icon image order matters anything that's definitely changed...You beat me to it! I have just found the same thing.<br />
<br />
Perhaps Win9x and Win2K expect the icons to be listed in increasing order of size? This would explain the strange effect on those systems for installers built using NSIS 2.32 or later.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">1st May 2008, 03:50</div></div><div class="posttext">If I remember correctly, the Windows XP type icons (with alpha channel) that are not supported by Windows 9x should come after the other icons. This is probably correct in the icon files, but the compiler somehow reverses the order.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd May 2008, 19:21</div></div><div class="posttext">I have 2GB of compiled installers saying this is fixed for 2.37. It will now use the original icon file order for both the installer and the uninstaller unlike the old versions that only made this possible for the installer icon.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>