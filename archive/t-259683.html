<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ShowWindow Problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ShowWindow Problem NSIS Discussion" />
	
	<title> ShowWindow Problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ShowWindow Problem</div>
<hr />
<div class="pda"><a href="t-259683.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=259683">ShowWindow Problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">16th November 2006, 18:11</div></div><div class="posttext">I have a very simple installer that just shows the license page.  I have modified the resource to extend the RichEdit control for the entire width and height of the dialog.  Within .onGuiInit, I'm hiding the Cancel button and within the license page Show function, I'm hiding the icon and label controls.  This use to work, but now it doesn't.  When the installer is shown, the RichEdit control is of the correct width/height, but the other two controls, which I hid, are visible.  The weird thing is, though, that when you ALT+TAB to another window and then go back (or minimize and then restore), the installer looks the way I want it.  Here is an example of what I'm doing.  Am I missing something obvious?<br />
<br />
Page license &quot;&quot; LicenseShow<br />
<br />
Outfile 'setup.exe'<br />
ChangeUI all &quot;my_modified_default.exe&quot;<br />
<br />
!macro HideWindow _ITEM<br />
  Push $0<br />
  GetDlgItem $0 $HWNDPARENT ${_ITEM}<br />
  ShowWindow $0 0<br />
  Pop $0<br />
!macroend<br />
!define HideWindow `!insertmacro HideWindow`<br />
<br />
Function .onGuiInit<br />
  ${HideWindow} 2<br />
FunctionEnd<br />
<br />
Function LicenseShow<br />
  ${HideWindow} 1006<br />
  ${HideWindow} 1031<br />
FunctionEnd<br />
<br />
As a workaround, I just took away the WS_VISIBLE flag from the dialogs in the resource, but I still think what I was doing should work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th November 2006, 18:42</div></div><div class="posttext">$HWNDPARENT is the handle to the outer dialog. You need the handle to the inner dialog by using:<br />
FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
I'm surprised that the labels are being hidden at all.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">16th November 2006, 18:49</div></div><div class="posttext">:eek: I feel dumb...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>