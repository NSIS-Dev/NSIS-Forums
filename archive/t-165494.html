<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" To extract a file only if a given language was selected..., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  To extract a file only if a given language was selected... NSIS Discussion" />
	
	<title> To extract a file only if a given language was selected... [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  To extract a file only if a given language was selected...</div>
<hr />
<div class="pda"><a href="t-165494.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=165494">To extract a file only if a given language was selected...</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Cdzitu</div><div class="date">18th January 2004, 19:54</div></div><div class="posttext">Hiya, i want the leia-me.txt file to be extracted only if the user choose PortugueseBR and the readme.txt file to be extracted only if the user selected English, how would i do it?!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">18th January 2004, 19:57</div></div><div class="posttext">Check the value of $LANGUAGE.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Cdzitu</div><div class="date">18th January 2004, 22:17</div></div><div class="posttext">Sorry Joost, but i didn't get it. =|</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">18th January 2004, 22:35</div></div><div class="posttext">Use this code ;readme files - replace xxxx with the language code for PortugueseBR <br />
StrCmp $LANGUAGE 1033 0 +2<br />
  file readme.txt<br />
StrCmp $LANGUAGE xxxx 0 +2<br />
  file leia-me.txt<br />
;rest of script <br />
 <br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Cdzitu</div><div class="date">19th January 2004, 00:28</div></div><div class="posttext">Thank you, Joost and Vytautas ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Cdzitu</div><div class="date">19th January 2004, 03:13</div></div><div class="posttext">Okk, it worked fine but now i have another problem. After i finish compiling my installer, i get many warnings like this:<br />
<br />
Generating language tables... warning: LangString &quot;MUI_INNERTEXT_LICENSE_BOTTOM_CHECKBOX&quot; is not set in language table of language 1033<br />
... <br />
<br />
And when i run the file, it shows no texts.<br />
<br />
Please, help meee! ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">19th January 2004, 14:51</div></div><div class="posttext">1033 is the language ID of English. You can also use ${LANG_ENGLISH} instead, that's easier. For PortugueseBR use ${LANG_PORTUGUESEBR}.<br />
<br />
If you get this error, you have probably used an English language string without including the MUI_LANGUAGE macro for English.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Cdzitu</div><div class="date">21st January 2004, 23:52</div></div><div class="posttext">I included the macro for both languages but i still get this error. I think something is in the wrong order, but i've changed it many times and couldn't make it work. I'll post the first lines of my script here and hope you can help me. ;)<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
!define NAME &quot;Jackal Counter-Strike Pack&quot;<br />
!define VERSION &quot;v1.0&quot;<br />
!define MUI_ICON &quot;${NSISDIR}\contrib\graphics\icons\classic-install.ico&quot;<br />
!define MUI_UNICON &quot;${NSISDIR}\contrib\graphics\icons\classic-uninstall.ico&quot;<br />
!define MUI_LANGDLL_REGISTRY_ROOT &quot;HKLM&quot; <br />
!define MUI_LANGDLL_REGISTRY_KEY &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\JCP&quot; <br />
!define MUI_LANGDLL_REGISTRY_VALUENAME &quot;Installer Language&quot;<br />
!define MUI_FINISHPAGE_SHOWREADME &quot;$INSTDIR\cstrike\$(README)&quot;<br />
!define MUI_FINISHPAGE_SHOWREADME_TEXT $(SHOWREADME)<br />
!define MUI_FINISHPAGE_SHOWREADME_NOTCHECKED<br />
!define MUI_FINISHPAGE_RUN &quot;$INSTDIR\hl.exe&quot; <br />
!define MUI_FINISHPAGE_RUN_PARAMETERS &quot;-console -game cstrike -noforcemaccel -noforcemparms +localinfo mm_gamedll podbot/podbot.dll&quot;<br />
!define MUI_FINISHPAGE_RUN_TEXT $(RUNTEXT)<br />
!define MUI_FINISHPAGE_RUN_NOTCHECKED<br />
!define MUI_LICENSEPAGE_CHECKBOX<br />
!define MUI_DIRECTORYPAGE_TEXT_DESTINATION $(TD)<br />
!define MUI_COMPONENTSPAGE_SMALLDESC<br />
!define MUI_FINISHPAGE_NOAUTOCLOSE<br />
!define MUI_HEADERIMAGE<br />
!define MUI_HEADERIMAGE_BITMAP &quot;${NSISDIR}\contrib\graphics\header\win.bmp&quot;<br />
!define MUI_HEADERIMAGE_UNBITMAP &quot;${NSISDIR}\contrib\graphics\header\win.bmp&quot;<br />
<br />
!insertmacro MUI_LANGUAGE &quot;PortugueseBR&quot;<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Name &quot;${NAME}&quot;<br />
<br />
XPStyle on<br />
CRCCheck off<br />
SetOverwrite on<br />
SetFont Tahoma 8<br />
ShowInstDetails nevershow<br />
ShowUninstDetails nevershow<br />
OutFile &quot;C:\1_dc\apps\jcp10.exe&quot;<br />
InstallDirRegKey HKLM &quot;Software\Valve\Half-Life&quot; &quot;InstallPath&quot;<br />
<br />
Function .onInit<br />
	<br />
!insertmacro MUI_LANGDLL_DISPLAY	<br />
InitPluginsDir<br />
File /oname=$PLUGINSDIR\splash.bmp &quot;C:\1_dc\pack\installer\imagens\splash.bmp&quot;<br />
advsplash::show 3000 600 400 -1 $PLUGINSDIR\splash<br />
Pop $0<br />
<br />
FunctionEnd<br />
<br />
Function .onVerifyInstDir<br />
<br />
IfFileExists $INSTDIR\hl.exe PathGood<br />
Abort<br />
PathGood:<br />
<br />
FunctionEnd<br />
<br />
Caption &quot;$(I1) ${NAME} ${VERSION}&quot;<br />
UninstallCaption &quot;$(I2) ${NAME} ${VERSION}&quot;<br />
BrandingText &quot;${NAME} $(I3) Nullsoft Scriptable Install System&quot;<br />
<br />
!insertmacro MUI_PAGE_LICENSE &quot;C:\1_dc\pack\hl\cstrike\licenca.txt&quot;<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_PAGE_FINISH<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
<br />
LangString RUNTEXT ${LANG_PORTUGUESEBR} &quot;Executar CS?&quot;<br />
LangString SHOWREADME ${LANG_PORTUGUESEBR} &quot;Deseja ver o leia-me?&quot;<br />
LangString TD ${LANG_PORTUGUESEBR} &quot;Caso o diretório do HL não esteja certo, insira a localização correta.&quot;<br />
LangString I1 ${LANG_PORTUGUESEBR} &quot;Instalação:&quot;<br />
LangString I2 ${LANG_PORTUGUESEBR} &quot;Desinstalação:&quot;<br />
LangString I3 ${LANG_PORTUGUESEBR} &quot;distribuído pelo&quot;<br />
LangString README ${LANG_PORTUGUESEBR} &quot;leia-me.txt&quot;<br />
LangString RUNTEXT ${LANG_ENGLISH} &quot;Run CS?&quot;<br />
LangString SHOWREADME ${LANG_ENGLISH} &quot;Do you wish to see the readme?&quot;<br />
LangString TD ${LANG_ENGLISH} &quot;If the HL directory shown below isn't right, select the right path.&quot;<br />
LangString I1 ${LANG_ENGLISH} &quot;Instalation:&quot;<br />
LangString I2 ${LANG_ENGLISH} &quot;Uninstalation:&quot;<br />
LangString I3 ${LANG_ENGLISH} &quot;packed by&quot;<br />
LangString README ${LANG_ENGLISH} &quot;readme.txt&quot;<br />
LangString DP1 ${LANG_PORTUGUESEBR} &quot;Fazendo cópia de segurança...&quot;<br />
LangString DP2 ${LANG_PORTUGUESEBR} &quot;Copiando arquivos de base...&quot;<br />
LangString DP3 ${LANG_PORTUGUESEBR} &quot;Inserindo chaves do registro...&quot;<br />
LangString BANNER1 ${LANG_PORTUGUESEBR} &quot;$\r$\n$\r$\n&gt; Servidor rodando:$\r$\n&gt; ${NAME} ${VERSION} @ jcp.sharewith.us&quot;<br />
LangString SHORTCUT1 ${LANG_PORTUGUESEBR} &quot;Leia-me.lnk&quot;<br />
LangString SHORTCUT2 ${LANG_PORTUGUESEBR} &quot;Desinstalador.lnk&quot;<br />
LangString DP1 ${LANG_ENGLISH} &quot;Making backup...&quot;<br />
LangString DP2 ${LANG_ENGLISH} &quot;Copying base files...&quot;<br />
LangString DP3 ${LANG_ENGLISH} &quot;Inserting registry keys...&quot;<br />
LangString BANNER1 ${LANG_ENGLISH} &quot;$\r$\n$\r$\n&gt; Server running:$\r$\n&gt; ${NAME} ${VERSION} @ jcp.sharewith.us&quot;<br />
LangString SHORTCUT1 ${LANG_ENGLISH} &quot;Readme.lnk&quot;<br />
LangString SHORTCUT2 ${LANG_ENGLISH} &quot;Uninstall.lnk&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">22nd January 2004, 14:09</div></div><div class="posttext">Indeed. The page macros should be before the MUI_LANGUAGE macros.<br />
<br />
Some other notes:<br />
<br />
You don't have to add SetFont Tahoma 8. NSIS 2 uses the Windows system font by default (the sytem font of modern Windows versions is Tahoma).<br />
<br />
The Modern UI automatically sets XPStyle to on.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>