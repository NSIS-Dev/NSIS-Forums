<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Button size depending on text amount, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Button size depending on text amount NSIS Discussion" />
	
	<title> Button size depending on text amount [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Button size depending on text amount</div>
<hr />
<div class="pda"><a href="t-320266.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320266">Button size depending on text amount</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">26th June 2010, 10:36</div></div><div class="posttext">I have a custom page where button texts can be set externally (localization purposes). I'm considering to use the code that would automatically resize the buttons according to text amount. For that, it needs to determine the string size in dialog units. So far I've come up with this:StrCpy $1 &quot;a string&quot;<br />
StrLen $2 $1<br />
System::Call 'user32::GetDC(i $HWNDPARENT) i. R1'<br />
System::Call '*(&amp;i4, &amp;i4) i .R2'<br />
System::Call 'gdi32::GetTextExtentPoint32(i R1, t r1, i r2, i R2) i.'<br />
System::Call '*$R2(&amp;i4,&amp;i4)i(.r3,.r4)'<br />
System::Free $R2<br />
# $3 = Width, $4 = Height<br />
This returns the string dimensions in logical units. So now I'm trying to figure out the proper way to convert that to dialog units.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th June 2010, 10:41</div></div><div class="posttext">Did you see this article:<br />
http://support.microsoft.com/kb/125681<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">26th June 2010, 11:03</div></div><div class="posttext">Now I did. :o Thanks!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>