<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Error, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Error NSIS Discussion" />
	
	<title> Error [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Error</div>
<hr />
<div class="pda"><a href="t-110971.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=110971">Error</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">22nd October 2002, 18:16</div></div><div class="posttext">i got a very simple script, using no strings until the first section, the first command there is:<br />
<br />
FileOpen $0 &quot;file.txt&quot; r<br />
<br />
when i compile the the installer, i get the following error message<br />
<br />
Invalid command: FileOpen $0 &quot;file.txt&quot;<br />
Error in script &quot;test.nsi&quot; on line 21 -- aborting creation process<br />
<br />
i have no clue why that is. there's no other string used in the script until that position.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sdbarker</div><div class="date">22nd October 2002, 19:18</div></div><div class="posttext">Perhaps try another register other than $0.  I know there were previously problems use ReadRegStr with $0<br />
<br />
-Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">22nd October 2002, 21:40</div></div><div class="posttext">thanks for the tip, but the error remains</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">23rd October 2002, 19:52</div></div><div class="posttext">Works fine here. Please use the latest CVS version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">24th October 2002, 09:33</div></div><div class="posttext">i constantly updated my nsis, but i always had this error (actually i posted this some months ago).<br />
<br />
Name &quot;test&quot;<br />
OutFile test.exe<br />
CRCCheck on<br />
XPStyle on<br />
#InstallDir &quot;$PROGRAMFILES\test&quot;<br />
<br />
DirText &quot;Select a target directory.&quot;<br />
DirShow show<br />
SetCompress force<br />
InstType Standard<br />
<br />
Section &quot;Required Components&quot;<br />
<br />
FileOpen $R1 &quot;file.txt&quot; r<br />
<br />
loop:<br />
FileRead $R1 $R2<br />
IfErrors done<br />
MessageBox MB_OK $R2<br />
Goto loop<br />
<br />
done:<br />
Exit<br />
Section End<br />
<br />
the odd thing is, that it claims &quot;FileOpen&quot; to be an invalid command<br />
<br />
Invalid command: FileOpen $R1 &quot;file.txt&quot;<br />
Error in script &quot;C:\_dirdupe\test.nsi&quot; on line 14 -- aborting creation process<br />
<br />
kichik helped me with this script a while ago. he also could compile it. i'm running win xp, if that helps.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">24th October 2002, 13:09</div></div><div class="posttext">There are two other bugs in your script. Does the attached script work?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">24th October 2002, 21:28</div></div><div class="posttext">thanks, that worked. what not worked, i replaced the messagebox with the createdirectory command. got a clue why that is?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">28th October 2002, 12:23</div></div><div class="posttext">anyone an idea?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">28th October 2002, 14:18</div></div><div class="posttext">I don't understand what you mean. Please give a better description.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">28th October 2002, 23:05</div></div><div class="posttext">you see the pasted script of mine above. when i replace 'MessageBox' with 'CreateDirectory', the compiled exe does not create the directories or creates a maximum of one (that depends on the given text file). the purpose of the program is to create empty directories, names gotten from a text file. i only used messagebox before, to see if it generally works properly, which it does unless i replace it with createdirectories.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>