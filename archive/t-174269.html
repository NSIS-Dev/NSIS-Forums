<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Section Lists, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Section Lists NSIS Discussion" />
	
	<title> Section Lists [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Section Lists</div>
<hr />
<div class="pda"><a href="t-174269.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=174269">Section Lists</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TSZChEeTaH</div><div class="date">27th March 2004, 01:11</div></div><div class="posttext">Hello Folks,<br />
<br />
I'm trying to build an installation with a summary page using NSIS. Although I did get it working, I would like to enhance it a bit (and make it a bit more portable too). The problem is that I can't find a way to detect the sections that are available in an installation automatically (on compile time would be the best I guess).<br />
<br />
Basically what I'm looking for is some code which checks the current installation and loops through all Sections. Then what it must do, is simply add a string (containing the section's name) if the selection is checked and visible on the components page. For layout improvement, I guess it would also be useful at what depth in the tree (in case of subsections) the section is, so you can add a number of spaces before the text and indent it that way.<br />
<br />
As said, I am able to do it now (and the whole summary page is working too), but it's quite installation specific. The code must now be written separately for each section (with hardcoded section names etc) which does make it look a bit ugly. If you add or remove a section to the installation, you'll also have to adjust the function etc...<br />
<br />
On another (off-topic) note: I was wondering if the Finnish language file for the MUI has been updated yet (because my installation will also be in Finnish)? I didn't find an updated file in the latest snapshot though... If not, what strings are missing (on what pages etc.)?<br />
<br />
Thank you for your help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th March 2004, 10:26</div></div><div class="posttext">SectionGetFlags, SectionGetInstTypes, etc. will set the error flag if given a section which is out of range. You can use that to loop through all sections until the error flag is set.<br />
<br />
For depth, you can check for the SF_SUBSEC and SF_SUBSECEND flags in that loop.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TSZChEeTaH</div><div class="date">27th March 2004, 13:01</div></div><div class="posttext">Thanks a lot for your help, I should be able to do the rest from there :) I did read something like that in the documentation but I didn't understand it completely I guess. Thanks again :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>