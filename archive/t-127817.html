<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Extract file with another name, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Extract file with another name NSIS Discussion" />
	
	<title> Extract file with another name [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Extract file with another name</div>
<hr />
<div class="pda"><a href="t-127817.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=127817">Extract file with another name</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rpetges</div><div class="date">9th March 2003, 16:51</div></div><div class="posttext">Hi,<br />
<br />
I have a multi-language installer with three language files in it:<br />
<br />
Language file 1 = Res_EN.DLL<br />
Language file 2 = Res_FR.DLL<br />
Language file 3 = Res_DE.DLL<br />
<br />
What I want to do is renaming the file to RES.DLL based on the language choosen by the user.<br />
<br />
I tried different things with the &quot;File&quot; instruction and the &quot;/oname&quot; parameter but I'm unable to get this working.<br />
<br />
Any help is welcome<br />
<br />
Romain</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">9th March 2003, 17:01</div></div><div class="posttext">I'm assuming you have an InstallOptions page there, so the user gets to select between 3 different RadioButtons, in this case Field 1-3.<br />
It will read from Field 1 and if it is set to 1 (state), it will install the English dll (jumpto InstallEN.)<br />
If Field 1 is set to 0 then it will read from Field 2.<br />
If Field 2 is set to 1, it will install the French dll and so on.<br />
<br />
<br />
<br />
<br />
InitPluginsDir<br />
ReadINIStr $0 &quot;$PLUGINSDIR\language.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
StrCmp $0 1 InstallEN<br />
<br />
ReadINIStr $0 &quot;$PLUGINSDIR\language.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
StrCmp $0 1 InstallFR<br />
<br />
ReadINIStr $0 &quot;$PLUGINSDIR\language.ini&quot; &quot;Field 3&quot; &quot;State&quot;<br />
StrCmp $0 1 InstallDE<br />
<br />
<br />
InstallEN:<br />
File /oname=$INSTDIR\Res.dll &quot;C:\path\to\Res_EN.DLL&quot;<br />
goto done<br />
<br />
InstallFR:<br />
File /oname=$INSTDIR\Res.dll &quot;C:\path\to\Res_FR.DLL&quot;<br />
goto done<br />
<br />
InstallDE:<br />
File /oname=$INSTDIR\Res.dll &quot;C:\path\to\Res_DE.DLL&quot;<br />
<br />
done:<br />
<br />
<br />
Hope that helps.<br />
Edit: where language.ini is the InstallOptions INI file.<br />
<br />
The code can go in the InstFiles sections, or you could have it in the pre function of the next page.<br />
<br />
If your using modern ui and you have the InstallOptions page before the Welcome page, then you can add this to your script:<br />
<br />
<br />
      !define MUI_CUSTOMFUNCTION_WELCOME_SHOW &quot;languages&quot;<br />
<br />
<br />
Where &quot;languages&quot; is the funtion that all that stuff above will go in.<br />
It will call the function just before the welcome page shows.<br />
<br />
If you aren't using modern ui, then use Page Welcome &quot;languages&quot;<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rpetges</div><div class="date">9th March 2003, 17:36</div></div><div class="posttext">Hope that helps. <br />
<br />
Yes, it works !<br />
<br />
Many thanks</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>