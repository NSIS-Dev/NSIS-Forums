<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" 2.11 and components problem?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  2.11 and components problem? NSIS Discussion" />
	
	<title> 2.11 and components problem? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  2.11 and components problem?</div>
<hr />
<div class="pda"><a href="t-233003.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=233003">2.11 and components problem?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">l_d_allan</div><div class="date">12th December 2005, 16:19</div></div><div class="posttext">I've got a script that involves an optional component ... it has stopped working with 2.11. I reverted to 2.10 and it works ok.<br />
<br />
Is there a known problem with this, or a work-around, or something changed from 2.10 to 2.11? User error?<br />
<br />
If appropriate, I can strip down the script and attach.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">l_d_allan</div><div class="date">12th December 2005, 16:50</div></div><div class="posttext">More info ... this seems to only happen with the 8192 stringlen version of makensis<br />
<br />
Here is a sample script ... the optional WEB doesn't show up with 2.11-8192. It does show up with 2.10-8192 and 2.11-1024<br />
<br />
Name &quot;MyApp&quot;<br />
OutFile &quot;MyAppStarterKitSetup_beta.exe&quot;<br />
SetCompressor lzma<br />
CRCCheck on<br />
AutoCloseWindow true<br />
InstallDir &quot;$PROGRAMFILES\MyApp&quot;<br />
InstallDirRegKey HKLM SOFTWARE\MyApp &quot;Install_Dir&quot;<br />
<br />
; Pages<br />
Page components<br />
Page instfiles<br />
<br />
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;<br />
Section &quot;MyApp (req s/w -- no modules)&quot;<br />
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;<br />
  SectionIn RO<br />
  SetOutPath $INSTDIR<br />
  File MyApp.exe<br />
SectionEnd ; end the section<br />
<br />
Section &quot;Optional: WEB&quot;<br />
  CreateDirectory $INSTDIR\MyApp\junk<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th December 2005, 17:24</div></div><div class="posttext">I tried compiling this with 2.11-8192 and it worked fine. Do you have anything in nsisconf.nsh? Can you attach a compiled installer as an example?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">l_d_allan</div><div class="date">13th December 2005, 23:30</div></div><div class="posttext">Thanks for your help on this.<br />
<br />
Can you attach a compiled installer as an example? I'm not sure what you are asking for, but I am attaching:<br />
MyAppStarterKitSetup_beta.exe<br />
<br />
This example doesn't actually use long strings over 1024 length ... the actual installer does, however .... but that doesn't seem to be part of what I am experiencing.<br />
<br />
Do you have anything in nsisconf.nsh? Just the &quot;vanilla&quot; version as installed from Feb, 2005.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th December 2005, 17:12</div></div><div class="posttext">I'm asking for an example installer, compiled with 2.11, where I can see that the component doesn't show up. Your attachment didn't work, please try again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">l_d_allan</div><div class="date">19th December 2005, 21:57</div></div><div class="posttext">ooops.... attachment was too large ... bigger than file size limit of 1 meg.  Here is a link:<br />
<br />
http://cleanspeech.sf.net/misc/MyAppStarterKitSetup_beta.zip<br />
<br />
Thanks for your help on this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd December 2005, 13:10</div></div><div class="posttext">Seems like you've mixed and matched makensis.exe and the Stubs folder. The data appended to the stub uses 8192 bytes long strings, but the stub treats them as though they were 1024 bytes long. When using a special build, you must copy over both makensis.exe and the Stubs folder as is.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">l_d_allan</div><div class="date">24th December 2005, 13:06</div></div><div class="posttext">I installed ver 2.12 and the script is working ok ... probably operator error on my part. Thanks for you help (and patience)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>