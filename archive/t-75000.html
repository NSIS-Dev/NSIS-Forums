<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" dir2nsi, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  dir2nsi NSIS Discussion" />
	
	<title> dir2nsi [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  dir2nsi</div>
<hr />
<div class="pda"><a href="t-75000.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=75000">dir2nsi</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DragonSoull</div><div class="date">8th February 2002, 17:47</div></div><div class="posttext">Hello ppl new guy on the ranks :D <br />
<br />
does anybody nows a easy way to add files to a installer with dir structure i made a small app but with lots of files in diferent dirs and adding one by one in the~script is a pain since i'm extremelly lasy :D.<br />
<br />
Too the creator of NSIS: (some things I would love to see on NSIS)<br />
 - shortcut destination pane<br />
 - auto unistall (it would remove all the files installed)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">8th February 2002, 17:58</div></div><div class="posttext">Read the docs for File (http://firehose.net/free/nsis/makensis.htm#File) .  It supports adding directory trees.<br />
<br />
The uninstall support in NSIS is more powerful than just removing installed files.  If you have a simple install you could remove a whole directory with just one line.  But some apps require more steps like removing registry keys and such, and you don't want NSIS guessing which things it should remove.<br />
<br />
shortcut destination pane <br />
Whats this?<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">8th February 2002, 22:53</div></div><div class="posttext">Maybe he means a dialog to select a start menu group?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SmartyMan</div><div class="date">11th February 2002, 00:28</div></div><div class="posttext">Originally posted by rainwater <br />
If you have a simple install you could remove a whole directory with just one line.  But some apps require more steps like removing registry keys and such, and you don't want NSIS guessing which things it should remove.<br />
The makeNSIS uninstall functionality is powerfull indeed, but think about installing system DLLs or other stuff that expands other software - how can the author of the uninstall code asure that the uninstall code will remove only those files the installer has really installed (&quot;SetOverwrite ifNewer&quot;)?<br />
So i would like to see some automatic here, too - maybe the installer could log all the things he did in a special file and Justin could add a command reading this file and reversing all the actions.<br />
That would make the uninstaller just more powerfull, wouldnt it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">11th February 2002, 01:22</div></div><div class="posttext">Removal of dlls has been discussed before.  Search the forums for more info on that.  <br />
<br />
NSIS is a very low-level scriptable installation system.  I don't see automatically permorming tasks like these much of a priority as it would add to the overhead of the installer.  There's a reason why it has so much functionality, so you can do things like this for yourself.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bballer182</div><div class="date">11th February 2002, 01:29</div></div><div class="posttext">RW is correct</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DragonSoull</div><div class="date">11th February 2002, 19:21</div></div><div class="posttext">shortcut destination pane = dialog to select a start menu group<br />
<br />
sorry for my bad english.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">11th February 2002, 19:26</div></div><div class="posttext">You can use InstallOptions for that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SmartyMan</div><div class="date">11th February 2002, 23:34</div></div><div class="posttext">Originally posted by rainwater <br />
Removal of dlls has been discussed before.  Search the forums for more info on that.<br />
Thanks for that hint.<br />
<br />
There's a reason why it has so much functionality, so you can do things like this for yourself. <br />
OK, mybe you can guide me within the following expample: lets say that i want to write an installer which copys extended versions of the makeNSIS exmaple files in your NSIS folder.<br />
I would use SetOverwrite ifNewer (of course) and the docs say, that the timestamp of all the files will be adjusted, even if my file was not installed.<br />
Now: how can my unistaller find out which files are to be deleted (in other words: which of the existing files was installed by my installer)?<br />
<br />
BTW: this example can also be an argument for makeNSIS creating a backup folder (dest for all files overwritten during installation):)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">12th February 2002, 00:45</div></div><div class="posttext">There are many ways to do this.  You could check if the file is newer, then write to text file the name of file.  Then overwrite it.  Then your uninstaller just reads the file during the the uninstall and it will no which files to delete.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pjw62</div><div class="date">13th February 2002, 20:12</div></div><div class="posttext">Just out of interest for easily selecting files, I wrote a quick little app. a while ago.. NSIS drag drop thing--drop files onto it and it copies the 'File' statements to the clipboard.<br />
<br />
<br />
http://forums.winamp.com/showthread.php?threadid=66402</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SmartyMan</div><div class="date">13th February 2002, 23:58</div></div><div class="posttext">Originally posted by rainwater <br />
There are many ways to do this.  You could check if the file is newer, then write to text file the name of file.  Then overwrite it.  Then your uninstaller just reads the file during the the uninstall and it will no which files to delete. <br />
I cant use &quot;file /r&quot; then (until there is a callback function for this purpose)...<br />
If there are many ways to do what we discuss, then show us another ;)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>