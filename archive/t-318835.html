<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Finish Page Background color, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Finish Page Background color NSIS Discussion" />
	
	<title> Finish Page Background color [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Finish Page Background color</div>
<hr />
<div class="pda"><a href="t-318835.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318835">Finish Page Background color</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dc_dweller</div><div class="date">1st May 2010, 01:34</div></div><div class="posttext">Hi all,<br />
<br />
I use MUI, and the Finish page looks different than all other pages NSIS generates. The Finish page's background is white while the other pages are grayish.<br />
<br />
The following code does not seem to make any difference:<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW FinishShow<br />
!insertmacro MUI_PAGE_FINISH<br />
function FinishShow<br />
         FindWindow $1 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
         SetCtlColors $1 0xFF0000 0x00FF00<br />
functionend<br />
<br />
Any help would be appreciated.<br />
<br />
-- DC Dweller</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st May 2010, 10:35</div></div><div class="posttext">Are you using MUI or MUI2?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dc_dweller</div><div class="date">1st May 2010, 14:37</div></div><div class="posttext">Mui2.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st May 2010, 14:43</div></div><div class="posttext">The finish page is actually made with nsDialogs and MUI has a $mui.FinishPage variable which contains the handle to the dialog. Before you try that, have you defined MUI_BGCOLOR?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dc_dweller</div><div class="date">3rd May 2010, 01:09</div></div><div class="posttext">Stu, what's the exact syntax please? I am still struggling with the NSIS language.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd May 2010, 10:54</div></div><div class="posttext">I assumed it was in the Modern UI manual but it isn't. It's definitely used in the code so try: !define MUI_BGCOLOR XXXXXX.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">3rd May 2010, 13:02</div></div><div class="posttext">It actually is in the MUI2 manual:<br />
2. Interface configuration -&gt; Interface settings -&gt; Page header</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dc_dweller</div><div class="date">3rd May 2010, 20:34</div></div><div class="posttext">The line<br />
<br />
!define MUI_BGCOLOR FF0000<br />
<br />
generates compile error<br />
<br />
!define: &quot;MUI_BGCOLOR&quot; already defined!<br />
Error in script.... -- aborting creation process</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dc_dweller</div><div class="date">3rd May 2010, 20:39</div></div><div class="posttext">The line<br />
<br />
!define MUI_BGCOLOR FF0000<br />
<br />
generates compile error<br />
<br />
!define: &quot;MUI_BGCOLOR&quot; already defined!<br />
Error in script.... -- aborting creation process <br />
<br />
So I did this:<br />
<br />
!undef MUI_BGCOLOR<br />
!define MUI_BGCOLOR FF0000<br />
<br />
Now the header of each dialog (but not the main body) is red and the finish page is also red. So I guess my question is, how do I change the Finish page in such a way that it looks the same as the other pages (same look and feel, and same color.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd May 2010, 21:08</div></div><div class="posttext">You will get that if you try and define it more than once in the same script or if you define it after inserting the page macros (all interface settings must go before any page macro insertions).<br />
<br />
If you want to have different colours for the welcome and finish pages then use SetCtlColors in a custom show function on $mui.WelcomePage and $mui.FinishPage respectively.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dc_dweller</div><div class="date">3rd May 2010, 21:20</div></div><div class="posttext">This finally worked fine:<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW FinishShow<br />
<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
function FinishShow<br />
	SetCtlColors $mui.FinishPage /windows<br />
<br />
	GetDlgItem $0 $mui.FinishPage 1201 <br />
	SetCtlColors $0 /windows<br />
	<br />
	GetDlgItem $1 $mui.FinishPage 1202 <br />
	SetCtlColors $1 /windows<br />
	<br />
	GetDlgItem $1 $mui.FinishPage 1203<br />
	SetCtlColors $1 /windows<br />
functionend</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>