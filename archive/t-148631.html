<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" &amp; Character replacement bug, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  &amp; Character replacement bug NSIS Discussion" />
	
	<title> &amp; Character replacement bug [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  &amp; Character replacement bug</div>
<hr />
<div class="pda"><a href="t-148631.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=148631">&amp; Character replacement bug</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">9th September 2003, 08:26</div></div><div class="posttext">When I define MUI_PRODUCT with an '&amp;' symbol it dows not display correctly in the dialog texts of MUI.  However if I define it as '&amp;&amp;' it works correctly except in the title bar of the program.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">9th September 2003, 09:25</div></div><div class="posttext">GM.<br />
<br />
not unusual - &amp; marks the hotkey (ALT + key). i case i need a '&amp;' in some ressources i also have to put a '&amp;&amp;' (also in strings)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">9th September 2003, 13:04</div></div><div class="posttext">I did realize that, however how do I get rid of the double '&amp;&amp;' in the title bar of the installer?<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">9th September 2003, 14:01</div></div><div class="posttext">hmm - does &quot;\$&amp;&quot; help?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">9th September 2003, 14:03</div></div><div class="posttext">No, there is no current solution I know of. Joost was going to add a solution, but I'm not sure if he did... You'll have to wait for his answer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mrtech</div><div class="date">6th November 2003, 17:18</div></div><div class="posttext">Can this be achieved by modifying the language or system.nsh script temporarily?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">6th November 2003, 21:44</div></div><div class="posttext">I don't think so.  I think that the problem is related to windows itself handling '&amp;' characters differently depending on the control type.  Thus to fix this problem we would need to modify the string depending on the control type.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th November 2003, 23:09</div></div><div class="posttext">Indeed Vytautas. That will be done in NSIS (not just MUI) soon, hopefully.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">7th November 2003, 20:27</div></div><div class="posttext">How long will it be before it may be solved? I was noticing this myself...<br />
<br />
I'm going to have to make installers for about 2 dozen different products in the next week or two that all have &quot;&amp;&quot; in either their title, or in an installed file name. (The file is a number of megs , so it will be on-screen for long enough to notice. And, no, I can't change the filename at this point in time...)<br />
<br />
Is there any workaround that may work? If nothing else, I'll just not say anything and hope no one notices... ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th November 2003, 20:30</div></div><div class="posttext">You can use &amp;&amp; in the name and manually use &amp; in the places that will show &amp;&amp; which are the caption and the abort warning message box. To set the caption use Caption and UninstCaption (or whatever the MUI uses, if using the MUI) and the MUI define that sets the abort warning message.<br />
<br />
I don't know exactly when I or someone else will to fully implementing the workaround for it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">7th November 2003, 20:31</div></div><div class="posttext">But how do I do this for the files being installed? As I said, I can't rename them at this stage.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th November 2003, 20:34</div></div><div class="posttext">Hmm... Right, there is the log too :(<br />
<br />
You will have to use DetailPrint for now, one for the text and one for the list.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">7th November 2003, 20:35</div></div><div class="posttext">Hm. I'll look into it. I think I'll just take the lazy way out and leave it stock (as much as possible) unless someone says something before the masters are sent off. If no one here notices, then we should be fine. ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th December 2003, 23:24</div></div><div class="posttext">OK... In the latest CVS version I have added another parameter for Name that allows you to specify a name that will be used where double ampersands are required. From the updated documentation:If you have one or more ampersands (&amp;) in the name, set the second parameter to the same name, only with doubled ampersands. For example, if your product's name is &quot;Foo &amp; Bar&quot;, use:Name &quot;Foo &amp; Bar&quot; &quot;Foo &amp;&amp; Bar&quot;If you have ampersands in the name and use a LangString for the name, you will have to create another one with doubled ampersands to use as the second parameter.I have also added the SS_NOPREFIX style to the static control above the install log to solve lewellyn's issue.<br />
<br />
I have tested it with ClearType and didn't notice any problems like last time. But I am not sure I followed the right steps so I'll check it again with Joost tomorrow. Let me know if texts are drawn on pages they shouldn't in weird places because of this update.<br />
<br />
BTW, if you're wondering why the Name conversion is not automatic drop by the IRC channel for a possibly long explanation.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>