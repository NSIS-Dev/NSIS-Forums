<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom page not displaying, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom page not displaying NSIS Discussion" />
	
	<title> Custom page not displaying [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom page not displaying</div>
<hr />
<div class="pda"><a href="t-326812.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=326812">Custom page not displaying</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">starfighter5</div><div class="date">3rd February 2011, 10:59</div></div><div class="posttext">I am trying to allow a user to select to install one of two versions, if they select version 1 then a certain custom page is displayed, version 2 and another custom page is displayed.  My code is below..........<br />
<br />
;Page1<br />
Page custom intropage<br />
Function intropage<br />
#Display the page<br />
!insertmacro INSTALLOPTIONS_DISPLAY &quot;intropage&quot;<br />
FunctionEnd<br />
<br />
;TypeSelect<br />
Page custom typeselect typeselectleave<br />
Function typeselect<br />
#Display the page<br />
!insertmacro INSTALLOPTIONS_DISPLAY &quot;typeselect&quot;<br />
FunctionEnd<br />
<br />
Function typeselectleave<br />
!insertmacro INSTALLOPTIONS_READ $R1 &quot;typeselect&quot; &quot;Field 3&quot; &quot;State&quot;<br />
!insertmacro INSTALLOPTIONS_READ $R2 &quot;typeselect&quot; &quot;Field 4&quot; &quot;State&quot;<br />
${If} $R1 == 1<br />
!insertmacro INSTALLOPTIONS_DISPLAY &quot;version1&quot;<br />
${EndIf}<br />
${If} $R2 == 1<br />
!insertmacro INSTALLOPTIONS_DISPLAY &quot;version2&quot;<br />
${EndIf}<br />
FunctionEnd<br />
<br />
For some reason the custom page isnt being displayed when the user selects the option.  I know the process is working because if I throw a message box in instead of the INSTALLOPTIONS_DISPLAY it works.<br />
<br />
How come my custom page call isnt working within the if statement?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">3rd February 2011, 12:26</div></div><div class="posttext">I think you need to point to the ini file, not the name of the page. But InstallOptions has been deprecated for a very long time, you really should switch to nsDialogs as soon as possible.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">3rd February 2011, 13:23</div></div><div class="posttext">Besides the comments from MSG, you can only call INSTALLOPTIONS_DISPLAY from the page show function.<br />
So you need to move the code from the typeselectleave function to the show function of the pages 'version1' and 'version2':Page custom version1<br />
Page custom version2<br />
<br />
Function version1<br />
   !insertmacro INSTALLOPTIONS_READ $R1 &quot;typeselect&quot; &quot;Field 3&quot; &quot;State&quot;<br />
   ${If} $R1 == 1<br />
      !insertmacro INSTALLOPTIONS_DISPLAY &quot;version1&quot;<br />
   ${EndIf}<br />
FunctionEnd<br />
<br />
Function version2<br />
   !insertmacro INSTALLOPTIONS_READ $R1 &quot;typeselect&quot; &quot;Field 4&quot; &quot;State&quot;<br />
   ${If} $R1 == 0<br />
      !insertmacro INSTALLOPTIONS_DISPLAY &quot;version2&quot;<br />
   ${EndIf}<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">starfighter5</div><div class="date">3rd February 2011, 15:47</div></div><div class="posttext">Thank for the input, I didn't realise you couldnt call the macro in a leave function.<br />
<br />
This is my last project using installoptions!  I promise :)<br />
<br />
Learning nsDialogs for my next one!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>