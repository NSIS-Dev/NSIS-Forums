<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How disable text component, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How disable text component NSIS Discussion" />
	
	<title> How disable text component [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How disable text component</div>
<hr />
<div class="pda"><a href="t-155248.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=155248">How disable text component</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">anonym</div><div class="date">5th November 2003, 16:22</div></div><div class="posttext">Hello<br />
<br />
I have checkbox and text components.<br />
How I can disable text component when checkbox changed status (checked)?<br />
<br />
Thank you.<br />
<br />
;;;;;;;;;;;;;;<br />
;NSIS Modern User Interface version 1.63<br />
;InstallOptions Example Script<br />
;Written by Joost Verburg<br />
<br />
!define MUI_PRODUCT &quot;Xpress Systems TimeReports Client&quot; ;Define your own software name here<br />
!define MUI_VERSION &quot;01.01.03.00&quot; 			;Define your own software version here<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
!define TEMP $R0<br />
<br />
;--------------------------------<br />
;Configuration<br />
<br />
  ;General<br />
  OutFile &quot;InstallOptions.exe&quot;<br />
<br />
  ;Folder selection page<br />
  InstallDir &quot;$PROGRAMFILES\Xpress Systems\XSTRClient&quot;<br />
  <br />
  ;Remember install folder<br />
  ;InstallDirRegKey HKCU &quot;Software\${MUI_PRODUCT}&quot; &quot;&quot;<br />
<br />
;--------------------------------<br />
;Modern UI Configuration<br />
<br />
  !define MUI_CUSTOMPAGECOMMANDS<br />
<br />
;  !define MUI_LICENSEPAGE<br />
  !define MUI_COMPONENTSPAGE<br />
  !define MUI_DIRECTORYPAGE<br />
  <br />
  !define MUI_ABORTWARNING<br />
  <br />
  !define MUI_UNINSTALLER<br />
  !define MUI_UNCONFIRMPAGE<br />
<br />
;--------------------------------<br />
;Pages<br />
  <br />
;  !insertmacro MUI_PAGECOMMAND_LICENSE<br />
  Page custom SetCustomA<br />
  Page custom SetCustomB<br />
  !insertmacro MUI_PAGECOMMAND_COMPONENTS<br />
  !insertmacro MUI_PAGECOMMAND_DIRECTORY<br />
  Page custom SetCustomC<br />
  !insertmacro MUI_PAGECOMMAND_INSTFILES<br />
<br />
;--------------------------------<br />
;Languages<br />
 <br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
  <br />
;--------------------------------<br />
;Language Strings<br />
<br />
  ;Description<br />
  LangString DESC_SecCopyUI ${LANG_ENGLISH} &quot;Copy the XSTRClient.exe file to the application folder.&quot;<br />
<br />
  LangString DESC_SecStartMenuShortcuts ${LANG_ENGLISH} &quot;Create start menu shortcuts.&quot;<br />
  LangString DESC_SecDesktopShortcut ${LANG_ENGLISH} &quot;Create desktop shortcut.&quot;<br />
  <br />
  ;Header<br />
  LangString TEXT_IO_TITLE ${LANG_ENGLISH} &quot;InstallOptions Page&quot;<br />
  LangString TEXT_IO_SUBTITLE ${LANG_ENGLISH} &quot;Create your own dialog!&quot;<br />
<br />
;--------------------------------<br />
;Data<br />
  <br />
;  LicenseData &quot;${NSISDIR}\Contrib\Modern UI\License.txt&quot;<br />
<br />
;--------------------------------<br />
;Reserve Files<br />
  <br />
  ;Things that need to be extracted on first (keep these lines before any File command!)<br />
  ;Only useful for BZIP2 compression<br />
  <br />
  ReserveFile &quot;ioA.ini&quot;<br />
  ReserveFile &quot;ioB.ini&quot;<br />
  ReserveFile &quot;ioC.ini&quot;<br />
  !insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
<br />
;--------------------------------<br />
;Installer Sections<br />
<br />
Section &quot;TimeReports Client (required)&quot; SecCopyUI<br />
  SectionIn RO<br />
<br />
  ;Add your stuff here<br />
<br />
;  ;Read a value from an InstallOptions INI File<br />
;  !insertmacro MUI_INSTALLOPTIONS_READ ${TEMP} &quot;ioC.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
;  StrCmp ${TEMP} &quot;1&quot; &quot;&quot; +2<br />
;    ;Checked<br />
;    MessageBox MB_OK &quot;A MessageBox...&quot;<br />
    <br />
  !insertmacro MUI_INSTALLOPTIONS_READ ${TEMP} &quot;ioA.ini&quot; &quot;Field 8&quot; &quot;State&quot;<br />
  MessageBox MB_OK ${TEMP}<br />
<br />
<br />
  ;;;;;;;;;;;;;;;;;;;<br />
  ; Set output path to the installation directory.<br />
  SetOutPath $INSTDIR<br />
  <br />
  ; Put file there<br />
  File &quot;..\XSTRClient.exe&quot;<br />
  File &quot;..\XSTRClient.ini&quot;<br />
  File &quot;..\XSTRClient.rav&quot;<br />
  File &quot;..\XSTRClient.dsn&quot;<br />
<br />
  MessageBox MB_YESNO|MB_ICONQUESTION &quot;Install new database (Yes) or to keep existing database (No)?&quot; IDYES NewDB IDNO NoDelete<br />
  NewDB:<br />
    File &quot;..\XSTRClient.mdb&quot;<br />
    WriteINIStr &quot;$INSTDIR\XSTRClient.dsn&quot;  &quot;ODBC&quot; &quot;DefaultDir&quot; &quot;$INSTDIR&quot;<br />
    WriteINIStr &quot;$INSTDIR\XSTRClient.dsn&quot;  &quot;ODBC&quot; &quot;DBQ&quot; &quot;$INSTDIR\XSTRClient.mdb&quot;<br />
    MessageBox MB_OK &quot;NewDB&quot;<br />
    goto AfterDB<br />
<br />
  NoDelete:<br />
    MessageBox MB_OK &quot;NoDelete&quot;<br />
<br />
  AfterDB:  <br />
<br />
  ; Write path to .dsn file<br />
  WriteINIStr &quot;$INSTDIR\XSTRClient.ini&quot;  &quot;DB_VERSIONS&quot; &quot;LocalDBName&quot; &quot;$INSTDIR\XSTRClient.dsn&quot;<br />
  <br />
  ; Write the installation path into the registry<br />
  WriteRegStr HKLM &quot;SOFTWARE\Xpress Systems\XSTRClient&quot; &quot;Install_Dir&quot; &quot;$INSTDIR&quot;<br />
  <br />
  ; Write the uninstall keys for Windows<br />
  WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\XSTRClient&quot; &quot;DisplayName&quot; &quot;Xpress Systems TimeReports Client (remove only)&quot;<br />
  WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\XSTRClient&quot; &quot;UninstallString&quot; '&quot;$INSTDIR\uninstall.exe&quot;'<br />
<br />
  ;Create uninstaller<br />
  WriteUninstaller &quot;uninstall.exe&quot;<br />
SectionEnd<br />
<br />
<br />
Section &quot;Start Menu Shortcuts&quot; SecStartMenuShortcuts	; optional section (can be disabled by the user)<br />
  CreateDirectory &quot;$SMPROGRAMS\TimeReports Client&quot;<br />
  CreateShortCut &quot;$SMPROGRAMS\TimeReports Client\Uninstall.lnk&quot; &quot;$INSTDIR\uninstall.exe&quot; &quot;&quot; &quot;$INSTDIR\uninstall.exe&quot; 0<br />
  CreateShortCut &quot;$SMPROGRAMS\TimeReports Client\TimeReports Client.lnk&quot; &quot;$INSTDIR\XSTRClient.exe&quot; &quot;&quot; &quot;$INSTDIR\XSTRClient.exe&quot; 0<br />
SectionEnd<br />
<br />
<br />
Section &quot;Desktop Shortcut&quot; SecDesktopShortcut	; optional section (can be disabled by the user)<br />
  CreateShortCut &quot;$DESKTOP\TimeReports Client.lnk&quot; &quot;$INSTDIR\XSTRClient.exe&quot;<br />
SectionEnd<br />
<br />
<br />
;Display the Finish header<br />
;Insert this macro after the sections if you are not using a finish page<br />
!insertmacro MUI_SECTIONS_FINISHHEADER<br />
<br />
;--------------------------------<br />
;Descriptions<br />
<br />
!insertmacro MUI_FUNCTIONS_DESCRIPTION_BEGIN<br />
  !insertmacro MUI_DESCRIPTION_TEXT ${SecCopyUI} $(DESC_SecCopyUI)<br />
<br />
  !insertmacro MUI_DESCRIPTION_TEXT ${SecStartMenuShortcuts} $(DESC_SecStartMenuShortcuts)<br />
  !insertmacro MUI_DESCRIPTION_TEXT ${SecDesktopShortcut} $(DESC_SecDesktopShortcut)<br />
!insertmacro MUI_FUNCTIONS_DESCRIPTION_END<br />
<br />
;--------------------------------<br />
;Installer Functions<br />
<br />
Function .onInit<br />
<br />
  ;Extract InstallOptions INI Files<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ioA.ini&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ioB.ini&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ioC.ini&quot;<br />
  <br />
FunctionEnd<br />
<br />
;Function .onSelChange<br />
  ;Push	$R0<br />
    <br />
  ; Field 4 - Existing database<br />
  ;GetDlgItem $R0 $HWNDPARENT 1203<br />
  ; 0xA - WM_ENABLE<br />
  ;SendMessage $R0 0xA 0 0<br />
  ;MessageBox MB_OK &quot;.onSelChange&quot;<br />
<br />
  ;Pop	$R0<br />
;FunctionEnd<br />
<br />
Function SetCustomA<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioA.ini&quot;<br />
FunctionEnd<br />
<br />
Function SetCustomB<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioB.ini&quot;<br />
FunctionEnd<br />
<br />
Function SetCustomC<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioC.ini&quot;<br />
FunctionEnd<br />
<br />
;--------------------------------<br />
;Uninstaller Section<br />
<br />
Section &quot;Uninstall&quot;<br />
<br />
  ; remove registry keys  <br />
  DeleteRegValue HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\XSTRClient&quot; &quot;DisplayName&quot; <br />
  DeleteRegValue HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\XSTRClient&quot; &quot;UninstallString&quot;<br />
  DeleteRegKey HKLM &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\XSTRClient&quot;<br />
  DeleteRegKey HKLM &quot;SOFTWARE\Xpress Systems\XSTRClient&quot;<br />
<br />
  ; remove files and uninstaller<br />
  Delete $INSTDIR\XSTRClient.exe<br />
  Delete $INSTDIR\XSTRClient.ini<br />
  Delete $INSTDIR\XSTRClient.rav<br />
  Delete $INSTDIR\XSTRClient.dsn<br />
<br />
  Delete $INSTDIR\XSTRClient.mdb<br />
<br />
  Delete $INSTDIR\uninstall.exe<br />
<br />
  ; remove shortcuts, if any<br />
  Delete &quot;$SMPROGRAMS\TimeReports Client\*.*&quot;<br />
<br />
  ; remove directories used<br />
  RMDir &quot;$SMPROGRAMS\TimeReports Client&quot;<br />
<br />
  ; remove desktop icon<br />
  Delete &quot;$DESKTOP\TimeReports Client.lnk&quot;<br />
<br />
  RMDir &quot;$INSTDIR&quot;<br />
<br />
  !insertmacro MUI_UNFINISHHEADER<br />
<br />
SectionEnd<br />
<br />
;;;;;;;;;;;;;;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">5th November 2003, 16:39</div></div><div class="posttext">Please attach scripts and post only relevant code.<br />
<br />
Are you talking about an InstallOptions page? There is currently no way to disable controls depending on others.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>