<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Install for all users, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Install for all users NSIS Discussion" />
	
	<title> Install for all users [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Install for all users</div>
<hr />
<div class="pda"><a href="t-290377.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290377">Install for all users</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tudza</div><div class="date">17th April 2008, 03:04</div></div><div class="posttext">My software writes to the installation directory when it runs.  If a user does not have write privileges to the directory, it generates an error.<br />
<br />
The current solution is to install as an admin and give write privileges to the install directory to all users.<br />
<br />
A better solution would be to change the software to write to a standard user directory so permissions would not be an issue.<br />
<br />
Another option I wanted to look into was that some installers I've used have an option to &quot;Install for all users&quot;.  How is this done with NSIS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">17th April 2008, 04:20</div></div><div class="posttext">do you mean installing the shortcuts for all users?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">17th April 2008, 05:26</div></div><div class="posttext">I used to build a custom dialog with 2 radios (all users-current user) and depending on users selection I was setting the SetShellVarContext either to all or current.<br />
<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.7.6</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tudza</div><div class="date">17th April 2008, 20:57</div></div><div class="posttext">Sounds like the sort of thing I'm looking for, I think.  <br />
<br />
So if you had admin privileges on a machine and ran an installer with the all users set to true ( which I think you could only do if you had admin privileges ), would this give all other users, even non-admins, privileges for the install directory?<br />
<br />
That is, is this a way to do what I describe above ( giving all users write access to the install directory through folder Properties ) only through NSIS install tools?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">17th April 2008, 21:26</div></div><div class="posttext">the accesscontrol plugin, but it is a security risk to give all users write access to something in programfiles</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tudza</div><div class="date">17th April 2008, 21:34</div></div><div class="posttext">I believe it would be better if we changed our software such that it did not require this tweak, but I was just trying to come up with options for people.<br />
<br />
Thanks for the help guys. I read some of the NSIS documentation on SetShellVarContext, which sounds like it returns a list of folders accessible by the current user rather than handling any sort of privilege control.  I'll check out what I can find about the accesscontrol plugin now that I have a name for it.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>