<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Set the environment variable to the app folder, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Set the environment variable to the app folder NSIS Discussion" />
	
	<title> Set the environment variable to the app folder [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Set the environment variable to the app folder</div>
<hr />
<div class="pda"><a href="t-346806.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=346806">Set the environment variable to the app folder</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mike_123</div><div class="date">3rd August 2012, 17:40</div></div><div class="posttext">Hi,<br />
<br />
I'm new user to Nsis ;]<br />
<br />
Sometimes you have to copy files For example: to %programdata%  (C:\ProgramData)<br />
before you launch the main program (executable file).<br />
<br />
How to Set the environment variable to the app folder location so all<br />
<br />
files and folders the program creates are redirected to the app folder location.<br />
<br />
<br />
In other words, in place of copying a file to Windows directory, just redirected to the app folder and then lunch the executable file.<br />
<br />
<br />
<br />
Thanks in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">3rd August 2012, 20:42</div></div><div class="posttext">I don't understand what you're trying to say. If you're asking how to change the directory where NSIS extracts its files: That's what SetOutPath is for.<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.1.9</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mike_123</div><div class="date">3rd August 2012, 22:52</div></div><div class="posttext">MSG thank you very much for your quick reply.<br />
<br />
I trying to make a launcher for program called Kleptomania( http://www.structurise.com/kleptomania/index.shtml) <br />
which allows you to capture and process images and text. <br />
<br />
To run the program you should first copy the  k-mania.Ini to C:\Windows and then you can<br />
launch the program.<br />
<br />
So what I'm trying to do is. In place of copying a file to Windows directory, I want to<br />
<br />
redirected  k-mania.Ini  to the app folder and then lunch the executable file.<br />
<br />
<br />
<br />
This is an example of the script.<br />
<br />
Section &quot;Main&quot;<br />
<br />
	CopyFiles /SILENT &quot;$EXEDIR\Appdata\k-mania.Ini&quot; &quot;$WINDIR&quot;<br />
	Sleep 300<br />
<br />
	ExecWait &quot;$EXEDIR\Appdata\k-mania.exe&quot;<br />
	<br />
	CopyFiles /SILENT &quot;$WINDIR\k-mania.Ini&quot; &quot;$EXEDIR\Appdata\&quot;<br />
	Sleep 500	<br />
	<br />
	Delete &quot;$WINDIR\k-mania.Ini&quot;<br />
<br />
SectionEnd<br />
<br />
<br />
Here is an example from autohotkey community (http://www.autohotkey.com/community/viewtopic.php?t=56697<br />
<br />
<br />
Thank you for your patience.<br />
<br />
<br />
Mike</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">4th August 2012, 05:48</div></div><div class="posttext">Ah, so you want to redirect your application's read/write calls to another directory? I don't know any way to do this, but I don't think this is really an NSIS question. You might be better off hacking the application's exe to look for the ini file in another directory.<br />
<br />
(Note that you should never change the value of %WINDIR%, as that would break lots of applications massively.)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>