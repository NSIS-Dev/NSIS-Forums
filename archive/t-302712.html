<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" how does a specific BMP show when a radiobutton clicked?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  how does a specific BMP show when a radiobutton clicked? NSIS Discussion" />
	
	<title> how does a specific BMP show when a radiobutton clicked? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  how does a specific BMP show when a radiobutton clicked?</div>
<hr />
<div class="pda"><a href="t-302712.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302712">how does a specific BMP show when a radiobutton clicked?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">joe1202</div><div class="date">3rd February 2009, 03:43</div></div><div class="posttext">I already read this article<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=257510&amp;highlight=radiobutton <br />
<br />
like the sample file {_trueparuex^} uploaded, i modified my INI and NSI file but it doesn't seem to work.<br />
<br />
<br />
=== INI file ===============================================<br />
[Settings]<br />
NumFields=9<br />
<br />
[Field 1]<br />
Type=Label<br />
Text=choose your monitor resolution<br />
Left=17<br />
Right=211<br />
Top=4<br />
Bottom=14<br />
<br />
[Field 2]<br />
Type=Groupbox<br />
Text=resolution<br />
Left=0<br />
Right=84<br />
Top=22<br />
Bottom=153<br />
<br />
[Field 3]<br />
Type=Groupbox<br />
Text=description<br />
Left=88<br />
Right=228<br />
Top=23<br />
Bottom=153<br />
<br />
[Field 4]<br />
Type=RadioButton<br />
Text=1280 X 1024<br />
Left=10<br />
Right=68<br />
Top=43<br />
Bottom=71<br />
Flags=NOTIFY<br />
<br />
[Field 5]<br />
Type=RadioButton<br />
Text=1680 X 1050 small<br />
Left=10<br />
Right=75<br />
Top=76<br />
Bottom=99<br />
Flags=NOTIFY<br />
<br />
[Field 6]<br />
Type=RadioButton<br />
Text=1680x1050 big<br />
Left=10<br />
Right=72<br />
Top=108<br />
Bottom=128<br />
Flags=NOTIFY<br />
<br />
[Field 7]<br />
Type=Bitmap<br />
Text=crt.bmp<br />
Left=95<br />
Right=220<br />
Top=35<br />
Bottom=144<br />
Flags=RESIZETOFIT<br />
<br />
[Field 8]<br />
Type=Bitmap<br />
Text=wide2.bmp<br />
Left=94<br />
Right=218<br />
Top=33<br />
Bottom=144<br />
Flags=RESIZETOFIT<br />
<br />
[Field 9]<br />
Type=Bitmap<br />
Text=wide.bmp<br />
Left=95<br />
Right=219<br />
Top=32<br />
Bottom=144<br />
Flags=RESIZETOFIT<br />
<br />
<br />
======== and this is NSI file ===========================<br />
<br />
<br />
Name &quot;InstallOptions Test&quot;<br />
OutFile &quot;imagechanging.exe&quot;<br />
ShowInstDetails show<br />
<br />
Function .onInit<br />
<br />
  InitPluginsDir<br />
  File /oname=$PLUGINSDIR\monitor.ini &quot;AccountInf.ini&quot;<br />
  File /oname=$PLUGINSDIR\crt.bmp &quot;crt.bmp&quot;<br />
  File /oname=$PLUGINSDIR\wide2.bmp &quot;wide2.bmp&quot;<br />
  File /oname=$PLUGINSDIR\wide.bmp &quot;wide.bmp&quot;<br />
<br />
FunctionEnd<br />
<br />
Page custom ShowCustom LeaveCustom &quot;: Testing InstallOptions&quot;<br />
<br />
Function ShowCustom<br />
<br />
  InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\monitor.ini&quot;<br />
  Pop $0<br />
<br />
  InstallOptions::show<br />
  Pop $0<br />
<br />
FunctionEnd<br />
<br />
Function LeaveCustom<br />
<br />
  ; At this point the user has either pressed Next or one of our custom buttons<br />
  ; We find out which by reading from the INI file<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
  StrCmp $0 1 RadioButton<br />
  StrCmp $0 2 RadioButton<br />
  StrCmp $0 3 RadioButton<br />
  Abort ; Return to the page<br />
<br />
RadioButton:<br />
<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 7&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 8&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 9&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
<br />
  Abort ; Return to the page<br />
<br />
FunctionEnd<br />
<br />
Page instfiles<br />
<br />
Section<br />
SectionEnd<br />
<br />
=========================================================<br />
<br />
anyone knows which part i made mistake?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">3rd February 2009, 05:50</div></div><div class="posttext">First, I'll say it's probably best to keep all your PAGE calls together.  While it may work the way you have it, I think it makes for a cleaner script.<br />
<br />
Next, have a look at this part: ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
StrCmp $0 1 RadioButton<br />
StrCmp $0 2 RadioButton<br />
StrCmp $0 3 RadioButton<br />
Abort ; Return to the pageThere are a couple things to point out:<br />
1) You are checking to see which control is &quot;notifying&quot; of an action.  But, you are checking for the wrong values. In your case, the radio buttons are fields 4, 5, 6.  So you need to check for values of &quot;4&quot;, &quot;5&quot;, or &quot;6&quot;.  In your case, it simply returns you back to page without doing anything<br />
<br />
2)  You have an abort command if the none of the radio buttons are selected.  When the user presses &quot;next&quot;, it returns a value of zero.  But in your case, you are going to go right back to the page instead of moving forward. <br />
<br />
3)  When using radio buttons in an INI file, you should set Flag=Group on the first radio button in the list (which is Field #4 in your example.)<br />
<br />
Since you only seem to care whether or not a radio button is selected (and not necessarily WHICH radio button), you could probably get away with a much simpler check, which would also correctly handle a press of the &quot;next&quot; button: (example created using LogicLib...don't forget to add !include logiclib.nsh near the top of your script):<br />
<br />
ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
${Unless} $0 = 0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 7&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 8&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\monitor.ini&quot; &quot;Field 9&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
  abort<br />
${EndUnless}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joe1202</div><div class="date">3rd February 2009, 15:03</div></div><div class="posttext">//Comperio<br />
<br />
Thanks so much!<br />
I can see the BMPs chaging now!<br />
wow!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>