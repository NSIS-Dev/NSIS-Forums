<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" $INSTDIR with spaces causes problems as a parameter, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  $INSTDIR with spaces causes problems as a parameter NSIS Discussion" />
	
	<title> $INSTDIR with spaces causes problems as a parameter [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  $INSTDIR with spaces causes problems as a parameter</div>
<hr />
<div class="pda"><a href="t-207658.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=207658">$INSTDIR with spaces causes problems as a parameter</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">MarkA</div><div class="date">13th February 2005, 16:14</div></div><div class="posttext">Hi,<br />
<br />
I am trying to run a program at the end of an instalation, for example<br />
<br />
!define MUI_FINISHPAGE_RUN &quot;$INSTDIR\MyProgram.exe&quot; <br />
<br />
and pass it the instalation directory as a parameter<br />
<br />
!define MUI_FINISHPAGE_RUN_PARAMETERS &quot;$INSTDIR&quot;<br />
<br />
However when MyProgram.exe runs it only gets C:\Program instead of the entire path.<br />
<br />
Now, I figure, okay I need to add quotes around $INSTDIR, so I change it to this...<br />
<br />
!define MUI_FINISHPAGE_RUN_PARAMETERS '&quot;$INSTDIR&quot;'<br />
<br />
but now MyProgram.exe does not even get executed at the end of installation.<br />
<br />
What is the solution to this?  I can't see any other way around it.   I don't wanna have to go back to using msi :(<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">13th February 2005, 18:16</div></div><div class="posttext">When I tried a simple example it worked OK, and the program started by the installer found the correct value for $INSTDIR even if it contained spaces.<br />
<br />
Perhaps the problem is that the program you are running stops reading the command-line parameter when it finds a space, so you need to enclose the parameter in quotes?<br />
<br />
If you use<br />
<br />
!define MUI_FINISHPAGE_RUN_PARAMETERS   $\&quot;$INSTDIR$\&quot;<br />
<br />
and use C:\Program Files\My Demo for the installation then your program should find the command-line contains<br />
<br />
&quot;C:\Program Files\My Demo&quot;<br />
<br />
instead of just<br />
<br />
C:\Program Files\My Demo</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MarkA</div><div class="date">14th February 2005, 09:32</div></div><div class="posttext">hmm i am using HM NISEdit as my environment around nsis. Is this known to have this type of issue?<br />
<br />
I will try escaping the quotes as per your example. Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">14th February 2005, 14:24</div></div><div class="posttext">In worst case use GetShortName (nsis function) and have a 8 character limit  ;)<br />
<br />
&gt;&gt; C:\Program Files\My Demo<br />
<br />
becomes<br />
<br />
C:\Progra~1\MyDemo~1<br />
<br />
8.3 is recommended while using Exec with dosbox programs (like RAR.EXE or 7ZA.EXE)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MarkA</div><div class="date">14th February 2005, 14:58</div></div><div class="posttext">sneaky idea mate :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">15th February 2005, 22:20</div></div><div class="posttext">Sorry, must be &quot;GetFullPathName /SHORT user_var(output) path_or_file&quot;<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=207857</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>