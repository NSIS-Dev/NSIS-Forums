<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Changing directory to call an executable?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Changing directory to call an executable? NSIS Discussion" />
	
	<title> Changing directory to call an executable? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Changing directory to call an executable?</div>
<hr />
<div class="pda"><a href="t-330836.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=330836">Changing directory to call an executable?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kraucer</div><div class="date">23rd May 2011, 16:27</div></div><div class="posttext">I need to change the path at runtime. It would be the same command as the &quot;change directory&quot; cd. How can I do this in NSIS?<br />
<br />
!define OCS_INSTALL_FILE &quot;C:\ocs\install\ocs_setup.exe&quot;<br />
!define OCS_INSTALL_OPTIONS &quot;/S /NP /NO_SYSTRAY /NOSPLASH /NO_SERVICE&quot;<br />
!define OCS_SERVER &quot;http://myserver.com/ocsinventory&quot;<br />
<br />
ExecWait &quot;'${OCS_INSTALL_FILE} ${OCS_INSTALL_OPTIONS} /SERVER=${OCS_SERVER}'&quot;<br />
<br />
The command &quot;ExecWait&quot; not working if called with the provided path. It only works if I call the direct path but for that I need to change the path.<br />
 <br />
ExecWait &quot;ocs_setup.exe&quot; is fine.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">23rd May 2011, 16:37</div></div><div class="posttext">SetOutPath C:\ocs\install</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kraucer</div><div class="date">23rd May 2011, 17:06</div></div><div class="posttext">No, the problem is not just this. The problem is that &quot;ocs_setup.exe&quot; can only be executed if he is in the same way my NSIS installer.<br />
<br />
An example: if I save my instalador_nsis.exe and ocs_setup.exe in the directory.<br />
c:\ocs\ocs_setup.exe<br />
c:\ocs\my_install.exe<br />
<br />
The way it works above. If the way down, does not work:<br />
<br />
c:\ocs\install\ocs_setup.exe<br />
c:\ocs\my_install.exe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kraucer</div><div class="date">23rd May 2011, 17:35</div></div><div class="posttext">Resolved, added 'at the beginning and end of the path variable in ExecWait. Thank you for your attention.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th May 2011, 10:05</div></div><div class="posttext">You should never use relative paths. If you do need a path relative to the running installer, use $EXEDIR\.... And yes, you need quotes (the manual clearly states this). They should be double quotes too, so '&quot;[path]&quot;'.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">24th May 2011, 18:31</div></div><div class="posttext">I don't think you need double quotes for any NSIS command. ' or ` work fine too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th May 2011, 18:44</div></div><div class="posttext">I don't think you need double quotes for any NSIS command. ' or ` work fine too.<br />
<br />
We're talking about the executable path for ExecWait (you need double quotes around it).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">24th May 2011, 21:07</div></div><div class="posttext">Oh I see, the manual does show <br />
ExecWait '&quot;$INSTDIR\someprogram.exe&quot;'<br />
as the example. Guess it's the same as what Anders and I discussed about putting the ARP uninstall path between quotes. I'll add it to my checklist. :P</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>