<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" latest version of path extensions?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  latest version of path extensions? NSIS Discussion" />
	
	<title> latest version of path extensions? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  latest version of path extensions?</div>
<hr />
<div class="pda"><a href="t-89717.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=89717">latest version of path extensions?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">honold</div><div class="date">2nd June 2002, 07:47</div></div><div class="posttext">i need to add a couple items to the path of 2k/xp systems with an app (no installations will be performed on anything else), and remove them when it's uninstalled<br />
<br />
i've seen multiple copies of the path.zip that somebody whipped up around, but i'd like to ensure i have the latest/greatest/best-documented/simplest version ;)  thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">2nd June 2002, 09:22</div></div><div class="posttext">As far as I know, there's only one thread with path.zip attached, so download that. Check:<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=67208<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd June 2002, 10:00</div></div><div class="posttext">This is the code I use in my installer.<br />
I think it is the same as the latest I have posted in the thread Smile2Me gave you, but here it is just to make sure.<br />
<br />
by Smile2Me[/b]]<br />
For some strange reason, the old attachment doesn't get deleted when updated by a new one. I deleted it and posted a new message and the end of this thread.<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">honold</div><div class="date">2nd June 2002, 19:48</div></div><div class="posttext">tks ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">honold</div><div class="date">2nd June 2002, 20:00</div></div><div class="posttext">the one you gave is 5786 bytes, and only has the .nsi file<br />
<br />
the one in the thread is 4245 bytes, and has the refreshenv exe (with source) as well<br />
<br />
which one do i use, and do i use it by including it all in my existing nsi?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd June 2002, 21:49</div></div><div class="posttext">The one I gave here has the latest functions. Just integrate them into your .nsi. The funcions use the refreshenv.exe so it also required. You can ignore the .nsi files in the prior threads. This is the latest.<br />
<br />
To make this thread a complete source of all that is needed for this functions I have attached the refreshenv with source.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">honold</div><div class="date">3rd June 2002, 23:21</div></div><div class="posttext">Section: &quot;Uninstall&quot;<br />
Function: &quot;un.StrStr&quot;<br />
Push: $0<br />
Exch(st(1),0)<br />
Pop: $0<br />
Push: $1<br />
Exch(st(2),0)<br />
Pop: $1<br />
Exch(st(1),0)<br />
Push: $2<br />
Push: $3<br />
Push: $4<br />
Push: $5<br />
StrCpy $2 &quot;-1&quot; () ()<br />
StrLen $3 &quot;$0&quot;<br />
StrLen $4 &quot;$1&quot;<br />
IntOp: $4=$4-$3<br />
IntOp: $2=$2+1<br />
IntCmp $2:$4 equal=0, &lt; 0, &gt; StrStrReturn_notFound<br />
StrCpy $5 &quot;$1&quot; ($3) ($2)<br />
StrCmp &quot;$5&quot; &quot;$0&quot; equal=StrStr_done, nonequal=StrStr_loop<br />
StrCpy $2 &quot;-1&quot; () ()<br />
Pop: $5<br />
Pop: $4<br />
Pop: $3<br />
Exch($2,0)<br />
Exch(st(2),0)<br />
Pop: $0<br />
Pop: $1<br />
FunctionEnd<br />
Function: &quot;un.IsNT&quot;<br />
Push: $0<br />
ReadRegStr $0 HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\CurrentVersion<br />
StrCmp &quot;$0&quot; &quot;&quot; equal=0, nonequal=IsNT_yes<br />
Pop: $0<br />
Push: 0<br />
Return<br />
Pop: $0<br />
Push: 1<br />
FunctionEnd<br />
Function: &quot;un.RemoveFromPath&quot;<br />
Exch($0,0)<br />
Push: $1<br />
Push: $2<br />
Push: $3<br />
Push: $4<br />
Call must be used with function names starting with &quot;un.&quot; in the uninstall section.<br />
Usage: Call function_name | [:label_name]<br />
Error in script &quot;H:\install\pilot.nsi&quot; on line 258 -- aborting creation process</div></div><hr />


<div class="post"><div class="posttop"><div class="username">honold</div><div class="date">3rd June 2002, 23:32</div></div><div class="posttext">tried it outside of the uninstall section as well - it would appear that it's angry about the function starting with &quot;un.&quot; and the calling of a function that doesn't start with &quot;un.&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">4th June 2002, 07:35</div></div><div class="posttext">Honold,<br />
<br />
functions called from the uninstall section should start with &quot;un.&quot; See http://www.nullsoft.com/free/nsis/makensis.htm#CBFuncs<br />
<br />
Check your code carefully. If you want to re-use functions in installer and uninstaller sections, use macros.<br />
<br />
Good luck,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">4th June 2002, 11:52</div></div><div class="posttext">Whoopsy... :D<br />
<br />
Sorry about this. I use an installer as my uninstaller so I don't use un. prefixes. A fixed version will replace the old one hopefully by the end of the day.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">honold</div><div class="date">5th June 2002, 21:09</div></div><div class="posttext">can you just simply explain what i need to do?  is it just a matter of renaming the un.functions?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th June 2002, 23:42</div></div><div class="posttext">Yes, where ever you see Call something in the uninstall section replace it with un.something. I am sorry about the delay in the uploading of the corrected version. It will be availble soon, I hope.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">6th June 2002, 12:15</div></div><div class="posttext">At the request of KiCHiK, the new path.zip has been uploaded. It solves the problem described in the posts above.<br />
<br />
Have fun,<br />
-Hendri.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>