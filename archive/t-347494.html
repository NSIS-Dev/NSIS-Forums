<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NsisCrypt plug-in not working or ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NsisCrypt plug-in not working or ? NSIS Discussion" />
	
	<title> NsisCrypt plug-in not working or ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NsisCrypt plug-in not working or ?</div>
<hr />
<div class="pda"><a href="t-347494.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=347494">NsisCrypt plug-in not working or ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">technobuddha</div><div class="date">28th August 2012, 21:49</div></div><div class="posttext">Hi all,<br />
I'm trying to use the NsisCrypt plug-in, because i need to convert a variable into SHA1, which goes into a mysql database.<br />
<br />
I know what the password is and how it looks with SHA1:<br />
<br />
variable    = traytray<br />
converted = a8f3dd5acc59b8029fb68402159e222d604e938a<br />
<br />
but when in script, i use:<br />
<br />
NsisCrypt::Hash &quot;traytray&quot; &quot;sha1&quot;<br />
Pop $1<br />
MessageBox MB_OK $1<br />
<br />
it comes out with:<br />
<br />
bgCF8ywhjC98c10dkHJLM0McYBg=<br />
<br />
<br />
so am I using this wrongly?<br />
<br />
or is there something else that will convert ascii to mysql &quot;SHA1&quot;....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">28th August 2012, 23:39</div></div><div class="posttext">Did you read the wiki page? It says the return value is base64 encoded.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">technobuddha</div><div class="date">29th August 2012, 03:35</div></div><div class="posttext">ok, i get the logic now. thanks so much for clarifying that!<br />
<br />
but i'm still wanting it to come back as ascii, so I can put it into a mysql sql statement.<br />
do i need to then convert from base64 to ascii with ANOTHER plugin?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">29th August 2012, 03:56</div></div><div class="posttext">It has a base64 decode function...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">technobuddha</div><div class="date">29th August 2012, 14:07</div></div><div class="posttext">Hi Anders,<br />
thanks for your time,<br />
but in my noob experience with nsis, <br />
it only returns an &quot;n&quot;<br />
but i could be doing the code wrong.<br />
<br />
NsisCrypt::Hash &quot;traytray&quot; &quot;sha1&quot;<br />
Pop $1<br />
MessageBox MB_OK $1<br />
NsisCrypt::Base64Decode $1<br />
Pop $1<br />
MessageBox MB_OK $1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">29th August 2012, 16:54</div></div><div class="posttext">The Hash function appears to use $1 as well as the two parameters passed on the calling line. [ From the Wiki page: ] &quot; If you set NSIS user variable $1 to phrase 'ascii', the[n] the string is hashed as an ASCII string, otherwise, the string is behaved like a unicode one.&quot;<br />
<br />
Your example doesn't set $1 to &quot;ascii&quot;, so the string is processed as Unicode, and Base64Decode will give back Unicode characters. The MessageBox probably sees the first character as just one character and an end of string.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>