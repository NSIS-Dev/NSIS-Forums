<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Advanced Logging with Speical Builds, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Advanced Logging with Speical Builds NSIS Discussion" />
	
	<title> Advanced Logging with Speical Builds [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Advanced Logging with Speical Builds</div>
<hr />
<div class="pda"><a href="t-309872.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=309872">Advanced Logging with Speical Builds</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pld32</div><div class="date">12th August 2009, 15:41</div></div><div class="posttext">I have looked at this link and downloaded the software. I see no information on what to expect. Should I see a install.log file? Are there special keywords to use in my script?<br />
<br />
http://nsis.sf.net/Special_Builds</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">12th August 2009, 17:03</div></div><div class="posttext">Did you see the manual (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.12) ? Did you include a 'LogSet On' command?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pld32</div><div class="date">12th August 2009, 17:14</div></div><div class="posttext">Thanks I did see that I just did not register with me.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">barryseymour</div><div class="date">25th February 2010, 00:36</div></div><div class="posttext">I am new to NSIS. I want to enable advanced logging with the hope of reading that log file at uninstall time and using it to only remove files that were installed.<br />
<br />
I tried turning LogSet on and got the error NSIS_CONFIG_LOG not defined. <br />
<br />
I located a thread from 2006 -http://forums.winamp.com/showthread.php?postid=1051549 - that showed where to download special builds, including one with logging on. The Special Builds page is http://nsis.sourceforge.net/Special_Builds.<br />
<br />
However the build with logging enabled is just a ZIP file that only contains MAKENSIS.EXE and a Stubs folder. This does not look like a 'built' program to me.<br />
<br />
Am I missing something? The thread referenced above said I wouldn't have to build this. <br />
<br />
Thanks in advance for your help...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wacaveman</div><div class="date">25th February 2010, 16:27</div></div><div class="posttext">Yes, I was quite annoyed that NSIS did not support logging right out of the box, when other installers do.  The rationale was that it affected the size of the installer.<br />
<br />
Plus, if you build a script with logging, you have to hack it so that it doesn't explode if you try to build your script on a system which doesn't have the &quot;special logging build&quot;.<br />
<br />
Seems to me it should be possible to have a single executable and a checkbox or internal flag to enable logging support such that it wouldn't affect the executable size if logging wasn't enabled.  That, and a mechanism for the script to force logging on, if it is needed.  For any silent installs, which are common for the work that I do, a log is a necessity.<br />
<br />
Anyway, enough of that rant.  Here is the hack in case you want log support, but don't want it to explode if you happen to have a system without the &quot;special logging build&quot;.<br />
<br />
!macro Logger What<br />
!ifdef NSIS_CONFIG_LOG<br />
  LogSet &quot;${What}&quot;<br />
!endif<br />
!macroend<br />
<br />
!macro Log What<br />
!ifdef NSIS_CONFIG_LOG<br />
  LogText &quot;${What}&quot;<br />
!endif<br />
!macroend<br />
<br />
This allows you to do &quot;Logger On&quot;, and LogText &quot;Blah&quot;, and it works if you use either build.<br />
<br />
IMHO, I would have pushed to eliminate the special builds, just to avoid maintaining three separate executables (and probably code branches too) for every release.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">barryseymour</div><div class="date">25th February 2010, 16:30</div></div><div class="posttext">WACaveman: I appreciate the error trap, but this still doesn't solve my issue. I can't seem to find the build that enables logging -- and I'm certainly not in the mood to download the source code and rebuild the project. Heck, I've only been at this for four days!<br />
<br />
Does anyone know where I can get this build?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">25th February 2010, 17:57</div></div><div class="posttext">However the build with logging enabled is just a ZIP file that only contains MAKENSIS.EXE and a Stubs folder. This does not look like a 'built' program to me.Those files are replacements for the files installed by the standard installer. These replacements support logging, unlike the standard files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">barryseymour</div><div class="date">25th February 2010, 18:10</div></div><div class="posttext">I now see what you mean.<br />
<br />
However, as a newbie I'd be reluctant to unzip files over an already-installed package, never mind recompiling the whole darn thing. The hazards of open source, I guess...<br />
<br />
Thankfully I've talked to my boss and we've come up with a simpler way to solve my problem, so I'm abandoning the whole 'log all installed files' issue.<br />
<br />
Thanks for the input, though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wacaveman</div><div class="date">25th February 2010, 21:15</div></div><div class="posttext">Fear not - it is simple enough.  Just make sure the version you are unzipping is the same as the version which is installed, and it is easy enough to rename the original file, and stub directory in case you are worried about screwing things up.  The backup is always a good idea anyway.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>