<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" running unistaller from .onInit function, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  running unistaller from .onInit function NSIS Discussion" />
	
	<title> running unistaller from .onInit function [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  running unistaller from .onInit function</div>
<hr />
<div class="pda"><a href="t-292320.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=292320">running unistaller from .onInit function</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tictox</div><div class="date">26th May 2008, 16:51</div></div><div class="posttext">Hi All , I have been searching the forum , google , you name it to get a working script for running the uninstaller from a installer.. there seems to be a often used Function .onInit, I initially used from the VLC installer script which didnt work , and since that have found an extended version of this function from oggcodecs_release.nsi<br />
<br />
which has an added some extra code including an IfErrors after calling ExecWait '$0 _?=$INSTDIR'  <br />
<br />
Sadly this IfErrors is been triggered , so I want to know why? what is the error?<br />
<br />
I am really trying to learn the nsis language now , where before I just copied code ,so I want to track down what i have done wrong. I have attached my installer script , If anyone has some time to look and point me in the right direction I would be very happy<br />
<br />
take note im not sure if im writing all reg strings correctly?? <br />
<br />
what is the &quot;law/rules&quot; for writing the value of say:<br />
PRODUCT_DIR_REGKEY ??<br />
<br />
there doesnt seems to be good documentation on grasping what these types of values should be?:mad:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">26th May 2008, 18:12</div></div><div class="posttext">You should take a look at the included examples as well ;)<br />
Especially the script makensis.nsi which is the actual nsis installer, might give you some clue.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tictox</div><div class="date">27th May 2008, 10:26</div></div><div class="posttext">K ..I looked at the makensis.nsi script .. It wasnt really any help, as it has very customized uninstaller code and is not inline with the script i attached and the scripts I used as a reference for my code, I have been trying all sorts this morning and I cannot get the uninstaller to run.. ? Im attaching my script again , IF anyone knows why this is not working pls let me know</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th May 2008, 12:16</div></div><div class="posttext">If $0 contains spaces then you won't get anything executing. Use ExecWait '&quot;$0&quot; _?=$INSTDIR'. Also make sure the path in $0 is valid.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>