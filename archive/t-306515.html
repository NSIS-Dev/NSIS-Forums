<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Modal MessageBox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Modal MessageBox NSIS Discussion" />
	
	<title> Modal MessageBox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Modal MessageBox</div>
<hr />
<div class="pda"><a href="t-306515.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=306515">Modal MessageBox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jweinraub</div><div class="date">18th May 2009, 19:06</div></div><div class="posttext">Guys,<br />
<br />
Is there an option to make a MessageBox modal?  MB_TOPMOST doesn't seem to do the trick.  I have a question box that I want to be centre/top and unable to do anything until answered.  <br />
<br />
Is this possible with NSIS?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th May 2009, 19:16</div></div><div class="posttext">I'm not sure what your problem is. The MessageBox instruction produces a modal message box which until a selection is made, halts code execution. Where are you showing one?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jweinraub</div><div class="date">18th May 2009, 20:04</div></div><div class="posttext">I want one similar to a modal box like mfc produces so it takes focus.  Not just installation halt but doesn't allow anything else to be done too until question answered.  Like if you click outside of the box, the computer will ding.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">18th May 2009, 20:31</div></div><div class="posttext">why do you want to hurt your users?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jweinraub</div><div class="date">18th May 2009, 21:01</div></div><div class="posttext">I don't, it was more if it was possible :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">18th May 2009, 22:23</div></div><div class="posttext">To make a Messagebox modal you have to pass the parent window handle instead of NULL.<br />
<br />
You can do this by!include &quot;${NSISDIR}\Examples\System\System.nsh&quot;<br />
!define STYLE ${MB_OK}|${MB_ICONINFORMATION}<br />
System::Call 'User32::MessageBox(i $HWNDPARENT, t &quot;The text&quot;, t &quot;A caption&quot;, i ${STYLE}) i.'<br />
(Shameless copy from a post from aerDNA in the MessageBox with more buttons (http://forums.winamp.com/showthread.php?s=&amp;threadid=148932&amp;pagenumber=3) thread)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">18th May 2009, 22:25</div></div><div class="posttext">Hmm, and this is exactly what the NSIS MessageBox is doing, so what is your question?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th May 2009, 22:49</div></div><div class="posttext">jweinraub I very much doubt this is possible with Windows as is. Have you ever seen this done before in an installation wizard?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">19th May 2009, 12:59</div></div><div class="posttext">I've seen it done before in some applications that throw an error (and I don't mean the UAC prompt).. so it can be done, but it sure is annoying(!)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jweinraub</div><div class="date">19th May 2009, 14:30</div></div><div class="posttext">I don't recall if I ever seen an installation program do it, but I have seen Windows programs do it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jweinraub</div><div class="date">19th May 2009, 16:24</div></div><div class="posttext">Techically that example is modal to the parent window, not the desktop.  I believe a true modal dialogue won't let you do anything else until that has been answered...  <br />
<br />
But I don't plan on doing anything that will make our customers annoyed it was just a curiosity question.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">19th May 2009, 16:47</div></div><div class="posttext">Originally posted by jweinraub <br />
Techically that example is modal to the parent window, not the desktop.<br />
Yes, you're right.<br />
I didn't understand what you are trying to do at first.<br />
<br />
Originally posted by jweinraub <br />
I believe a true modal dialogue won't let you do anything else until that has been answered...<br />
As far as I know, a modal dialog is only modal to it's parent window, not to windows from other programs.<br />
http://en.wikipedia.org/wiki/Modal_window<br />
<br />
To make something you want, you will have to do something like the Windows XP shutdown dialogbox:<br />
Make a screendump, show it on top of everything, and place your dialogbox on top of that.<br />
See http://www.codeproject.com/KB/dotnet/DimmerForm.aspx for an example (.NET)<br />
<br />
But as said before, I don't think that is something you want to do to your users...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>