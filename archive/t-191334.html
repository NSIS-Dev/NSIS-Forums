<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Determining the name of the installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Determining the name of the installer NSIS Discussion" />
	
	<title> Determining the name of the installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Determining the name of the installer</div>
<hr />
<div class="pda"><a href="t-191334.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=191334">Determining the name of the installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">JackOdell</div><div class="date">25th August 2004, 22:04</div></div><div class="posttext">Some preamble:<br />
I am writing an installer for WindowsXP Service Pack 2.  When the user clicks to &quot;download&quot; on our site, they download the installer as a signed executable.<br />
<br />
The problem:<br />
Sometimes the installer needs to reboot to complete.  While I know all I need to do is to add a key under RunOnce in the registry, the problem is that i don't know the exact name of the installer's executable.  Since it is downloaded and run by IE, the installer is run from the cache and if there are multiple copies of the same file in the cache, the files are dynamically renamed.<br />
<br />
The question:<br />
Does anyone know how to dynamically determine the exact name of the installer if it is renamed (like by IE's cache)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">26th August 2004, 01:42</div></div><div class="posttext">u could parse $CMDLINE, cant really remember right now if there is a variable with just the exe name...look in the docs :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">26th August 2004, 02:30</div></div><div class="posttext">The FAQ has an example showing how to get the installer's filename:<br />
<br />
http://nsis.sourceforge.net/index.php?id=19&amp;backPID=15&amp;tx_faq_faq=41</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JackOdell</div><div class="date">26th August 2004, 14:30</div></div><div class="posttext">Thank you very much.  I had tried GetModuleFileName but was unable to get the appropriate parameters.  <br />
<br />
Apologies for not checking the FAQ.  I had scanned the docs and the forum, but not the FAQ.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>