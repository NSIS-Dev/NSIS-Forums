<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS patching (multiple patches in one file), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS patching (multiple patches in one file) NSIS Discussion" />
	
	<title> NSIS patching (multiple patches in one file) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS patching (multiple patches in one file)</div>
<hr />
<div class="pda"><a href="t-307101.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307101">NSIS patching (multiple patches in one file)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bedbuffer</div><div class="date">5th June 2009, 09:12</div></div><div class="posttext">I'm able to generate patch files from one version to another using NSIS' Vpatch. Let's say I have mydll.dll version 1, and I have a patch to update it to version 2. Then I have a new version again, thus I generate another patch to update it to version 3. <br />
<br />
What bothers me though is, what if user cancels updating to version 2 and so forth. Then my latest version let's say is version 20. User decides to update to version 20. Is there a way to generate a patch that's like accumulative in nature? whereas user can jump from version any old version to the newest version (i.e ver 3 to ver 20) without passing through the versions in between?<br />
<br />
I've read this line in vpatch's documentation ---&gt; &quot;if you want to be able to upgrade version 1 and 2 to version 3, you can put a 1 &gt; 3 and 2 &gt; 3 patch in one file.&quot; But how do I that? <br />
<br />
What if I alread have like 30 versions. Does that mean I have to create a patch whose arguments are old files(versions 1-29) and new file(version20)?<br />
<br />
Any help would be appreciated. Thanks...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">5th June 2009, 12:29</div></div><div class="posttext">I've read this line in vpatch's documentation ---&gt; &quot;if you want to be able to upgrade version 1 and 2 to version 3, you can put a 1 &gt; 3 and 2 &gt; 3 patch in one file.&quot; But how do I that?<br />
Here is how I did it:GenPat.exe file_v1 file_v5 big_patch.pat<br />
GenPat.exe file_v2 file_v5 big_patch.pat<br />
GenPat.exe file_v3 file_v5 big_patch.pat<br />
GenPat.exe file_v4 file_v5 big_patch.patI created a simple batch file to do this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bedbuffer</div><div class="date">15th June 2009, 03:50</div></div><div class="posttext">What if I have an application with 20 files. Assuming I have to update 10 files per version, and I have reached 12 versions. Then I want to create the patch file for the 13th version. Does that mean I have to keep all 120 files (10 files x 12 versions) to create a new patch file?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">15th June 2009, 10:44</div></div><div class="posttext">Does that mean I have to keep all 120 files (10 files x 12 versions) to create a new patch file?<br />
No. In my example &quot;big_patch.pat&quot; can patch any of file_v1 to file_v4 to make file_v5.<br />
<br />
If I now need to update to file_v6 all I need is another patch file that will patch file_v5 to file_v6, e.g.GenPat.exe file_v5 file_v6 extra_patch.patI can then use the big_patch.pat file to ensure the file has been updated to file_v5 and then use the extra_patch.pat file to upgrade the resulting file_v5 file to file_v6.<br />
<br />
So all I need to do is keep the big_patch.pat file and worry about updating the result of applying it to the older files (i.e. worry about updating from file_v5 to a newer version)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bedbuffer</div><div class="date">16th June 2009, 11:24</div></div><div class="posttext">So extra_patch.pat is exclusively for updating from file_v5 to file_v6, not from any older version to file_v6.<br />
<br />
But if you want the user to be able to update from any old  version to your latest version, let's say 15th version, your batch file would look something like this: <br />
<br />
<br />
GenPat.exe file_v1 file_v15 big_patch.pat<br />
GenPat.exe file_v2 file_v15 big_patch.pat<br />
GenPat.exe file_v3 file_v15 big_patch.pat<br />
GenPat.exe file_v4 file_v15 big_patch.pat<br />
....<br />
....<br />
GenPat.exe file_v14 file_v15 big_patch.pat<br />
<br />
Is that correct?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">17th June 2009, 14:16</div></div><div class="posttext">Yes, that is how I would make a patch file that could patch any of the 14 old versions of a file to make the new version.<br />
<br />
One reason I use a batch file is to help me keep a record of what went into the patch file.<br />
<br />
I am assuming there is a good reason you want to apply patches instead of just installing the latest version of the file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bedbuffer</div><div class="date">19th June 2009, 06:36</div></div><div class="posttext">Yes, that's right. We would like to minimize having the users reinstall the software as much as possible. For an application that's fairly big it's better to have updates for users' convenience.<br />
<br />
I was thinking there could be another way. But I guess this is how as far as patching goes. <br />
<br />
Thanks!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>