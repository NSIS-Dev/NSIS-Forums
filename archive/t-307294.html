<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to wait for NSIS-created installer to complete in silent mode?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to wait for NSIS-created installer to complete in silent mode? NSIS Discussion" />
	
	<title> How to wait for NSIS-created installer to complete in silent mode? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to wait for NSIS-created installer to complete in silent mode?</div>
<hr />
<div class="pda"><a href="t-307294.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307294">How to wait for NSIS-created installer to complete in silent mode?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">greylightning</div><div class="date">11th June 2009, 17:53</div></div><div class="posttext">Hi NSIS developers,<br />
<br />
When running an NSIS-created installer in silent mode from the command line, I have found that the shell will return immediately, while the installer continues to run in a separate process.<br />
<br />
Do you know how I can configure my NSIS-created installer so that completion of the install process will be waitable by the shell? The use case here is a third-party scripting system that needs to consume my installer in a way that waits for my installer process to complete before starting the next task. My installer is expected to run in silent mode and then return when it is fully complete.<br />
<br />
I have noted another problem with the SilentInstall command. Perhaps this is related. Setting &quot;SilentInstall silent&quot; does not seem to have any effect. If I call my installer on the command line with &quot;/S&quot; it does launch a silent mode install.<br />
<br />
Do any of you superpimps have advice on how to do this? Or if the answer is just 'no,' then I will groan and go ahead with switching to MSI (oh god MS toolchain why why).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th June 2009, 19:10</div></div><div class="posttext">In command prompt/batch files one must use start /wait for non console apps. In C/C++ you'd use WaitForSingleObject() on the process handle and in .NET you'd use process.Wait*****it(). I think you must be mistaken with your findings.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">greylightning</div><div class="date">11th June 2009, 19:50</div></div><div class="posttext">Thanks for the advice, Stu.<br />
<br />
I was not able to get the desired wait behavior with the following bat file. Do you have any idea what might be wrong?<br />
<br />
I created a bat file containing the following text:<br />
<br />
@echo off<br />
start &quot;Installer&quot; /wait /B &quot;Installer.exe&quot; /S<br />
<br />
I then executed the batch file from a cmd.exe prompt. The command prompt still immediately returns from executing the script, while the installer runs in a detached process.<br />
<br />
If I omit the /S, then it waits for the GUI installer to complete, the same as if I executed the installer directly from a command prompt. But the goal of this exercise is to wait for the silent-mode installer to complete. Any ideas?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th June 2009, 20:04</div></div><div class="posttext">Using /B stops that code working at all as NSIS installers aren't console applications. Either way, with or without /S (and without /B) it waits for me. It never waits when run directly without using start /wait for me.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">greylightning</div><div class="date">11th June 2009, 20:15</div></div><div class="posttext">Ah, excellent! Removing /B did the trick. Thank you!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>