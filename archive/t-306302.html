<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Full screen colour, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Full screen colour NSIS Discussion" />
	
	<title> Full screen colour [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Full screen colour</div>
<hr />
<div class="pda"><a href="t-306302.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=306302">Full screen colour</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">southcot</div><div class="date">12th May 2009, 23:10</div></div><div class="posttext">I've been trying out BgImage::SetBg as I want to cover the whole screen in white with a simple logo displayed in the middle of the screen while the installer runs. I don't seem to be able to get this to work and the examples have proved no help. Can anyone give me any pointers on how to do this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th May 2009, 16:56</div></div><div class="posttext">Examples are the best pointers there are. What have you tried? What doesn't work?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">southcot</div><div class="date">13th May 2009, 17:12</div></div><div class="posttext">I've tried stripping out parts of the example in the BgImage folder in the NSIS install location. try as I may I can't work out how to get a pure white screen.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th May 2009, 17:53</div></div><div class="posttext">Care to go into more detail? The script itself would help figuring out what's wrong.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">southcot</div><div class="date">13th May 2009, 19:18</div></div><div class="posttext">This was the last attempt:-<br />
<br />
<br />
Name &quot;Southcot Services Ltd : On Line Backup&quot;<br />
outfile &quot;Test.exe&quot;<br />
<br />
;--------------------------------<br />
; Start Includes<br />
<br />
        !include &quot;LogicLib.nsh&quot;<br />
        !include &quot;Locate.nsh&quot;<br />
        !include &quot;MUI2.nsh&quot;<br />
        !include 'FileFunc.nsh'<br />
        !include 'MoveFileFolder.nsh'<br />
        !insertmacro Locate<br />
<br />
; End Includes<br />
;--------------------------------<br />
<br />
Edited after post and replies to reduce length of thread<br />
<br />
;--------------------------------<br />
; Start Functions<br />
<br />
        Function .onInit<br />
<br />
                SetOutPath $TEMP<br />
<br />
                BgImage::SetBg /GRADIENT 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF<br />
                !insertmacro GetReturnValue<br />
<br />
                File /oname=spltmp.bmp &quot;\\Southcotpdc\users\Charlie-markwick\My Documents\Scripts\Images\Southcot_logo_300dpi.bmp&quot;<br />
                advsplash::show 3000 600 400 -1 $TEMP\spltmp<br />
                Pop $0<br />
                Delete $TEMP\spltmp.bmp<br />
<br />
        FunctionEnd<br />
<br />
        Function .onRebootFailed<br />
                 MessageBox MB_OK|MB_ICONSTOP &quot;Reboot failed. Please reboot manually.&quot; /SD IDOK<br />
        FunctionEnd<br />
<br />
; End Functions<br />
;--------------------------------</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">13th May 2009, 19:26</div></div><div class="posttext">Can you whittle that down to a minimal test case? :) For example, just a welcome and finish page?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">southcot</div><div class="date">13th May 2009, 19:30</div></div><div class="posttext">Guess I could but Kichik was asking for the script I was working on.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th May 2009, 19:49</div></div><div class="posttext">Have to agree with lewellyn here. Would be a whole lot easier figuring it out if just the relevant code was there. Also, if already adding such a large script, attaching it is nicer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">southcot</div><div class="date">13th May 2009, 20:15</div></div><div class="posttext">Sorry doing my best to provide what is needed, I am grateful for you taking the time to respond. (Also earlier I couldn't see how to attach a file, I have just seen the message at the bottom of the edit box here :&gt;{.) As far as I can see the relevant code is here:-<br />
<br />
<br />
Function .onInit<br />
<br />
        SetOutPath $TEMP<br />
<br />
        BgImage::SetBg /GRADIENT 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF<br />
        !insertmacro GetReturnValue<br />
<br />
        File /oname=spltmp.bmp &quot;\\Southcotpdc\users\Charlie-markwick\My Documents\Scripts\Images\Southcot_logo_300dpi.bmp&quot;<br />
        advsplash::show 3000 600 400 -1 $TEMP\spltmp<br />
        Pop $0<br />
        Delete $TEMP\spltmp.bmp<br />
<br />
        FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">13th May 2009, 21:02</div></div><div class="posttext">If you can give us a full minimal script that demonstrates the issue, we can more easily tell you exactly what's up.<br />
<br />
But I've not tried using a UNC there... What happens if you use a local file?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">southcot</div><div class="date">13th May 2009, 21:09</div></div><div class="posttext">The logo displays fine and works with the UNC path. What doesn't happen is the whole screen in white and the logo disappears when the installer starts.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">13th May 2009, 21:35</div></div><div class="posttext">Well, provide us your complete minimal test case and someone's bound to take a look. ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th May 2009, 23:40</div></div><div class="posttext">You're missing a BgImage::Redraw call. Before this call, the window is not displayed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">southcot</div><div class="date">14th May 2009, 07:33</div></div><div class="posttext">In itself this made no difference. I revisited the example and noticed that the function was .onGUIInit and not .onInit adding this function and it works in a fashion and certainly enough to get me started on what I want to do. Thanks</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>