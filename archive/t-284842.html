<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer enabling DSP plugins for Single User and Multi User Installations, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer enabling DSP plugins for Single User and Multi User Installations NSIS Discussion" />
	
	<title> Installer enabling DSP plugins for Single User and Multi User Installations [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer enabling DSP plugins for Single User and Multi User Installations</div>
<hr />
<div class="pda"><a href="t-284842.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=284842">Installer enabling DSP plugins for Single User and Multi User Installations</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zoranlazarevic</div><div class="date">12th January 2008, 11:39</div></div><div class="posttext">Does anyone have a script for detecting whether Winamp is installed in a single-user or multi-user configuration?<br />
<br />
I have an old installer that enables a Winamp DSP plugin by writing to &quot;Winamp.ini&quot;<br />
<br />
WriteINIStr &quot;$4\Winamp.ini&quot; &quot;Winamp&quot; &quot;dspplugin_name&quot; &quot;dsp_MY_PLUGIN.dll&quot; <br />
<br />
However, Winamp can now be installed in multi-user setup, so &quot;Winamp.ini&quot; can actually be in the user's &quot;Documents and Settings&quot; folder, not in &quot;Program Files/Winamp&quot;. Now my installer modifies wrong &quot;Winamp.ini&quot; and does not enable the plugin. How can I enable the plugin whether the Winamp installation is single or multi-user?<br />
<br />
Thanks,<br />
<br />
Zoran</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">12th January 2008, 11:51</div></div><div class="posttext">check (for) paths.ini first maybe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zoranlazarevic</div><div class="date">27th January 2008, 06:37</div></div><div class="posttext">After tinkering with NSIS, here is th solution to an installer that enables/activates a Winamp DSP plugin in both machine-wide and multi-user Winamp installations.<br />
<br />
The installer looks for Winamp.ini (computer-wide Winamp installation).<br />
Failing that it looks for Paths.ini.<br />
Then it reads Paths.ini for determine the location of user-specific Winamp.ini.<br />
Finally, it updates Winamp.ini to activate the DSP plugin.<br />
<br />
<br />
Laza</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>