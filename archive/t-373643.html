<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" HTTP GET request, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  HTTP GET request NSIS Discussion" />
	
	<title> HTTP GET request [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  HTTP GET request</div>
<hr />
<div class="pda"><a href="t-373643.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=373643">HTTP GET request</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">13th November 2013, 15:05</div></div><div class="posttext">Hi all,<br />
I've a problem in order to perform an HTTP GET request by nsis..<br />
I should perform this request with a parameter, that will be a json. Now, I've made the json with the correct values, but I don't know how can I perform the GET request.. any ideas?!?<br />
<br />
Thanks so much! :up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">14th November 2013, 08:20</div></div><div class="posttext">This is not really a NSIS question.<br />
<br />
How you pass the data will depend on the server but in general you should probably use POST if you are sending JSON to the server...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">14th November 2013, 08:25</div></div><div class="posttext">Ok, but there is a syntax to do a POST or a GET with NSIS?!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">14th November 2013, 08:28</div></div><div class="posttext">http://nsis.sourceforge.net/Inetc_plug-in<br />
<br />
For JSON post:<br />
http://www.json.org/JSONRequest.html<br />
<br />
Not sure how to set Content-Type as application/jsonrequest with this plugin though...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">14th November 2013, 11:27</div></div><div class="posttext">Not sure how to set Content-Type as application/jsonrequest with this plugin though...<br />
<br />
/HEADERS probably...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">14th November 2013, 13:16</div></div><div class="posttext">The /HEADER parameter is not available for post (at least not mentioned on the wiki page).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">14th November 2013, 15:17</div></div><div class="posttext">So.. I'm confused.. Now I'm going to try with this plugin... waiting for updates!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">14th November 2013, 15:25</div></div><div class="posttext">I would assume that /HEADER works with post but to find out for sure you would either have to just test or take a look at the source code...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">15th November 2013, 10:53</div></div><div class="posttext">It's an hardest world, NSIS world... :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">15th November 2013, 11:33</div></div><div class="posttext">I just checked in the source code, /HEADER parameter is available for post, so you could try that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">15th November 2013, 13:40</div></div><div class="posttext">Thanks! I'm going to try...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">18th November 2013, 12:06</div></div><div class="posttext">So.. I've problems again..<br />
I'm trying to use post:<br />
<br />
inetc::post /header \<br />
                 &quot;Host 127.0.0.1:4488 \<br />
                  Accept-Charset ISO-8859-1,utf-8;q=0.7,*;q=0.7 \<br />
                  Content-Type application/json; charset=UTF-8&quot; \<br />
                /file c:\Temp\test.json \<br />
                &quot;http://127.0.0.1:4488/&quot;<br />
<br />
and I've trapped the return error with:<br />
<br />
        Pop $1 # return value = exit code, &quot;OK&quot; if OK<br />
        MessageBox MB_OK &quot;Status: $1&quot;<br />
<br />
and it returns: &quot;Connection Error&quot;.<br />
<br />
I would like to exclude that the post syntax is uncorrect, could you confirm it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">19th November 2013, 06:40</div></div><div class="posttext">I don't think you should add the Host header, the plugin/WinINet will probably add it. You probably also need to add $\r$\n for each header.<br />
<br />
Do you get connection error if you don't use /header?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">21st November 2013, 10:58</div></div><div class="posttext">Without /header I obtain &quot;parts error&quot;...<br />
So in this moment I'm trying with :<br />
<br />
inetc::post /header &quot;Content-Type:application/json&quot; &quot;$jSonTree&quot; &quot;http://127.0.0.1:4488&quot; &quot;$output&quot; /end<br />
<br />
but it doesn't work correctly.. what do you mean with $\r$\n ??<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">21st November 2013, 11:46</div></div><div class="posttext">Sorry, I want to say that I obtain File Open Error<br />
but which file???</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">21st November 2013, 16:35</div></div><div class="posttext">Ok with this call:<br />
inetc::post /header &quot;Content-Type:application/json&quot; &quot;$jSonTree&quot; &quot;http://127.0.0.1:4488&quot; /end<br />
it works and after do that, the return value of the post is &quot;OK&quot;, but... if I try to analyze the traffic on 4488 port.. nothing!<br />
<br />
the inetc::post works?? Someone else using this method?!<br />
I've tried to simulate my call with wget, using a file containing my json:<br />
<br />
C:\Utilities\GnuWin32\bin\wget.exe -v --header=Content-Type:application/json --post-file C:\Temp\test.json http://127.0.0.1:4488<br />
<br />
and it works!<br />
<br />
Any ideas?! :igor::stare::eek:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">21st November 2013, 17:10</div></div><div class="posttext">You could try Wireshark...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">22nd November 2013, 08:08</div></div><div class="posttext">Yeah, I've already thought this.. and traffic doesn't pass from localhost:4488... :-(<br />
I don't know... :( any ideas?<br />
I've seen in the source code that post calls directly the get fuction... now i'm trying to use directly get.. but... I don't know if it is a good idea...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">22nd November 2013, 08:48</div></div><div class="posttext">You could try a different server, I believe there are some online services that allow you to test this kind of stuff by responding with the headers and post data in their returned page, or just run the server on a different machine...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Re DeL SiLeNziO</div><div class="date">22nd November 2013, 09:47</div></div><div class="posttext">but with wget works with this server...<br />
I'm going to search a test server...<br />
<br />
thanks for the patience!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>