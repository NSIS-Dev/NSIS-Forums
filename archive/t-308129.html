<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to show preview pics for each section?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to show preview pics for each section? NSIS Discussion" />
	
	<title> How to show preview pics for each section? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to show preview pics for each section?</div>
<hr />
<div class="pda"><a href="t-308129.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=308129">How to show preview pics for each section?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Scream81</div><div class="date">9th July 2009, 14:10</div></div><div class="posttext">Hi<br />
I made an installer that can install a fex iconpacks.<br />
Now it would be nice if I could show a preview of each section maybe between the set section and size line to the left of sections list?<br />
How could I do that? ideas?<br />
<br />
Thanks alot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">10th July 2009, 12:05</div></div><div class="posttext">You need to add a bitmap control (either at run time using CreateWindowEx or using Resource Hacker) then you can set the bitmap using the LoadImage and SendMessage with ${STM_SETIMAGE} in the MUI_CUSTOMFUNCTION_ONMOUSEOVERSECTION event.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Scream81</div><div class="date">10th July 2009, 12:25</div></div><div class="posttext">thanks I'll try that..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">10th July 2009, 12:39</div></div><div class="posttext">Some code here that should help you:<br />
http://nsis.sourceforge.net/Image_in_installer_window_background<br />
<br />
You basically want X custom variables to store the handles to your X images you should load in !define MUI_CUSTOMFUNCTION_GUIINIT myOnGUIInit using LoadImage and then destroy in .onGUIEnd using DeleteObject.<br />
<br />
If you add the bitmap control using Resource Hacker you then just need to use STM_SETIMAGE with IMAGE_BITMAP in the MUI_CUSTOMFUNCTION_ONMOUSEOVERSECTION event with the image handle (stored in your custom variable).<br />
<br />
Note as the manual says, the section id/index is stored in $0. The first section will be index 0, second index 1 and so on. You can therefore use an ${If} $0 == 0 ... ${ElseIf} $0 == 1 ... to load the correct image (or use a ${Switch}).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Boyito</div><div class="date">10th July 2009, 13:25</div></div><div class="posttext">HI Afrow in the sample code ive an error when compile <br />
<br />
LicenseData: open failed &quot;bgbitmap.nsi&quot;<br />
Usage: LicenseData local_file_that_has_license_text | license_lang_string<br />
Error in macro MUI_PAGE_LICENSE on macroline 21<br />
Error in script &quot;C:\NSIS\Image in installer window background.nsi&quot; on line 58 -- aborting creation process<br />
<br />
Where i could find &quot;bgbitmap.nsi&quot;?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">10th July 2009, 13:28</div></div><div class="posttext">bgbitmap.nsi is the script you are compiling. The license is a dummy - just use any text file.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Boyito</div><div class="date">10th July 2009, 13:31</div></div><div class="posttext">Ups, sorry, thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Scream81</div><div class="date">10th July 2009, 16:01</div></div><div class="posttext">hmm okay..<br />
your code looks usefull for me, but I can't understand it well... so the recource hacker variant looks easier...<br />
but how do I use Recource Hacker for this? I open modern_smalldesc and insert control, chouse Bitmap and set position..<br />
but how can I use this in NSIS code? <br />
Sorry I'm really new to this...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">10th July 2009, 16:54</div></div><div class="posttext">Give your bitmap control a unique id, then in the MUI_CUSTOMFUNCTION_ONMOUSEOVERSECTION you need to get a handle to the control using:<br />
<br />
FindWindow $R0 `#32770` `` $HWNDPARENT<br />
GetDlgItem $R0 $R0 bitmap_control_id<br />
<br />
...Where bitmap_control_id is the id number you assigned using Resource Hacker.<br />
<br />
Also to use the UI (if you haven't already) you need to use it by using !define MUI_UI ui_file.exe.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Scream81</div><div class="date">10th July 2009, 20:38</div></div><div class="posttext">Thanks Afrow UK<br />
I got it working now.. I haven't used resource hacker cause I couldn't get it to work, maybe wrong ID? don't know...<br />
but the method from the link worked fine...<br />
changed it from onmouseover to on select :)<br />
<br />
Scream81</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>