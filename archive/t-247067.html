<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" connect to SMTP port on remote name/ip, return 1 or 0, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  connect to SMTP port on remote name/ip, return 1 or 0 NSIS Discussion" />
	
	<title> connect to SMTP port on remote name/ip, return 1 or 0 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  connect to SMTP port on remote name/ip, return 1 or 0</div>
<hr />
<div class="pda"><a href="t-247067.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=247067">connect to SMTP port on remote name/ip, return 1 or 0</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">shaunb</div><div class="date">26th May 2006, 10:50</div></div><div class="posttext">I've read and searched the forums, and online, I can't seem to find a simple enough win32 command line port scanning tool, that I could nsexec and get the output to see if port 25 is open on the remote mailserver (I need to verify a user entered SMTP mailserver ip/name)<br />
<br />
I've tried the following function to no avail, it just returns   -1<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=215817&amp;highlight=smtp<br />
<br />
any help would be useful, thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th May 2006, 11:29</div></div><div class="posttext">This might help you:<br />
http://faq.siteground.com/faq/email_port25.htm<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shaunb</div><div class="date">26th May 2006, 11:33</div></div><div class="posttext">hm, I was just playing about with windows telnet just now hehe, I guess I could exec to stack and then check the result, but hmm, each mailserver responds with a slightly different welcome string.<br />
<br />
pinging it wouldnt suffice as it might be firewalled or whatever. blarg</div></div><hr />


<div class="post"><div class="posttop"><div class="username">OldGrumpy</div><div class="date">28th May 2006, 13:25</div></div><div class="posttext">You don't have to check for the server reply, just for &quot;connect failed&quot; from telnet... :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">28th May 2006, 18:10</div></div><div class="posttext">Good idea lol<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nandhp</div><div class="date">28th May 2006, 20:56</div></div><div class="posttext">Telnet is a Win32 GUI application in 95/98/ME/NT so this approach won't work on those versions. If you need something more reliable, you might want to look for a better solution.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">OldGrumpy</div><div class="date">29th May 2006, 21:35</div></div><div class="posttext">nandhp, I wasn't exactly serious, I was just pointing out a slightly faulty logical chain ;) Of course it would be better to just write a plugin that uses the winsock interface ot connect to a specified server and port :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shaunb</div><div class="date">30th May 2006, 09:03</div></div><div class="posttext">hmm, not really time to write my own plugin, if I had to write anything it'd be a custom console application that did the socket task. hmm</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shaunb</div><div class="date">30th May 2006, 10:15</div></div><div class="posttext">Looks like I've come up with a workable solution<br />
<br />
using portqry.exe (version 2, available from MS's site)<br />
<br />
firstly I nsexec a batch file that wraps the portquery.exe and provides one parameter %1 , to pass in the $CFMAILSERVER (I require to verify a coldfusion server default mailserver), anyway , using the errorlevel function of dos I can then check the exit code of portqry, and output either success or failed to my 'results file' on c:\, which I then use NSIS to read, chop a couple of bytes off the end, and use to check if the mail server verified ok! <br />
<br />
my code is attached as its too long<br />
<br />
edit: actually I can't find where to attach it so if anyone wants the code just send me a private message! doh! <br />
<br />
:) I hope it'll help anyone else trying to do the same task.<br />
<br />
The end results work quite well<br />
<br />
(for reference)<br />
http://www.petri.co.il/quickly_find_remote_open_ports.htm</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>