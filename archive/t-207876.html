<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Remove the icon from dialogs' titlebar?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Remove the icon from dialogs' titlebar? NSIS Discussion" />
	
	<title> Remove the icon from dialogs' titlebar? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Remove the icon from dialogs' titlebar?</div>
<hr />
<div class="pda"><a href="t-207876.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=207876">Remove the icon from dialogs' titlebar?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">krisbg</div><div class="date">15th February 2005, 17:49</div></div><div class="posttext">Hi! This is a little bit strange question, but that's my bosses' requirements - how to remove the icon from the title of the dialogs in MUI? Is there a way to do it from the script or if not - a way to edit some resources and which exactly?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dkom</div><div class="date">15th February 2005, 18:15</div></div><div class="posttext">Maybe you can use white bitmap (if your title is white too) without any picture. So it will be invisible to user.<br />
!define MUI_HEADERIMAGE<br />
!define MUI_HEADERIMAGE_BITMAP &quot;bitmap.bmp&quot;<br />
!define MUI_HEADERIMAGE_RIGHT<br />
<br />
Another way - find your UI (by default - c:\Program Files\NSIS\Contrib\UIs\modern.exe).<br />
Open it in resource editor, find dialog 105, select icon and set it invisible (uncheck &quot;WS_Visible&quot;).<br />
You can rename modified UI (if you want to use both standard and modified) - and in your script you can write<br />
!define MUI_UI &quot;modified_modern.exe&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">15th February 2005, 20:17</div></div><div class="posttext">i think he is talking about the titlebar of the dialog, if that is the case the only options i can think of are:<br />
<br />
a: add the toolbarwindow ex style to the window (you will loose the minimize button aswell)<br />
<br />
b: extract a transparent icon to the temp dir and call  LoadIcon with the system plugin, then use the WM_SETICON message to set as the icon (there will be a 16 px space betweeen the dialog edge and the title)<br />
<br />
c: create a plugin that subclasses the dialog and handles the drawing of the titlebar<br />
<br />
edit: this also seems to work: sendmessage $hwndparent 0x80 1 1 <br />
(put in onGuiInit)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">16th February 2005, 07:59</div></div><div class="posttext">I tested sendmessage yesterday at home on Win98 and now in office on Win2K, very strange, but this not works. Script attached.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">16th February 2005, 08:26</div></div><div class="posttext">Originally posted by Takhir <br />
I tested sendmessage yesterday at home on Win98 and now in office on Win2K, very strange, but this not works. Script attached.  <br />
<br />
it worked on my xp machine, but i passed 1 as a parameter where u are supposed to use 0 so this is probably not a solution u want to use (the docs say pass 0 as handle to remove icon but that doesnt seem to work)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">16th February 2005, 09:06</div></div><div class="posttext">Yep, just tested, &quot;1 1&quot; in .onGuiInit works on XP (blank space instead of icon). But XP only.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">krisbg</div><div class="date">16th February 2005, 16:05</div></div><div class="posttext">Yes, I mean the icon which is in the title bar of the dialogs. So I think that the first suggestion of Dkom is not useful as it would rather work with the big pictures located over the main dialog area. The second suggestion of Dkom seems to be rather useful, but when I open mothern.exe with resource hacker or with visual studio, there is no icon in the title bar of none of the dialogs. So that's why I think he again meant the pictures in the main dialog area.<br />
From the suggestions given by Anders, I like the last one, since I can't seem to understand the a. suggestion, b. suggestion seems to give not very good result and c. suggestion seems rather difficult. <br />
So i want to try with<br />
    sendmessage $hwndparent 0x80 1 1 <br />
but when I put .onGuiInit in my script, the compiler says that this function is already defined in the script, although I cannot find another copy of it. So I experimented moving it up and down in the code and found that the problem is with the MUI_LANGUAGE macro - if I remove it, the scripts is compiled, but then it gives some warning about the language and the setup is not working at all..<br />
So why does it say that .onGuiInit is already defined?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">16th February 2005, 17:13</div></div><div class="posttext">Modern UI Readme http://nsis.sourceforge.net/Contrib/Modern%20UI/Readme.html#customFunctions<br />
<br />
!define MUI_CUSTOMFUNCTION_GUIINIT myGuiInit<br />
<br />
Function myGUIInit<br />
  ...your own code...<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">krisbg</div><div class="date">17th February 2005, 18:45</div></div><div class="posttext">Thanks, Takhir!<br />
SendMessage $hwndparent 0x80 1 1  (which means actually sendmessage $hwndparent WM_SETICON 1 1) works only with winXP - it doesn't work with 98 and 2000. So I tried to make a plug-in which call the same sendmessage but to load a transparent icon, as suggested by Anders. It worked on all windows versions but unfortunately there is an unpleasant side effect - the icon on the taskbar dissapears too. So I really don't know what else to try..?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">17th February 2005, 20:27</div></div><div class="posttext">why is this icon such a big deal?<br />
<br />
I know delphi/c++ builder apps has a hidden window(well its hidden at -32000x-32000, visible, just not on screen) that acts as the parent of the real dialog windows, u could try something like that (Should allow you to keep the alt+tab &amp; taskbar icon)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>