<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Setup with a single command line argument, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Setup with a single command line argument NSIS Discussion" />
	
	<title> Setup with a single command line argument [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Setup with a single command line argument</div>
<hr />
<div class="pda"><a href="t-326184.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=326184">Setup with a single command line argument</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">isawen</div><div class="date">19th January 2011, 12:20</div></div><div class="posttext">Hi again,<br />
<br />
Probably this is how the actual ${GetOption} command works, but I wanted to be sure.<br />
Let's assume my installer parses the command line arguments passed when executed and it searches for this flag option &quot;/argument1&quot;.<br />
<br />
<br />
ClearErrors<br />
${GetOptions} $cmdLineParams '/argument1' $R0<br />
IfErrors +2 0<br />
<br />
<br />
If I execute the installer and pass the /argument1234 it detects that /argument1 was passed. Is there a way to avoid this situation?<br />
<br />
Thanks,<br />
Isa</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">19th January 2011, 12:30</div></div><div class="posttext">use GetParameters</div></div><hr />


<div class="post"><div class="posttop"><div class="username">isawen</div><div class="date">19th January 2011, 12:34</div></div><div class="posttext">I'm not sure what do you mean by ${GetParameter}.<br />
I'm using it to get the command line arguments into my $cmdLineParams variable.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">820815</div><div class="date">19th January 2011, 15:24</div></div><div class="posttext">use the /argument=1 then StrCmp $R0 1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">isawen</div><div class="date">19th January 2011, 15:30</div></div><div class="posttext">That could be a solution but it's more fashion way to have a simple flag (without any value). If this is not possible then I will consider using this.<br />
<br />
Thanks,<br />
Isa</div></div><hr />


<div class="post"><div class="posttop"><div class="username">isawen</div><div class="date">19th January 2011, 15:33</div></div><div class="posttext">use the /argument=1 then StrCmp $R0 1<br />
<br />
My flag name is argument1, but that doesn't mean I'm parsing the last 1 from the argument.<br />
Maybe I have choosed a bad name for the argument.<br />
<br />
My point is that if you want to have just a flag to be passed as the argument, when you pass as argument a string that begins with your flag the NSIS will consider the flag present it's like the argument you are passing is somehow truncated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th January 2011, 15:47</div></div><div class="posttext">If you want to match /argument1 exactly then you'll have to also check $R0 is an empty string.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">isawen</div><div class="date">19th January 2011, 16:12</div></div><div class="posttext">If you want to match /argument1 exactly then you'll have to also check $R0 is an empty string.<br />
<br />
<br />
Indeed, how come this didn't cross my tired mind.<br />
Again thanks for your help.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>