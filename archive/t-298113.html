<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ExecWait with parameters?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ExecWait with parameters? NSIS Discussion" />
	
	<title> ExecWait with parameters? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ExecWait with parameters?</div>
<hr />
<div class="pda"><a href="t-298113.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=298113">ExecWait with parameters?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">patelb</div><div class="date">1st October 2008, 22:09</div></div><div class="posttext">My program requires .Net framework so I do a check for it and if its not installed, I install it like so:<br />
<br />
File /oname=$PLUGINSDIR\dotnetfx3.exe &quot;..\..\Support\dotnetfx3.exe&quot;<br />
    <br />
ExecWait '$PLUGINSDIR\dotnetfx3.exe /q /norestart' $R0<br />
<br />
Doing it this way requires packing the .net installer into my installer which makes the size of my installer pretty big.  What I want to be able to do is just call the .net installer directly from the &quot;..\..\Support\dotnetfx.exe&quot; directory.  So I tried doing this:<br />
<br />
ExecWait '$PLUGINSDIR\dotnetfx3.exe /q /norestart' $R0<br />
<br />
The reason the directory structure is different for this call is because the NSIS Script and the Executable it produces are in two different directories.  When I call the .net installer this way it wont recognize the parameters and it just launches the regular installer.  But I need the .net installer to run in silent mode.  What am I doing wrong?<br />
<br />
Note: Eventually I want to be able to pack all this onto a CD, if that changes anything</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">1st October 2008, 23:34</div></div><div class="posttext">you forgot to RTFM ;) <br />
<br />
ExecWait '&quot;path\app.exe&quot; /param1 /param2=&quot;foo bar&quot;' $0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">patelb</div><div class="date">1st October 2008, 23:39</div></div><div class="posttext">Sorry there was a mistake in my first post.  The second ExecWait call should have been:<br />
<br />
ExecWait 'Support\dotnetfx3.exe /q /norestart' $R0.<br />
<br />
Also ive already tried this:<br />
ExecWait '&quot;Support\dotnetfx3.exe&quot; /a /norestart' $0<br />
<br />
That didnt work either.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">patelb</div><div class="date">2nd October 2008, 00:15</div></div><div class="posttext">Okay a new discovery<br />
<br />
If I specify the full path like this:<br />
<br />
ExecWait '&quot;C:\Somefolder\Anotherfolder\Support\dotnetfx3.exe&quot; /a /norestart' $0<br />
<br />
Everything works fine, the parameters are recognized and the silent installer is deployed.<br />
<br />
If I do it using relative path as I was trying to do:<br />
<br />
ExecWait '&quot;Support\dotnetfx3.exe&quot; /a /norestart' $0<br />
<br />
The paramaters are not recognized and the regular installer is deployed.  I want to do it using a relative path because eventually I will have the installer on a CD and will not know what drive letter the CD drive is.  What am I doing wrong?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">qwertymodo</div><div class="date">2nd October 2008, 04:24</div></div><div class="posttext">did you try &quot;.\Support\dotnetfx3.exe . . .&quot;?<br />
<br />
when in doubt, add &quot;.\&quot; (this is shorthand for current working directory in the same way that ..\ is up one level from the current directory)<br />
<br />
also, make sure the current directory is the right one.  use the SetOutPath to set your current directory.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>