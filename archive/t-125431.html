<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" nsExec problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  nsExec problem NSIS Discussion" />
	
	<title> nsExec problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  nsExec problem</div>
<hr />
<div class="pda"><a href="t-125431.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=125431">nsExec problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th February 2003, 21:52</div></div><div class="posttext">Could not load: C:\DOCUME~1\WINDOW~1\LOCALS~1\Temp\nst22.tmp\nsExec.dll<br />
<br />
I get this when trying to use nsExec<br />
It worked before, but stopped working now.<br />
All I have done is moved parts of my nsi script to seperate nsi files, since my script got so large.<br />
Is this a bug due to the nsExec command being called from in a seperate (!include) file?<br />
<br />
I ran my old map-compiler script (when nsExec worked), and it still happens.<br />
<br />
Also, how do I use LogText?<br />
<br />
-Stuart :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">18th February 2003, 04:39</div></div><div class="posttext">Did you look to see if the file was there?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th February 2003, 15:53</div></div><div class="posttext">b0 or b1? Please attach the script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th February 2003, 19:24</div></div><div class="posttext">To use LogText you have to compile your own version of NSIS with #define NSIS_CONFIG_LOG uncommented in Source\exehead\config.h. Then use LogSet to turn on/off the log and then you'll be able to use LogText (I think you can skip LogSet, not sure about it).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th February 2003, 20:02</div></div><div class="posttext">Another question...<br />
Is there any way of copying all text in the LogText window, and then pasting it into a file?<br />
I mean a script to do it, instead of the user doing it manually.<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th February 2003, 20:10</div></div><div class="posttext">Well, you can do what NSIS does when the user right-clicks the log and chooses copy. This will require System.dll and I don't have much time now so you'll have to wait for tomorrow unless someone will figure it out before me :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th February 2003, 19:07</div></div><div class="posttext">How is the figuring it out going :)<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th February 2003, 20:15</div></div><div class="posttext">Here it is:<br />
http://nsis.sourceforge.net/archive/nsisweb.php?page=153&amp;instances=0,11</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Irish2007</div><div class="date">29th February 2008, 20:57</div></div><div class="posttext">Kichik, I am using your Dump Log file script for the installer - but it doesn't log the uninstall -- is there a way to adapt this script to log the uninstall information??<br />
<br />
thanks so much for the help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st March 2008, 15:35</div></div><div class="posttext">Well, the function in the example is not built for the uninstaller as you can see by its lack of &quot;un.&quot; prefix. If you wish to use it in the uninstaller, rename it to un.DumpLog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yudyzhao</div><div class="date">16th February 2010, 12:17</div></div><div class="posttext">kichik, I used your dumplog in my installer script. But the install.log content is unreadable at all because I created the installer by Unicode NSIS. Is there Unicode system.dll available or any other way to solve this problem?<br />
<br />
Thanks a lot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th February 2010, 12:26</div></div><div class="posttext">System plug-in already supports Unicode. You just have to call the right functions (W instead of A) with the right parameter types (w instead of t).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yudyzhao</div><div class="date">17th February 2010, 15:00</div></div><div class="posttext">kichik, thanks a lot. Problem is solved! :up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ptz</div><div class="date">8th December 2011, 15:32</div></div><div class="posttext">System plug-in already supports Unicode. You just have to call the right functions (W instead of A) with the right parameter types (w instead of t).<br />
I receive an unreadable file too (2.46 Unicode), and I don't understand the instruction kichik gave above regarding how to modify the function (http://nsis.sourceforge.net/Dump_log_to_file) to make it readable. Help is appreciated.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th December 2011, 16:23</div></div><div class="posttext">Use SendMessageW instead of SendMessageA and you need to use LVM_GETITEMTEXTW instead of LVM_GETITEMTEXT (google the value). You may also need to change the &amp;t to &amp;w but check the Unicode System plug-in readme for that.<br />
<br />
Edit: You may also need to use different FileWrite functions but again check the Unicode NSIS manual.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ptz</div><div class="date">8th December 2011, 16:52</div></div><div class="posttext">Oh, excellent, switching to LVM_GETITEMTEXTW did the trick. Thanks, Stu.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>