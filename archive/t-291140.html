<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Finding a specific folder, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Finding a specific folder NSIS Discussion" />
	
	<title> Finding a specific folder [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Finding a specific folder</div>
<hr />
<div class="pda"><a href="t-291140.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=291140">Finding a specific folder</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Lone Shepherd</div><div class="date">1st May 2008, 19:48</div></div><div class="posttext">Okay. . .NSIS newbie here.  Looks like a very cool and powerful scripting language but I'm having trouble deciphering how it all works.<br />
<br />
I want my installer to:<br />
<br />
 Search for a specific directory and return the first match (if any)<br />
 Use that full path as the default in a &quot;browse&quot; dialog, which the user can change if not correct.<br />
 When the user clicks 'next' it will write that full path to a file<br />
<br />
<br />
I've only gotten as far as the 'search for the path' part.  I'm trying to have ${GetDrives} return all &quot;HDD+NET&quot; drives, and then use locate to search each drive for a directory name, and then stop if it finds a match and return the full path.<br />
<br />
Any help greatly appreciated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Lone Shepherd</div><div class="date">1st May 2008, 21:19</div></div><div class="posttext">Okay, so I have locate working without GetDrives:<br />
<br />
<br />
${locate::Open} &quot;C:\&quot; &quot;/F=0 /D=1 /M=SomeDir&quot; $0<br />
${locate::Find} $0 $1 $2 $3 $4 $5 $6<br />
MessageBox MB_OK 'SomeDirdir: $2'<br />
<br />
<br />
Now how do I put up a &quot;wait&quot; type dialog while it searches?  And how do I incorporate GetDrive in there?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">2nd May 2008, 03:48</div></div><div class="posttext">I would just use DetailPrint to print &quot;Please Wait&quot; which will appear in the install log page or the status bar depending on your settings.<br />
<br />
I speculate that there might be something that could be done with nsDialogs to show a dialog.  <br />
<br />
You could create a separate exe that just displays a dialog, but the difficult part to showing a dialog, is that you would have to first spawn the dialog asynchronously, so that your script would then continue and perform the locate, then once the locate statement completes, you would then need to &quot;find&quot; that dialog and kill it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">2nd May 2008, 15:13</div></div><div class="posttext">I found a solution for showing the dialog:<br />
<br />
    Banner::show /NOUNLOAD &quot;Please wait while the directory is found&quot;<br />
;do your long running stuff here<br />
    Banner::destroy<br />
<br />
<br />
See for more info:<br />
http://nsis.sourceforge.net/Docs/Banner/Readme.txt</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>