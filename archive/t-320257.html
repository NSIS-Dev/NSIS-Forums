<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Copy compiled .exe at/after compile time, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Copy compiled .exe at/after compile time NSIS Discussion" />
	
	<title> Copy compiled .exe at/after compile time [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Copy compiled .exe at/after compile time</div>
<hr />
<div class="pda"><a href="t-320257.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320257">Copy compiled .exe at/after compile time</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Plainjay</div><div class="date">26th June 2010, 00:07</div></div><div class="posttext">I'm looking for a way to add the .exe I'm compiling to a folder and build an ISO image off that folder during the compile process (sort of a one-stop process for building everything). It sounds like I'd need to call another batch file or executable to copy the compiled program and do the rest of the processing.  How do you call a program and tell the compiler to keep running without waiting for the called program to finish?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Plainjay</div><div class="date">26th June 2010, 00:13</div></div><div class="posttext">Perhaps I should create an .exe to call the compile process and then run the commands I need, after it finishes compiling?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">26th June 2010, 08:20</div></div><div class="posttext">I don't think there's any practical difference between creating an exe or a batch file.<br />
<br />
Anyway, I'm not at all sure if you can access the compiled .exe before the compiler is 100% finished. But if you can, there is a post in these forums explaining how to call a vbs script during compilation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th June 2010, 10:40</div></div><div class="posttext">You need to use a batch file.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Plainjay</div><div class="date">26th June 2010, 15:57</div></div><div class="posttext">I suppose it's like trying to pull a rug out from under you while you're standing on it.  I still find it strange that you couldn't call a file or program to run in parallel while letting the main exe to continue.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th June 2010, 16:57</div></div><div class="posttext">If you want to add support, go for it :)<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">26th June 2010, 17:26</div></div><div class="posttext">I still find it strange that you couldn't call a file or program to run in parallel while letting the main exe to continue.You can.  I do that in several of my scripts. A number of my scripts call other programs to produce md5 hashes of the installer, or create an iso file with the installer and other files.<br />
The last few lines of one of my nsi's look like this:# create the iso file and its md5<br />
!define ISOFile &quot;${LanguageSuffix}_${VersionMajor}${VersionMinor}_OPSManual&quot;<br />
!system 'start wscript.exe &quot;${BUILDDIR}\MakeIso.vbs&quot; &quot;${SRCDIR}&quot; &quot;${ISOFile}&quot; ${INSTALLER_NAME}'<br />
<br />
The MakeIso vbscript starts while makensis.exe is still running, and in fact has not yet written the setup.exe. The vbscript waits for makensis to exit, then does its work with the setup.exeSub WaitForMakeNSIS()<br />
	Set objWMIService = GetObject(&quot;winmgmts:{impersonationLevel=impersonate}!\\.\root\cimv2&quot;)<br />
	<br />
	Do<br />
		Set colProcesses = objWmiService.ExecQuery(&quot;SELECT * FROM Win32_Process WHERE Name='MakeNSIS.exe'&quot; )<br />
		ProcessIsActive = cBool(colProcesses.Count &gt; 0)<br />
		If ProcessIsActive Then Wscript.Sleep 250<br />
	Loop While ProcessIsActive<br />
End SubI've left out most of the vbscript, and didn't show my !defines, but this should be enough for you to duplicate it.<br />
<br />
Don</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Plainjay</div><div class="date">26th June 2010, 18:18</div></div><div class="posttext">That's the kind of thing I was looking for, thanks! Still considering making an exe to do compiling and building of the various ISO's' however, master compiler essentially.  Looking for a way to send a /switch to the .exe with variable info (to change the what the .exe does at the time it's run depending on the variable given).  I'm sure that's written somewhere in the documentation.. and I'm missing it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Plainjay</div><div class="date">26th June 2010, 19:00</div></div><div class="posttext">Nevermind I'll use a GUI to select the file, was considering using the /D switch on execute to determine which program was going to be compiled but in this case a GUI is the way to go for my company.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>