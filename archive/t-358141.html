<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to record[store] property values in nsis?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to record[store] property values in nsis? NSIS Discussion" />
	
	<title> How to record[store] property values in nsis? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to record[store] property values in nsis?</div>
<hr />
<div class="pda"><a href="t-358141.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=358141">How to record[store] property values in nsis?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ilaiyaraja</div><div class="date">26th March 2013, 15:27</div></div><div class="posttext">I have created exe file using nsis.Its working fine as expected.Now i'm wondering.<br />
<br />
In my script i have 3 pages of reading and writing configuration property.I have used text box for reading and writing.If the user clicks exe file its installed successfully.<br />
<br />
My problem:<br />
If the  exe file have any update i need to do the update process using silent installer[No interaction].In that case i have to use same set of conf property values as earlier used.I donot know how to keep or store values something like recording or something else.Also if the user wants to add more property in silent installer that also want to do. <br />
<br />
How to keep[record]  configure property values in nsis ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">26th March 2013, 17:36</div></div><div class="posttext">To save information between two installation sessions, you can either save to a file or save to registry. For the commands to do this, read chapter 4.9.2 of the manual:<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.2<br />
<br />
To let the user supply info to a silent installer, you can use command line parameters.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ilaiyaraja</div><div class="date">27th March 2013, 06:01</div></div><div class="posttext">Thanks @MSG.can you explain more with sample code? <br />
<br />
Function .onInit<br />
  !ifdef IsSilent<br />
    SetSilent silent<br />
  !endif<br />
FunctionEnd<br />
<br />
I have use this code for running silent and non-silent mode.<br />
First i have run non-silent mode change configuration property values.Next time i have run silent mode the configuration property revert back to default values.so In that case i need to keep the values temporarily and restore values when its needed? <br />
I have use below code for reading values from property file.<br />
Function settings<br />
InstallOptions::dialog &quot;$PLUGINSDIR\Access.ini&quot;<br />
ReadINIStr $test &quot;$PLUGINSDIR\Access.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
ReadINIStr $sample &quot;$PLUGINSDIR\Server.Access.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
FunctionEnd<br />
<br />
Below code writing the values to the conf property. <br />
Function written<br />
  ${ConfigWrite} &quot;$INSTDIR\conf.properties&quot; &quot;Acess&quot; &quot;=$test&quot; $R3<br />
    ;$R3=CHANGED<br />
  ${ConfigWrite} &quot;$INSTDIR\conf.properties&quot; &quot;sampletest&quot; &quot;=$sample&quot; $R4<br />
  ;$R4=CHANGED<br />
FunctionEnd<br />
<br />
How to save this values in file or registry?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">27th March 2013, 07:11</div></div><div class="posttext">You can simply use FileWrite to write one line (setting) to a txtfile. Then use FileRead in a loop to read all written settings.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ilaiyaraja</div><div class="date">27th March 2013, 09:48</div></div><div class="posttext">Thanks MSG. i will try.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>