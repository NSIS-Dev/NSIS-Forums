<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Removing invalid characters from a string, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Removing invalid characters from a string NSIS Discussion" />
	
	<title> Removing invalid characters from a string [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Removing invalid characters from a string</div>
<hr />
<div class="pda"><a href="t-343127.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=343127">Removing invalid characters from a string</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">HaMsTeYr</div><div class="date">13th March 2012, 18:21</div></div><div class="posttext">I don't know if I'm not looking hard enough, but I couldn't find a topic on this, so I'm posting it here.<br />
<br />
Essentially, in my nsis program I'm running some of the files have strange characters like &quot;	®&quot; or &quot;©&quot;. They're problemful for me and I need them removed from the string itself.<br />
<br />
So for example, $0 contains:<br />
<br />
&quot;Application Name Example® v1.0&quot;<br />
<br />
I need it to become:<br />
<br />
&quot;Application Name Example v1.0&quot;<br />
<br />
I know there are results about removing the more standard 'found on keyboard' invalid characters, but what about ones like these?<br />
<br />
I've tried:<br />
${WordReplace} &quot;$0&quot; &quot;®&quot; &quot;&quot; &quot;+&quot; $0<br />
But that doesn't seem to work.<br />
<br />
Any workaround to this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th March 2012, 18:37</div></div><div class="posttext">You could use this: http://nsis.sourceforge.net/StrCSpn,_StrCSpnReverse:_Scan_strings_for_characters<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HaMsTeYr</div><div class="date">13th March 2012, 18:40</div></div><div class="posttext">I took a look at that function before hand, and from what I gather, all it does is flag me if the string contains an invalid character, correct me if I'm wrong.<br />
<br />
I need to actually remove it from the string though</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th March 2012, 18:56</div></div><div class="posttext">I think it'd be best to write your own function for this. Iterate through all characters in A and copy to B ignoring any characters that are invalid.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">13th March 2012, 21:16</div></div><div class="posttext">I've tried:${WordReplace} &quot;$0&quot; &quot;®&quot; &quot;&quot; &quot;+&quot; $0But that doesn't seem to work.It seemed to work for me:Name &quot;Demo&quot;<br />
OutFile demo.exe<br />
<br />
RequestExecutionLevel &quot;user&quot;<br />
<br />
ShowInstDetails show<br />
<br />
!include &quot;WordFunc.nsh&quot;<br />
<br />
Section default<br />
  DetailPrint &quot;&quot;<br />
  StrCpy $0 &quot;Application Name Example® v1.0&quot;<br />
  DetailPrint &quot;Input : $0&quot;<br />
  ${WordReplace} &quot;$0&quot; &quot;®&quot; &quot;&quot; &quot;+&quot; $0<br />
  DetailPrint &quot;Output: $0&quot;<br />
  DetailPrint &quot;&quot;<br />
SectionEnd<br />
Compiled and ran demo.exe and it produced:Input : Application Name Example® v1.0<br />
Output: Application Name Example v1.0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th March 2012, 23:44</div></div><div class="posttext">That method will never do unless you know the complete set of characters you have to remove. It would be simpler, as you say, to only include valid ASCII characters. A custom function is likely needed unless a solution already exists.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>