<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Float Delimeter, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Float Delimeter NSIS Discussion" />
	
	<title> Float Delimeter [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Float Delimeter</div>
<hr />
<div class="pda"><a href="t-200670.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=200670">Float Delimeter</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">KirillKr</div><div class="date">30th November 2004, 09:11</div></div><div class="posttext">How, I can set in Win98 FloatDelimeter (.)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KirillKr</div><div class="date">30th November 2004, 10:01</div></div><div class="posttext">WriteRegStr HKU &quot;.DEFAULT\Control Panel\International&quot; &quot;sDecimal&quot; &quot;.&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th November 2004, 10:01</div></div><div class="posttext">Could you be more specific?<br />
I don't understand what you need...<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KirillKr</div><div class="date">30th November 2004, 13:50</div></div><div class="posttext">My program use float number and get its from text-file.<br />
I must set on client computer Float-point delimeter to (.).<br />
On Win98 default (,).<br />
My code don't work :'(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">scrose</div><div class="date">30th November 2004, 14:40</div></div><div class="posttext">Try HKCU instead of HKU.WriteRegStr HKCU &quot;Control Panel\International&quot; &quot;sDecimal&quot; &quot;.&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KirillKr</div><div class="date">30th November 2004, 15:50</div></div><div class="posttext">Originally posted by scrose <br />
Try HKCU instead of HKU.WriteRegStr HKCU &quot;Control Panel\International&quot; &quot;sDecimal&quot; &quot;.&quot;  <br />
This not work too :'(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">30th November 2004, 16:01</div></div><div class="posttext">i think, this will only work after reboot.<br />
maybe there's a windows api call to do set the delimiter directly, but couldn't find anything in the msdn :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KirillKr</div><div class="date">30th November 2004, 20:47</div></div><div class="posttext">SetLocaleInfo, but How?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">1st December 2004, 15:27</div></div><div class="posttext">the setting you need is<br />
LOCALE_SDECIMAL<br />
so use this:<br />
<br />
; first, get current locale id, store it in $0<br />
System::Call &quot;Kernel32::GetUserDefaultLCID(v)i .r0&quot;<br />
; then, set the float delimiter to '.', $1 gets return value, should be 1 on success<br />
System::Call &quot;Kernel32::SetLocaleInfo(i r0, i 'LOCALE_SDECIMAL', t '.')i .r1<br />
not tested, but should work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd December 2004, 18:42</div></div><div class="posttext">That won't work. You can't pass a string as a number. Replace 'LOCALE_SDECIMAL' with 0xE.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">4th December 2004, 17:43</div></div><div class="posttext">erm, yes, i already thought of this after posting and shutting down my computer :)<br />
of course LOCALE_SDECIMAL is a constant that has to be defined, in this case as 0xE.<br />
so, this will work:<br />
!define LOCALE_SDECIMAL 0xE<br />
<br />
; first, get current locale id, store it in $0<br />
System::Call &quot;Kernel32::GetUserDefaultLCID(v)i .r0&quot;<br />
; then, set the float delimiter to '.', $1 gets return value, should be 1 on success<br />
System::Call &quot;Kernel32::SetLocaleInfo(i r0, i ${LOCALE_SDECIMAL}, t '.')i .r1</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>