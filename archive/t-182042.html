<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Newbie need help! :), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Newbie need help! :) NSIS Discussion" />
	
	<title> Newbie need help! :) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Newbie need help! :)</div>
<hr />
<div class="pda"><a href="t-182042.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=182042">Newbie need help! :)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">flyingshadow</div><div class="date">2nd June 2004, 21:57</div></div><div class="posttext">First time using NSIS,I don't know how to creat an exactly nis file.<br />
<br />
1. For example,I have some program files,and I want to make the installer(welcome,license,install page,add shortcuts to start menu and desktop,uninstall...)<br />
Can you give me an example from any program?<br />
<br />
2. I read the example: C:\Program Files\NSIS\Examples\Modern UI\Basic.nsi<br />
It's good,but i don't understand the line:<br />
;ADD YOUR OWN FILES HERE... &lt;---?????<br />
<br />
And uninstaller isn't added to Add or Remove Programs?<br />
<br />
Sorry for my English.<br />
I'm a Vietnamese newbie :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">2nd June 2004, 22:23</div></div><div class="posttext">I'm a Vietnamese newbie<br />
No problems! Have some in my school...<br />
<br />
Now getting back to the question:<br />
<br />
1) You can use the example WelcomeFinish.nsi which is complete (with Welcome and Finish pages).<br />
<br />
2) And about how to add files you can use the command File. Example:<br />
<br />
File &quot;FileNameInYourHardDrive.exe&quot;<br />
<br />
But has another command that affects where it will be put, called SetOutPath. Example:<br />
<br />
SetOutPath &quot;$INSTDIR\Dir&quot;<br />
<br />
(Any file added after this command in a section or function is extracted to this folder when installing)<br />
<br />
$INSTDIR is the folder chose by the user in the Directory page or set up by you (using InstallDir or InstallDirRegKey instructions or using StrCpy command).<br />
<br />
With that information you can at least have some experience in how to use NSIS.<br />
<br />
And now, showing another example of the two combined:<br />
<br />
SetOutPath &quot;$INSTDIR&quot;<br />
File &quot;Program.exe&quot;<br />
File &quot;Readme.txt&quot;<br />
<br />
SetOutPath &quot;$INSTDIR\Images&quot;<br />
File &quot;MyImage.bmp&quot;<br />
File &quot;MyImage.jpg&quot;<br />
<br />
NOTE: Don't forget to put quotes (&quot;) around the path name, because sometimes an user can install in a folder with a space separating one part of the path.<br />
<br />
3) And a third thing, about the Add/Remove Programs:<br />
<br />
There has a command to write registry strings called WriteRegStr, you can use it to write that information. An example:<br />
<br />
WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\Product&quot; &quot;DisplayName&quot; &quot;Application Name&quot;<br />
WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\Product&quot; &quot;UninstallString&quot; &quot;$INSTDIR&quot;<br />
<br />
Replace &quot;Application Name&quot; by the application name, and and &quot;$INSTDIR&quot; by the folder where you're installing your program (generally it is &quot;$INSTDIR&quot;).<br />
<br />
You can see more information on this subject at the NSIS documentation Apendix C: Useful Information.<br />
<br />
Oh, and thanks to be in the NSIS community...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">L1pp3r</div><div class="date">2nd June 2004, 23:36</div></div><div class="posttext">I wonder how I make this entries in the register with nsi<br />
I just want one blah.exe file<br />
<br />
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run]<br />
&quot;wint&quot;=&quot;C:\\temp\\wint.exe /start&quot;<br />
<br />
and <br />
<br />
[HKEY_LOCAL_MACHINE\SYSTEM\RAdmin]<br />
<br />
[HKEY_LOCAL_MACHINE\SYSTEM\RAdmin\v2.0]<br />
<br />
[HKEY_LOCAL_MACHINE\SYSTEM\RAdmin\v2.0\Server]<br />
<br />
[HKEY_LOCAL_MACHINE\SYSTEM\RAdmin\v2.0\Server\iplist]<br />
<br />
[HKEY_LOCAL_MACHINE\SYSTEM\RAdmin\v2.0\Server\Parameters]<br />
&quot;NTAuthEnabled&quot;=hex:00,00,00,00<br />
&quot;Parameter&quot;=hex:1d,a6,d6,16,50,2e,ef,71,1d,9c,9a,15,63,81,06,c3<br />
&quot;Port&quot;=hex:90,1f,00,00<br />
&quot;Timeout&quot;=hex:0a,00,00,00<br />
&quot;EnableLogFile&quot;=hex:00,00,00,00<br />
&quot;LogFilePath&quot;=&quot;c:\\logfile.txt&quot;<br />
&quot;FilterIp&quot;=hex:00,00,00,00<br />
&quot;DisableTrayIcon&quot;=hex:01,00,00,00<br />
&quot;AutoAllow&quot;=hex:00,00,00,00<br />
&quot;AskUser&quot;=hex:00,00,00,00<br />
&quot;EnableEventLog&quot;=hex:00,00,00,00<br />
&quot;NTAuthId&quot;=hex:01,00,00,00</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kenooze</div><div class="date">3rd June 2004, 02:07</div></div><div class="posttext">you can find your answer in the file : bigtest.nsi .<br />
use this three function :<br />
  WriteRegStr   WriteRegDword  WriteRegBin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flyingshadow</div><div class="date">3rd June 2004, 06:12</div></div><div class="posttext">Thanks for all your helps. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flyingshadow</div><div class="date">3rd June 2004, 07:54</div></div><div class="posttext">But in example &quot;welcomeFinish&quot;, I can find the command to add icon to startmenu and Desktop.<br />
<br />
CreateShortCut link.lnk target.file [parameters [icon.file [icon_index_number [start_options [keyboard_shortcut [description]]]]]] &lt;--- my foreign language is too bad :(,please give me one specific example :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Davion</div><div class="date">3rd June 2004, 08:07</div></div><div class="posttext">CreateDirectory &quot;$SMPROGRAMS\My App&quot;<br />
ok, this will create a Folder in your Startmenue<br />
<br />
CreateShortCut &quot;$SMPROGRAMS\My App\Run My App.lnk&quot; &quot;$INSTDIR\MyApp.EXE&quot; &quot;Additional Parameters&quot; &quot;$INSTDIR\MyIco.ICO&quot;<br />
<br />
and this^^ will add the Shortcut into the Folder in the Startmenue, setting it to point on $INSTDIR\MyApp.EXE and the Icon would be $INSTDIR\MyIco.Ico (leaving this part will use the Icon of the EXE I think)<br />
<br />
Additional Parameters is self explaining I think<br />
<br />
CreateShortCut &quot;$DESKTOP\App.lnk&quot; &quot;$INSTDIR\MyApp.EXE&quot; &quot;Additional Parameters&quot; &quot;$INSTDIR\MyIco.ICO&quot;<br />
<br />
^^Will do the same as in the Startmenue, but of course on the Desktop<br />
<br />
<br />
hope this helps<br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flyingshadow</div><div class="date">3rd June 2004, 09:42</div></div><div class="posttext">Thanks!<br />
Last 2 Questions :D<br />
<br />
1. If I have one folder which contains all my program files.<br />
What script/command to adds all file(s)and folder(s)from &quot;my program folder&quot; to be extracted to the $INSTDIR. :)<br />
<br />
2. Example,I use this to add uninstaller into add/remove:<br />
WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\My program&quot; &quot;DisplayName&quot; &quot;my program&quot;<br />
WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\My program&quot; &quot;UninstallString&quot; '&quot;$INSTDIR\uninstall.exe&quot;'<br />
<br />
What script/command to remove it from registry after uninstall? :D<br />
<br />
please give me one specific example :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Davion</div><div class="date">3rd June 2004, 10:12</div></div><div class="posttext">1.:File /nonfatal /a /r &quot;C:\My Program Folder\*.*&quot;<br />
this includes all Files, Folders and Subfolders with relative paths into the Installer<br />
<br />
2.:<br />
DeleteRegKey HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\My Program&quot; <br />
<br />
;) keep on working it grows byte by byte</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flyingshadow</div><div class="date">3rd June 2004, 10:32</div></div><div class="posttext">Okay,thanks again for all your helps :D<br />
I've just finished my installer :D:D:D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>