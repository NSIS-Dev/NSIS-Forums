<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to get 'Required', media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to get 'Required' NSIS Discussion" />
	
	<title> How to get 'Required' [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to get 'Required'</div>
<hr />
<div class="pda"><a href="t-157992.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=157992">How to get 'Required'</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">29th November 2003, 10:07</div></div><div class="posttext">How do you get this in your installer, &gt; see attachment. (that this part of the instalation is required)<br />
<br />
I hope somebody can tell me.<br />
<br />
CAI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sdbarker</div><div class="date">29th November 2003, 10:13</div></div><div class="posttext">Section &quot;Section Name (required&quot;<br />
SectionIn RO<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">29th November 2003, 10:29</div></div><div class="posttext">Thank you very much!! <br />
<br />
CAI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">29th November 2003, 13:53</div></div><div class="posttext">ANOTHER QUESTION:<br />
<br />
How to disable editing this part in a ini file &gt; see image.<br />
<br />
I hope somebody kows how<br />
<br />
If some body know a guide for ini files (tags) please tell me.<br />
<br />
Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th November 2003, 14:06</div></div><div class="posttext">Use:<br />
<br />
Flags=DISABLED<br />
<br />
in the INI file.<br />
<br />
A tutorial:<br />
<br />
http://nsis.sourceforge.net/archive/viewpage.php?pageid=148</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">29th November 2003, 18:06</div></div><div class="posttext">Another Question:<br />
<br />
Is it possible that the 'spaces' in a laber automaticly will be convert to underscores?<br />
<br />
Please tell me!<br />
<br />
Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th November 2003, 19:06</div></div><div class="posttext">One of these should do the trick:<br />
<br />
http://nsis.sourceforge.net/archive/nsisweb.php?page=122&amp;instances=0,11</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">29th November 2003, 21:54</div></div><div class="posttext">Again another question:<br />
<br />
I have a checkbox in my instaloption page.<br />
I want that when your enable this checkbox a messagebox appears (imediatly)<br />
<br />
How to do this?<br />
<br />
I hope somebody knows.<br />
<br />
Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th November 2003, 22:09</div></div><div class="posttext">You can't do this without changing the source code of InstallOptions. You can only show the message box when the user clicks next (on the leave function check if it's selected and show the message box).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">29th November 2003, 22:54</div></div><div class="posttext">Ive have 2 more questions:<br />
<br />
1st: Can you give me the code for the messagebox, i tried it myself with the example. But then the message box appears when installing. Not when clicking next.<br />
<br />
2nd: I use ReanINIStr $Rx<br />
And i used all numbers ($R1 t $R9)<br />
But i need more numbers($R10. $R11.), this isnt possible, do you know how i can use more?<br />
<br />
Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">29th November 2003, 23:41</div></div><div class="posttext">You can add extra variables using the 'var varname' command, available in NSIS 2b4 and 2b5(CVS).<br />
<br />
Are you sure that you put the messagebox code in the leave function of your custom page and not in a section or something similar?<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">30th November 2003, 08:54</div></div><div class="posttext">Yes im sure, <br />
that when you check the checkbox (only one checkbox) a message box appears when you click next.<br />
<br />
I hope this is possible,<br />
<br />
Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">30th November 2003, 22:20</div></div><div class="posttext">Could you post the relevant bits of your script, the page definitions and the pre function for your custom page, so I can check them out.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">30th November 2003, 22:38</div></div><div class="posttext">Here is my script (postiing the whole script would be simpler)<br />
<br />
I want that when the checkbox in ioB.ini is checked a messages box appears when you click next.<br />
<br />
There is another thing, i triend to put this in my script:<br />
<br />
Usage: <br />
Call GetEXEName <br />
Pop $R0 ;full installer exe file name  <br />
<br />
Function GetEXEName<br />
Push $R0<br />
Push $R1<br />
Push $R2<br />
 StrCpy $R0 $CMDLINE -2<br />
 StrLen $R2 $R0<br />
 IntOp $R2 $R2 - 1<br />
 StrCpy $R0 $R0 &quot;&quot; -$R2<br />
 StrCpy $R2 0<br />
Loop:<br />
 IntOp $R2 $R2 - 1<br />
 StrCpy $R1 $R0 1 $R2<br />
 StrCmp $R1 &quot;&quot; Exit<br />
 StrCmp $R1 &quot;\&quot; 0 Loop<br />
 IntOp $R2 $R2 + 1<br />
 StrCpy $R0 $R0 &quot;&quot; $R2<br />
Exit:<br />
Pop $R2<br />
Pop $R1<br />
Exch $R0<br />
FunctionEnd <br />
<br />
I was wondering if you could put this code in my script + callEXEname! because i coulndt get that part fixed.<br />
(its for placing a copy to the selected dir in ioB.ini)<br />
<br />
I hope you can take a look at it.<br />
<br />
Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">30th November 2003, 23:16</div></div><div class="posttext">OK, I could not do a test run because you are using an old version of NSIS :(, but these changes should make your script work.<br />
<br />
First change your definition of Custom Page B to this Page custom CustomPageB LeavePageB Then add this function to your script Function LeavePageB<br />
  ReadINIStr $R3 &quot;$PLUGINSDIR\ioB.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
  IntCmp $R3 0 0 CheckEnabled<br />
    MessageBox MB_OK &quot;Disabled&quot;<br />
CheckEnabled:<br />
FunctionEnd As for the other function just add it to your script then add this code to you installer section after you read the info out of ioB.ini   Call GetEXEName<br />
  Pop $5 ;full installer exe file name<br />
  CopyFiles /silent $5 $R2 Vytautas ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">1st December 2003, 09:09</div></div><div class="posttext">Thanx, but is it possible that the message box only appears when the check box is checked?<br />
<br />
And i tried to fix the copy to script but it doesnt seem to work.<br />
<br />
Please take a look at it<br />
<br />
Thanx, Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st December 2003, 13:04</div></div><div class="posttext">To make it show when the checkbox is checked replace:<br />
<br />
IntCmp $R3 0 0 CheckEnabled<br />
<br />
with:<br />
<br />
IntCmp $R3 1 0 CheckEnabled</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">1st December 2003, 13:13</div></div><div class="posttext">Thanx guys, it think this will be my final question.<br />
<br />
Why isnt my instalation file copied to the selected dir?<br />
<br />
I have done what is told above<br />
<br />
(the long code for coping the instalation file itself to a folder)<br />
<br />
Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st December 2003, 13:22</div></div><div class="posttext">As GetEXEName only returns the executable name you should use:<br />
<br />
CopyFiles /silent $EXEDIR\$5 $INSTDIR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">1st December 2003, 18:06</div></div><div class="posttext">Note that GetEXEName won't give you the full path and extension if your application is executed using the command line.<br />
<br />
Using the other method is recommended.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>