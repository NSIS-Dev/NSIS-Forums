<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Globalization of a NSIS installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Globalization of a NSIS installer NSIS Discussion" />
	
	<title> Globalization of a NSIS installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Globalization of a NSIS installer</div>
<hr />
<div class="pda"><a href="t-369981.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=369981">Globalization of a NSIS installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tostermann</div><div class="date">30th August 2013, 22:12</div></div><div class="posttext">Over the past several years, I have developed a NSIS installer with several custom pages which utilize MUI macros, installOptions, and custom code.  Now, I am trying to globalize my installer, but I have not found many good options.<br />
<br />
I would like to find an option that utilizes resource files that can be trigged by a server's default language.  I found the below solution, but I have had some problems with it.<br />
<br />
http://nsis.sourceforge.net/Adding_Language_strings_as_resources<br />
<br />
Issue1:<br />
<br />
Is there a way to call a macro outside a section or function so that I can load a custom message for items like !define MUI_WELCOMEPAGE_TITLE?  I always get the  error -- &quot;Can't add entry,  No section or function is open!<br />
<br />
Issue2: <br />
<br />
If anyone has used this solution, have you found a way to add more than one .res file to the NSIS header in order to use different message tables based on a server's default language at runtime and not compile time.<br />
<br />
Am I headed down the right path or is there a better solution than the ones that I have found?  Basically, I don't want a user to have to choice a language at installation, and I don't want a bunch of different language specific variable strings in my .nsh and nsi files.<br />
<br />
Thanks in advance for any help or advice you can provide.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">2nd September 2013, 08:50</div></div><div class="posttext">Use combination of LangString(s) and !define(s).<br />
<br />
Create all necessary texts somewhere in the beginning of installations - e.g. after .onInit function.<br />
<br />
You can use LangString(s) and !define(s) together to build whole sentences e.g.:<br />
<br />
StrCpy $0 &quot;$(ThisIs_LangString)${APP_NAME}&quot;<br />
<br />
LangString(s) are automatically 'translated' -&gt; the appropriate value is taken by NSIS during runtime - based on the language user selects.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tostermann</div><div class="date">3rd September 2013, 22:53</div></div><div class="posttext">Thanks for your response to my thread/questions.  I was aware of the use of LanguageStrings; however, I don’t want to have the user select a language.  I want the language to be driven off the Default Language Id of the server.  I also don't want to have different strings for the various languages coded inside my installer files.  I have a large installer with several custom pages and many messages to globalize.  I am looking for a resource file based solution so that the file(s) can be sent out to be translated, and the translator won't need to modify the source code NSIS (.nsh, nsi, and ini) files).<br />
<br />
Does anyone know of any such option to be used in NSIS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tostermann</div><div class="date">3rd September 2013, 22:59</div></div><div class="posttext">Thanks for your response to my thread/questions.  I was aware of the use of LanguageStrings; however, I don’t want to have the user select a language.  I want the language to be driven off the Default Language Id of the server.  I also don't want to have different strings for the various languages coded inside my installer files.  I have a large installer with several custom pages and many messages to globalize.  I am looking for a resource file based solution so that the file(s) can be sent out to be translated, and the translator won't need to modify the source code NSIS (.nsh, nsi, and ini) files.<br />
<br />
Does anyone know of any such option to be used in NSIS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">4th September 2013, 02:01</div></div><div class="posttext">You can append data to the end of the .exe without breaking the CRC check. Read the data with the NSIS File* instructions...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kcvvel</div><div class="date">4th September 2013, 17:31</div></div><div class="posttext">HTH..!!!<br />
<br />
http://nsis.sourceforge.net/Creating_language_files_and_integrating_with_MUI</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>