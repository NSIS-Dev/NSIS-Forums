<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" outsourcing functions to own &quot;units&quot; ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  outsourcing functions to own &quot;units&quot; ? NSIS Discussion" />
	
	<title> outsourcing functions to own &quot;units&quot; ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  outsourcing functions to own &quot;units&quot; ?</div>
<hr />
<div class="pda"><a href="t-213851.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=213851">outsourcing functions to own &quot;units&quot; ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Huette</div><div class="date">22nd April 2005, 09:03</div></div><div class="posttext">Hi!<br />
is there any documentation about outsourcing my own functions to external &quot;units&quot;? <br />
i would like to use some functions in different projects, so it would be nice to write them in one &quot;unit&quot; and include it to the different projects. possible? didn't find anything about that in this forum or help / readmes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">glory_man</div><div class="date">22nd April 2005, 11:52</div></div><div class="posttext">If you mean parts of code writen in NSIS then you can use .nsh -file (NSIS header file). Put your functions in it and add this file to your script with !include command.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Huette</div><div class="date">22nd April 2005, 12:19</div></div><div class="posttext">yes, that's what i mean. sounds easy. i'll try.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Huette</div><div class="date">28th April 2005, 14:18</div></div><div class="posttext">today i continued to work on my script and i got a strange error, when i try to work with functions in external nsh files:<br />
<br />
!include: closed: &quot;C:\Programme\NSIS\Include\CustFunctions.nsh&quot;<br />
<br />
Processed 1 file, writing output:<br />
Error: invalid script: never had OutFile command<br />
Error - aborting creation process<br />
<br />
...i copied a function from my mainscript and saved it in a nsh-file (included Function/FunctionEnd. - nothing else above or below). when i comment the line <br />
!include &quot;CustFunctions.nsh&quot; and the function i copied is still in my mainscript everything works fine. But when i comment the function and activate the !include-line, i got that outfile-error.<br />
my include line follows the !include &quot;mui.nsh&quot; - line.<br />
What am i doing wrong? Anybody got an idea?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rasermar</div><div class="date">28th April 2005, 14:35</div></div><div class="posttext">this should not work:<br />
!include: closed: &quot;C:\Programme\NSIS\Include\CustFunctions.nsh&quot;<br />
<br />
try this instead:<br />
!include &quot;C:\Programme\NSIS\Include\CustFunctions.nsh&quot;<br />
<br />
The call to the functions on the included file can be done as ordinary.<br />
<br />
And review the documentation this is explained there.<br />
<br />
regards.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">28th April 2005, 15:18</div></div><div class="posttext">Originally posted by rasermar <br />
this should not work:<br />
!include: closed: &quot;C:\Programme\NSIS\Include\CustFunctions.nsh&quot;<br />
<br />
try this instead:<br />
!include &quot;C:\Programme\NSIS\Include\CustFunctions.nsh&quot;<br />
<br />
The call to the functions on the included file can be done as ordinary.<br />
<br />
And review the documentation this is explained there.<br />
<br />
regards.  <br />
<br />
rasermar, he copied that from the compiler window (it's compiler output) where it's closed his !include after reading it.<br />
<br />
The error is there... You're missing the OutFile command.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Huette</div><div class="date">28th April 2005, 16:26</div></div><div class="posttext">you got it afrow =) it's the error-message, not my sourcecode<br />
<br />
but the error-message doesn't make any sense imho. i got the outfile command in my mainscript....and if i don't use that function of my nsh-file, but exactly the same of my mainscript, it works.<br />
<br />
i am not sure, but i think it already worked with the outsourced code on last friday and i didn't change any code since that day. could it be caused by some changes in preferences or something like that? tomorrow i will look into it more exactly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">28th April 2005, 16:28</div></div><div class="posttext">the out file command should be close to the beginning of the script.<br />
any function should be after it i think.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Huette</div><div class="date">29th April 2005, 10:58</div></div><div class="posttext">well, i'm a bit confused, but now it works again. i just set the outfile-command to some different places. the order was var-lines, !include-lines, outfile-line. then i set the outfile-line above the !include-lines and compiled the script. i just got a few zeroing-code-warnings (why? no idea). then i saved both scripts and opened them again. suddenly they were working. after that i set the lines to their old positions and it still works...<br />
<br />
sounds like a nsis-bug...but i'm not sure...maybe i overlooked something...<br />
<br />
(sry, if my english is kinda bad - just overlook ;) )</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Huette</div><div class="date">29th April 2005, 11:49</div></div><div class="posttext">i found out the cause of that problem. i try to subcribe. last week i tried to add another function (not that one i'm talkin about above) from my mainscript (there it was working correct) to my secondary-script. apparently i got an error (maybe the same) that day, deleted the function, added it back to my mainsript and stopped working. with the second function in the secondary-script i must have temporary made some chaos in nsis and nothing worked, though the function was in my main-script again. the second function is:<br />
<br />
Function &quot;FillLbl&quot; ;keine RÃ¼ckgabe  <br />
FindWindow $2 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $2 $2 $1<br />
CreateFont $3 &quot;Arial&quot; 8 0<br />
SendMessage $2 ${WM_SETFONT} $3 0<br />
SendMessage $2 ${WM_SETTEXT} 0 &quot;STR:$0&quot;<br />
FunctionEnd<br />
<br />
i think the exchange of the variables could be the problem....no idea...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>