<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Disable/enable sections in component page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Disable/enable sections in component page NSIS Discussion" />
	
	<title> Disable/enable sections in component page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Disable/enable sections in component page</div>
<hr />
<div class="pda"><a href="t-291896.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=291896">Disable/enable sections in component page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">16th May 2008, 14:54</div></div><div class="posttext">Hi all,<br />
<br />
I have a custom page on which there are 2 Radiobuttons, after the selection of the 2 Radiobuttons, a component page shows up, some of the sections will be disabled or enabled based on the Radiobutton selection. How can I set the sections? <br />
From my understanding, there is one way, such as &quot;SectionIn RO&quot;, but it is only for compile time but runtime.<br />
And there is another way to do it for runtime, &quot;SetSectionFlag ${SEC_NAM} ${SF_RO}&quot;, but I tried to set it either in RadioButton page function (PageLeave) or in the relative section, it does not work.<br />
Can you experts help?<br />
Thanks in advance.<br />
<br />
Jue</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th May 2008, 15:24</div></div><div class="posttext">Make sure that code is after the Sections so that the constant ${SEC_NUM} is defined. Also make sure you have included Sections.nsh<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">16th May 2008, 17:15</div></div><div class="posttext">I've answered in the same question in another thread, here:<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;postid=2348698#post2348698<br />
<br />
In case I misunderstood when you say disabled you mean read only, here is the code:<br />
Function func_pre<br />
       ReadINIStr $0  &quot;${CUST_INI}&quot; &quot;field 1&quot; &quot;state&quot;<br />
       ${If} $0 = 1<br />
            SectionGetFlags ${sec1} $R0<br />
            Intop $R0 $R0 | ${SF_RO}<br />
            SectionSetFlags ${sec1} $R0<br />
            SectionSetFlags ${sec2} ${SF_SELECTED}<br />
            SectionSetFlags ${sec3} ${SF_SELECTED}<br />
       ${ElseIf} $0 = 0<br />
        ReadINIStr $1  &quot;${CUST_INI}&quot; &quot;field 2&quot; &quot;state&quot;<br />
        ${AndIf} $1 = 1<br />
            SectionGetFlags ${sec2} $R0<br />
            Intop $R0 $R0 | ${SF_RO}<br />
            SectionSetFlags ${sec2} $R0<br />
            SectionSetFlags ${sec1} ${SF_SELECTED}<br />
            SectionSetFlags ${sec3} ${SF_SELECTED}<br />
       ${Else}<br />
            SectionGetFlags ${sec3} $R0<br />
            Intop $R0 $R0 | ${SF_RO}<br />
            SectionSetFlags ${sec3} $R0<br />
            SectionSetFlags ${sec1} ${SF_SELECTED}<br />
            SectionSetFlags ${sec2} ${SF_SELECTED}<br />
       ${EndIf}<br />
FunctionEnd<br />
<br />
/*<br />
Function func_pre<br />
       GetDlgItem $R0 $HWNDPARENT 3<br />
       EnableWindow $R0 0<br />
<br />
       ReadINIStr $0  &quot;${CUST_INI}&quot; &quot;field 1&quot; &quot;state&quot;<br />
       ${If} $0 = 1<br />
            SectionGetFlags ${sec1} $R0<br />
            Intop $R0 $R0 | ${SF_RO}<br />
            SectionSetFlags ${sec1} $R0<br />
       ${ElseIf} $0 = 0<br />
        ReadINIStr $1  &quot;${CUST_INI}&quot; &quot;field 2&quot; &quot;state&quot;<br />
        ${AndIf} $1 = 1<br />
            SectionGetFlags ${sec2} $R0<br />
            Intop $R0 $R0 | ${SF_RO}<br />
            SectionSetFlags ${sec2} $R0<br />
       ${Else}<br />
            SectionGetFlags ${sec3} $R0<br />
            Intop $R0 $R0 | ${SF_RO}<br />
            SectionSetFlags ${sec3} $R0<br />
       ${EndIf}<br />
FunctionEnd</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>