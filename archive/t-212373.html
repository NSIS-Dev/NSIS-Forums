<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" un.onInit error, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  un.onInit error NSIS Discussion" />
	
	<title> un.onInit error [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  un.onInit error</div>
<hr />
<div class="pda"><a href="t-212373.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=212373">un.onInit error</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">hesung</div><div class="date">4th April 2005, 04:44</div></div><div class="posttext">Function un.onInit<br />
<br />
!ifndef RUNSAME ;;Èç¹ûÃ»ÓÐ¶¨ÒåRUNSAME±àÒë<br />
;;½ûÖ¹¶à¸öÐ¶ÔØÊµÁ¦ÔËÐÐ¡£<br />
SYSTEM::Call 'kernel32::CreateMutexA(i 0, i 0, t &quot;myMutex&quot;) i .r1 ?e'<br />
Pop $R0<br />
StrCmp $R0 0 +2<br />
Quit <br />
!endif<br />
<br />
;;¼ì²éÊÇ²»ÊÇDisk_root.DIR»òÍøÂç¸ùÄ¿Â¼»òÊÇÓÃ»§ÎÄµµºÍÉèÖÃÄ¿Â¼<br />
StrLen  $0 &quot;$INSTDIR&quot; <br />
	${if}  $0 &lt;= 3<br />
	HideWindow<br />
	MessageBox MB_ICONINFORMATION|MB_OK &quot;\<br />
²Ù×÷¶ÔÏóÊÇÒ»¸öÇý¶¯Æ÷¸ùÄ¿Â¼£¬½ûÖ¹Ð¶ÔØ³ÌÐòÖ´ÐÐ¡£   &quot;<br />
	Quit<br />
	${endif}<br />
<br />
StrCpy $1 &quot;$INSTDIR&quot; 2<br />
        StrCmp &quot;$1&quot; &quot;\\&quot; 0 +4<br />
	HideWindow<br />
	MessageBox MB_ICONINFORMATION|MB_OK &quot;\<br />
²Ù×÷¶ÔÏóÊÇÒ»¸öÍøÂçÖ÷»úÄ¿Â¼£¬½ûÖ¹Ð¶ÔØ³ÌÐòÖ´ÐÐ¡£   &quot;<br />
	Quit<br />
<br />
StrCpy $1 &quot;$INSTDIR&quot; 22 -22<br />
 	StrCmp &quot;$1&quot; &quot;Documents and Settings&quot; 0 +4<br />
	HideWindow<br />
	MessageBox MB_ICONINFORMATION|MB_OK &quot;\<br />
²Ù×÷¶ÔÏóÊÇÏµÍ³ÓÃ»§ÉèÖÃÐÅÏ¢Êý¾Ý±£´æÄ¿Â¼£¬½ûÖ¹Ð¶ÔØ³ÌÐòÖ´ÐÐ¡£   &quot;<br />
	Quit<br />
<br />
;;¼ì²éÊÇ²»ÊÇÏµÍ³ÖØÒªÄ¿Â¼<br />
StrCmp &quot;$INSTDIR&quot; &quot;$PROGRAMFILES&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$ADMINTOOLS&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$HISTORY&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$COOKIES&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$INTERNET_CACHE&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$PRINTHOOD&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$PROFILE&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$APPDATA&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$NETHOOD&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$PICTURES&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$COMMONFILES&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$DESKTOP&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$PROGRAMFILES\Windows NT&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$PROGRAMFILES\CatTools&quot; hsfunegg 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$WINDIR&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$SYSDIR&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$TEMP&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$STARTMENU&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$SMPROGRAMS&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$SMSTARTUP&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$QUICKLAUNCH&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$DOCUMENTS&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$SENDTO&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$RECENT&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$FAVORITES&quot; error 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$PROGRAMFILES\Internet Explorer&quot; donot 0<br />
StrCmp &quot;$INSTDIR&quot; &quot;$PROGRAMFILES\Uninstall Information&quot; cannot 0<br />
<br />
<br />
<br />
.....<br />
.....<br />
.....<br />
..............<br />
<br />
cannot: HideWindow<br />
MessageBox MB_ICONINFORMATION|MB_OK &quot;¸ÃÄ¿Â¼ÊÇWindowsInstallerµÄ°²×°±¸·ÝÄ¿Â¼£¬\<br />
Èç¹ûÉ¾³ý¿ÉÄÜÔì³É´íÎó£¬Ð¶ÔØ½ûÖ¹½øÐÐ¡£  &quot;<br />
Quit<br />
<br />
error: HideWindow<br />
MessageBox MB_ICONINFORMATION|MB_OK &quot;ÄúÏÖÔÚ½«Òª²Ù×÷µÄÊÇÒ»\<br />
¸öÏµÍ³ÖØÒªÄ¿Â¼£¬ÇëÎðÔÚ´ËÖ´ÐÐÐ¶ÔØ³ÌÐò¡£  &quot;<br />
Quit<br />
<br />
....<br />
....<br />
....<br />
FunctionEnd<br />
<br />
;;;-----I like to run this codes in the un.onInit..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th April 2005, 18:18</div></div><div class="posttext">Split from unrelated thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=212009).<br />
<br />
What is the problem with the script you've posted? Does it not compile? Does it generate an error?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>