<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" absolutly newbie question, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  absolutly newbie question NSIS Discussion" />
	
	<title> absolutly newbie question [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  absolutly newbie question</div>
<hr />
<div class="pda"><a href="t-266001.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=266001">absolutly newbie question</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Rocco</div><div class="date">17th February 2007, 17:56</div></div><div class="posttext">hi all,<br />
<br />
my head is smoking.<br />
i thaught i'll do an installer in a few minutes (muhaaaaahaaa)<br />
ok now im sitting here with nsis and after a few hours, i got an idea what i need and how i can reach this goal.<br />
i know how i can specify different language files and do some file operations after that to achive what i need,<br />
but im missing one important peace in the puzzle.<br />
the most important in fact for an installer.<br />
<br />
now comes the dumb question:<br />
i dont know, how i insert or reference the programm (folder) where the files are in, to the script.<br />
This files (programm) for that i need the installer.<br />
<br />
i have found some functions but it seems that they are all for fileoutput but not for input.<br />
<br />
Like SetOutPath (i need the opposite)<br />
mabe its the File Command?<br />
but in the examples it looks like that its also for output.<br />
<br />
thx for an example.<br />
<br />
ps:<br />
i strongly missed a guide (NSIS for dummys)<br />
with an step by step example from an programmfolder to an functioning installer-file. :-)<br />
cause the examplesnippets dont make it easy for an noob to filter and rearrange the standard-things that most installers have.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">17th February 2007, 18:02</div></div><div class="posttext">NSIS Quick Setup Script Generator (http://nsis.sourceforge.net/NSIS_Quick_Setup_Script_Generator) might get your feelings up.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">17th February 2007, 20:04</div></div><div class="posttext">The File command has dual use: during compile time it gathers and compresses your file(s) and at runtime it extracts them. During compile time it uses the path in the File command (eg, FILE myGreatApp.exe, will look for 'myGreatApp.exe' relative to the folder the nsi script is in), and during execution it will put it where you choose with the SetOutPath command.<br />
<br />
You can add a path to the FILE filename, and it will use that to find the file to compress: FILE &quot;.\path1\path2\myApp.*&quot;<br />
<br />
Don</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rocco</div><div class="date">17th February 2007, 20:11</div></div><div class="posttext">thanks, this helps alot. :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rocco</div><div class="date">18th February 2007, 16:26</div></div><div class="posttext">one problem again.<br />
in my first handcollected example, i have a section which makes no errors (i dont know if it works, cause i wasnt so far by now- but no errors):<br />
<br />
Function .onInit<br />
!insertmacro MUI_LANGDLL_DISPLAY<br />
 ${Switch} $LANGUAGE<br />
	${Case} ${LANG_ENGLISH}<br />
                  Rename &quot;$INSTDIR\speech.dcp&quot; &quot;$INSTDIR\speech_ger.dcp&quot;<br />
                  Rename &quot;$INSTDIR\speech_eng.dcp&quot; &quot;$INSTDIR\speech.dcp&quot;<br />
	${Break}<br />
	${EndSwitch}<br />
FunctionEnd<br />
<br />
<br />
<br />
now in the generated file, i tried to copy the same code in the Function .onInit<br />
but get this error message:<br />
<br />
Invalid command: ${Switch}<br />
Error in script &quot;C:\Programme\3tools\NSIS\Examples\Mystic Triddle Demo.nsi&quot; on line 91 -- aborting creation process<br />
<br />
what could be the reason for this??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rocco</div><div class="date">18th February 2007, 16:34</div></div><div class="posttext">ok i found the error reason bymyself it was a missing !include &quot;LogicLib.nsh&quot;<br />
<br />
unfortunatly the above code with the renames of the files dont works :-( in the installed game.<br />
<br />
what could be the reason, that this commands dont works?<br />
<br />
Rename &quot;$INSTDIR\speech.dcp&quot; &quot;$INSTDIR\speech_ger.dcp&quot;<br />
Rename &quot;$INSTDIR\speech_eng.dcp&quot; &quot;$INSTDIR\speech.dcp&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">18th February 2007, 17:59</div></div><div class="posttext">I haven't figured out quite what you are doing, so my questions may be offtrack - <br />
<br />
Does $INSTDIR have the right value when you are trying to use it?<br />
<br />
Do the files exist before you have extracted them? Are you adding something to an existing program, or are these dcp files supposed to be installed by you?<br />
<br />
Could these files be in use, and locked?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rocco</div><div class="date">18th February 2007, 18:08</div></div><div class="posttext">im not experienced enough to answer all your questions, but i'll try.<br />
<br />
the reason why im using an installer is that i have 2 different language versions.<br />
the programm read the strings from the file speech.dcp.<br />
no matter what the language is, so i take on language as standard speech.dcp file (german), and ifsomeone klick englisch i want have to rename the speech files.<br />
speech.dcp (delete) or -&gt; speech_ger.dcp <br />
speech_eng.dcp -&gt; speech.dcp - programm can use the englsich translation.<br />
<br />
i guess the path is the right one (root) - $INSTDIR<br />
i dont know if the file exists before extraction, but i guess not, these files are supposed to be installed by me.<br />
so i assume with the above code, i try to rename files, before they are really there.<br />
<br />
what is the right solution.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>