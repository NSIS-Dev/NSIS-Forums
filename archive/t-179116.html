<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" I can not see Uninstall in WindowsSystem/Software under WinXP, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  I can not see Uninstall in WindowsSystem/Software under WinXP NSIS Discussion" />
	
	<title> I can not see Uninstall in WindowsSystem/Software under WinXP [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  I can not see Uninstall in WindowsSystem/Software under WinXP</div>
<hr />
<div class="pda"><a href="t-179116.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=179116">I can not see Uninstall in WindowsSystem/Software under WinXP</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Biarchiv</div><div class="date">6th May 2004, 10:10</div></div><div class="posttext">Hello,<br />
<br />
i can not see my Uninstall entry in WinXP Software?<br />
In other WinOS it is right.<br />
<br />
Why?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">6th May 2004, 10:23</div></div><div class="posttext">Hi :)<br />
<br />
Which registry entries do you create? Could you attach the script or give more details?<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Biarchiv</div><div class="date">6th May 2004, 18:47</div></div><div class="posttext">Hello,<br />
<br />
thanks your your post.<br />
<br />
I have it attached.<br />
<br />
Whats wrong?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">6th May 2004, 18:53</div></div><div class="posttext">InstallDirRegKey checks for existing registry entries. to write a registry-entry use WriteRegStr (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.2.16), to read it use ReadRegStr (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.2.12).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th May 2004, 03:32</div></div><div class="posttext">The real effect of InstallDirRegKey is that it checks the value of the specific registry key and returns it to $INSTDIR.<br />
<br />
Now about the first question from Biarchiv: you need to create the key on HKCU (you're creating now on HKLM).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Romu</div><div class="date">29th June 2004, 14:47</div></div><div class="posttext">I've got the same problem (except I didn't test with other OSes than XP).<br />
<br />
Creating the key under HKLM or HKCU does the same result, the key is not created and so the values.<br />
<br />
I've used the example provided in the NSIS archive.<br />
<br />
Any idea to check ??<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MotoSlave</div><div class="date">2nd July 2004, 16:11</div></div><div class="posttext">The following two lines from your NSI script should be just fine.<br />
  WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\WinHKI&quot; &quot;DisplayName&quot; &quot;WinHKI V1.3e&quot;<br />
  WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\WinHKI&quot; &quot;UninstallString&quot; '&quot;$INSTDIR\uninstall.exe&quot;'<br />
I tried your example NSI script, with dummy files, and it worked fine for me (on WinXP Professional).  The registry entries are created as they should be and, since they are, when I open Add/Remove Programs the &quot;WinHKI V1.3e&quot; entry is there as one would expect.  In fact, I do almost exactly the same thing as your following code snippet in my installers and I've never had a problem, on any version of Windows.<br />
<br />
I don't know why it's not working for you, but there's nothing wrong with those two lines in particular.  Is the installer completing the install with no errors or aborts on your test system, and have you tried it on other similar WinXP machines?  That's about the only thing I can think of off the top of my head.<br />
<br />
Additionally, on which registry tree to use, HKLM or HKCU.  If the software is for all users on the local machine, use HKLM.  If the software is for the current user only, use HKCU.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">2nd July 2004, 16:22</div></div><div class="posttext">It's most likely permissions. Only the Administrator has permission to write to HKLM. As for HKCU you should be able to write whatever you want.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Romu</div><div class="date">2nd July 2004, 16:25</div></div><div class="posttext">Thanks for your answers guys, but I have admin privileges on my computer.<br />
<br />
I'll do some additionnal tests as soon as I have time for that and let you know.<br />
<br />
But anyway, thanks a lot for your help.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>