<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CreateDirectory and UNCs, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CreateDirectory and UNCs NSIS Discussion" />
	
	<title> CreateDirectory and UNCs [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CreateDirectory and UNCs</div>
<hr />
<div class="pda"><a href="t-142979.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=142979">CreateDirectory and UNCs</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dajvid</div><div class="date">21st July 2003, 06:31</div></div><div class="posttext">Hi,<br />
<br />
I'm encountering a problem that is getting a little out of my league. Here's what I'm trying to do:<br />
<br />
1. Get a path from the user,<br />
2. Create the path if it does not already exist, and<br />
3. Generate an error if the path could not be created.<br />
<br />
After getting the path from the user, this is what I'm trying:<br />
<br />
...<br />
ClearErrors<br />
CreateDirectory &quot;${PATH_DB}&quot;<br />
IfErrors 0 NextStepToPerform<br />
MessageBox MB_OK &quot;Unable to create folder ${PATH_DB}&quot;<br />
NextStepToPerform:<br />
...<br />
<br />
If I run this code and specify a new folder using a UNC (I have permissions to create the folder), the folder is successfully created by NSIS, however I hit the error message. If I specify a folder that has already been created using a UNC, I also hit the error message.<br />
<br />
If I specify a local drive or map the network drive, NSIS doesn't generate the error message in either case (specifying a new folder or an existing folder).<br />
<br />
I've tried compiling the script on both 2.0b3 and today's 2.0b4cvs with the same results. Can anyone shed some light on the issue?<br />
<br />
Many thanks,<br />
Dave.<br />
<br />
ps. My current solution to overcome the problem is:<br />
<br />
...<br />
IfFileExists &quot;${PATH_DB}\*.*&quot; NextStepToPerform<br />
CreateDirectory &quot;${PATH_DB}&quot;<br />
IfFileExists &quot;${PATH_DB}\*.*&quot; NextStepToPerform<br />
MessageBox MB_OK &quot;Unable to create folder ${PATH_DB}&quot;<br />
NextStepToPerform:<br />
...<br />
<br />
It works, however it doesn't feel elegant.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st July 2003, 12:23</div></div><div class="posttext">Thanks, fixed in latest CVS version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st July 2003, 12:26</div></div><div class="posttext">BTW, that last problem you've mentioned with CreateDirectory was also recently fixed.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>