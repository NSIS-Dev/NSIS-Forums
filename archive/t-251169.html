<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Disable buttons, do some processing and re-enable buttons, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Disable buttons, do some processing and re-enable buttons NSIS Discussion" />
	
	<title> Disable buttons, do some processing and re-enable buttons [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Disable buttons, do some processing and re-enable buttons</div>
<hr />
<div class="pda"><a href="t-251169.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=251169">Disable buttons, do some processing and re-enable buttons</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sebarnolds</div><div class="date">15th July 2006, 18:25</div></div><div class="posttext">Hi !<br />
<br />
I'm currently writing a quite complex installer. I proprose some choices to the user, each choice proprosed through a single separate page. I currently process each choice when the user clicks the &quot;next&quot; button of the corresponding page. However the processing can be long (I extract files from a zip archive via the nsisunz plugin).<br />
<br />
However I discovered that I could click the &quot;next&quot; button while the processing was in progress (NSIS currently in the nsisunz extracting function). So it seems like if I was able to launch the extraction twice... and the whole application crashes on a Windows fatal error.<br />
<br />
I thought I would be able to disable the buttons, extract everything and then enable them. I found how to do it in this forums. However it seems it doesn't work in my case. The buttons get disabled when using as &quot;disable/enable buttons -&gt; exit function&quot; but they don't when using as &quot;disable buttons -&gt; call nsisunz -&gt; enable buttons -&gt; exit function&quot;. It seems that the window messages aren't handled (I suppose they are handled when I exit the function... too late).<br />
<br />
A solution would be to collect all choices and then have a progress page (all buttons would be disabled in the PRE function). Then, when the processing would be finished, they would be re-enabled. However this would require me to rewrite some big parts of my installer script.<br />
<br />
Does anybody know how I could handle this problem ?<br />
<br />
Thansk forward,<br />
Seb</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th July 2006, 18:34</div></div><div class="posttext">You shouldn't do any processing until the InstFiles page, where you should do processing in Sections. Most people don't think about this... but what if you extract files in a custom page and then the user chooses to cancel the setup afterwards. You've either got to delete these files, or let the user do it fumble over it.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sebarnolds</div><div class="date">18th July 2006, 08:30</div></div><div class="posttext">Hi.<br />
<br />
Thanks for your reply. I agree with you about the processing which must be done in the InstFiles page. However in the case I described, the processing was done in a page AFTER the InstFiles.<br />
<br />
Anyway I was doing a lot of stuff before the InstFiles page and I was doing also a bunch of stuff on pages after the InstFiles page. I rewrote everything to show choices to the user before that page and then to process them in the InstFiles page using sections. It works perfectly.<br />
<br />
Thanks a lot for your help / remark.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>