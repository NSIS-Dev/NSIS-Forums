<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Invalid installation path on app upgrade, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Invalid installation path on app upgrade NSIS Discussion" />
	
	<title> Invalid installation path on app upgrade [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Invalid installation path on app upgrade</div>
<hr />
<div class="pda"><a href="t-292166.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=292166">Invalid installation path on app upgrade</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pirateking570</div><div class="date">23rd May 2008, 10:20</div></div><div class="posttext">Hi,<br />
<br />
Did anyone face a problem with incorrect installation path during app upgrade?<br />
<br />
I've tried the simple scenario:<br />
<br />
1) Created a simple script using HM NIS Edit tool. The script install Notepad to Program Files\App 1.0<br />
<br />
2) Then I upgraded the script to version 2.0, e.g. I changed all references to 2.0 and added &quot;ExecWait '$R0 /S _?=$INSTDIR'&quot; to install event handler. The app should now install to Program Files\App 2.0<br />
<br />
3) I'm installing v1.0, then I run setup for the v2.0, it detects the previous version, removes it (good) and then it suggests the installation path as Program Files\App 1.0 (bad), note it happens in the installer for v2.0!<br />
<br />
Does anyone know why it happens? I've attached those scripts.<br />
<br />
Thanks,<br />
Nick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">23rd May 2008, 11:31</div></div><div class="posttext">It is caused by InstallDirRegKey instruction in your test2.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pirateking570</div><div class="date">23rd May 2008, 14:30</div></div><div class="posttext">Originally posted by pospec <br />
It is caused by InstallDirRegKey instruction in your test2.  <br />
<br />
Thank you for your response. But I'm not sure how I can fix that, what would be a solution for my case?<br />
<br />
Best regards,<br />
Nick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">23rd May 2008, 14:32</div></div><div class="posttext">Delete InstallDirRegKey line in your test2.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pirateking570</div><div class="date">23rd May 2008, 14:40</div></div><div class="posttext">Originally posted by pospec <br />
Delete InstallDirRegKey line in your test2.  <br />
<br />
Thank you very much. It worked for me:)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>