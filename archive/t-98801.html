<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to prompt for multiple file destinations..., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to prompt for multiple file destinations... NSIS Discussion" />
	
	<title> How to prompt for multiple file destinations... [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to prompt for multiple file destinations...</div>
<hr />
<div class="pda"><a href="t-98801.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=98801">How to prompt for multiple file destinations...</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">beez</div><div class="date">12th August 2002, 21:52</div></div><div class="posttext">I am writing an install that will install files to various directories based on the users preferences.  Some could be installed to the 'C:\program files\app' directory, others to '\\server\c\xml' and others to a mapped network drive 'g:\shared\users\me\app'.  Under certain circumstances, files could be spread to 8 different folders that will be logged in the registry by the installer.  <br />
<br />
My problem is I'm having trouble getting the NSIS to prompt for more than just the default install directory.  I've tried to save the $INSTDIR to a temp file and re-promtp but I don't have access to the StrCpy function outside of a section or Function.<br />
<br />
I'm probably missing something pretty simple, but this is my first day with NSIS.  I have been using Installshield Developer 7 and am VERY VERY disappointed with the number and severity of bugs in the application.<br />
<br />
Thanks in advance,<br />
<br />
beez</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">12th August 2002, 22:03</div></div><div class="posttext">Use InstallOptions. You can find the documentation in the Contrib\InstallOptions directory.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">beez</div><div class="date">13th August 2002, 21:29</div></div><div class="posttext">I have it so it will prompt for the additional directories using the InstallOptions as you have stated above.  Thanks for your help!!<br />
<br />
I have another question, is there any way to have the application pass the $INSTDIR and any other variables to the form?  Do I need to have have application automatically insert or update a line in the ini file?<br />
<br />
Thanks,<br />
<br />
Beez</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th August 2002, 21:53</div></div><div class="posttext">You will, like you said, have to update the INI file. To do so use WriteINIStr.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">beez</div><div class="date">14th August 2002, 15:56</div></div><div class="posttext">Thanks for the help again! :) <br />
<br />
I have yet another question.  This one involves displaying multiple pages.  I have my license agreement, then my first promp for directories.  I would like to have two more directory prompts to appear when the user presses the next button.  However, after I display the first prompt for directories and press next, the application installs, then asks the second prompt, but never the third.  <br />
<br />
I'm using the following code:<br />
<br />
[edited by kichik script attached below]<br />
<br />
Any ideas as to what I'm doing wrong?<br />
<br />
Thanks,<br />
<br />
Beez</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th August 2002, 16:42</div></div><div class="posttext">I don't see ConfigureFunctions in your scripts so I can't quite tell why it doesn't work. You can use MultIni4 (http://www.clantpa.co.uk/nsis/wiki/index.php/MultIni4) to show more than one dialog with ease.<br />
<br />
Next time please attach large scripts.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">beez</div><div class="date">14th August 2002, 19:18</div></div><div class="posttext">Thanks Kichik for the help.  I have another problem.  How do the screens work?  The way I want it to work is have the license agreement, then my first directory, then second directory, then third group of directories, then install.  Using the Multini4 macro I'm passing 01ABC345, where 0 is before the screens from what I read, 1 is the license agreement, ABC are my screens and then I'm lost.  I want the program to install when the user leaves the C screen but I'm not able to get this to work.  I've played around with the different screen and the best I can get is another screen after the C screen that looks like the license agreement without the license txt but with the I ACCEPT button on the bottom right corner.  When I press this button it installs.  <br />
<br />
Sorry for all the questions, but your help is GREATLY appreciated.<br />
<br />
Thanks,<br />
<br />
beez</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th August 2002, 19:39</div></div><div class="posttext">You forgot page number 2. You passed 01ABC345 instead of 01ABC2345.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">beez</div><div class="date">14th August 2002, 19:42</div></div><div class="posttext">OOOPS!  :igor: <br />
<br />
I had 01ABCD345... When I changed it to 01ABC2345 as you suggested it worked like a charm!  <br />
<br />
Thanks!!!!!!!<br />
<br />
Beez</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th August 2002, 19:57</div></div><div class="posttext">Great, glad I could help :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>