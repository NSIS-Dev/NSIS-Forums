<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" XPUI crash with Custom page dialog, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  XPUI crash with Custom page dialog NSIS Discussion" />
	
	<title> XPUI crash with Custom page dialog [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  XPUI crash with Custom page dialog</div>
<hr />
<div class="pda"><a href="t-339903.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=339903">XPUI crash with Custom page dialog</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">gclass</div><div class="date">24th December 2011, 19:27</div></div><div class="posttext">Hi,<br />
I have an installer I am using including custom page of a dialog I created with NSIS Dialog Designer.<br />
I want to &quot;improve&quot; the installer with ExperienceUI (http://nsis.sourceforge.net/ExperienceUI ), compiling the installer run smoothly but when I run the EXE the installer crash on the dialog page.<br />
<br />
would like to have some help :)<br />
<br />
here is the code:<br />
<br />
Page custom fnc__1_Show<br />
.<br />
.<br />
; dialog create function<br />
Function fnc__1_Create<br />
  <br />
  ; === _1 (type: Dialog) ===<br />
  nsDialogs::Create 1018<br />
  Pop $hCtl__1<br />
  ${If} $hCtl__1 == error<br />
    Abort<br />
  ${EndIf}<br />
  <br />
  ; === Label10 (type: Label) ===<br />
  ${NSD_CreateLabel} 269 225 95 19 &quot;some text&quot;<br />
  Pop $hCtl__1_Label10<br />
  <br />
  ; === link1 (type: Link) ===<br />
  ${NSD_CreateLink} 243 255 60 19 &quot;some text&quot;<br />
  Pop $hCtl__1_link1<br />
  <br />
  ; === Label9 (type: Label) ===<br />
  ${NSD_CreateLabel} 45 215 159 19 &quot;some text&quot;<br />
  Pop $hCtl__1_Label9<br />
  <br />
  ; === CheckBoxHH (type: Checkbox) ===<br />
  ${NSD_CreateCheckbox} 68 192 291 18 &quot;some text&quot;<br />
  Pop $hCtl__1_CheckBoxHH<br />
  ${If} $hCtl__1_CheckBoxHH_state == ${BST_CHECKED}<br />
  		${NSD_Check} $hCtl__1_CheckBoxHH<br />
  	${EndIf}<br />
  ${NSD_Check} $hCtl__1_CheckBoxHH	<br />
  <br />
  ; === CheckBoxSS (type: Checkbox) ===<br />
  ${NSD_CreateCheckbox} 68 174 243 18 &quot;some text&quot;<br />
  Pop $hCtl__1_CheckBoxSS<br />
  ${If} $hCtl__1_CheckBoxSS_state == ${BST_CHECKED}<br />
  		${NSD_Check} $hCtl__1_CheckBoxSS<br />
  	${EndIf}<br />
  ${NSD_Check} $hCtl__1_CheckBoxSS		<br />
  <br />
  ; === CheckBoxMAIN (type: Checkbox) ===<br />
  ${NSD_CreateCheckbox} 46 155 233 23 &quot;some text&quot;<br />
  Pop $hCtl__1_CheckBoxMAIN<br />
  ;${NSD_OnClick} $hCtl__1_CheckBoxMAIN DisableCheckbox  ;call function to check new state of main checkbox and disable SS and HH checkboxes<br />
  ${If} $hCtl__1_CheckBoxMAIN_state == ${BST_CHECKED}<br />
  		${NSD_Check} $hCtl__1_CheckBoxMAIN<br />
  	${EndIf}<br />
  ${NSD_Check} $hCtl__1_CheckBoxMAIN<br />
  <br />
  ; === Label8 (type: Label) ===<br />
  ${NSD_CreateLabel} 45 137 234 17 &quot;some text&quot;<br />
  Pop $hCtl__1_Label8<br />
  <br />
  ; === Label7 (type: Label) ===<br />
  ${NSD_CreateLabel} 45 123 234 17 &quot;some text&quot;<br />
  Pop $hCtl__1_Label7<br />
  <br />
  ; === Label6 (type: Label) ===<br />
  ${NSD_CreateLabel} 45 109 234 17 &quot;some text&quot;<br />
  Pop $hCtl__1_Label6<br />
  <br />
  ; === Label5 (type: Label) ===<br />
  ${NSD_CreateLabel} 45 95 234 17 &quot;some text&quot;<br />
  Pop $hCtl__1_Label5<br />
  <br />
  ; === Label4 (type: Label) ===<br />
  ${NSD_CreateLabel} 45 81 234 17 &quot;some text&quot;<br />
  Pop $hCtl__1_Label4<br />
  <br />
  ; === Label3 (type: Label) ===<br />
  ${NSD_CreateLabel} 45 67 234 17 &quot;some text&quot;<br />
  Pop $hCtl__1_Label3<br />
  <br />
  ; === Label2 (type: Label) ===<br />
  ${NSD_CreateLabel} 45 53 234 17 &quot;some text&quot;<br />
  Pop $hCtl__1_Label2<br />
  <br />
  ; === Bitmap1 (type: Bitmap) ===<br />
  ${NSD_CreateBitmap} 17 27 395 22 &quot;&quot;<br />
  Pop $hCtl__1_Bitmap1<br />
  File &quot;/oname=$PLUGINSDIR\img.bmp&quot; &quot;img.bmp&quot;<br />
  ${NSD_SetImage} $hCtl__1_Bitmap1 &quot;$PLUGINSDIR\img.bmp&quot; $hCtl__1_Bitmap1_hImage<br />
  <br />
  ; === Label1 (type: Label) ===<br />
  ${NSD_CreateLabel} 10 0 156 20 &quot;some text&quot;<br />
  Pop $hCtl__1_Label1<br />
  CreateFont $hCtl__1_Label1_Font &quot;Microsoft Sans Serif&quot; &quot;13&quot; &quot;400&quot;<br />
  SendMessage $hCtl__1_Label1 ${WM_SETFONT} $hCtl__1_Label1_Font 0<br />
  <br />
FunctionEnd<br />
<br />
<br />
; dialog show function<br />
Function fnc__1_Show<br />
  Call fnc__1_Create<br />
  nsDialogs::Show $hCtl__1<br />
FunctionEnd<br />
<br />
<br />
<br />
thx<br />
G</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">24th December 2011, 20:17</div></div><div class="posttext">I don't see any problems in your code other than not freeing the image after calling nsDialogs::Show, but that shouldn't cause the crash.<br />
<br />
PaR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gclass</div><div class="date">24th December 2011, 21:24</div></div><div class="posttext">PaR,<br />
thx for that, would you mind trying reproduce my problem if I send you the whole script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">24th December 2011, 21:33</div></div><div class="posttext">Yes, send the script and I will check it out.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gclass</div><div class="date">24th December 2011, 22:06</div></div><div class="posttext">hi<br />
thx again, dropped an PM with the script</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gclass</div><div class="date">25th December 2011, 11:50</div></div><div class="posttext">oh, if anyone else would like to try and help..<br />
http://www.megaupload.com/?d=NLNT4065<br />
<br />
thx<br />
:)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>