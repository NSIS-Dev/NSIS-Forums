<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Disk spanning, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Disk spanning NSIS Discussion" />
	
	<title> Disk spanning [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Disk spanning</div>
<hr />
<div class="pda"><a href="t-153308.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=153308">Disk spanning</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">misha.cn.ua</div><div class="date">20th October 2003, 16:19</div></div><div class="posttext">How can I create an installation, which will have two cd`s?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th October 2003, 16:35</div></div><div class="posttext">Use CopyFiles or a plug-in like ExtractDLL.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">misha.cn.ua</div><div class="date">21st October 2003, 06:05</div></div><div class="posttext">Ok, but does installer copies itself to hdd, or runs from cd? I mean, will it need to read itself during install process?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st October 2003, 12:06</div></div><div class="posttext">Copy it to the HD just to make sure.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treborhudson</div><div class="date">22nd October 2003, 21:40</div></div><div class="posttext">When using CopyFiles, how can one prompt the user for a 2nd disk when CopyFiles has finished?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd October 2003, 21:43</div></div><div class="posttext">A simple message box should do it. After the user clicks OK, check the right disk is in and continue copying if it is. If it isn't, just ask again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treborhudson</div><div class="date">22nd October 2003, 21:58</div></div><div class="posttext">Is the standard way to verify the correct disk to check for the existence of a specific file?  Or is there a way to check the CD name or something?  Will the installer know about CD spin-up times?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd October 2003, 22:01</div></div><div class="posttext">There is no standard way that I know of. I see nothing wrong in verifying by a certain file. Unless Windows does this internally, the installer won't know about CD spin-up times.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">treborhudson</div><div class="date">22nd October 2003, 22:49</div></div><div class="posttext">Is there an example of using CopyFiles?  Can you do:<br />
CopyFiles &quot;path\to\files\*.*&quot; &quot;$INSTDIR\&quot;<br />
<br />
Or do you need to specify one at a time?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd October 2003, 22:52</div></div><div class="posttext">You can use wildcards, yes. But always use full paths to be sure. You'd probably want to use:<br />
<br />
CopyFiles &quot;$EXEDIR\path\to\files\*.*&quot; $INSTDIR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">misha.cn.ua</div><div class="date">23rd October 2003, 13:28</div></div><div class="posttext">Ok, but how can I get a label of a cd?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">23rd October 2003, 13:33</div></div><div class="posttext">http://forums.winamp.com/showthread.php?s=&amp;threadid=103197&amp;highlight=cd+label</div></div><hr />


<div class="post"><div class="posttop"><div class="username">misha.cn.ua</div><div class="date">24th October 2003, 05:58</div></div><div class="posttext">Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cosmic66</div><div class="date">30th October 2003, 12:18</div></div><div class="posttext">Originally posted by kichik <br />
Copy it to the HD just to make sure. <br />
<br />
I am having 1 installer that extracts zip files from several<br />
CDs (up to 10).<br />
When the installer is launched it is copied into memory.<br />
<br />
Will copying the installer file to the HD help in case<br />
it is not kept in memory?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th October 2003, 12:21</div></div><div class="posttext">Will copying the installer file to the HD help in case <br />
it is not kept in memory?<br />
<br />
Yes. This way, Windows will always have somewhere to get the data from.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cosmic66</div><div class="date">30th October 2003, 12:30</div></div><div class="posttext">Originally posted by kichik <br />
Yes. This way, Windows will always have somewhere to get the data from.  <br />
<br />
<br />
Do I have to take any other steps to point Windows to the<br />
location of the installer file on the HD?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th October 2003, 12:32</div></div><div class="posttext">Well, you have to execute it and exit the one executed from the CD-ROM. Send the one on the HD something on the command line telling it that it's no longer on the CD. You'd probably want to tell it what letter the CD is on too, so you can copy stuff from there.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cosmic66</div><div class="date">30th October 2003, 13:12</div></div><div class="posttext">Originally posted by kichik <br />
Well, you have to execute it and exit the one executed from the CD-ROM. Send the one on the HD something on the command line telling it that it's no longer on the CD. You'd probably want to tell it what letter the CD is on too, so you can copy stuff from there.  <br />
<br />
Can I make the transition <br />
from execution of installer from CD-rom to<br />
execution of installer from HD<br />
invisible for the user?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th October 2003, 13:14</div></div><div class="posttext">Yes, just execute the file on HD in .onInit (which is called before anything is shown) and kill the first installer afterwards (use Abort from .onInit).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cosmic66</div><div class="date">30th October 2003, 17:07</div></div><div class="posttext">Hi,<br />
<br />
Thanks a lot for your help.<br />
<br />
I have now written a small script that does the following:<br />
1. If the installer is called without parameters I assume that it<br />
   was called from the CD-rom.<br />
2. The installer is copied to HD<br />
3. The installer from the HD is called.<br />
4. The original installer is terminated.<br />
<br />
The script is attached to this posting.<br />
<br />
I am not very experienced in writing NSIS scripts and would<br />
appreciate any feedback :-)<br />
<br />
Again, thanks a lot for your help.<br />
<br />
<br />
Barbara</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th October 2003, 20:02</div></div><div class="posttext">Seems good. Just don't forget to replace E:\ with $EXEDIR for release.<br />
<br />
There is just a little thing. You have the following at the end of the .onInit function:<br />
Push $R0<br />
Push $R1<br />
Push $R2<br />
Push $R9<br />
<br />
There doesn't seem to be any need for that. There is nothing after .onInit that will read those values from the stack.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>