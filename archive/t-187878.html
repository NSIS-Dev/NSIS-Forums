<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Language detection, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Language detection NSIS Discussion" />
	
	<title> Language detection [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Language detection</div>
<hr />
<div class="pda"><a href="t-187878.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=187878">Language detection</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Benni_P</div><div class="date">26th July 2004, 17:58</div></div><div class="posttext">Hello,<br />
how can I let NSIS detect which language is given by the system?<br />
And can I use this information to select/deselect some InstallOptions? (For example some translations for an application)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th July 2004, 18:47</div></div><div class="posttext">;1033 == English<br />
StrCmp $LANGUAGE 1033 0 +2<br />
WriteINIStr &quot;IOfile.ini&quot; &quot;Field X&quot; &quot;State&quot; &quot;1&quot; ;select check-box<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Benni_P</div><div class="date">27th July 2004, 11:17</div></div><div class="posttext">Thank you,<br />
but how do I use this piece of code?<br />
I'm sorry :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Benni_P</div><div class="date">5th August 2004, 17:13</div></div><div class="posttext">Ok, I now know how to use it.<br />
But it does nothing.<br />
No Section is selected or deselected if I write &quot;0&quot; instead if &quot;1&quot;<br />
<br />
This is my code:<br />
Function .onInit<br />
  StrCmp $LANGUAGE 1033 0 +2<br />
  WriteINIStr &quot;IOfile.ini&quot; &quot;Group En&quot; &quot;State&quot; &quot;1&quot; ;select check-box<br />
FunctionEnd<br />
<br />
SubSection /e &quot;En / Ger&quot; SEC00<br />
 Section /o &quot;Group En&quot; SEC01<br />
 SectionEnd<br />
<br />
 Section /o &quot;Group Ger&quot; SEC02<br />
 SectionEnd<br />
SubSectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">5th August 2004, 19:25</div></div><div class="posttext">A long time did a multilanguage installer... with some of your code &amp; mine:<br />
<br />
SetCompressor lzma<br />
XPStyle on<br />
<br />
Name &quot;Lobo Lunar&quot;<br />
OutFile &quot;Test.exe&quot;<br />
BrandingText &quot;Lobo Lunar&quot;<br />
InstallDir &quot;$EXEDIR&quot;<br />
ShowInstDetails show<br />
<br />
Page components<br />
Page instfiles<br />
<br />
SubSection &quot;Languages&quot;<br />
<br />
Section /o &quot;English&quot; english<br />
; Put stuff<br />
SectionEnd<br />
<br />
Section /o &quot;Other&quot; other<br />
; More stuff<br />
SectionEnd<br />
<br />
SubSectionEnd<br />
<br />
Function .onInit<br />
StrCmp $LANGUAGE 2058 ENG OTHER<br />
<br />
ENG:<br />
SectionSetFlags ${english} 1<br />
Goto Exit<br />
<br />
OTHER:<br />
WriteINIStr &quot;$EXEDIR\myini.ini&quot; &quot;LANG&quot; &quot;ID&quot; &quot;1&quot;<br />
SectionSetFlags ${other} 1<br />
<br />
Exit:<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Benni_P</div><div class="date">6th August 2004, 08:21</div></div><div class="posttext">Thank you, I'm testing the script now.<br />
/edit: Works great your script!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">6th August 2004, 15:06</div></div><div class="posttext">Great! :up:<br />
<br />
As you can see, SectionSetFlags is your man :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ognat</div><div class="date">14th May 2005, 18:43</div></div><div class="posttext">[QUOTE]Originally posted by Afrow UK <br />
[B];1033 == English<br />
StrCmp $LANGUAGE 1033 0 +2<br />
WriteINIStr &quot;IOfile.ini&quot; &quot;Field X&quot; &quot;State&quot; &quot;1&quot; ;select check-box<br />
<br />
This will check the language selected for the installation. This might not be the OS language. How can I detect the language of the operating system!?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th May 2005, 18:54</div></div><div class="posttext">As far as I know, $LANGUAGE will contain the OS language unless you change it via LangDLL<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>