<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Howto create a 64bit custom plugin, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Howto create a 64bit custom plugin NSIS Discussion" />
	
	<title> Howto create a 64bit custom plugin [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Howto create a 64bit custom plugin</div>
<hr />
<div class="pda"><a href="t-290339.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290339">Howto create a 64bit custom plugin</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">trixom</div><div class="date">16th April 2008, 09:38</div></div><div class="posttext">Hi all,<br />
<br />
I am trying to use a custom plugin from my nsis script that is called used for both 32 bit and 64 bit machines.<br />
<br />
During installation on a 64 bit machine the plugin is not installed in the TEMP directory so it is not called (I have not determined why this is happening). The other default plugins (language and so on) are installed correctly.<br />
<br />
My solution was to use two plugins for 32 and 64:<br />
<br />
    ${If} ${RunningX64}<br />
      CUSTOM_PLUGIN_64::Run<br />
    ${Else}<br />
      CUSTOM_PLUGIN_32::Run<br />
    ${EndIf}<br />
<br />
But because I am compiling the script on a 32 bit machine it fails during compiliation as the Run function in CUSTOM_PLUGIN.dll cannot be accessed.<br />
<br />
1. Is this possible or do I need to create two installers...<br />
<br />
2. Is there a way to disable the initial check so it doesnt fail the installation?<br />
<br />
3. Another solution?<br />
<br />
Thanks,<br />
<br />
Tom</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">16th April 2008, 16:18</div></div><div class="posttext">Your installer should be a 32-bit process.  Therefore, you cannot load a 64-bit DLL into your 32-bit process.  You may only load a 64-bit plugin if you have managed to compile your installer as a 64-bit process, which I don't think NSIS supports out-of-box.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">trixom</div><div class="date">17th April 2008, 13:23</div></div><div class="posttext">It would be ok if I could figure out why my 32bit plugins don't show up in the temporary folder when installed on a 64bit system...<br />
<br />
T.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>