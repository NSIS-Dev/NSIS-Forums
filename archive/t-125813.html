<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Download dialog and .NET FW check, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Download dialog and .NET FW check NSIS Discussion" />
	
	<title> Download dialog and .NET FW check [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Download dialog and .NET FW check</div>
<hr />
<div class="pda"><a href="t-125813.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=125813">Download dialog and .NET FW check</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Balder</div><div class="date">20th February 2003, 23:50</div></div><div class="posttext">Hello all!<br />
I'm still new to NSIS so the first question is a easy one.<br />
<br />
1. I want to download a file. I can download the file, but how do I show the dialog.<br />
<br />
Here is my code:<br />
NSISDLSmooth::download &quot;http://www.balder.ms/downloads/dotnetfx1.1.exe&quot; &quot;$EXEDIR\dotnetfx.exe&quot;<br />
<br />
2. I want to do a check for .NET Framework v1.1 or newer(when it comes) The code I have works fine for know, but dont know when there is a new release..<br />
<br />
Here is my code:<br />
  ClearErrors<br />
  ReadRegStr $0 HKLM &quot;Software\Microsoft\.NETFramework\policy\v1.1&quot; &quot;4322&quot;<br />
  IfErrors Error<br />
    Goto End<br />
<br />
  Error:<br />
MessageBox MB_OK|MB_ICONSTOP &quot;Setup could not detect Microsoft .NET Framework v1.1 on this computer. $\n Please install Microsoft .NET Framework v1.1 and run setup again.&quot;<br />
      ABORT<br />
<br />
End:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">matini</div><div class="date">21st February 2003, 03:50</div></div><div class="posttext">There is already a function to detect the .net framework in <br />
NSIS archive. You can take a look at it (http://nsis.sourceforge.net/archive/nsisweb.php?page=7&amp;instances=0,110).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Balder</div><div class="date">21st February 2003, 05:12</div></div><div class="posttext">Yes, that one it great, but my app that I'm installing doesn't support .NET Framework v1.0.<br />
<br />
I just upgraded from VS.NET 2002 to VS.NET 2003 Final Beta, and the programs I develop no longer work on PC's with .NET Framework v1.0<br />
Stupid me didn't know about that before I upgraded..<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st February 2003, 10:52</div></div><div class="posttext">Well, if it's just v1.0 that doesn't work you can add one StrCmp to the already existing function and then it will only work with v1.1 and above. After line 25 (StrCmp $2 &quot;&quot; noDotNET) add StrCmp $2 &quot;v1.0&quot; EnumStart. This will cause the function to return 0 is only v1.0 is installed.<br />
<br />
Does the normal NSISdl shows the dialog?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Balder</div><div class="date">21st February 2003, 12:04</div></div><div class="posttext">oh, OK :) Thanks!<br />
No, the normal NSISdl doesn't show it either. I read the readme.txt that follows and it also says:<br />
To translate NSISdl add:<br />
/TRANSLATE downloading connecting second minute hour plural progress remianing<br />
to the call line.<br />
<br />
Default values are:<br />
  downloading - &quot;Downloading %s&quot;<br />
  connecting - &quot;Connecting ...&quot;<br />
  second - &quot;second&quot;<br />
  minute - &quot;minute&quot;<br />
  hour - &quot;hour&quot;<br />
  plural - &quot;s&quot;<br />
  progress - &quot;%dkB (%d%%) of %dkB @ %d.%01dkB/s&quot;<br />
  remaining -  &quot;(%d %s%s remaining)&quot;<br />
<br />
/TRANSLATE must come before /TIMEOUT.<br />
<br />
But like I said, I'm a newbie, so I dont understand how to use it...<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Balder</div><div class="date">21st February 2003, 12:43</div></div><div class="posttext">Sorry about the confusion. lol. Forget about the translate thing.<br />
The problem was that I didn't have the code in a section, it was in Function .onGUIInit.<br />
<br />
All is fine now, and thanks again to all!<br />
<br />
Have a nice weekend everyoen!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Balder</div><div class="date">21st February 2003, 13:29</div></div><div class="posttext">kichik. Does it work if a user has both .NET v1.0 and v1.1 or higher installed?<br />
Cuz some people just install the v1.1 without uninstalling the v1.0 first..<br />
<br />
Thanks again!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st February 2003, 13:33</div></div><div class="posttext">It will not return 1 if the user has only v1.0. If the user has both installed it will return 1.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Balder</div><div class="date">21st February 2003, 13:37</div></div><div class="posttext">Works perfectly! Thanks again!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>