<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ini file and nsi file problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ini file and nsi file problem NSIS Discussion" />
	
	<title> ini file and nsi file problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ini file and nsi file problem</div>
<hr />
<div class="pda"><a href="t-302771.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302771">ini file and nsi file problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">joe1202</div><div class="date">4th February 2009, 10:39</div></div><div class="posttext">here i attached my INI file and NSI file.<br />
in korea, it's hard to find an example or sample of NSI script. and i know i'm a quiet slow learner. but i'm working hard.<br />
<br />
===== my folder structre: ==========<br />
1280WTF<br />
1680WTF<br />
1680bifWTF<br />
data<br />
etc<br />
Fonts<br />
Interface<br />
Raid<br />
<br />
now i have 2 questions.<br />
Q1. how can i choose 1 of 3 WTF folders?<br />
i really don't know how so i tried to copy every folders first. and then if i choose one by clicking radiobutton, the installer should rename it to &quot;WFT&quot; and erage other 2 WFT folders. but it doesn't work.<br />
when i choose 1280WFT, i want it to extract 1280WFT, data, etc, Fonts, Interface and Raid. with check box, it works but i want to make it with radiobutton because i want to show the users resolution image.<br />
<br />
Q2. when i use <br />
&quot; File /oname=$PLUGINSDIR\AccountInf.ini &quot;AccountInf.ini&quot;<br />
&quot; File /oname=$PLUGINSDIR\AccountInf1.ini &quot;AccountInf1.ini&quot;<br />
background color of INI file doesn't match.<br />
<br />
http://wow.somegate.com/upload/joe1202_1233743714_back.jpg <br />
<br />
i want this color looks natural <br />
please, give me some hints, i'm ready to study and learn!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">4th February 2009, 15:39</div></div><div class="posttext">For question 1, I'd just use the custom page to set your own variables.  Then, deal with the folders during the actual install (from within the sections).  You may have to come up with your own logic in the page's leave function.<br />
<br />
For question #2 (the screen background), have a look at the UMUI thread here:  http://forums.winamp.com/showthread.php?s=&amp;threadid=284480&amp;highlight=UMUI+installoptions<br />
<br />
There's a post that reads like this:If you want your page will be automatically skinned you have to use the INSTALLOPTIONS_DISPLAY or INSTALLOPTIONS_DISPLAY_RETURN macros.<br />
The init dialog doesn't do this because if you set your own color into your pre function thes will be erase by the INSTALLOPTIONS_SHOW, INSTALLOPTIONS_SHOW_RETURN macros.<br />
You should probably also read the UMUI documentation to see if there are any other special needs.  (Personally, I've never used UMUI, so I don't have a whole lot of hands-on experience.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joe1202</div><div class="date">4th February 2009, 21:53</div></div><div class="posttext">thank you Comperio. Q2 has solved.<br />
now i'm trying to write a page funtion for chooseing forder which to install<br />
your advises are always always helpful to begginers like me!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joe1202</div><div class="date">5th February 2009, 03:26</div></div><div class="posttext">can someone give me a hint about usage of radiobutton?<br />
i don't have any knowledge about programming and <br />
<br />
i tried write my script like ============================<br />
Function MonitorLeave<br />
  ; At this point the user has either pressed Next or one of our custom buttons<br />
  ; We find out which by reading from the INI file<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
${Unless} $0 = 0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 7&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
	StrCmp $0 4 normal1280<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 8&quot; &quot;HWND&quot;<br />
	StrCmp $0 5 widenormal<br />
  ShowWindow $1 $0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 9&quot; &quot;HWND&quot;<br />
	StrCmp $0 6 widebig<br />
	ShowWindow $1 $0<br />
  abort<br />
<br />
normal1280:<br />
  !insertmacro MUI_INSTALLOPTIONS_READ $INI_RESOLUTION &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
  SendMessage $INI_RESOLUTION ${WM_SETTEXT} 0 &quot;STR:&quot;<br />
<br />
widenormal:<br />
  !insertmacro MUI_INSTALLOPTIONS_READ $INI_RESOLUTION &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
  SendMessage $INI_RESOLUTION ${WM_SETTEXT} 0 &quot;STR:&quot;<br />
	<br />
widebig:<br />
  !insertmacro MUI_INSTALLOPTIONS_READ $INI_RESOLUTION &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
  SendMessage $INI_RESOLUTION ${WM_SETTEXT} 0 &quot;STR:&quot;<br />
	<br />
  StrCmp $INI_RESOLUTION 4 copy1280<br />
	StrCmp $INI_RESOLUTION 5 copy1680<br />
	StrCmp $INI_RESOLUTION 6 copy1680big<br />
	<br />
	copy1280:<br />
    File /a /r  &quot;F:\boddalheeUI\1280WTF&quot; 	<br />
		Rename &quot;$INSTDIR\1280WTF&quot; &quot;$INSTDIR\WFT&quot;<br />
		Goto end<br />
	copy1680:<br />
    File /a /r  &quot;F:\boddalheeUI\1680WTF&quot; 	<br />
		Rename &quot;$INSTDIR\1680WTF&quot; &quot;$INSTDIR\WFT&quot;<br />
		Goto end<br />
	copy1680big:<br />
	  File /a /r  &quot;F:\boddalheeUI\1680bigWTF&quot;	<br />
		Rename &quot;$INSTDIR\1680bigWTF&quot; &quot;$INSTDIR\WFT&quot;<br />
 end:<br />
${EndUnless}	<br />
FunctionEnd<br />
=========================================================<br />
but it doesn't work at all.<br />
i want it like this way. when user click the first radiobutton(1280:Field 4), run 1280copy. <br />
i think i still don't understand how to get a value of user input in INI.<br />
lots of $ code make me crazy @.@</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">5th February 2009, 05:40</div></div><div class="posttext">i don't have any knowledge about programming and ...<br />
...<br />
i think i still don't understand how to get a value of user input in INI.<br />
My suggestion at this point would be for you to start by learning basic scripts before you start messing with advanced stuff like custom pages and interface skins like UMUI.<br />
<br />
There's a ton of information and documentation available to you in the NSIS installation directory and on the Wiki.  (There's a whole section dedicated to tutorials (http://nsis.sourceforge.net/Category:Tutorials).  You can also find information by searching this forum.<br />
<br />
For your current problem, you probably should do the file copy stuff from inside a section.  (See this forum thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=229735).)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joe1202</div><div class="date">5th February 2009, 06:27</div></div><div class="posttext">i alreay read all the examples and docs in my NSIS folder and i have read that thread many times. i saw may $1 $2 $3 $4 $R0 things like these.<br />
what matter is, i still don't know where to find information about using $ stuffs. but i'm keep working on it. i hope i will find a way soon :)<br />
Thanks always Comperio!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joe1202</div><div class="date">5th February 2009, 16:00</div></div><div class="posttext">i checked this (http://nsis.sourceforge.net/Adding_custom_installer_pages#InstallOptions_Code_Snippet_.232)  and this page (http://www.nullsoft.com/free/nsis/makensis.htm#StrCmp) <br />
<br />
and i wrote like ===============================<br />
<br />
Function MonitorLeave<br />
  ; At this point the user has either pressed Next or one of our custom buttons<br />
  ; We find out which by reading from the INI file<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
${Unless} $0 = 0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 4&quot; &quot;State&quot; <br />
  ReadINIStr $1 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 7&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 8&quot; &quot;HWND&quot;<br />
  ShowWindow $1 $0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\AccountInf.ini&quot; &quot;Field 9&quot; &quot;HWND&quot;<br />
	ShowWindow $1 $0<br />
  abort<br />
  <br />
 end:<br />
${EndUnless}<br />
FunctionEnd<br />
and in the section ==================================<br />
<br />
	ReadINIStr $R0 &quot;$INSTDIR\Account.ini&quot; &quot;Field 4&quot; &quot;State&quot; <br />
  StrCmp $R0 1 0 +4 <br />
    File /a /r  &quot;F:\boddalheeUI\1280WTF&quot; 	<br />
	  Rename &quot;$INSTDIR\1280WTF&quot; &quot;$INSTDIR\WTF&quot;<br />
  Goto done<br />
	<br />
	ReadINIStr $R0 &quot;$INSTDIR\Account.ini&quot; &quot;Field 5&quot; &quot;State&quot; <br />
  StrCmp $R0 1 0 +4 <br />
	  File /a /r  &quot;F:\boddalheeUI\1680WTF&quot; 	<br />
		Rename &quot;$INSTDIR\1680WTF&quot; &quot;$INSTDIR\WTF&quot;<br />
	Goto done<br />
	<br />
	ReadINIStr $R0 &quot;A$INSTDIR\ccount.ini&quot; &quot;Field 6&quot; &quot;State&quot; <br />
  StrCmp $R0 1 0 done <br />
	  File /a /r  &quot;F:\boddalheeUI\1680bigWTF&quot; 	<br />
		Rename &quot;$INSTDIR\1680bigWTF&quot; &quot;$INSTDIR\WTF&quot;<br />
  done:<br />
	<br />
=====================================<br />
but when i test its install file, only one works<br />
other two options don't work.<br />
all the other parts work well. but still don't get wht the other 2 options don't work. can someone explane for me?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joe1202</div><div class="date">6th February 2009, 03:43</div></div><div class="posttext">i think i found a way and everything works prett well.<br />
thanks to everybody replied!!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>