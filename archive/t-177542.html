<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" replacing old nsis.exe with nsis20.exe, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  replacing old nsis.exe with nsis20.exe NSIS Discussion" />
	
	<title> replacing old nsis.exe with nsis20.exe [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  replacing old nsis.exe with nsis20.exe</div>
<hr />
<div class="pda"><a href="t-177542.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=177542">replacing old nsis.exe with nsis20.exe</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mdm</div><div class="date">21st April 2004, 22:40</div></div><div class="posttext">In the previous makensis.exe, I had uncommented NSIS_CONFIG_LOG in config.h and recompiled the makensis.exe and I got my logging and everything. Well, people can't leave things alone so someone wrote more nullsoft stuff and downloaded the new nsis 2.0 and now the makensis.exe doesn't like my old script. <br />
Complaints about unused functions (stubs) indicated that maybe we don't like stubs anymore but eliminating them didn't stop the following message when I try to compile my installer: <br />
<br />
&quot;The instruction at &quot;0x0041bb81&quot; referenced memory at 0x00d713f9&quot;. The memory could not be &quot;written&quot;. <br />
<br />
Click OK to terminate program<br />
Click CANCEL to debug the program<br />
<br />
[ok]	[cancel]&quot;<br />
<br />
which comes at the following point in the command line compilation: <br />
<br />
&quot;Adding plug-ins initializing function... Done!<br />
Processing pages... Done!<br />
Removing unused resources... Done!<br />
Generating language tables... Done!<br />
warning: Variable &quot;MUI_TEMP2&quot; not referenced, wasting memory!<br />
Generating uninstaller...&quot;<br />
<br />
I dont have a MUI_TEMP2 variable (that I can find anyway)...any suggestions?<br />
<br />
thanks, <br />
mdm</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">21st April 2004, 22:49</div></div><div class="posttext">So you are using an old NSIS 2.0 development version?<br />
<br />
As you might understand, many things change in development versions, so you will have to upgrade your script to be compatible with NSIS 2.0. See the NSIS Users Manaul / Modern UI Readme for details.<br />
<br />
The compiler should not crash on an invalid script, so please attach your script anyway so we can have a look at it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mdm</div><div class="date">27th April 2004, 16:52</div></div><div class="posttext">So I found the error, I think: <br />
In Section Uninstall, there is a call for File /r &quot;&lt;directory&gt;\*.*&quot; and once I removed it the compiler error went away. <br />
<br />
My question is why load files to the $OUTDIR in the uninstall section. Makes sense to me that you would only do that if you were using them (copy somewhere, write, etc..). If I am only deleting files in $INSTDIR, decrementing dll counts in the registry, doing ExecWait calls and DeleteRegKey calls, there is no call for loading files to $OUTDIR, right?<br />
<br />
This was coded by someone else and it looks like a mistake, it also reduces the executable's size by 40%.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th April 2004, 18:07</div></div><div class="posttext">He probably wanted a recursive directory removal. Use RMDir /r.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>