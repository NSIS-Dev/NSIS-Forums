<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer only installs one item out of twenty!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer only installs one item out of twenty! NSIS Discussion" />
	
	<title> Installer only installs one item out of twenty! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer only installs one item out of twenty!</div>
<hr />
<div class="pda"><a href="t-229578.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=229578">Installer only installs one item out of twenty!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">28th October 2005, 19:42</div></div><div class="posttext">Hi there,<br />
<br />
I'm a 100% newbie, and I'm using HM NIS editor's wizard to create my setup file. I'd like my setup file to install some filters and codecs for HTPC use. However, no matter how many items I list in the wizard's window, I only get the first one to work. That is, the first filter -let's say &quot;aacparser.exe&quot;- is installed, but the second one -&quot;ac3form.exe&quot;- is not.<br />
At the end of the wizard, there's an option saying what will be done once the installer is installed, and if open up the little window I see both .exe files listed.<br />
<br />
maybe this is too confusing. I'm attaching the file I created. Is there any way to install both files, not only the first one?<br />
Is it possible to install them silently or is it too tricky?<br />
<br />
http://www.canroquet.com/varios/test2.nsi<br />
<br />
please use &quot;save as&quot; to download the file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">28th October 2005, 20:27</div></div><div class="posttext">That is because your script is running only aacparser.exe.<br />
<br />
!define MUI_FINISHPAGE_RUN &quot;$INSTDIR\aacparser.exe&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">28th October 2005, 20:40</div></div><div class="posttext">thanks for the reply. so, does it mean that I have to manually add a <br />
!define MUI_FINISHPAGE_RUN &quot;$INSTDIR\myappl.exe&quot; entry for each application I want to be installed????<br />
<br />
I thought the wizard would take care of that. As I said, at the end of the wizard there's a list with all the applications which, supposedly, will be installed when run you run the setup file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">28th October 2005, 20:50</div></div><div class="posttext">ok, it seems that you cannot add more than one !define MUI_FINISHPAGE_RUN &quot;$INSTDIR entry. <br />
<br />
also, I took a close look at the wizard's option at the end and it lets you choose among the listed programs, but it doesn't run all of them, just the one you choose.<br />
<br />
so, any idea as to how get it working?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhaelochon</div><div class="date">28th October 2005, 21:43</div></div><div class="posttext">It looks like you're trying to create a wrapper for several other installation programs. Is that accurate? Will you be including any files that are not their own installation packages?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">28th October 2005, 23:17</div></div><div class="posttext">yep, that's right, I'll include some .ax and .dll files, such as vsfilter.dll or DTSWAV.ax. however, these ones seem easier to install. I just use Regdll and they're registered. <br />
<br />
yes, I need some kinda of wrapper for those installation packages, but I also need to regdll the .ax and .dll files.<br />
<br />
I found a very rudimentary way to install the .exe files, which is using exec &quot;$INSTDIR\appl.exe&quot;, but I'm sure there must be a better way.<br />
<br />
so, how do you wrap them up?<br />
<br />
thanks...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">29th October 2005, 00:17</div></div><div class="posttext">ok, I've been using the Execwait command and it seems to work ok. I've to manually add it after each installation package entry, there seems to be no other easier way...<br />
<br />
finally, I'd like to register a .reg file which will add some content to the registry. Regdll and Exe don't seem to work. I took a look at the user manual, but all the commands (Regword and so on) seem to be used to manually add the full string data, but I just want to register a pre-made .reg file.<br />
<br />
thanks...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">29th October 2005, 05:24</div></div><div class="posttext">I'd like to register a .reg file which will add some content to the registry <br />
<br />
Check this (http://nsis.sourceforge.net/Reg2Nsis_-_convert_registry_info_into_NSIS_commands) out.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">29th October 2005, 18:09</div></div><div class="posttext">thanks. searching the forum I also found this:<br />
 Exec 'regedit  &quot;$PLUGINSDIR\regentry.reg&quot;'<br />
<br />
or <br />
 Exec 'regedit \s &quot;$PLUGINSDIR\regentry.reg&quot;' if you want a silent registration.<br />
<br />
as I said, my wrapper will install some installation packages (it works using Execwait, though it takes some time to write the script if you have many entries). <br />
<br />
so far so good. but when I hit the uninstall button, it uninstalls the .exe packages, not the content installed by those packages. <br />
<br />
let's see an example:<br />
Delete &quot;$INSTDIR\aacparser.exe&quot;<br />
  Delete &quot;$INSTDIR\ac3xform.exe&quot;<br />
  Delete &quot;$INSTDIR\cdda.exe&quot;<br />
  Delete &quot;$INSTDIR\cdxa.exe&quot;<br />
<br />
is it possible to uninstall also the contents installed by each of these .exe packages???<br />
<br />
as an aside, does anyone here know which is the hit counter soft used to count the number of timen a given item has been downloaded? for example, here some users upload files so others can download them, and usually there's a sign saying &quot;your appl. has been downloaded XXX times&quot;...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">30th October 2005, 10:09</div></div><div class="posttext">Since you are not installing the actual 'content' using nsis, you are just wrapping the installers, it cannot be uninstalled using nsis either.<br />
<br />
Unless that is you can wrap the unistaller aswell, e.g. the installer file might have an uninstaller script build in by use of command line arguments or you might be be able to run the uninstallers generated by these files.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">30th October 2005, 12:35</div></div><div class="posttext">most of those opensource packages have been created using nsis. <br />
<br />
how do yo call the uninstallers created by those files.<br />
<br />
Delete &quot;$INSTDIR\cdxa.exe&quot;<br />
<br />
this deletes &quot;cdxa.exe&quot;, but not the &quot;c:\Program Files\cdxa&quot; folder. <br />
<br />
any idea?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">30th October 2005, 21:54</div></div><div class="posttext">cirerita could you provide a link to one of those packages so i can have a look at how it sets it self of and where it puts the uninstaller.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">30th October 2005, 23:19</div></div><div class="posttext">yep, sure:<br />
http://www.inmatrix.com/zplayer/formats/aac.shtml<br />
<br />
here you can grab the aacparser.exe and see how it works. it's an opensource filter; the installation file was created using nsis.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">31st October 2005, 00:12</div></div><div class="posttext">OK, the acc installer install to this location by default: &quot;C:\Program Files\Core AAC Decoder&quot; and there it creates an uninstall.exe<br />
<br />
you should try wrapping these uninstallers (probably a better idea would be to get the actuall path from the rgistry first).<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">31st October 2005, 00:27</div></div><div class="posttext">ok. any idea as to how to wrap the uninstallers? is there any command for wrapping all of them?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">31st October 2005, 00:32</div></div><div class="posttext">Execwait &quot;C:\Program Files\Core AAC Decoder\uninstall.exe&quot; should work.  <br />
<br />
I think that there was a special switch you could/had to use to get the uninstaller to work ok, but i can't remember what that was or if it's still needed.<br />
<br />
Try this and see if that works or not.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">31st October 2005, 00:41</div></div><div class="posttext">ok, thanks, I'll try that.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>