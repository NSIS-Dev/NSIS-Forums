<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Code page detection on taget computer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Code page detection on taget computer NSIS Discussion" />
	
	<title> Code page detection on taget computer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Code page detection on taget computer</div>
<hr />
<div class="pda"><a href="t-276630.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=276630">Code page detection on taget computer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">govmust</div><div class="date">29th August 2007, 12:18</div></div><div class="posttext">How can you detect which code page is used by target computer?<br />
<br />
 I'm making an installer that is using SerbianLatin language file, and it works fine if target computer has nonUnicode language set to Serbian. My problem is that most computers in my country are set to use English for nonUnicode and that makes my &lt;Ä Ä‡ Å¾ Å¡ Ä‘&gt; appear as &lt;Ã¨ Ã¦ Å¾ Å¡ Ã°&gt;.<br />
 Now I can live with &lt;c c Å¾ Å¡ dj&gt; (corrections I made manually to language files) until NSIS goes Unicode, but to make that I need to detect codepage of target computer and use SerbianLatin &lt;Ä Ä‡ Å¾ Å¡ Ä‘&gt; or SerbianLatinModified &lt;c c Å¾ Å¡ dj&gt;.<br />
 I'm guessing it goes into onInit function (before anything appears on screen) but don't know how to implement it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th August 2007, 18:55</div></div><div class="posttext">Use GetACP.System::Call kernel32::GetACP()i.r0<br />
${If} $0 == somecodepage<br />
StrCpy $LANGUAGE ${LANG_SOMETHING}<br />
${ElseIf} $0 == someothercodepage<br />
StrCpy $LANGUAGE ${LANG_SOMETHINGELSE}<br />
${Else}<br />
StrCpy $LANGUAGE ${LANG_DEFAULT}<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">govmust</div><div class="date">31st August 2007, 13:34</div></div><div class="posttext">It works<br />
<br />
Thanks kichik</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>