<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" nsDialogs - (Probably) Newbie questions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  nsDialogs - (Probably) Newbie questions NSIS Discussion" />
	
	<title> nsDialogs - (Probably) Newbie questions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  nsDialogs - (Probably) Newbie questions</div>
<hr />
<div class="pda"><a href="t-286951.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=286951">nsDialogs - (Probably) Newbie questions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Lenge</div><div class="date">15th February 2008, 16:06</div></div><div class="posttext">Hello world,<br />
<br />
I am trying my first steps with MUI2 custom pages using nsDialogs. I googled a lot and followed the introduction at http://nsis.sourceforge.net/Docs/nsDialogs/Readme.html, but I couln't find something about...<br />
<br />
1.) How to make a radio button (or a checkbox) selected? I figured out that ${NSD_GetState} delivers 0/1 to query the selection, but there seems to be no ${NSD_SetState} to change it.<br />
<br />
2.) How to change the text of a label? Like above, there is ${NSD_GetText}, but no ${NSD_SetText}.<br />
<br />
3.) How do I group different sets of radio buttons on the same page? By default, all radio buttons I create belong to the same radio group.<br />
<br />
4.) Just because I am curious: Is there a documentation of what the &quot;magic number&quot; 1018 means with nsDialogs::Create?<br />
<br />
Jens</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">15th February 2008, 16:43</div></div><div class="posttext">1. EnableWindow $CheckBox 1 ;or 0 to disable<br />
<br />
2. SendMessage $Label ${WM_SETTEXT} 0 &quot;STR:Label Text&quot;<br />
<br />
3. not sure, but i guess you have to control this by the OnClick function<br />
<br />
4. not sure about the correct terminology, but 1018 is the part of the window, where to place the control (1028 would be the area of the brandingtext)<br />
<br />
only a guess, but i take it there will be macros following the current syntax to replace EnableWindow and SendMessage in future versions</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Lenge</div><div class="date">15th February 2008, 20:17</div></div><div class="posttext">1. EnableWindow $CheckBox 1 ;or 0 to disableDoes not work. This ones makes a control enabled/disabled, but I try to make a radio button (or checkbox) selected/unselected. Or am I doing something wrong?2. SendMessage $Label ${WM_SETTEXT} 0 &quot;STR:Label Text&quot;Works great, thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">15th February 2008, 20:24</div></div><div class="posttext">1)  SendMessage $hControl ${BM_SETCHECK} ${BST_CHECKED} 0<br />
3)  The first button control of the next group of radio buttons must have the WS_GROUP style set.<br />
4)  1018 is a hidden control on the parent dialog. I think its purpose is to provide a size and location for the child dialog that is created for the custom pages. 1044 is the full dialog.<br />
<br />
I don't see any reason to get rid of EnableWindow or SendMessage, they are very useful and easy enough to understand.<br />
<br />
Don</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">15th February 2008, 20:31</div></div><div class="posttext">Originally posted by demiller9 <br />
I don't see any reason to get rid of EnableWindow or SendMessage, they are very useful and easy enough to understand. <br />
<br />
only and best reason i can think of is continuity/consistency. i thought it's the reason why it's still undocumented.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Lenge</div><div class="date">15th February 2008, 22:07</div></div><div class="posttext">Originally posted by demiller9 <br />
1)  SendMessage $hControl ${BM_SETCHECK} ${BST_CHECKED} 0Works. Thank you!3)  The first button control of the next group of radio buttons must have the WS_GROUP style set.Another newbie question: How would I set this style? ${NSD_CreateRadioButton} does not seem to have a parameter for it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">16th February 2008, 00:10</div></div><div class="posttext">I tried to create a working example of two radio button groups and it seems more difficult than my first reply makes it sound. The WS_GROUP style is not enough to separate the groups, and creating two groupboxes didn't work for me either.<br />
<br />
I'll keep looking for this unless some other Windows experts chime in.<br />
<br />
Don</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">16th February 2008, 00:35</div></div><div class="posttext">Var Dialog<br />
Function c<br />
nsDialogs::Create /NOUNLOAD 1018<br />
Pop $Dialog<br />
${NSD_CreateRadioButton} 0 0 100% 12u &quot;a&quot;<br />
pop $0<br />
System::Call 'user32::GetWindowLong(i r0,i -16)i.r1'<br />
IntOp $1 $1 | ${WS_GROUP}<br />
System::Call 'user32::SetWindowLong(i r0,i -16,i r1)'<br />
<br />
${NSD_CreateRadioButton} 0 20 100% 12u &quot;b&quot;<br />
pop $0<br />
<br />
<br />
${NSD_CreateRadioButton} 0 40 100% 12u &quot;1&quot;<br />
pop $0<br />
System::Call 'user32::GetWindowLong(i r0,i -16)i.r1'<br />
IntOp $1 $1 | ${WS_GROUP}<br />
System::Call 'user32::SetWindowLong(i r0,i -16,i r1)'<br />
<br />
${NSD_CreateRadioButton} 0 60 100% 12u &quot;2&quot;<br />
pop $0<br />
<br />
nsDialogs::Show<br />
FunctionEnd<br />
<br />
page custom c<br />
<br />
edit:<br />
even System::Call 'user32::GetWindowLong(i r0,i -16)i.r1'<br />
System::Call 'user32::SetWindowLong(i r0,i -16,i $1|${WS_GROUP} )'<br />
seems to work</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">16th February 2008, 02:50</div></div><div class="posttext">Thank you Anders for your examples. You showed me what I didn't have in my own tests: the WS_GROUP bit must be set on all radio button groups' first buttons. (I had only put it on the first button of the second group).<br />
<br />
Here's the way I would create two sets of radio buttons with the modification  (http://forums.winamp.com/showthread.php?s=&amp;threadid=286912) I made to nsDialogs.nsh:Page custom Choices Choices.Leave<br />
<br />
Function Choices<br />
Var /GLOBAL Group1.Button1<br />
Var /GLOBAL Group2.Button1<br />
<br />
  nsDialogs::Create /NOUNLOAD 1018<br />
  Pop $0<br />
<br />
  # Create controls and set defaults<br />
  ${NSD_CreateGroupBox}    0u 0u 100% 45% &quot;A set of options&quot;<br />
  Pop $0<br />
<br />
  !define NSD_ADD_STYLE ${WS_GROUP} <br />
  ${NSD_CreateRadioButton} 18u 16u 82u 11u &quot;&amp;Do it right&quot; <br />
  Pop $Group1.Button1<br />
  SendMessage $Group1.Button1 ${BM_SETCHECK} ${BST_CHECKED} 0<br />
<br />
  ${NSD_CreateRadioButton} 18u 32u 82u 11u &quot;D&amp;o it fast&quot; <br />
  Pop $0<br />
<br />
  ${NSD_CreateGroupBox}    0u 55% 100% 45% &quot;Please choose&quot;<br />
  Pop $0<br />
<br />
  !define NSD_ADD_STYLE ${WS_GROUP} <br />
  ${NSD_CreateRadioButton} 18u 100u 82u 11u &quot;&amp;This or&quot; <br />
  Pop $Group2.Button1<br />
<br />
  ${NSD_CreateRadioButton} 18u 116u 82u 11u &quot;T&amp;hat&quot; <br />
  Pop $0<br />
  SendMessage $0 ${BM_SETCHECK} ${BST_CHECKED} 0<br />
<br />
  # Show the page.<br />
  nsDialogs::Show<br />
FunctionEnd<br />
<br />
Function Choices.Leave<br />
  ${NSD_GetState} $Group1.Button1 $Group1<br />
  ${NSD_GetState} $Group2.Button1 $Group2<br />
FunctionEnd<br />
<br />
Don</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>