<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Minimalist installer: Changing the dialog size and bg color, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Minimalist installer: Changing the dialog size and bg color NSIS Discussion" />
	
	<title> Minimalist installer: Changing the dialog size and bg color [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Minimalist installer: Changing the dialog size and bg color</div>
<hr />
<div class="pda"><a href="t-297491.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=297491">Minimalist installer: Changing the dialog size and bg color</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">16th September 2008, 23:31</div></div><div class="posttext">I'm attempting to create simple, minimalist installer.  That is, it's a simple white window with a single logo in the upper right corner, the usual fields, and three buttons along the bottom.  It eliminates the big graphics on the Welcome and Finish pages.<br />
<br />
Playing with MUI and MUI2 seemed to be getting me nowhere, as their designed to mimic InstallShield, MSI, and other well known installers.  It occurred to me that it would be simpler to just eliminate the Modern UI (and any of the addon UIs) and return to the simple NSIS natural page look and customize from there.<br />
<br />
Eliminating the old-fashioned icon at the top right was easy.  What I'm having trouble with, though, is setting the page background color to white, and altering the size.  (I did manage to create generous margins by using AddBrandingImage without defining any images.)<br />
<br />
There's the &quot;SetCtlColors&quot; command which seems to be undocumented.  (Or, more likely, is just not where I'm looking for it.)  Will that help me?  And, if so, where can I find a description and examples?<br />
<br />
Secondly, how does NSIS decide the size of the dialog boxes?  Is there an easy way to force a fixed size?<br />
<br />
Thanks in advance for your help.<br />
<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">16th September 2008, 23:38</div></div><div class="posttext">OK, I'm a whiner. :)  I found the docs for SetCtlColors (right under my nose!) but it's still not clear how I would change the BG color of an entire dialog, or better yet, the standard bg color for all dialogs.<br />
<br />
Is there a really clear writeup somewhere?<br />
<br />
Thanks!<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">17th September 2008, 01:42</div></div><div class="posttext">Are you looking for InstallColors?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">17th September 2008, 03:06</div></div><div class="posttext">Thanks for the suggestion...  I'm not sure what InstallColors changes, but it doesn't seem to change the overall color of a dialog box.  Or I'm not doing it right.<br />
<br />
(The docs are vague.  Does it change the color of the install details window?)<br />
<br />
What I'm looking for is to change the background color of the entire dialog box from the normal Windows tan color to bright white.  (And, of course, have all the gadgetry within the dialog also match.)<br />
<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">17th September 2008, 03:36</div></div><div class="posttext">I've reread the description, and it is not what you are looking for. It will set the colors in the details list box. I don't see a command to change the dialog background.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">17th September 2008, 04:36</div></div><div class="posttext">Sigh.  Thank you for looking for a solution!  There's got to be a way to do this...<br />
<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">17th September 2008, 13:13</div></div><div class="posttext">I don't think you'll find it easy to 'theme' your installer this way - probably easier to hack the resource file instead?<br />
<br />
Here's an example that does the outer and inner dialog.. thing is, you'll also have to do all the labels.. and buttons.. and those sometimes refuse to change, and they'll still keep the grey 3d colors, and so forth.<br />
<br />
<br />
OutFile &quot;test.exe&quot;<br />
<br />
Section &quot;&quot;<br />
	FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
	SetCtlColors $HWNDPARENT 0xFFFFFF 0x00FF00<br />
	SetCtlColors $0 0xFFFFFF 0x00EE00<br />
<br />
	ShowWindow $HWNDPARENT 0<br />
	ShowWindow $HWNDPARENT 1<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">17th September 2008, 18:20</div></div><div class="posttext">Thanks, Animaether!  That's a useful code fragment, but I'm guessing you're correct about the difficulties.<br />
<br />
So here's the next question: I downloaded ResHacker and tried messing around with the default.exe. (NSIS\Contrib\UIs\default.exe)  When I compiled an installer that didn't use MUI -- that is, no Modern UI includes, macros, defines, etc., a &quot;naked&quot; installer -- I was surprised to see that none of my changes were present.  Is there something I need to do in order to make my changes &quot;stick&quot;?  Or am I simply editing the wrong file?<br />
<br />
Thanks again for your help!<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">17th September 2008, 19:24</div></div><div class="posttext">ChangeUI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">19th September 2008, 01:42</div></div><div class="posttext">OK, for the record, I was able to achieve my goal, by a more roundabout route.<br />
<br />
I tried the different alternate UIs.  Most choked when I ran them through reshacker, and I'm not enough of a hacking stud to figure out why.  (Though one guess is that the UIs are fairly old, so perhaps they don't work well with recent NSIS builds.)  Finally, I downloaded UltraModernUI, which has a fresh build out and a lot of forum activity.  To my delight, I could adjust things with ResHacker and it actually worked.  Combined with a special &quot;white&quot; skin, which changes all the colored graphics to white squares, and it worked.<br />
<br />
(Well, almost.  There's one little bit of weirdness that I'll bring up on the UMUI thread, but it's relatively minor.)<br />
<br />
Of course, if I were feeling *really* ambitious, I would have coded my own using nsDialogs, but I've already spent too long on this project as it is.<br />
<br />
Thanks again to everyone who offered suggestions!<br />
Michael</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>