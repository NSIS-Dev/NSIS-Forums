<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Confused about OUTFILE/EXEDIR/INSTDIR, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Confused about OUTFILE/EXEDIR/INSTDIR NSIS Discussion" />
	
	<title> Confused about OUTFILE/EXEDIR/INSTDIR [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Confused about OUTFILE/EXEDIR/INSTDIR</div>
<hr />
<div class="pda"><a href="t-315345.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=315345">Confused about OUTFILE/EXEDIR/INSTDIR</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Lucky75</div><div class="date">14th December 2009, 20:58</div></div><div class="posttext">Hi All,<br />
<br />
I'm trying to make an installer where I have files which need to be copied over (obviously), but I'm not exactly sure about how to do it. <br />
<br />
The structure is as follows: (*** = some common folder)<br />
<br />
***/Installer/Myinstaller.nsi<br />
***/Binaries/program.exe<br />
***/Binaries/program.dll<br />
***/Images/header.jpg<br />
<br />
1) How do I specify to go back one folder and then include all of the program.exe, program.dll and header.jpg in the installer executable that will be compiled? <br />
<br />
2) How do I specify that I want to copy the files from the installer executable to the installation directory that the user selects?<br />
<br />
3) What is the difference between $INSTDIR, $OUTDIR, $EXEDIR, and SetOutPath ?<br />
<br />
--------------------------------------------------------------<br />
<br />
I was thinking of doing something like this to copy the files into the installer exe being created. But where do I put that? In some function? Globally? It needs to be done at compile time, doesn't it? And it says that the &quot;File&quot; command extracts the files, not that it includes the files for extraction later, so maybe I'm using the wrong function completely?<br />
<br />
<br />
File ..\Binaries\program.exe <br />
File ..\Binaries\program.dll<br />
File ..\Images\header.jpg<br />
<br />
<br />
Then how do I extract them to the user selected install directory?<br />
<br />
<br />
CopyFiles &lt;FromWhere?&gt;\program.exe $INSTDIR\program.exe<br />
CopyFiles &lt;FromWhere?&gt;\program.exe $INSTDIR\program.dll<br />
CopyFiles &lt;FromWhere?&gt;\program.exe $INSTDIR\Images\header.jpg<br />
<br />
<br />
Thanks for the help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">16th December 2009, 08:21</div></div><div class="posttext">What is the difference between $INSTDIR, $OUTDIR, $EXEDIR, and SetOutPath ?<br />
$INSTDIR, $OUTDIR and $EXEDIR are runtime variables. SetOutPath is a runtime command.<br />
<br />
$INSTDIR contains the directory entered by the user on the DIRECTORY page. $EXEDIR contains the location of the installer executable. $OUTDIR contains the current file output directory.<br />
SetOutPath changes the value of $OUTDIR. See the manual.<br />
<br />
How do I specify that I want to copy the files from the installer executable to the installation directory that the user selects?<br />
This is what the File command does. Example:<br />
File ..\Binaries\program.exe <br />
This command does two things. Upon compile time, this command will compress the exe on your development computer into the installer. On runtime, it will ALSO extract the file to the directory currently stored in $OUTDIR. (This is why the File command is used inside a section, and always after a SetOutPath command.)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>