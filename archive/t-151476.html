<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installation path control, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installation path control NSIS Discussion" />
	
	<title> Installation path control [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installation path control</div>
<hr />
<div class="pda"><a href="t-151476.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=151476">Installation path control</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sapha</div><div class="date">4th October 2003, 15:27</div></div><div class="posttext">Hi, I'm a newbie here...<br />
This is my problem:<br />
<br />
I need an installer that can check if the length of the installation path entered by the user is &lt;= of a defined number. Now, this is easy, but how can i permit to the user to repeat the path entry?<br />
For now, i use a message box and then i quit the installer... <br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">4th October 2003, 16:17</div></div><div class="posttext">you can put the messagebox in a callback.<br />
<br />
from docs:<br />
<br />
4.5.3 Callbacks<br />
<br />
[...] the leave-function is called right after the user has pressed the next button and before the page is left.<br />
<br />
<br />
<br />
if that's not enough, post again ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">4th October 2003, 16:24</div></div><div class="posttext">You can use the abort command in the leave function to avoid the user continuing to the next page.<br />
<br />
Also you could use the .onVerifyInstDir function to check the path as the user is selecting it and if it is incorrect automatically disable the next button.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sapha</div><div class="date">4th October 2003, 16:28</div></div><div class="posttext">Thanks, i will try that!<br />
However, i thimk it will be hard cause i've used the MUI and i've not used Pages...<br />
<br />
Bye</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">4th October 2003, 16:37</div></div><div class="posttext">You don't need to use MUI, although you can.  I will post an example of the .onVerifyInstDir function from the docs.  Hope it helps.<br />
Function .onVerifyInstDir<br />
    IfFileExists $INSTDIR\Winamp.exe PathGood<br />
      Abort ; if $INSTDIR is not a winamp directory, don't let us install there<br />
    PathGood:<br />
  FunctionEnd<br />
 <br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sapha</div><div class="date">4th October 2003, 16:45</div></div><div class="posttext">I feel so little... :)<br />
<br />
THANK YOU ALL<br />
<br />
Will i need to back? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">4th October 2003, 16:51</div></div><div class="posttext">If you use the .onVerifyInstDir function the user will not be able to click next if the path is of wrong length.  (The function is called every time the path changes, so as they say in the docs &quot;don't do anything silly in this function, e.g. don't use message boxes, etc.&quot;)<br />
<br />
So no you will not have to click back.<br />
<br />
Vytautas :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sapha</div><div class="date">5th October 2003, 15:27</div></div><div class="posttext">It worked! Thank you!<br />
<br />
Bye<br />
<br />
PS: sorry if my english :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">5th October 2003, 16:45</div></div><div class="posttext">mmm... I learnt some things today ;)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>