<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Some questions (reboot, shortcut, exec), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Some questions (reboot, shortcut, exec) NSIS Discussion" />
	
	<title> Some questions (reboot, shortcut, exec) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Some questions (reboot, shortcut, exec)</div>
<hr />
<div class="pda"><a href="t-68993.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=68993">Some questions (reboot, shortcut, exec)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Darktrain</div><div class="date">17th December 2001, 12:39</div></div><div class="posttext">Hi,<br />
<br />
Im creating an installer using nsis and ive got a few questions. <br />
- After installing everything I want to reboot the computer. I show a messagebox with 'reboot ok Y/N'. If i reboot at the end, the uninstall.exe will not be created because the installer wasn't completed. How can i change this?<br />
<br />
- Im also creating some lnk's in $smstartup/$smprograms. But they dont working right. The 'target' is good $INSTDIR\app\app.exe but 'start in' is the $INSTDIR instead of $INSTDIR\app. So its missing the shortcut. Do i give the wrong parameters or something?<br />
<br />
- BTW is it possible to execute the follow command: php -q filename.php? im using a .bat file now.<br />
<br />
regards,<br />
<br />
Darktrain</div></div><hr />


<div class="post"><div class="posttop"><div class="username">crish</div><div class="date">17th December 2001, 13:44</div></div><div class="posttext">Originally posted by Darktrain <br />
Hi,<br />
<br />
Im creating an installer using nsis and ive got a few questions. <br />
- After installing everything I want to reboot the computer. I show a messagebox with 'reboot ok Y/N'. If i reboot at the end, the uninstall.exe will not be created because the installer wasn't completed. How can i change this?<br />
<br />
just use<br />
Function .onInstSuccess<br />
<br />
  MessageBox MB_YESNO &quot;Reboot?&quot; IDNO NoReBoot<br />
  Reboot<br />
NoReBoot:<br />
FunctionEnd<br />
<br />
works in 1.90<br />
<br />
- Im also creating some lnk's in $smstartup/$smprograms. But they dont working right. The 'target' is good $INSTDIR\app\app.exe but 'start in' is the $INSTDIR instead of $INSTDIR\app. So its missing the shortcut. Do i give the wrong parameters or something?<br />
<br />
fore sure <br />
:)<br />
<br />
post the code ...<br />
<br />
- BTW is it possible to execute the follow command: php -q filename.php? im using a .bat file now.<br />
<br />
just use <br />
<br />
open &quot;..&quot;<br />
<br />
regards,<br />
<br />
Darktrain</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Darktrain</div><div class="date">7th January 2002, 15:37</div></div><div class="posttext">Hi crish,<br />
<br />
Here is the code im using:<br />
CreateDirectory &quot;$SMPROGRAMS\Mysoft&quot;<br />
CreateShortCut &quot;$SMPROGRAMS\Mysoft\Myapp.lnk&quot; <br />
&quot;$INSTDIR\Myapp\Myapp.exe&quot; &quot;&quot; &quot;$INSTDIR\Myapp\Myapp.exe&quot; 0 <br />
<br />
When i look to the properties of this lnk;<br />
The 'target' is good $INSTDIR\myapp\myapp.exe but 'start in' is the $INSTDIR instead of $INSTDIR\app. So its missing the shortcut. <br />
<br />
It needs some information from a ini file($INSTDIR\myapp\file.ini). For some app the code is working correct (are also need some information from a ini file).<br />
I hope you can help me.<br />
<br />
Regards,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flizebogen</div><div class="date">10th January 2002, 07:41</div></div><div class="posttext">To change the Directory at start in you have to use the following<br />
<br />
SetOutPath $INSTDIR\App<br />
CreateShortCut &quot;$SMPROGRAMS\Mysoft\Myapp.lnk&quot; &quot;$INSTDIR\Myapp\Myapp.exe&quot; &quot;&quot; &quot;$INSTDIR\Myapp\Myapp.exe&quot; 0 <br />
<br />
Because SetOutPath determinate the working directory for Shortcuts<br />
<br />
If you need to Read from an ini file use the following<br />
<br />
ReadIniStr $0 filename section entry<br />
<br />
the value is stored in variable $0<br />
when nothing is found the string is empty  (taken from makensis.htm)<br />
<br />
i hope it helps a bit</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Darktrain</div><div class="date">11th January 2002, 10:21</div></div><div class="posttext">It helped. Thanks!<br />
//Darktrain</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>