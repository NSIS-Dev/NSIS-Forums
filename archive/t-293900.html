<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Direct encryption of the installer ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Direct encryption of the installer ? NSIS Discussion" />
	
	<title> Direct encryption of the installer ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Direct encryption of the installer ?</div>
<hr />
<div class="pda"><a href="t-293900.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=293900">Direct encryption of the installer ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">arfgh</div><div class="date">2nd July 2008, 14:35</div></div><div class="posttext">Is possible to make that the makensis build a encrypted installer executable ? Ths operation can be so easy made with the InnoSetup scripts when we add the ISCrypt.dll to the program.<br />
<br />
Can we make the same but for the nsis ?<br />
<br />
thx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">2nd July 2008, 14:46</div></div><div class="posttext">Well, you could warp another installer around your actual installer. Then the &quot;outer&quot; installer would extract the &quot;inner&quot; installer to $TEMP at runtime, run it, wait for it to execute and finally delete it. The &quot;outer&quot; installer could use some kind of encryption plugin to protect the &quot;inner&quot; installer. But this doesn't solve the actual problem: The password for decrypting the &quot;inner&quot; installer has to be stored in the &quot;outer&quot; installer. Even if you use some kind obfuscation, the password could be obtained from Memory (as plain text) at runtime. And there's nothing you can do to prevent that. You still remember {_trueparuex^}'s post in your favorite thread? ^^</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfgh</div><div class="date">2nd July 2008, 14:59</div></div><div class="posttext">well LoRd_MuldeR, i also imagined that, but this is a dirty way to do the things. In my opinion of inno is able to do that, why the makensis (a superior tool) cant not to do the same ?<br />
<br />
i think must exist some way to do with nsis !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">2nd July 2008, 15:27</div></div><div class="posttext">Isn't Inno free and open source as well?<br />
<br />
I am curious, if NSIS doesn't appear to meet your needs, and Inno does, why aren't you using Inno?<br />
<br />
It sure isn't the cost thats holding you back...<br />
So what is?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfgh</div><div class="date">2nd July 2008, 15:30</div></div><div class="posttext">maybe you not understand what i mean.<br />
The INNO thing is able to produce crypted installers. I just tried it and the universal extractor cant work with the exe installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">2nd July 2008, 15:33</div></div><div class="posttext">If Inno Setup is able to encrypt the data, then it MUST be able to decrypt the data at runtime. Otherwise the installer would be useless! If Inno Setup is able to decrypt the data at runtime, then it must &quot;know&quot; the key (password) at runtime. Otherwise decryption would NOT be possible. If Inno Setup &quot;knows&quot; they key (password) at runtime, then the key MUST be stored in the installer EXE. No matter whether they store the key as plain text (what they most likely do NOT do) or wheter they use obfuscation to &quot;hide&quot; the key: There WILL be a way to obtain they key! Either from the EXE file itself or from a memory dump. Accept that fact...<br />
<br />
Obviously you still don't understand the crux :rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfgh</div><div class="date">2nd July 2008, 15:43</div></div><div class="posttext">but the key is not exposed in a simpe universl extractor extraction !! is the important difference.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">2nd July 2008, 15:48</div></div><div class="posttext">Originally posted by arfgh <br />
but the key is not exposed in a simpe universl extractor extraction !! is the important difference.  <br />
<br />
If you think that makes Inno Setup more secure, than you are mistaken! &quot;Extracting&quot; files from Inno Setup installers might be added to Universal Extractor or a similar tool the same way it was added for NSIS installer. Only somebody must be willing to implement it. And this might happen tomorrow. Last but not least a sophisticated &quot;hacker&quot; won't need a tool like Universal Extractor, just a HexEditor and his/her brain...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">2nd July 2008, 16:51</div></div><div class="posttext">For Inno Setup there is the &quot;Inno Setup Unpacker&quot; almost official tool to unpack Inno installer.<br />
<br />
http://innounp.sourceforge.net/<br />
<br />
As for the ISCrypt.dll, is a library similar to Stu's Passdialog.dll, it adds a serial number page on the installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfgh</div><div class="date">2nd July 2008, 20:13</div></div><div class="posttext">yes, you has the reason.<br />
<br />
Then Red Wine what we can do ? exist some procedure to not expose passwords and keys in a extracted nsi file ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">2nd July 2008, 20:44</div></div><div class="posttext">Holy endless unbeatable childishness, we start over the same circle again. I give up... That's unbelievable! Nothing would make you understand, I just give up...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">2nd July 2008, 21:05</div></div><div class="posttext">Yeah, I just can't tell if he is a troll egging us on, or whether he is really just this stubborn...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">2nd July 2008, 21:11</div></div><div class="posttext">bit of both going on both threads involved i'd say.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">2nd July 2008, 21:28</div></div><div class="posttext">I'd say both threads involved should be already nuked.<br />
They serve nothing but annoyance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">2nd July 2008, 22:33</div></div><div class="posttext">Until compile time plug-ins are supported then you will have to make do with packing one installer in another. The other option is to rebuild NSIS with the constants changed so that decompilers no longer work.<br />
<br />
This is an interesting topic which if you searched properly would have come across:<br />
http://forums.winamp.com/showthread.php?threadid=245397<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">2nd July 2008, 22:49</div></div><div class="posttext">Stu, do you observe this conversation constantly? I have already mentioned the thread that you suggest with absolutely no success.<br />
<br />
http://forums.winamp.com/showthread.php?postid=2366844#post2366844</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">2nd July 2008, 23:52</div></div><div class="posttext">Not sure where this should go, so I'll just add it here...<br />
<br />
As a test, I downloaded the Universal Extractor (http://legroom.net/software/uniextract#download).  I did some experiments with a very basic NSIS installer.<br />
<br />
I was able to determine that it was not able to decompress/decompile files based on BZIP compression.  While this is not technically a solution, it does provide a way to at least make it harder for someone to get your install files with very little effort.  But, if you wanted to go further, than I'd suggest what has already been suggested by Afrow, Sheik, RedWine, LoRd_MuldeR, and others.<br />
<br />
And for you curious types:<br />
I discovered from the Universal Extractor web site that it's really nothing more than fancy script built with AutoIT (http://www.autoitscript.com/).  Basically, it's really just a fancy GUI to call various external applications to do the work.<br />
<br />
<br />
Univeral extractor also includes InnoUnp (http://innounp.sourceforge.net/), which means it also has the ability to extract Inno installation scripts.  (hmm... :confused:  )<br />
<br />
<br />
And (quoting Forest Gump):<br />
That's all I have to say about that!    :weird:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfgh</div><div class="date">2nd July 2008, 23:56</div></div><div class="posttext">final conclusion. All this fact ruins the so good that the nsis is. At least for me !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">3rd July 2008, 00:12</div></div><div class="posttext">Originally posted by arfgh <br />
final conclusion. All this fact ruins the so good that the nsis is. At least for me !  LOL That sounds serious! Would you bet on this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arfgh</div><div class="date">3rd July 2008, 00:27</div></div><div class="posttext">Comperio this &quot;solution&quot; about bzip compresion you told, is not valid. The last version of universal instaler extract a &quot;script.bin&quot; where the used passwords are exposed and all the strings used.<br />
<br />
Red Wine, it means that the nsis is in fact so good, the best. But this other fact ruins it totally. Because Now we CANT make a serious work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">3rd July 2008, 00:33</div></div><div class="posttext">Please somebody close this thread :cry:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd July 2008, 11:50</div></div><div class="posttext">Remember; NSIS is free. None of us get paid to work on it and it is all down to free time that it is at the stage that it is today.<br />
<br />
The 'final conclusion' is you cannot expect something to be implemented into NSIS by others when you're really the only user that needs the functionality. When you are the only user requiring something then it is down to you not us to implement it.<br />
<br />
Also comparing NSIS to other install solutions (therefore 'ruining' NSIS as it lacks something that the other install solution has) is not going to get anything done either.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>