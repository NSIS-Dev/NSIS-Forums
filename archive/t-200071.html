<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Question about 2GB file limit, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Question about 2GB file limit NSIS Discussion" />
	
	<title> Question about 2GB file limit [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Question about 2GB file limit</div>
<hr />
<div class="pda"><a href="t-200071.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=200071">Question about 2GB file limit</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Starbucks</div><div class="date">24th November 2004, 02:08</div></div><div class="posttext">Is there any way around this 2GB file limit? I have about 30,000 files (3.5GB) I want to include into my setup, but I found out that NSIS wont allow that. Are there any plans to remove the limit?<br />
<br />
Also, does anyone know of any free install programs similar to NSIS? Thank you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">2gblimit</div><div class="date">24th November 2004, 03:32</div></div><div class="posttext">The current version of Inno Setup (http://www.jrsoftware.org/isinfo.php) doesn't have a 2GB limit (http://www.jrsoftware.org/isfaq.php#limits).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">24th November 2004, 04:05</div></div><div class="posttext">You could also package up some or all of those 30,000 files into an archive such as a zip or even a self extracting exe, then call it from you nsis script.  If you use a zip, just get PkZip, which is command line program that you can include and call from nsis, or use WinAce to make a self extracting exe archive.  Good luck.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th November 2004, 13:57</div></div><div class="posttext">Use 7-zip (http://www.7-zip.org). It's the lzma compression that NSIS uses (and it's the best out there!)<br />
<br />
You'd have to grab the 7z.exe command-line program, extract it onto the user's system before installation and then exec using nsExec::Exec.<br />
<br />
PKZip is terribly old and doesn't support long file names (only DOS). If you use Zip then use unzip.exe (it's much better). Just search via Google.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">24th November 2004, 19:05</div></div><div class="posttext">It also depends on the compression ratio. If you can compress those files (using non-solid compression) into an archive of less than 2GB, it's possible.<br />
<br />
However, creating such huge files is generally not a good idea. I recommend you to keep the data in separate files.<br />
<br />
But never create files larger than 2GB, unless you only want to support the most recent Windows versions. Most older file systems have a 2GB file limit.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Starbucks</div><div class="date">27th November 2004, 03:26</div></div><div class="posttext">I zipped my 3.5GB files into 1.87 on ZIP. NSIS somehow still has problems compiling that. I just used Inno Setup and it compressed all of that to 1.45GB with LZMA. Quite a good compression ratio, and the setup is flawless. Is NSIS's optimal compression LZMA as well?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th November 2004, 11:58</div></div><div class="posttext">The default compression is bzip2 (I think).<br />
<br />
Use:<br />
SetCompress lzma<br />
<br />
If you weren't using lzma already (and it's come to 3.5GB) then you should scrap compressing it in Zip first and compress it straight into the installer in lzma.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th November 2004, 13:20</div></div><div class="posttext">You should get a special build from the website with non-solid  LZMA compression. Otherwise you will have a 2GB limit for uncompressed data as well.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pacha35</div><div class="date">27th November 2004, 15:57</div></div><div class="posttext">I have a 3.5 Gb install DVD and I use zip file with ZIPDLL in MUI lines format as following:<br />
<br />
----------<br />
!include &quot;ZipDll.nsh&quot;<br />
----------<br />
!insertmacro ZIPDLL_EXTRACT &quot;$EXEDIR\_ROTW-UI\Rotw-ui.zip&quot; &quot;$INSTDIR\UI&quot; &quot;&lt;ALL&gt;&quot;<br />
----------<br />
(there is about 20 lines !insertmacro like this)<br />
<br />
It works fine</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th November 2004, 16:39</div></div><div class="posttext">Why use Zip files when you can use 7z (lzma)? You'd atleast half the size of those Zip's altogether.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pacha35</div><div class="date">27th November 2004, 16:55</div></div><div class="posttext">Because my files are in zip format and in different and very specific folders. I can't mix them. As you know, I am a rooky and I try before to write program to find options with documentation and clear examples.<br />
<br />
It takes 8 mn to install this 3.5Gb compressed files. That's not too long. And if another solution can't save enough place to use a CD instead of a DVD, its interest is minored.<br />
<br />
<br />
But if I can find a better solution, I take it. May be next time I need to save a lot of place on a CD.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Starbucks</div><div class="date">27th November 2004, 23:30</div></div><div class="posttext">It takes 8 mn to install this 3.5Gb compressed filesThat's quite a long time to install 3.5GB's data. It only took me about ~2 mins to install my 3.5GB. What are your system specs?<br />
<br />
Mine is <br />
<br />
3200+ (2.2Ghz)<br />
256MB DDR400<br />
40GB IDE (System)<br />
300GB SCSI (Storage)<br />
<br />
Thanks guys.<br />
<br />
Also, I would like to see NSIS support 2GB+ in the near future. Where can I request such a feature? I would like to know if NSIS developers would consider this in a later version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pacha35</div><div class="date">28th November 2004, 00:02</div></div><div class="posttext">My system is<br />
Dell XPS 3.1 Ghz<br />
1Gb memory<br />
2x230 Gb SATA<br />
external IOMEGA multi-format DVD writer (USB 2.0)<br />
<br />
But my install program executes first 2 others specific install patches programs.<br />
May be also than zip files are not the best compressed way to use with NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Starbucks</div><div class="date">28th November 2004, 23:07</div></div><div class="posttext">Have you tried lzma? Your system has a lot of useful memory. I'm jelous.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pacha35</div><div class="date">28th November 2004, 23:17</div></div><div class="posttext">sorry! But I need this kind of system to run simulator and have good fps rate.<br />
<br />
No I have not tried Izma, but I 'll try it soon.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>