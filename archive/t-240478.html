<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" type of install problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  type of install problem NSIS Discussion" />
	
	<title> type of install problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  type of install problem</div>
<hr />
<div class="pda"><a href="t-240478.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=240478">type of install problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tus01</div><div class="date">10th March 2006, 21:23</div></div><div class="posttext">I have created 4 sections for my software.<br />
In each section I have several checkbox to choose which hardware I would like to set up.<br />
<br />
The problem is that everytime I check or uncheck something, the type of install becomes &quot;Custom&quot;. And this is the problem because for each type of install, I have particular regedit keys that are created, and those keys are specific to each type.<br />
<br />
Is there a way to resolve my problem??<br />
<br />
Thank you very much...<br />
<br />
:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dandaman32</div><div class="date">10th March 2006, 22:46</div></div><div class="posttext">In NSIS, an install &quot;type&quot; is a combination of sections.  The &quot;custom&quot; install is just a psuedo-type used for non-standard combinations of sections.<br />
<br />
What I'm saying is, don't worry about InstTypes.<br />
<br />
In a related note, you can specify: SectionIn RO inside a section to make that section read-only (always checked).<br />
<br />
-dandaman32</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tus01</div><div class="date">13th March 2006, 13:16</div></div><div class="posttext">Well in fact this is not what I really wanted to do.<br />
I have made an image so that it can be clearer:<br />
http://jeje83.free.fr/forum/install_type.png <br />
<br />
The red square allows me to choose an install type/configuration. A special register key is associated to each configuration.<br />
After that, if I try to select specific hardware (any hardware is compatible with any configuration), the install type name (configuration) disappears and the &quot;custom&quot; one appears... <br />
<br />
I hope it is clearer now...<br />
<br />
Thank you for your help...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">13th March 2006, 21:43</div></div><div class="posttext">You could use an installoptions page with the options on it and either execute or skip the files depending on the type that was selected. Here is an example (assuming you are using MUI).<br />
page custom Prefunc Leavefunc<br />
<br />
Function .oninit<br />
!insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;installtype.ini&quot;<br />
FunctionEnd<br />
<br />
Function Prefunc<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;installtype.ini&quot;<br />
FunctionEnd<br />
<br />
Function Leavefunc<br />
ReadINIStr $0 &quot;PLUGINSDIR\installtype.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
ReadINIStr $1 &quot;PLUGINSDIR\installtype.ini&quot; &quot;Field 3&quot; &quot;State&quot;<br />
ReadINIStr $2 &quot;PLUGINSDIR\installtype.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
ReadINIStr $3 &quot;PLUGINSDIR\installtype.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
ReadINIStr $4 &quot;PLUGINSDIR\installtype.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
FunctionEnd<br />
<br />
Section Files<br />
IntCmp $0 0 skip0<br />
;Config 1 files and reg keys here<br />
skip0:<br />
IntCmp $1 0 skip1<br />
;Config 2 files and reg keys here<br />
skip1:<br />
IntCmp $2 0 skip2<br />
;Config 3 files and reg keys here<br />
skip2:<br />
IntCmp $3 0 skip3<br />
;Config 4 files and reg keys here<br />
skip3:<br />
IntCmp $4 0 skip4<br />
;Config 5 files and reg keys here<br />
skip4:<br />
SectionEnd<br />
And installtype.ini has the first field as a label and the last 5 fields have a checkbox with each of your configurations. Use the installoptions editor in HM NIS Edit to create the file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tus01</div><div class="date">14th March 2006, 14:02</div></div><div class="posttext">Oh thank you very much for your answer, I am going to study this... thanks again...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">14th March 2006, 21:40</div></div><div class="posttext">I couldn't resist... Here is an example.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>