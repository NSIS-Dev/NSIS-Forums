<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Modern UI, Directory page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Modern UI, Directory page NSIS Discussion" />
	
	<title> Modern UI, Directory page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Modern UI, Directory page</div>
<hr />
<div class="pda"><a href="t-283237.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=283237">Modern UI, Directory page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Lymc</div><div class="date">15th December 2007, 16:03</div></div><div class="posttext">I have used NSIS for 3 years, and lately came up with a new product that needs installing, but with different options than my old one.  It should, by default, install in My Documents.  So, I found the proper incantation to bring that about:<br />
<br />
	Call GetMyDocs<br />
	!insertmacro MUI_INNERDIALOG_TEXT 1019 $0<br />
<br />
in the ShowDirectory function, which converts My Documents into a path and then displays it in the edit box.  My problem is that the Install button doesn't enable when I do that; in fact, it doesn't enable even if I Browse and manually select, or type in, the Path, which is, on my machine, E:\ .<br />
<br />
I understand I'm using an old version of NSIS and an old version of Modern UI, but they've worked and I'm reluctant to go through a relearn to get back what I already have.  If anyone has an easy fix, I'd be grateful.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th December 2007, 16:09</div></div><div class="posttext">Root directories are not supported as installation directories by default for the sake of the user. To allow root directories, use AllowRootDirInstall.<br />
<br />
BTW, it'd be easier to just set $INSTDIR in .onInit instead of using page callbacks. This way, it'd also work in silent mode.Function .onInit<br />
  StrCpy $INSTDIR $DOCUMENTS<br />
FunctionEnd<br />
<br />
BTW #2, there is nothing to relearn when upgrading. Backward compatibility is very important to me and I do my best to keep old scripts working as expected on new versions..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Lymc</div><div class="date">15th December 2007, 16:43</div></div><div class="posttext">Thank you, Kichik, for the help; the script is now working like a champ, as I fully expected it would when I had the clue.  And thanks for the compatibility; I'll look into upgrading both packages here soon.<br />
<br />
Great support!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>