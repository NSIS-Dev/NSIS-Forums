<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Disable back button in finish page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Disable back button in finish page NSIS Discussion" />
	
	<title> Disable back button in finish page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Disable back button in finish page</div>
<hr />
<div class="pda"><a href="t-373367.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=373367">Disable back button in finish page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">winman2004</div><div class="date">28th October 2013, 13:30</div></div><div class="posttext">For my installation i have added new custom page. It comes after MUI_PAGE_INSTFILES. But before this custom page was not there. The problem is that after adding this custom page,it has effected  finish page and finish page now has back button enabled.Before it was disabled(I have not done any coding before to disable back button). But after adding new custom page finish page has back button enabled.<br />
<br />
I have below order of pages<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_LICENSE &quot;${Stpath}read me.txt&quot;<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE wel_pre<br />
!define MUI_PAGE_CUSTOMFUNCTION_LEAVE DirectoryPageLeave <br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
Page custom InstallPageCreate checkinstdir<br />
!define MUI_FINISHPAGE_RUN &quot;$INSTDIR\setupx.exe&quot;<br />
!define MUI_FINISHPAGE_RUN_PARAMETERS &quot;&quot;<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE welfinish<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW FinishPageShow <br />
!define MUI_PAGE_CUSTOMFUNCTION_LEAVE myleave<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
<br />
Before the line Page custom InstallPageCreate checkinstdir was not there and finish page does not had back button enabled.<br />
<br />
After adding that custom page back button in finish page is enabled.The custom page is shown only when certain command line is passed to installer. So if no command line is passed for my setup.exe then after MUI_PAGE_INSTFILES, finish page comes.If user clicks on back button then again MUI_PAGE_INSTFILES is shown and files will copy to install directory. Also if that custom page appears then that page has back button disabled, which is proper.<br />
Also i need to know where this back button disable is done? Is it done in macro MUI_PAGE_INSTFILES(nsis builtin macro)? <br />
<br />
So i need to disable back button in finish page. Please help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">28th October 2013, 13:55</div></div><div class="posttext">In function FinishPageShow call GetDlgItem $0 $HWNDPARENT 3 ; next = 1, cancel = 2, back = 3<br />
EnableWindow $0 0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">winman2004</div><div class="date">28th October 2013, 15:43</div></div><div class="posttext">In function FinishPageShow call GetDlgItem $0 $HWNDPARENT 3 ; next = 1, cancel = 2, back = 3<br />
EnableWindow $0 0<br />
<br />
Works fine. Thank you<br />
<br />
But where does this button are enabled and disabled? In my case after adding custom page the button got enabled in finish page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">28th October 2013, 16:24</div></div><div class="posttext">I'm not sure, the NSIS source code must be reviewed for that.<br />
I think you should file a bug for this.<br />
What version of NSIS are you using?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">winman2004</div><div class="date">29th October 2013, 12:10</div></div><div class="posttext">I'm not sure, the NSIS source code must be reviewed for that.<br />
I think you should file a bug for this.<br />
What version of NSIS are you using?<br />
<br />
i am using  2.46</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">29th October 2013, 15:26</div></div><div class="posttext">This is expected behaviour, Back is disabled only if the page was preceded by InstFiles. Afaik, it goes for any page, Finish has no specific properties in that regard. It may arguably be a flaw but I wouldn't call it a bug.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>