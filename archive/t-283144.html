<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Adding a checkbox to ioSpecial.ini at Finish, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Adding a checkbox to ioSpecial.ini at Finish NSIS Discussion" />
	
	<title> Adding a checkbox to ioSpecial.ini at Finish [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Adding a checkbox to ioSpecial.ini at Finish</div>
<hr />
<div class="pda"><a href="t-283144.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=283144">Adding a checkbox to ioSpecial.ini at Finish</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Zinkyu</div><div class="date">13th December 2007, 16:39</div></div><div class="posttext">I've been using NSIS for a little while now and had pretty much resolved myself to having only 2 checkboxes on the page.  But lo and behold, my mind picked up on the &quot;you can edit iospecial.ini&quot; in the Modern UI documentation's notes on the finish page.<br />
<br />
&quot;Eureka&quot;  I cried, as a wave of euphoria broke out at the thought of customizing this beautiful page and forgoing the original idea of using a custom page instead.<br />
<br />
So I tried adding a checkbox to the iospecial.ini file at finish time. It worked!  Except with one caveat....<br />
<br />
The checkbox that gets added has the grey background of a button. :cry: <br />
<br />
Does anyone have an idea why this happens and how to make it go away?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th December 2007, 16:56</div></div><div class="posttext">Following forum thread might help you,<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=264181</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zinkyu</div><div class="date">13th December 2007, 17:07</div></div><div class="posttext">Thanks Red Wine.  I guess I didn't put the right text into the search box. :D<br />
<br />
I did manage to find something similar to what you have posted in that other thread.  I managed to find my way to http://forums.winamp.com/showthread.php?s=&amp;threadid=205674 through the NSIS wiki.  Based on that example, I've got a couple of lines like this in the show function<br />
GetDlgItem $0 $MUI_HWND 1205<br />
SetCtlColors $0 &quot;&quot; &quot;FFFFFF&quot;<br />
and this achieves the desired result. :up: <br />
<br />
My only question at this point is &quot;Where on Earth did they get 1203 (handle of the first checkbox) from?!?&quot; :weird: <br />
<br />
And I'm also a little curious how your code works too.<br />
Function fin_show<br />
ReadINIStr $0 &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;HWND&quot;<br />
SetCtlColors $0 0x000000 0xFFFFFF<br />
FunctionEnd<br />
<br />
Function fin_pre<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Settings&quot; &quot;NumFields&quot; &quot;6&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Type&quot; &quot;CheckBox&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Text&quot; &quot;&amp;Create Quicklaunch Shortcut&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Left&quot; &quot;120&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Right&quot; &quot;315&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Top&quot; &quot;130&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;Bottom&quot; &quot;140&quot;<br />
WriteINIStr &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 6&quot; &quot;State&quot; &quot;1&quot;<br />
FunctionEnd<br />
<br />
<br />
Obviously, the HWND for Field 6 wasn't written to the INI file.  So how can you read it in the Show function?:weird:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th December 2007, 17:15</div></div><div class="posttext">My only question at this point is &quot;Where on Earth did they get 1203 (handle of the first checkbox) from?!?&quot; Keep on searching the forum... :)<br />
<br />
Obviously, the HWND for Field 6 wasn't written to the INI file. So how can you read it in the Show function?  Obviously you haven't read the documentation yet :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th December 2007, 17:17</div></div><div class="posttext">InstallOptions adds the HWND field to the INI file after it creates the page. 1203 is 1200 + field 4 - 1.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zinkyu</div><div class="date">13th December 2007, 18:00</div></div><div class="posttext">Many thanks to both of you.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>