<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Add this to 1.99?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Add this to 1.99? NSIS Discussion" />
	
	<title> Add this to 1.99? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Add this to 1.99?</div>
<hr />
<div class="pda"><a href="t-86763.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=86763">Add this to 1.99?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">LIGHTNING UK!</div><div class="date">5th May 2002, 14:42</div></div><div class="posttext">Hi,<br />
<br />
Any chance of getting a couple of bits added to the code in the next version?<br />
<br />
Here is what I have in mind:<br />
<br />
The browse dialog box is the old style, even on the newer os's. This means, amongst other things, that you dont get the 'right click' explorer type context menu (which a lot of people like). Can you change the following:<br />
<br />
bi.ulFlags = BIF_RETURNONLYFSDIRS;<br />
to<br />
bi.ulFlags = BIF_RETURNONLYFSDIRS | BIF_VALIDATE | IF_NEWDIALOGSTYLE;<br />
<br />
The validation doesnt bit doesnt work properly for some reason, even with that flag set, so it is then necessary to added the following to the call back function:<br />
<br />
============<br />
<br />
else if (uMsg==BFFM_SELCHANGED)<br />
{<br />
  TCHAR szDir[MAX_PATH];<br />
  if(!SHGetPathFromIDList((LPITEMIDLIST) lParam ,szDir))<br />
  {<br />
    // Disable the OK button if the currently selected item isnt a valid path<br />
    SendMessage(hwnd, BFFM_ENABLEOK, 0, FALSE);<br />
  }<br />
}<br />
<br />
============<br />
<br />
Thanks - if you do it ;-)<br />
<br />
P.S, I think the xp support should be ON by default. For the sake of 1k, its more hastle than its worth to leave it off and make us all change it and compile the code ourselves.<br />
I also find it strange that when you select a destination directory, it automatically appends the existing path (final directory) to it. Im sure no other program (or at least not many) work in this way.<br />
<br />
Just my 2p worth :-)<br />
<br />
Keep up the great work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SmartyMan</div><div class="date">7th May 2002, 23:22</div></div><div class="posttext">Originally posted by LIGHTNING UK! <br />
I also find it strange that when you select a destination directory, it automatically appends the existing path (final directory) to it. Im sure no other program (or at least not many) work in this way.<br />
<br />
I like this feature, because that what I always have to do manually when installing software (change the path but keep the Product name as folder)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">14th May 2002, 07:03</div></div><div class="posttext">Originally posted by LIGHTNING UK! <br />
I also find it strange that when you select a destination directory, it automatically appends the existing path (final directory) to it. Im sure no other program (or at least not many) work in this way.<br />
<br />
<br />
From makensis.htm (under InstallDir):<br />
<br />
Sets the default installation directory is. See the variables section for variables that can be used to make this string (especially $PROGRAMFILES). Note that the part of this string following the last \ will be used if the user selects 'browse', and may be appended back on to the string at install time (to disable this, end the directory with a \ (which will require the entire parameter to be enclosed with quotes)). If this doesn't make any sense, play around with the browse button a bit. <br />
<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LIGHTNING UK!</div><div class="date">14th May 2002, 07:27</div></div><div class="posttext">Justin,<br />
<br />
It's ok, I just commented out the bit of code that does the appending.<br />
<br />
Hows about my other ideas though? Any chance you can put them in the next version?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sdbarker</div><div class="date">14th May 2002, 14:09</div></div><div class="posttext">Originally posted by LIGHTNING UK! <br />
P.S, I think the xp support should be ON by default. For the sake of 1k, its more hastle than its worth to leave it off and make us all change it and compile the code ourselves.<br />
<br />
<br />
I disagree.  I personally would have to recompile to disable XP support.  Granted I generally re-compile anyway, but that 1k is precious to me.  :)<br />
<br />
-Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zaraza</div><div class="date">14th May 2002, 17:45</div></div><div class="posttext">Maybe those of us without VC++ can get an alternate compiled download, e.g. NSIS 1.98 XP Edition? :D<br />
<br />
When doing an install for a 20MB app I will gladly live with an extra 1KB.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sdbarker</div><div class="date">14th May 2002, 18:02</div></div><div class="posttext">But, when doing an install for &lt; 100k app, I'd rather not have that extra 1k and help keep it sub-100.<br />
<br />
-Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th May 2002, 18:50</div></div><div class="posttext">Originally posted by Zaraza <br />
Maybe those of us without VC++ can get an alternate compiled download, e.g. NSIS 1.98 XP Edition? :D<br />
<br />
When doing an install for a 20MB app I will gladly live with an extra 1KB. <br />
<br />
I am currently working on a NSIS mod that will enable you to add XP support on script compile time with no need of VC++. A version that works only on NT is already available. If you want I will send it to you.<br />
<br />
KiCHiK</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LIGHTNING UK!</div><div class="date">14th May 2002, 19:21</div></div><div class="posttext">1k isnt even 1k! It will still probably occupy more than that due to the cluster size on the drive you are using. I dont even really see the need for an installer is the program/files you are installing are &lt; 100k....you might as well just write a batch file. No end user would care about 1k, even on the slowest modems it wouldnt take anywhere near a second to download. Now if you had 100k medium and with the XP support it came out to 101k then I could understand but otherwise, whats the big deal!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sdbarker</div><div class="date">14th May 2002, 20:17</div></div><div class="posttext">But it takes UP 1k on disk, at least, yes because of cluster size.<br />
<br />
The need is to not have the useless bloat in there.  1k of bloat is still bloat.<br />
<br />
I know it would take less than a second.<br />
<br />
Have you polled all of the end users to find out if they would care or not?<br />
<br />
The big deal is that it's the principle of the thing.  That 1k is not needed.  That's why I recompile NSIS in the first place, to remove support for all of the functions that I don't need.  Part of the beauty behind this piece of software is how exceptionally advanced it is for it's size.  I don't wish to compromise that.<br />
<br />
-Scott</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>