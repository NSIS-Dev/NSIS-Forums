<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" 'Prevent Launching Twice' Function fails in XP Home, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  'Prevent Launching Twice' Function fails in XP Home NSIS Discussion" />
	
	<title> 'Prevent Launching Twice' Function fails in XP Home [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  'Prevent Launching Twice' Function fails in XP Home</div>
<hr />
<div class="pda"><a href="t-195399.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=195399">'Prevent Launching Twice' Function fails in XP Home</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">grahama</div><div class="date">2nd October 2004, 20:48</div></div><div class="posttext">For some reason, the below function works fine in the .oninit for Win2k.  For, Windows XP Home, I get the  'The Installer is allready Running' message box.   It will give me the message box whether the installer is allready running or has been previously quit.<br />
<br />
does anyone know what this can be ?  I'm sure I am misusing the function somehow...<br />
<br />
many thanks<br />
g<br />
<br />
Function preventLaunchingTwice<br />
 System::Call 'kernel32::CreateMutexA(i 0, i 0, t &quot;6q9nEUg5&quot;) i .r1 ?e' Pop $R0<br />
<br />
 StrCmp $R0 0 +3<br />
   MessageBox MB_OK|MB_ICONEXCLAMATION &quot;The installer is already running.&quot;<br />
   Abort<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd October 2004, 21:47</div></div><div class="posttext">Is that an exact copy of the code? If it is, you're missing a new line between System::Call 'kernel32::CreateMutexA(i 0, i 0, t &quot;6q9nEUg5&quot;) i .r1 ?e'andPop $R0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grahama</div><div class="date">3rd October 2004, 01:48</div></div><div class="posttext">yes, Pop $R0 is on a separate line<br />
<br />
let me repaste....<br />
Function preventLaunchingTwice<br />
System::Call 'kernel32::CreateMutexA(i 0, i 0, t &quot;6q9nEUg5&quot;) i .r1 ?e'<br />
Pop $R0<br />
StrCmp $R0 0 +3<br />
MessageBox MB_OK|MB_ICONEXCLAMATION &quot;The installer is already running.&quot;<br />
   Abort<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grahama</div><div class="date">3rd October 2004, 23:09</div></div><div class="posttext">anyone have any ideas on what this might be?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">3rd October 2004, 23:25</div></div><div class="posttext">could some process already use &quot;6q9nEUg5&quot;? as i can't provide a solution, you might want to use MB_YESNO as a work-around.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grahama</div><div class="date">3rd October 2004, 23:43</div></div><div class="posttext">Ok<br />
I'll change the string and change the messagebox to MB_YESNO<br />
many thanks</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>