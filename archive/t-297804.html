<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" colored text input, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  colored text input NSIS Discussion" />
	
	<title> colored text input [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  colored text input</div>
<hr />
<div class="pda"><a href="t-297804.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=297804">colored text input</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">24th September 2008, 16:24</div></div><div class="posttext">can anybody help me on how to change the background color of a text-control in both nsDialogs and InstallOptions?<br />
<br />
thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">24th September 2008, 18:32</div></div><div class="posttext">1.- Get the dialog item hwnd (FindWindow)<br />
2.- SetCtlrColors<br />
http://nsis.sourceforge.net/Change_the_background_color_in_textboxes</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">24th September 2008, 22:25</div></div><div class="posttext">i tried the following code to change the color of Field 4<br />
	!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioA.ini&quot;<br />
	FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
	GetDlgItem $0 $0 1203 ;1200 + Field number - 1<br />
	SetCtlColors $0 0x00BAB0A6 0x000000<br />
the code doesn't have any effect on the text field</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">25th September 2008, 16:17</div></div><div class="posttext">maybe it's not possible for io-pages as there are no pre-functions for custom pages?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">25th September 2008, 17:02</div></div><div class="posttext">Hmm...  Perhaps you need to tweak the colors before actually displaying the page?  <br />
<br />
Not sure if this will work, but try it this way:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;ioA.ini&quot;<br />
pop $0 ; HWND of dialog<br />
ReadIniStr $0 &quot;$PLUGINSDIR\ioA.INI&quot; &quot;Field 4&quot; &quot;HWND&quot;<br />
SetCtlColors $0 0x00BAB0A6 0x000000<br />
!insertmacro MUI_INSTALLOPTIONS_SHOW</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">25th September 2008, 17:24</div></div><div class="posttext">i already tried using the code before displaying the page. isn't HWND in an io.ini something from IoEx?<br />
<br />
however, your code produces a nice dr. watson message. for testing purposes i removed everything but MUI_INSTALLOPTIONS_INITDIALOG - it actually seems responsible for the crash.<br />
<br />
:(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">25th September 2008, 18:48</div></div><div class="posttext">I got this from the stock InstallOptions readme file:<br />
<br />
HWND/HWND2:<br />
After initDialog returns, this will contain the HWND of the control created by this field. It can be used instead of FindWindow and GetDlgItem. HWND2 contains the HWND of an additional control, such as the browse button.<br />
<br />
I got my code idea from the example of changing the font (in the same readme file).  I assumed changing the control colors would be similar, but perhaps not...<br />
<br />
I can try some experiments on my own, but it might be a few days before I can devote more time to it. :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">25th September 2008, 20:51</div></div><div class="posttext">OK, I had a couple minute of free time during my lunch break.  I did a quick sample using MUI and InstallOptions and it works for me.  I'm not sure why you were having problems.  (I'm using NSIS version 2.39 if that helps) <br />
<br />
The sample is attached.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">25th September 2008, 21:11</div></div><div class="posttext">And here's an attached example of the same using nsDialogs.  (I didn't quite get the dialog positions worked out, but I think it should at least give the general idea.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">25th September 2008, 21:13</div></div><div class="posttext">awesome, it's working! i used !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioA.ini&quot; instead of !insertmacro MUI_INSTALLOPTIONS_SHOW, must've been it. thanks a lot!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">27th September 2008, 20:48</div></div><div class="posttext">one more question: what if i want to reset the background color to its initial state? i don't want to interfere with a user's system-white color-settings and set it to white. i assumed i can use transparent, but it turns black.<br />
<br />
i'm using background colors to indicate missing or wrong information. hence i need to remove the colors if everything was done correctly!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">27th September 2008, 20:51</div></div><div class="posttext">for the record: i tried SetCtlColors $BU1_Directory &quot;&quot; &quot;&quot; and it solved my issue :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">27th September 2008, 22:15</div></div><div class="posttext">i've created an example and posted in on the wiki (http://nsis.sourceforge.net/Color_Indicator_for_nsDialogs)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>