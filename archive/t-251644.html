<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Multilanguage &quot;Browse for Folder&quot; and cancel dialog, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Multilanguage &quot;Browse for Folder&quot; and cancel dialog NSIS Discussion" />
	
	<title> Multilanguage &quot;Browse for Folder&quot; and cancel dialog [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Multilanguage &quot;Browse for Folder&quot; and cancel dialog</div>
<hr />
<div class="pda"><a href="t-251644.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=251644">Multilanguage &quot;Browse for Folder&quot; and cancel dialog</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">joconnor</div><div class="date">21st July 2006, 19:38</div></div><div class="posttext">Hi all, <br />
<br />
I'm having a small problem with getting NSIS to display in a completely translated format...hopefully you guys can help a guy out!<br />
<br />
Basically, I've setup the multilanguage environment correctly (I think!) and pretty much all the pages come out translated except for several buttons and window titles that always appear in English.<br />
<br />
1) the &quot;Browse for Folder&quot; dialog:<br />
 - title of window is always &quot;Browse for Folder&quot;<br />
 - the buttons are always &quot;Make New Folder&quot;, &quot;OK&quot;, and &quot;Cancel&quot;<br />
<br />
2) The &quot;cancel installation&quot; confirmation window:<br />
 - the buttons are always &quot;Yes&quot; and &quot;No&quot;<br />
<br />
All other text in these windows and elsewhere in NSIS gets translated properly using the language files. <br />
<br />
I've done some searching, both extensively in these forums and far and wide on the World's Wild Web and haven't found anything that seems to work...is there something obvious that I'm not defining? Like a MUI_REALLY_TRANSLATE_EVERYTHING_FOR_REAL_THIS_TIME definition? :cry:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">21st July 2006, 21:35</div></div><div class="posttext">i don't think that nsis translates these langstrings, as they are default in all windows. i'm always having a weird mixture of languages, as i'm using an english windows os with german settings (keyboard, locale..). if you got a similiar working environment, maybe test your installer on a computer with matching windows version and settings.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">scully13</div><div class="date">21st July 2006, 22:26</div></div><div class="posttext">The text displayed there is based on which language Windows is in.  So, even if your install is in Spanish it shows up there in English if Windows is English.  You can change some of the text though yourself using DirText if you know the translations.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joconnor</div><div class="date">24th July 2006, 14:20</div></div><div class="posttext">So I guess as far as easy modifications are concerned, I'm out of luck? But is there a more complicated solution? I'm fairly new to NSIS, and have only just started to explore the expanse of plugins available, but would anyone know of a replacement PlugIn(s) that could serve as the &quot;Browse for Folder&quot; and &quot;Cancel&quot; dialogs? <br />
<br />
Obviously, they need to allow for replacement text and translations, or I'll be stuck with the same issues.<br />
<br />
Failing the plug-in avenue, has no one else addressed this? I can't believe that I'm the only one who has to turn in projects with stringent translation policies!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th July 2006, 19:26</div></div><div class="posttext">MessageBoxEx (http://forums.winamp.com/showthread.php?postid=1845364) can be used for the message boxes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">25th July 2006, 02:02</div></div><div class="posttext">Did you try dialogs or dialogEx? See my signature.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joconnor</div><div class="date">26th July 2006, 15:10</div></div><div class="posttext">On your suggestion I've been playing a bit with DialogEx, and I'm not sure it will do the trick. First of all, I'm not yet sure how to invoke it from the &quot;Browse...&quot; button on MUI_PAGE_DIRECTORY, but also, unless I'm missing something, I think it suffers from the same translation &quot;problem&quot;...the parameter list is as follows:<br />
<br />
${ModernFolderBox} [Title] [Caption] [InitDir] [Return]<br />
<br />
It provides a mechanism for changing the Title of Dialog, which DirText does not, but I haven't found a way to control the text on the buttons yet; they still read &quot;Make New Folder&quot;, &quot;ok&quot;, and &quot;cancel&quot;...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">27th July 2006, 00:52</div></div><div class="posttext">Those strings are from you PC..in my machine I get them translated...or you want them always translated?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joconnor</div><div class="date">27th July 2006, 13:38</div></div><div class="posttext">Well, the &quot;bug&quot; that has been raised against my installer script is complaining that the button-text does not match the selected install-language. <br />
<br />
So, yes, I'm trying to have those several buttons I mentioned always reflect the installer language....I don't want them to rely on the language of the windows distribution at all if possible.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">27th July 2006, 16:07</div></div><div class="posttext">According to MSDN (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/shell/reference/callbackfunctions/browsecallbackproc.asp), only on XP machines has that feature.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joconnor</div><div class="date">1st August 2006, 18:42</div></div><div class="posttext">Ok, still working on a solution for the 'browse for folder' dialog, but using DrO's MessageBox plugin (http://forums.winamp.com/attachment.php?s=&amp;postid=1113028), here's my solution for the 'cancel dialog' (basically its been hacked together from several post, but I'm putting it here for anyone reading this that doesn't want to have to hack together one themselves...)<br />
<br />
Replace &quot;!define MUI_ABORTWARNING&quot; with &quot;!define MUI_CUSTOMFUNCTION_ABORT UserAbort&quot;<br />
<br />
New Function:<br />
<br />
Function UserAbort<br />
  messagebox::show MB_ICONHAND|MB_DEFBUTTON2 &quot;&quot; &quot;&quot; &quot;$(TEXT_ABORTWARNING_MSG)&quot; &quot;$(TEXT_YES_MSG)&quot; &quot;$(TEXT_NO_MSG)&quot;<br />
  Pop $0<br />
  StrCmp $0 &quot;2&quot; 0 +2<br />
  Abort<br />
FunctionEnd<br />
<br />
LangString TEXT_YES_MSG ${LANG_ENGLISH} &quot;Yes&quot;<br />
LangString TEXT_YES_MSG ${LANG_FRENCH} &quot;Oui&quot;<br />
<br />
LangString TEXT_NO_MSG ${LANG_ENGLISH} &quot;No&quot;<br />
LangString TEXT_NO_MSG ${LANG_FRENCH} &quot;Non&quot;<br />
<br />
LangString TEXT_ABORTWARNING_MSG ${LANG_ENGLISH} &quot;Are you sure you want to quit $(^Name) Setup?&quot;<br />
LangString TEXT_ABORTWARNING_MSG ${LANG_FRENCH} &quot;Êtes-vous sûr de vouloir quitter l'installation de $(^Name) ?&quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>