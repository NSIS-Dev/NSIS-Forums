<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" rename/move (urgent), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  rename/move (urgent) NSIS Discussion" />
	
	<title> rename/move (urgent) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  rename/move (urgent)</div>
<hr />
<div class="pda"><a href="t-273156.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=273156">rename/move (urgent)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">theblazingangel</div><div class="date">20th June 2007, 20:46</div></div><div class="posttext">i've got a problem renaming folders.<br />
<br />
we have several different software releases. each comes as a base 'Core' release, and then monthly update releases.<br />
<br />
example situation:<br />
1) core_A_may2007 is installed, and puts some files in folder_A.<br />
2) update_A_jun2007 (for core_A) is installed and renames folder_A to folder_B.<br />
3) core_B_may2007 is installed (to the same dir), and puts some files in folder_A.<br />
4) update_B_jun2007 (for core_B) is installed, it tries to rename folder_A to folder_B but can't...<br />
<br />
when the second update is installed, it needs to<br />
1) move files to folder_B, despite whether or not the folder exists (perhaps copyfiles and rmdir would work better for this)<br />
2) only overwrite files when newer (setoverwrite ifnewer kind of thing)<br />
<br />
how do i do this? please help.<br />
<br />
the only way to get around it is to include all file in the renamed dir's in the update releases and delete the dir's under the old names, but thats a lot of files and will severely increase the filesize's (talking like an additional 70MB!)...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">20th June 2007, 22:22</div></div><div class="posttext">The same question was asked here:<br />
http://forums.winamp.com/showthread.php?threadid=270911<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theblazingangel</div><div class="date">9th July 2007, 20:09</div></div><div class="posttext">i ended up coding my own solution for this. i thought it might be helpful to others if i posted my code.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">almeizer</div><div class="date">12th June 2009, 03:51</div></div><div class="posttext">Hi, i got this error when trying to compile :<br />
<br />
Error: command StrCpy not valid outside Section or Function<br />
<br />
I'm using version 2.44. I also tried to move the StrCpy line into Section but seem other error rise :<br />
<br />
!include: &quot;D:\Programs\NSIS\Include\MoveFileFolder.nsh&quot;<br />
Function: &quot;.MoveFolder_Locate_createDir&quot;<br />
Invalid command: ${If}<br />
!include: error in script: &quot;D:\Programs\NSIS\Include\MoveFileFolder.nsh&quot; on line 173<br />
Error in script &quot;C:\Documents and Settings\Mr.J\Desktop\Installer Shield Project\example2.nsi&quot; on line 32 -- aborting creation process<br />
<br />
Any advice?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th June 2009, 08:46</div></div><div class="posttext">!include LogicLib.nsh</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>