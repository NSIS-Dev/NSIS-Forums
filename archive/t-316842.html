<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS Ansi+Unicode hybrid, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS Ansi+Unicode hybrid NSIS Discussion" />
	
	<title> NSIS Ansi+Unicode hybrid [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS Ansi+Unicode hybrid</div>
<hr />
<div class="pda"><a href="t-316842.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316842">NSIS Ansi+Unicode hybrid</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">6th February 2010, 15:08</div></div><div class="posttext">I have been playing with the idea of having both A and U NSIS installed in the same directory (Sharing examples,includes etc)<br />
<br />
Currently, only simple scripts work. It does this by using hacked versions of makensis that look for their stubs and plugins in separate sub directories. The main makensis.exe has been replaced by a small loader that tries to figure out if the .nsi has a BOM (It also supports /ANSI or /UNICODE as the first parameter on the command line)<br />
<br />
Grab the experimental installer (http://stashbox.org/785486/NSIS%20Unofficial%20setup%20%282.46A%2C2.45.1U%29.exe)  if you want to play with it (Do NOT overwrite you normal NSIS install, you also probably want to uncheck startmenu and shell integration during install)<br />
<br />
Current issues include:<br />
<br />
 ReserveFile calls fail for plugins<br />
 Only ANSI language files are installed and I'm not sure if the unicode compiler is able to pull out the codepage from the .nlf and do proper conversion to unicode, it seems to prefer a BOM (So unicode is pretty much broken when it comes to languages that are not ASCII)<br />
 <br />
<br />
If the official distribution is ever going to support this, we would need two new defines that MUI and other things can use: NSIS_PLUGINSDIR and NSIS_LANGDIR (Defines would be set by the compiler at runtime) (It would be possible for my loader to set these, but there is no support anywhere for them so I would have to patch MUI also, might do that in the future if there is any demand for it)<br />
<br />
NB: This configuration is in no way supported by anyone and should only be used to play around and experiment ;)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>