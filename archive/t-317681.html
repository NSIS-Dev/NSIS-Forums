<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" RMDir switches, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  RMDir switches NSIS Discussion" />
	
	<title> RMDir switches [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  RMDir switches</div>
<hr />
<div class="pda"><a href="t-317681.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=317681">RMDir switches</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">SteveRussell</div><div class="date">13th March 2010, 03:11</div></div><div class="posttext">I'm trying to discern the drawbacks of using /r and /REBOOTOK with RMDir. I haven't gotten very far, even after reading some older posts and concerns.<br />
<br />
Could someone please advise me on how to decide on whether to use these switches in my installers?<br />
<br />
Thank you very much.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">14th March 2010, 11:31</div></div><div class="posttext">Not much of a problem with using rebootok, except maybe that it'll pop up a 'reboot?' question on the finish page. /r however is EXTREMELY dangerous. It will delete any files, even if they don't belong to your software. Let's say your uninstaller.exe is moved from your application's directory to c:\windows. The $instdir variable will then be C:\windows as far as your uninstaller is concerned. So the command 'RmDir $INSTDIR /r' will delete ALL files and subfolders of C:\windows. You do not want this to be possible, not even in a very unlikely scenario.<br />
<br />
Even if you add a verification for the value of $instdir, /r is dangerous. If a user installs/copies something to your installation directory, they do not expect that to be deleted automatically when they uninstall your product. Same problem if some idiot installs your software to an already existing directory (like C:\Program Files).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>