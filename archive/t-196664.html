<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" strcmp problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  strcmp problem NSIS Discussion" />
	
	<title> strcmp problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  strcmp problem</div>
<hr />
<div class="pda"><a href="t-196664.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=196664">strcmp problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Rolando</div><div class="date">17th October 2004, 10:16</div></div><div class="posttext">I'm trying to read a certain line from a text file to see if it needs replacing or not. Here's the code I'm using:<br />
<br />
Push 1484<br />
Push &quot;$TEMP\923.txt&quot;read<br />
Call ReadFileLine<br />
Pop $0<br />
StrCmp $0 &quot;                                        &lt;png layoutpos=bottom contentalign=bottomright flip=false idres=100 alpha=40 padding=rect(0,0,18,0)/&gt;&quot; dontreplace replace<br />
<br />
The problem is that even though the 2 strings are equal, it still goes to the replace label instead of the dontreplace. Where did I go wrong ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th October 2004, 10:35</div></div><div class="posttext">Try:<br />
<br />
Push 1484<br />
Push &quot;$TEMP\923.txt&quot;<br />
 Call ReadFileLine<br />
Pop $0<br />
Push $0<br />
 Call TrimNewLines<br />
Pop $R0<br />
StrCmp $0 &quot;                                        &lt;png layoutpos=bottom contentalign=bottomright flip=false idres=100 alpha=40 padding=rect(0,0,18,0)/&gt;&quot; dontreplace replace<br />
<br />
You need the TrimNewLines function (from NSIS docs / archive)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rolando</div><div class="date">17th October 2004, 10:49</div></div><div class="posttext">Nope. It still goes to the replace label each time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rolando</div><div class="date">17th October 2004, 11:50</div></div><div class="posttext">I figured it out. You probably ment:<br />
StrCmp $R0 ...<br />
<br />
It works that way. Thanks !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th October 2004, 12:06</div></div><div class="posttext">Oh yes, you are correct. Actually...<br />
<br />
Pop $0<br />
StrCmp $0 ...<br />
<br />
...would be better (re-use same variable)<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>