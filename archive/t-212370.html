<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer Closes Without notice.., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer Closes Without notice.. NSIS Discussion" />
	
	<title> Installer Closes Without notice.. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer Closes Without notice..</div>
<hr />
<div class="pda"><a href="t-212370.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=212370">Installer Closes Without notice..</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Sam_Engenuity</div><div class="date">5th April 2005, 16:57</div></div><div class="posttext">My installer calls a dll however after calling it, the installer closes by itself.<br />
Is there a way to stop that? is that an error? plz help<br />
Thank you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sam_Engenuity</div><div class="date">5th April 2005, 18:13</div></div><div class="posttext">I fixed the previous problem, but now i got a similar problem. If i put ?u at the end of the system call... the installer closes by itself.<br />
Thx for the help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sam_Engenuity</div><div class="date">5th April 2005, 18:47</div></div><div class="posttext">Problem fixed<br />
Thank you anyways!<br />
<br />
However i got another problem now, which might be way easier to solve. The problem is... i have to see if a directory in the registry exists.<br />
How can i do this?<br />
Thanks again!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rsegal</div><div class="date">5th April 2005, 19:53</div></div><div class="posttext">Get the folder you want to test for existence from the registry then make a call to IfFileExists using that folder name and tack on &quot;*.*&quot; as the filter.  <br />
<br />
<br />
IfFileExists &quot;&lt;my-registry-folder&gt;\*.*&quot; 0 +2<br />
print &quot;Hey I found the folder!&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sam_Engenuity</div><div class="date">5th April 2005, 21:01</div></div><div class="posttext">rsegal i understand what you mean ... however its not working could you give me a better example...<br />
Thanks again!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rsegal</div><div class="date">6th April 2005, 16:31</div></div><div class="posttext">Originally posted by Sam_Engenuity <br />
rsegal i understand what you mean ... however its not working could you give me a better example...<br />
Thanks again!  <br />
<br />
What's not working for you specifically?  Does the script you create not compile?  Is the call to IfFileExists not working for you?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sam_Engenuity</div><div class="date">6th April 2005, 16:52</div></div><div class="posttext">Everything runs fine, thats not the problem, the problem is i dont understand the code example your wrote<br />
<br />
IfFileExists &quot;&lt;my-registry-folder&gt;\*.*&quot; 0 +2<br />
print &quot;Hey I found the folder!&quot;<br />
<br />
What did you mean by &quot;My registry folder&quot;, How can i put a folder from the registry in the IfFileExists?<br />
<br />
Heres an example of what i wrote that doesnt work<br />
         IfFileExists &quot;HKCU Software\XXXX\XX&quot; 0 +2<br />
         messagebox MB_OK &quot;Hey I found the folder!&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rsegal</div><div class="date">6th April 2005, 17:30</div></div><div class="posttext">Originally posted by Sam_Engenuity <br />
Everything runs fine, thats not the problem, the problem is i dont understand the code example your wrote<br />
<br />
IfFileExists &quot;&lt;my-registry-folder&gt;\*.*&quot; 0 +2<br />
print &quot;Hey I found the folder!&quot;<br />
<br />
What did you mean by &quot;My registry folder&quot;, How can i put a folder from the registry in the IfFileExists?<br />
<br />
Heres an example of what i wrote that doesnt work<br />
         IfFileExists &quot;HKCU Software\XXXX\XX&quot; 0 +2<br />
         messagebox MB_OK &quot;Hey I found the folder!&quot;  <br />
<br />
Ok I understand now.  You need to first read your folder from the registry using a call to ReadRegStr...<br />
<br />
ReadRegStr $R0 HKCU &quot;Software\XXXX\XX&quot; &quot;&lt;folder-registry-value&gt;&quot;<br />
<br />
Where &lt;folder-registry-value&gt; is the name of the regsitry value that contains the folder name.  Check the docs on ReadRegStr for more details on how it works.<br />
<br />
NSIS online docs (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.2) <br />
<br />
Once you have the folder name in a register like $R0 as I've demonstrated above you can use that in the call to IfFileExists...<br />
<br />
IfFileExists &quot;$R0\*.*&quot; 0 +2<br />
<br />
Again consult the docs on IfFileExists for how it works.  The first param is the file you want to check for existance of which in my example case is stored in $R0.  We append the &quot;\*.*&quot; because we are looking for a folder.  Note that you may not need to append the backslash depending on how your folder is stored in the register.  If you don't need to append it you would just append &quot;*.*&quot; to your folder name.  The second parameter is a relative jump for where you want to go if the folder was found.  The third parameter is a relative jump for where you want to go if the folder wasn't found.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sam_Engenuity</div><div class="date">6th April 2005, 20:38</div></div><div class="posttext">Thanks alot for your help! it works!!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>