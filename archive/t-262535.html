<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ExecWait: Bypass Executed Wrapper and Capture Actual Setup?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ExecWait: Bypass Executed Wrapper and Capture Actual Setup? NSIS Discussion" />
	
	<title> ExecWait: Bypass Executed Wrapper and Capture Actual Setup? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ExecWait: Bypass Executed Wrapper and Capture Actual Setup?</div>
<hr />
<div class="pda"><a href="t-262535.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=262535">ExecWait: Bypass Executed Wrapper and Capture Actual Setup?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">27th December 2006, 05:32</div></div><div class="posttext">Hi,<br />
what I'm trying to achieve is this: As you probably know, Firefox uses NSIS to install, though, the actual installer is wrapped into a 7z sfx module that extracts the installer in $TEMP, execute it and then removes the files from $TEMP and terminates. This wrapper always returns 0, even if the user has canceled the installation.<br />
In my setup, I download firefox, install it, and continue the installation depended that firefox is already successfully installed. I prefer to show firefox installation window to the end users, so they have the choise to select installation's options, rather than execute the firefox installer silently with -ms parameter. The problem here is this, if for some reason, the end users cancel firefox installation, I'm not able to capture it, because the wrapper returns 0 anyway.<br />
I'm thinking of 2 works around of this issue. The 1st is after firefox installer execution to read the registry and find if firefox installed/updated, if not, then halt my setup and pop up a warning. This one I can achieve easily.<br />
The 2nd is to exec the wrapper and start a loop over the actual firefox installer window while it is running, and grab its output once the window is closed. This is what actually I'm trying to achieve.<br />
As mentioned, this window is a NSIS installer, so when it closes it returns errorlevel. So, how I would be able to capture this output from my NSIS installer?<br />
Suggestions are welcome plz.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th December 2006, 10:30</div></div><div class="posttext">For this specific case, I don't know any switches you can pass the wrapper so it'd wait for the internal setup. But as you know what the wrapper is, you can unwrap it yourself using 7z.exe and then execute the internal setup using ExecWait. For other cases, there's unattended (http://unattended.sourceforge.net/installers.php).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">29th December 2006, 11:25</div></div><div class="posttext">But as you know what the wrapper is, you can unwrap it yourself using 7z.exe and then execute the internal setup using ExecWait.<br />
Hi kichik,<br />
Always glad to see you around :-)<br />
I'm afraid the work around you mentioned is the obvious one, that's why I haven't think about it :-)<br />
<br />
BTW 1 Plz let me know what you suggest as more accurate work around, this one or the registry thing that I mentioned above?<br />
<br />
BTW 2 I have another desperate query here  http://forums.winamp.com/showthread.php?s=&amp;threadid=262083 , could you take a look if you don't mind?<br />
<br />
regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th December 2006, 12:32</div></div><div class="posttext">Unpacking the internal setup is much safer and easier to do. Instead of looping through the registry, you simply ExecWait.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>