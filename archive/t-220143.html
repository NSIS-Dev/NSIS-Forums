<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" some problems during compilation time, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  some problems during compilation time NSIS Discussion" />
	
	<title> some problems during compilation time [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  some problems during compilation time</div>
<hr />
<div class="pda"><a href="t-220143.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=220143">some problems during compilation time</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Karel Maèl</div><div class="date">28th June 2005, 19:09</div></div><div class="posttext">Hello,<br />
<br />
	I have got the task to create an installer for our firm that processes an definition file of the information system (.ini file) and from this file finds out which files and from where then to pack and where then to unpack. At the beginning of this file some variables are defined which <br />
are then used. As I have found out it can not be done much during compilation phase. So I would like to ask if it is possible :<br />
<br />
1. To load particular paths to the files (with *.* convention) from the *.ini file to a variable and <br />
then to give this variable to the command File (I have got it in the variable $LiNE and the command File $LINE does not work).<br />
<br />
2. To use parameters of the command line during the compilation time (I am interested in values given <br />
to the program makeMSIS.exe and not to the generated one as setup.exe) like the type of installation <br />
(accession (patch) or full) and the name of .ini file (in this .ini file the installation process of <br />
the information system is defined).<br />
<br />
3. To generate log. file during the compilation time (we call it &quot;the packing distribution time&quot;)<br />
that contains the information which files were successfully packed.<br />
<br />
Best regards, <br />
<br />
Karel Maèl, Czech Republic.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">28th June 2005, 20:22</div></div><div class="posttext">To read from INI files, use ReadINIStr which is, however, a run-time command. Therefore you need to check this out:<br />
http://nsis.sourceforge.net/wiki/Invoking_NSIS_run-time_commands_on_compile-time<br />
<br />
You could use compile-time statements to decide what kind of installer to make, which should be triggered by defining a constant via the command-line by using the /D switch, but I'd say it would be much cleaner to just use two NSI scripts (save a load of time too).<br />
<br />
For logs, you could run MakeNSIS.exe in command-prompt and send the output to a text file using &gt;&gt; (I think).<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>