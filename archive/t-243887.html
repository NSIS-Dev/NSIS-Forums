<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Couple questions: trialware and admin user, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Couple questions: trialware and admin user NSIS Discussion" />
	
	<title> Couple questions: trialware and admin user [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Couple questions: trialware and admin user</div>
<hr />
<div class="pda"><a href="t-243887.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=243887">Couple questions: trialware and admin user</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Tom Redyns</div><div class="date">19th April 2006, 01:32</div></div><div class="posttext">Hello,<br />
<br />
I've been reading the NSIS and haven't quite found an answer to the following questions pertaining to my desktop installer. The questions are:<br />
<br />
1. What type of NSIS strategy can I user to do a &quot;15&quot; day trialware installasion? <br />
<br />
2. Upon reinstalling on the 20th day, still disallow the user to use the application until they purchase a license?<br />
<br />
3. How do I mandate that the user installing my desktop application has administrator or administrator group acccess?<br />
<br />
4. How do I ensure my installation allows all users for the desktop to use the application? <br />
<br />
Thanks...Tom</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">19th April 2006, 02:50</div></div><div class="posttext">3. How do I mandate that the user installing my desktop application has administrator or administrator group acccess?<br />
<br />
4. How do I ensure my installation allows all users for the desktop to use the application?<br />
For case 3 and case 4 look here (http://nsis.sourceforge.net/Category:User_Accounts_Related_Functions)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sissy</div><div class="date">19th April 2006, 03:03</div></div><div class="posttext">1. What type of NSIS strategy can I user to do a &quot;15&quot; day trialware installasion? <br />
<br />
2. Upon reinstalling on the 20th day, still disallow the user to use the application until they purchase a license?<br />
<br />
I personally would build this function into the application itself not the installer code.<br />
<br />
Your application is going to have to read an import the license details as once its installed it will be the only code executing.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tom Redyns</div><div class="date">19th April 2006, 21:58</div></div><div class="posttext">Originally posted by Red Wine <br />
For case 3 and case 4 look here (http://nsis.sourceforge.net/Category:User_Accounts_Related_Functions)  <br />
<br />
Thank you very much. I'll look into this.<br />
<br />
Tom</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tom Redyns</div><div class="date">19th April 2006, 22:06</div></div><div class="posttext">Originally posted by sissy <br />
I personally would build this function into the application itself not the installer code.<br />
<br />
Your application is going to have to read an import the license details as once its installed it will be the only code executing.  <br />
<br />
Yes I agree with building this functionality into my application. I do plan on making a new trialware release nightly and automatically uploading that to my website's &quot;download trialware&quot; webpage. <br />
<br />
However, if the same user downloads my demo after &quot;20&quot; days and do a re-install they will have a new &quot;15&quot; demo. There was nothing saved to the desktop machine on the first installation.<br />
<br />
A little history about myself: I've done 8+ years of Java desktop application for companies not needing installation (this application is my first installable desktop application). <br />
<br />
I believe the answer lies within the Windows Registry and I've read alot of documentation about NSIS and it's registry function names. However I've read alot about if you screw-up your registry you can screw up your machine to where it won't boot. There exists alot of trialware software out there and would seem the strategy of actually implementing the trialware concept is common knowledge. However I'm having trouble researching the topic to get a better understanding of the concept. And thus the question posted to NSIS.<br />
<br />
Thanks...Tom</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dandaman32</div><div class="date">20th April 2006, 01:24</div></div><div class="posttext">I've written a proprietary NSIS library that can store info in the registry and use activation keys with check digits and expiration after a certain amount of time - contact me (http://xpui.sourceforge.net/experienceui/contact) for licensing details. It's not free because I use the code for my installer dev services and I can't make it widely available for download.<br />
<br />
-dandaman32</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Neuron</div><div class="date">20th April 2006, 05:14</div></div><div class="posttext">Messing up around with the registry is somewhat risky and makes user system slower in the end, a good idea but not the safer way I think.<br />
<br />
In my Trialware I prefer to do a &quot;secret&quot; 'CreateFile()' on system folder, into this file you might save a struct containing a simple 'Int' or many other variables you should need. Then, everytime the program loads it should read this struct from file, incrementing the secret 'Int' by 1 until you decide how many times you let the user to use the program, of course you could make the file with hidden attribute so it helps a little bit with our stealth technique xD. Use something like .raw, .iso, .img or the like in file extension, avoinding executable ones.<br />
<br />
Uninstaller should not delete this *secret* file in the system folder, so, everytime user installs your prog in same PC, the program will detect in structure the Trial end.<br />
<br />
I prefer to use 'Execution counting' than 'Trial days' counting, cause in the last case, you need to use system clock to keep a solid counting, or having your app to add hours while executing and saving them to a file(whatta mess!) cause you never know if user will use some app to cheat your program about time anyway, or even worst PC system clock might be failing(low battery). <br />
<br />
Many advanced software vendors use this file technique, cause otherwise the only thing that gets bloated up is the system or windows folder, not the sensitive, angrier and fragmentable Windows Registry. Furthermore, a good registry cleaner could delete this ghost Trial entry.<br />
<br />
For better results I strongly recommend to use Win32 API,<br />
stable, quicker, the best multiplatform solution.<br />
<br />
Cheerz!<br />
<br />
Prex In Aeternum.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tom Redyns</div><div class="date">25th April 2006, 02:11</div></div><div class="posttext">Originally posted by Red Wine <br />
For case 3 and case 4 look here (http://nsis.sourceforge.net/Category:User_Accounts_Related_Functions)  <br />
<br />
Thanks for the answer to #3. I've incorporated it. <br />
<br />
However I'm at a loss for the script to have my install take affect for all users. I'd like to have my desktop icon placed on the desktop as well as the Start/Programs to list my program's entry.<br />
<br />
Thanks...Tom</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tom Redyns</div><div class="date">25th April 2006, 03:16</div></div><div class="posttext">Originally posted by Tom Redyns <br />
Thanks for the answer to #3. I've incorporated it. <br />
<br />
However I'm at a loss for the script to have my install take affect for all users. I'd like to have my desktop icon placed on the desktop as well as the Start/Programs to list my program's entry.<br />
<br />
Thanks...Tom  <br />
<br />
The answer to my issue is to do the following right before I do my <br />
<br />
CreateDirectory &quot;$SMPROGRAMS\...&quot; <br />
CreateShortCut &quot;$SMPROGRAMS\...&quot;<br />
<br />
with<br />
<br />
SetShellVarContext all<br />
<br />
Thanks...Tom</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>