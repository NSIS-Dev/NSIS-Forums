<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" A few questions about SetBkColor, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  A few questions about SetBkColor NSIS Discussion" />
	
	<title> A few questions about SetBkColor [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  A few questions about SetBkColor</div>
<hr />
<div class="pda"><a href="t-130175.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=130175">A few questions about SetBkColor</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th March 2003, 15:57</div></div><div class="posttext">1. What is the color format for SetBkColor?<br />
2. <br />
<br />
Sets a background color for a static control, edit control, button or a dialog<br />
<br />
Can we use it to paint the hole dialog? :D how?<br />
<br />
PS1: Already attempting to paint the edit box <br />
for the dir. installation, and it's working :up: .<br />
<br />
PS2: I've been promoted as Major Dude :D :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th March 2003, 16:06</div></div><div class="posttext">Like controls dialogs have a HWND too. For example, the outer dialog's HWND is $HWNDPARENT.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th March 2003, 16:27</div></div><div class="posttext">Ok, thanks ... I can change the rest of the statics bgcolors <br />
in the dialog, license, components, etc<br />
to be the same of the $HWNDPARENT; <br />
but the in startmenu dialog, how can we change the static labels and <br />
buttons bgcolors?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th March 2003, 16:31</div></div><div class="posttext">StartMenu doesn't support SetBkColor yet. Put a feature request on SF.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th March 2003, 18:35</div></div><div class="posttext">Ok, also for the labels for the &quot;Agree or No Agree&quot; in License<br />
page<br />
<br />
:p</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th March 2003, 18:39</div></div><div class="posttext">Those are buttons with the IDs 1034 for I Agree and 1035 I Disagree. They support color changes too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th March 2003, 19:33</div></div><div class="posttext">Ok, I almost done with<br />
the &quot;painting&quot; :D<br />
<br />
But, who can I change the part with the labels<br />
<br />
See screenshot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th March 2003, 19:37</div></div><div class="posttext">Look for FindWindow in System.nsh. It finds HWNDs inside the inner dialog and sets their texts. Use the same only with SetBkColor instead of SendMessage WM_SETTEXT.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th March 2003, 20:10</div></div><div class="posttext">Not all the inner dialgos has it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th March 2003, 20:12</div></div><div class="posttext">Not all the inner dialgos has it<br />
<br />
<br />
Push ${MUI_TEMP1}<br />
<br />
    FindWindow ${MUI_TEMP1} &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
    GetDlgItem ${MUI_TEMP1} ${MUI_TEMP1} ${CONTROL}<br />
    SendMessage ${MUI_TEMP1} ${WM_SETTEXT} 0 &quot;STR:${TEXT}&quot;<br />
    <br />
  SetBkColor ${MUI_TEMP1} ${NsisColor} ; Nsiscolor is 0x009c9485<br />
<br />
  Pop ${MUI_TEMP1}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th March 2003, 20:12</div></div><div class="posttext">Has what? HWNDs? Every window including buttons, text boxes, dialogs, Internet Explorer windows and even the desktop has a HWND.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th March 2003, 20:30</div></div><div class="posttext">Oops! <br />
I forgot to put &quot;Not all the inner text has the BGcolor&quot;<br />
See past post for the screenshot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th March 2003, 20:37</div></div><div class="posttext">Did you set the color using SetBkColor? I have mentioned the IDs of the radio buttons in the above post. You can get the rest using resource hacker.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">29th March 2003, 23:51</div></div><div class="posttext">Yes! <br />
I almost done it :D<br />
<br />
But still some areas :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th March 2003, 13:11</div></div><div class="posttext">Don't forget to set the inner dialog's color. BTW, you can't change the background color of the branding text thanks to some &quot;nice&quot; Windows limitations.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">30th March 2003, 15:51</div></div><div class="posttext">Ok, after hours my &quot;touchie&quot; hurts :D<br />
What's the ID for the inner dialog and where I should put it?<br />
In &quot;.onInit&quot; or &quot;.onGUIInit&quot;<br />
I'm trying this:<br />
<br />
FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $0 $0 1044<br />
SetBkColor $0 0x00FFFFFF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th March 2003, 15:56</div></div><div class="posttext">The inner dialog is what you find using FindWindow. The first $0 in the above script of yours.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th March 2003, 16:41</div></div><div class="posttext">This sure looks nice!<br />
<br />
What colour code would you be using by any chance, since if I use anything other than 0xFFFFFF (same as 0x00FFFFFF) then it goes black.<br />
<br />
-Stuart</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">30th March 2003, 18:31</div></div><div class="posttext">!define NsisColor &quot;0x009c9485&quot;<br />
<br />
!define MUI_CUSTOMFUNCTION_GUIINIT &quot;PaintME&quot;<br />
<br />
Function &quot;PaintME&quot;<br />
SetBkColor $HWNDPARENT ${NsisColor}<br />
GetDlgItem $0 $HWNDPARENT 1 ;button<br />
SetBkColor $0 ${NsisColor}<br />
GetDlgItem $0 $HWNDPARENT 2 ;Button<br />
SetBkColor $0 ${NsisColor}<br />
GetDlgItem $0 $HWNDPARENT 3 ;Button<br />
SetBkColor $0 ${NsisColor}<br />
FunctionEnd<br />
<br />
Did you manage to paint the hole installer?<br />
Can we see some screenshots?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>