<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS Error in uninstaller, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS Error in uninstaller NSIS Discussion" />
	
	<title> NSIS Error in uninstaller [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS Error in uninstaller</div>
<hr />
<div class="pda"><a href="t-352392.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=352392">NSIS Error in uninstaller</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">22nd November 2012, 11:34</div></div><div class="posttext">When I was playing around with the problem in this thread (http://forums.winamp.com/showthread.php?t=352389), I ran into something rather strange.<br />
<br />
Code:<br />
<br />
outfile &quot;d:\test.exe&quot;<br />
page instfiles<br />
UninstPage instfiles<br />
<br />
section<br />
writeuninstaller &quot;d:\untest.exe&quot;<br />
sectionend<br />
<br />
Section &quot;Uninstall&quot;<br />
MessageBox MB_OK &quot;Working&quot;<br />
SectionEnd<br />
<br />
The installer works fine, but the generated uninstaller throws an NSIS Error (&quot;Error launching installer&quot;). Using NSIS 2.46 and NSIS 2.46-Unicode. Can anyone reproduce?<br />
<br />
<br />
Edit: Moving untest.txt to a d:\subdir, the uninstaller works fine. This could suggest a permissions issue, but what could the uninstaller be trying to do that would lead to a CRC error?<br />
Some details: The Authenticated Users group has everything except Full Control on d:\, while the Users group has only 'read &amp; execute', 'list folder contents' and 'read' access. I'm logged in as a userlevel user.<br />
<br />
Another thing I can imagine is a backslashes issue, something like trying and failing to access d:untest.exe.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">29th November 2012, 16:40</div></div><div class="posttext">allowrootdirinstall true</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">30th November 2012, 08:38</div></div><div class="posttext">Indeed. I'm filing this one as a bug though, because the manual strongly suggests this command is only related to the directory page. In any case, this should not cause the uninstaller to fail launch.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">30th November 2012, 09:03</div></div><div class="posttext">How will the uninstaller end up in the root if the user cannot install there? I'm thinking this is by design. (The uninstaller specific startup code checks the path on purpose)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">30th November 2012, 10:01</div></div><div class="posttext">The problem isn't coming up with crazy installation scenarios where the uninstaller might end up in root. If I don't even have a directory page to begin with, and installation to a root proceeds just fine, how am I supposed to realize that uninstallation from a root is not possible without allowrootdirinstall? The problem is that the uninstaller doesn't throw any recognizable error, and fails to launch completely. If it's hardwired to disallow root uninstall, it should say that instead of 'NSIS Error'.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>