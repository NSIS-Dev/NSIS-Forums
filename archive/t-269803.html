<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Dynamic variable for use with InstTypeSetText, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Dynamic variable for use with InstTypeSetText NSIS Discussion" />
	
	<title> Dynamic variable for use with InstTypeSetText [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Dynamic variable for use with InstTypeSetText</div>
<hr />
<div class="pda"><a href="t-269803.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=269803">Dynamic variable for use with InstTypeSetText</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Chappe</div><div class="date">19th April 2007, 13:49</div></div><div class="posttext">Is there any way to declare or use arrays (as in C/C++), because InstTypeSetText needs a variable. This global setup will read installtypes (1..100) from ini-file.<br />
I know there are a NSISArray, but can't use it with InstTypeSetText<br />
<br />
Some of the code I want to fix:<br />
<br />
Var varSetupTypes[100]   &lt;--- Will not work in NSIS<br />
<br />
<br />
StrCpy $varSetupIndex 0<br />
  LoopSetupTypes_Begin:<br />
     Push $varSetupIndex<br />
<br />
     Call Function_ReadSetupTypeData<br />
<br />
     ${If} $varSetupIndex = 100<br />
        Goto LoopSetupTypes_End<br />
     ${EndIf}<br />
     <br />
     IntOp $varSetupIndex $varSetupIndex + 1<br />
     Goto LoopSetupTypes_Begin<br />
  LoopSetupTypes_End:<br />
<br />
Function Function_ReadSetupTypeData<br />
<br />
  Var /GLOBAL varType<br />
 <br />
  Pop $0 //1st time it's 0, 2nd it's 1 and so on<br />
<br />
  StrCpy $varType ${defIniFile_Type}$0<br />
    <br />
  ReadINIStr $varSetupTypes[$0] ..\setup.ini &quot;Setup Types&quot; $varType<br />
<br />
  InstTypeSetText $0 $varSetupTypes[$0]<br />
<br />
FunctionEnd<br />
<br />
We have a working global setup in InstallShield, but we want to move to NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th April 2007, 18:26</div></div><div class="posttext">Nope, no array support. You'll have to use a custom page to display the combo box or wait for the InstTypeSetText issue (http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1423280&amp;group_id=22049&amp;atid=373085) to be resolved.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>