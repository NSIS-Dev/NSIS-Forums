<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Checkboxes, after install function and app launch??, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Checkboxes, after install function and app launch?? NSIS Discussion" />
	
	<title> Checkboxes, after install function and app launch?? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Checkboxes, after install function and app launch??</div>
<hr />
<div class="pda"><a href="t-314587.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=314587">Checkboxes, after install function and app launch??</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mindwarp</div><div class="date">13th November 2009, 22:23</div></div><div class="posttext">I'm pulling my hair out, I can't figure why this isn't working.<br />
<br />
I want to have 3 checkboxes on my final screen, one to run my app and two others which store data to a file.<br />
<br />
If I add MUI_FINISHPAGE_RUN to finish page my function doesn't get called and it doesn't launch my program, but if I don't add it it says &quot;install function write_run&quot; not referenced.<br />
<br />
I've actually tried manually adding the checkbox for the run option myself...<br />
<br />
Help!<br />
<br />
; Finish page<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE fin_checkboxes<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW fin_show<br />
!define MUI_FINISHPAGE_RUN_FUNCTION write_run<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
Function write_run<br />
  SetOutPath &quot;$INSTDIR&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 7&quot; &quot;State&quot;<br />
  ReadINIStr $2 &quot;$PLUGINSDIR\iospecial.ini&quot; &quot;Field 8&quot; &quot;State&quot;<br />
  FileOpen  $0 $INSTDIR\settings.dat&quot; w<br />
  FileWrite $0 'one=$1$\r$\n'<br />
  FileWrite $0 'twu=$2$\r$\n'<br />
  FileClose $0<br />
  ReadINIStr $MUI_TEMP1 &quot;$PLUGINSDIR\ioSpecial.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
  StrCmp $MUI_TEMP1 &quot;1&quot; 0 mui.finish_norun<br />
  StrCpy $MUI_TEMP1 &quot;$\&quot;&quot;$INSTDIR\myprog.exe&quot;$\&quot;&quot;<br />
  Exec &quot;$MUI_TEMP1&quot;<br />
  mui.finish_norun:<br />
FunctionEnd<br />
 <br />
<br />
Hope someone can help :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">13th November 2009, 22:41</div></div><div class="posttext">You already have a thread about this problem, please don't post things twice. (And please, often it's better to edit the existing post, rather than to keep replying to your own thread...)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mindwarp</div><div class="date">14th November 2009, 08:12</div></div><div class="posttext">Well I didn't get a reply, I thought if I rephrased the question. :(<br />
<br />
EDIT: I have added to the threads and go no reply either.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">14th November 2009, 08:47</div></div><div class="posttext">I'll agree that this thread has been phrased more clearly. So since it's already on top anyway, I'll reply here.<br />
<br />
MUI_FINISHPAGE_RUN_FUNCTION defines the function that is called only when the RUN checkbox is ENABLED. So if you enable checkboxes 1&amp;2, but not checkbox Run, the function will not be called. If you want to process all three checkboxes properly, use the page's leave function instead.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mindwarp</div><div class="date">14th November 2009, 08:59</div></div><div class="posttext">Thanks, that fixed it.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>