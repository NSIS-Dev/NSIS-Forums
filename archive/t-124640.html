<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Sections greyed out, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Sections greyed out NSIS Discussion" />
	
	<title> Sections greyed out [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Sections greyed out</div>
<hr />
<div class="pda"><a href="t-124640.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=124640">Sections greyed out</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Rovastar</div><div class="date">11th February 2003, 01:46</div></div><div class="posttext">MOre questions....<br />
<br />
I am getting the hang of NSIS stuff now well maybe. :)<br />
<br />
OK sections.<br />
<br />
I understand a bit of teh section stuff but I cannot make it do what I want.<br />
<br />
I want to grey out boxes and have hem set to unticked.<br />
<br />
Most greyed out check boxes are for required components but I wanrt it to be grey out and unticked. It is preverse settings if the program is already installed. If the app has not been installed then I do not want the check box to be enabled.<br />
<br />
Is this possible with NSIS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">djc</div><div class="date">11th February 2003, 03:29</div></div><div class="posttext">Sure. It involves some &quot;bit banging&quot; and program logic on your part.<br />
<br />
Have a look at the doco file &quot;NSIS/Examples/one-section.nsi&quot;.<br />
<br />
Also have a look at the functions SectionGetFlags/SectionSetFlags</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th February 2003, 15:16</div></div><div class="posttext">Set the section's style to SF_RO alone (no SF_SELECTED). To do this, you'll need SectionSetFlags as djc said. The exact code is:<br />
<br />
SectionSetFlags ${section} ${SF_RO}<br />
<br />
SF_RO is defined in one-section.nsi among other places.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">14th February 2003, 21:21</div></div><div class="posttext">so... what's the flag for autoselect the section but still, we<br />
can uncheck it.... I try ALL the flags, but the autoselect<br />
(Read only), can't be uncheck... :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2003, 22:22</div></div><div class="posttext">Give it only SF_RO and no SF_SELECTED and it will be RO but not selected.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rovastar</div><div class="date">22nd February 2003, 23:08</div></div><div class="posttext">Thanks for the help folks but I am still none the wiser. :( I had already seen the set flags things.<br />
<br />
I have only had chance to look at this recently.<br />
<br />
now how does this work......<br />
<br />
I have the simplest script I can think of and it still does not work. No checking nothing just the section options for the one example. It stil does not work. :(<br />
<br />
<br />
I presume that a line like <br />
SectionSetFlags &quot;sec4&quot; $SF_RO<br />
<br />
should be put in the relevant section?? WEll if I put it outside teh section it does not compile (it equates SF_RO though). :( <br />
<br />
But in the section it cannot equate what the constant/variable SF_RO is (WTF that doesn't make sense at all....:confused: ) so for this example I have used the actual decimal values. But nothing. :( It appears both selected AND not greyed out AND you can toggle it......<br />
<br />
Am I doing something stupidly wrong or what?<br />
<br />
The script. <br />
<br />
-----<br />
<br />
Name example<br />
OutFile one-section.exe<br />
<br />
ComponentText &quot;please choose just one but the default&quot;<br />
<br />
!define SF_SELECTED   1<br />
!define SF_SUBSEC     2<br />
!define SF_SUBSECEND  4<br />
!define SF_BOLD       8<br />
!define SF_RO         16<br />
!define SF_EXPAND     32<br />
<br />
!define SECTION_OFF   0xFFFFFFFE<br />
<br />
Section !Required<br />
	SectionIn RO<br />
SectionEnd<br />
<br />
;SectionSetFlags sec4 SF_RO<br />
<br />
Section &quot;optional #1&quot; sec1<br />
SectionEnd<br />
<br />
Section &quot;optional #2&quot; sec2<br />
SectionEnd<br />
<br />
Section &quot;optional #3&quot; sec3<br />
SectionEnd<br />
<br />
Section &quot;optional #4&quot; sec4<br />
;SectionSetFlags &quot;sec4&quot; $SF_RO<br />
SectionSetFlags &quot;sec4&quot; 16<br />
SectionEnd<br />
<br />
;SectionSetFlags &quot;sec4&quot; $SF_RO<br />
<br />
any ideas..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rovastar</div><div class="date">22nd February 2003, 23:31</div></div><div class="posttext">wait becoming clearer with the oninit function.... Aha can get it to grey things out. <br />
<br />
Thanks folks.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>