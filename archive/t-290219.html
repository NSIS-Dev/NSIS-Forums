<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" High CPU usage on Vista with System plugin, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  High CPU usage on Vista with System plugin NSIS Discussion" />
	
	<title> High CPU usage on Vista with System plugin [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  High CPU usage on Vista with System plugin</div>
<hr />
<div class="pda"><a href="t-290219.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290219">High CPU usage on Vista with System plugin</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">wraithdu</div><div class="date">14th April 2008, 16:36</div></div><div class="posttext">Referencing this thread discussion -<br />
<br />
http://www.autoitscript.com/forum/index.php?showtopic=68354<br />
<br />
I found that I only see this problem on Vista, not XP.  So I was wondering if the System plugin has some performance or compatibility issues in Vista, or if there was anything I could do to lower the CPU usage.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">14th April 2008, 16:56</div></div><div class="posttext">Instead of using the system plugin, you could create a nsis plugin that does this (Does not solve your problem, but I have no idea why it would use more CPU on Vista)<br />
<br />
...and the logiclib is mostly preprocessor stuff, should not really slow you down</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th April 2008, 17:21</div></div><div class="posttext">Put it in a Function and you won't get high CPU use. The reason this is happening is because for every instruction it has to change the progress bar. If you put it in a Function rather than a Section, then the progress bar doesn't get touched.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wraithdu</div><div class="date">14th April 2008, 17:42</div></div><div class="posttext">Hmmm, interesting.  Does the progress bar update apply if I'm using the<br />
<br />
SilentInstall silent<br />
<br />
directive?<br />
<br />
@Anders<br />
I'm attempting to use only the default NSIS plugins to do this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wraithdu</div><div class="date">14th April 2008, 18:15</div></div><div class="posttext">Nope, no luck.  I put my loop in a function and it uses the same amount of CPU.<br />
<br />
Since this doesn't happen on XP, it has to be some problem with Vista.  A strange UAC issue maybe?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wraithdu</div><div class="date">17th April 2008, 00:07</div></div><div class="posttext">Ok, I figured it out.  Under Vista, if I don't specify a value for<br />
<br />
RequestExecutionLevel<br />
<br />
the CPU usage is more than double, 9-12% vs 20-27% !!  And it doesn't matter what value I assign, user or admin.  But omitting it will cause this problem.<br />
<br />
Any insight into why this happens?  I thought that Vista recognized NSIS installers and automatically assigned the correct execution level?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">17th April 2008, 00:18</div></div><div class="posttext">RequestExecutionLevel does two things, it tells Vista if you need to be admin or not (otherwise, Vista will detect NSIS installers and force you to elevate no matter what)<br />
<br />
The other thing it does is telling vista to turn off registry and folder redirection and other compability hacks</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>