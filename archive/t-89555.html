<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Remove OutFile, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Remove OutFile NSIS Discussion" />
	
	<title> Remove OutFile [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Remove OutFile</div>
<hr />
<div class="pda"><a href="t-89555.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=89555">Remove OutFile</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mickmo</div><div class="date">31st May 2002, 21:18</div></div><div class="posttext">Hello, I was told by my boss to learn NSIS and use it for the program I created.  I finally figured out how to use it thanks to the documentation and this discussion site.  However, there is one thing I would like to do in NSIS and haven't been able to fiqure out.  Is it possible to delete the Outfile after the user installs the program?<br />
I have tried to use delete command and I even hard coded the path and nothing seemed to work.  Is it possible to delete this file through code? If it is how?<br />
<br />
Thank you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">1st June 2002, 08:41</div></div><div class="posttext">Read this (http://forums.winamp.com/showthread.php?s=&amp;threadid=83320&amp;highlight=delete).<br />
<br />
If you also want a proper uninstall, do something like thisname deleter<br />
outfile deleter.exe<br />
<br />
SilentInstall silent<br />
<br />
section<br />
  Sleep 500<br />
  Call GetParameters<br />
  Pop $0<br />
  Delete $0<br />
sectionend<br />
<br />
Function GetParameters<br />
  Push $0<br />
  Push $1<br />
  Push $2<br />
  StrCpy $0 $CMDLINE 1<br />
  StrCpy $1 '&quot;'<br />
  StrCpy $2 1<br />
  StrCmp $0 '&quot;' loop<br />
    StrCpy $1 ' ' ; we're scanning for a space instead of a quote<br />
  loop:<br />
    StrCpy $0 $CMDLINE 1 $2<br />
    StrCmp $0 $1 loop2<br />
    StrCmp $0 &quot;&quot; loop2<br />
    IntOp $2 $2 + 1<br />
    Goto loop<br />
  loop2:<br />
    IntOp $2 $2 + 1<br />
    StrCpy $0 $CMDLINE 1 $2<br />
    StrCmp $0 &quot; &quot; loop2<br />
  StrCpy $0 $CMDLINE &quot;&quot; $2<br />
  Pop $2<br />
  Pop $1<br />
  Exch $0<br />
FunctionEnd<br />
That's the deleter. In the installer do something like thisoutfile prob.exe<br />
name prob<br />
<br />
section<br />
sectionend<br />
<br />
function .onInstSuccess<br />
  SetOutPath $TEMP<br />
  File /oname=_deleter.exe deleter.exe<br />
  Exec '$TEMP\_deleter.exe $EXEDIR\prob.exe'<br />
functionend<br />
The exe might have been renamed though...<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mickmo</div><div class="date">3rd June 2002, 15:55</div></div><div class="posttext">Thank you for your help.  It is much appreciated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">3rd June 2002, 17:16</div></div><div class="posttext">Good :)<br />
<br />
Thx,<br />
-Hendri.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>