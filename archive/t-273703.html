<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Start Menu question, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Start Menu question NSIS Discussion" />
	
	<title> Start Menu question [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Start Menu question</div>
<hr />
<div class="pda"><a href="t-273703.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=273703">Start Menu question</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">SteveAtkinson</div><div class="date">1st July 2007, 07:10</div></div><div class="posttext">Sorry if this has been answered a bazliion times, but I have been searching the docs and google for a while and cant find the answer.<br />
<br />
I want to modify my install script so that it asks if the user would like to add a start menu shortcut for their own menu or for all users. I can see how to make the change to current/all but not how to get that info from the user.<br />
<br />
I've inherited a project and this is the first time I've had to mess with install scripts.<br />
<br />
Thanks for your help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st July 2007, 11:50</div></div><div class="posttext">Either use InstallOptions:<br />
<br />
[Settings]<br />
NumFields=3<br />
<br />
[Field 1]<br />
Type=Label<br />
Left=0<br />
Right=-1<br />
Top=0<br />
Bottom=24<br />
<br />
[Field 2]<br />
Type=RadioButton<br />
Left=30<br />
Right=-1<br />
Top=50<br />
Bottom=58<br />
State=1<br />
Flags=GROUP<br />
<br />
[Field 3]<br />
Type=RadioButton<br />
Left=30<br />
Right=-1<br />
Top=70<br />
Bottom=78<br />
State=0<br />
<br />
<br />
Or use a MessageBox!<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SteveAtkinson</div><div class="date">1st July 2007, 18:33</div></div><div class="posttext">well I'm a total noob to the nsis scripting, I'd imagined that this would be a &quot;standard feature&quot; of an installer, it must be a very common request. I was kinda hoping for a simpler answer, but I'll have a look at the custom message box. It just feels &quot;clumsy&quot; seeing as you already have a very nice dialog box (MUI_STARTMENU)<br />
<br />
I'd like to add another question if I may regarding &quot;AddSize&quot;<br />
<br />
The script includes a check for .Net Framework 2.0 which, in a greatly simplified form, is shown below.<br />
<br />
The problem is, the size is getting added whether or not .Net is isnatlled. Why is this and how can I fix it?<br />
<br />
<br />
Section &quot;Microsoft .NET Framework v2.0&quot;<br />
  SectionIn RO<br />
  Call GetDotNETVersion<br />
  Pop $0<br />
  ${If} $0 == &quot;not found&quot;<br />
     goto lbl_StartInstallNotFound<br />
  ${EndIf}<br />
# version check snipped <br />
  goto lbl_Done<br />
<br />
lbl_Confirmed:<br />
  AddSize 153600<br />
  nsisdl::download \<br />
         /TIMEOUT=30000 &quot;http://download.microsoft.com/download/5/6/7/567758a3-759e-473e-bf8f-52154438565a/dotnetfx.exe&quot; &quot;$PLUGINSDIR\dotnetfx.exe&quot;<br />
# more snippage<br />
<br />
  lbl_done:<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st July 2007, 18:39</div></div><div class="posttext">AddSize is a compile time instruction and therefore cannot be jumped over at run time. Use SectionSetSize instead.<br />
<br />
MessageBoxes are very easy to use. As for a standard feature, using InstallOptions is very easy, so you could turn it into a macro for others to use.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SteveAtkinson</div><div class="date">1st July 2007, 19:49</div></div><div class="posttext">Thanks Afrow, I've been messing with it and sorted the AddSize out by modifying my .onInit and checking there if .Net is installed, and if so, doing a SectionSetSize.<br />
<br />
I hadn't intended getting this deep into the nitty-gritty of NSIS but it's kinda fun. At least now I can close one of our TRAC tickets :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>