<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Keep the enabled/disabled state of a control when backing to a custom page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Keep the enabled/disabled state of a control when backing to a custom page NSIS Discussion" />
	
	<title> Keep the enabled/disabled state of a control when backing to a custom page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Keep the enabled/disabled state of a control when backing to a custom page</div>
<hr />
<div class="pda"><a href="t-322697.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=322697">Keep the enabled/disabled state of a control when backing to a custom page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">USERDPRO</div><div class="date">24th September 2010, 14:10</div></div><div class="posttext">Hi again,<br />
<br />
I am using MUI2 and InstallOptions with .ini files for UI design. I want to Enable/Disable controls and I have tried two ways:<br />
<br />
<br />
 Using INSTALLOPTIONS_WRITE InstallOption's macro I cant enable/diable the control (?):<br />
!insertmacro INSTALLOPTIONS_WRITE &quot;MyCustomPage.ini&quot; &quot;Field 1&quot; &quot;Flags&quot; &quot;DISABLE&quot;<br />
<br />
 Using EnableWindow I can enable/diable controls but the controls dont keep the state. I mean if I click Next button and then back to my custom dialog, the state of the control is the original state (enable or disabled as defined in the .ini file):<br />
<br />
!macro  ENABLE_FIELD dialog field<br />
    !insertmacro INSTALLOPTIONS_READ $0 &quot;${dialog}&quot; &quot;${field}&quot; &quot;HWND&quot;<br />
    EnableWindow $0 1    <br />
!macroend<br />
<br />
<br />
<br />
Is there any way to achieve this? Am I using wrong the macro or/and EnableWindow?<br />
<br />
Thank you,<br />
<br />
J</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th September 2010, 14:42</div></div><div class="posttext">Also write to the INI file. You should switch to nsDialogs really.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">USERDPRO</div><div class="date">27th September 2010, 15:45</div></div><div class="posttext">Thank you Afrow.  <br />
<br />
I have found the CreateDialogFromINI function that seems to be a nice way to switch to nsDialogs. I can reuse my .ini files now but I cant retreive the windows handles to assing callbacks for events (onClick for a button, for example). As soon as I call CreateDialogFromINI the code below this call is not executed until I leave (Back, Next...) the custom page. I dont find any examples or documentation useful to do this but I guess it is possible. <br />
<br />
Any suggestions?<br />
<br />
Thanks,<br />
<br />
J</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">27th September 2010, 17:01</div></div><div class="posttext">I wouldn't use CreateDialogFromINIFile.  For one, as you noticed, it immediately creates the dialog - leaving you with no access to change things before it is displayed.  But, more importantly, it means it has to parse the INI file, build the dialog from that, and then display it - meaning you lose all the advantages of nsDialogs -and- some of the features of InstallOptions.<br />
<br />
So either switch entirely - or don't switch at all :)<br />
<br />
If you need help moving your InstallOptions-based dialog over to nsDialogs, feel free to ask.<br />
<br />
If you'd like to stick with InstallOptions for now, then - as Afrow implied - write the enabled/disable state as you did in Step 1.  Then in the page's Show function, read that state in and enable/disable the control as applicable.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">USERDPRO</div><div class="date">29th September 2010, 09:25</div></div><div class="posttext">Thanks for your enlightment Animaether, I am moving to nsDialogs enterily. :up:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>