<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" FindProc usign MUI, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  FindProc usign MUI NSIS Discussion" />
	
	<title> FindProc usign MUI [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  FindProc usign MUI</div>
<hr />
<div class="pda"><a href="t-282563.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282563">FindProc usign MUI</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rafaeldmt</div><div class="date">3rd December 2007, 10:57</div></div><div class="posttext">Hello,<br />
<br />
I'm trying to check if notepad.exe is running.<br />
<br />
in .onInit, i call the macro, but allways show that &quot;Is not Running&quot;. Do you know what can be the problem? I compile in Unicode. Maybe can be a path problem?<br />
<br />
Function .onInit<br />
   !insertmacro MUI_RESERVEFILE_LANGDLL<br />
   !insertmacro MUI_LANGDLL_DISPLAY<br />
   !insertmacro CHECK_NOTEPAD_RUNNING<br />
FunctionEnd<br />
<br />
!macro CHECK_NOTEPAD_RUNNING<br />
       FindProcDLL::FindProc &quot;notepad.exe&quot;<br />
       StrCmp $R0 &quot;1&quot; found not_found<br />
       found:<br />
          MessageBox MB_ICONEXCLAMATION|MB_OK  &quot;Is running&quot;	  Abort<br />
       not_found:<br />
	   MessageBox MB_ICONEXCLAMATION|MB_OK &quot;Is Not Running&quot;<br />
!macroEnd<br />
<br />
Thanks,<br />
<br />
Rafa</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd December 2007, 11:10</div></div><div class="posttext">It seems to be case sensetive (major bug)<br />
<br />
on my system:<br />
FindProcDLL::FindProc &quot;Notepad.exe&quot;<br />
MessageBox mb_ok $R0 &gt;&gt; 1<br />
<br />
FindProcDLL::FindProc &quot;notepad.exe&quot;<br />
MessageBox mb_ok $R0 &gt;&gt; 0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rafaeldmt</div><div class="date">3rd December 2007, 11:22</div></div><div class="posttext">Hello Anders,<br />
<br />
I'm sorry, it is doesnt work. I attach an small project, just to test that. Please may you test if it is works in your case? In my case never is running the program.<br />
<br />
I'm crazy finding the solution. But maybe is a problem becuase I'm using Unicode compiler, but in theory it doesnt affect, but...<br />
<br />
Thanks,<br />
<br />
Rafa</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd December 2007, 11:31</div></div><div class="posttext">I was using the size optimized version from http://nsis.sourceforge.net/FindProcDLL_plug-in , the other one seems to work fine (http://nsis.sourceforge.net/mediawiki/images/3/3c/FindProc.zip)<br />
<br />
So, use the 24k version<br />
<br />
You should also consider using the LogicLib so you can write code like:<br />
<br />
!include LogicLib.nsh<br />
FindProcDLL::FindProc &quot;notepad.exe&quot;<br />
${If} $R0 == 1<br />
MessageBox mb_ok &quot;foo&quot;<br />
quit<br />
${Else}<br />
MessageBox mb_ok &quot;bar&quot;<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rafaeldmt</div><div class="date">3rd December 2007, 12:10</div></div><div class="posttext">Thanks for your quick answer.<br />
<br />
I compile again the vc++ project and I replace all the old DLL. I changed the code and LogicLib is included. Please, may you test if works in your computer? Im testing here in two and doesn't works, always msg &quot;bar&quot;.<br />
<br />
Thanks,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd December 2007, 12:19</div></div><div class="posttext">Why do you have to compile yourself? the large dll on the wiki works fine for me</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rafaeldmt</div><div class="date">3rd December 2007, 12:34</div></div><div class="posttext">I compliled becuase with the official DLL doesn't works. Now I see that is not a problem of the DLL. Are you running on Vista?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd December 2007, 12:42</div></div><div class="posttext">nope, XP SP2 MCE2k5UR2/IE6</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Fightin_Foo</div><div class="date">3rd December 2007, 15:12</div></div><div class="posttext">I've also had some problems with FindProcDLL on Vista, you might want to check out the Processes Plugin.  It seems to work pretty well on Vista.  I am not sure if it will solve your case sensitive problem though, but it may be worth a shot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rafaeldmt</div><div class="date">3rd December 2007, 19:56</div></div><div class="posttext">Hi,<br />
<br />
I test also and it doesn't work. Do you think that works in nsis unicode can be the problem?<br />
<br />
Please, may you compile and test if it detect correctly?<br />
<br />
Thanks for the help.<br />
<br />
Rafa</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>