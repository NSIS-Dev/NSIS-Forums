<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Can't do a FileWrite to a text file, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Can't do a FileWrite to a text file NSIS Discussion" />
	
	<title> Can't do a FileWrite to a text file [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Can't do a FileWrite to a text file</div>
<hr />
<div class="pda"><a href="t-285949.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=285949">Can't do a FileWrite to a text file</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kalverson</div><div class="date">30th January 2008, 14:28</div></div><div class="posttext">I am just trying to append a couple of string lines to a text file.  No matter what variables and quotes I use, the file remains unchanged from the original that is extracted on the install.  The debug output alway says the filewrites are happening, but the file does not change and has the same number of bytes as the original.  What am I doing wrong here?<br />
<br />
Here are the lines in question in from the install section<br />
<br />
  File &quot;gui.relmod&quot;<br />
  ClearErrors<br />
  FileOpen &quot;$R0&quot; &quot;$INSTDIR\gui.relmod&quot; &quot;A&quot;<br />
  DetailPrint 'FileOpen handle is $R0 for &quot;$INSTDIR\gui.relmod&quot;'<br />
  ;FileSeek $R0 0 END<br />
  IfErrors next1<br />
  FileWrite &quot;$R0&quot; &quot;DownloadFilename = ${PRODUCT_INSTALL_FILE}$\r$\n&quot;<br />
  DetailPrint &quot;DownloadFilename = ${PRODUCT_INSTALL_FILE}&quot;<br />
  IfErrors next2<br />
  FileWrite &quot;$R0&quot; &quot;DownloadFileMD5 = $STR_MD5$\r$\n&quot;<br />
  DetailPrint &quot;DownloadFileMD5 = $STR_MD5&quot;<br />
  IfErrors next3<br />
  FileClose &quot;$R0&quot;<br />
  DetailPrint &quot;Appends to gui.relmod completed. $R0&quot;<br />
  goto next4<br />
next1:<br />
  DetailPrint &quot;Error on open gui.relmod $R0&quot;<br />
  goto next4<br />
next2:<br />
  DetailPrint &quot;Error on FileWrite1 $R0&quot;<br />
  goto next4<br />
next3:<br />
  DetailPrint &quot;Error on FileWrite2 $R0&quot;<br />
next4:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">30th January 2008, 17:09</div></div><div class="posttext">Strange... doesn't seem you're doing something wrong.<br />
Perhaps it's an issue related to vista account.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>