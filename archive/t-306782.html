<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Automatic Uninstall if Uninstall has 2 possible names, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Automatic Uninstall if Uninstall has 2 possible names NSIS Discussion" />
	
	<title> Automatic Uninstall if Uninstall has 2 possible names [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Automatic Uninstall if Uninstall has 2 possible names</div>
<hr />
<div class="pda"><a href="t-306782.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=306782">Automatic Uninstall if Uninstall has 2 possible names</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">phungus420</div><div class="date">27th May 2009, 07:19</div></div><div class="posttext">Simple question, hoping for a simple solution :) <br />
<br />
Here goes, durring my mod's inception there have been mulitple install scripts I've used, hasn't been an issue until recently.  Where through my lack of forsight there are now two possible names for the uninstaller.exe the installer will create.<br />
<br />
Now when the mod updates to a new version, it must clean out all the old files and so runs the uninstaller:<br />
<br />
;Run the uninstaller<br />
uninst:<br />
  ClearErrors<br />
  ExecWait '&quot;$INSTDIR\Mods\${MOD_LOC}\Uninstall.exe&quot; _?=$INSTDIR'<br />
<br />
done:<br />
<br />
FunctionEnd<br />
<br />
Or<br />
<br />
;Run the uninstaller<br />
uninst:<br />
  ClearErrors<br />
  ExecWait '&quot;$INSTDIR\Mods\${MOD_LOC}\${MOD_NAME} Uninstall.exe&quot; _?=$INSTDIR'<br />
<br />
done:<br />
<br />
FunctionEnd<br />
<br />
My question is, is there anyway to check for which uninstall exe exists (there are only two possible names), and run whichever one it finds.  In pseudocode something like this:<br />
<br />
<br />
;Run the uninstaller<br />
!ifExists<br />
  $INSTDIR\Mods\${MOD_LOC}\Uninstall.exe<br />
  uninst:<br />
    ClearErrors<br />
    ExecWait '&quot;$INSTDIR\Mods\${MOD_LOC}\Uninstall.exe&quot; _?=$INSTDIR'<br />
!else<br />
uninst:<br />
  ClearErrors<br />
  ExecWait '&quot;$INSTDIR\Mods\${MOD_LOC}\${MOD_NAME} Uninstall.exe&quot; _?=$INSTDIR'<br />
<br />
done:<br />
<br />
FunctionEnd<br />
<br />
Is such pseudocode possible, and if so how do I write it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">27th May 2009, 11:17</div></div><div class="posttext">standard NSIS<br />
IfFileExists &lt;file path&gt; goto_if_true goto_if_false<br />
<br />
or using LogicLib:<br />
${If} ${FileExists} &lt;file path 1&gt;<br />
  ; run path 1<br />
${ElseIf} ${FileEists} &lt;file path 2&gt;<br />
  ; run path 2<br />
${EndIf}</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>