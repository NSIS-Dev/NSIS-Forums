<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Build Issue, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Build Issue NSIS Discussion" />
	
	<title> Build Issue [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Build Issue</div>
<hr />
<div class="pda"><a href="t-311201.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=311201">Build Issue</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Spilly</div><div class="date">31st August 2009, 21:51</div></div><div class="posttext">Hey guys,<br />
so I'm configuring the nsis compiler to append to an existing log passed in through the SetLogText call. <br />
<br />
The issue I'm having is that if I try to build the compiler with the regular windows shell I get a link error, but if I use the visual studio 2005 command prompt it builds without issue. Unfortunately there's no clean way to use the visual studio command prompt through apache ant, so that's not an option. I've included the error below.<br />
<br />
System.c<br />
link /nologo /opt:nowin98 /map /entry:DllMain /dll /out:build\release\System\System.dll /LIBPATH:build\release\api\nsis pluginapi.lib kernel32.lib user32.lib ole32.lib build\release\System\Source\Buffers.obj Contrib\System\Source\Call.S build\release\System\Source\Plugin.obj build\release\System\Source\System.obj<br />
Contrib\System\Source\Call.S : fatal error LNK1107: invalid or corrupt file: cannot read at 0x5BC7<br />
scons: *** [build\release\System\System.dll] Error 1107<br />
scons: building terminated because of errors.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>