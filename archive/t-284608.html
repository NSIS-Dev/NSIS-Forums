<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SetRegView and DeleteRegKey, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SetRegView and DeleteRegKey NSIS Discussion" />
	
	<title> SetRegView and DeleteRegKey [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SetRegView and DeleteRegKey</div>
<hr />
<div class="pda"><a href="t-284608.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=284608">SetRegView and DeleteRegKey</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tieum</div><div class="date">8th January 2008, 16:18</div></div><div class="posttext">Hello,<br />
<br />
I have an installer that works on both Win XP 32 and Win XP 64 and that can install 32 bit builds on both platforms,  and 64 bits builds on WIn XP 64.<br />
<br />
By default I call SetRegView 64 (even on 32 bits) to be sure to be in the &quot;main&quot; registry trunk.<br />
<br />
Everything works fine except for DeleteRegKey that does not work on Win XP 32 bits if SetRegView 64 was used.<br />
<br />
First of all I wanted to point this inconsistency in behavior.<br />
<br />
Also I have  a question: How can I know if I am running on Win32 or Win64.<br />
<br />
  Thanks in advance,<br />
<br />
Tieum</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th January 2008, 16:48</div></div><div class="posttext">You should only use SetRegView 64 on XP x64. Not all 32-bit versions of Windows support this flag and some might cause registry operations to fail, just like in your case.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">8th January 2008, 16:53</div></div><div class="posttext">The DeleteRegKey problem is probably a windows bug and not nsis, either way, using SetRegView 64 on 32 bit systems is not supported<br />
<br />
To detect x64, include x64.nsh<br />
<br />
${If} ${RunningX64}<br />
     MessageBox MB_OK &quot;running on x64&quot;<br />
${EndIf}<br />
<br />
edit: gah too slow, kichik beat me to it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tieum</div><div class="date">8th January 2008, 18:49</div></div><div class="posttext">All thanks for your help will use the thing to detect which platform I'm on.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>