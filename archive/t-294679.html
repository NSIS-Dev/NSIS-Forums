<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS non-Unicode Chinese with special location settings, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS non-Unicode Chinese with special location settings NSIS Discussion" />
	
	<title> NSIS non-Unicode Chinese with special location settings [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS non-Unicode Chinese with special location settings</div>
<hr />
<div class="pda"><a href="t-294679.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=294679">NSIS non-Unicode Chinese with special location settings</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">17th July 2008, 15:31</div></div><div class="posttext">Hi,<br />
<br />
I have an NSIS installer running for driver installation with support for<br />
about 24 languages including Traditional and Simplified Chinese.<br />
<br />
Now a customer in Singapore complained about unreadable parts of the dialogs.<br />
<br />
We found out, that setting the Location in &quot;Control Panel| Regional and language options&quot;<br />
to Chinese (Singapore) (Regional Options Tab and Advanced Tab) and will lead to this.<br />
<br />
Reason: Chinese (Taiwan) and Chinese (PRC) are the language codes supported by Traditional <br />
and Simplified Chinese Language files.<br />
All other &quot;SubLanguages&quot; with different language code get displayed incorrectly. <br />
(Tested even on a native chinese Windows System)<br />
<br />
As a workaround I duplicated the Simplified and Traditional Chinese Language files (nlf/nsh)<br />
and set the correct Language code in the header, and added these language variants.<br />
<br />
TradChinese_MC (Macau), TradChinese_HK (Hongkong) and SimpChinese_SP (Singapore).<br />
<br />
  !insertmacro MUI_LANGUAGE &quot;SimpChinese&quot;<br />
  !insertmacro MUI_LANGUAGE &quot;SimpChinese_SP&quot;<br />
  !insertmacro MUI_LANGUAGE &quot;TradChinese&quot;<br />
  !insertmacro MUI_LANGUAGE &quot;TradChinese_MC&quot;<br />
  !insertmacro MUI_LANGUAGE &quot;TradChinese_HK&quot;<br />
 <br />
This workaround works fine except for one thing:<br />
<br />
On non-Vista systems the Dialog Title of the Welcome Dialog shows 2 strange signs <br />
instead of the chinese characters for &quot;Setup&quot; in the ^SetupCaption string.<br />
This happens only on non-Vista (W2K, WXP, W2k3) systems.<br />
<br />
Is this a &quot;Feature&quot; of Windows before Vista or another reasonable explanation.<br />
If it can be fixed - HOW?<br />
<br />
Remark:  I know that most probably the Unicode Version of NSIS will fix this too,<br />
but the (internal) requirement that the installer needs a complete re-test led to the<br />
decision to stay with the non-Unicode version at the moment.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KrisAster</div><div class="date">17th July 2008, 20:10</div></div><div class="posttext">Have you tried to open the nlf/nsh files on an XP system?  Do they show up unusually in a text editor like Notepad too, or is it only during an installation?<br />
<br />
Also, have you tried to change those to other characters to see if it has something to do with those specific characters or just with that particular caption?  (I know it's not likely, especially if they DO show up if the more standard region is used, but perhaps a different font is being used for that region?)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>