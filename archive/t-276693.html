<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" LangDLL &amp; Japanese non-Unicode settings, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  LangDLL &amp; Japanese non-Unicode settings NSIS Discussion" />
	
	<title> LangDLL &amp; Japanese non-Unicode settings [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  LangDLL &amp; Japanese non-Unicode settings</div>
<hr />
<div class="pda"><a href="t-276693.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=276693">LangDLL &amp; Japanese non-Unicode settings</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Wizou</div><div class="date">30th August 2007, 11:15</div></div><div class="posttext">Go to Regional Options, Advanced settings and choose Japanese as the language for non-Unicode applications<br />
(you might need to install east-asian files first)<br />
<br />
Then run an NSIS installer with LangDLL that includes English,French,German,Italian,Dutch<br />
<br />
The LangDLL dialog will only allow English selection ! The same installer under a &quot;latin&quot;-configured Windows works properly.<br />
<br />
I guess it's due to the &quot;Ã§&quot; in &quot;FranÃ§ais&quot; that maybe cannot be expressed under the Japanese ANSI codepage and it prevents to dialog combo-box from loading correctly<br />
<br />
Is there any way to fix this ?<br />
(I might take a look at LangDLL sources to clear this out)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wizou</div><div class="date">30th August 2007, 13:46</div></div><div class="posttext">Additional info:<br />
The problem appear between releases NSIS 2.25 &amp; NSIS 2.26<br />
<br />
Same NSI produce an installer that works correctly with NSIS 2.25, and incorrectly with NSIS 2.26<br />
<br />
This new bug must be related to bug fix #1564986</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wizou</div><div class="date">31st August 2007, 09:00</div></div><div class="posttext">This also happens when you set this non-Unicode settings to Greek (and this don't require to install east-asian files so it's easier to reproduce)<br />
<br />
That's a big problem if any non-latin computer user can only choose English as the installation language !<br />
<br />
Is the bug scheduled for fix in NSIS bug tracker ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st August 2007, 09:31</div></div><div class="posttext">It's not a bug, it's a feature. If you look closely at the changes done in 2.26, you'll find:Modern UI: block unsupported languages in the language selection dialog (RFE #1564986)And if you look at 2.28's, you'll find:Modern UI: added MUI_LANGDLL_ALLLANGUAGES that forces the language selection dialog to display all languages (patch #1724876)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wizou</div><div class="date">31st August 2007, 10:51</div></div><div class="posttext">Alright.. I guess the words &quot;unsupported languages&quot; meant &quot;languages that the installer will fail to display correctly due to missing characters in the user ACP&quot;<br />
<br />
Can we be sure that English will be available for all codepage/user config ?<br />
<br />
(I still think it strange to filter this combo-box based on the &quot;non-unicode&quot; setting, because then on a PC with Windows French but Greek/Japanese settings for &quot;non-unicode&quot; app, Installer won't display the French language choice - except if I add MUI_LANGDLL_ALLLANGUAGES)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st August 2007, 21:45</div></div><div class="posttext">Yes, English is always available.<br />
<br />
Languages are filtered according to their codepage. If their codepage doesn't match, they can't be displayed properly. There's no reason to show French when Japanese is selected in non-Unicode because it would display garbage.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">007Gergo</div><div class="date">12th November 2007, 15:33</div></div><div class="posttext">We have the same problem with several languages too (Hungarian, Slovak, Greek, Bulgarian, Macedonian, Russian, Chines and so on)<br />
<br />
On an Englisch windows f.e. we can not select hungarian, even if the code page is installed. But it shold be to work. <br />
<br />
Is it a way to display all languages in the combo, where we have an installed code page, and not only what can display on the default code page?<br />
Maybe it can be good to displayy them in a unicode code combo, and after seection switch the installer code_page to this.<br />
Thanks for help. <br />
<br />
The MUI_LANGDLL_ALLLANGUAGES is also not usable because of the numbers.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th November 2007, 18:43</div></div><div class="posttext">You can't switch the installer's codepage, it's the operation system's codepage and replacing it requires a reboot.<br />
<br />
I don't understand your comment regarding MUI_LANGDLL_ALLLANGUAGES.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">007Gergo</div><div class="date">13th November 2007, 09:04</div></div><div class="posttext">if the ALl macro defined, in the language combo box I see: <br />
1026,1028, 1032, 1036, 1040, 1045, 1046, 1049, 1050, 1050, 1050, 1053, ...., CatalÃ¡, Cesky, Deutch, English, Espanol, ..., Magyar, ...<br />
<br />
If it is not defined I can't see the numbers, but I also can't see f.e.'Magyar'= Hungaryan, but I have installed codepage for it.<br />
<br />
The solution for us will be somting between the two now existing:<br />
To see in the list all languages, where we have installed codepages, but dont show the numbers (where we have no codepages installed).<br />
<br />
<br />
The installer must work in the following languages:<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Bulgarian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Catalan&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Croatian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Czech&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Danish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Dutch&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Estonian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Finnish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
!insertmacro MUI_LANGUAGE &quot;German&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Greek&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Hungarian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Italian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Latvian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Lithuanian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Norwegian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Polish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Portuguese&quot;<br />
!insertmacro MUI_LANGUAGE &quot;PortugueseBR&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Romanian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Russian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Serbian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;SimpChinese&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Slovak&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Slovenian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Spanish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Swedish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Thai&quot;<br />
!insertmacro MUI_LANGUAGE &quot;TradChinese&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Turkish&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th November 2007, 20:20</div></div><div class="posttext">Are you sure you've defined MUI_LANGDLL_ALLLANGUAGES prior to inserting the language macros?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">007Gergo</div><div class="date">14th November 2007, 09:00</div></div><div class="posttext">Thanks!<br />
It works now.<br />
<br />
Maybe it will be good to add some comment in the maunual that it must be befor the langages.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th November 2007, 19:21</div></div><div class="posttext">I have removed the limitation instead of updating the documentation. It was simpler. Please test:<br />
<br />
http://nsis.svn.sourceforge.net/viewvc/*checkout*/nsis/NSIS/trunk/Contrib/Modern%20UI/System.nsh</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jimpark</div><div class="date">21st November 2007, 18:20</div></div><div class="posttext">Well, kichik is right in that you wouldn't want to show everything if your codepage doesn't support it even if you &quot;already installed the language on your windows.&quot;  The problem is that the current codepage will still show junk.  So I'm not sure why you would want to use MUI_LANGDLL_ALLLANGUAGES unless you want it for testing purposes?  Even that's dubious.<br />
<br />
If you truly want a multi-lingual installer that looks right on any codepage, you have to use the Unicode installer.  If you do, you can mix and match whatever you want like this:<br />
<br />
http://www.scratchpaper.com/Unicode-NSIS-Propaganda.gif</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>