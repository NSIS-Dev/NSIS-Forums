<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" What happened to CVS binaries?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  What happened to CVS binaries? NSIS Discussion" />
	
	<title> What happened to CVS binaries? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  What happened to CVS binaries?</div>
<hr />
<div class="pda"><a href="t-213477.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=213477">What happened to CVS binaries?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">18th April 2005, 05:45</div></div><div class="posttext">I can't find MakeNSIS.exe or MakeNSISW.exe any more.<br />
Does this have something to do with SCons?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">18th April 2005, 09:30</div></div><div class="posttext">Yes. You can find them on nighly developed snapshots for now, but not to the latest.<br />
<br />
I just don't know what will happen to NSIS Update:<br />
- Will it be updated to download dev. snapshots?<br />
- Will kichik separate the binaries from dev. snapshots to create a binary only dev snapshot?<br />
- Or will he host binary files somewhere on nsis.sf.net?<br />
- More?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th April 2005, 18:31</div></div><div class="posttext">The executables were removed from CVS because that's just not their place. I've uploaded them by mistake to CVS at first but kept doing it because it allowed people to skip compiling NSIS. However, now that there's a very easy way to compile the entire NSIS package (well, except the Math plug-in, the Library registration tool and the NSIS Menu), there's no longer need for it. All you need is a compiler (Microsoft Visual C++ Toolkit 2003 and the Platform SDK, which are both free, are good enough) and SCons (http://www.scons.org/). If you don't want to install Python (http://www.python.org) for SCons, see this page (http://www.scons.org/cgi-bin/wiki/Win32Exectable).<br />
<br />
The nightly development snapshots no longer contain the executables as they are still just a simple CVS dump. I hope to get an automated build up soon, but I don't have a Windows computer which is constantly running and am having a hard time running cl.exe on WINE.<br />
<br />
I still don't know what I'm going to do with NSIS Update. It'll probably allow you to download a real nightly snapshot which also contains compiled sources. Having it update from CVS is no longer useful, so that'll surely go away at some point.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">19th April 2005, 22:11</div></div><div class="posttext">OK, fair enough.<br />
I downloaded SCons.<br />
I have MSVC++ 2003 Toolkit and Platform SDK.<br />
What next?'<br />
I made sure that the appropriate paths and environment variables were set by running vcvars32.bat for VC++ 2003 Toolkit and registering the PSDK directories as well.<br />
I then tried running Scons and got a bunch of errors:<br />
<br />
C:\projects\NSIS&gt;&quot;\Program Files\SCons\scons.exe&quot;<br />
scons: Reading SConscript files ...<br />
<br />
scons: warning: Ignoring missing SConscript 'SCons\Config\ms'<br />
File &quot;SConstruct&quot;, line 73, in ?<br />
TypeError: unsubscriptable object:<br />
  File &quot;C:\Program Files\SCons\scons-local-0.96.1\SCons\Script\__init__.py&quot;, line 1103:<br />
    None<br />
  File &quot;C:\Program Files\SCons\scons-local-0.96.1\SCons\Script\__init__.py&quot;, line 1097:<br />
    None<br />
  File &quot;C:\Program Files\SCons\scons-local-0.96.1\SCons\Script\__init__.py&quot;, line 903:<br />
    None<br />
  File &quot;C:\Program Files\SCons\scons-local-0.96.1\SCons\Script\SConscript.py&quot;, line 239:<br />
    None<br />
  File &quot;SConstruct&quot;, line 79:<br />
    None<br />
<br />
Apparently some additional configuration is needed before Scons can do its magic.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th April 2005, 22:27</div></div><div class="posttext">I have created a news item on the website that explains how to compile using the toolkit, mingw and the usual vc. Take a look at it:<br />
<br />
http://nsis.sourceforge.net/index.php?id=17&amp;backPID=17&amp;tt_news=22<br />
<br />
SCons doesn't yet support the toolkit out of the box, so you have to tell it to use the toolkit by adding MSTOOLKIT=yes on the command line.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">20th April 2005, 02:53</div></div><div class="posttext">With the windows compiled binary:<br />
<br />
C:\projects\NSIS&gt;&quot;\Program Files\SCons\scons.exe&quot; -j4 MSTOOLKIT=yes<br />
scons: Reading SConscript files ...<br />
<br />
scons: *** No tool named 'mstoolkit': No module named mstoolkit<br />
File &quot;SConstruct&quot;, line 66, in ?<br />
<br />
<br />
Using python:<br />
<br />
C:\projects\NSIS&gt;\Python23\scons -j4 MSTOOLKIT=yes<br />
scons: Reading SConscript files ...<br />
<br />
scons: *** No tool named 'mstoolkit': No module named mstoolkit<br />
File &quot;SConstruct&quot;, line 66, in ?<br />
<br />
<br />
So where can I get the mstoolkit module?<br />
<br />
<br />
Never mind- I had to update CVS to fetch the new Scons directory.<br />
I got a few warnings and it craps out if hhc.exe is not in the path.<br />
<br />
Just curious- what is the advantage of scons over regular make?<br />
<br />
For the record, these are the warnings I get:<br />
<br />
Contrib\System\Source\Buffers.c(49) : warning C4047: 'function' : 'int' differs in levels of indirection from 'HANDLE'<br />
Contrib\System\Source\System.c(636) : warning C4047: '=' : 'int' differs in levels of indirection from 'HANDLE'<br />
Contrib\System\Source\System.c(636) : warning C4047: '=' : 'HANDLE' differs in levels of indirection from 'int'<br />
Contrib\System\Source\System.c(644) : warning C4047: '=' : 'int' differs in levels of indirection from 'char *'<br />
Contrib\System\Source\System.c(653) : warning C4244: '=' : conversion from '__int64' to 'int', possible loss of data<br />
Contrib\System\Source\System.c(934) : warning C4090: '=' : different 'volatile' qualifiers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">WebMatze</div><div class="date">20th April 2005, 08:26</div></div><div class="posttext">Hello i tried the new scons system and i got an error with the command<br />
GetLaunchDir() and Environment().<br />
I dont understand what's wrong,<br />
I installed the standalone scons and added it to the path, then tried scons -j4...<br />
I hope you can help me<br />
<br />
bye</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">20th April 2005, 13:50</div></div><div class="posttext">Attach the error log. Which compiler are you using?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">20th April 2005, 17:01</div></div><div class="posttext">This system is great. The problem is the number files that appear after you compile, like the build and .sconf_temp folders... I recommend some &quot;os.remove(paths)&quot; lines after compilation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">20th April 2005, 18:22</div></div><div class="posttext">A lot of the files it creates (e.g., in build) are for caching - so that it doesn't have to build them again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st April 2005, 02:55</div></div><div class="posttext">Oh, the &quot;-c&quot; parameter does exactly that in the command-line.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st April 2005, 16:22</div></div><div class="posttext">iceman_k, the benefits of scons over make are described under &quot;What makes SCons better?&quot; in www.scons.org better than I could describe them.<br />
<br />
deguix, unlike the old method, all of the build files are under one directory, which is much cleaner. But unlike the old build system, this one can install only the built stuff into another directory. It doesn't work perfectly in the current version I've uploaded, but soon enough, all you'd have to do to install NSIS from source is execute:scons -j4 --random install PREFIX=&quot;C:\Program Files\NSIS&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st April 2005, 17:21</div></div><div class="posttext">Thanks, looking foward to it.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>