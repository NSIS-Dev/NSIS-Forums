<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Adding label to MUI_PAGE_INSTFILES, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Adding label to MUI_PAGE_INSTFILES NSIS Discussion" />
	
	<title> Adding label to MUI_PAGE_INSTFILES [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Adding label to MUI_PAGE_INSTFILES</div>
<hr />
<div class="pda"><a href="t-280804.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=280804">Adding label to MUI_PAGE_INSTFILES</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dyavorski</div><div class="date">5th November 2007, 17:12</div></div><div class="posttext">Hi all<br />
Please help - I am quite desperate<br />
I understood the nice example on the nsis site for adding a link to the welcome page:<br />
<br />
 http://nsis.sourceforge.net/Add_link_to_welcome_page_(MUI)<br />
<br />
But I need  to add a label to the installation_page!!!<br />
<br />
The label has to be dynamic - once the installer will get to a certain point it should change its text.<br />
<br />
I couldn't find any documntation for that.<br />
Can anyone help me with that?<br />
Thanks a Million<br />
Danny<br />
<br />
<br />
(Attached is the code for the example if you don't want to click the link)<br />
<br />
<br />
<br />
<br />
<br />
<br />
  !include &quot;MUI.nsh&quot;<br />
 <br />
;--------------------------------<br />
;General<br />
 <br />
  Outfile linkexample.exe<br />
 <br />
;--------------------------------<br />
;Pages<br />
 <br />
  !define MUI_PAGE_CUSTOMFUNCTION_PRE WelcomePageSetupLinkPre<br />
  !define MUI_PAGE_CUSTOMFUNCTION_SHOW WelcomePageSetupLinkShow<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
 <br />
Section &quot;secDummy&quot;<br />
  ; ...<br />
SectionEnd<br />
 <br />
 <br />
Function WelcomePageSetupLinkPre<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Settings&quot; &quot;Numfields&quot; &quot;4&quot; ; increase counter<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 3&quot; &quot;Bottom&quot; &quot;122&quot; ; limit size of the upper label<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 4&quot; &quot;Type&quot; &quot;Link&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 4&quot; &quot;Text&quot; &quot;http://www.google.ch/&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 4&quot; &quot;Left&quot; &quot;120&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 4&quot; &quot;Right&quot; &quot;315&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 4&quot; &quot;Top&quot; &quot;123&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 4&quot; &quot;Bottom&quot; &quot;132&quot;<br />
FunctionEnd<br />
 <br />
Function WelcomePageSetupLinkShow<br />
  ; Thanks to pengyou<br />
  ; Fix colors of added link control<br />
  ; See http://forums.winamp.com/showthread.php?s=&amp;threadid=205674<br />
  Push $0<br />
 <br />
  GetDlgItem $0 $MUI_HWND 1203<br />
  SetCtlColors $0 &quot;0000FF&quot; &quot;FFFFFF&quot;<br />
  ; underline font<br />
  CreateFont $1 &quot;$(^Font)&quot; &quot;$(^FontSize)&quot; &quot;400&quot; /UNDERLINE <br />
  SendMessage $0 ${WM_SETFONT} $1 1 <br />
  Pop $0<br />
 <br />
FunctionEnd<br />
 <br />
;--------------------------------<br />
;Languages<br />
 <br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th November 2007, 17:30</div></div><div class="posttext">The InstFiles page is not an InstallOptions page unlike the Welcome and Finish pages. You must edit the resource executable with Resource Hacker. The resource executables are under Contrib\UIs (modern.exe).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">5th November 2007, 17:33</div></div><div class="posttext">Will there be any other way to do this in the future? Maybe in next version of MUI?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dyavorski</div><div class="date">5th November 2007, 17:35</div></div><div class="posttext">What is the resource hacker?<br />
Do I need another installation</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th November 2007, 19:17</div></div><div class="posttext">http://angusj.com/resourcehacker/<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th November 2007, 19:18</div></div><div class="posttext">You could also add labels and other controls at run time by calling CreateWindow/CreateWindowEx with the System plug-in.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dyavorski</div><div class="date">6th November 2007, 13:11</div></div><div class="posttext">Thanks man<br />
The Hacker seems like a nice tool but I am having difficulties to associate the dialog numbers to the pages.<br />
Reading the manual didn't help much<br />
Did you use it before?<br />
Danny</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>