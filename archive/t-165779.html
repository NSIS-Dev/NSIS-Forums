<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" string functions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  string functions NSIS Discussion" />
	
	<title> string functions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  string functions</div>
<hr />
<div class="pda"><a href="t-165779.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=165779">string functions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">KHysiek</div><div class="date">20th January 2004, 12:50</div></div><div class="posttext">Hello<br />
<br />
I'm new to NSIS, it looked fine at first sight but when I tried to make installer what I wanted I hit some problems:<br />
1) Using variables is big pain, using  strings manipulation is HUGE pain. I don't get how modern  installer can lack any decent number of functions for such basic task. Handling Path/reg keys require complicated function in current script using StrCpy/StrCmp/IntOp. For example in my installer have to read key from file which stores installed path of application. But it isn't stored in right-to-use format I need to manipulate (cut path add some text). I've done it but when I want to display it using Static in confirmation window, it &quot;eats&quot; backshlashes. :-\ So is there easy way of manipulating paths in current NSIS ?<br />
2) In general my installer will be template for game maps installers of other people so such user will customize name and similar things in script (stored as constants), but how to add files the easy way (not editing script and making line for every single file). Is there any file list generator or can I use external (of script) file-list file (:)) ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th January 2004, 13:06</div></div><div class="posttext">1) The strings commands are easy to use if you follow the documentation. Probably there is already are suitable function written for you:<br />
<br />
http://nsis.sourceforge.net/archive/nsisweb.php?page=11&amp;instances=0<br />
<br />
2) Using an extenal header file is even better. The users will only have to modify that file with defines. You can also use defines for filenames or add all files in a folder using *.* or /r.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KHysiek</div><div class="date">20th January 2004, 13:40</div></div><div class="posttext">I know these function are the only help, but I would still opt for something easier as string manipulation is used very often and seeking and adding long function for every simple string task is a little too much work.<br />
Also docs are not so informative, I had to dig quite a bit to find out how to concatenate strings. I found it finally in some example in the internet. The same goes for InstallOptions and custom pages in general.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th January 2004, 14:00</div></div><div class="posttext">You can do everything with the current string commands. Sometimes you will have to use multiple commands, but that's the basic of all programming languages. There are hundreds of things you can do with strings, it's impossible to add a command for every possibility.<br />
<br />
The whole point of having function is that becomes easy to do the same thing multiple times. If you think the functions they make your script less easy to read, put them in a header file.<br />
<br />
If we would add a command for all things that can also be done using the scripting language, NSIS would become huge.<br />
<br />
We are always working on improvements of the documentation, but it takes a lot of time. If you think it can be improved, why not help yourself?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KHysiek</div><div class="date">20th January 2004, 14:28</div></div><div class="posttext">Well I don't want to create any argument but people can still write in assembler so what for do we need NSIS then? I was talking  about usability and making things easier, which should be the goal of every computer app and epecially NSIS for installation tasks. I'm not saying that you should mirror STL or some other lib but few basic things.<br />
As for me writitng docs - I was saying that one (in this case me) can't learn much from than - how could I write docs knowing little about subject, that's the problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th January 2004, 15:14</div></div><div class="posttext">So which things do you think that can be added to make string manipulation easier?<br />
<br />
The problem is that it's easy to complain about documentation, but if nobody wants to help improving them (after they have learned NSIS) we don't get any further.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KHysiek</div><div class="date">20th January 2004, 17:31</div></div><div class="posttext">String functions like:<br />
* finding index of char/substr in string<br />
* finding first occurence char from subset in string starting from index.<br />
* replacing char/substring in string<br />
* conversion to/from C-style strings (for easier using strings in Windows functions).<br />
* concatenating string (in current system name of veriable is joined with following text, which can make trouble in some cases) OR append-to-text function.<br />
<br />
First three should have reverse-index versions. If this is too big to add maybe it could be made as plugin with &quot;extra string functions&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th January 2004, 18:03</div></div><div class="posttext">Concatenating strings can be done with StrCpy, like<br />
<br />
StrCpy $MYSTRING &quot;sometext $MYSTRING1 $MYSTRING2&quot;<br />
<br />
The are currently functions for all these search &amp; replace actions. I see no reason to integrate them, it will only make the installer larger (functions only take a few bytes, adding it in native code to the exehead takes much more space).<br />
<br />
You could write a plug-in with string functions, but it will still be larger than functions, and it will do exactly the same.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">20th January 2004, 20:13</div></div><div class="posttext">i would add these typical c++ string-commands:<br />
String.SubString<br />
StringReplace<br />
String.LastDelimiter<br />
String.Length<br />
String.Pos<br />
<br />
i think, those are the most used, an important commands (after the included StrCpy and StrCmp).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th January 2004, 20:38</div></div><div class="posttext">Most of these things can be done using the current commands (StrLen etc.). For the others you can use a function.<br />
<br />
If someone wants to make a plug-in or header file with string manipulation functions, I will include it in the distribution.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">20th January 2004, 20:41</div></div><div class="posttext">hmm, yes, i already thougt at a plugin for those commands, or even a collection of macros doing this in a header-file at the include-dir.<br />
maybe an include-file would be easier ...<br />
<br />
ah, i forgot that StrLen already exists :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th January 2004, 21:07</div></div><div class="posttext">It would be nice if someone could put all useful string functions together in a nice header file with some documentation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">20th January 2004, 22:33</div></div><div class="posttext">Do you want the typical &lt;string.h&gt; (http://www.cplusplus.com/ref/cstring/) functions?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KHysiek</div><div class="date">21st January 2004, 06:56</div></div><div class="posttext">Not all, but a few, the most handy during setup functions, like those I mentioned. I don't think they would take more than 1-2KB of code.<br />
<br />
Originally posted by Joost Verburg <br />
Concatenating strings can be done with StrCpy, like<br />
<br />
StrCpy $MYSTRING &quot;sometext $MYSTRING1 $MYSTRING2&quot;<br />
What if I want to insert variable into word, like &quot;$APPNAMEreadme.txt&quot;, will it work correctly if I will have variables $APPNAME, $APPNAMER, $APPNAMEREAD ?<br />
<br />
PS. How to display path text from string char in Label control of dialog window? I have to convert it to C-style string; creating such function in current script would be quite painful.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MoNKi</div><div class="date">21st January 2004, 10:52</div></div><div class="posttext">Originally posted by KHysiek <br />
PS. How to display path text from string char in Label control of dialog window? I have to convert it to C-style string; creating such function in current script would be quite painful. <br />
<br />
This may help you: http://nsis.sourceforge.net/archive/nsisweb.php?page=290&amp;instances=0,11,122</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st January 2004, 11:43</div></div><div class="posttext">Putting all of the codes in one file, ready to include, like the &lt;string.h&gt; C++ file and thousands of others inside the C++, is the unique solution for that, I think, like Joost said.<br />
<br />
If everyone wants, I can make an integrated file for that, but you have to aid sometimes because I don't know the C++ files and codes! (I think I have at least the C++ files, but I don't know how to use them)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spatacoli</div><div class="date">21st January 2004, 18:34</div></div><div class="posttext">It would be nice to have all of the string functions in one place. I often forget which header file I have strstr in or which one has strreplace. It would be great to include string.nsh and have all those functions right there (and probably something I should have been doing on my own anyway.).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">21st January 2004, 19:49</div></div><div class="posttext">yes, that would be really nice.<br />
but i think, if someone collects all this functions, it will be better to convert them to macros. macros are much easier to include in the code, than functions, which require some 'pushing'.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">21st January 2004, 21:14</div></div><div class="posttext">Must agree, better than plugin, a Nsis Header (NSH) will be a solution. I'm making a plugin, (3.40 KB) and 3 functions to include; I think will be better to make Nsis header files rather to embed the DLL.... :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd January 2004, 21:46</div></div><div class="posttext">I'll do this way: (example)<br />
<br />
${StrTok} $0 &quot;My text&quot; &quot; &quot;<br />
<br />
It will combine:<br />
<br />
Defines - easy the call of commands.<br />
Macros - easy the call of command parameters.<br />
Functions - don't occupy much space in compiled installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">22nd January 2004, 22:02</div></div><div class="posttext">Great, if you can finish it soon it can be included in NSIS 2.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd January 2004, 22:23</div></div><div class="posttext">Wow, that was unexpected... <br />
<br />
In the case of StrTok, I don't know if I have to put the result in a variable, several ones, or use several times the same command to return results for each string before and after separators...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">22nd January 2004, 22:52</div></div><div class="posttext">Something to bear in mind if you plan on bundling all these functions in a single header: all of them will be included in the installer whether used or not, and the compiler will throw up warnings about them.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spatacoli</div><div class="date">22nd January 2004, 23:03</div></div><div class="posttext">I thought they'd only be included if you specifically say:<br />
!include &quot;strings.nsh&quot;<br />
<br />
'Doh Sorry, didn't think about it very hard before I posted. :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">22nd January 2004, 23:23</div></div><div class="posttext">He means that all functions in a header file will be included when including the file.<br />
<br />
This problem can be solved by using macros which is already what deguix wants to do.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd January 2004, 23:31</div></div><div class="posttext">EDIT: I think that this should be not included in the NSIS 2, because putting this without much work in it (the first version) will be complainted for everyone, that something could be better.<br />
<br />
You remember the old NSIS Update? It was just included after some NSIS versions, because needed to be changed?...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">23rd January 2004, 03:27</div></div><div class="posttext">Ok, I have the beta... It has these functions now:<br />
<br />
Function - Command &quot;Parameters&quot;:<br />
<br />
Search in String Function - ${StrStr} &quot;ResultVar&quot; &quot;StrToSearchIn&quot; &quot;StrToBeSearched&quot;<br />
StrTok Function - ${StrTok} &quot;ResultVar&quot; &quot;ResultVar2&quot; &quot;StrToTokenizing&quot; &quot;Separators&quot;<br />
Copy to Clipboard Function - ${StrClbSet} &quot;String&quot;<br />
Copy from Clipboard Function - ${StrClbGet} &quot;ResultVar&quot;<br />
<br />
Use a first command out of Sections and Functions to insert its function in your installer script.<br />
<br />
I made changes in two functions:<br />
<br />
StrTok Function - now is based in StrStr, more simpler I think, but the results didn't change.<br />
<br />
Copy from Clipboard Function - the function name was &quot;CopyToClipboard&quot;, changed it to &quot;CopyFromClipboard&quot;.<br />
<br />
(I think someone should put the Modern UI startup message in the compilation as my style, because is more clear.)<br />
<br />
(The documentation doesn't say about &quot;/*&quot; (start) and &quot;*/&quot; (end) for comments.)<br />
<br />
Example Script:<br />
<br />
Name Test<br />
OutFile Test.exe<br />
<br />
!include &quot;StringFunctions.nsh&quot;<br />
<br />
${StrStr}<br />
<br />
Section<br />
<br />
${StrStr} $0 &quot;this is a long ass string&quot; &quot;ass&quot;<br />
<br />
SectionEnd<br />
<br />
<br />
Put this file in the NSIS Include Dir.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">23rd January 2004, 10:11</div></div><div class="posttext">Yes, you can also use C-style comments. I'll add it to the manual.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">25th January 2004, 14:03</div></div><div class="posttext">Version 0.02, now just lacks the documentation and more tests...<br />
<br />
This file includes basic how to use, commands, and comments about functions included and not included.<br />
<br />
If you have any complaint about functions included or not included, please tell me now or I will finish the final version first... :cool:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KHysiek</div><div class="date">27th January 2004, 17:25</div></div><div class="posttext">So, what about functions I've mentioned earlier ? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">28th January 2004, 03:19</div></div><div class="posttext">* finding index of char/substr in string<br />
<br />
Maybe a change to StrStr to do that, so I have to work a little bit...<br />
<br />
* finding first occurence char from subset in string starting from index.<br />
<br />
You can do this using StrCpy to customize where it will start and use StrStr Function.<br />
<br />
* replacing char/substring in string<br />
<br />
Use StrReplace Function.<br />
<br />
* conversion to/from C-style strings (for easier using strings in Windows functions).<br />
<br />
Hmmmm... maybe using System plugin or Math plugin. I will try to search.<br />
<br />
* concatenating string (in current system name of veriable is joined with following text, which can make trouble in some cases) OR append-to-text function.<br />
<br />
One command resume it all: StrCpy.<br />
<br />
PS. How to display path text from string char in Label control of dialog window? I have to convert it to C-style string; creating such function in current script would be quite painful.<br />
<br />
Use NSISToIO inside header file. (I don't know if this is right if you want to do that in a normal dialog from Windows or something)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th January 2004, 15:32</div></div><div class="posttext">conversion to/from C-style strings (for easier using strings in Windows functions).NSIS uses C-style strings. What do you mean by this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st January 2004, 20:52</div></div><div class="posttext">Any estimate to when 1.00 will be ready?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">31st January 2004, 22:05</div></div><div class="posttext">Hehehe, I bought a new game and I and my brother couldn't stop to play it until now... but it is nearly done. 6:00 AM of tomorrow is done, or more soon if it is possible... (sharing pc problems, you know)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">1st February 2004, 14:11</div></div><div class="posttext">Version 1.00 done. Included the header file and manual.<br />
<br />
Changes:<br />
<br />
- Added documentation.<br />
- Renamed header file to &quot;StrFunc.nsh&quot;.<br />
- Added 1 function, StrLoc.<br />
- Modified StrStrAdv, removed some lines.<br />
- Fixed StrTok, 2 simple numbers made it loop everytime.<br />
- Fixed some small issues in the header file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th February 2004, 11:37</div></div><div class="posttext">Thanks.<br />
<br />
I tried to write an example file for the header file but stumbled upon a few problems. The example file, including the described problems is attached.<br />
<br />
StrLoc doesn't seem to function when the string it searches for is larger than the string it searches in. I found this because I got confused of the readme which states the usage line is:<br />
<br />
${StrLoc} ResultVar String StrToSearchIn Direction<br />
<br />
On first look it looks like I'm supposed to put the string that I want searched in StringToSearchIn, but it's the other way around. How about SearchIn SearchFor?<br />
<br />
According to my understanding, the next line should return &quot;abc&quot;, but it doesn't:<br />
<br />
${StrStrAdv} $0 &quot;abcabcabc&quot; &quot;abc&quot; &quot;&lt;&quot; &quot;&gt;&quot; &quot;0&quot; &quot;1&quot;<br />
<br />
It returns an empty string. If I search for the second occurrence of &quot;abc&quot; in &quot;abcabcabc&quot;, starting from the right position, it should find the second set of &quot;abc&quot;, but it doesn't.<br />
<br />
StrSort doesn't seem to want to search for more than one char (line 136). It also has a problem if you want to search for &quot;error&quot; (line 139).<br />
<br />
And last but not least, StrTok gets stuck in an endless loop if the token number is 0.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">6th February 2004, 03:23</div></div><div class="posttext">Version 1.01, all bugs you said are fixed:<br />
<br />
- Fixed Documentation about StrSort and StrTok.<br />
- Fixed StrTok default value for the string part. Now it's &quot;L&quot;.<br />
- Fixed StrStrAdv fixed wrong search when had a combination of same substrings one after another in a string.<br />
- Fixed StrLoc, when a string isn't found, don't return any value at all.<br />
<br />
Read the manual for see more details.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th February 2004, 13:50</div></div><div class="posttext">StrLoc and StrSort are still not working right. The documentation of StrSort got mixed up. It's talking about StringToSearch but there is no such parameter on the usage line. Example attached.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th February 2004, 00:42</div></div><div class="posttext">Fixed StrLoc, removed StrSort and added to CVS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th February 2004, 03:17</div></div><div class="posttext">Oh right, as you wish...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th February 2004, 12:28</div></div><div class="posttext">But I did another version, adding my new AdvStrSort, and fixing spelling errors in the documentation:<br />
<br />
New in 1.02 - 02/07/04:<br />
-----------------------<br />
<br />
- Fixed Documentation about StrLoc. &quot;Direction&quot; is really<br />
&quot;OffsetDirection&quot;.<br />
- Added my new AdvStrSort, and removed the old one.<br />
<br />
I tested the new function all night until now, and it's working.<br />
<br />
Kichik, don't dispair. Use the same example you're using just adding the new qualities of AdvStrSort (called inside as StrSort). Nothing was changed in other functions.<br />
<br />
Example of use - StrSort:<br />
<br />
${StrSort} $0 &quot;This is just an example&quot; &quot; just&quot; &quot;&quot; &quot;ple&quot; &quot;0&quot; &quot;0&quot;<br />
<br />
$0 = &quot;This is an exam&quot;<br />
<br />
;&quot;This is just an example&quot; is the String<br />
;&quot; just&quot; is the CenterStr<br />
;&quot;&quot; is the LeftStr<br />
;&quot;ple&quot; is the RightStr<br />
;Display LeftStr and RightStr FALSE<br />
;Display CenterStr FALSE</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th February 2004, 13:40</div></div><div class="posttext">Are you sure you want to keep the old version of the readme and not use my changes?<br />
<br />
This StrSort call fails:<br />
<br />
${StrSort} $0 &quot;This is just an example&quot; &quot;j&quot; &quot;&quot; &quot;&quot; &quot;1&quot; &quot;0&quot;<br />
StrCmp $0 &quot;This is ust an example&quot; 0 strsorterror</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th February 2004, 13:57</div></div><div class="posttext">Yep. Because the last &quot;0&quot; says that will not include the CenterStr.<br />
<br />
I did your changes in my documentation. Only if had any more changes you did in other functions but StrLoc...<br />
<br />
You can do any changes to it, I can't go to Internet 9:00AM to 10:00PM (but sometimes I can with a little help...).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th February 2004, 14:02</div></div><div class="posttext">But it does include CenterStr, that's the problem.<br />
<br />
The zip you've attached doesn't include a single change I made to the readme.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th February 2004, 15:07</div></div><div class="posttext">Fixed and included your changes in the readme.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th February 2004, 15:49</div></div><div class="posttext">Thanks, uploaded.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th February 2004, 15:53</div></div><div class="posttext">Ahhhh... This time it is right... Thanks for all Kichik.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spatacoli</div><div class="date">9th February 2004, 17:18</div></div><div class="posttext">thanks deguix and Kichik, I've been using these string functions with the new build and they work great! Thank you for your hard work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">11th February 2004, 09:50</div></div><div class="posttext">Hi everyone !<br />
<br />
First of all, congratulation to the NSIS dev team : I've used NSIS two years ago to build an installer for my university project, it worked great for my needs.. <br />
<br />
When I started using it again a few months ago, I couldn't believe how nicer it became! I'm glad the version 2.0 has been released, keep up gooooood work :up: !<br />
<br />
<br />
Now here is my question.<br />
<br />
@deguix: no doubt your string functions header is useful, but is there an easy way to use these functions in the uninstaller ? Euh, maybe I missed something ?<br />
<br />
<br />
Thanks :) <br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">11th February 2004, 13:09</div></div><div class="posttext">sure.<br />
use it in the same way like in the installer.<br />
just in an &quot;un.xyz&quot; section, or in the &quot;Uninstaller&quot;-section, or any related function.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">11th February 2004, 13:33</div></div><div class="posttext">Err, well, I've already tried before  to post in this thread, but obviously the compiler complains about the functions not starting with &quot;un.&quot;...<br />
<br />
Apparently it's not possible to use them in the uninstaller without having to modify the (neatly designed) header. <br />
<br />
Am I wrong ?  :confused: <br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">12th February 2004, 03:10</div></div><div class="posttext">I'll fix that and another bug tomorrow.<br />
<br />
To everyone know, the reason I'm slow in responses and fixes is that I have 2 school tests tomorrow(school time: 8:00 AM to 2:15 PM), I have 2 school projects to do, I share the computer with 3 more persons, my internet time is limited 5AM to 7AM, sometimes I use at 10PM, and rarely I can use another times.<br />
<br />
So please, BE PATIENT.<br />
<br />
Just that for now...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">12th February 2004, 10:09</div></div><div class="posttext">Deguix : don't worry, there is no hurry .. I could'nt provide fixes and answers with half of your amount of work :p <br />
<br />
So ... good luck for your exams :) <br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">13th February 2004, 03:08</div></div><div class="posttext">Just ignore my last message...<br />
<br />
1.03 - 02/12/2004<br />
<br />
- Added commands support for uninstall sections and functions.<br />
- Fixed variables switch in &quot;StrLoc&quot; and &quot;StrTok&quot; after using these.<br />
<br />
Read the manual first to use commands supported for uninstall section, nothing changed with install supported commands.<br />
<br />
The file:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">13th February 2004, 10:17</div></div><div class="posttext">Hi Deguix ! Thanks a lot for your fix, but, err, I hate to say that but I still have troubles... :( <br />
<br />
1) I Have tried the sample provided in the doc (2.2 How To Use Commands In Uninstall Sections and Functions) : <br />
it does work using either ${StrStr} or ${UnStrStr}, but doesn't work if I use both  :weird: :<br />
<br />
!insertmacro: macro &quot;FUNCTION_STRING_StrStr&quot; requires 0 parameter(s), passed 3! <br />
<br />
2) There is a &quot;mistake&quot; for the function StrTok, the second macro used to call the function is :<br />
!macro FUNCTION_STRING_StrTok_Call <br />
instead of <br />
!macro FUNCTION_STRING_UnStrTok_Call<br />
<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">13th February 2004, 11:13</div></div><div class="posttext">Euh, sorry but I think I've just found two other &quot;mistakes&quot; in the following macros:<br />
<br />
1) in &quot;FUNCTION_STRING_StrStrAdv&quot;:<br />
<br />
 ; ...<br />
!ifdef FUNCTION_STRING_UninstSupport<br />
      !undef UnStrStrAdv<br />
      !define UnStrStrAdv &quot;!insertmacro FUNCTION_STRING_UnStrStrAdv_Call&quot;<br />
      Function un.AdvancedStrStr<br />
    !else<br />
      !undef StrStrAdv<br />
      !define StrStrAdv &quot;!insertmacro FUNCTION_STRING_StrStrAdv_Call&quot;<br />
      Function AdvancedStrStr<br />
    !endif<br />
<br />
    Function AdvancedStrStr  ; &lt;-- should be removed <br />
 ; ...<br />
<br />
2) Same for &quot;FUNCTION_STRING_StrLowerCase&quot;<br />
<br />
<br />
Thanks :)<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">13th February 2004, 12:36</div></div><div class="posttext">ammm.... And I forgot to say: &quot;I didn't test this feature&quot;, so can have a lot of mistakes in there... but anyways, thanks evilO. Same version 1.03.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">13th February 2004, 13:54</div></div><div class="posttext">Well, Deguix, it seems that I still can't get your example to work... :confused: <br />
<br />
There is apparently no way to use both functions in the same script. I mean, ${StrStr} AND ${UnStrStr} for instance. I've attached the output if that can help.<br />
<br />
Well, I'm sorry to be such a pain :( <br />
<br />
evilO/Olive<br />
<br />
PS: Have a good week-end :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">13th February 2004, 15:14</div></div><div class="posttext">Ohhh, now I remember, is a define to indentify if a function inserter command has been called more than one time... When I define it before calling the inserter macro, it skips the code. EDIT: When you call the ${StrStr} and ${UnStrStr} is like calling it two times (so you can use after ${UnStrFunc} the same ${StrStr} that will be the same thing as ${UnStrStr}).<br />
<br />
I'll publish the fix when I exit from school (I'm there now) and when I have the first opportunity to connect to internet in home.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">14th February 2004, 01:20</div></div><div class="posttext">The fix is here (I think), test it. Same version number 1.03.<br />
<br />
(from those tests I mention before, all of them were 100 or above (from bonus questions))</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">17th February 2004, 09:26</div></div><div class="posttext">Hi Deguix ! <br />
<br />
Thanks for the quickness of your answers, I'm sorry I couldn't test your fix earlier but I was away 'til this morning..  <br />
<br />
Well, everything seems to work fine as far as I have tested... :)   I'm glad you got this header file working, these functions will really help (plus I'm creating a header file as well and now I know how to design it efficiently :p).<br />
<br />
Thanks a lot for your efforts :up: !!<br />
<br />
<br />
<br />
evilO/Olive<br />
<br />
PS: about your tests I've no idea whether a mark above 100 is good or not (but I assume it is otherwise you wouldn't have written it :D ), as in France the range is from 0 to 20 ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">17th February 2004, 13:41</div></div><div class="posttext">Version 1.03 has been uploaded to CVS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">18th February 2004, 10:44</div></div><div class="posttext">Maybe in future it can be more than just a header file of string functions...<br />
<br />
[About Tests:]<br />
<br />
 In Brazil the range is from 0 to 10, or are letters P (10), S+ (7.5), S (5), S- (2.5), and NS (0) or are letters PS (10), S+ (7.5), S (5), S- (2.5), and I (0) (maybe it has more).<br />
<br />
  In U.S.A. the range is from 0 to 100 which results in the letters A+(97-100) A(93-97) A-(90-93) B+(87-90) B(83-87) B-(80-83) C+(77-80) C(73-77) C-(70-73) D+(67-70) D(63-67) D-(60-63) F(0-60) E(didn't complete the course objectives).<br />
<br />
Maybe this is interesting:<br />
<br />
  In Sao Paulo city, because have a lot of people, and so the schools are crowded, there has a law that you can pass grades 1-7 with the worst score. I don't remember when they launched that law (1997 or 98), but I know when you do that, you go to &quot;summer school&quot;, and they pass you to the next grade after.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">20th February 2004, 16:56</div></div><div class="posttext">Hi Deguix !<br />
<br />
Maybe in future it can be more than just a header file of string functions... <br />
<br />
What do you mean ? you intend to make a plugin with these functions ? Don't you think the header file is enough ?<br />
BTW I rewrote and reorganized all my header files using your 'design' (defines-macros-functions), now it's easier with less code and it's working perfectly :up: ! <br />
<br />
<br />
About the tests: <br />
Ok I understand better now, although I find it strange to have letters AND numbers for the tests marks, especially if the range is just from 0 to 10.. Well, I'm used to have only numbers that's why :D<br />
So you achieved more than 100 !!! felicitações ! What would that make ? A++ :p !?<br />
<br />
About San Paulo City (it IS interesting): can't they keep up with the construction of new schools or is it that the city council don't want to ? I mean, the problem has to be serious if they have to make a law: what about the &quot;credibility&quot; of the educational system if anyone can pass :weird: !?<br />
<br />
Anyway have a nice week-end :)<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st February 2004, 15:52</div></div><div class="posttext">What do you mean ? you intend to make a plugin with these functions ? Don't you think the header file is enough ?<br />
<br />
I meant: more header files of other function types...<br />
<br />
About the tests: <br />
<br />
What would that make ? A++  !?<br />
<br />
Is the same A+.<br />
<br />
About San Paulo City (it IS interesting): can't they keep up with the construction of new schools or is it that the city council don't want to ? I mean, the problem has to be serious if they have to make a law: what about the &quot;credibility&quot; of the educational system if anyone can pass  !?<br />
<br />
When the economy continues not good enough, they cut education, culture... results-&gt; the children learn from parents how to disrespect the other... results-&gt; violence, robbery.... There your home is your prision; who should be in prision is on the streets...<br />
<br />
About the credibility, they don't really care, is too difficult to get a new job...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">24th February 2004, 18:03</div></div><div class="posttext">Hello Deguix !<br />
<br />
Which functions types would you like to create headers for ? IMHO the string header was the most important. As I told you I have created some with the functions I needed the most, but I doubt many people would need all that stuff.<br />
<br />
Is the same A+ <br />
It was only a (bad) joke :D <br />
<br />
<br />
About the schools: <br />
<br />
I didn't understand in the first place that it was an economical reason.. Unfortunately it seems to be the same all over the world:<br />
In France as well, since the elections of 2001 they accelerated the reduction of credits for education, research, culture, health, unemployment benefits, retirement benefits (now we have to work longer to get less money at the end), ...  :mad: <br />
And the country's money (our money !!) is going to the police, to the army, to taxes exemption for rich people... Just happiness really... :rolleyes:<br />
<br />
And in top of that they decided to build 30 new prisons, half of which will be specially 'designed' for youngsters.. They changed the law and now you can go in prison being 16 years old, and 'disciplinary actions' can be taken starting from 13 years old... MAD !! Really I get desperate about mankind..<br />
<br />
Well, I think I'll stop complaining for today, and get myself a nice cold beer :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th March 2004, 10:45</div></div><div class="posttext">Version 1.04:<br />
<br />
- Added my new StrCase, removed StrLower and StrUpper.<br />
- Organized by name commands inside header and readme files.<br />
<br />
StrCase converts strings to Lower Case and Upper Case + the new Title Case and Sentence Case (readme's example):<br />
<br />
- Lower Case (this is just an example. however this can be useful.)<br />
- Upper Case (THIS IS JUST AN EXAMPLE. HOWEVER THIS CAN BE USEFUL.)<br />
- Title Case (This Is Just An Example. However This Can Be Useful.)<br />
- Sentence Case (This is just an example. However this can be useful.)Default is &quot;Setence Case&quot;. (I didn't include &quot;Invert Case&quot; by NSIS scripting limitations, I have to use System plugin to implement it)<br />
<br />
(If you noticed, StrCase now appears as the first command due to its name)<br />
<br />
The next target for changes probably is &quot;Number to String Converter Function&quot; which has bugs now.<br />
<br />
The file:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">15th March 2004, 23:47</div></div><div class="posttext">Version 1.05:<br />
<br />
- Added new StrNumToStr. Supported languages are English and Portuguese (Brazil).<br />
- Fixed a bug with StrCase, Title Case wasn't working as should be.<br />
- Fixed a bug with StrStrAdv, previous fix created another bug, string not returned correctly when using backwards search with &quot;DisplayStrToSearch&quot; as &quot;0&quot;.<br />
<br />
New Function StrNumToStr:<br />
<br />
Converts Numbers to Strings. Main Features:<br />
<br />
- Multilanguage support. (English and Portuguese (Brazil))<br />
- Supports numbers up to 18 digits.<br />
- Virtually, the number digits limit is unlimited (doesn't use Int64), I'm just lazy to add support for numbers bigger than quadrillion...<br />
<br />
(as it uses just two languages now, has to be included any of the languages supported by the command in your script)<br />
<br />
Anyone can contribute or talk about StrNumToStr translations.<br />
<br />
Please test it so I can be certain about its quality.<br />
<br />
The file:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">16th March 2004, 22:37</div></div><div class="posttext">Will someone put this version 1.05 inside NSIS package? It has something wrong or is too much updated in a small amount of time?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">17th March 2004, 10:33</div></div><div class="posttext">Hi Deguix :) <br />
<br />
I wanted to do some translations for this new function, and I played a bit with it.. I just have a few questions:<br />
<br />
1) For &quot;1789&quot; I have the result &quot;Seventeen hundred and eighty-nine&quot;, shouldn't it be &quot;one thousand seven hundred and eighty-nine&quot; ? <br />
<br />
I have noticed it as in french it should be &quot;mille sept-cent quatre-vingt-neuf&quot;, except if you're talking about a date, in which case both can be used.<br />
For instance:<br />
&quot;la Revolution francaise a eu lieu en dix-sept cent quatre-vingt-neuf&quot;<br />
(&quot;The french revolution took place in seventeen hundred and eighty-nine&quot;)<br />
<br />
<br />
2) Another point: <br />
<br />
- If I set &quot;100-900_DIFFERENT&quot; to 1, I have: <br />
123123 &quot;Cent vingt-trois mille cent vingt-trois&quot; -&gt; correct<br />
<br />
223223 &quot;vingt-trois mille  vingt-trois&quot; -&gt; NOT correct, should be &quot;deux cent vingt-trois mille deux cent vingt-trois&quot;<br />
<br />
- If I set &quot;100-900_DIFFERENT&quot; to 0, I have: <br />
<br />
123123 &quot;un cent vingt-trois mille un cent vingt-trois&quot; -&gt; NOT correct (errors in red)<br />
<br />
223223 &quot;Deux cent vingt-trois mille deux cent vingt-trois&quot; -&gt; correct<br />
<br />
<br />
3) Could you explain these:<br />
<br />
11-19_EQUAL<br />
100-900_DIFFERENT<br />
11-99_HUNDRED <br />
<br />
Thanks<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">17th March 2004, 21:31</div></div><div class="posttext">I made some changes to it, added a new LangString for your case, and changed the names of other LangStrings to easier to understand... Test it. Same version. (thanks for trying to translate it, so I can make changes depending how the numbers from other languages are).<br />
<br />
1) You can set the translation option &quot;1100-9900_ARE_HUNDRED&quot; to 0, so will output right as you need.<br />
<br />
2) I added an option to support this, see the new LangStrings inside StrFunc.nsh.<br />
<br />
3) I made changes to make things more clear, see the new LangStrings inside StrFunc.nsh.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">19th March 2004, 10:33</div></div><div class="posttext">Hi Deguix :) !<br />
<br />
Ok I tested the modifications:<br />
<br />
1) Ok, this works fine now, thanks :up: <br />
<br />
2) Still does not work: maybe another flag has to be added for that. <br />
<br />
In french, if the figure of the hundreds or the thousands is 1, we do *not* write it. Therefore, 123 should give &quot;cent vingt-trois&quot; and not &quot;un cent vingt-trois&quot;<br />
<br />
If this figure is &gt; 1, then we do write it. 223 is written &quot;Deux cent vingt-trois&quot;<br />
<br />
Same for the thousands:<br />
1123 should give &quot;Mille cent vingt-trois&quot; and<br />
2123 should give &quot;Deux mille cent vingt-trois&quot;<br />
<br />
<br />
evilO/Olive<br />
<br />
PS: BTW I just had a few compilation problems and had to make changes to <br />
!define FUNCTION_STRING_UninstSupport<br />
...<br />
<br />
1) I have replaced:<br />
<br />
!define StrNumToStr `!insertmacro FUNCTION_STRING_StrNumToStr`<br />
  by:<br />
<br />
!define UnStrNumToStr `!insertmacro FUNCTION_STRING_StrNumToStr`<br />
<br />
<br />
2) Added:<br />
<br />
!define UnStrCase `!insertmacro FUNCTION_STRING_StrCase`<br />
<br />
and removed:<br />
<br />
!define UnStrUpperCase `!insertmacro FUNCTION_STRING_StrUpperCase`<br />
<br />
!define UnStrLowerCase `!insertmacro FUNCTION_STRING_StrLowerCase`<br />
<br />
<br />
<br />
I think that's all for now :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">25th March 2004, 03:03</div></div><div class="posttext">1) Set &quot;1**_DIFFERENT_SUFIX&quot; LangString to 1 and set &quot;100D&quot; as &quot;hundred (in your language)&quot;. <br />
<br />
&quot;100&quot; and &quot;100D&quot; have to be the same because Portuguese has a little thing different... (100 = &quot;cem&quot;, 101 -&gt; 199 = &quot;cento&quot;)<br />
<br />
2) I fixed these bugs you said now. Test it.<br />
<br />
Oh, thanks for the support, I don't know other languages than English and Portuguese (Brazil) so I don't know what to add besides what I did know.<br />
<br />
EDIT: Ops! Thousands are different too! I have to work on it later, this file above doesn't have it. (Oh man, Portuguese has it too, how did I forget that!)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">25th March 2004, 13:40</div></div><div class="posttext">Hi Deguix !<br />
<br />
Finally, the forums are back :D ! Well, anyway we release some software at the moment and I won't be able to test the functions for a few days.. :(<br />
<br />
Also because writting numbers is more complicated that it looks, at least in french (I had to get a whole web page about writting numbers in french from 1484 to nowadays, with all the variations...).<br />
<br />
But don't worry I'll test it ASAP :)<br />
<br />
Oh, just two little things :<br />
<br />
1) In the macro FUNCTION_STRING_UninstSupport, this define is still there:<br />
<br />
!define StrNumToStr `!insertmacro FUNCTION_STRING_StrNumToStr`<br />
<br />
and should be replaced by<br />
<br />
!define UnStrNumToStr `!insertmacro FUNCTION_STRING_StrNumToStr`<br />
<br />
<br />
2) I've found a (little) bug in the function StrCase :<br />
<br />
If you decide to use $R5 to store the function's return value, the return value is appended to the variable's initial value. Just an initialisation problem.  <br />
<br />
Here is the code to reproduce the bug:<br />
<br />
<br />
!include StrFunc.nsh<br />
${StrCase}<br />
<br />
Name &quot;Example1&quot;<br />
OutFile &quot;example1.exe&quot;<br />
InstallDir $PROGRAMFILES\\Example1<br />
Page instfiles<br />
<br />
Section &quot;&quot;<br />
  StrCpy $R5 &quot;blabla&quot;<br />
  StrCpy $0  &quot;string&quot;<br />
  ${StrCase} $R5 &quot;$0&quot; &quot;Upper Case&quot;<br />
  MessageBox MB_OK &quot;Res: $R5&quot;  ; &lt;-- at this point the result is &quot;blablaSTRING&quot;<br />
SectionEnd<br />
 <br />
<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">25th March 2004, 22:27</div></div><div class="posttext">Ahhh... how the old times were good, I had the entire day to test all things I submitted (the computer was too worse you couldn't really play on it). Now with a new computer, the time was shrunken and my brother is liking it because he can now access the internet about everytime, and play his favourite games...<br />
<br />
But I'll try to make a file to test this file before launching a new version to test if it works.<br />
<br />
Is it really hard to learn how to use French numbers or you're just saying you're not French?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">26th March 2004, 10:37</div></div><div class="posttext">Hi Deguix<br />
<br />
Yeah I've seen a few posts about your brother who monopolizes the computer... Erf, the &quot;old times&quot; ... Well, I recall on a 0x86 we could already play at &quot;Double Dragon&quot; or &quot;Xenon 2&quot;, but <br />
you're brother probably doesn't know about these :p <br />
<br />
Oh, and I'm french :D... But there a a different rules, especially for big numbers (what they call &quot;short scale&quot; and &quot;long scale&quot;), some variations. So I would like to take some time to make sure the function behave correctly, and to make proper translations...<br />
<br />
Have a nice week-end !  :)<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">27th March 2004, 03:22</div></div><div class="posttext">Version 1.06:<br />
<br />
- Added instructions for StrNumToStr translation.<br />
- Fixed lots of bugs from faulty basic header file structure relating to StrNumToStr command.<br />
- Fixed the bug where the old string was attached to string returned by StrCase when $R5 variable was used.<br />
<br />
I've a new file for testing, which provides all the essential verification system for the header file.<br />
<br />
It isn't included with the package because it's just for developer's use now. :(<br />
<br />
Fixed bugs all bugs, including the ones you said and ones we didn't discover before. Bugs already fixed will never appear anymore.<br />
<br />
And I added a new LangString for StrNumToStr, 1***_DIFFERENT_PREFIX which enables thousands to be w/o the number on the left.<br />
<br />
Test drive it now!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">6th April 2004, 16:03</div></div><div class="posttext">Hi deguix !<br />
<br />
Well, I'm really sorry about the delay but as I told you we had <br />
some piece of software to release, deadlines, etc. :(<br />
I really had no time, I'm glad it's over for now... :)<br />
<br />
<br />
So I have tested the function, and my conclusion is that it's definitely complicated to create such a function with the support of several languages... :D<br />
<br />
<br />
Correct strings are in green, &quot;errors&quot; are in red.<br />
<br />
<br />
1) About the hundreds and the thousands without the prefix:<br />
<br />
It's working perfectly :up:<br />
<br />
<br />
2) About the numbers from 21 to 69:<br />
<br />
The separator changes, it's a special case for 21, 31, 41, 51, 61.<br />
Another flag might have to be added (!!)<br />
<br />
- If I set &quot;Sep*0-*9&quot; to &quot; et &quot;, I get this:<br />
<br />
20 -&gt; vingt<br />
21 -&gt; vingt et un<br />
22 -&gt; vingt et deux<br />
23 -&gt; vingt et trois<br />
<br />
- If I set &quot;Sep*0-*9&quot; to &quot;-&quot;, I get this:<br />
<br />
20 -&gt; vingt<br />
21 -&gt; vingt-un<br />
22 -&gt; vingt-deux<br />
23 -&gt; vingt-trois<br />
<br />
- And it should be:<br />
<br />
20 -&gt; vingt<br />
21 -&gt; vingt et un<br />
22 -&gt; vingtt-deux<br />
23 -&gt; vingtt-trois<br />
...<br />
<br />
<br />
<br />
3) About the numbers from 70 to 79:<br />
<br />
Instead of having the figure of the tens for &quot;seventy&quot; + 1, 2, 3 ..,<br />
we use the figure of the tens for &quot;sixty&quot;: + 11, 12, 13, ...<br />
<br />
- I get:<br />
<br />
70 -&gt; soixante-dix          (60-10)<br />
71 -&gt; soixante-dix et un    (60-10 et 1)<br />
72 -&gt; soixante-dix et deux  (60-10 et 2)<br />
73 -&gt; soixante-dix et trois (60-10 et 3)<br />
<br />
- Instead of:<br />
<br />
70 -&gt; soixante-dix          (60-10)<br />
71 -&gt; soixante et onze      (60 et 11)<br />
72 -&gt; soixante-douze        (60-12)<br />
73 -&gt; soixante-treize       (60-13)<br />
...<br />
<br />
<br />
<br />
4) Same for the numbers from 90 to 99:<br />
<br />
Instead of having the figure of the tens for &quot;ninety&quot; + 1, 2, 3 ..,<br />
we use the figure of the tens for &quot;eighty&quot;: + 11, 12, 13, ...<br />
<br />
- I get:<br />
<br />
90 -&gt; quatre-vingt-dix          (4-20-10)<br />
91 -&gt; quatre-vingt-dix et un    (4-20-10 et 1)<br />
92 -&gt; quatre-vingt-dix et deux  (4-20-10 et 2)<br />
93 -&gt; quatre-vingt-dix et trois (4-20-10 et 3)<br />
...<br />
<br />
- Instead of<br />
<br />
90 -&gt; quatre-vingt-dix          (4-20-10)<br />
91 -&gt; quatre-vingt-onze         (4-20-11)<br />
92 -&gt; quatre-vingt-douze        (4-20-12)<br />
93 -&gt; quatre-vingt-treize       (4-20-13)<br />
...<br />
<br />
Now it starts to get complicated...<br />
<br />
<br />
<br />
5) For the numbers from 80 to 89:<br />
<br />
5a: Here we use the figure of the tens for &quot;eighty&quot; + 1, 2, 3 ..<br />
5b: it's the same separator for all the numbers<br />
5c: there is a special rule for the plural, as for the hundreds (see point 6)<br />
<br />
Therefore we should have:<br />
<br />
80 -&gt; quatre-vingts             (4-20)<br />
81 -&gt; quatre-vingt-un           (4-20-1)<br />
82 -&gt; quatre-vingt-deux         (4-20-2)<br />
83 -&gt; quatre-vingt-trois        (4-20-3)<br />
...<br />
<br />
<br />
<br />
6) For the hundreds:<br />
<br />
The word &quot;cent&quot; (hundred) does vary when there is a digit that multiplies it just before,<br />
and when it's not followed by a cardinal number.<br />
<br />
6a: if there are no digits after the hundreds<br />
<br />
For instance:<br />
100 -&gt; cent<br />
200 -&gt; deux cents   (2 * 100)<br />
300 -&gt; trois cents  (3 * 100)<br />
400 -&gt; quatre cents (4 * 100)<br />
...<br />
<br />
BUT:<br />
1100 -&gt; mille cent (1000 + 100, does NOT multiply)<br />
<br />
<br />
6b: if there are digits after the hundreds<br />
<br />
201 -&gt; deux cent un<br />
202 -&gt; deux cent deux<br />
203 -&gt; deux cent trois<br />
...<br />
200 000 -&gt; deux cent mille<br />
<br />
BUT:<br />
200 000 000     -&gt; deux cents millions<br />
200 000 000 000 -&gt; deux cents milliards<br />
...<br />
<br />
As millions, milliards and so on are not &quot;cardinal number&quot; but &quot;names&quot;.<br />
<br />
Exactly the same rule applies for the word &quot;vingt&quot; in &quot;quatre-vingts&quot;.<br />
<br />
81 -&gt; quatre-vingt-un<br />
82 -&gt; quatre-vingt-deux<br />
83 -&gt; quatre-vingt-trois<br />
...<br />
80 000 -&gt; quatre-vingt mille<br />
<br />
BUT:<br />
80 000 000     -&gt; quatre-vingts millions<br />
80 000 000 000 -&gt; quatre-vingts milliards<br />
<br />
<br />
<br />
Ok I think that's all for now. I just hope that it was clear, don't hesitate to ask if you've got any question.. :) <br />
<br />
<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">6th April 2004, 21:33</div></div><div class="posttext">What is that? Oh man, this will be more complicated than I ever imagined... OK, it won't be done so fast...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th April 2004, 21:37</div></div><div class="posttext">How about a version without that function for now?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th April 2004, 02:16</div></div><div class="posttext">As you wish, removed all info about this function for now, until I get it done (won't be so soon :():</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">7th April 2004, 16:02</div></div><div class="posttext">Hi Deguix !<br />
<br />
I'm sorry to have discouraged you, I just wanted to help... :(<br />
But, as I told you in a previous post, it's quite complicated to write<br />
numbers in french (I think you have noticed :D).<br />
And I tried to make it as simple and structured as possible...<br />
<br />
Well, it's not an easy job, I understand you don't want to program that now.<br />
Just let me know when something is done if you want me to do some tests.. :)<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">7th April 2004, 23:51</div></div><div class="posttext">I don't want to do that now because I working on several projects for some other programs. Just to prevent &quot;overload&quot;. :D But when everything is clear I'll work again on it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">5th June 2004, 01:01</div></div><div class="posttext">I just uploaded the new version of StrFunc.nsh test. Is to replace the older one (which doesn't compile now). It tests all commands when installing and uninstalling.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">25th June 2004, 12:04</div></div><div class="posttext">So which one is it going to be for 2.01?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">25th June 2004, 18:51</div></div><div class="posttext">1) The last zip file.<br />
<br />
2) This last file which is the test of StrFunc (as you or Joost requested in PM, replacing the example coming with NSIS which has problems).<br />
<br />
3) The updated documentation below. I fixed only the mention of StrNumToStr on the Comments about functions included and not included, Version History and Functions Credits. Same version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">17th September 2004, 01:21</div></div><div class="posttext">As kichik slowed so much the release of NSIS 2.01 (see previous posts) I could have some time off to do the new String Functions Header File. Give a look on these changes below:<br />
<br />
1.07 - 09/16/2004<br />
<br />
- StrStrAdv and StrCase have their functions remodeled with LogicLib.<br />
Functions have a lesser chance to have bugs.<br />
- Added case-sensitive comparation option for StrStrAdv.<br />
- StrCase now uses System.dll which makes case convertions effective with<br />
all latin letters (i.e. ê).<br />
- StrClbSet and StrClbGet removed, added StrClb.<br />
- Made compact the most usual operations inside the header file. File size<br />
reduced.<br />
- Added &quot;!verbose&quot; to header file -&gt; faster compilation and header file<br />
output organized (code borrowed from LogicLib.nsh).<br />
<br />
Kichik, as you plan to release NSIS 2.01 (for real this time) you can put the StrFunc test example on NSIS for now (just to update). Then afterwards, I'll create a better example like the one from Word Functions Header File (but better, hehe :) what am I planning now?)<br />
<br />
Thank you dselkirk and eccles for LogicLib. That tool made everything easier for me this version...<br />
<br />
This file below contains:<br />
<br />
- StrFunc.nsh (header)<br />
- StrFunc.txt (manual)<br />
- StrFunc.nsi (example)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th September 2004, 11:26</div></div><div class="posttext">The example fails on StrClb If you're already using System.dll, why not use IsCharAlpha or even GetStringType instead of lots of comprasions? You don't have to make two copies of the code, you can assume the LogicLib is present. It is installed a line after StrFunc.nsh in makensis.nsi</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">17th September 2004, 12:23</div></div><div class="posttext">Updated documentation because I forgot to remove a feature from ${StrCase}. (not again):(<br />
<br />
The example fails on StrClbThis was not expected by me, where did you find the failure?<br />
<br />
If you're already using System.dll, why not use IsCharAlpha or even GetStringType instead of lots of comprasions?Maybe you should give me &quot;IsCharAlpha&quot; code, because I couldn't get it to work at any costs.<br />
<br />
You don't have to make two copies of the code, you can assume the LogicLib is present. It is installed a line after StrFunc.nsh in makensis.nsiThe real thing is that the LogicLib version is (probably) the same as the converted to normal one. Commenting one of them makes no difference. If you want me to do so I can comment the LogicLib one and just include the original in the distribution.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th September 2004, 12:30</div></div><div class="posttext">The failure is in Examples\StrFunc.nsi.<br />
<br />
IsCharAlpha needs a char. For this, you can treat the string a struct of some bytes and get the first byte.<br />
<br />
If I were you, I'd prefer keeping the LogicLib code. It's simpler. Why keep two versions? It's more work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">17th September 2004, 12:42</div></div><div class="posttext">The failure is in Examples\StrFunc.nsi.But where in the file? I tested and everything passed...<br />
<br />
IsCharAlpha needs a char. For this, you can treat the string a struct of some bytes and get the first byte.I'm not getting this code to work for days. And I already tried that without any luck.<br />
<br />
If I were you, I'd prefer keeping the LogicLib code. It's simpler. Why keep two versions? It's more work.Ok, at least you know how difficult is to create one... I just wanted to keep the original because it doesn't require LogicLib, but if you think so, I'll fix that at night.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th September 2004, 13:10</div></div><div class="posttext">With the files you've attached, it fails in the uninstaller. I haven't gotten into it to see which line exactly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">17th September 2004, 22:08</div></div><div class="posttext">I attached the example again. It's still working for me normally.<br />
<br />
(I should add another thing to the documentation about the &quot;${UnStrFunc}&quot; which was removed)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th September 2004, 22:47</div></div><div class="posttext">I managed to solve it by passing OpenClipboard the window handle (was giving errors about the thread not having an open clipboard associated with it) and by locking and unlocking the handle returned by GetClipboardData (like in the MSDN example).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">17th September 2004, 23:28</div></div><div class="posttext">I managed to solve it by passing OpenClipboard the window handle (was giving errors about the thread not having an open clipboard associated with it) and by locking and unlocking the handle returned by GetClipboardData (like in the MSDN example).The code I used was mostly copied (only with added comments and united options) from the separated old ${StrClbSet} and ${StrClbGet}. The older versions didn't have the window handle set.<br />
<br />
If you are getting errors now, you never tested those before (I think). Can you test if the older StrFunc.nsh version ${StrClbSet} and ${StrClbGet} have this problem?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">18th September 2004, 01:22</div></div><div class="posttext">Posted version requiring LogicLib.nsh to be included before including StrFunc.nsh. But there is still the problems about &quot;IsCharAlpha&quot; API and &quot;${StrClb}&quot; with that issue you said. Maybe is better you to fix the issues above as I don't know how to fix them :(...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th September 2004, 11:46</div></div><div class="posttext">The original example had just one test. The new example has many and it usually doesn't fail in the first one. If I add more tests to the original example, it fails too.<br />
<br />
Here's an example for IsCharAlpha:StrCpy $0 &quot;testing... testing... 1 2 3&quot;<br />
<br />
System::Call &quot;*(&amp;t${NSIS_MAX_STRLEN} r0) i .r1&quot;<br />
StrCpy $2 $1<br />
loop:<br />
System::Call &quot;*$2(&amp;i1 .r4)&quot;<br />
StrCmp $4 0 done<br />
System::Call &quot;user32::IsCharAlpha(i r4) i .r4&quot;<br />
StrCmp $4 0 0 +3<br />
DetailPrint &quot;$4 - not alpha&quot;<br />
Goto +2<br />
DetailPrint &quot;$4 - alpha&quot;<br />
IntOp $2 $2 + 1<br />
Goto loop<br />
done:<br />
System::Free $1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st September 2004, 04:54</div></div><div class="posttext">I'm going to fix tomorrow morning or night (depending if I have time). But what did you do to result in that code so fast? I think only you and brainsucker (and some other people) knows how to do everything with System plugin.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st September 2004, 23:29</div></div><div class="posttext">Ok, I've done what you told me. However maybe you should give the code of ${StrClb} that worked with you so I can implement it to the header file. I can't do anything else because on my computer the old example (first published 1.07 example) runs perfectly.<br />
<br />
I re-added &quot;&lt;&gt;&quot; (switch) case for ${StrCase} because of the code you gave me on your last post.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd September 2004, 17:17</div></div><div class="posttext">It would be nicer if you include LogicLib.nsh yourself and not ask the user to do it. There will be no errors if it's included more than once.<br />
<br />
You forgot to System::Free call for the allocated buffers in StrCase.<br />
<br />
StrClb changes are really simple. Lock and unlock what you get from GetClipboardData and pass $HWNDPARENT and not 0 to OpenClipboard.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd September 2004, 20:59</div></div><div class="posttext">StrClb changes are really simple. Lock and unlock what you get from GetClipboardData and pass $HWNDPARENT and not 0 to OpenClipboard.I'm not totally experienced on System plugin (as I implicitly said with &quot;IsCharAlpha&quot;). I think this discussion could be shortned by just posting a simple code like that one you posted for &quot;IsCharAlpha&quot; (as you said it's simple for you and that you done it already).<br />
<br />
If I would do the code, then probably in the future I would need to fix something on this code as it could not continue to work on your computer... Sorry if I'm so dumb to understand it completely. ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">27th September 2004, 10:57</div></div><div class="posttext">Thanks kichik for including your changes to StrFunc.nsh on NSIS 2.01. Everything is working perfectly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">12th October 2004, 23:02</div></div><div class="posttext">New version of StrFunc. The biggest change: all functions from StrFunc are now on LogicLib coding, and comments added on most parts of functions. Second biggest change: StrSort has been changed and can break old scripts. See its documentation. List of changes:<br />
<br />
1.08 - 10/12/2004<br />
<br />
- Converted all the functions to LogicLib.<br />
- StrSort: Totally remade and it can break old scripts. See documentation for details.<br />
- Added defines: StrFunc_List, *_List and *_TypeList.<br />
- Fixed StrStrAdv: Variables $R0-$R3 couldn't be used on scripts before calling.<br />
- StrRep: Cut down some variables.<br />
- Arranged correctly the order of StrSort on the documentation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">20th October 2004, 17:01</div></div><div class="posttext">Hi Deguix :) <br />
<br />
I know I haven't been on the forum for a while, I just had tons of work to do (and still no Internet connection at home..).<br />
But I was keeping an eye on your String functions header.. I downloaded the last version... Really nice job :up: !<br />
<br />
Well, I just had 2 problems using the new functions header file (but I didn't test all the functions): <br />
- I had to fix all the &quot;StrTok&quot; calls in my scripts as you decreased the starting index for the &quot;ResultPart&quot; (and to re-test and validate everything :() <br />
- You forgot a &quot;Push $R0 / Pop $R0&quot; in the function &quot;StrTok&quot;, the content of $R0 is lost when the function exits<br />
<br />
That's all for now.. bye :)<br />
<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">20th October 2004, 19:48</div></div><div class="posttext">You forgot a &quot;Push $R0 / Pop $R0&quot; in the function &quot;StrTok&quot;, the content of $R0 is lost when the function exitsIt's even worse than I thought, $9 contents are lost also. Thanks for the information.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st October 2004, 17:56</div></div><div class="posttext">So what goes into 2.02?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd October 2004, 03:49</div></div><div class="posttext">I didn't even start to work on it. I totally forgot about NSIS 2.02. As there are only small fixes requested this should be completed tomorrow evening or even sooner.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">22nd October 2004, 10:42</div></div><div class="posttext">Hi Deguix :)<br />
<br />
Hum I noticed some other small problems with the new version of StrFunc.nsh while I was doing some further testing:<br />
<br />
<br />
------- StrCase:<br />
An instruction is missing at the beginning of the function (Exch), the contents of $0 and $1 are swapped when the function exits<br />
<br />
<br />
------- StrClb: <br />
  - I couldn't manage to swap strings using &quot;&lt;&gt;&quot;, so I modified the function, but you'll probably find a better fix :D<br />
<br />
One thing I didn't understand:<br />
For the operation &quot;&lt;&quot;, after the call to &quot;GetClipboardData&quot; there is the handle in $2 <br />
For the operation &quot;&lt;&gt;&quot;, after the call to &quot;GetClipboardData&quot; there is the string in $2 <br />
Why?<br />
<br />
  - There is a typo in the function's comments:<br />
<br />
    $0 = Action (input)<br />
    $1 = String (input)<br />
<br />
  should be<br />
<br />
    $0 = String (input)<br />
    $1 = Action (input)<br />
<br />
------- StrRep: <br />
An instruction is missing at the end of the function (Pop $R3), the content of $R3 is lost<br />
<br />
<br />
------- StrSort:<br />
There is a parameter missing in the doc's example<br />
<br />
<br />
------- StrStrAdv:<br />
The example in the doc is slightly wrong: <br />
<br />
${StrStrAdv} $0 &quot;This IS really just an example&quot; &quot;IS &quot; &quot;&gt;&quot; &quot;&gt;&quot; &quot;1&quot; &quot;0&quot; &quot;1&quot;returns &quot;IS really just an example&quot; (and not &quot;really just an example&quot; as stated in the doc)<br />
<br />
To get the string &quot;really just an example&quot;, the example should be${StrStrAdv} $0 &quot;This IS really just an example&quot; &quot;IS &quot; &quot;&gt;&quot; &quot;&gt;&quot; &quot;0&quot; &quot;0&quot; &quot;1&quot;<br />
<br />
<br />
Hum I think that's all I found..<br />
Have a nice day :)<br />
<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd October 2004, 12:34</div></div><div class="posttext">OK, I expected those functions to have bugs, but I didn't think they contained so many of them.<br />
<br />
I can see that those are mainly from stack, so I should add to the StrFunc.nsi StrCpy's for each variable, and see if they are swaped when they shouldn't be.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">22nd October 2004, 13:59</div></div><div class="posttext">Well they didn't contain that much bugs since you rewrote a lot of the code.. :) Moreover, the functions *do* work, as you said it's mainly stack problems.. <br />
Well, I spoted them because I had strange behaviors in my installers all of a sudden.. <br />
I can see that those are mainly from stack, so I should add to the StrFunc.nsi StrCpy's for each variable, and see if they are swaped when they shouldn't be.<br />
Hum I used a user-defined variable and the &quot;dumpstate&quot; plugin to check the content of the variables, you could do that in a shortened version of StrFunc.nsi to test..<br />
<br />
Ah, and have you an answer for my question about &quot;GetClipboardData&quot; ?<br />
<br />
Thanks, bye ! :)<br />
<br />
evilO/Olive<br />
<br />
PS: sorry I should have attached the 'nsh' file in the previous post..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">IronFist</div><div class="date">22nd October 2004, 15:18</div></div><div class="posttext">*removed*</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd October 2004, 19:55</div></div><div class="posttext">Well they didn't contain that much bugs since you rewrote a lot of the code...For me one bug is enough to make me fix it, so I say one is a lot.<br />
<br />
Hum I used a user-defined variable and the &quot;dumpstate&quot; plugin to check the content of the variables, you could do that in a shortened version of StrFunc.nsi to test..I'm going to do that because that way it is automatic. This means (about) never this bug will appear again when scripting.<br />
<br />
About the documentation, as it is not done automatically, it will probably have typos.<br />
<br />
Ah, and have you an answer for my question about &quot;GetClipboardData&quot; ?Not yet, I have to share the computer with 3 more people so my time is restricted.<br />
<br />
(next time attach .nsh files as they are, don't use the extention .txt at the end)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">23rd October 2004, 00:34</div></div><div class="posttext">I fixed those bugs and some others from other topics posts:<br />
<br />
1.09 - 10/22/2004<br />
<br />
- Fixed stack problems involving: StrCase, StrRep, StrSort, StrTok.<br />
- Fixed StrClb: When &quot;Action&quot; = &quot;&lt;&gt;&quot;, handle was wrongly outputed as text.<br />
- Fixed StrSort, StrStrAdv documentation examples.<br />
- Fixed StrIOToNSIS, StrLoc, StrNSISToIO, StrRep, StrStr: sometimes didn't find &quot;StrToSearch&quot; at all.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">25th October 2004, 10:28</div></div><div class="posttext">For me one bug is enough to make me fix it, so I say one is a lot<br />
Well from that point of view of course.. <br />
I'm going to do that because that way it is automatic<br />
Ok I didn't understand exactly what you intended to do in the first place..<br />
About the documentation, as it is not done automatically, it will probably have typos<br />
Hum yes just another typo: for the example of &quot;StrSort&quot; I think that<br />
${StrSort} $0 &quot;This is just an example&quot; &quot; just&quot; &quot;&quot; &quot;ple&quot; &quot;0&quot; &quot;0&quot; &quot;0&quot; should be ${StrSort} $0 &quot;This is just an example&quot; &quot;&quot; &quot; just&quot; &quot;ple&quot; &quot;0&quot; &quot;0&quot; &quot;0&quot;<br />
next time attach .nsh files as they are, don't use the extention .txt at the endOops I wasn't awake this day, I missed &quot;nsh&quot; in the valid file extensions.. :D<br />
<br />
Bye :) !<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">10th January 2005, 00:34</div></div><div class="posttext">This alternative version has a more compressed code on the header file than this current version. A drawback is the slower speed of compilation for the user. (That's why it's alternative from the current version).<br />
<br />
It shows how to make the use of &quot;!system&quot; compile time instruction to bypass the limitation of inclusion of macros inside macros by using the inclusion of external files. (macros can include macros from other files only)<br />
<br />
The resulted executable will have the exact size as using the default one. <br />
<br />
I'm sad that this approach didn't make my code smaller w/ a decent speed. :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">congtak</div><div class="date">7th November 2007, 04:16</div></div><div class="posttext">Hi,<br />
i have this problem to solve,<br />
I want to remove the very last &quot;\&quot; from a string<br />
example : &quot;C:\abcd\abcd\&quot;<br />
I want to convert this string to &quot;C:\abcd\abcd&quot;<br />
<br />
I tried to use <br />
<br />
StrLoc $0 &quot;C:\abcd\abcd\&quot; &quot;\&quot; &quot;&lt;&quot;<br />
<br />
but $0 = 11 instead of 1<br />
so StrLoc counts the location from the end of string but doesnt start the search from the end of the String so it still gives the first &quot;\&quot; found. Is there any way to solve my problem?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th November 2007, 10:34</div></div><div class="posttext">StrCpy $0 `C:\abcd\abcd\` 1 -1<br />
StrCmp $0 `\` 0 +2<br />
StrCpy $0 $0 -1<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>