<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Joining 2 text files together, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Joining 2 text files together NSIS Discussion" />
	
	<title> Joining 2 text files together [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Joining 2 text files together</div>
<hr />
<div class="pda"><a href="t-195156.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=195156">Joining 2 text files together</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 11:27</div></div><div class="posttext">YES I know the afro geezer has made it already and I love him for it dearly of course.  Here (http://nsis.sourceforge.net/archive/nsisweb.php?page=317&amp;instances=0,11,311) it is. <br />
<br />
However I also know that when I call the function - like this:<br />
<br />
Push &quot;$ROOT_INST_DIRECTORY\filelist.log&quot;<br />
Push &quot;$ROOT_INST_DIRECTORY\filelist2.log&quot;<br />
Push &quot;C:\temp\c-evol-temp.txt&quot;<br />
Call JoinFiles<br />
<br />
- it gives the default XP error message, and quits on me. This does not make me a happy bunny.<br />
<br />
Any suggestions? Thanks, I know I'm a bit of a regular here now which I apologise for!<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2004, 11:34</div></div><div class="posttext">Default XP error message? Do you mean it crashes? Can you include more details?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 11:42</div></div><div class="posttext">Oh yeah it crashes let me find the errors. I'll attach an XML file which MS so handily provide.<br />
<br />
The basic error is just &quot;MainExecutable.exe has encountered a problem and needs to close. We are sorry for the inconvenience.&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 11:46</div></div><div class="posttext">There's that attachment</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2004, 11:51</div></div><div class="posttext">Does it work if you push the parameters in the right order? You need to push the output file first.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2004, 12:00</div></div><div class="posttext">That text file doesn't have too much to offer. Can you copy and paste the details from the message itself (some numbers should show up when you click on &quot;more details&quot;)? That, along with the exact NSIS version, should provide the exact location of the crash. A Dr. Watson's log will be even more useful.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 12:11</div></div><div class="posttext">Yeah i even created 3 temp files and tried to join them all together, no joy, and also 2 temp files and leave the output file to be created. All same prob.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 12:20</div></div><div class="posttext">The error report initial data says this:<br />
<br />
AppName: Main-Executable.exe	 AppVer: 0.0.0.0	 ModName: kernel32.dll<br />
ModVer: 5.1.2600.1106	 Offset: 0001a918<br />
<br />
The technical info not in the XML file cannot be copied and pasted. I can look for an entry in it if you tell me what to look for. <br />
<br />
In the NSIS dir there's a nsis20.exe file, I assume that means it's version 2.0?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2004, 12:27</div></div><div class="posttext">Have you tried 2.01?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 12:33</div></div><div class="posttext">No I haven't, but afro's thing was written last year and I'd have thought it would work with 2.0. I can upgrade if necessary.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 13:58</div></div><div class="posttext">And eek when I install the new one and try to recompile with logging enabled, it says this:<br />
<br />
Ui.obj : error LNK2001: unresolved external symbol __aullshr<br />
Release-zlib/exehead_zlib.exe : fatal error LNK1120: 1 unresolved externals</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2004, 23:12</div></div><div class="posttext">Since the access violation is in kernel32.dll, I'll need the entire stack trace. Dr. Watson provides this.<br />
<br />
See this thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=179848&amp;highlight=aullshr) about the compile problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">1st October 2004, 08:58</div></div><div class="posttext">I went back to the old version :)<br />
<br />
Just for future reference as well I solved the problem by using the Windows command line operator &gt;&gt; which appends output to the end of a file, like this:<br />
<br />
ExpandEnvStrings $0 &quot;%COMSPEC%&quot;                                     ; Set Windows to interpret the command<br />
nsExec::Exec '&quot;$0&quot; /C ${UNZIP} ${PATH} -o ${FILE} &gt;&gt; &quot;filelist.log&quot;'  ; Unzip and log.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">1st October 2004, 08:59</div></div><div class="posttext">Oh and thanks again for your help kichik you're invaluable!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st October 2004, 10:34</div></div><div class="posttext">I'll check out the function when I get home and see if I can find a problem.<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>