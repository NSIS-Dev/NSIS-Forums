<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Language selection gone!!!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Language selection gone!!! NSIS Discussion" />
	
	<title> Language selection gone!!! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Language selection gone!!!</div>
<hr />
<div class="pda"><a href="t-230795.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=230795">Language selection gone!!!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">12th November 2005, 10:49</div></div><div class="posttext">hi,<br />
after some changes made to my installation file, the language selection is gone... but I certainly didn't modify this part of the script!!!<br />
<br />
Here it is:<br />
<br />
; Script generated by the HM NIS Edit Script Wizard.<br />
<br />
; HM NIS Edit Wizard helper defines<br />
!define PRODUCT_NAME &quot;Codecs&quot;<br />
!define PRODUCT_VERSION &quot;1.25&quot;<br />
!define PRODUCT_PUBLISHER &quot;cirerita&quot;<br />
!define PRODUCT_UNINST_KEY &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\${PRODUCT_NAME}&quot;<br />
!define PRODUCT_UNINST_ROOT_KEY &quot;HKLM&quot;<br />
!define PRODUCT_STARTMENU_REGVAL &quot;NSIS:StartMenuDir&quot;<br />
<br />
; MUI 1.67 compatible ------<br />
!include &quot;MUI.nsh&quot;<br />
<br />
; MUI Settings<br />
!define MUI_ABORTWARNING<br />
!define MUI_ICON &quot;burros3b.ico&quot;<br />
!define MUI_UNICON &quot;burros3b.ico&quot;<br />
<br />
; Language Selection Dialog Settings<br />
!define MUI_LANGDLL_REGISTRY_ROOT &quot;${PRODUCT_UNINST_ROOT_KEY}&quot;<br />
!define MUI_LANGDLL_REGISTRY_KEY &quot;${PRODUCT_UNINST_KEY}&quot;<br />
!define MUI_LANGDLL_REGISTRY_VALUENAME &quot;NSIS:Language&quot;<br />
<br />
; Welcome page<br />
!insertmacro MUI_PAGE_WELCOME<br />
; License page<br />
!insertmacro MUI_PAGE_LICENSE &quot;contrato-readme.txt&quot;<br />
; Components page<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
; Directory page<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
; Start menu page<br />
var ICONS_GROUP<br />
!define MUI_STARTMENUPAGE_NODISABLE<br />
!define MUI_STARTMENUPAGE_DEFAULTFOLDER &quot;Codecs&quot;<br />
!define MUI_STARTMENUPAGE_REGISTRY_ROOT &quot;${PRODUCT_UNINST_ROOT_KEY}&quot;<br />
!define MUI_STARTMENUPAGE_REGISTRY_KEY &quot;${PRODUCT_UNINST_KEY}&quot;<br />
!define MUI_STARTMENUPAGE_REGISTRY_VALUENAME &quot;${PRODUCT_STARTMENU_REGVAL}&quot;<br />
!insertmacro MUI_PAGE_STARTMENU Application $ICONS_GROUP<br />
; Instfiles page<br />
!insertmacro MUI_PAGE_INSTFILES<br />
; Finish page<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
; Uninstaller pages<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
<br />
; Language files<br />
!insertmacro MUI_LANGUAGE &quot;Catalan&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Spanish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
; MUI end ------</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th November 2005, 10:51</div></div><div class="posttext">Delete HKLM\Software\Microsoft\Windows\CurrentVersion\Uninstall\Codecs\NSIS:Language.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">12th November 2005, 10:57</div></div><div class="posttext">can't find that string. is this one:<br />
<br />
!define MUI_LANGDLL_REGISTRY_VALUENAME &quot;NSIS:Language&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">12th November 2005, 10:58</div></div><div class="posttext">ooops, you meant delete in Windows registry or in NSIS script???</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th November 2005, 11:00</div></div><div class="posttext">In Windows registry.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">12th November 2005, 11:04</div></div><div class="posttext">thanks, it worked! by the way, is that normal? I mean, will it happen again whenever I modify the NSIS script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th November 2005, 11:09</div></div><div class="posttext">It will happen again once you install your program again. That's what MUI_LANGDLL_REGISTRY_* are for. From the documentation:The registry key to store the language. The users preference will be remembered. You can also use it for the uninstaller to display the right language. Don't forget to remove this key in the uninstaller.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">12th November 2005, 11:34</div></div><div class="posttext">so, is it any better to simply delete this:<br />
<br />
!define MUI_LANGDLL_REGISTRY_VALUENAME &quot;NSIS:Language&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">12th November 2005, 12:04</div></div><div class="posttext">Might be better to use <br />
!define MUI_LANGDLL_ALWAYSSHOW<br />
Always show the language selection dialog, even if a language has been stored in the registry. The language stored in the registry will be selected by default. (MUI Readme)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cirerita</div><div class="date">12th November 2005, 12:31</div></div><div class="posttext">ok, thanks, I'll add that entry...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>