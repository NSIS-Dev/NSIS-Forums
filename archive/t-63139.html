<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Having an Install Component change based on an &quot;if&quot;, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Having an Install Component change based on an &quot;if&quot; NSIS Discussion" />
	
	<title> Having an Install Component change based on an &quot;if&quot; [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Having an Install Component change based on an &quot;if&quot;</div>
<hr />
<div class="pda"><a href="t-63139.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=63139">Having an Install Component change based on an &quot;if&quot;</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">PJ-T2</div><div class="date">20th October 2001, 01:55</div></div><div class="posttext">Hey. I'm trying to do something that I'm not sure is entirely possible. I want NSIS to detect if a file exists, and if the file does exist, to uncheck one of the installation components. If the file does not exist, leave it checked. I'd like to do this without creating Install Types, but if that is the only way, I'd be open to it. If it wasn't for the &quot;if&quot; factor, I'd be able to do it with just a standard install type now. If I could do this by reading a Registry key, that would also be acceptable. Anyone have any thoughts or ideas?<br />
<br />
Also, is it possible to use a JPEG file as a splash screen instead of a BMP. I haven't tried it yet, but I thought I'd ask while I'm here.<br />
<br />
[Edit]Oh I almost forget. _GREAT_ program. Very versatile and useful. I'm currently using it on two separate projects and I'm very happy with it. Keep up the good work.<br />
<br />
-PJ<br />
http://www.Tribes2maps.com</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PJ-T2</div><div class="date">23rd October 2001, 04:51</div></div><div class="posttext">Doh. Since no one has an idea, looks like I'm going to have to deal with it as is. =/<br />
<br />
-PJ<br />
http://www.Tribes2Maps.com</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">24th October 2001, 03:54</div></div><div class="posttext">Well, what exactly are you trying to do???? And no, NSIS's Splash doesn't use .jpg files.<br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PJ-T2</div><div class="date">24th October 2001, 04:21</div></div><div class="posttext">One of the install components is a server list. If a user is just installing the program on top of an existing installations (upgrade) then I want it to detect that the servers ini file exists, and if it does, uncheck that component by default. Not disable it or anything, just be somewhat &quot;smart&quot; as to what its doing. Does that make a little more sense?<br />
<br />
-PJ<br />
http://www.Tribes2maps.com</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Schultz</div><div class="date">24th October 2001, 05:20</div></div><div class="posttext">couldn't you just include this into the main selection and just do a <br />
<br />
IfFileExists $INSTDIR\somefile.ini NoInstall 0<br />
File somefile.ini<br />
NoInstall:<br />
<br />
this would just put the list there if it isn't already found.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PJ-T2</div><div class="date">24th October 2001, 09:16</div></div><div class="posttext">I'm currently doing that now, kind of. The problem with that is I want the user to have a choice on what they do at the Install Components screen. So if they upgrade and WANT an updated server list (which many will) they can just check that box.<br />
<br />
-PJ<br />
http://www.Tribes2Maps.com</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Gonzotek</div><div class="date">24th October 2001, 14:05</div></div><div class="posttext">Use a YES|NO message box after ifFileExists, like this:<br />
<br />
IfFileExists $INSTDIR\somefile.ini AskInstall 0 <br />
File somefile.ini <br />
AskInstall: <br />
MessageBox MB_YESNO &quot;Would you like to install an updated server list?&quot; NO NoInstall<br />
File somefile.ini<br />
NoInstall:<br />
<br />
Is that helpful?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">locnar42</div><div class="date">25th October 2001, 03:34</div></div><div class="posttext">I am actually wanting to do something every similar.<br />
I have an application which is composed of 3 programs.  The user can install each program onto different computers and they communicate via the network.  Each program is in it's own section.  One of the programs will only run if the user has a certain application loaded, and I'd like to uncheck that particular section if the application isn't loaded.  Otherwise, I'd like check it by default.<br />
<br />
Putting it into code which just skips it isn't really an option.  Right now, I just leave it unchecked by default.  I'd actually like to disable it to the point where the user *can't* select it, but would settle for just leaving it unchecked.<br />
<br />
I'm about to dig into the code to add this there isn't already a way to do it.  (is Justin finished with the wild coding updates?  would hate to have to repeat it repeatedly.)<br />
<br />
thanks.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>