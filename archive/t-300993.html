<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SendMessage does not work in my installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SendMessage does not work in my installer NSIS Discussion" />
	
	<title> SendMessage does not work in my installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SendMessage does not work in my installer</div>
<hr />
<div class="pda"><a href="t-300993.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=300993">SendMessage does not work in my installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">12th December 2008, 19:32</div></div><div class="posttext">Hi all,<br />
<br />
In my installer, I call another installshield which is to add an environment variable for the current user and it takes effect only when system reboot. <br />
In order to avoide system rebooting, I use function <br />
SendMessage ${HWND_BROADCAST} ${WM_WININICHANGE} 0 &quot;STR:Environment&quot; /TIMEOUT=5000 <br />
after the installshield, then I read the environment variable but nothing returned. However the environment variable is set in DOS command shell.<br />
<br />
Can anybody help? Thanks in advance.<br />
<br />
TMXK</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th December 2008, 19:43</div></div><div class="posttext">That message only works for Explorer. The installer doesn't update its environment variables block when it gets that message. You'll have to manually read that variable from somewhere or execute your installer again from Explorer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmxk</div><div class="date">15th December 2008, 14:03</div></div><div class="posttext">Thank you very much for your quick replay.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>