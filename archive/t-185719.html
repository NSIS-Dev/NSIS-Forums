<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" I need to disable a NT service!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  I need to disable a NT service! NSIS Discussion" />
	
	<title> I need to disable a NT service! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  I need to disable a NT service!</div>
<hr />
<div class="pda"><a href="t-185719.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=185719">I need to disable a NT service!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">flitzjoy</div><div class="date">6th July 2004, 22:34</div></div><div class="posttext">Yes, i´ve searched at NSIS archive about and found a item, but i can´t understand that!<br />
<br />
I need just a simple way to set the &quot;dns client&quot; service from 2K/XP at manual start.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">6th July 2004, 23:09</div></div><div class="posttext">There is a plug-in available in the NSIS Archive that handles system services.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flitzjoy</div><div class="date">7th July 2004, 14:59</div></div><div class="posttext">Yes, i´ve found that plugin.<br />
At this page, http://nsis.sourceforge.net/archive/viewpage.php?pageid=385<br />
<br />
but this plugin only installs new services or drivers. I need a way for manage original Windows Services.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PattonPending</div><div class="date">7th July 2004, 15:50</div></div><div class="posttext">For XP/2K services you should be able to use Sc.exe from the Windows 2000 Resource Kit.  It has a bunch of options that allow you to configure services from the command line.  Use it in conjunciton with a batch file you call from your install script to manipulate the service.<br />
<br />
Good Luck!<br />
<br />
Edit:  The command should be something like SC config &quot;DNS Client&quot; start= disabled<br />
<br />
I'm not sure if that is the registered name of the service though.  You might have to look in the registry and search for &quot;DNS Client&quot;.  If I had to guess I would say that the specific registry info would be under HKLM\System\CurrentControlSet\Services\DNSCache<br />
<br />
Let us know what you find out</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">7th July 2004, 15:55</div></div><div class="posttext">Have you looked at the NSIS Service Lib:<br />
<br />
http://nsis.sourceforge.net/archive/viewpage.php?pageid=345</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flitzjoy</div><div class="date">7th July 2004, 15:55</div></div><div class="posttext">THX man! Sc.exe seems to resolve my problem!<br />
:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flitzjoy</div><div class="date">7th July 2004, 16:14</div></div><div class="posttext">In registry, the DNS Client is named as dnscache, i was thinking, if I change the<br />
<br />
HKLM\SYSTEM\CurrentControlSet\Services\Dnscache<br />
&quot;Start&quot; from &quot;0x00000002&quot; to &quot;0x00000004&quot; and reboot the system.<br />
<br />
This will work?!<br />
<br />
------------------------<br />
*The hexdecimal codes for services starting modes<br />
  /* Start Type */<br />
  #define SERVICE_BOOT_START             0x00000000<br />
  #define SERVICE_SYSTEM_START           0x00000001<br />
  #define SERVICE_AUTO_START             0x00000002<br />
  #define SERVICE_DEMAND_START           0x00000003<br />
  #define SERVICE_DISABLED               0x00000004<br />
(from http://nsis.sourceforge.net/archive....php?pageid=385)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PattonPending</div><div class="date">7th July 2004, 16:28</div></div><div class="posttext">You can either do that or just have a batch that calls &quot;sc config Dnscache start= disabled&quot;.  SC will modify whatever values are necessary in (I'm pretty sure) most of the control sets. (CurrentControlSet, ControlSet001, etc.) CurrentControlSet is the one that actually matters so far as the service, but some different modes for windows call of different sets of services (ie SafeMode, SafeMode w/ Command Prompt, SafeMode w/ Networking)<br />
<br />
Use whatever method you prefer, but I personally use SC.exe as its cleaner and easier than modifying all of those values directly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flitzjoy</div><div class="date">7th July 2004, 16:40</div></div><div class="posttext">PattonPending, I will follow your suggestion and use the SC.<br />
I only want to ask a last question, do you know if this sc.exe is present in all Windows NT based versions (such NT4,2K,XP,2003)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PattonPending</div><div class="date">7th July 2004, 18:49</div></div><div class="posttext">SC.exe will work with any version of windows that follows the NT4 services model.  <br />
<br />
This means that it should work on NT4, 2000, XP Home, XP Pro.  I have personally only used it on XP Pro and 2000, so I can't personally vouch for the other systems.<br />
<br />
A Link to The Microsoft Site about SC.exe (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dndllpro/html/msdn_scmslite.asp) <br />
<br />
That page alone gives you a pretty good feel for the utility and all of the stuff that it can do. <br />
 <br />
I'm personally using it to create a home-brewed backup system that runs in the background.  You can also use SC.exe to create entirely new services, remove services entirely, and tweak everything about services from dependencies to security permissions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flitzjoy</div><div class="date">8th July 2004, 02:31</div></div><div class="posttext">Well, now i do everything i want! thx you for the support!<br />
i will visit the link, thx again...<br />
<br />
have a nice day... bye</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>