<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Polish characters not displayed in MessageBox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Polish characters not displayed in MessageBox NSIS Discussion" />
	
	<title> Polish characters not displayed in MessageBox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Polish characters not displayed in MessageBox</div>
<hr />
<div class="pda"><a href="t-320468.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320468">Polish characters not displayed in MessageBox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">smita</div><div class="date">1st July 2010, 18:22</div></div><div class="posttext">Hi,<br />
<br />
I am NSIS newbie. I am facing a problem with the NSIS un-installer. When i install my software using NSIS i give the option to the user to select from 2 languages : English and Polish. Once it is installed by setting the Polish language and then on un-installing the software i need the prompts and messages to come up in Polish. I use the MessageBox in un.oninit method to get confirmation from the user whether he wants to go ahead with the un-installation. But the MessageBox text does display the Polish characters properly if i hardcode the text string in the MessageBox method call or by using the LangString feature. I have changed the default language of my PC to Polish, still it does not display properly. <br />
<br />
Secondly, the 'Yes' and 'No' buttons in the MessageBox do not show up in Polish. Is it possible to show it in the same language as that of the OS.<br />
<br />
The second approach i tried is to replace the existing text in Polish.nlf and use those strings in the MessageBox. But here again it happens that irrespective of the default OS language these text strings are picked up from English.nlf. Is there are way to indicate to un-installer that if the default language of the OS is polish then pick up text strings from Polish.nlf and if English then from English.nlf.<br />
<br />
This is my code : <br />
<br />
!include &quot;MUI2.nsh&quot;<br />
var Lang_Installer<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Polish&quot;<br />
<br />
Function un.onInit<br />
<br />
    Call un.IsSilent<br />
    Pop $0<br />
    StrCpy $IsSilentInstall $0<br />
    ReadRegStr $Lang_Installer HKLM Software\Comp\Installer\AppData Language<br />
    ${If} $Lang_Installer == 'pl'<br />
	StrCpy $Language ${POLISH}<br />
	MessageBox MB_YESNO $(^ComponentsSubCaption) /SD IDYES IDYES NoAbort<br />
    ${Else}<br />
	StrCpy $Language ${ENGLISH}<br />
	MessageBox MB_YESNO &quot;@ssm.uninstaller.confirmation.text.en@&quot; /SD IDYES IDYES NoAbort<br />
    ${EndIf}<br />
    <br />
     Abort ; causes uninstaller to quit.<br />
    NoAbort:<br />
FunctionEnd<br />
<br />
Would really appreciate an early reply.<br />
<br />
Thanks,<br />
Smita.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st July 2010, 20:25</div></div><div class="posttext">http://forums.winamp.com/showthread.php?t=301723<br />
http://forums.winamp.com/showthread.php?t=246723<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>