<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" String merge question?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  String merge question? NSIS Discussion" />
	
	<title> String merge question? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  String merge question?</div>
<hr />
<div class="pda"><a href="t-331138.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=331138">String merge question?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mcmillhj</div><div class="date">1st June 2011, 16:14</div></div><div class="posttext">Hi everyone, I am trying to sort of merge two strings together in NSIS. I have two strings 2.1.3.0 and 0.0.0.27269 and the string I want to create from them is 2.1.3.27269<br />
<br />
My attempts thus far haven't worked, here is what I tried:<br />
<br />
;;$VERSION      is defined with 2.1.3.0<br />
;;$FILEVERSION2 is defined with 0.0.0.27269<br />
<br />
;;debug<br />
DetailPrint ${VERSION}<br />
DetailPrint ${FILEVERSION}<br />
<br />
;;attempt, also it doesn't say what the variables $R0-$R2 are after values <br />
;;copied into them, is that normal?<br />
StrCpy $R0 ${FILEVERSION2} 5 -5<br />
StrCpy $R1 ${VERSION} -2 <br />
StrCpy $R2 $R1&quot;.&quot;$R0 <br />
<br />
DetailPrint $R2 ;;this doesn't print a value, only prints &quot;$R2&quot;<br />
!define FILEVERSION3 $R2<br />
<br />
Any help would be great. Hunter<br />
<br />
PS - Also posted on SO: http://stackoverflow.com/questions/6202727/nsis-concatenating-part-of-two-strings</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">1st June 2011, 17:47</div></div><div class="posttext">You can use the macros in wordfunc.nsh to cut the strings up into sections. Then you can IntCmp the substrings. Then just concat the results.<br />
<br />
But... if the values are defined, you already know the numbers at compiletime. Why don't you just mix them yourself?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mcmillhj</div><div class="date">1st June 2011, 18:03</div></div><div class="posttext">How would I mix them myself? I am not really familiar with nsis, I am only working on this to help someone else out.<br />
<br />
Hunter</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st June 2011, 19:20</div></div><div class="posttext">MSG is right you should not chop up the strings at run-time if they are constants (!define). Instead you can pass the constants to a command-line executable at compile-time via !system or !execute which does the split/join and writes that as a new !define to a .nsh file which you then !include.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>