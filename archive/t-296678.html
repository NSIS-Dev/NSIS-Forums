<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" uninstaller doesn't self-delete, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  uninstaller doesn't self-delete NSIS Discussion" />
	
	<title> uninstaller doesn't self-delete [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  uninstaller doesn't self-delete</div>
<hr />
<div class="pda"><a href="t-296678.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=296678">uninstaller doesn't self-delete</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">yuriythebest</div><div class="date">30th August 2008, 17:31</div></div><div class="posttext">right, I've been doing the basic tutorials, and apart from the very first time the uninstaller won't self delete. I've tried checking my code and also pasting the exact code but that didn't help.<br />
<br />
for instance this code:<br />
<br />
<br />
# define installer name<br />
outFile &quot;installer.exe&quot;<br />
 <br />
# set desktop as install directory<br />
installDir $DESKTOP<br />
 <br />
# default section start<br />
section<br />
 <br />
# define output path<br />
setOutPath $INSTDIR<br />
 <br />
# specify file to go in output path<br />
file test.txt<br />
 <br />
# define uninstaller name<br />
writeUninstaller $INSTDIR\uninstaller.exe<br />
 <br />
# default section end<br />
sectionEnd<br />
 <br />
# create a section to define what the uninstaller does.<br />
# the section will always be named &quot;Uninstall&quot;<br />
section &quot;Uninstall&quot;<br />
 <br />
# Always delete uninstaller first<br />
delete $INSTDIR\uninstaller.exe<br />
 <br />
# now delete installed file<br />
delete $INSTDIR\test.txt<br />
 <br />
sectionEnd<br />
<br />
<br />
it does remove the test.txt file afterwards, but uninstall.exe remains.<br />
<br />
<br />
<br />
also, is notepad the only way to edit these scripts or is there a better editor that can highlight the keywords, etc?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fabian.rap.more</div><div class="date">30th August 2008, 20:43</div></div><div class="posttext">Well how can you delete a file that is currenly executing? It will automatically be deleted the next time Windows starts but if you need to delete it then and there I think there is a how to in the wiki..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yuriythebest</div><div class="date">30th August 2008, 21:10</div></div><div class="posttext">cool thanks didn't know that :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th September 2008, 11:47</div></div><div class="posttext">The uninstaller respawns itself so this won't happen. Also, if you don't use Delete /REBOOTOK, deletion will just fail instead of being queued for reboot.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>