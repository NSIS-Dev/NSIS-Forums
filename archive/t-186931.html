<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" wheredo i report a bug with install options, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  wheredo i report a bug with install options NSIS Discussion" />
	
	<title> wheredo i report a bug with install options [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  wheredo i report a bug with install options</div>
<hr />
<div class="pda"><a href="t-186931.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=186931">wheredo i report a bug with install options</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pxlpluker</div><div class="date">18th July 2004, 03:57</div></div><div class="posttext">where do i report a bug with install options?<br />
  if the custom page is first page and then you cancel the $plugindir is not deleted. if you go to next page then it is deleted.<br />
<br />
and how do i get a bmp to show on a custom page?<br />
not sure what i am doing wrong. code follows<br />
---------------------------------------------------<br />
Function .onInit<br />
  InitPluginsDir<br />
  File /oname=$PLUGINSDIR\customBMP.ini &quot;customBMP.ini&quot;<br />
  File /oname=$PLUGINSDIR\stacon30thnew.bmp &quot;.\Competitor spec program\stacon30thnew.bmp&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;customBMP.ini&quot; &quot;Field 1&quot; &quot;Text&quot; &quot;$PLUGINSDIR\stacon30thnew.bmp&quot;<br />
FunctionEnd<br />
<br />
Function customBMPpage<br />
  Push $R0<br />
  Push $R1<br />
  Push $R2<br />
<br />
  InstallOptions::Dialog /NOUNLOAD $PLUGINSDIR\customBMP.ini<br />
  Pop $R0<br />
  <br />
  <br />
<br />
  Pop $R0<br />
FunctionEnd<br />
-------------------------------------------------------<br />
<br />
[Settings]<br />
NumFields=1<br />
<br />
<br />
[Field 1]<br />
Type=Bitmap<br />
Text=stacon30thnew.bmp<br />
Left=1<br />
Right=331<br />
Top=1<br />
Bottom=193<br />
Flags=RESIZETOFIT</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">18th July 2004, 10:29</div></div><div class="posttext">use the &quot;State&quot; setting instead of the &quot;Text&quot; setting for bitmaps.<br />
<br />
and u could delete the pluginsdir manually by inserting the following code at the right function:<br />
IfFileExists &quot;$PLUGISDIR\*.*&quot; 0 +1<br />
RMDir /r &quot;$PLUGINSDIR&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pxlpluker</div><div class="date">18th July 2004, 13:59</div></div><div class="posttext">not to nit-pick but the readme says to set path to bmp with TEXT.<br />
<br />
of course the STATE worked just like you said it did. (thanks very much by the way) I spent about 14 hours yesterday trying to make that work, which i did finally by reading the system file and using !insertmacro<br />
<br />
could someone update the install options to reflect that state will setting STATE will work.<br />
<br />
would love to know why though</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pxlpluker</div><div class="date">18th July 2004, 14:02</div></div><div class="posttext">how would i detect the cancel button in my install options fucntion and the trigger the delete else i might delete it too early?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">18th July 2004, 14:26</div></div><div class="posttext">could someone update the install options to reflect that state will setting STATE will work.No, because that's a problem in your script. Just read your own same post for the reason.how would i detect the cancel button in my install options fucntion and the trigger the delete else i might delete it too early?InstallOptions::Dialog /NOUNLOAD &quot;$PLUGINSDIR\customBMP.ini&quot;<br />
Pop $R0  ;&lt;- This part is where &quot;cancel&quot; is returned<br />
         ;when the user click &quot;Cancel&quot;.<br />
<br />
StrCmp $R0 &quot;cancel&quot; 0 EndCancel ;&lt;- Checking the value<br />
  InstallOptions::Dialog &quot;&quot; ;&lt;- Unloading and deleting plugin<br />
EndCancel:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pxlpluker</div><div class="date">18th July 2004, 14:50</div></div><div class="posttext">is i set the state in the ini file i get a blank page (i forgot to undo the insert macro from last night) i had thought it was working earlier for me.<br />
the folloing is the only way i got it to work. this doest seem to be the right way or the easyest way to do it. code below<br />
<br />
I dont understand.<br />
the readme says to use TEXT to set bmp and icons. TEXT only works if i use a hack (which i dont understand really) that i ripped from modernUI system.nsh file. i thought thats what i said in my post.<br />
if thats the right way to do it then so be it, i just ment that the readme did not indicate how to make  TEXT work<br />
----------------------------------<br />
Function .onInit<br />
  InitPluginsDir<br />
  File /oname=$PLUGINSDIR\customBMP.ini &quot;customBMP.ini&quot;<br />
  ;File /oname=$PLUGINSDIR\stacon30thnew.bmp &quot;.\Competitor spec program\stacon30thnew.bmp&quot;<br />
  File /oname=$PLUGINSDIR\stacon30thnew.bmp &quot;.\Competitor spec program\stacon30thnew.bmp&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;customBMP.ini&quot; &quot;Field 1&quot; &quot;Text&quot; &quot;$PLUGINSDIR\stacon30thnew.bmp&quot;<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pxlpluker</div><div class="date">18th July 2004, 14:55</div></div><div class="posttext">ps. thanks for the cancel/ delete help. works like a charm. I hate to leave garbage behind.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>