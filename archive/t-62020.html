<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Thanks!!!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Thanks!!! NSIS Discussion" />
	
	<title> Thanks!!! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Thanks!!!</div>
<hr />
<div class="pda"><a href="t-62020.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=62020">Thanks!!!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">9th October 2001, 22:14</div></div><div class="posttext">Many thanks for adding in some of the features I had suggested.  I've spent a bit here reworking my scripts now so that they can be properly templated using !define and also getting rid of those horrifying incremental loops since intop has been included.  The funny thing was that after our October 1st deadline,  I was just looking through the source today to start thinking about how to implement those features and then noticed you'd already taken care of it.  Thank you very much!<br />
<br />
I did noticed a couple of things,  though.<br />
<br />
For example,  !define SYMBOL 0x12345678 is seemingly being converted to a string.  Here's what I mean.<br />
<br />
!define CREATORID 0x77487265<br />
<br />
WriteRegDword HKEY_CURRENT_USER &quot;Software\U.S. Robotics\Pilot Desktop\Application$2&quot; &quot;Creator&quot; ${CREATORID}<br />
<br />
(This will write out a 0 since it's thinking it's a string)<br />
<br />
!define CREATORID 2001236581<br />
<br />
WriteRegDword HKEY_CURRENT_USER &quot;Software\U.S. Robotics\Pilot Desktop\Application$2&quot; &quot;Creator&quot; ${CREATORID}<br />
<br />
This works and correctly writes out the string.<br />
<br />
So just something to think about maybe fixing,  perhaps like this:<br />
<br />
!define CREATORID 0x77487265 - actual hex valued var<br />
!define CREATORID &quot;0x77487265&quot; - string 0x77487265<br />
<br />
<br />
Also,  having a flag to tell an installer to check for a previous installation and ask you to uninstall it before continuing would be nice.  I currently have to check in all my scripts and prompt like that,  I think it would be a useful addition.<br />
<br />
Thanks again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">10th October 2001, 01:51</div></div><div class="posttext">Fixed this in 1.53, http://firehose.net/free/nsis/<br />
<br />
Basically since the string-&gt;integer conversion has moved into the exe header, I had to reimplement base 8/16 conversion in the header. It added a little bit of size, but some of the other optimizations I made on 1.53 keep it a cozy 36k.<br />
<br />
Love,<br />
<br />
Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">10th October 2001, 05:54</div></div><div class="posttext">When you run the uninstaller executable,  the &quot;Next&quot; button on the far right now disappears to a blank button. :(<br />
<br />
For 1.53,  naturally...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">10th October 2001, 06:17</div></div><div class="posttext">Originally posted by Pomflain <br />
When you run the uninstaller executable,  the &quot;Next&quot; button on the far right now disappears to a blank button. :(<br />
<br />
For 1.53,  naturally... <br />
<br />
Wow, I am so bad. It'll be fixed in 1.54, up on firehose.net in about 2 hours, or on nullsoft.com in about 23. :)<br />
<br />
<br />
[edit: both sites are updated. I love Tom. ]<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">10th October 2001, 19:04</div></div><div class="posttext">Alright. Hey Justin, what do you have planned for NSIS 2.0????:P<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">11th October 2001, 06:34</div></div><div class="posttext">Haven't really thought about it ... not really sure if nsis 2.0 should exist...<br />
<br />
I mean, from the exehead side, there are many directions you could go, but all of them are just different.. do you go:<br />
  - smaller but less functionality?<br />
  - larger and more functionality? is this necessary?<br />
  - dynamic exeheads that are generated on the fly? is this necessary?<br />
 <br />
Or do we focus on something like using bz2, but compressing the entire datablock as one (this is necessary to really make bz2 outperform zlib in most cases). The problems with doing that are:<br />
  - bz2 has more runtime memory requirements<br />
  - bz2 would make us have to decompress all the data, do we do that<br />
to a temp file or something? it'd make the installer slower....<br />
  - bz2 decompressors may be larger than gzip, but that's probably not much of an issue...<br />
<br />
Finally, there is the issue of the compiler end. Basically the existing scripting language has evolved into its current state. Which makes it kind of gross and nasty. But it works, and I kinda like it. Would all the work of making some new fancy parser that is more C like be worthwhile? What good does that do? <br />
<br />
I don't know. I think I'd like to focus on taking NSIS 1.x as far as it can go -- i.e. as flexible and small and efficient as possible. Thinking about experimenting with bz2 more, but not sure if it is worth the tradeoffs.<br />
<br />
I'd like to cut down the existing exehead from 36k to 32k. Just for cluster size effect. Heh.<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">11th October 2001, 21:04</div></div><div class="posttext">I like the compression idea - but there should be some way you can choose which compression method to use. For normal use, ZLib should do the trick, but if you're making software for download, saving 100 KB by having a slower installer is worthwhile (for me anyway).<br />
I like the NSIS language as it is - and with the new integer type &amp; comparison, you can do almost everything a normal language can - in essence.<br />
Another 'highly requested' option in this forum was the &quot;Enter text&quot; option. I feel this should be an extra program, which allows entering text in a few text boxes or making a selection with radio buttons - and that program returning INI files. I can make this in Delphi, but not in C++.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">11th October 2001, 23:15</div></div><div class="posttext">No problems,  figured it out.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>