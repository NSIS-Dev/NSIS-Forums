<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Required Section within a group, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Required Section within a group NSIS Discussion" />
	
	<title> Required Section within a group [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Required Section within a group</div>
<hr />
<div class="pda"><a href="t-299356.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=299356">Required Section within a group</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Tonst</div><div class="date">30th October 2008, 16:40</div></div><div class="posttext">Hi<br />
<br />
How do I have a section within a group that is required if the group is ticked. <br />
<br />
i.e.<br />
<br />
Group<br />
 -Shared Components<br />
 -Program 1<br />
 -Program 2<br />
 -Program 3<br />
<br />
If P1/2/3 are checked then shared must be, if group is unchecked then don't install shared.<br />
<br />
I tried RO on the shared section but that means i can't uncheck the group.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">1st November 2008, 00:55</div></div><div class="posttext">Put your user chosen sections in the group.  Add a section outside of the group, before or after, depending on if these &quot;shared&quot; things need to be installed before or after the other section.  Make the shared section hidden with the hyphen in the beginning of the name, and make it readonly so that it can't be deselected.  Inside of the shared section, wrap all you logic with (IsPartiallySelected OR IsSelected) logic so that it doesn't actually do anything unless at least on item in the group is checked.  The reason you need the OR IsSelect is because IsPartiallySelected would evaluate to false if all three of the sections it contains are checked.  The below is an example.  I think this requires the FileFunc and LogicLib headers.  Search the wiki for IsPartiallySelected to verify what dependencies there are.<br />
<br />
<br />
Section &quot;-Programs Prerequs&quot; ProgramsPrerequs<br />
  SectionIn RO  ;make sure nothing can deselect it<br />
  $(If} ${SectionIsPartiallySelected} ${ProgramsSectionGroup}<br />
     ${OrIf} ${SectionIsSelected} ${ProgramsSectionGroup}<br />
    ;Install postrequs here, this is only run if at least one selection in the group is made<br />
  ${EndIf}<br />
SectionEnd<br />
<br />
SectionGroup &quot;Programs&quot; ProgramsSectionGroup<br />
  Section &quot;Program 1&quot; Program1<br />
    InstallStuffHere<br />
  SectionEnd<br />
  Section &quot;Program 2&quot; Program2<br />
    InstallStuffHere<br />
  SectionEnd<br />
  Section &quot;Program 2&quot; Program2<br />
    InstallStuffHere<br />
  SectionEnd<br />
SectionGroupEnd<br />
<br />
Section &quot;-Programs Postrequs&quot; ProgramsPostrequs<br />
  SectionIn RO  ;make sure nothing can deselect it<br />
  $(If} ${SectionIsPartiallySelected} ${ProgramsSectionGroup}<br />
     ${OrIf} ${SectionIsSelected} ${ProgramsSectionGroup}<br />
    ;Install postrequs here, this is only run if at least one selection in the group is made<br />
  ${EndIf}<br />
<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tonst</div><div class="date">6th November 2008, 11:29</div></div><div class="posttext">Thanks, this seems to be doing the job :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>