<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" eXtract different files depending on the OS, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  eXtract different files depending on the OS NSIS Discussion" />
	
	<title> eXtract different files depending on the OS [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  eXtract different files depending on the OS</div>
<hr />
<div class="pda"><a href="t-294322.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=294322">eXtract different files depending on the OS</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Raquelita</div><div class="date">11th July 2008, 09:42</div></div><div class="posttext">Hi all,<br />
<br />
I want to extract different files depending on the OS version. <br />
<br />
So in the installing section I would like to use something like: <br />
<br />
<br />
File $actualOS\myDirectory\myOSspecificFile.ext<br />
<br />
but this files on compiling as theres no such file.<br />
<br />
<br />
What would be the right way to do this?<br />
<br />
gracias<br />
<br />
R :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th July 2008, 13:47</div></div><div class="posttext">Use WinVer.nsh to determine the OS and extract the appropriate files.${If} ${IsWin98}<br />
  File win98.txt<br />
${Else} ${If} ${IsWinNT4}<br />
  File nt4.txt<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theblase</div><div class="date">31st July 2008, 13:23</div></div><div class="posttext">Hi,<br />
<br />
I need the same solution to &quot;Windows XP + 2000&quot; (first option) and for Vista (second option). I don't know how to apply this code:<br />
<br />
<br />
${If} ${IsWin98}<br />
  File win98.txt<br />
${Else} ${If} ${IsWinNT4}<br />
  File nt4.txt<br />
${EndIf}<br />
 <br />
<br />
in my nsis installer script.<br />
<br />
Thanks in advance!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">31st July 2008, 15:43</div></div><div class="posttext">I assume based on your post that you DON'T want to install if they are on Windows 98 or ME? If so, this might be more appropriate:${If} ${AtMostWinME}<br />
   MessageBox MB_OK &quot;Windows too old&quot;<br />
${Else}<br />
   ${If} ${IsAtMostWinXP}<br />
      ; code for windows 2000/XP<br />
   ${Else}<br />
      ; code for Windows Vista<br />
   ${EndIf}<br />
${EndIf}<br />
<br />
<br />
(PS:  If you had posted your question like this in your original thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=294202), you may have already gotten an answer.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theblase</div><div class="date">8th October 2008, 17:03</div></div><div class="posttext"># Installer sections<br />
Section -Main SEC0000<br />
    ${If} ${IsWin2000}<br />
    ;code for Windows 2000<br />
    ${Else}<br />
       ${If} ${IsWinXP}<br />
          ;code for Windows XP<br />
          ${Else}<br />
             ${If} ${IsWin2003}<br />
                ;code for Windows 2003<br />
                   ${If} ${IsWinVista}<br />
                   ;code for Windows Vista<br />
                      ${Else}<br />
                         ${If} ${AtLeastWin2000}<br />
                         MessageBox MB_OK &quot;Running on Windows 2000 or better!&quot;<br />
                         Abort<br />
                         ${EndIf}<br />
                   ${EndIf}<br />
             ${EndIf}<br />
       ${EndIf}<br />
    ${EndIf}</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>