<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SOD utility, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SOD utility NSIS Discussion" />
	
	<title> SOD utility [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SOD utility</div>
<hr />
<div class="pda"><a href="t-355618.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=355618">SOD utility</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">7th February 2013, 13:24</div></div><div class="posttext">SOD stands for Size On Disk.<br />
<br />
Next week sometime, because I can't work on it this weekend, I thought I would post a link to a small tool that compares the Size On Disk and the byte sizes of NSIS installations.<br />
<br />
That is, if anyone is interested. It will be a fairly useless tool, although the code could be reused for any path.<br />
<br />
I should probably upload the code someplace, so I can link to it?<br />
<br />
What is the way to do that?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">7th February 2013, 13:44</div></div><div class="posttext">Thanks for sharing. Things like this can be posted on the NSIS wiki.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">13th February 2013, 09:41</div></div><div class="posttext">http://nsis.sourceforge.net/Get_size_on_disk<br />
<br />
This checks for compression and sparse files. The size on disk is calculated from the result. As mentioned, pretty useless.<br />
<br />
Building an installer it usually helps to get the size at compile time, &quot;Required space&quot;. The code gets the size on disk at runtime. It's out of your hands, if a folder turns out to be compressed or partially compressed where you want to install.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">15th February 2013, 03:13</div></div><div class="posttext">http://nsis.sourceforge.net/mediawiki/images/d/d3/SODTool.zip<br />
<br />
A little late. Sorry.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">16th February 2013, 17:23</div></div><div class="posttext">In practice you will be unable to access the size on disk of compressed and sparse files &quot;shortly after a reinstallation&quot;. If you call ${GetSizeOnDisk}, the returned size on disk of compressed and sparse files that have been overwritten is temporarily wrong.<br />
<br />
The result corrects itself. You might find this interesting: if you halt the installer on your finish page after all files have been reinstalled, then wait thirty seconds, the size on disk is correct.<br />
<br />
I don't know why. ${GetSizeOnDisk} does what it says on the tin. The tin is defective. There is a timelag when you overwrite compressed &amp; sparse files. The system recalibrates the &quot;compressed&quot; sizes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">24th February 2013, 01:03</div></div><div class="posttext">I'm finished with the hard parts.<br />
<br />
http://nsis.sourceforge.net/mediawiki/images/9/94/SOD_II_tool.zip<br />
<br />
One question however ...<br />
<br />
Since the utility is open source and for a good cause, I wonder if someone would be willing to add a Windows 8 manifest. When I install Windows 8 myself, later this year, I will add the manifest, but I am hesitant about attempting it without having the platform test my handiwork. There may be other Windows 8 problems I have yet to discover also.<br />
<br />
I don't want to impose. Maybe it wouldn't be such a good idea. Or maybe it's so foolproof I could do it on Windows 7?<br />
<br />
What would be a good procedure?<br />
<br />
PMs or responses welcome. Thanks.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>