<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Install on Flash Drive, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Install on Flash Drive NSIS Discussion" />
	
	<title> Install on Flash Drive [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Install on Flash Drive</div>
<hr />
<div class="pda"><a href="t-255318.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255318">Install on Flash Drive</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">lorenzop</div><div class="date">12th September 2006, 10:50</div></div><div class="posttext">Hi to all,<br />
<br />
I like to install my application only on a flash drive.<br />
Is it possible detech the removable devices?<br />
How to I can install my application on a flash drive?<br />
<br />
Thanks for aid.<br />
Best regards,<br />
Lorenzo.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">13th September 2006, 01:18</div></div><div class="posttext">I have a plugin called &quot;driveinfo&quot; that among other things can:<br />
<br />
   GetDriveFS - Returns the drive's file system name<br />
<br />
I guess that removable devices use FAT which HDD don't. I hope this helps.<br />
<br />
Plugins are here (sourceforge is on strike right now):<br />
http://nsis.sourceforge.net/Category:Plugins</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lorenzop</div><div class="date">13th September 2006, 11:02</div></div><div class="posttext">GetDriveFS gets the file system of a device:<br />
DriveInfo::GetDriveLabel &quot;C:\&quot;<br />
Pop $0<br />
DriveInfo::GetDriveFS &quot;C:\&quot;<br />
Pop $1<br />
MessageBox MB_OK &quot;$0 (C:) - $1&quot;<br />
<br />
But it presumes that I know all the devices.<br />
How I can get the list of the devices?<br />
<br />
I have tried with <br />
${GetDrives} &quot;ALL&quot; &quot;Example2&quot;<br />
Function Example2<br />
	MessageBox MB_OK &quot;$9  ($8 Drive)&quot;<br />
	Push $0<br />
FunctionEnd<br />
<br />
But the compilation gives a script error in $ {GetDrives}â€¦<br />
<br />
Can you aid me?<br />
<br />
Thanks, best regards.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">14th September 2006, 00:05</div></div><div class="posttext">http://nsis.sourceforge.net/Enumerate_CD-ROM_Drives<br />
<br />
here's a plugin to enumerate cd-rom drives, also made by Kichik. Maybe you can convince him to make a mix of those 2 plugins he made. ;)<br />
<br />
<br />
http://forums.winamp.com/showthread.php?postid=852356#post852356<br />
<br />
I also found this that might help you. I just read until that post, the rest is yours ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lorenzop</div><div class="date">18th September 2006, 09:09</div></div><div class="posttext">I am successful to recover all the letters of the drive.<br />
How can I verify that the drive are removable disks?<br />
Not all flash use FAT.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">18th September 2006, 09:18</div></div><div class="posttext">this page on msdn may help you, if you know how to work with the system.dll nsis plugin:<br />
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/stgmgmt/fs/enumeratentmsobject.asp</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lorenzop</div><div class="date">18th September 2006, 10:35</div></div><div class="posttext">Thanks, I've found the solution at my problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ktucci</div><div class="date">25th September 2006, 17:48</div></div><div class="posttext">lorenzop, i have the same question regarding removable drive detection, i was wondering if you could share your solution...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lorenzop</div><div class="date">26th September 2006, 08:32</div></div><div class="posttext">I've made a DLL with a function &quot;GetDrive&quot; (see attach.); this function returns (in the stack) the name and type of all drive of machine.<br />
<br />
Bye.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ktucci</div><div class="date">26th September 2006, 14:12</div></div><div class="posttext">thanks for the response, your solution should work just fine for me...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>