<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" nsDialogs Questions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  nsDialogs Questions NSIS Discussion" />
	
	<title> nsDialogs Questions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  nsDialogs Questions</div>
<hr />
<div class="pda"><a href="t-276241.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=276241">nsDialogs Questions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">21st August 2007, 12:54</div></div><div class="posttext">Hi all, i have a couple questions about nsDialogs.<br />
<br />
1. Measurements in Units <br />
<br />
It supports specifying units in pixels, dialog units and percentage <br />
<br />
Whats with the units there ? How many units do you have in each direction? <br />
<br />
2. Callback from ${NSD_CreateText} <br />
<br />
How can i store whatever i have entered in the Textbox in a variable. <br />
<br />
I have checked the &quot;example.nsi&quot; where the &quot;hello there&quot; is compared in a function and initiates a Messagebox. If i understand it correctly it is invoked every time after i typed a letter, then compared and, if it matches, the messagebox is displayed.<br />
 <br />
Would i have to do the same to just get the final text in the box in a variable ? If i have 7 textboxes do i need 7 funtions then to retreive the value(s) ? <br />
<br />
Thanks for helping, and could i ask for a little example for the textbox issue, my textbox looks like this: <br />
<br />
<br />
${NSD_CreateText} 10 60 45% 12u Username<br />
Var /GLOBAL TEXT_USER_Name<br />
Pop $TEXT_USER_Name<br />
<br />
<br />
xBarns</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st August 2007, 20:08</div></div><div class="posttext">1. I don't understand the question. For each measurement, you can use whichever unit you wish.<br />
<br />
2. You can get the text in the leave function of the page. There's no need to create a callback, if all you want is getting the final text.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">21st August 2007, 20:33</div></div><div class="posttext">1. I don't understand the question. For each measurement, you can use whichever unit you wish <br />
<br />
Darn, my fault again!<br />
<br />
Ok i was talking about the dialog units, for instance there is (probably) not more than 100% so most people will not get the idea to put in 150%.<br />
<br />
So how do i &quot;work&quot; with dialog units, that was my intention to find out.<br />
<br />
<br />
2. You can get the text in the leave function of the page. <br />
<br />
Could you give me an example of how exactly to do this.<br />
<br />
I am using UMUI so i guess i have to insert &quot;MUI_PAGE_CUSTOMFUNCTION_LEAVE  function&quot; and then do what you suggest in that function. <br />
<br />
I tried it and get an emtpy Messagebox before the page is  displayed.<br />
<br />
<br />
Function LeaveFunc<br />
<br />
    System::Call user32::GetWindowText(i$TEXT_USER_Name,t.r0,i${NSIS_MAX_STRLEN})<br />
   <br />
        MessageBox MB_OK $0<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st August 2007, 21:08</div></div><div class="posttext">1. You can't have dialogs units in percentage. You can only use one of the two. 200% doesn't mean twice the normal size, it means twice the entire dialog's size.<br />
<br />
2. MUI_PAGE_CUSTOMFUNCTION_LEAVE is for non-custom pages. For custom pages, you use just pass another parameter to Page which points to the leave function.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">21st August 2007, 22:38</div></div><div class="posttext">First of all thanks for helping me, i really appreciate it.<br />
<br />
1. You can't have dialogs units in percentage. You can only use one of the two. 200% doesn't mean twice the normal size, it means twice the entire dialog's size. <br />
<br />
Yes i know that, hmm let me rephrase:<br />
<br />
There are 3 Types of units:<br />
<br />
<br />
 Pixel<br />
 Percentage<br />
 Dialog units<br />
 <br />
<br />
I just wanted to know what (and how) Dialog Units are used for (i know about pixels and percentage). I tried to work with it but i have not figured out how they work. <br />
<br />
<br />
<br />
2. MUI_PAGE_CUSTOMFUNCTION_LEAVE is for non-custom pages. For custom pages, you use just pass another parameter to Page which points to the leave function. <br />
<br />
I now have:<br />
<br />
<br />
Page custom nsDialogsIO LeaveFunc<br />
<br />
<br />
to invoke the Dialog and i do end up in &quot;LeaveFunc&quot; when leaving the Dialog.<br />
<br />
<br />
And my Dialog looks like this:<br />
<br />
<br />
Function nsDialogsIO<br />
<br />
    nsDialogs::Create /NOUNLOAD 1018<br />
    Var /GLOBAL DIALOG<br />
    Pop $DIALOG<br />
    SetCtlColors $DIALOG &quot;&quot; ${MUI_BGCOLOR}<br />
<br />
    ${NSD_CreateText} 10 185 90% 12u &quot;Enter Sharename here&quot;<br />
    Var /GLOBAL TEXT_SHARE_Name<br />
    Pop $TEXT_SHARE_Name<br />
<br />
    nsDialogs::Show<br />
FunctionEnd<br />
<br />
<br />
And now what do i have to put in the Function so i can get the value that is entered in the dialog ? I tried with whats used in example.nsi (&quot;hello there&quot;) but i don't get it to work. <br />
<br />
My LeaveFunction looks like this <br />
<br />
<br />
Function LeaveFunc<br />
<br />
     MessageBox MB_OK &quot;Here i am !&quot;<br />
<br />
    System::Call user32::GetWindowText(i$TEXT_SHARE_Name,t.r0,i${NSIS_MAX_STRLEN})<br />
<br />
    ${If} $0 &lt;&gt; &quot;&quot;<br />
        MessageBox MB_OK $0<br />
    ${EndIf}<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">21st August 2007, 22:47</div></div><div class="posttext">1. Dialogs units are units relative to font size. If you're using a bigger font, they'll take more pixels. That's the units you use when editing dialogs in Visual C.<br />
<br />
2. The code doesn't work because `&lt;&gt;` is used to compare integers. You need `!=`.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">22nd August 2007, 06:56</div></div><div class="posttext">It's working :D :D :D <br />
<br />
Thank You :up:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>