<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Scripting Question, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Scripting Question NSIS Discussion" />
	
	<title> Scripting Question [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Scripting Question</div>
<hr />
<div class="pda"><a href="t-66306.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=66306">Scripting Question</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Slyde</div><div class="date">21st November 2001, 21:27</div></div><div class="posttext">Hi All!<br />
   I am a developer currently working on using this most excellent installer for Quake III mods a friend of mine makes. His newest will be using the NSIS for packaging and I can say that i could not be more pleased with it. In the time it took me to find info on .msi creation, I wrote the basic script for the package in NSIS. ROCK! I am having a bit of trouble with one part though.<br />
   Being that it is a Quake III mod, all installations on all computers have to be in the Same dir under the Quake III program folder (i.e. &lt;Q3&gt;\BQ3) for network play to work properly. I am thinking there is a way to make sure that the dir is the same by appending it to the dir you install to, like how ICQ does always having ICQ as the dir name...but I am not sure how to do it =( Is there anyone who would be willing to help provide a simple script to do such a thing? I have been playing around with the Strcpy functions...but not coming up with much.  would appreciate any help I can get on this! Thank you!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">22nd November 2001, 08:09</div></div><div class="posttext">If Q3 makes some registry settings, try to find the Q3 root in the<br />
registry (ReadRegStr $0 HKLM &quot;Software\Q3&quot; &quot;Q3Root&quot; might work) and<br />
use StrCpy $0 &quot;$0\BQ3&quot;<br />
and set the $INSTDIR to this value.<br />
<br />
Or you could ask the user to find the Q3 dir by DirRequest or the<br />
main program of Q3 by FileRequest using InstallOptions.<br />
<br />
I hope this answers your question...<br />
<br />
- :D Hendri :D -</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Slyde</div><div class="date">24th November 2001, 23:47</div></div><div class="posttext">Smile2Me:<br />
    Thank you! I will most certainly try this out. there must be a dir listing for Q3 and I sure hope I find it. I apologize for not responding sooner. Just got back from Thanxgiving family-visit. =) Thanx again mate!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ackbar</div><div class="date">25th November 2001, 00:50</div></div><div class="posttext">I'd like to know how you are catching the compiler output. Thats pretty cool :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Slyde</div><div class="date">25th November 2001, 05:20</div></div><div class="posttext">Ackbar:<br />
<br />
    In running Win2k, I use the cmd interface lots and I just scroll through everything it prints when it compiles. This is mucho nice for error detection, which thank the head Llamas, is very easy to understand if you've ever programmed. (Thankyouthankyouthankyou). I didn't know if you were asking me or not, if not, then ignore this message =D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ackbar</div><div class="date">25th November 2001, 05:40</div></div><div class="posttext">How do you capture whats being scrolled by the command interface? thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">25th November 2001, 09:59</div></div><div class="posttext">Slyde,<br />
<br />
it's ok, have fun, greetz,<br />
<br />
- :D Hendri :D -</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Slyde</div><div class="date">25th November 2001, 17:47</div></div><div class="posttext">Ackbar:<br />
    Basically, just reading it. if you needed to capture, you'd just need to highlight with the mouse and then right click, whenever you are in cmd and do that, what you had highlighted is copied and you can paste in other places. Ctrl+C and Ctrl+V don't work there. it's all done with the right mouse button. like, fi you had to paste something to cmd, just highlight in the otehr window, copy it and go to cmd and right click anywhere on the cmd screen, and it's pasted. that's all there is to it =)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ackbar</div><div class="date">25th November 2001, 17:50</div></div><div class="posttext">Nice Joke :) Nah I actually figured it out. I was after capturing the return data from a shelled application through a program :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Slyde</div><div class="date">26th November 2001, 05:57</div></div><div class="posttext">ReadRegStr $0 HKLM &quot;Software\Id\Quake III Arena&quot; &quot;INSTALLPATH&quot; <br />
  StrCpy $0 &quot;$0\BQ3&quot; <br />
  StrCpy $INSTDIR $0<br />
<br />
Not as advanced as i would like, but it works just fine, and since the user can't change it, there is no way the mod would get installed to the wrong dir. Thanx for the help mate! It was a life-saver!<br />
<br />
*prances around Smile2Me singing praises*</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">26th November 2001, 07:21</div></div><div class="posttext">Slyde,<br />
<br />
You can change your code:<br />
ReadRegStr $0 HKLM &quot;Software\Id\Quake III Arena&quot; &quot;INSTALLPATH&quot; <br />
StrCpy $0 &quot;$0\BQ3&quot; <br />
StrCpy $INSTDIR $0<br />
<br />
into:<br />
ReadRegStr $0 HKLM &quot;Software\Id\Quake III Arena&quot; &quot;INSTALLPATH&quot; <br />
StrCpy $INSTDIR &quot;$0\BQ3&quot;<br />
<br />
to save some bytes...<br />
<br />
And thanx for your kind words :D<br />
It's nice to help out friends...<br />
<br />
- :D Hendri :D -</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PepCid</div><div class="date">28th November 2001, 15:01</div></div><div class="posttext">Originally posted by Ackbar <br />
Nice Joke :) Nah I actually figured it out. I was after capturing the return data from a shelled application through a program :) <br />
<br />
Here is your solution:<br />
<br />
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/prothred_4uus.asp<br />
<br />
The above link links to &quot;Creating a Child Process with Redirected Input and Output&quot; in the MSDN<br />
<br />
Grz,<br />
<br />
Michel</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>