<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Check wether AMD64 or Itanium 64bit processor, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Check wether AMD64 or Itanium 64bit processor NSIS Discussion" />
	
	<title> Check wether AMD64 or Itanium 64bit processor [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Check wether AMD64 or Itanium 64bit processor</div>
<hr />
<div class="pda"><a href="t-299034.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=299034">Check wether AMD64 or Itanium 64bit processor</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kevinNCSU</div><div class="date">23rd October 2008, 14:04</div></div><div class="posttext">Is there a simple method for checking whether a system is running AMD64 or Itanium64 bit processors?  The reason is I have a DLL for logging to the windows event log but there are three separate DLL's.  32bit, AMD64, and Itanium64.<br />
<br />
I know how to check if the system is 32 or 64 bit, but need help how to check whether it's AMD64 or Itanium64.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">23rd October 2008, 15:04</div></div><div class="posttext">call GetNativeSystemInfo with the system plugin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kevinNCSU</div><div class="date">23rd October 2008, 16:36</div></div><div class="posttext">Thanks for quick reply and getting me on the right Path Anders.  I can see all the pieces of the puzzle now but I'm having a little trouble putting them together.<br />
<br />
I've looked at the wiki for getting the disk serial number:  Wiki: Get disk Volume Serial Number (http://nsis.sourceforge.net/Get_Disk_Volume_Serial_Number) <br />
<br />
And I realize I want to use the GetNativeSystemInfo in the  same way but I'm unsure how to define the variable and the system call like seen there to get what I want out.  Could you point me to an example or resources that will help me with figuring this out?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kevinNCSU</div><div class="date">23rd October 2008, 17:35</div></div><div class="posttext">So to make things clearer I know I need to get the wProcessorArchitecture member out of SystemInfo using the system plugin but I don't understand how to make the call and access the value of that member.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">23rd October 2008, 17:46</div></div><div class="posttext">!include WinVer.nsh<br />
${If} ${AtLeastWinXP}<br />
	System::Alloc 36<br />
	pop $0<br />
	${If} $0 &lt;&gt; 0<br />
		System::Call 'kernel32::GetNativeSystemInfo(i $0)'<br />
		System::Call &quot;*$0(&amp;i2.r1)&quot;<br />
		MessageBox mb_ok wProcessorArchitecture=$1<br />
		System::Free $0<br />
	${EndIf}<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kevinNCSU</div><div class="date">23rd October 2008, 18:03</div></div><div class="posttext">That worked, thank you so much Anders! =)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dusal</div><div class="date">10th November 2008, 16:32</div></div><div class="posttext">Hello. Please help me. I'm newbee.<br />
<br />
I have i386, ia64, amd64, wow64 separate dll files. How can I choose and copy files to system folder?<br />
Can I use it like this?<br />
<br />
<br />
SetOutPath &quot;$SYSDIR\&quot;<br />
if ($processor==ia64) { File &quot;ia64\kbdmon.dll&quot; }<br />
elseif ($processor==amd64) { File &quot;amd64\kbdmon.dll&quot; }<br />
elseif ($processor==wow64) { File &quot;wow64\kbdmon.dll&quot; }<br />
else { File &quot;i386\kbdmon.dll&quot; }<br />
<br />
If yes please help me how to I write in my *.nsi file. I don't know much about programming language. Please help me.<br />
<br />
thank you.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>