<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" show details, hide details, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  show details, hide details NSIS Discussion" />
	
	<title> show details, hide details [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  show details, hide details</div>
<hr />
<div class="pda"><a href="t-183437.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=183437">show details, hide details</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mdlazreg</div><div class="date">15th June 2004, 19:06</div></div><div class="posttext">If a customer click on the &quot;show details&quot; button there is no other button to &quot;hide details&quot;....<br />
<br />
Should I change the source code to have this possiblity or is it planned for the future?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Shea</div><div class="date">15th June 2004, 19:43</div></div><div class="posttext">What would you gain from hiding the details again? To me it doesn't really matter if they're shown or not.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mdlazreg</div><div class="date">15th June 2004, 20:05</div></div><div class="posttext">yes to me it does not matter neither. But believe it or not that was the first feedback from a customer!. He thinks that if he can show the details he should be able to hide them as well.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Shea</div><div class="date">16th June 2004, 03:08</div></div><div class="posttext">I'sd say that customer is a little anal. But if that's what the customer wants... I think you would have to edit the source or make a plugin. But whatever you do, it's going to be hard if you don't know what your doing. Do you know any programming?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mdlazreg</div><div class="date">16th June 2004, 03:25</div></div><div class="posttext">A customer is a king;).<br />
<br />
Yes I am a programmer but I was hoping that this feature becomes a regular feature of NSIS. Because logically if you can do something you should be able to undo it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lewellyn</div><div class="date">16th June 2004, 05:26</div></div><div class="posttext">Actually, with some of the installers I've come across, I wish I had that functionality. It really slows down the installation when you have an installer installing thousands of itty bitty files on a slow computer with the details showing... :(<br />
<br />
My Â±US$0.02...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">16th June 2004, 16:40</div></div><div class="posttext">It is designed in a way that it won't really slow down the installation.<br />
<br />
I think it won't become an NSIS feature because it doesn't really make sense to have such a button and because it also gives problems with user interface design.<br />
<br />
So if you really need this feature, you'll have to write it yourself. However, if you know a little about C programming, it should not be difficult.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">subbu_cts</div><div class="date">11th July 2005, 15:55</div></div><div class="posttext">I agree with mdlazreg.<br />
<br />
I also recently created an installer using NSIS (my first with NSIS) and in fact one of the very first feedbacks from the customer was for such a requirement. (Hide Details option)<br />
<br />
I think people intuitively look for the Hide Details option when they are allowed to &quot;Show Details&quot;.<br />
<br />
Though I do agree that just &quot;Showing the Details&quot; would NOT necessarily slow down the performance or anything.<br />
Its just that USERS look for the HIDE option.<br />
<br />
It would be great if this can become a regular feature in NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th July 2005, 13:47</div></div><div class="posttext">I was bored this morning (plus I'm ill) so I made a plugin which adds this feature. Works for both Modern UI and default NSIS.<br />
<br />
http://nsis.sourceforge.net/wiki/File:ToggleInstFiles-v0.2.zip<br />
<br />
Enjoy!<br />
<br />
Edit: v0.2 uploaded. ToggleInstFiles::Free removed (no longer necessary).<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th July 2005, 16:43</div></div><div class="posttext">Uploaded new version with some new features.<br />
You can now set the button texts and choose to place the button on the right side.<br />
<br />
http://nsis.sourceforge.net/wiki/File:ToggleInstFiles-v0.3.zip<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Homer1969</div><div class="date">13th July 2005, 16:59</div></div><div class="posttext">:up: <br />
<br />
Works great.  You are da man!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Chilli24</div><div class="date">13th July 2005, 21:52</div></div><div class="posttext">I tried to download this plugin and it is corrupted. Where can I get a good copy of it?<br />
Thank you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Chilli24</div><div class="date">13th July 2005, 21:56</div></div><div class="posttext">Got it ... thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sajida_cts</div><div class="date">14th July 2005, 14:24</div></div><div class="posttext">Hi Afrow,<br />
     I downloaded the stuff and put into my script but the final output comes out a bit sleazy. The upper border of the status bar becomes invisible and the upper part of the Show Details button is hidden by the captions which come up (those showing which command is currently running). Could you please suggest a solution for this soon... <br />
Thanks,<br />
Saaji</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th July 2005, 14:44</div></div><div class="posttext">Could you attach a screenshot?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sajida_cts</div><div class="date">14th July 2005, 15:02</div></div><div class="posttext">yes, didn't think that you would reply this soon... thank you so much.:)<br />
<br />
Spike1.bmp is the onne which comes up before I click on the Show Details button. After I move my mouse over it, that alone becomes visible.<br />
<br />
Spike2.bmp is the final result after completion of installation. There too the upper part of the status bar is invisible.<br />
<br />
And by the way can u suggest a way in which I can show &quot;nice&quot; comments in place of the commands which shows where the installer is currently. That way the user doesn't have to know what all are taking place within.<br />
;)<br />
Thanks,<br />
Saaji</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Homer1969</div><div class="date">14th July 2005, 15:38</div></div><div class="posttext">Use SetDetailsPrint and DetailPrint.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th July 2005, 17:27</div></div><div class="posttext">I see the problem. It's probably because of the font that you're using. What happens when you do not use the plugin? Does the text labels at the top still cover up the progress bar and / or button?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th July 2005, 18:32</div></div><div class="posttext">I have uploaded another version http://nsis.sourceforge.net/wiki/File:ToggleInstFiles.zip<br />
The button and progress bar no longer have a fixed top. They'll now use the top value from the original progress bar.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sajida_cts</div><div class="date">15th July 2005, 07:32</div></div><div class="posttext">Cool Afrow, it works..<br />
Thanks a lot man...<br />
:)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">17th August 2005, 14:16</div></div><div class="posttext">I have strange thing with this plugins.<br />
I work with nsis 2.08.<br />
I made a &quot;modern&quot; setup and don't activate the plugins in<br />
a specific section, I can click on the finish button.<br />
If activate it, When I click on the Finish button, nothing are do and the the finish window aren't closed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th August 2005, 15:34</div></div><div class="posttext">Could you make a cut down script which reproduces this problem?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">17th August 2005, 16:00</div></div><div class="posttext">of course, I simplify my nsi project file and I attached it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">17th August 2005, 16:25</div></div><div class="posttext">A good example, <br />
I use our example &quot;ExampleMUI.nsi&quot;<br />
<br />
...<br />
Section &quot;A section&quot;<br />
<br />
 # Load plugin<br />
 ToggleInstFiles::Set /NOUNLOAD /RIGHT /SHOWTEXT &quot;Show me!&quot; /HIDETEXT &quot;Hide me!&quot;<br />
SetAutoClose False<br />
...<br />
<br />
I comment this line like in my project.<br />
SetAutoClose False<br />
<br />
the installation go automaticaly on the nex page (the finish page) and the button finish do nothing...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th August 2005, 23:54</div></div><div class="posttext">Ahh ok I see. I'll look into that tomorrow.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th August 2005, 10:21</div></div><div class="posttext">Thanks, fixed.<br />
http://nsis.sourceforge.net/wiki/File:ToggleInstFiles.zip<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">18th August 2005, 10:53</div></div><div class="posttext">heuuu, <br />
The 0.5 version, continue to correspond to the 0.4 version of the DLL (14 JUL) .... :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th August 2005, 11:19</div></div><div class="posttext">Are you sure?<br />
I wasn't able to reproduce the problem with the 0.5 DLL<br />
Have you made sure that the new DLL has replaced the old one?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">18th August 2005, 11:32</div></div><div class="posttext">Sorry, <br />
It's not what I want to say.<br />
I just Download your new archive, and I check the version of <br />
the DLL present of this archive, And the creation date of <br />
this DLL is 14 JUL, and not today. Maybe it's upload prbs ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th August 2005, 11:52</div></div><div class="posttext">Could be. I'll check now.<br />
<br />
Edit:<br />
Here's a direct link:<br />
http://nsis.sourceforge.net/mediawiki/images/2/22/ToggleInstFiles.zip<br />
Definately the latest version in there (last mod: 18 August 2005 @ 10:09)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">18th August 2005, 13:40</div></div><div class="posttext">ok, you're right. It's my fault, or my firefox exactly, or the proxy of my company :), I get it with a direct connection with wget. and it's the 0.5 version. And it's work fine for me thanks a lot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">18th August 2005, 13:56</div></div><div class="posttext">It's maybe a bug but I can't put it in Each section of my installation program.<br />
If i do that, the installer crash at the seconc call,<br />
If I want the installation doesn't crash, I need to put it in a specific section.<br />
it is normal ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th August 2005, 17:13</div></div><div class="posttext">Yes, you should only call it once in a dummy section:<br />
<br />
Section<br />
...<br />
SectionEnd<br />
<br />
Put it before any other Sections so it is executed first.<br />
As long as the Section has no name, the user cannot uncheck it on the components page (it does not appear on there).<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">12th September 2005, 16:48</div></div><div class="posttext">Hi,<br />
<br />
I watch something strange with this plugins, may be isn't<br />
the plugins fault, but, I launch the setup example (generated with ExampleMUI.nsi). And after the installation,<br />
the temporary directory created by nsis where the plugins are uncompressed. After the installation 'ToggleInstFiles.dll' aren't removed. <br />
The temp folder in my case is:<br />
'C:\Documents and Settings\MyNaaem\Local Settings\Temp\nsf20.tmp'<br />
But the others plugins are removed....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th September 2005, 18:11</div></div><div class="posttext">I know why this is happening. It is because the plugin has to be called with /NOUNLOAD. This is preventing the DLL from being deleted because it is locked (in use).<br />
<br />
I may have to add a dummy function in to unload the plugin (which would have to be called without the /NOUNLOAD flag) but I've asked KiCHiK if there is a better way to do this.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th September 2005, 08:38</div></div><div class="posttext">A day late, but it's working.<br />
Call ToggleInstFiles::Unload from the finish pages' PRE function (or of the next page after your install files page).<br />
If you're using classic UI with no page's after your install files page, call ToggleInstFiles::Unload in both .onInstSuccess and .onInstFailed functions.<br />
<br />
http://nsis.sourceforge.net/wiki/File:ToggleInstFiles.zip<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Homer1969</div><div class="date">14th September 2005, 17:09</div></div><div class="posttext">Thanks for fixing this, Afrow.  It is unloading now.  :up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">15th September 2005, 16:16</div></div><div class="posttext">I have sometinh strange with the 0.6 version.<br />
I added that at the begining of my project:<br />
juste before my last page.<br />
<br />
!insertmacro MUI_PAGE_INSTFILES<br />
; Remove the plugins<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE UnloadToggleInstFiles<br />
; Finish page<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
I have an hiddent section:<br />
<br />
Section<br />
  ToggleInstFiles::Set /NOUNLOAD<br />
SectionEnd<br />
<br />
and I add the function at the bottom of my file:<br />
## Unload plugin<br />
Function UnloadToggleInstFiles<br />
 ToggleInstFiles::Unload<br />
FunctionEnd<br />
<br />
When I launch the setup, when I click in the finish button,<br />
nsis crach. :(<br />
<br />
I try to make an setup (witout anything to found why the crash appear). Your example MUI doesn't crash.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th September 2005, 18:06</div></div><div class="posttext">Added the following text to the readme:<br />
<br />
&quot;If you are not using AutoCloseWindow True or<br />
MUI_FINISHPAGE_NOAUTOCLOSE, then you should call this from<br />
.onInstSuccess and .onInstFailed also (otherwise a crash<br />
will occur).&quot;<br />
<br />
&quot;this&quot; refers to ToggleInstFiles::Unload.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">16th September 2005, 17:12</div></div><div class="posttext">OK, that crash on my case.<br />
<br />
to explain, I use your example exampleMUI<br />
I can't have MUI_FINISHPAGE_NOAUTOCLOSE set.<br />
so I use the same method as example.nsi<br />
I commment in example MUI the MUI_FINISHPAGE_NOAUTOCLOSE<br />
and the call to the unload page, in the bottom of the <br />
the script I comment too the function  and I hadd the two functions:<br />
  .onInstSuccess<br />
  .onInstFailed<br />
<br />
I generate it, And the script crash after the finish page.<br />
you can found the complete script below:<br />
<br />
<br />
<br />
<br />
<br />
!include MUI.nsh<br />
<br />
## General settings<br />
Name &quot;ToggleInstFiles MUI Test&quot;<br />
OutFile &quot;ToggleInstFilesMUI.exe&quot;<br />
<br />
## Page settings<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_INSTFILES<br />
;!define MUI_PAGE_CUSTOMFUNCTION_PRE UnloadToggleInstFiles<br />
;!define MUI_FINISHPAGE_NOAUTOCLOSE<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
!insertmacro MUI_LANGUAGE English<br />
<br />
## Main section<br />
Section &quot;A section&quot;<br />
<br />
 # Load plugin<br />
 ToggleInstFiles::Set /NOUNLOAD /RIGHT /SHOWTEXT &quot;Show me!&quot; /HIDETEXT &quot;Hide me!&quot;<br />
<br />
 # A general task<br />
 DetailPrint &quot;Doing something...&quot;<br />
 Sleep 5000<br />
<br />
SectionEnd<br />
<br />
## Unload plugin<br />
Function .onInstSuccess<br />
 ToggleInstFiles::Unload<br />
FunctionEnd<br />
<br />
Function .onInstFailed<br />
 ToggleInstFiles::Unload<br />
FunctionEnd<br />
<br />
## Unload plugin<br />
;Function UnloadToggleInstFiles<br />
; ToggleInstFiles::Unload<br />
;FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th September 2005, 19:16</div></div><div class="posttext">Hmm thanks. I wasn't able to fix this problem unfortunately, which only occurs if MUI_FINISHPAGE_NOAUTOCLOSE or AutoCloseWindow true is set.<br />
<br />
If you must use these two settings you won't be able to use ToggleInstFiles::Unload and you'll have to remove the $PLUGINSDIR manually after a reboot with:<br />
<br />
RMDir /r /rebootok $PLUGINSDIR<br />
<br />
Updated readme.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">neotwix</div><div class="date">16th September 2005, 22:56</div></div><div class="posttext">OK<br />
Maybe it's not completly what I want.<br />
I want the panel where the the plugin is displayed (the copy of the files) changed when it 's finish to my finish panel, I don't want the user of my setup clic next AND click on the finish button. May I use the method ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th September 2005, 10:18</div></div><div class="posttext">Sorry, I made a typo:<br />
<br />
If you can't use these two settings you won't be able to use ToggleInstFiles::Unload and you'll have to remove the $PLUGINSDIR manually after a reboot with:<br />
<br />
RMDir /r /rebootok $PLUGINSDIR<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>