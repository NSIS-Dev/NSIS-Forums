<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Detect clcik on NEXT button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Detect clcik on NEXT button NSIS Discussion" />
	
	<title> Detect clcik on NEXT button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Detect clcik on NEXT button</div>
<hr />
<div class="pda"><a href="t-255735.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255735">Detect clcik on NEXT button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">lorenzop</div><div class="date">18th September 2006, 13:36</div></div><div class="posttext">I've created a custom page.<br />
<br />
Only if the user click on NEXT button (of custom page), my installer musts execute some operations:<br />
<br />
.....<br />
!insertmacro MUI_INSTALLOPTIONS_READ $SelectedDrive &quot;SceltaFlash.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
StrCpy $SelectedDrive $SelectedDrive 3<br />
.....<br />
<br />
otherwise no.<br />
<br />
Thanks, best regards.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lorenzop</div><div class="date">18th September 2006, 14:31</div></div><div class="posttext">I've tried to use a LeaveFunction in my custom page.<br />
The problem is:<br />
if the user click on NEXT button, I must control a value. If this value is OK, I must go to the next page; if this value isn't OK, I Must return on my cutom page.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">saschagottfried</div><div class="date">18th September 2006, 15:15</div></div><div class="posttext">see InstallOptions help - file:///C:/Programme/NSIS/Docs/InstallOptions/Readme.html<br />
<br />
you have to use Section Settings - Field State as shown in the Readme HTML file. Value 0 means next button was pressed. Use Abort function in a page callback function to return to a page.<br />
<br />
Code:<br />
!insertmacro MUI_INSTALLOPTIONS_READ $0 &quot;passwordpage.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
<br />
StrCmp $0 0 next_button return_to_page ; Next button clicked<br />
return_to_page:<br />
  abort<br />
next_button:<br />
 do your stuff...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sunlight112</div><div class="date">26th October 2006, 04:24</div></div><div class="posttext">I have the same problem with lorenzop and I do these code which saschagottfried show but I run the other program.<br />
My code here<br />
ReadINIStr $0 $INI &quot;Settings&quot; &quot;State&quot;<br />
StrCmp $0 0  ReadMe End<br />
ReadMe:<br />
  ExecWait &quot;nodpad.exe&quot;<br />
End:<br />
Abort<br />
It is run but if I want to run on button NEXT by a file read me.txt. It does not run<br />
ReadINIStr $0 $INI &quot;Settings&quot; &quot;State&quot;<br />
StrCmp $0 0  ReadMe End<br />
ReadMe:<br />
  SetOutPath $PLUGINSDIR<br />
  File &quot;c:\readme.txt&quot;<br />
  ExecWait &quot;$PLUGINSDIR\readme.txt&quot;<br />
End:<br />
Abort<br />
Also I use<br />
  ExeWait &quot;readme.txt&quot;<br />
But I do not run!<br />
Please help me!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">saschagottfried</div><div class="date">26th October 2006, 12:00</div></div><div class="posttext">Sorry, I can't understand anything, after reading your messages twice. <br />
<br />
Please descibe what you try to do with words. Afterwards provide enough of your code, so I can recognize something. You really should read your own messages, before you expect someone to understand this.<br />
<br />
If you take some time for that, I will take my time to give you an answer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sunlight112</div><div class="date">26th October 2006, 12:12</div></div><div class="posttext">I am sorry for my word,<br />
I mean I do the same way which you show lorenzop except lorenzop click NEXT to run application, I change NEXT button to become VIEW README.<br />
But when I put it in my code, it does not work. I also want to test my code is wrong or true. So, I change file to become nodpad.exe to detect it.At that time, it run well.<br />
The first code used for file ReadMe.TXT which I want to show.<br />
ReadINIStr $0 $INI &quot;Settings&quot; &quot;State&quot;<br />
StrCmp $0 0 ReadMe End<br />
ReadMe:<br />
SetOutPath $PLUGINSDIR<br />
File &quot;c:\readme.txt&quot;<br />
ExecWait &quot;$PLUGINSDIR\readme.txt&quot;<br />
End:<br />
Abort<br />
Also I use<br />
ExeWait &quot;readme.txt&quot;<br />
<br />
The second code expressed file nodpad.exe which I want to test.<br />
<br />
ReadINIStr $0 $INI &quot;Settings&quot; &quot;State&quot;<br />
StrCmp $0 0 ReadMe End<br />
ReadMe:<br />
ExecWait &quot;nodpad.exe&quot;<br />
End:<br />
Abort<br />
<br />
In case I use nodpad.exe , I click VIEW README, nodpad is executed but I click CLOSE both main application and nodpad is closed.Although I use Abort to return page.<br />
Once again sorry,<br />
Thank alot for your help,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">saschagottfried</div><div class="date">26th October 2006, 12:28</div></div><div class="posttext">Your problem is that you want to add features to things that you have not understood in basic yet. &quot;Abort&quot; only returns to the page when used in a LEAVE function. Lorenzop did this. You did not even recognized this.<br />
 <br />
Do not misuse things like NEXT button. There are other features like MUI_FINISHPAGE_RUN to display a readme file after setup was successful. <br />
<br />
My advice. Look in MUI help for page - chapter 3. This provides enough to customize some features during the install process.<br />
<br />
And you have to understand the concept of callback functions for pages. Study examples in C:\Programme\NSIS\Examples\Modern UI<br />
Here you can learn basic installer setup that use MUI and the use of Pre,Show,Leave Functions.<br />
<br />
In the end you will even save time, because you do not have to visit the forum afterwards. Good luck!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sunlight112</div><div class="date">27th October 2006, 03:34</div></div><div class="posttext">Thank saschagottfried for your advice,<br />
I put my code in Leave Function and I know Abort only return the page and used in Leave Function.<br />
Perhaps, I post my question is wrong position. However, I see the problem which Lorenzop saw the same way which I want.I also know attribute NEXT,BACK,CANCEL but my purpose is different.<br />
Instead of NEXT button is used by Lorenzop, I change it to become VIEW README button.Because my purpose want to create a menu which allow user run all application on this. <br />
So, I change this to allow them to see information. <br />
This is express my idea:<br />
------------------<br />
|    Button 1    |<br />
------------------<br />
|    Button 2    |<br />
------------------<br />
|ViewReadMe| Exit|<br />
------------------<br />
I think you can understandd my purpose and can you give me your help to solve this problem with Button &quot;VIEW README&quot; which I express on above.<br />
Thank in advance,</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>