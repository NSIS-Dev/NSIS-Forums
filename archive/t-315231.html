<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Autorun under windows 7, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Autorun under windows 7 NSIS Discussion" />
	
	<title> Autorun under windows 7 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Autorun under windows 7</div>
<hr />
<div class="pda"><a href="t-315231.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=315231">Autorun under windows 7</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">thegrinch</div><div class="date">10th December 2009, 12:58</div></div><div class="posttext">Hi,<br />
<br />
I know that autorun issues are a bit offtopic here, but since we all have to deploy our apps from time to time :-), I think a few other prople should have encountered the same problem as me.<br />
<br />
I am deploying 3 (NSIS-) installers on one CD, call them installer_a.exe, installer_b.exe, installer_c.exe.<br />
<br />
I burn them on a cd together with a autorun.inf, which looks like<br />
<br />
[autorun]<br />
shell\insta\command=installer_a.exe<br />
shell\insta=Installation of application A<br />
shell\instb\command=installer_b.exe<br />
shell\instb=Installation of application B<br />
shell\instc\command=installer_c.exe<br />
shell\instc=Installation of application C<br />
<br />
On windows xp, this configuration will automatically execute installer_a.exe when inserting the CD.<br />
<br />
---edit---<br />
ah, I forgot to say that the three options are shown in the context-menu of the cd-drive in windows explorer.<br />
---/edit---<br />
<br />
On windows 7, it does not execute any installer, instead this windows-dialog pops up, asking what I want to do with the CD. This would be absolutely fine, if this dialog contained the 3 specified items &quot;Installation of ..&quot;<br />
<br />
How do you handle autorun issues under windows 7?<br />
What about Windows vista?<br />
To be honest, up to now I tried to circumvent all contacts to these new versions of Windows.<br />
<br />
Thank you for your great support in advance,<br />
best regards,<br />
Olli</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">10th December 2009, 13:51</div></div><div class="posttext">Is that the whole .inf file? You should have a open=app.exe (or shellexecute=foo) entry or shell=insta<br />
<br />
As to why your items are not displayed, I don't know, but I do know that autorun has had issues with people faking the Open in explorer entry, so maybe they don't allow you to display a full list in 7</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thegrinch</div><div class="date">10th December 2009, 16:56</div></div><div class="posttext">Thanks for your reply.<br />
<br />
I have tested all these options:<br />
<br />
shell=insta<br />
<br />
open=installer_a.exe<br />
<br />
but they don't work.<br />
<br />
How do you all handle an autostart option on your cds?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">10th December 2009, 18:31</div></div><div class="posttext">how are you testing your autorun.inf? you might have to burn it on a cd (or create a cd image) to be certain. microsoft modified the default behaviour of autorun lately.<br />
<br />
&quot;In Windows XP, Windows Vista, and Windows Server 2003, AutoRun entries were populated for all devices that had mass storage and had a validly formatted AutoRun.inf file in the root directory. This included CDs, DVDs, USB thumb drives, external hard disks, and any volume that exposed itself as mass storage. This update disables AutoRun entries in AutoPlay, and displays only entries that are populated from CD and DVD drives. Effectively, this prevents AutoPlay from working with USB media.&quot;<br />
<br />
-http://support.microsoft.com/kb/971029</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thegrinch</div><div class="date">10th December 2009, 18:40</div></div><div class="posttext">Actually, I have burned (in every sense :-) ) over 10 cds today.<br />
<br />
So, I really tried to have a realistic testing environment.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">10th December 2009, 19:16</div></div><div class="posttext">i just tested the original windows 7 dvd and it's autorun doesn't execute the installer (on windows 7). neither do i get an autorun option from the context-menu. holding the shift-key while opening the context-menu usually displays hidden entries - but nothing from the autorun.inf shows up. the only thing that works is the dvd icon being displayed.<br />
<br />
so, it looks like this is the way windows 7 is supposed to behave.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thegrinch</div><div class="date">10th December 2009, 20:33</div></div><div class="posttext">hmm, so this sucks, or what?<br />
there must be some way to have your app start when inserting the cd!<br />
maybe they changed the whole procedure, and we're  just too blind to see it?<br />
What about vista? do the same problems occur there too?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">redxii</div><div class="date">10th December 2009, 22:13</div></div><div class="posttext">Does &quot;open=&quot; at least present you a choice to run the installer? Starting with Vista they showed a dialog asking you what to do, one of the choices to run setup/installer.<br />
<br />
Having programs automatically execute from a CD or other media when inserted is a really bad idea. It doesn't have to be from a John Doe, it can be a big name like Sony who stealthily installed their DRM rootkit via autorun, and exploiting the fact that most people always ran as administrator because that was how Windows set it up.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thegrinch</div><div class="date">10th December 2009, 22:32</div></div><div class="posttext">Yes, yes, I totally agrre with you.<br />
<br />
What I want is *not* to open a setup or something like that (eg. a small selfmade menu that would take the users choice).<br />
<br />
My cd will contain 3 installers, and I would really like to use this built-in feature of windows.<br />
<br />
also, because I have never seen such a menu-helper app that looks good and works as expected everywhere.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Leo77</div><div class="date">11th December 2009, 21:17</div></div><div class="posttext">Have you digitally signed the autorun? I've seen the updates I provide my customers not execute on Vista if it was not signed. I actually made my autorun with NSIS. I'll have to see if it displays on Win7.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thegrinch</div><div class="date">13th December 2009, 01:09</div></div><div class="posttext">No I did not sign the setup. <br />
<br />
I have given up the idea of using the built-in options of windows. I will try to set up a small exe that offers a menu to the user</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>