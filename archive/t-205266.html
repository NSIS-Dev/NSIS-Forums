<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Dependency checks, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Dependency checks NSIS Discussion" />
	
	<title> Dependency checks [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Dependency checks</div>
<hr />
<div class="pda"><a href="t-205266.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=205266">Dependency checks</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Correa</div><div class="date">18th January 2005, 17:06</div></div><div class="posttext">Hi,<br />
 <br />
<br />
   Does anyone know how one could automate a dependency check to make sure all the dlls are included in the installer? Like using the depends.exe that comes with VS.<br />
<br />
   This would prevent, say, forgetting to recompile some dll and sending it with a dependency on msvcrtd.dll</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">18th January 2005, 20:23</div></div><div class="posttext">I think only with third part app for reading dependencies....<br />
Although, if you build your app, you sure will know which DLL nor OCX are required...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Correa</div><div class="date">19th January 2005, 01:17</div></div><div class="posttext">Well, sure I do :P<br />
<br />
The issue is not finding which DLLs it depends on, that can be done only once. The issue is making sure you are not releasing your software with the DLLs compiled *in the wrong way* ;)<br />
<br />
It's not uncommon for someone to forget recompiling a part of the system into release mode after stressfull sessions of bug hunting in the much more friendly debug mode :)<br />
<br />
Then you send the installer to the poor user without the dev environment and it won't work due to those daunting DLL not found messages.<br />
<br />
Including the debug DLLs into the distribution is absolutely wrong, of course. Not only wrong, but potentialy illegal, since in most cases you are not even allowed to redistribute the debug DLLs.<br />
<br />
I just wanted to know if someone knew how I could extract the information, writting a python script or whatever to automate the process before calling makensis would be the easy part after that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th January 2005, 18:20</div></div><div class="posttext">In Source\Plugins.cpp the exports are examined. It uses some macros and definitions from WinNT.h. It shouldn't be too hard to modify it to check the imports. Some useful information can be found at:<br />
<br />
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dndebug/html/msdn_peeringpe.asp<br />
http://www.windowsitlibrary.com/Content/356/11/4.html?Ad=1&amp;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>