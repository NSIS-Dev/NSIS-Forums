<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" installoptions dropdown question, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  installoptions dropdown question NSIS Discussion" />
	
	<title> installoptions dropdown question [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  installoptions dropdown question</div>
<hr />
<div class="pda"><a href="t-246979.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=246979">installoptions dropdown question</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">empezar</div><div class="date">25th May 2006, 12:00</div></div><div class="posttext">Hi I would like to assign values to the InstallOptions dropdown menus<br />
<br />
<br />
[Please select a menu item] (value=0)<br />
 Brazil mirror              (value=http://www.br)<br />
 Swedish mirror             (value=http://www.se)<br />
<br />
<br />
I would imagine the code would look something like this:<br />
<br />
<br />
[Field 3]<br />
Type=DropList<br />
ListItems=a|b|c<br />
ListValues=0|1|2<br />
Left=10<br />
Right=230<br />
Top=20<br />
Bottom=30<br />
State=a<br />
<br />
<br />
notice the ListValues?<br />
<br />
does something like that exist?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">25th May 2006, 12:14</div></div><div class="posttext">!define item1 &quot;0&quot;<br />
!define item2 &quot;1&quot;<br />
<br />
on custom leave function<br />
readinistr $R0 '$PLUGINSDIR\custom.ini' 'Field 3' 'State'<br />
${If} $R0 == 'a'<br />
# use the ${item1} the way you imagine to use it<br />
${ElseIf} $R0 == 'b'<br />
# use the ${item2} the way you imagine to use it<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">empezar</div><div class="date">25th May 2006, 13:38</div></div><div class="posttext">wow, I thought I had thought about that...<br />
<br />
I got it to work now, not exactly like that, but kind of :) thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zethris</div><div class="date">15th March 2007, 16:44</div></div><div class="posttext">Originally posted by Red Wine <br />
!define item1 &quot;0&quot;<br />
!define item2 &quot;1&quot;<br />
<br />
on custom leave function<br />
readinistr $R0 '$PLUGINSDIR\custom.ini' 'Field 3' 'State'<br />
${If} $R0 == 'a'<br />
# use the ${item1} the way you imagine to use it<br />
${ElseIf} $R0 == 'b'<br />
# use the ${item2} the way you imagine to use it<br />
${EndIf}  <br />
<br />
I have been able to find a lot of information for a lot of other things this installer I am working on needs to do for me, so I thank you very much for the robust search here at this board and at the wiki. The search results in my latest hurdle only seem to show a few possible solutions, and then to my dismay some without actually mentioning what &quot;fixed&quot; the issue. Lol. I have been trying to find further information as the above is pretty much what I am looking for. <br />
<br />
I too am looking to have a drop down box using an InstallOptions MUI custom page with multiple selections to select a ListItem from the menu and pass the ListValue ID# to the leave page that then writes the ID# to a configuration file (config.xml) that is installed in the installation directory. <br />
<br />
The first step, of course, is to get the drop down menu ini to show all options(there are almost 100 of them) and have an assigned ID# to each option. Do I have to create 100 entires? (example item1|item2|item3~|Item99 ). If so, that<br />
is ok. <br />
<br />
However, how do I then read from the ListValue without having to create a line of code in the script to define each item 0-99 and then have 99 ElseIf statements as is given above with the much smaller list above as an example graciously given by Red Wine?<br />
<br />
It'd be messy to do each item, but I suppose it would work :D . I just hope that I wont have to do that though.<br />
<br />
I am grocking a much as I can in a short period, but NSIS is almost it's own language. Which is very cool. I love how versatile this is. So what would you all recommend?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">15th March 2007, 17:37</div></div><div class="posttext">hopefully this would help,<br />
!define EN_SERVER &quot;http://www.eng.com&quot;<br />
!define ES_SERVER &quot;http://www.esp.es&quot;<br />
!define RU_SERVER &quot;http://www.rus.ru&quot;<br />
<br />
var server<br />
<br />
showinstdetails show<br />
outfile 'test.exe'<br />
Installdir &quot;$PROGRAMFILES\My Application&quot;<br />
<br />
!include logiclib.nsh<br />
<br />
page custom customcreate customleave<br />
page directory<br />
page instfiles<br />
<br />
section <br />
DetailPrint &quot;Downloading from $server&quot;<br />
sectionend<br />
<br />
function customleave<br />
ReadINIStr $0 &quot;$PLUGINSDIR\custom.ini&quot; &quot;settings&quot; &quot;state&quot;<br />
${If} $0 == 0<br />
ReadINIStr $0 &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;state&quot;<br />
${AndIf} $0 == &quot;Select Server&quot;<br />
MessageBox MB_OK &quot;Please select a server&quot;<br />
Abort<br />
${EndIf}<br />
ReadINIStr $0 &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;state&quot;<br />
${If} $0 == &quot;English Server&quot;<br />
StrCpy $server &quot;${EN_SERVER}&quot;<br />
${elseif} $0 == &quot;Spanish Server&quot;<br />
StrCpy $server &quot;${ES_SERVER}&quot;<br />
${else}<br />
StrCpy $server &quot;${RU_SERVER}&quot;<br />
${EndIf}<br />
functionend<br />
<br />
function customcreate<br />
InstallOptions::Dialog &quot;$PLUGINSDIR\custom.ini&quot;<br />
pop $0<br />
functionend<br />
<br />
function .onInit<br />
InitPluginsDir<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;settings&quot; &quot;numfields&quot; &quot;2&quot;<br />
<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;type&quot; &quot;groupbox&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;left&quot; &quot;0&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;right&quot; &quot;-1&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;top&quot; &quot;10&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;bottom&quot; &quot;-11&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;text&quot; &quot;Select server&quot;<br />
<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;type&quot; &quot;droplist&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;left&quot; &quot;40&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;right&quot; &quot;-40&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;top&quot; &quot;30&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;bottom&quot; &quot;80&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;Listitems&quot; &quot;Select Server|English Server|Spanish Server|Russian Server&quot;<br />
WriteIniStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;state&quot; &quot;Select Server&quot;<br />
functionend</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>