<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI: How to override language strings?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI: How to override language strings? NSIS Discussion" />
	
	<title> MUI: How to override language strings? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI: How to override language strings?</div>
<hr />
<div class="pda"><a href="t-153505.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=153505">MUI: How to override language strings?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">21st October 2003, 22:55</div></div><div class="posttext">I need to override the default language strings for:<br />
MUI_TEXT_INSTALLING_TITLE<br />
MUI_TEXT_INSTALLING_SUBTITLE<br />
<br />
There are a couple of ways I have found:<br />
<br />
a) The cleaner way is to modify Modern UI\System.nsh so that it accepts a user defined value before using the string from the language.nsh file. I suppose this modification should be made by Joost- since he owns the MUI development- though I can make it as well.<br />
<br />
b) The other way is to use LangString to override the language strings, e.g.,<br />
LangString MUI_TEXT_INSTALLING_TITLE ${LANG_ENGLISH} &quot;Yada Yada Yada&quot;<br />
This shows the following warning:<br />
LangString &quot;MUI_TEXT_INSTALLING_TITLE&quot; set multiple times for 1033, wasting space <br />
Though this is just a warning, I like to be able to compile my scripts without any warnings/errors. Silly, I know, but that's just me.<br />
<br />
Any other ideas?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd October 2003, 01:24</div></div><div class="posttext">You put this after or before the language call? Maybe modifying System.nsh (NOT TESTED!):<br />
<br />
!define &quot;STR_$(MUI_TEXT_INSTALLING_TITLE)&quot;<br />
<br />
!ifdef STR_<br />
  LangString MUI_TEXT_INSTALLING_TITLE ${LANG_ENGLISH} &quot;Yada Yada Yada&quot;<br />
!endif<br />
<br />
!undef &quot;STR_$(MUI_TEXT_INSTALLING_TITLE)&quot;<br />
<br />
So will be only used this in System.nsh when don't have that language string or when the value is &quot;&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">22nd October 2003, 02:13</div></div><div class="posttext">This is not what I am trying to do. I want System.nsh to use my text instead of what's in the Language.nsh.<br />
Actually, it is working for me when I use method b) in my original post. What I don't like is the warning about wasted space.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">22nd October 2003, 11:44</div></div><div class="posttext">All Modern UI texts can be customized. Please see the Modern UI Readme for details.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">22nd October 2003, 15:13</div></div><div class="posttext">I have the latest version of the ModernUI Readme from CVS.<br />
I don't see a section in there telling me how to change any text.<br />
I see the parts which let me customize the title &amp; text for an installer page.<br />
Specifically, I need to change the following text:<br />
MUI_TEXT_INSTALLING_TITLE <br />
MUI_TEXT_INSTALLING_SUBTITLE <br />
<br />
Looking at System.nsh, this is what I see:<br />
<br />
<br />
!macro MUI_FUNCTION_INSTFILESPAGE PRE SHOW LEAVE<br />
<br />
  Function &quot;${PRE}&quot;<br />
  <br />
    !insertmacro MUI_FUNCTION_CUSTOM PRE<br />
    !insertmacro MUI_HEADER_TEXT_PAGE $(MUI_TEXT_INSTALLING_TITLE) $(MUI_TEXT_INSTALLING_SUBTITLE)<br />
    <br />
  FunctionEnd<br />
(etc...)<br />
<br />
<br />
<br />
By comparison, for the Welcome page:<br />
<br />
!macro MUI_FUNCTION_WELCOMEPAGE PRE LEAVE<br />
<br />
  !ifndef MUI_VAR_HWND<br />
    Var MUI_HWND<br />
    !define MUI_VAR_HWND<br />
  !endif<br />
<br />
  Function &quot;${PRE}&quot;<br />
  <br />
    !ifndef MUI_WELCOMEPAGE_TITLE<br />
      !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 2&quot; &quot;Text&quot; &quot;$(MUI_TEXT_WELCOME_INFO_TITLE)&quot;<br />
    !else<br />
      !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 2&quot; &quot;Text&quot; &quot;${MUI_WELCOMEPAGE_TITLE}&quot;<br />
      !undef MUI_WELCOMEPAGE_TITLE<br />
    !endif<br />
    <br />
    !ifndef MUI_WELCOMEPAGE_TEXT<br />
      !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 3&quot; &quot;Text&quot; &quot;$(MUI_TEXT_WELCOME_INFO_TEXT)&quot;<br />
    !else<br />
      !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Field 3&quot; &quot;Text&quot; &quot;${MUI_WELCOMEPAGE_TEXT}&quot;<br />
      !undef MUI_WELCOMEPAGE_TEXT<br />
    !endif<br />
(etc...)<br />
<br />
<br />
Here I can clearly see that the default text from the Language.nsh file is only inserted when I have not defined an alternate text.<br />
Similar code is not there in the first case, where there is no option for me to provide an alternate text, since the text from the Language.nsh file is included regardless.<br />
<br />
Maybe I am missing something, so I would appreciate you pointing me in the right direction.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">22nd October 2003, 15:28</div></div><div class="posttext">The MUI_HEADER_TEXT_PAGE macros handles that. You can find the settings in the Modern UI Readme (MUI_PAGE_HEADER_TEXT/MUI_PAGE_HEADER_SUBTEXT).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>