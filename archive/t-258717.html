<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Ultra Modern UI Issue (Possible Bug), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Ultra Modern UI Issue (Possible Bug) NSIS Discussion" />
	
	<title> Ultra Modern UI Issue (Possible Bug) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Ultra Modern UI Issue (Possible Bug)</div>
<hr />
<div class="pda"><a href="t-258717.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=258717">Ultra Modern UI Issue (Possible Bug)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">baskaran.vishnu</div><div class="date">1st November 2006, 10:47</div></div><div class="posttext">Hi,<br />
<br />
I would like to bring to your attention on an Ultra Modern UI (UMUI) issue that I am currently facing.<br />
<br />
Currently, I would compile my NSIS scripts under the UMUI mode (version 1.00b). The Installer when executed upon compilation works fine.<br />
<br />
However, when tested on a couple of Computers running on Windows XP SP 2(One computer runs in Windows XP Pro English and the other runs in Windows XP Pro Japanese), the UMUI display seems to run out of shape.<br />
<br />
I have attached a sample screenshot of the UMUI problem with this post. Please download the screenshot to observe the issue.<br />
<br />
Based on the attached Screenshot, it is visible that the alignment of the UMUI images is out of shape with some brown-gray patches in between display UI.<br />
<br />
I have tested the Installer in many PCs and I am only able to reproduce it at two PCs with running Operating Systems as mentioned earlier.<br />
<br />
I am not sure on the cause of this issue. I have gone through the UMUI Readme but I could not find any related items pertaining to this issue. Besides that, I have also tried searching through the NSIS forum for any related issues but to no avail.<br />
<br />
At the moment, I could only suspect possible Windows Display /Appearance settings that might have affected the display of the UMUI screen. However, when compared to other PCs which have the same display configuration, the UMUI installer works fine there.<br />
<br />
Please advice me on this issue or any possible countermeasures for it. I am worried that since it has occurred twice, it may occur on other platforms.<br />
<br />
Thanks very much.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st November 2006, 11:01</div></div><div class="posttext">The display setting probably at fault is DPI. Control Panel-&gt;Display-&gt;Settings-&gt;Advanced-&gt;General-&gt;Display-&gt;DPI setting. For those two computers it'd probably be 120 DPI.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">baskaran.vishnu</div><div class="date">1st November 2006, 11:21</div></div><div class="posttext">Hi,<br />
<br />
You are right!<br />
<br />
Based on your explanation, I re-configured and restarted a test PC with a Display DPI of 120dpi. Once I activate the UMUI Installer, the problem as mentioned earlier occured!<br />
<br />
Hence, once I reconfigured the PC to its Display DPI set at 96dpi, then the UMUI display was ok.<br />
<br />
I will add this information as a known issue in deploying the installer. However, are there any possible countermeasures regarding this issue?<br />
<br />
Thanks again for your quick support.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">1st November 2006, 11:33</div></div><div class="posttext">The Modern UI handles different DPI settings correctly and resizes images if necessary. This should be fixed by the author of the Ultra Modern UI.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">1st November 2006, 11:42</div></div><div class="posttext">I will see that.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">1st November 2006, 17:36</div></div><div class="posttext">I have just tested with UltraModernUI beta 2 and this problem is fixed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">baskaran.vishnu</div><div class="date">2nd November 2006, 01:05</div></div><div class="posttext">Thanks Super Pat for fixing the problem in UMUI beta 2<br />
<br />
It would be great if you could provide me with a link to download the latest UMUI version (beta 2).<br />
<br />
I have tried searching at the UMUI official website (http://ultramodernui.sourceforge.net/index.php) or even at the NSIS Home page, but I could not locate the latest UMUI installer. The only available version is still version 1.00 beta 1.<br />
<br />
Hence, would be grateful if you or anyone could provide me with a link to download the latest beta version (beta 2) of UMUI.<br />
<br />
Thanks very much.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">2nd November 2006, 08:21</div></div><div class="posttext">Currently, Beta 2 is not finished yet...<br />
I work above and it remain some tricks to do before its public preversion release:<br />
<br />
The phase of tests public will begin when all what appears in bold will be carried out.<br />
The final beta2 will release when all the remainder of this list will be carried <br />
<br />
<br />
<br />
TODO Lists for the Beta2 version:<br />
<br />
- Maintenance Page: Coding the Modify an existing install feature.<br />
- AdditionalTasks and Serial Number pages: support of the safeguard of the parameters in the registery for the update/Repair/Modify option. Require to rewrite a part of these pages.<br />
- Rewriting one of the macros managing &quot;Flags UMUI&quot; (They allow, amongst other things, to know which options were chosen in various pages...)<br />
- Second reading and cleaning of all the code<br />
- Complete the documentation<br />
<br />
Correction for my unofficial version of InstallOptionEx:<br />
- If we change the background color of a Link control to transparent, the background color become white...<br />
- We cannot change the text and background colors of a GroupBox control, it remains color of Windows....<br />
<br />
<br />
<br />
Feature Lists for the Beta2 version:<br />
<br />
# UltraModernUI will include also a second Unser Interface named ModernUIEx. ModernUIEx will be an extended version of Modern UI but with the new UltraModern pages support.<br />
# UltraModernUI will include henceforth three plugins that will be natively supported :<br />
    * The new SkinnedScrollBar plugin will be able skin all Buttons and ScrollBars of your NSIS installer (scrollbar only for Windows 2000/XP/2003/Vista?).<br />
    * An unofficial version of the InstallOptionEx plugin that will contain a lot of bugfix necessary to the correct operation of some UltraModernUI pages.<br />
    * The NSISArray plugin used with the AlternativeStartMenu and MultiLanguages Pages of UltraModernUI beta2.<br />
# All the Skin will be remakes and twenty skins will be available. blue, blue2, SoftBlue, red, red2, SoftRed....<br />
# New pages will be available:<br />
    * MultiLanguage Page to replace (if you prefer) the MultiLanguage Plug-in.<br />
    * Maintenance Page with Repair, Modify, Uninstall and Continue Setup options.<br />
    * Update Page with Update, Uninstall and Continue Setup options.<br />
    * Informmation Page for viewing text and RichText files.<br />
    * SerialNumber Page.<br />
    * Setup Type Page with Minimal, Standard, Complete and Custom options.<br />
    * AlternativeStartMenu Page to replace the StartMenu Plug-in. It allows the use of a TreeWiew instead of the ListView and can set the ShellVarContext<br />
    * Additionnal Tasks page with checkboxes en radiobutton.<br />
    * File and Disk Request Page (But not during the install files page).<br />
# Some macros to simplify the writing of scripts<br />
<br />
<br />
<br />
I will need all beta testers, translators, correctors (for the orthography of the French and English files and of Documentation) available but also, if some developers are interested for help me on my new SkinnedControls plugin that skin Buttons AND/OR ScrollBars and to debug my unofficial version of InstallOptionEx, I am also a interested.<br />
<br />
<br />
<br />
Some Screenshots:<br />
<br />
The three skins type:<br />
The &quot;blue&quot; skin:<br />
http://guerin45.free.fr/NSIS13.png (http://guerin45.free.fr/NSIS13.png)<br />
The &quot;blue2&quot; skin:<br />
http://guerin45.free.fr/NSIS12.png (http://guerin45.free.fr/NSIS12.png)<br />
The &quot;SoftBlue&quot; skin:<br />
http://guerin45.free.fr/NSIS14.png (http://guerin45.free.fr/NSIS14.png)<br />
<br />
<br />
The &quot;SoftBrown&quot; Skin with Buttons and ScrollBars Skinned<br />
http://guerin45.free.fr/NSIS15.png (http://guerin45.free.fr/NSIS15.png)<br />
<br />
The SetupType Page:<br />
http://guerin45.free.fr/NSIS11.png (http://guerin45.free.fr/NSIS11.png)<br />
The SetupType page in the ModernUIEx mode:<br />
http://guerin45.free.fr/NSIS10.png (http://guerin45.free.fr/NSIS10.png)<br />
<br />
The AlernativeStartMenu page with treeview and SellVarContext options (and also with the GroupBox InstallOptionEx bug :confused: ):<br />
http://guerin45.free.fr/NSIS09.png (http://guerin45.free.fr/NSIS09.png)<br />
<br />
The Multi-languages page in ModernUIEx mode:<br />
http://guerin45.free.fr/NSIS06.png (http://guerin45.free.fr/NSIS06.png)<br />
<br />
The UMUI_Small UI:<br />
http://guerin45.free.fr/NSIS02.png (http://guerin45.free.fr/NSIS02.png)<br />
http://guerin45.free.fr/NSIS03.png (http://guerin45.free.fr/NSIS03.png)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">baskaran.vishnu</div><div class="date">8th November 2006, 04:17</div></div><div class="posttext">Sorry for my late reply.<br />
<br />
Thanks Super Pat for your information and for helping fix the DPI display bug. I am looking forward to the next release of UMUI.<br />
<br />
Another question though about UMUI. I have been researching on how to add  an additional button into the NSIS page components. I found the ButtonEvent plugin (by Afrow) and tried using it in my UMUI specification installer. <br />
<br />
However, upon running the installer, the extra button does not seem to appear. I followed the same method as seen in the given example for this plugin(including using the 'modern_modified.exe' as provided with this plugin). But it does not work.<br />
<br />
Is it because 'modern_modified.exe' is configured for MUI only? I tried recompiling the given ButtonEvent plugin example in UMUI mode. I received a compilation error 'Function named &quot;.onGUIEnd&quot; already exist'. I suspect that this function was initialized somewhere within the UMUI codes. Thus I passed the ButtonEvent:UnLoad code to Section -Post. The compilation worked fine. But upon executing the installer, the additional button was Not Visible. <br />
<br />
Is there anyway on how I could add an extra button (parallel position to the Next, Back and Cancel buttons) for UMUI page components?<br />
<br />
Thanks very much for any feedback or advice regarding this issue.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">9th November 2006, 14:53</div></div><div class="posttext">You need to modify the UI Contrib/UIs/UltraModernUI/UltraModern.exe with ressource hacker to add your button in the components page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">baskaran.vishnu</div><div class="date">12th November 2006, 13:51</div></div><div class="posttext">Hi,<br />
<br />
Using Resource Hacker, I managed to extract the UI components of the UltraModen.exe and added an extra button to the UI.<br />
<br />
The ID of this button is 0.<br />
<br />
When I compiled the UltraModen.exe using Resource hacker and re-compiled a sample test UMUI NSIS script, the extra button does appear as expected ('Help' button).<br />
<br />
However, I need some help on how to get an event if the button is pressed. I am not sure on how to do this. I tried using the Button Event plugin with the newly compiled UltraModen.exe, but it did not work.<br />
<br />
I have attached a sample of newly added button into UltraModen.exe with this post. Using Resource hacker, you would be able to see the newly added button ('Help' button) and its ID at 0.<br />
<br />
So if you have any idea on how to make NSIS detect if this button is pressed in UMUI, please let me know. By pressing this button, a function should be executed to open an Internet Browser containg User Guide on the compiled installer.<br />
<br />
Hence, I am grateful on any guides to this issue. Thank you very much.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th November 2006, 13:58</div></div><div class="posttext">Use a different ID, like 2001 or something.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DaCzar</div><div class="date">19th November 2006, 18:54</div></div><div class="posttext">Hi Super Pat,<br />
<br />
I too am having a problem with the DPI settings. It seems Dell ships laptops with high resolutions and DPI set at 120.Very annoying.<br />
<br />
I tried to email you but the email bounced.<br />
<br />
Any chance of being able to get hold of Beta 2? Or releasing a fix for DPI problem? That would make me very happy :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">19th November 2006, 21:39</div></div><div class="posttext">Hi,<br />
<br />
Fix Beta 1 is no easy and beta 2 remain too incomplete for a release...<br />
<br />
More other, in this moment, I have a ton of workâ€¦ I will try to release this version before the end of the year.<br />
<br />
Still a little of patience</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DaCzar</div><div class="date">19th November 2006, 22:20</div></div><div class="posttext">Ok thanks for the quick reply - I will see about using a different skin for my current requirement as I have quite a few dell laptop users :( who all moan at me hehe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fmt_jsc</div><div class="date">22nd November 2006, 17:48</div></div><div class="posttext">Hello,<br />
<br />
SuperPat, is there a chance that you add support for MUI_CUSTOMFUNCTION_(UN)GUIEND defines in beta2?<br />
Since UltraModernUI is using an .onGUIEnd function I had to add the following bit in it in order to be able to add my own instructions:<br />
    !ifdef MUI_CUSTOMFUNCTION_GUIEND<br />
      Call &quot;${MUI_CUSTOMFUNCTION_GUIEND}&quot;<br />
    !endif<br />
It's the same than what you already provide for .onGUIInit, I just renamed it to GUIEND :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">baskaran.vishnu</div><div class="date">28th June 2007, 07:32</div></div><div class="posttext">Hi SuperPat,<br />
<br />
I would just like to know when would the UMUI version 2 be available.<br />
<br />
Will there be a version 2 release?<br />
<br />
I would like to add the fixes for UMUI into my current installer.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">29th June 2007, 21:41</div></div><div class="posttext">Hello,<br />
<br />
The MUI_CUSTOMFUNCTION_(UN)GUIEND defines already exists on the beta 2<br />
<br />
For the Help Button, I am not sure that it is very usefull, I will see this later.<br />
<br />
I always work on it in my free time but It remain unfinished.<br />
<br />
This is the lastest TODO List:<br />
- Maintenance Page: coding of the function of Modification of an existing installation. <br />
- Serial Number page: support of the safeguard of the parameters in the register, addition of the TOLOWER, TOUPPER and NUMBERS flags, To pass from an input to another during striking on the keyboard of the serial. <br />
- Rewriting one of the macros managing UMUI Flags (They allow, amongst other things, to know which options were chooses in various pages...)<br />
- Second reading and cleaning of all the code <br />
- Complete the documentation <br />
Corrections for InstallOptionEx: <br />
* Transparent Icons are not transparent in the page...<br />
* Button are not drawn if I use my SkinnedButton plugin... whereas that work very well with InstallOptions</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">7th December 2007, 00:04</div></div><div class="posttext">Any news with beta 2 yet SuperPat?<br />
<br />
Oh small bug if you have a second License Page with Checkbox<br />
when you use !define MUI_LICENSEPAGE_TEXT_BOTTOM to change the text at the bottom, it doesn't change,<br />
<br />
Though if I use it with Modern UI it works fine</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">7th December 2007, 09:40</div></div><div class="posttext">Hello,<br />
<br />
I will work on the beta 2 during my holidays.<br />
Can you send an example of your script that illustrates this bug?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">7th December 2007, 14:09</div></div><div class="posttext">Thanks SuperPat email sent</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">7th December 2007, 16:18</div></div><div class="posttext">Hi SuperPat,<br />
<br />
You also might want to look at the new nsDialogs stuff.<br />
<br />
It might just fix most of your pending &quot;bugs&quot; that still exist in beta1 and beta2.<br />
<br />
Granted, I suspect its going be a big rewrite, but I suspect it probably solves a lot of our pending bugs in InstallOptionsEx.<br />
<br />
Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">7th December 2007, 19:04</div></div><div class="posttext">TonyDS, Tanks for your feedback,<br />
<br />
To resolve the bug, you need to delete these lines in the Contrib\UltraModernUI\UMUI.nsh at the line 1396:<br />
<br />
	!ifndef MUI_LICENSEPAGE_RADIOBUTTONS<br />
	  !ifndef MUI_LICENSEPAGE_CHECKBOX<br />
		!insertmacro MUI_INNERDIALOG_TEXT 1006 &quot;$(MUI_INNERTEXT_LICENSE_BOTTOM)&quot;<br />
	  !endif<br />
	!endif<br />
	<br />
	!ifdef MUI_LICENSEPAGE_CHECKBOX<br />
	  !insertmacro MUI_INNERDIALOG_TEXT 1006 &quot;$(MUI_INNERTEXT_LICENSE_BOTTOM_CHECKBOX)&quot;<br />
	!endif<br />
	<br />
	!ifdef MUI_LICENSEPAGE_RADIOBUTTONS<br />
	  !insertmacro MUI_INNERDIALOG_TEXT 1006 &quot;$(MUI_INNERTEXT_LICENSE_BOTTOM_RADIOBUTTONS)&quot;<br />
	!endif<br />
<br />
<br />
SuperPat</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">7th December 2007, 19:16</div></div><div class="posttext">For nsDialog, I will not implement it for the moment, because it would involve too many changes. And I am not even sure we can use the RishText and TreeView components with it.<br />
<br />
So, I will wait until Modern UI 2 used, by default with NSIS, and in stable version before rewriting UltraModernUI completely. Thus I will see that for version 2.0 of UltraModern UI.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">8th December 2007, 01:56</div></div><div class="posttext">Thanks SuperPat for the response and solution, I'll look forward to v2 when its done :)<br />
<br />
Yep that worked :)<br />
<br />
Cheers<br />
<br />
Tony</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>