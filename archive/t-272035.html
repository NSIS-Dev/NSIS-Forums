<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Multi-CD Install in a Cross-Platform World, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Multi-CD Install in a Cross-Platform World NSIS Discussion" />
	
	<title> Multi-CD Install in a Cross-Platform World [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Multi-CD Install in a Cross-Platform World</div>
<hr />
<div class="pda"><a href="t-272035.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=272035">Multi-CD Install in a Cross-Platform World</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ajfisher</div><div class="date">31st May 2007, 02:45</div></div><div class="posttext">Installer Greats--<br />
<br />
I have to make an installation CD set for both Mac and Windows that spans across 3 CD's. The CD set is a requirement of the project. In order for it to fit on 3 CD's, content needs to be shared between mac and windows-- 1 250MB file (on disk 1) and 2 620 MB files (disks 2 &amp; 3). I've got it all figured out on the Mac, copying files off the CDs and then politely asking for the next disk. NSIS is proving to be a bit difficult.<br />
<br />
Searching the forums/wiki, I've found Nopey, which will allow me to eject a disk, but is now considered hazardous by virus programs. I've found the CAB files solution, but is not an option in our X-Platform environment.<br />
<br />
My current strategy is this:<br />
1. a silent installer that copies the real one off into $TEMP<br />
and stores the location of $EXEDIR (and quietly disappears into the night)<br />
2. Real installer launches in all it's goodness and copies the first file off the first disk, reading my magic EXEDIR key above<br />
3. Installer then ejects disk 1 and asks for disk 2<br />
   ...and so forth.<br />
<br />
I guess my questions are:<br />
a. Is this the right strategy?<br />
b. how do I eject the disk?<br />
c. Is there an effective way to get the drive name (not just the drive letter)?<br />
<br />
Thanks for any help<br />
<br />
AF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">31st May 2007, 03:30</div></div><div class="posttext">a. Sounds good (Inno setup has proper disk spanning if you need a real alternative)<br />
<br />
b. http://nsis.sourceforge.net/Open_%26_Close_Optical_Disk_Drive (See my notes on the comment tab on that page for info on how to eject specific drive letter)<br />
<br />
c. Do you mean the label of the disc? or the name of the actual hardware cd rom device?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajfisher</div><div class="date">31st May 2007, 04:24</div></div><div class="posttext">Originally posted by Anders <br />
c. Do you mean the label of the disc? or the name of the actual hardware cd rom device? [/B] <br />
<br />
Anders--<br />
<br />
Thanks for the response. I was thinking the label, ie myApp disk 2.<br />
<br />
Thanks again!<br />
<br />
Allen</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">31st May 2007, 05:46</div></div><div class="posttext">system::call 'kernel32::GetVolumeInformation(t &quot;d:\&quot;,t.r0,i ${NSIS_MAX_STRLEN},*i,*i,*i,t,i ${NSIS_MAX_STRLEN})'<br />
MessageBox mb_ok &quot;$0&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajfisher</div><div class="date">31st May 2007, 14:23</div></div><div class="posttext">Anders--<br />
<br />
Thanks again. This is awesome. Glad I picked NSIS!:cool:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>