<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Determining OS version, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Determining OS version NSIS Discussion" />
	
	<title> Determining OS version [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Determining OS version</div>
<hr />
<div class="pda"><a href="t-101943.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=101943">Determining OS version</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">grisha37</div><div class="date">26th August 2002, 07:23</div></div><div class="posttext">Hi,<br />
<br />
I know about NSIS-OS, but after I searched the <br />
forum about this subject again, I saw the message <br />
about IfOSVersion command. Has it made it into the<br />
scripting language? I have v1.98 (downloaded<br />
a few weeks ago), and it doesn't appear to be there...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th August 2002, 07:37</div></div><div class="posttext">IfOSVersion didn't make it to any version of NSIS. Use an external DLL to do the job. Here is one:<br />
http://www.clantpa.co.uk/nsis/x18sysinfoV0.0.zip</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ViperInc</div><div class="date">26th August 2002, 08:50</div></div><div class="posttext">here, this is what i use..<br />
work VERY well<br />
<br />
ReadRegStr $8 HKLM &quot;SOFTWARE\Microsoft\Windows NT\CurrentVersion&quot; ProductName<br />
  StrCmp &quot;Microsoft Windows XP&quot; $8 lbl_xp<br />
  StrCmp &quot;Microsoft Windows Nt&quot; $8 lbl_nt<br />
  StrCmp &quot;Microsoft Windows 2000&quot; $8 lbl_2k<br />
 <br />
  ReadRegStr $8 HKLM &quot;SOFTWARE\Microsoft\Windows\CurrentVersion&quot; ProductName<br />
  StrCmp &quot;Microsoft Windows ME&quot; $8 lbl_me<br />
  StrCmp &quot;Microsoft Windows 98&quot; $8 lbl_98<br />
  StrCmp &quot;Microsoft Windows 95&quot; $8 lbl_win95  <br />
<br />
<br />
then just<br />
lbl_xp:<br />
goto lbl_end<br />
<br />
lbl_nt:<br />
goto lbl_end<br />
etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grisha37</div><div class="date">29th August 2002, 10:04</div></div><div class="posttext">Any idea why the aforementioned never made<br />
it into an [not THE, of course :-] official<br />
release? It seems like a very useful feature<br />
for an installer such as NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th August 2002, 10:59</div></div><div class="posttext">Because it could be done using a script. There are lots of stuff that never made it into the installer because they can be done in the script. InstallSheild, for example, have a lot of things in the installer, and a lot less in its script and look at its overhead, 2 meag bytes!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grisha37</div><div class="date">29th August 2002, 11:15</div></div><div class="posttext">Because it could be done using a script. [...]<br />
<br />
Exactly, there are lots of things that can be done via<br />
scripts, but it may serve the users, and thus the cause/project<br />
better if they were implemented as a sort of &quot;sugar&quot; to things<br />
that can be done otherwise. I realize that there's always a<br />
judgment call to that effect; however, determining the version<br />
of Windows in use is one of the paramount features of an installer, IMHO.<br />
<br />
InstallSheild, for example, have a lot of things in the installer, and a lot less in its script and look at its overhead, 2 meag bytes! <br />
<br />
InstallShield, for one, costs too much money :))). Furthermore,<br />
NSIS's script capability is superior, but that doesn't mean<br />
that sugar is not an option! See what I mean here?<br />
<br />
While functionalities X, Y and Z are possible via<br />
15 lines of code, there's nothing conceptually<br />
(or in other ways) wrong with providing sugar<br />
for functionality XYZ, if that's a very commonly<br />
used one.<br />
<br />
Opposition to this, again, IMHO, is largely religious,<br />
and leads to forking at best, and people abandoning<br />
a great project at worst. Just, again, My Humble Opinion.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grisha37</div><div class="date">29th August 2002, 11:19</div></div><div class="posttext">To continue my point, if the size of the<br />
installer's kernel is a problem, it is<br />
certainly possible to split it into <br />
&quot;bare functionality&quot; and &quot;full functionality&quot;.<br />
<br />
Furthermore, a possibility of easier plugins<br />
for new functionality may be a good consideration<br />
(I'm willing to participate in it, if that's considered<br />
a viable option).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th August 2002, 11:30</div></div><div class="posttext">Too much sugar ruins your teeth :D<br />
Plugins are easier then ever with Sunjammer's simplified plugin calls. Try it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grisha37</div><div class="date">29th August 2002, 11:37</div></div><div class="posttext">Too much sugar ruins your teeth<br />
<br />
Yeah, I know, syntactic sugar causes cancer<br />
of the semicolon... But still...<br />
<br />
Plugins are easier then ever with Sunjammer's simplified plugin calls. Try it. <br />
<br />
Tried Sunjammer's site, couldn't find it. Perhaps<br />
its too late (read: early) in the day, but, on the other<br />
hand, perhaps you'd provide a link?<br />
<br />
I am a consultant, recently having done work<br />
for people who are not as savvy as I am. Shortcuts<br />
in the very language of NSIS would be helpful.<br />
<br />
I understand the Unix mentality, but then again,<br />
nothing in Unix mentality goes against a shell<br />
that would provide often-used sugar, <br />
to pull a drawn-out-meaning-not-much<br />
metaphor.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th August 2002, 11:44</div></div><div class="posttext">Sunjammer's plugin stuff is already in NSIS 2 (the unoffical version). Have a look at the NSIS 2 thread.<br />
<br />
Have you looked at Sunjammer's site enough to find this:<br />
http://www.clantpa.co.uk/nsis/x18sysinfoV0.1.zip<br />
?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">29th August 2002, 11:44</div></div><div class="posttext">My plugin changes are part of NSIS already, no need to look on my site. Instead read the section in the makensis.htm named Plugin DLLs which explains how I made plugins easier to use.<br />
<br />
[Sorry if you have trouble finding stuff, the site needs an overhaul, as already stated I will get time for this soon!!]</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grisha37</div><div class="date">29th August 2002, 11:50</div></div><div class="posttext">Hey, let me check out NSIS 2 before I <br />
offload bile on this forum... :)<br />
<br />
Incidentally, nothing lead me to go for<br />
the NSIS 2 before; is there a fork? Is<br />
there a reason for that?<br />
<br />
I checked out X*info; I myself am using <br />
nsisos (posted here at some point by<br />
Robert Rainwalker. It works fine;<br />
although my personal peeve was that it's<br />
not a part of NSIS script itself, being<br />
such a commonly used thing.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th August 2002, 11:53</div></div><div class="posttext">It is a branch. Have a look at the version history here (http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/*checkout*/nsis2k/NSIS/makensis.htm?rev=1.16).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grisha37</div><div class="date">29th August 2002, 12:06</div></div><div class="posttext">Ok; cool; my bad somewhat; any reason<br />
though (apologies if this has been<br />
rehashed many times over :-)) for this<br />
branching? Should I continue to think of<br />
the NSIS 2 as the ONE TRUE VERSION?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th August 2002, 12:14</div></div><div class="posttext">Just look at the version history and you will see the reason(s). Most of this forum users use NSIS 2, but it is not official yet. Officiality is up to Justin :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">29th August 2002, 12:24</div></div><div class="posttext">grisha37, Justin (official developer of NSIS) declared he was going to be away from NSIS for a while, since then mainly KiCHiK and Rainwater, but a few others too, have been continuing to develop NSIS.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>