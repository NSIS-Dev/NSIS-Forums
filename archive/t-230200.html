<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" My first install section isn't executed. Why?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  My first install section isn't executed. Why? NSIS Discussion" />
	
	<title> My first install section isn't executed. Why? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  My first install section isn't executed. Why?</div>
<hr />
<div class="pda"><a href="t-230200.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=230200">My first install section isn't executed. Why?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">John P.</div><div class="date">5th November 2005, 19:55</div></div><div class="posttext">In my installer, I have a bunch of SubSections with Sections in them.<br />
<br />
Now - before (above) them all, I have a Section &quot;&quot;, &quot;normal&quot; Section.<br />
<br />
This very first install-section is always jumped over during install! I have tried to make it copy a file that it extracts, to $DESKTOP but that doesn't happen, and I also have a messagebox MB_OK &quot;Is this section executed?&quot; within the Section, but that never pops up during install either. I have even tried to make the Section SectionIn RO with &quot;Required&quot; as the name, but even then the Section wasn't executed during install.<br />
<br />
 <br />
How can this happen? Any ideas?<br />
<br />
If I remove that first Section, then the SubSection that is now below it, and all other Sections and SubSections are executed as they should.<br />
<br />
I've just included a snippet here so you can see the first Section more in a context.<br />
<br />
Here's a snippet of my code, changed names and such though; I've included the macros that come right before this Section:<br />
<br />
<br />
<br />
; Uninstall macros:<br />
<br />
!insertmacro MUI_UNPAGE_WELCOME<br />
!define MUI_PAGE_CUSTOMFUNCTION_LEAVE un.checksections<br />
!define MUI_PAGE_HEADER_TEXT &quot;Choose options:&quot;<br />
!insertmacro MUI_UNPAGE_COMPONENTS<br />
!insertmacro MUI_UNPAGE_CONFIRM<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
!insertmacro MUI_UNPAGE_FINISH<br />
<br />
!define MUI_ABORTWARNING<br />
!define MUI_UNABORTWARNING<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
;Install Sections:<br />
<br />
Section &quot;&quot;<br />
SetOutPath &quot;$INSTDIR\Content&quot;<br />
File /r &quot;INSTALL_PRESETS\Presets.ini&quot;<br />
messagebox MB_OK &quot;Is this section executed?&quot;<br />
SectionEnd<br />
<br />
<br />
SubSection &quot;Blablah.&quot; SubSecBla<br />
       Section /o &quot;Blah 1.&quot; Sec00<br />
       SetDetailsPrint textonly<br />
       DetailPrint &quot;Extracting And Installing Files... Please Wait.&quot;<br />
       SetDetailsPrint none<br />
       SetOutPath &quot;$INSTDIR\$INST_DIR&quot;<br />
       File /r &quot;Blah\blah1.txt&quot;     <br />
       File /r &quot;Blah\blah2.txt&quot;<br />
       File /r &quot;Blah\blah3.txt&quot;<br />
       File /r &quot;Blah\blah4.txt&quot;<br />
       File /r &quot;Blah\blah5.txt&quot;<br />
       ClearErrors<br />
       FileOpen $0 &quot;$INSTDIR\Content\Presets.ini&quot; a<br />
       FileSeek $0 -1 END<br />
       IfErrors done<br />
       FileWrite $0 &quot;$\r$\nblah!$\r$\nblah!$\r$\nblah!$\r$\nblah!$\r$\n}&quot;<br />
       FileClose $0<br />
       done:<br />
       SectionEnd <br />
<br />
;MORE SECTIONS ARE IN THE SUBSECTION DOWN HERE; BUT I DOUBT THAT'S IMPORTANT, SO I'VE STOPPED THE CUT'n PASTE HERE.<br />
SubSectionEnd<br />
<br />
<br />
<br />
The first Section there has originally much more content in it, but I've tried to cut it down to the bare essentials in order to isolate what could cause it. Now there's almost nothing left in it, and it still isn't executed during install. Instead of Section &quot;&quot;, I have also earlier tried calling it Section -section, but that didn't work either.<br />
<br />
I'm using NSIS 2.10.<br />
<br />
Thanks for any help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">John P.</div><div class="date">5th November 2005, 21:30</div></div><div class="posttext">I'll have to get back to this tomorrow; too late here now.<br />
<br />
I removed the Section in question, but then it seemed like now the first SubSection wasn't executed; like it's going down the list. But I could be mistaken and perhaps I just didn't tick the first tickbox like I thought. So I'll have to look at that tomorrow. I'm not at home anymore(at work, nightshift).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th November 2005, 17:37</div></div><div class="posttext">Sounds like you set section flags with a wrong section symbol. For example:SectionSetFlags ${sectionsymbol} ${SF_RO}<br />
#...<br />
Section blah sectionsymbol<br />
SectionEndIn this case, ${sectionsymbol} will be considered as zero, which is the index of the first section.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>