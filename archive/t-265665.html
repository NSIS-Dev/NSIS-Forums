<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" replace CANCEL button text on just one page?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  replace CANCEL button text on just one page? NSIS Discussion" />
	
	<title> replace CANCEL button text on just one page? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  replace CANCEL button text on just one page?</div>
<hr />
<div class="pda"><a href="t-265665.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=265665">replace CANCEL button text on just one page?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ahdavidson</div><div class="date">12th February 2007, 21:48</div></div><div class="posttext">A how-to query from a brand-new NSIS user:<br />
<br />
I would like to replace the text of a CANCEL button in the Modern UI for just one page.<br />
<br />
I see how to accomplish this globally for all CANCEL buttons in the UI. I also see how to change the text of the ACCEPT/OK/AGREE button on a specific page.<br />
<br />
What I have not been able to figure out is if there is an easy way to change the text of the CANCEL button on just the LICENSE page. (Our legal folks are very picky, and would like the UI to present the options as &quot;Agree&quot; or &quot;Do Not Agree&quot; instead of &quot;Agree&quot; or &quot;Cancel.&quot;)<br />
<br />
Can anyone suggest a solution?<br />
<br />
Many thanks,<br />
.andy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">12th February 2007, 22:03</div></div><div class="posttext">OutFile &quot;Test.exe&quot;<br />
InstallDir &quot;$PROGRAMFILES\boo&quot;<br />
<br />
!include &quot;mui.nsh&quot;<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE dir_pre<br />
!insertmacro MUI_PAGE_LICENSE &quot;${NSISDIR}\Docs\Modern UI\License.txt&quot;<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Section &quot;boo&quot;<br />
   <br />
SectionEnd<br />
<br />
Function dir_pre<br />
GetDlgItem $0 $HWNDPARENT 2<br />
SendMessage $0 ${WM_SETTEXT} &quot;0&quot; &quot;STR:Do Not Agree&quot;<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ahdavidson</div><div class="date">12th February 2007, 22:18</div></div><div class="posttext">Thanks for the answer! But being a newbie, I could use a little context for the code.<br />
<br />
Where do I put this? fsp.nsi?<br />
And what in that code restricts the replacement to just the Cancel button on the License page?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">12th February 2007, 22:47</div></div><div class="posttext">Compile the example, execute it and you'll know where and what, all you need is this,<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE dir_pre<br />
just before your license page, and the function named dir_pre somewhere in your script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mirolechat</div><div class="date">13th February 2007, 00:26</div></div><div class="posttext">I'm working with andy on this project. Were both unfamiliar with the build process as we've been using the installer version built into Zinc. Within the zinc/nsis directory we've been editing the system.nsh with limited results to get btn changed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th February 2007, 05:36</div></div><div class="posttext">Don't know what is Zinc. If you're referring to NSIS\Contrib\Modern UI\System.nsh, you shouldn't touch it unless you know exactly what you're doing, you may destroy the Modern ui by doing this.<br />
<br />
Anyway, what's the problem and you can't implement just 5 lines of (provided above) code in your script to achieve the text on cancel button specifically for license page?<br />
<br />
If you don't know how to copy/paste text within a text editor, this isn't the right place to ask how to do it.<br />
If you know, just copy/paste the line,<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE dir_pre<br />
just before the license page macro, and add the function,<br />
Function dir_pre<br />
GetDlgItem $0 $HWNDPARENT 2<br />
SendMessage $0 ${WM_SETTEXT} &quot;0&quot; &quot;STR:Do Not Agree&quot;<br />
FunctionEnd<br />
on the bottom of your script.<br />
That's all.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ahdavidson</div><div class="date">13th February 2007, 07:06</div></div><div class="posttext">Thanks very much for the code, and also your kind, patient, and polite attitude towards novices.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">13th February 2007, 07:31</div></div><div class="posttext">You're welcome!<br />
I'm just trying within my limited nsis knowledge to help everyone including those with sarcastic attitude.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">M1qu3l</div><div class="date">26th February 2007, 16:32</div></div><div class="posttext">Hi everybody!<br />
<br />
What I was wondering is how it would be if instead of trying to change cancel button text from licence page we try to change cancel button text on language dialog selection. <br />
<br />
I cannot figure out because in this case we have not any page defined...<br />
<br />
I found couple of tags like MUI_LANGDLL_WINDOWTITLE and MUI_LANGDLL_INFO, but still do not knok to to change buttons text on this dialog....<br />
<br />
I'd be really gratefull if someone answer me, but thanks anyway to everybody!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jackkoho</div><div class="date">22nd May 2007, 20:25</div></div><div class="posttext">Originally posted by Red Wine <br />
Don't know what is Zinc. If you're referring to NSIS\Contrib\Modern UI\System.nsh, you shouldn't touch it unless you know exactly what you're doing, you may destroy the Modern ui by doing this.<br />
<br />
Anyway, what's the problem and you can't implement just 5 lines of (provided above) code in your script to achieve the text on cancel button specifically for license page?<br />
<br />
If you don't know how to copy/paste text within a text editor, this isn't the right place to ask how to do it.<br />
If you know, just copy/paste the line,<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE dir_pre<br />
just before the license page macro, and add the function,<br />
Function dir_pre<br />
GetDlgItem $0 $HWNDPARENT 2<br />
SendMessage $0 ${WM_SETTEXT} &quot;0&quot; &quot;STR:Do Not Agree&quot;<br />
FunctionEnd<br />
on the bottom of your script.<br />
That's all.  <br />
<br />
Should this work for an INSTFILES page?  Ive tried the exact code and can't get it to work.  Trying to change &quot;Close&quot; to &quot;Next&gt;&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jackkoho</div><div class="date">24th May 2007, 18:37</div></div><div class="posttext">bump</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th May 2007, 17:00</div></div><div class="posttext">It should work. If not, put it in a dummy (hidden) Section.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jackkoho</div><div class="date">25th May 2007, 19:45</div></div><div class="posttext">I realized that it did change cancel to next while it was installing, but then changed back to cancel when it was done.<br />
<br />
Another thing:  I want to change the &quot;close&quot; button, not the cancel button, so is there a paramater I need to change to make this work?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th May 2007, 14:15</div></div><div class="posttext">Just put an empty Page after it.<br />
<br />
!insertmacro MUI_PAGE_INSTFILES<br />
Page Custom PageDummy<br />
<br />
Function PageDummy<br />
FunctionEnd<br />
<br />
No need to change the button text then.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jackkoho</div><div class="date">30th May 2007, 18:34</div></div><div class="posttext">Thanks.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>