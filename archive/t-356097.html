<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer using wrong $INSTDIR value, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer using wrong $INSTDIR value NSIS Discussion" />
	
	<title> Installer using wrong $INSTDIR value [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer using wrong $INSTDIR value</div>
<hr />
<div class="pda"><a href="t-356097.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=356097">Installer using wrong $INSTDIR value</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DanGrenier</div><div class="date">20th February 2013, 18:27</div></div><div class="posttext">I'm getting a weird issue with my installers.<br />
<br />
Note that this is happening on a Windows 8 machine (have not tested another Windows version yet).<br />
<br />
I have 2 installers that both use the $INSTDIR variable. One installer installs a databsae server and the other one, the application that ultimately connects to the database server.<br />
<br />
Let's say the first installer goes into C:\ServerManager and the other one goes to C:\App.<br />
<br />
If i install the database server first, the files go to C:\ServerManager like it's supposed to.<br />
<br />
Then i install the application.... which also ends up into C:\ServerManager instead of C:\App even though the InstallDir function sets the value to c:\App.<br />
<br />
It looks as if the installer picks up an old install location from the registry or something and still uses that folder as the install folder for any subsequent installs.<br />
<br />
I browsed the forum and couldn't quite find the same issue reported (or at least, the search function really did a poor job of getting back posts with the keywords i provided).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DanGrenier</div><div class="date">20th February 2013, 19:05</div></div><div class="posttext">Nevermind!<br />
I found the issue<br />
Both my installer were using the InstallDirRegkey function to retrieve the install folder from the registry. I commented the line on both. So it should use whatever value i set for $INSTDIR from now on.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>