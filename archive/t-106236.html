<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" VPatch development, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  VPatch development NSIS Discussion" />
	
	<title> VPatch development [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  VPatch development</div>
<hr />
<div class="pda"><a href="t-106236.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=106236">VPatch development</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">20th September 2002, 19:49</div></div><div class="posttext">It's been really quiet about VPatch the last time (VPatch is a program which can calculate differences between 2 files, and then create a small .EXE program out of it which updates one file to the other one). I'm currently rewriting VPatch v1.21 and will release a beta version soon. It's about 15% faster which is nice :D<br />
These faster versions based on the current algoritm will be called v1.5x.<br />
<br />
After that, I'm thinking about VPatch 2.0 with a completely different algoritm. Does anyone have ideas about patching? VPatch 1.x currently searches for large similar blocks (typically 256-1024 byte blocks). Performance issues can't make this smaller with 1.x algoritm.<br />
<br />
If you have any ideas I'd like to hear them!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sdbarker</div><div class="date">20th September 2002, 20:08</div></div><div class="posttext">... nsis fits into this how?  I'm confused?<br />
<br />
-Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">20th September 2002, 20:12</div></div><div class="posttext">NSIS can be used to make installers, but if you want to change a 10 MB file just a little bit (-&gt;update), then you don't want to include the entire file. Hence you use VPatch to create a patch file, and then use it inside NSIS to update this file on the users PC.<br />
I made it because it's useful in combination with NSIS :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MoNKi</div><div class="date">20th September 2002, 21:07</div></div><div class="posttext">I'm trying to make a patch engine too and it works like you, searching for similar blocks, it first search blocks of size 1/2*&quot;bigger file size&quot; and aproximates to a power of 2, then 1/4*&quot;bigger file size&quot;, 1/8,.... It stops when the block size is 32 because for block size 16 it takes very,very long time if the files are very diferents.<br />
If i found a block in block size=1024 then this block is marked as found and in the next iteration (512) skipt this block (for speed gain). The advantages: is very fast in very similar files. Disadvantages: very slow in other cases.<br />
<br />
I'm was working in a new algorithm, but it needs a bigger amount of memory (8*new file size :(). If i discover a new algorithm i will tell you.<br />
<br />
(Sorry for my poor english)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th September 2002, 21:30</div></div><div class="posttext">Can you make a VPatch NSIS DLL?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">21st September 2002, 10:51</div></div><div class="posttext">I probably should make a NSIS DLL instead of the current 3KB EXE runtime :D<br />
I don't know much C so it'll be a little experimenting to merge them.<br />
<br />
To MoNKI:<br />
sounds nice, since my program only goes down to about 128/256 block sizes (depends on settings). However performance is greatly dependant on the type of file. If there are large similarities it is very fast, but EXE files for example are incredibly slow and give almost no gain. Does your algoritm have this problem with EXE files too?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">21st September 2002, 12:22</div></div><div class="posttext">Joost - I don't understand a thing about the Microsoft C++ IDE 6.0. I've just spent an hour trying to get a DLL project (and if I open the ExDLL workspace, nothing opens). :igor: <br />
I have no idea why this project won't open. Can someone make me a simple project which compiles and exports a function?<br />
I've attached the C EXE runtime, basically only the command line parameters (source and target filenames) need to be popped of the stack. But it's a bit hard to do if you can't create a project properly...<br />
<br />
Can anyone give me a hand? Thanks :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">21st September 2002, 12:23</div></div><div class="posttext">Oops :rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MoNKi</div><div class="date">21st September 2002, 12:24</div></div><div class="posttext">Sorry, but i haven't two good exe files to check it (around 600kb) the only exe file with diferent versións that i have are the versións of makensisw (± 20kb).<br />
<br />
PD: My algorithm actualy gets bigger patch files than vpatch (in teory, it not produces patch files, is in very earlier stage), maybe combining two diferent algorithms i will beat you, ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">21st September 2002, 15:31</div></div><div class="posttext">We're not having a competition ;)<br />
Compression depends on the block size chosen, if you choose the same block size as with your program there probably won't be much of a difference. If the implementation is more efficient, then you can choose smaller block sizes :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>