<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Documents and settings folder, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Documents and settings folder NSIS Discussion" />
	
	<title> Documents and settings folder [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Documents and settings folder</div>
<hr />
<div class="pda"><a href="t-307048.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307048">Documents and settings folder</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">udde</div><div class="date">3rd June 2009, 15:54</div></div><div class="posttext">Hi, I would like to create an installer for a really simple course, it's only necesary to copy all the files to a certain directory, because then I must add this directory to flash security settings.<br />
The problems are: how can I copy the .cfg file to user directory?<br />
<br />
Contents are:<br />
<br />
file1.jpg<br />
file2.html<br />
/folder/file3.swf<br />
<br />
(of course there are more folders and files, but I'll keep it simple for the example)<br />
<br />
<br />
Installer should:<br />
<br />
a) copy file1.jpg file2.html to 'c:\MyDir\'<br />
b) copy file3.swf to 'c:\MyDir\swf\<br />
<br />
and then copy a config.cfg to the user settings folder. Vista, Windows XP, etc are different, so how should I do it?<br />
<br />
c-in VISTA) copy file.cfg to 'c:\Users\_USERNAME_\AppData\Roaming\Macromedia\Flash Player\#Security\FlashPlayerTrust\'<br />
c-in XP) copy file.cfg to 'c:\Users\_USERNAME_\Application Data\Macromedia\Flash Player\#Security\FlashPlayerTrust\'<br />
<br />
and maybe sometimes this folder does not exist so I think I should create it first<br />
<br />
If anyone can help I would really apreciate it! <br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
; myproject.nsi<br />
;<br />
; This script is perhaps one of the simplest NSIs you can make. All of the<br />
; optional settings are left to their default settings. The installer simply <br />
; prompts the user asking them where to install, and drops a copy of example1.nsi<br />
; there. <br />
<br />
;--------------------------------<br />
<br />
; The name of the installer<br />
Name &quot;MyProject&quot;<br />
<br />
; The file to write<br />
OutFile &quot;myproject.exe&quot;<br />
<br />
; The default installation directory<br />
InstallDir $DESKTOP\MyProject <br />
<br />
; Request application privileges for Windows Vista<br />
RequestExecutionLevel user<br />
<br />
;--------------------------------<br />
<br />
; Pages<br />
<br />
Page directory<br />
Page instfiles<br />
<br />
;--------------------------------<br />
<br />
; The stuff to install<br />
Section &quot;&quot; ;No components page, name is not important<br />
<br />
  ; Set output path to the installation directory.<br />
  SetOutPath $INSTDIR<br />
  <br />
  ; Put file there<br />
  File file1.jpg<br />
  File file2.html<br />
  <br />
SectionEnd ; end the section</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">3rd June 2009, 17:04</div></div><div class="posttext">use<br />
<br />
'$APPDATA\Macromedia\Flash Player\#Security\FlashPlayerTrust\'<br />
<br />
It's OS independant, so it will work on both XP and Vista.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">udde</div><div class="date">4th June 2009, 07:40</div></div><div class="posttext">Thank you jpderuiter for the fast answer :) <br />
<br />
I see, and how should I write it in the script? Like this?<br />
<br />
<br />
<br />
Section &quot;&quot; <br />
<br />
SetOutPath $INSTDIR<br />
<br />
File file1.jpg<br />
File file2.html<br />
<br />
SetOutPath $APPDATA\Macromedia\Flash Player\#Security\FlashPlayerTrust\<br />
<br />
File file.cfg<br />
<br />
SectionEnd ; end the section<br />
<br />
<br />
<br />
Thanks in advance :)<br />
<br />
<br />
<br />
<br />
<br />
<br />
EDIT:<br />
<br />
Ok, it works now, that's what I do, I think its correct, isn't it?<br />
<br />
<br />
Section &quot;&quot; <br />
<br />
SetOutPath $INSTDIR<br />
  <br />
File index.html<br />
File styles.css<br />
File images/boli.jpg<br />
  <br />
SectionEnd <br />
<br />
;--------------------------------<br />
<br />
Section &quot;Start Security Settings&quot;<br />
<br />
strcpy $INSTDIR &quot;$APPDATA\Macromedia\Flash Player\#Security\FlashPlayerTrust\&quot; <br />
<br />
CreateDirectory &quot;$APPDATA\Macromedia\Flash Player\#Security\FlashPlayerTrust\&quot;<br />
<br />
SetOutPath $INSTDIR<br />
<br />
File file.cfg<br />
  <br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">4th June 2009, 11:52</div></div><div class="posttext">Can be simplified to:<br />
SetOutPath &quot;$APPDATA\Macromedia\Flash Player\#Security\FlashPlayerTrust&quot;<br />
File file.cfg<br />
<br />
SetOutPath creates directories recursively so you don't need a CreateDirectory.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">udde</div><div class="date">9th June 2009, 08:00</div></div><div class="posttext">Thank you! It works like a charm now :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>