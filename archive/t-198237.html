<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI multilingual licence text problem !!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI multilingual licence text problem !! NSIS Discussion" />
	
	<title> MUI multilingual licence text problem !! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI multilingual licence text problem !!</div>
<hr />
<div class="pda"><a href="t-198237.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=198237">MUI multilingual licence text problem !!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jackmack</div><div class="date">3rd November 2004, 16:49</div></div><div class="posttext">Hi !<br />
<br />
I have problems with multilingual licence files. See my code below.<br />
I try to use several diffrent licence files.<br />
<br />
In function .onInit I use   !insertmacro MUI_LANGDLL_DISPLAY and choose english or german. But when I choose german no licence text is showed and the other nsis text is german.<br />
<br />
When I choose english the german licence text is showed and the other nsis text is english.<br />
<br />
Whats going wrong ?<br />
<br />
Is there a order in which I must add multilingual statements ?<br />
<br />
Thanks ...<br />
<br />
.jack<br />
<br />
<br />
LicenseLangString myLicenseData ${LANG_ENGLISH} &quot;licence\licenceEN.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_GERMAN} &quot;licence\licenceGE.txt&quot;<br />
<br />
;  !insertmacro MUI_PAGE_WELCOME<br />
  !insertmacro MUI_PAGE_LICENSE $(myLicenseData)<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
;  !insertmacro MUI_PAGE_FINISH<br />
<br />
;  !insertmacro MUI_UNPAGE_WELCOME<br />
  !insertmacro MUI_UNPAGE_COMPONENTS<br />
  !insertmacro MUI_UNPAGE_INSTFILES<br />
;  !insertmacro MUI_UNPAGE_FINISH<br />
<br />
<br />
;-----------------------------------------------------------------------------<br />
;Languages -------------------------------------------------------------------<br />
<br />
 !insertmacro MUI_LANGUAGE &quot;German&quot;  ; ID = 1031<br />
 !insertmacro MUI_LANGUAGE &quot;English&quot; ; ID = 1033<br />
  !insertmacro MUI_RESERVEFILE_LANGDLL</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd November 2004, 19:33</div></div><div class="posttext">I'm not sure what is wrong. I shall look into it.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd November 2004, 19:51</div></div><div class="posttext">It's because you are trying to set a LicenseLangString to a language that hasn't been created yet!<br />
<br />
Joost is going to have to do something to fix this, because there's no way you can include language files before you insert the page macro's and thus what you are trying to do is impossible with MUI at the moment.<br />
He's going to have to add another way to set the LicenseData so that we can add it after including the languages.<br />
<br />
If this is possible already then I appologise, but right now I cannot find anything in the MUI documentation about using different License files (it only refers to defining one and only one.)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">3rd November 2004, 20:49</div></div><div class="posttext">Is there a order in which I must add multilingual statements ?Yes, the order matters.<br />
<br />
Put your LicenseLangString lines AFTER the MUI_LANGAUGE ones, like this:<br />
<br />
!insertmacro MUI_LANGUAGE &quot;German&quot; ; ID = 1031<br />
!insertmacro MUI_LANGUAGE &quot;English&quot; ; ID = 1033<br />
<br />
LicenseLangString myLicenseData ${LANG_ENGLISH} &quot;licence\licenceEN.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_GERMAN} &quot;licence\licenceGE.txt&quot;<br />
<br />
(just move the two LicenseLangString lines)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd November 2004, 21:02</div></div><div class="posttext">pengyou that doesn't work because you have to insert the license page macro before the language macro's (and so before the LicenseLangString entries as well).<br />
<br />
You then just get the error...<br />
LangString &quot;myLicenseData&quot; is not set in language table of language ....<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">3rd November 2004, 22:54</div></div><div class="posttext">pengyou that doesn't work because you have to insert the license page macro before the language macro's (and so before the LicenseLangString entries as well).Have another look at what I said:(just move the two LicenseLangString lines)Just in case that is not clear enough, here is what I was suggesting:; !insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_LICENSE $(myLicenseData)<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_INSTFILES<br />
; !insertmacro MUI_PAGE_FINISH<br />
<br />
; !insertmacro MUI_UNPAGE_WELCOME<br />
!insertmacro MUI_UNPAGE_COMPONENTS<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
; !insertmacro MUI_UNPAGE_FINISH<br />
;-----------------------------------------------------------------------------<br />
;Languages -------------------------------------------------------------------<br />
<br />
!insertmacro MUI_LANGUAGE &quot;German&quot; ; ID = 1031<br />
!insertmacro MUI_LANGUAGE &quot;English&quot; ; ID = 1033<br />
!insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
LicenseLangString myLicenseData ${LANG_ENGLISH} &quot;licence\licenceEN.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_GERMAN} &quot;licence\licenceGE.txt&quot;Notice that all I did was move the two lines I mentioned.<br />
<br />
Here is a script I used to test this idea</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jackmack</div><div class="date">4th November 2004, 09:37</div></div><div class="posttext">Hi !<br />
<br />
First thanks for your answers.<br />
<br />
The licensedemo.nsi works. When I use the below order<br />
<br />
  !insertmacro MUI_PAGE_LICENSE &quot;$(myLicenseData)&quot;<br />
...<br />
<br />
;-----------------------------------------------------------------------------<br />
;Languages -------------------------------------------------------------------<br />
<br />
 !insertmacro MUI_LANGUAGE &quot;German&quot;  ; ID = 1031<br />
 !insertmacro MUI_LANGUAGE &quot;English&quot; ; ID = 1033<br />
  !insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
LicenseLangString myLicenseData ${LANG_ENGLISH} &quot;licence\licenceEN.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_GERMAN} &quot;licence\licenceGE.txt&quot;<br />
<br />
all works correct.<br />
<br />
Many Thanks.<br />
<br />
-jack<br />
<br />
Originally posted by pengyou <br />
Have another look at what I said:Just in case that is not clear enough, here is what I was suggesting:; !insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_LICENSE $(myLicenseData)<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_INSTFILES<br />
; !insertmacro MUI_PAGE_FINISH<br />
<br />
; !insertmacro MUI_UNPAGE_WELCOME<br />
!insertmacro MUI_UNPAGE_COMPONENTS<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
; !insertmacro MUI_UNPAGE_FINISH<br />
;-----------------------------------------------------------------------------<br />
;Languages -------------------------------------------------------------------<br />
<br />
!insertmacro MUI_LANGUAGE &quot;German&quot; ; ID = 1031<br />
!insertmacro MUI_LANGUAGE &quot;English&quot; ; ID = 1033<br />
!insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
LicenseLangString myLicenseData ${LANG_ENGLISH} &quot;licence\licenceEN.txt&quot;<br />
LicenseLangString myLicenseData ${LANG_GERMAN} &quot;licence\licenceGE.txt&quot;Notice that all I did was move the two lines I mentioned.<br />
<br />
Here is a script I used to test this idea</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>