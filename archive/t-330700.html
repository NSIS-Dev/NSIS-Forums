<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Permissioning issues with Nsis Installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Permissioning issues with Nsis Installer NSIS Discussion" />
	
	<title> Permissioning issues with Nsis Installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Permissioning issues with Nsis Installer</div>
<hr />
<div class="pda"><a href="t-330700.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=330700">Permissioning issues with Nsis Installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mhatreakshay</div><div class="date">18th May 2011, 11:29</div></div><div class="posttext">Hi Everyone,<br />
               I am facing below issue once the installation is complete.<br />
<br />
1. I have two option to install Local users and Admin user.<br />
2. IF Local User select,it can install in its local folders (eg: C:\Documents and Settings\mhatreakshay)<br />
3. IF Admin User user select,it will select default dir to Program files.<br />
4. However if i select Admin User and try to install it in any local users folder (say C:\Documents and Settings\mhatreakshay) ,it will complete the installation properly.<br />
5. But when i login using the local user (mhatreakshay) , and click on the start icon it gives a permission denied error.<br />
6. I checked the permissions on the files,some files have Admin rights only .local user mhatreakshay cant access this files even if they are been installed in his local folder.<br />
          Please help.<br />
<br />
I am trying this on windows machine.<br />
<br />
Regards<br />
Akshay</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">18th May 2011, 14:15</div></div><div class="posttext">http://nsis.sourceforge.net/AccessControl_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mhatreakshay</div><div class="date">20th May 2011, 08:06</div></div><div class="posttext">thank you.Is this the only option to handle this issue ?<br />
cant the installer by default permission the local user for accessing the files if administrator is installating in his local directory?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">20th May 2011, 09:01</div></div><div class="posttext">Yes, it can. Using the AccessControl plugin.<br />
<br />
NSIS doesn't do anything automatically. You must tell it what to do.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mhatreakshay</div><div class="date">20th May 2011, 11:29</div></div><div class="posttext">but i have issues only with files with the extensions <br />
.bat , .jnlp , .xml ..<br />
I the local user can access .exe and other files properly.so i am bit confused with this behavior.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">20th May 2011, 19:56</div></div><div class="posttext">I've no idea what you're trying to accomplish. Is there a specific question, in there?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mhatreakshay</div><div class="date">23rd May 2011, 09:08</div></div><div class="posttext">sorry for the confusion.let me explain it.<br />
I have created a installer which installs my application.<br />
once installed ,it has .bat , .jnlp, .xml , unistall.exe , .jar  and other extension files.<br />
I logged in as a Adminitrator(amhatre) in my system and installed this application for a local user in the local users directory C:\Documents and Settings\xyz.<br />
Now the problem is ,local user &quot;xyz&quot; cant launched the application using the .bat file.<br />
He gets a permission denied error.<br />
But at the same time local user &quot;xyz&quot; can access the uninstall.exe and uninstall the application.<br />
<br />
So my question is ,<br />
Why is that the local users cant access files with specific extension ,.bat in this case ? <br />
do i need to do something special for this to work ?<br />
And how will i be able to use access control ,if required in such scenario ?<br />
<br />
Thank you in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mhatreakshay</div><div class="date">23rd May 2011, 12:00</div></div><div class="posttext">hey its leting the user access uninstall.exe since its been creating using . WriteUninstaller.<br />
but other issues still persist.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th May 2011, 10:14</div></div><div class="posttext">If it's just the batch file with the issue, how about replacing it with an executable. You could even write the executable in NSIS (use SilentInstall silent).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">24th May 2011, 18:33</div></div><div class="posttext">It may very well be that he's trying to do some writing commands in the .bat, and that those commands are throwing an access denied error.<br />
<br />
Once again, use the accesscontrol plugin to give users access.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th May 2011, 18:48</div></div><div class="posttext">If you can avoid having to change permissions then that would be best. The files and folders you extract/create should be inheriting the permissions from their parent. And applying permissions for that user is easier said than done. How can he be sure what the user name is? Perhaps get it from the path but that is messy. Perhaps you shouldn't be allowing the user to install to certain paths.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">24th May 2011, 21:12</div></div><div class="posttext">If you can avoid having to change permissions then that would be best.<br />
True enough. But since he's not saying what exactly is failing...<br />
<br />
Perhaps you shouldn't be allowing the user to install to certain paths.<br />
I think he's installing there on purpose. I've never heard of an end-user manually selecting the user profile folder, regardless of whether the installer was elevated or not.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>