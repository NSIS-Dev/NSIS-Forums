<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How can I update the update file ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How can I update the update file ? NSIS Discussion" />
	
	<title> How can I update the update file ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How can I update the update file ?</div>
<hr />
<div class="pda"><a href="t-136327.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=136327">How can I update the update file ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Yovav</div><div class="date">23rd May 2003, 09:34</div></div><div class="posttext">Dear all.<br />
<br />
I made an update file update.exe that connect 2 the net,<br />
downloads some files and replace 'em with existing files,<br />
<br />
But how can I also update the Update.exe that do all that stuff ?<br />
(must I use another app to replace this file ?)<br />
<br />
Any ideas ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">23rd May 2003, 11:30</div></div><div class="posttext">Spawn another nsis installer as you suggested, or I guess you could use something like :-File new_update.exe<br />
Delete /REBOOTOK update.exe<br />
Rename /REBOOTOK new_update.exe update.exeAlthough I can't be sure that the order of the delete and the rename would be preserved on reboot, and obviously that technique requires an ugly reboot. I suggest you launch another exe, closing the first in the process, then the 2nd replaces the 1st. <br />
<br />
Final suggestion: Don't use another app, copy the same app to temp, spawn it with a command line arg like /update and detect and obey the command line arg.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yovav</div><div class="date">23rd May 2003, 14:52</div></div><div class="posttext">I got another one,<br />
<br />
at the end of the update (after I have update.tmp)<br />
I can execute MyApp.exe /Update<br />
and this will only replace update.exe with update.tmp<br />
<br />
But how can I close the already running update.exe ?<br />
(how can I find it with FindWindow() ?)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">23rd May 2003, 15:01</div></div><div class="posttext">Why close it using FindWindow()? Why not instead just use Exec to run MyApp.exe and then quit the installer. MyApp can then replace the update.exe. If MyApp tries the replace too quickly you can wait for a bit or try replacing 10 times in a row until it succeeds, or something similar.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yovav</div><div class="date">23rd May 2003, 15:26</div></div><div class="posttext">but what if the user just bought a big box full of yammi cookies and than he has 2 take a crap for one hour...<br />
<br />
I guess the update will fail,<br />
and I also don't like 2 check if there is a replace 2 do on each<br />
execution of MyApp.exe<br />
<br />
it could B great if I could replace update.exe at the end of the update (without waiting 2 some human reply)<br />
<br />
But how the **** do I close the Update.exe (installer)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">23rd May 2003, 15:34</div></div><div class="posttext">I don't understand what's hard about closing the update.exe. In update.exe do Exec MyApp.exe<br />
Quit</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yovav</div><div class="date">23rd May 2003, 16:03</div></div><div class="posttext">Hay man, U got a good point here :-)<br />
<br />
4 some reson I had in mind that if I execute from update.exe I can not also close it,<br />
<br />
but I guess U right,<br />
I'm just about 2 try this<br />
<br />
10X</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">23rd May 2003, 16:20</div></div><div class="posttext">Check the NSIS Update source (CVS), it copies itself to the temp folder and executes there (so it can update).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yovav</div><div class="date">23rd May 2003, 16:56</div></div><div class="posttext">Originally posted by Joost Verburg <br />
Check the NSIS Update source (CVS), it copies itself to the temp folder and executes there (so it can update).  <br />
<br />
<br />
what is CVS ?<br />
(where can I get it ?)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">23rd May 2003, 17:00</div></div><div class="posttext">CVS is the repository which holds the source code for NSIS and all other projects hosted on SourceForge (and has been in use by many projects the world over for years). It stands for something like Concurrent Version (ing?) System. A CVS server runs on SourceForge, you access it using a CVS client (like Tortoise CVS) or using the web front end (here (http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/nsis/NSIS/)).<br />
<br />
The FAQ (http://forums.winamp.com/showthread.php?s=&amp;threadid=102650) refers to this thread  (http://forums.winamp.com/showthread.php?s=&amp;threadid=102204) which gives some more info about NSIS CVS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yovav</div><div class="date">23rd May 2003, 17:03</div></div><div class="posttext">Originally posted by Sunjammer <br />
CVS is the repository which holds the source code for NSIS and all other projects hosted on SourceForge (and has been in use by many projects the world over for years). It stands for something like Concurrent Version (ing?) System. A CVS server runs on SourceForge, you access it using a CVS client (like Tortoise CVS) or using the web front end (here (http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/nsis/NSIS/)).<br />
<br />
The FAQ (http://forums.winamp.com/showthread.php?s=&amp;threadid=102650) refers to this thread  (http://forums.winamp.com/showthread.php?s=&amp;threadid=102204) which gives some more info about NSIS CVS.  <br />
<br />
<br />
Hay man, this is good stuff,<br />
10X</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>