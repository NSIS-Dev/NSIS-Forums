<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Regarding Patch Fixes, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Regarding Patch Fixes NSIS Discussion" />
	
	<title> Regarding Patch Fixes [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Regarding Patch Fixes</div>
<hr />
<div class="pda"><a href="t-304356.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=304356">Regarding Patch Fixes</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">subthka</div><div class="date">19th March 2009, 05:14</div></div><div class="posttext">Hi Everyone<br />
<br />
I am trying for an installer that  need to make patch fixes.<br />
Actually I tried the plugin VPatch and followed all the necessary steps that I checked in the forum however still it was little bit hard for making that.<br />
<br />
Please find the attachment for the installer <br />
<br />
My problem is already i did installer(main setup for my application).Now i need to check the existing version that i installed and need to make the patch fixing for that.<br />
<br />
The thing what i did is in one section i read the registry value and kept it in register and used as<br />
SetOutPath registryvalue<br />
<br />
Before installing i need to check the version that is intalled and get the path of installation and need to proceed for the patch fixing....<br />
<br />
please help me...<br />
<br />
advance thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">22nd March 2009, 02:15</div></div><div class="posttext">If I understand correctly, it sounds like one thing you need is to be able to determine if a previous version is installed?<br />
<br />
I would design your update to write the version to a registry value.  In the logic of the update, check to see if the registry key for the version exists.  If it doesn't exist, but your install path registry does exist, then you know it is an older version that is installed.  If the version number registry key does exist, then just compare the existing value against the version of your updated installer to determine if the update should be installed.<br />
<br />
<br />
I haven't really done patches quite the way you're asking for I think.  The way I do patches is I just update my files and original installer, then recompile my original install.  Essentially it will overwrite everything.  In some places, such as configuration files, I use something like:<br />
${IfNot} ${FileExists} &quot;blah.ini&quot;<br />
  ;install file<br />
<br />
That way I don't overwrite existing settings.<br />
<br />
The reason for this is with true patches, you might have a patch to go from version 1.0 to version 1.1.  You will also have one for 1.1 to 1.2.  What if someone has version 1.0, and they want 1.2.  Are you going to make them install 2 different patches?  It will get worse as you release more patches.<br />
<br />
So I just design my full install to overwrite everything from a previous version, so it also acts like a patch, and will work for updating any version.  The logic gets a little complex, but it's easier to maintain than dealing with tons of patches.  On the down side, this means updates require a full download.<br />
<br />
If i have a hotfix, like a bug with one component and need to get someone a fix just for that, I will compile my installer with just that component.  My install has about a dozen sections, and have it setup where I can compile the install with just one of those sections, so that only that component is updated when they install.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>