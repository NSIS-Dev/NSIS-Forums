<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Section management, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Section management NSIS Discussion" />
	
	<title> Section management [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Section management</div>
<hr />
<div class="pda"><a href="t-218804.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=218804">Section management</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pingcrosby</div><div class="date">13th June 2005, 15:37</div></div><div class="posttext">I have 3 sections i need to un install.. I am unable to get the value of the checkboxes via onSelChange() i dont know what to do once i am in that function!<br />
<br />
The pseudo code below should better describe what i am trying to achieve.<br />
<br />
Section_A<br />
Section_B<br />
All<br />
<br />
if(Section_A == selected)<br />
  uninstall section A<br />
<br />
if(Section_B == selected)<br />
  uninstall section B<br />
<br />
if(Section_A == selected &amp;&amp; Section_B == selected) <br />
  uninstall all<br />
<br />
if(Section_All == selected)<br />
{<br />
  deselect section A<br />
  deselect section B<br />
  call uninstall all<br />
}<br />
<br />
<br />
The code i have is... how do i select unselect the radio buttons. <br />
<br />
Function .un.onSelChanged<br />
;<br />
;  how do i get the current state of the check box??<br />
;<br />
FunctionEnd<br />
Section un.A Sec1<br />
  rmdir /r &quot;section_A_files/*.*&quot;<br />
SectionEnd<br />
<br />
Section un.B Sec2<br />
  rmdir /r &quot;section_B_files/*.*&quot;<br />
SectionEnd<br />
<br />
Section All Sec3<br />
 ; do nothing other than flag the fact we are here<br />
SectionEnd<br />
<br />
Section -un.uninstall<br />
  SectionGetflags Sec1 $R0     ; are we set<br />
  SectionGetflags Sec2 $R1<br />
  SectionGetflags Sec3 $R2<br />
<br />
  intop $0 $R0 + R1            ; add sections A + B <br />
  intcmp $0 2 uninstall_all<br />
    abort<br />
<br />
  intcmp $R1 1 uninstall<br />
    abort<br />
uninstall_all:<br />
  do .. rest<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">glory_man</div><div class="date">13th June 2005, 17:26</div></div><div class="posttext">Section All Sec3<br />
 ; do nothing other than flag the fact we are here<br />
SectionEnd<br />
Did you mean Section un.All?<br />
You can use LogicLib.nsh and Section.nsh. Code will be like this (don't tested):<br />
<br />
${If} ${SectionIsSelected} &quot;$Sec1&quot;<br />
${AndIf} ${SectionIsSelected} &quot;$Sec2&quot;<br />
!insertmacro SelectSection &quot;$Sec3&quot;<br />
... another action ...<br />
${ElseIf} ${SectionIsSelected} &quot;$Sec3&quot;<br />
!insertmacro SelectSection &quot;$Sec1&quot;<br />
!insertmacro SelectSection &quot;$Sec2&quot;<br />
... another action ...<br />
${EndIf}<br />
<br />
<br />
Edit: Sorry, typo - all !insertmacro SelectSection must be !insertmacro UnselectSection</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>