<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ReserveFile with InitPluginsDir ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ReserveFile with InitPluginsDir ? NSIS Discussion" />
	
	<title> ReserveFile with InitPluginsDir ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ReserveFile with InitPluginsDir ?</div>
<hr />
<div class="pda"><a href="t-318789.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318789">ReserveFile with InitPluginsDir ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">29th April 2010, 20:52</div></div><div class="posttext">I may have several misconceptions. Firstly, if a file is a DLL, not to reserve it, because you don't have to.<br />
<br />
Secondly, that when files are in .onInit after InitPluginsDir, they also do not require insertion as a ReserveFile.<br />
<br />
  InitPluginsDir<br />
  SetOutPath &quot;$PLUGINSDIR&quot;<br />
  StrCmp $LANGUAGE 1031 +4<br />
  File &quot;/oname=$PLUGINSDIR\modern-wizard.bmp&quot; &quot;tigws.bmp&quot;<br />
  File &quot;/oname=$PLUGINSDIR\fmodern-wizard.bmp&quot; &quot;tigfs.bmp&quot;<br />
  Goto done<br />
  File &quot;/oname=$PLUGINSDIR\modern-wizard.bmp&quot; &quot;tigwgs.bmp&quot;<br />
  File &quot;/oname=$PLUGINSDIR\fmodern-wizard.bmp&quot; &quot;tigfgs.bmp&quot; <br />
<br />
I remember reading about this, but I don't remember the answer. The thread was years ago.<br />
<br />
The bmps are contained renamed in a $PLUGINSDIR folder inside the exe. It says they are LZMA:23 packed, whether I reserve the pre-renamed files or not.<br />
<br />
Is there a time-tested way to define reserve files?<br />
<br />
From time to time I see a flickering of the 'Loading ...' banner. The present installer is 10Mb. Reserving the images would increase the size by 500Kb. Non-solid compression however, increases the size to 13Mb. I can't tell if I'm rewarded by faster extraction. Downloading will certainly take longer. I'm guessing there's no chance of the bad banner.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">29th April 2010, 21:17</div></div><div class="posttext">Have you read what the manual has to say about ReserveFile?<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.1.7</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">29th April 2010, 22:46</div></div><div class="posttext">Yes. And I am no stranger to fiiles that appear in the wrong order in the script and must be extracted from the data block afterwards.<br />
<br />
The images in .onInit are the first files to be extracted. The code copies two bmps to the temporary folder. It occasionally takes longer, and I glimpse the banner briefly. I hoped that defining the images as reserve files would allow the extraction to go quicker by including the images at the top of the compressed block. It increased the installer size. I'm unable to appreciate a difference in the rate at which the files are extracted.<br />
<br />
How about setting SetCompress off for the ReserveFiles? I'm open for suggestions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">29th April 2010, 22:54</div></div><div class="posttext">1 warning:<br />
  'SetCompress off' encountered, and in whole compression mode. Effectively ignored.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>