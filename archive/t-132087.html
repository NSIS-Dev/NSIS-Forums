<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to define user variables and use &quot;if&quot; commands, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to define user variables and use &quot;if&quot; commands NSIS Discussion" />
	
	<title> How to define user variables and use &quot;if&quot; commands [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to define user variables and use &quot;if&quot; commands</div>
<hr />
<div class="pda"><a href="t-132087.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=132087">How to define user variables and use &quot;if&quot; commands</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">thoste</div><div class="date">17th April 2003, 11:19</div></div><div class="posttext">I am searching for a way to define a user variable and assign a value.<br />
Then, later, I want to access this variable value again in an &quot;if&quot; construction.<br />
I want to avoid asking the user multiple times the same question.<br />
<br />
It should work similar to:<br />
<br />
MessageBox IDYESNO &quot;Do you want to install version A?&quot; IDNO no<br />
  $myvariable=&quot;A&quot;<br />
  InstallDir &quot;C:\project\versA&quot;<br />
  Goto next<br />
  no:<br />
  $myvariable=&quot;B&quot;<br />
  InstallDir &quot;C:\project\versB&quot;<br />
next:<br />
...<br />
Section &quot;blah1&quot;<br />
  ...<br />
  if ($myvariable == &quot;A&quot;)<br />
     File /oname=karl.txt C:\projectA\bin\karl.txt<br />
  else<br />
     File /oname=karl.txt C:\projectB\bin\karl.txt<br />
  ....<br />
SectionEnd<br />
<br />
Section &quot;blah2&quot;<br />
  ...<br />
  if ($myvariable == &quot;A&quot;)<br />
     File /oname=paul.txt C:\projectA\bin\paul.txt<br />
  else<br />
     File /oname=paul.txt C:\projectB\bin\paul.txt<br />
  ....<br />
SectionEnd<br />
<br />
Section &quot;blah3&quot;<br />
  ...<br />
  if ($myvariable == &quot;A&quot;)<br />
     File /oname=peter.txt C:\projectA\bin\peter.txt<br />
  else<br />
     File /oname=peter.txt C:\projectB\bin\peter.txt<br />
  ....<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th April 2003, 11:52</div></div><div class="posttext">Defining user specific variables is not possible yet. You can always use one of the twenty variables that are built in ($0-$9, $R0-$R9), they are usually enough. If you are coming short on variables you should probably start arranging your script with Push and Pop to avoid overriding previous values. For example:<br />
<br />
Push $0 # old value of $0 saved on stack<br />
StrCpy $0 &quot;something&quot;<br />
# more stuff with $0<br />
Pop $0 # old value of $0 returned from stack to $0<br />
<br />
If you can't solve the shortage with this trick then you can always write the data into an INI file or the registry and delete it when the installation finishes.<br />
<br />
For the if you should use StrCmp and IntCmp. Example:<br />
<br />
StrCmp $0 &quot;bla&quot; eq diff<br />
  eq:<br />
    MessageBox MB_OK &quot;$$0 = bla&quot;<br />
    Goto done<br />
  diff:<br />
    MessageBox MB_OK &quot;$$0 != bla&quot;<br />
  done:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>