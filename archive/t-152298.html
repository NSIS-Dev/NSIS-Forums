<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" transform a date, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  transform a date NSIS Discussion" />
	
	<title> transform a date [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  transform a date</div>
<hr />
<div class="pda"><a href="t-152298.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=152298">transform a date</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">timecop12</div><div class="date">11th October 2003, 19:37</div></div><div class="posttext">Hi,<br />
<br />
I need some help with a transforming problem:<br />
<br />
My installer should read the file date from an exe-file on the end of the Installation (.onInstSuccess).<br />
The date must be in this form: YYYYMMDD<br />
How to transform the date?<br />
After this the Installer have to write this<br />
transformed date to a registry-value (WriteRegStr).<br />
<br />
Thanks for help.<br />
<br />
<br />
-timecop<br />
<br />
<br />
(I'm using NSIS2 current CVS)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">11th October 2003, 20:29</div></div><div class="posttext">Use StrCpy, see documentation for details.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">timecop12</div><div class="date">11th October 2003, 20:37</div></div><div class="posttext">I will try, thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">timecop12</div><div class="date">11th October 2003, 21:19</div></div><div class="posttext">OK, I read the documentation and a lot of stuff in the forum.<br />
But I don't know, how to make a date like 20031010 form the DWORD-Values by GetFileTime.<br />
<br />
Any ideas? I'm thankful for every solution.<br />
<br />
-timecop</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th October 2003, 11:56</div></div><div class="posttext">This should do it:<br />
<br />
GetFileTime F:\Temp\bla.nsi $1 $0<br />
System::Int64Op $1 * 0x100000000<br />
Pop $1<br />
System::Int64Op $1 + $0<br />
Pop $0<br />
System::Call &quot;*(&amp;i2, &amp;i2, &amp;i2, &amp;i2, &amp;i2, &amp;i2, &amp;i2, &amp;i2) i .r1&quot;<br />
System::Call &quot;Kernel32::FileTimeToSystemTime(*l r0, i r1)&quot;<br />
System::Call &quot;Kernel32::GetDateFormatA(i 0, i 0, i r1, t 'yyyyMMdd', t .r0, i ${NSIS_MAX_STRLEN})&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">timecop12</div><div class="date">12th October 2003, 16:52</div></div><div class="posttext">Hi kichik,<br />
<br />
works fine. I'm happy.<br />
Thank you. You're the best.<br />
<br />
-timecop</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>