<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Am I wrong or this is BUG ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Am I wrong or this is BUG ? NSIS Discussion" />
	
	<title> Am I wrong or this is BUG ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Am I wrong or this is BUG ?</div>
<hr />
<div class="pda"><a href="t-45204.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=45204">Am I wrong or this is BUG ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Tonic</div><div class="date">22nd March 2001, 22:50</div></div><div class="posttext">I install my Winamp for last time in folder \WINAMP4 this is for testing purpose so I have two Winamp one global which is in \WINAMP and one for testing which is in \WINAMP4. So if I install again Winamp or any plugin NSIS must detect \WINAMP4 folder and he do this. Until I try new 1.1o. This version do not detect properly that \WINAMP4 is needed folder. So I go to NSIS web page and check other version. I found 1.1s which to do not work so I go to some old version 1.1n which first start to use IfFileExist that I use in my scrip but again do not work. I also try some of new features (from RegKey) for detecting Install folder here it is part of script I use:<br />
----------------<br />
InstallDir $PROGRAMFILES\Winamp<br />
InstallDirRegKey HKEY_LOCAL_MACHINE SOFTWARE\WINAMP &quot;&quot;<br />
---------------<br />
Do I use properly RegKey ?<br />
For my old NSIS scripts I use only &quot;InstallDir $PROGRAMFILES\Winamp&quot; and properly folder was found without any problems. <br />
<br />
This is not single problem I made installations for AVSociety and may be we produce most complicated installations which use NSIS. Whit this new ability to check for existing of one file I want to find if there is &quot;vis_avs.dll&quot; so I'll be sure that add-on presets will work. I found this because NSIS make me some problems when I check for existing of &quot;vis_avs.dll&quot;. And if it do not exist I ask user to abort installation or to ignore this problem (for user who know what he do and want to install it first in different folder). Here is string I use<br />
-----------------------------<br />
IfFileExists $WAVISDIR\vis_avs.dll 1 0<br />
<br />
MessageBox MB_OKCANCEL|MB_ICONQUESTION 'Program detect that you do not have vis_avs.dll (Advanced Visual Studio plug-in) in your visual folder so this add-on will not work. If you press &quot;OK&quot; Installation will be aborted. If you press &quot;Cancel&quot; installation will continue but this add-on probably will not work.' IDOK 78<br />
----------------------------------<br />
Someone to hear about adding ability of GOTO to NSIS . I think it must be added because as you may see I use IDOK 78 if I want to go to cancel installation and to go to end of it where I send user to winamp.com\download for downloading newer WINAMP which contains needed files. Ability to jump below or above is good for 1 to 6 skipped command but if you must skip more it is absolutely impossible to find proper number. I was lucky and made only 8 test to find 78. I also find that in number 78 were included and number of all files I install. So lets go back to problem. I try to test program in all possible situation I can think about. So I remove vis_avs.dll file and installation detect that he do not exit and ask me to quit (OK) or to ignore &quot;Chancel&quot; and if I choose ignore it start executing full installation and here it is problem I cannot install anything in $WAVISDIR\  NSIS tell me that &quot;files not work \xxx&quot; and stop installation. As I know $WAVISDIR comes from $INSTALLDIR\PLUGIN or from  $INSTALLDIR\winamp.ini but when there is problem with detecting $INSTALLDIR\ there will be problem and with $WAVISDIR.<br />
<br />
Please I need HELP or at least tell me to who to mail to Justin or to other (please give me his mail)<br />
Or if  someone want to help me I cane send to him whole script.<br />
<br />
Sorry for my grammatical mistake it is too complicated to me to explain this in English. I believe you understand me <br />
<br />
10x in advance Tonic</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jay</div><div class="date">23rd March 2001, 00:05</div></div><div class="posttext">hmmm I am not sure but I think their is a function called JUMP that will allow you to Jump so many lines down in your script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tonic</div><div class="date">23rd March 2001, 00:16</div></div><div class="posttext">I was sure that I'll be missunderstand. Yes there is something like JUMP function I use it in example IDYES 78. And it jumps not with 78 lines as you dues but with 78 executed command lines (or something like that) . But this is not main problem. Problem is that $WAVISDIR do not work in some situation.<br />
<br />
10x Tonic</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>