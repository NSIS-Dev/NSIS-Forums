<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS Internet Packages, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS Internet Packages NSIS Discussion" />
	
	<title> NSIS Internet Packages [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS Internet Packages</div>
<hr />
<div class="pda"><a href="t-71500.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=71500">NSIS Internet Packages</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th January 2002, 19:04</div></div><div class="posttext">Hi!<br />
<br />
I have an idea that will make NSIS internet installations much easier.<br />
<br />
Instead of downloading with nsisdl.dll file by file there should be a one download of a &quot;NSIS Internet Package&quot;. A &quot;NSIS Internet Package&quot; is a normal NSIS compiled script with the header stripped down. Then the NSIS installer that downloaded this &quot;NSIS Internet Package&quot; could load the package into memory and run it as it was it's own compiled script, copy it's files, run functions and all the other great things NSIS can do.<br />
<br />
Then a script would look something like:<br />
GetTempFileName $0<br />
File /oname=$0 nsisdl.dll<br />
<br />
Push &quot;http://www.myhost.com/pack1.nsp&quot;<br />
GetTempFileName $1<br />
Push $1<br />
CallInstDLL $0 download<br />
<br />
RunPackage $1<br />
<br />
<br />
instead of:<br />
GetTempFileName $0<br />
File /oname=$0 nsisdl.dll<br />
<br />
Push &quot;http://www.myhost.com/file.dll&quot;<br />
Push &quot;$INSTDIR\test.dll&quot;<br />
CallInstDLL $0 download<br />
<br />
Push &quot;http://www.myhost.com/file2.dll&quot;<br />
Push &quot;$INSTDIR\test2.dll&quot;<br />
CallInstDLL $0 download<br />
<br />
[...]<br />
<br />
Push &quot;http://www.myhost.com/file.txt&quot;<br />
Push &quot;$INSTDIR\readme.txt&quot;<br />
CallInstDLL $0 download<br />
<br />
<br />
What do you think?<br />
<br />
KiCHiK</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">10th January 2002, 23:51</div></div><div class="posttext">How about the installer just downloads another NSIS generated EXE, and executes it lile this:<br />
<br />
Exec '&quot;$TEMP\downloaded.exe&quot; /S /D=$INSTDIR'<br />
<br />
That way, we don't have versioning issues between the exe header and the data.<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th January 2002, 09:16</div></div><div class="posttext">But that requries an extra uesless download of 35KB header.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th January 2002, 15:52</div></div><div class="posttext">I don't think there will any versioning issues as both the installer and the package will be created by the same person. If you do think there will versioning issues you can add a small header with the version of NSIS that compiled this package in it.<br />
<br />
KiCHiK</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kreft</div><div class="date">11th January 2002, 18:38</div></div><div class="posttext">the idea sounds good, but i dont understand the reasoning if you prefer to not follow justins suggestion due to the meaningless 35kb then whydont you put all the install script in the installer and have the installer download the individual pieces (or if a large amount of files use a sfx compression on the downloaded package and have it extract from the installer). i guess what i am trying to say is that you didnt propose anything that isnt already possible other than reducing the code needed to download a file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">11th January 2002, 19:44</div></div><div class="posttext">You could just make a function to download a file and save yourself the hassle of all that typing :).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th January 2002, 09:40</div></div><div class="posttext">With SFX I still have the header, which BTW is larger than NSIS's header and with NSIS I could do other stuff but extracting.<br />
<br />
And with a function I sill need to specify all the files I need and again I don't have other stuff like registery and so on.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kreft</div><div class="date">12th January 2002, 15:22</div></div><div class="posttext">as far as your extreme interest on header size, if you use ace2.0 for compression your gains will more than make up for the header infact you will end up well smaller than nsis is going to you do you on most filetypes.<br />
<br />
otherwise, i dont understand your statement about not having the registry... its still there on the box you are installing your app on you should be able to use it...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th January 2002, 17:56</div></div><div class="posttext">Sorry, I meant registery handling... NSIS commands in general.<br />
<br />
About ACE, it is not free.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kreft</div><div class="date">12th January 2002, 18:01</div></div><div class="posttext">7z (http://7-zip.com) then</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">12th January 2002, 18:33</div></div><div class="posttext">But then I don't have NSIS commands...<br />
<br />
Never mind, I get it. Bad idea :(</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>