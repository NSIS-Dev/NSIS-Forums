<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Dynamic OutFile based on GetDllVersionLocal, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Dynamic OutFile based on GetDllVersionLocal NSIS Discussion" />
	
	<title> Dynamic OutFile based on GetDllVersionLocal [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Dynamic OutFile based on GetDllVersionLocal</div>
<hr />
<div class="pda"><a href="t-302973.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302973">Dynamic OutFile based on GetDllVersionLocal</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jhunt</div><div class="date">10th February 2009, 14:33</div></div><div class="posttext">Hi, I'm looking to generate the OutFile name based on the result of a GetDllVersionLocal call, I've made a function that gets the version fomated how I want and places it in $0, but it doesn't seem I can call functions outside sections, and this wouldn't be done on the remote system, its only local. <br />
<br />
The logic is that I want the OutFile to be named &quot;Setup App 1.0.0.exe&quot;, but want to automate this. I saw an example on the wiki on how to specify it externally on the command line, but that would still require me getting the version number from somewhere else.<br />
<br />
Any ideas? Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">10th February 2009, 15:34</div></div><div class="posttext">you can't generally mix runtime and compile time commands.<br />
<br />
Your best bet - short of a third party utility - is to (compile and) run one installer that uses GetDllVersionLocal on the file you need, and writes out the single line:<br />
'OutFile &lt;result of that GetDllVersionLocal call&gt;' to, say 'outfile.nsc' ('c' for 'clipping' - I dunno, you pick something).<br />
<br />
Then in your main installer script, include that file where you would otherwise have the 'OutFile' instruction.<br />
<br />
Done! Have coffee :)<br />
<br />
You can launch that first 'installer' (that does nothing more than get the version and writes out the little file for inclusion) from the first installer using !execute or !system, so you wouldn't have to worry about running that manually.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>