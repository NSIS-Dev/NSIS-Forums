<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Select remote MS Cluster disk resources, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Select remote MS Cluster disk resources NSIS Discussion" />
	
	<title> Select remote MS Cluster disk resources [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Select remote MS Cluster disk resources</div>
<hr />
<div class="pda"><a href="t-318037.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318037">Select remote MS Cluster disk resources</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Lodester</div><div class="date">29th March 2010, 00:17</div></div><div class="posttext">I want to star this thread because I have a particular issue I'm (beginning to) address on one of my installers. Allow me to explain my situation-<br />
<br />
I have an installer that must install from a remote pc/server to a MSSQL cluster and check/create folders on the SQL cluster disks.<br />
<br />
For those who may not know, cluster disks are not regular disks as they are shared storage and appear as 'resources' to the cluster, so on a simple cluster you have two server nodes, each with a 'local' disk of C: and a 'shared' cluster disk resource, we'll say 'R:'. The R: drive only appears on the active node of the cluster at any given point in time. <br />
<br />
We'll keep it simple and say my SQL cluster has only one shared disk (R:)<br />
<br />
So, when i run my installer remotely on another server or PC, I am able to verify and confirm the SQL server name/named instance so I am sure I have the active node server name and the instance name where the disk(s) are that I am looking for. What i then need to do is prompt the user for a valid local (to the cluster) disk and path to check and/or create a folder structure.<br />
For example:<br />
<br />
SQL Cluster is running on 2-node setup servernames 'Windows1' and 'Windows2'<br />
SQL Cluster name is 'SQL1'<br />
SQL shared disk is 'R:' &lt;-- this is the only disk SQL can see<br />
<br />
Installer is run on PC 'Foo1', prompts for server/instance name and validates server = 'Windows1' and instancename 'SQL1'.<br />
<br />
I now want to ask the user where they would like to place the target folder; this will have to end up looking like a local path to the MS cluster e.g. : 'R:\Folder1\Folder2\'<br />
-- This is the sticking point. How can I intuitively prompt for this information?<br />
<br />
I see a 'sloppy' way to handle this using UNC pathing, where i can check for '\\SQLClusterName\R$\Folder1\Folder2\' but I was hoping I could figure out a way to present a folders dialog that would allow the user to select\create a folder path based on the cluster disk resources, so instead of a local enumaration of C:\ it would give me the disk resources R:\ in the dialog. I don't have a problem attempting to create the folders using UNC but I don't have any clean way to present a dialog to my user to select the path they want to create/target.<br />
<br />
I'm looking for any feedback and assistance from the community on this puzzle; your help is very much appreciated.<br />
<br />
Thanks !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">31st March 2010, 22:30</div></div><div class="posttext">Are you saying you can't get R:\ but can get the UNC path? That aside, what is wrong with another MUI_PAGE_DIRECTORY or a custom page using nsDialogs?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Lodester</div><div class="date">28th April 2010, 00:26</div></div><div class="posttext">Sorry for taking so long to follow up, but no - what I am talking about is a remote install, essentially.<br />
<br />
I can't be sure that where the installer runs will be able to see the cluster disks locally, so I need another way to enumerate them remotely using the cluster network name.<br />
<br />
&quot;Node1&quot; and &quot;Node2&quot; are part of a two node cluster.<br />
The cluster has a network identity of CLUSERVER<br />
SQL is installed on the cluster.<br />
SQL has a cluster network identity of SQLCLUS<br />
SQLCLUS has a disk resource assigned to it, the R: drive.<br />
The way this works in clustering is that only the Node (1 or 2, never both) where the SQL instance is running will have the R: drive showing. <br />
<br />
Because of this, i cannot reliably look for drives on Node1 or Node2, but rather I must look through SQLCLUS. <br />
<br />
<br />
How can i enumerate the available disks on a remote server if I have the name &quot;SQLCLUS&quot; ?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>