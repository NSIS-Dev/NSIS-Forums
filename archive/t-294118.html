<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Disable Button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Disable Button NSIS Discussion" />
	
	<title> Disable Button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Disable Button</div>
<hr />
<div class="pda"><a href="t-294118.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=294118">Disable Button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">7th July 2008, 21:17</div></div><div class="posttext">Sorry not working <br />
<br />
<br />
ReadRegDWORD $1 HKLM 'Software\Microsoft\NET Framework Setup\NDP\v2.00.50727' Install<br />
    !if !$1<br />
    Pop $R1<br />
    ${NSD_CreateButton}   355 170u 7% 12u &quot;Disable&quot;<br />
    EnableWindow $R1 0 <br />
    !EndIf <br />
 <br />
<br />
It does not work.<br />
<br />
If Someone know please help me!<br />
<br />
Thank alot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">7th July 2008, 21:52</div></div><div class="posttext">you are mixing compile time and runtime, to use if's at runtime use the logic lib: ${If} $1 != 0 ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">7th July 2008, 23:00</div></div><div class="posttext">ReadRegDWORD $0 HKLM 'Software\Microsoft\NET Framework Setup\NDP\v2.00.50727' Install<br />
    Pop $R0<br />
    ${If} $1 != 0<br />
    ${NSD_CreateButton}   355 170u 7% 12u &quot;Disable&quot;<br />
    EnableWindow $R1 0<br />
    ${EndIf}<br />
<br />
 <br />
<br />
Thanks Anders can you example for see thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">7th July 2008, 23:42</div></div><div class="posttext">didava,<br />
You are reading the reg value into $0, but then comparing the value of $1.  (huh?)  And what's with the Pop $R1?<br />
<br />
Unless there is something else you forgot to include, I'd say this is probably closer to what you meant:<br />
!include logiclib.nsh<br />
...<br />
<br />
ReadRegDWORD $0 HKLM 'Software\Microsoft\.NET Framework Setup\NDP\v2.00.50727' Install<br />
${If} $0 &lt;&gt; 0<br />
   ${NSD_CreateButton}   355 170u 7% 12u &quot;Disable&quot;<br />
   EnableWindow $R1 0<br />
${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">8th July 2008, 13:47</div></div><div class="posttext">Thanks Comperio<br />
<br />
I want to make a program in which we have one button. when we run the program, I want the button to be in a state in which: if the registry value was 'install', the button becomes active, and if it was 'noinstall', the button becomes inactive. and also please take a look at the above script and see what is its problem. thanks in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">8th July 2008, 15:47</div></div><div class="posttext">ahh...<br />
Try this:!include logiclib.nsh<br />
...<br />
; create button first:<br />
  ${NSD_CreateButton}   355 170u 7% 12u &quot;Disable&quot;<br />
  Pop $R1 ; R1 is the button handle at this point<br />
; now, check registry and disable button if necessary:<br />
  ReadRegDWORD $0 HKLM 'Software\Microsoft\.NET Framework Setup\NDP\v2.00.50727' Install<br />
ClearErrors<br />
  ${Unless} $0 == &quot;Install&quot;<br />
     EnableWindow $R1 0<br />
  ${EndUnless}<br />
...<br />
[continue your code here] Remember that you have to show your page once you're done creating it (as outlined in the nsDialogs documentation).  If you still have problems, then you may want to take some time to review the nsDialogs documentation and look at some of the examples included with NSIS itself.<br />
<br />
edit:  I changed the ${if} to an ${unless}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">8th July 2008, 16:34</div></div><div class="posttext">thank you so much Comperio  .working :up: :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">9th July 2008, 17:46</div></div><div class="posttext">hi dude! sorry to trouble you again and again. now I am confronted with a big problem. our variable has no more than 9. whereas for each button I use one variable. as a result, I was not able to create more than 10 buttons. I used Var, but it did not work. I have 30 buttons altogether, and I appreciate if you guide me.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">11th July 2008, 05:07</div></div><div class="posttext">$0-$9 and $R0-$R9 are built-in variables, but you can declare as many additional variables as you need.<br />
<br />
Have a look a the examples of nsDialogs documentation that comes with NSIS.  (It's installed with NSIS--look in the documentation folder.)   You will find a very easy to follow tutorial on setting up a script using variables with nsDialogs.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>