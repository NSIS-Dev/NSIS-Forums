<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Creating Text Files, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Creating Text Files NSIS Discussion" />
	
	<title> Creating Text Files [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Creating Text Files</div>
<hr />
<div class="pda"><a href="t-62834.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=62834">Creating Text Files</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">eejut</div><div class="date">17th October 2001, 02:20</div></div><div class="posttext">Bravo to the Nullsoft team for another fantastic product.<br />
<br />
NSIS and Winamp are two of the most useful apps I have installed for a long time.<br />
<br />
Are there any plans a-foot to add support for creating text files from an NSIS script?<br />
<br />
Currently I have worked around this by using:<br />
  ExecWait &quot;command.com /c cat $TEMP\top.txt &gt;&gt; MyFile.txt&quot;<br />
  ExecWait &quot;command.com /c echo set INSTALLEDINTO $INSTDIR&gt;&gt; MyFile.txt&quot;<br />
  ExecWait &quot;command.com /c cat $TEMP\bottom.txt &gt;&gt; MyFile.txt&quot;<br />
<br />
This works but isn't very elegant :( <br />
<br />
I am using NSIS to install Java Apps and I wanted to be able to generate a .properties file based on some of the installer details.<br />
<br />
Thanks for the great product in any case tho!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">17th October 2001, 03:40</div></div><div class="posttext">It would be pretty trivial to make a win32 GUI exe that does what you need.. i.e.<br />
<br />
<br />
int main(int argc, char **argv)<br />
{<br />
  FILE *fp=fopen(argv[1],&quot;a+&quot;);<br />
  fprintf(fp,&quot;%s\n&quot;,argv[2]);<br />
  fclose(fp);<br />
}<br />
<br />
<br />
Of course you'd have to make it win32ized, so that a) it wouldn't be a console mode app, b) it would be smaller.<br />
<br />
Then you'd call this executable like this:<br />
<br />
<br />
SetOutPath $TEMP<br />
Extract concat.exe<br />
ExecWait '$TEMP\concat.exe &quot;$INSTDIR\whatever.dat&quot; &quot;string to append!&quot;'<br />
ExecWait '$TEMP\concat.exe &quot;$INSTDIR\whatever.dat&quot; &quot;string to append2!&quot;'<br />
Delete $TEMP\concat.exe<br />
<br />
<br />
If you really really want, I'll make a win32 version, but bleh =)<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eejut</div><div class="date">17th October 2001, 20:50</div></div><div class="posttext">Kewl<br />
<br />
Done thanks to my years gone by with Delphi<br />
<br />
I take it that this feature probly wont sneak into NSIS then :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">17th October 2001, 23:42</div></div><div class="posttext">Actually I'm kinda thinking of adding functions like FileOpen, FileRead, FileWrite, FileSeek, FileTell, and FileClose.<br />
<br />
So you could do things like<br />
<br />
<br />
FileOpen \$1 &quot;$TEMP\more.txt&quot; READ<br />
FileOpen $0 &quot;$INSTDIR\hi.txt&quot; WRITE<br />
FileRead \$1 $2<br />
FileWrite $0 &quot;Test: $2$\r$\n&quot;<br />
FileClose $0<br />
FileClose \$1<br />
<br />
<br />
or something like that. Thinking it would add around 512-1024 bytes to the EXE header, but would be very powerful.<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kreft</div><div class="date">18th October 2001, 03:35</div></div><div class="posttext">that would be bad ass justin... the uses are boundless... any chance we are going to be able to switch to PHP based scripts? from my view it looks like thats where we are going ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">18th October 2001, 03:51</div></div><div class="posttext">Hell Yeah!!!!!!!!! Then my months of learning PHP are not made to waist!<br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pjw62</div><div class="date">18th October 2001, 07:46</div></div><div class="posttext">re; PHP.. the zend engine is open source and can be made to work with other programs. Would have to do a bit of hacking to get it all working.. e.g. the instructions would need to be stored rather than executed, so perhaps a makensis that used the prescanned Zend code.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eejut</div><div class="date">18th October 2001, 20:23</div></div><div class="posttext">I was kinda hoping my question may prompt some direct supportin NSIS :D <br />
<br />
Fantastic stuff, Cheers Justin!<br />
<br />
Eejut</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eejut</div><div class="date">23rd October 2001, 01:50</div></div><div class="posttext">I see some new features in v1.6 beta<br />
<br />
wicked :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>