<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" securing, encrypting or hiding of file uploaded in NSIS script, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  securing, encrypting or hiding of file uploaded in NSIS script NSIS Discussion" />
	
	<title> securing, encrypting or hiding of file uploaded in NSIS script [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  securing, encrypting or hiding of file uploaded in NSIS script</div>
<hr />
<div class="pda"><a href="t-320589.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320589">securing, encrypting or hiding of file uploaded in NSIS script</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">khesrow</div><div class="date">7th July 2010, 06:58</div></div><div class="posttext">salam guyz!<br />
<br />
i already create an NSIS script and i upload many files of my application into it, now i want to secure, encrypt or hide those files and make just single .exe output file for installing my application. i mean i just want to pack all my files but generating one .exe file.<br />
plz help me thanks alot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th July 2010, 10:12</div></div><div class="posttext">What do you mean by uploading many files into your NSIS script? The script is a text file! If you mean compressing the files into your installer then that is the default behaviour if you use File (rather than CopyFiles say).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">khesrow</div><div class="date">7th July 2010, 10:53</div></div><div class="posttext">look dear!<br />
<br />
i have an application and it has four files, and for making that setup.exe i create an NSIS script and i embed/introduce/compress those file into the script, now when ever i am compiling the script it extract four of  four files which i dont want, i just want to extract just one file (setup.exe) nothing else THANKS!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">7th July 2010, 16:07</div></div><div class="posttext">......wtf?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th July 2010, 17:07</div></div><div class="posttext">Yes I am still confused as well. When you build an NSIS script you only get one file (the file named with OutFile). You must be confusing something. Check out the examples in NSIS\Examples.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">underline</div><div class="date">7th July 2010, 18:09</div></div><div class="posttext">Seems that &quot;khesrow&quot; try to say that he need a way to avoid extraction of files compiled inside his Setup.exe file<br />
<br />
As I can understand when he try to extract the content of his Setup.exe he get 4 files and he is not confortable with that so he need to avoid extraction...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th July 2010, 18:19</div></div><div class="posttext">No I don't think he means that but if he does the only proper way to do this is to rebuild NSIS.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">7th July 2010, 18:20</div></div><div class="posttext">If he wants the script to extract fewer files, he can put them into different sections and let the user select the section(s) to extract. He could - no, I should say - one can add logic to determine what files to extract based upon existing files, other programs, registry values, or user input.<br />
<br />
If he wants to prevent people from extracting those 4 files with an independent utility, he will have to modify the NSIS package and recompile makensis.exe. 7-zip and other utilities can extract the files because they can process the setup.exe almost as if it were a zip file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">khesrow</div><div class="date">8th July 2010, 06:10</div></div><div class="posttext">guyz my English is not good and i apologize for that, and very very thanks for helping me.<br />
<br />
but my application has four files and when i make that through NSIS installable application, i mean i introduce the four file to the NSIS script file due File statement, now when i compiling the script file it gives me my four of four files in a path which i dont want , i just want from it to give me just one file (setup.exe) and the other file should be not readable or should be hide.<br />
<br />
thanks again from yours help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">8th July 2010, 06:33</div></div><div class="posttext">I think you are mistaken. The NSIS compiler always will generate only ONE file, and that is the installer (called setup.exe if you specified that with the OutFile command). The other files you're seeing probably belong to something else.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">khesrow</div><div class="date">8th July 2010, 07:04</div></div><div class="posttext">then please shoe me in example (use my application that has four files) thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">khesrow</div><div class="date">8th July 2010, 07:13</div></div><div class="posttext">and this is what i did:<br />
<br />
<br />
<br />
Name &quot;Example1&quot;<br />
<br />
OutFile &quot;example1.exe&quot;<br />
<br />
<br />
InstallDir $PROGRAMFILES\Example1<br />
<br />
DirText &quot;This will install My Cool Program on your computer. Choose a directory&quot;<br />
<br />
;--------------------------------<br />
<br />
; The stuff to install<br />
Section &quot;&quot; ;No components page, name is not important<br />
<br />
; Set output path to the installation directory.<br />
SetOutPath $INSTDIR<br />
<br />
; Put file there<br />
File formone.exe<br />
File myfolder\test.txt<br />
File test.nsi<br />
<br />
SectionEnd ; end the section<br />
<br />
after the compiling this script it gives me all those file (formone.exe, test.txt, text.nsi) in c:\program file\Example1 folder, then where is one .exe file i cant see, now what u say</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">8th July 2010, 07:20</div></div><div class="posttext">Am I understanding you correctly that you only want formone.exe to be installed? And that you want to store test.txt and test.nsi inside the installer, but you don't want them to be installed? In that case, use this:<br />
<br />
File formone.exe<br />
goto +3<br />
File myfolder\test.txt<br />
File test.nsi</div></div><hr />


<div class="post"><div class="posttop"><div class="username">khesrow</div><div class="date">8th July 2010, 07:46</div></div><div class="posttext">ok thanks but because the other files are the resources for formone.exe so can it use its resources which are test.txt,test2.doc,... ,...  <br />
i mean that formone.exe should be able to use those file but as u said i dont want to show them in install directory. <br />
as u said this will ignore other files so formone.exe will not reach to its resources .<br />
thanks a lot  now u got what i want (generating a single.exe file).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">8th July 2010, 08:19</div></div><div class="posttext">Aha, I see. Well, there are various things you can do. First, you can set the Hidden file attribute to those files (use the SetFileAttributes command (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.3.12)), but then the user can still see them if he has &quot;show hidden files&quot; enabled in his Explorer. You can also extract the files to a directory that the user is not very likely to see, for example $LOCALAPPDATA\YourApp. But still, the user will be able to find it.<br />
<br />
If you really want to prevent the user from reading the file, you'll need to encrypt its contents. There are many file encryption methods out there, and I don't know any of them personally. But I don't think that encryption software is very on-topic in these NSIS forums.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">khesrow</div><div class="date">8th July 2010, 08:42</div></div><div class="posttext">ok dear but it was done by one of my friends, he made from several file on single .exe file as i explained, now i dont know where is he to ask him, but i am sure it has a solution with encrypting, well again thank you very much.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th July 2010, 10:43</div></div><div class="posttext">What I would do is add the two files you want to hide as resources inside formone.exe; that is assuming you have control over the code in formone.exe.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">khesrow</div><div class="date">8th July 2010, 12:01</div></div><div class="posttext">it is imposable to hide those file within formone.ext it is just a c# compiled file,the solution is just my question's answer that there should be a way for merging file into one file.<br />
<br />
thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">8th July 2010, 12:40</div></div><div class="posttext">there should be a way for merging file into one file.<br />
There is. Afrow UK told you: those files could be made resources and would be stored inside your c# exe.<br />
<br />
You will have to make your c# program will find the new hidden files - you must be able to recompile it, right? If you can compile it, you can add resources to it. And you'll add the code to use those new resources.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th July 2010, 13:09</div></div><div class="posttext">Yes, resources are added using Visual Studio. They need to be added to Properties\Resources.resx for the project and then accessed using [ProjectNamespace].Properties.Resources.[ResourceName] which will be of type byte[] for files I believe. You can load it into a MemoryStream rather than using a FileStream.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>