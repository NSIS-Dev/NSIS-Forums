<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Executing code if a Section has not been selected, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Executing code if a Section has not been selected NSIS Discussion" />
	
	<title> Executing code if a Section has not been selected [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Executing code if a Section has not been selected</div>
<hr />
<div class="pda"><a href="t-109139.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=109139">Executing code if a Section has not been selected</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DebtAngel</div><div class="date">9th October 2002, 21:25</div></div><div class="posttext">I'm using NSIS 1.98.<br />
<br />
What I want to do is display a message box if the user tries to install without selecting one of my optional sections. <br />
<br />
The section is actually only semi-optional, as without it the program will throw the occasional error. But it's humongous, so I want to give the user the option of not installing it. If they decide not to include it, I want to add a message saying (basically) &quot;Are you sure this is a good idea?&quot; before allowing the user to pass the section selection screen.<br />
<br />
How would I go about doing this? Sample source code would be lovely, as I have not played with the callback functions of NSIS at all, and I have a feeling they're going to be involved.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">9th October 2002, 21:48</div></div><div class="posttext">You will need to use SectionGetFlags as in this example:<br />
http://www.clantpa.co.uk/nsis/wiki/index.php/ControllingAvailableInstallationOptions<br />
<br />
You were right, you will need a callback for doing this. There are two callbacks that might fit, .onNextPage and .onSelChange. In .onNextPage you will have to count the number of pages past, and if you get to the page after the component page you will check for that section and let the user choose, use Abort to prevent from going to the next page if the user said he wants to change his selection. If you check it in .onSelChange the user will get the message right after he disselected that section. You will have to &quot;remember&quot; if you already used the message box so it won't show up even if the user changed another section and not that section.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>