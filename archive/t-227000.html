<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Echoing to Std out, Std err, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Echoing to Std out, Std err NSIS Discussion" />
	
	<title> Echoing to Std out, Std err [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Echoing to Std out, Std err</div>
<hr />
<div class="pda"><a href="t-227000.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=227000">Echoing to Std out, Std err</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">longoja</div><div class="date">26th September 2005, 22:45</div></div><div class="posttext">Currently I am using an automated tool, which can deploy a batch file to a machine, and then runs the files and can read the echo from them.<br />
<br />
Is there a way to write to Standard Out / Err, or simulate an echo.<br />
<br />
Thanks, James</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">27th September 2005, 00:40</div></div><div class="posttext">Why not use nsExec?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">longoja</div><div class="date">27th September 2005, 04:16</div></div><div class="posttext">Originally posted by Joel <br />
Why not use nsExec?  <br />
<br />
I have tried nsExec already, doesn't seem to work.  I can use nsExec and Echo. to a log file, which works.  But when I tried to just use Echo with it, it doesn't seem to get picked up.<br />
<br />
I have tried Exec, ExecToStack, ExecToLog, all of them I can echo to a log, but without putting this to a log, it seems to get lost, and the application pushing this, doesn't seem to see the Echo's.<br />
<br />
Has anyone tried this successfully?  Maybe i'm doing it wrong?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">27th September 2005, 07:09</div></div><div class="posttext">May be I misunderstood something, but it looks like you want stdin (echo input) emulation for you console application. You can add one line of code to  ExecDos (http://nsis.sourceforge.net/wiki/ExecDos) plug-in to use app's stdout as echo stdin (ExecDos.c, add as line 148, not tested):<br />
WriteFile(hInputWrite, b, 1, &amp;rslt, NULL);</div></div><hr />


<div class="post"><div class="posttop"><div class="username">longoja</div><div class="date">27th September 2005, 14:28</div></div><div class="posttext">Here is what I am trying, so that the app deploying and running my .exe can see what the app is echoing.  I'm trying to echo from the installer when installing, so that echo's from the app, can be seen in Standard Out.<br />
<br />
nsExec::ExecToLog 'cmd /c Echo. %computername% - INSTALLER - Installing temp installation files &gt;&gt; &quot;$INSTDIR\temp\${installfile}.log&quot;'<br />
<br />
nsExec::ExecToLog 'cmd /c type $INSTDIR\temp\${installfile}.log'<br />
<br />
I have also tried<br />
<br />
nsExec::Exec 'cmd /c Echo. %computername% - INSTALLER - Installing temp installation files &gt;&gt; &quot;$INSTDIR\temp\${installfile}.log&quot;'<br />
<br />
nsExec::Exec 'cmd /c type $INSTDIR\temp\${installfile}.log'<br />
<br />
I have also tried<br />
<br />
nsExec::Exec 'cmd /c Echo. %computername% - INSTALLER - Installing temp installation files'</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th September 2005, 17:09</div></div><div class="posttext">NSIS is not a console application. It can't write the console it was executed from because it's detached of it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">longoja</div><div class="date">27th September 2005, 18:10</div></div><div class="posttext">Originally posted by kichik <br />
NSIS is not a console application. It can't write the console it was executed from because it's detached of it. <br />
<br />
Does this mean it's impossible to write to Standard Out then?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th September 2005, 18:37</div></div><div class="posttext">You can recompile NSIS as a console application, but that'd probably cause a console window to show up when an installer is executed outside of any console.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">longoja</div><div class="date">22nd August 2006, 20:52</div></div><div class="posttext">I saw in release 2.15, they mentioned this...<br />
<br />
Added NSIS_CONFIG_LOG_STDOUT configuration option for logging to stdout.<br />
<br />
Is anyone using this right now, and successfully writing straight to stdout?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">25th August 2006, 12:39</div></div><div class="posttext">That setting will build NSIS as a console application with a side-effect of enabling logging. It'll allow you to write to the parent console, but will also create a new console, if executed outside of a console.<br />
<br />
To avoid the logging, go to line 59 in Source\exehead\SConscript, remove the condition line and keep only the Append line.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>