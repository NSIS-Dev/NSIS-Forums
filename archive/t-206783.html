<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" icons replacement problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  icons replacement problem NSIS Discussion" />
	
	<title> icons replacement problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  icons replacement problem</div>
<hr />
<div class="pda"><a href="t-206783.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=206783">icons replacement problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">krisbg</div><div class="date">3rd February 2005, 18:08</div></div><div class="posttext">Hi<br />
I have a problem with the icons in the case when i create a new version of the setup with new icons and run it on a machine where there was an older installation with old icons:<br />
<br />
The icons in the start menu, on the desctop and in the quicklaunch bar are all the ones from the previous installation. Fortunately I found a solution for this problem (maybe I read it somewhere in this forum a year ago..) - i simply change the name of the install and the uninstall icons every time i make a new setup with a new icon. This works for me for a year but yesterday I created a new setup and saw that the problem is still present especially with the uninstall icon. The new uninstall icon which the new setup has to place in the start menu isn't there - instead there is the old uninstall icon from the previous installation. This occurs on all windows versions except XP where everything is OK. And the solution with changing icon name in every new setup I create doesn't work.<br />
<br />
Any idea will be appreciated!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">niteflyer</div><div class="date">3rd February 2005, 18:38</div></div><div class="posttext">It seems that the icon is cached. Maybe the system has to reboot, or deleting the file ShellIconCache (in windir ?) could help, so that the system is forced to build a new one. But I remember some post, where there was a smarter solution...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd February 2005, 19:18</div></div><div class="posttext">This should update the icons:<br />
<br />
http://nsis.sourceforge.net/archive/viewpage.php?pageid=202</div></div><hr />


<div class="post"><div class="posttop"><div class="username">krisbg</div><div class="date">4th February 2005, 14:40</div></div><div class="posttext">Hello again!<br />
I tried RefreshShellIcons but it doesn't work... Is it important when exactly I will call it? I tried calling it in Section1 immediately after installing the shortcuts or in FinishSection after creating teh uninstaller.exe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">krisbg</div><div class="date">4th February 2005, 16:17</div></div><div class="posttext">Hello all! I think I've found a solution (at least it works on two machines till now..). <br />
In the script I was first creating the uninstall shortcut and then creating the uninstall.exe. Of course in this case I think it is normal Windows not to be able to find the right icon because the exe is still not there and maybe it gets the icon from the cache. So when I moved the uninstall shortcut creation after the creation of the uninstall.exe everything is OK. I'm happy:))!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>