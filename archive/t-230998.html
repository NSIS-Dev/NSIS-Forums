<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" nsProcess plugin, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  nsProcess plugin NSIS Discussion" />
	
	<title> nsProcess plugin [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  nsProcess plugin</div>
<hr />
<div class="pda"><a href="t-230998.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=230998">nsProcess plugin</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">14th November 2005, 19:31</div></div><div class="posttext">Features:<br />
- Find/kill a process by name<br />
- Kill all processes with specified name (not only one)<br />
- The process name is case-insensitive<br />
- Win95/98/ME/NT/2000/XP support<br />
- Small plugin size (4,5 Kb)<br />
<br />
Source function FIND_PROC_BY_NAME based upon the Ravi Kochhar code (http://www.physiology.wisc.edu/ravi/Software/)<br />
Thanks iceman_k (FindProcDLL plugin (http://nsis.sourceforge.net/Find_Process_By_Name)) and<br />
   DITMan (KillProcDLL plugin (http://nsis.sourceforge.net/KillProcDLL_Manual)) for direct me<br />
<br />
<br />
&quot;nsProcess&quot; plugin v1.0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">15th November 2005, 00:46</div></div><div class="posttext">You just keep churning out the plugins. Good one.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">15th November 2005, 16:50</div></div><div class="posttext">you just rock, man.<br />
this will revolutionize my installers :D<br />
<br />
maybe i should collect all the good plugins into a package on day, so everyone may download and setup them easily ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">15th November 2005, 17:22</div></div><div class="posttext">Thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">16th November 2005, 15:14</div></div><div class="posttext">Good to see &quot;Win95/98/ME&quot; support, thanks man!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">20th November 2005, 14:55</div></div><div class="posttext">you just rock, man.<br />
this will revolutionize my installers<br />
<br />
maybe i should collect all the good plugins into a package on day, so everyone may download and setup them easily ...Another good idea would be making function standards and to include those in a global header for easier and pratical use.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">21st November 2005, 17:44</div></div><div class="posttext">... and include this header file together with the plugins into the package ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">4th January 2006, 16:14</div></div><div class="posttext">Fixed: removed CRT dependency (Windows 95 by default does not have msvcrt.dll)<br />
<br />
<br />
&quot;nsProcess&quot; plugin v1.1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">11th March 2006, 07:38</div></div><div class="posttext">Changed: Now plugin used header &quot;nsProcess.nsh&quot; for custom user variables and<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;better compile errors check.<br />
<br />
Update from previous versions:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Insert line in script:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!include &quot;nsProcess.nsh&quot;<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Replace:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;nsProcess::FindProcess -&gt; ${nsProcess::FindProcess} ...<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Replace:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.r0 -&gt; $0, .r1 -&gt; $1 ...  .R0 -&gt; $R0, .R1 -&gt; $R1 ...<br />
<br />
&quot;nsProcess&quot; plugin v1.2</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">21st April 2006, 14:38</div></div><div class="posttext">What is the benefit of using PSAPI for WinNT/2000/XP? Shouldn't the Win95/98/ME method work just as fine in this case?<br />
<br />
Edit: Never mind. It's  the Toolhelp32.dll what Windows NT does not have.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">21st April 2006, 15:48</div></div><div class="posttext">Hmm in Win95/98/ME method the hSnapShot HANDLE leaves open if the process was found and bTerminate is FALSE.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">21st April 2006, 16:27</div></div><div class="posttext">Hmm in Win95/98/ME method the hSnapShot HANDLE leaves open if the process was found and bTerminate is FALSE.You are right, fixed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">21st April 2006, 16:49</div></div><div class="posttext">Fixed: removed memory leak.<br />
<br />
<br />
&quot;nsProcess&quot; plugin v1.3</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rxs2k5</div><div class="date">21st April 2006, 17:10</div></div><div class="posttext">hmm I do not understand, can this plugin kill current open notepad ???<br />
<br />
Is this able to find notepad that is currently running and kill it immediately ???</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">22nd April 2006, 11:55</div></div><div class="posttext">Originally posted by rxs2k5 <br />
hmm I do not understand, can this plugin kill current open notepad ???<br />
<br />
Is this able to find notepad that is currently running and kill it immediately ??? <br />
Yes and yes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rxs2k5</div><div class="date">23rd April 2006, 18:53</div></div><div class="posttext">How do I create the following thing<br />
1. remove the loop<br />
2. find the processes to find notepad , wordpad means in mutiple form and single finding <br />
3. kill all the following process after finding it existence<br />
<br />
Section /o &quot;Kill process&quot; KillProcess<br />
	loop:<br />
	${nsProcess::FindProcess} &quot;NoTePad.exe&quot; $R0<br />
	StrCmp $R0 0 0 +2<br />
	MessageBox MB_OKCANCEL|MB_ICONEXCLAMATION 'Close &quot;notepad&quot; before continue' IDOK loop IDCANCEL end<br />
<br />
	${nsProcess::KillProcess} &quot;NoTePad.exe&quot; $R0<br />
	MessageBox MB_OK &quot;nsProcess::KillProcess$\n$\n\<br />
			Errorlevel: [$R0]&quot;<br />
        Exec &quot;notepad.exe&quot;<br />
	Exec &quot;notepad.exe&quot;<br />
	Exec &quot;notepad.exe&quot;<br />
	BringToFront<br />
	MessageBox MB_OK &quot;Press OK and 3 notepad's windows will be closed&quot;<br />
<br />
	${nsProcess::KillProcess} &quot;NoTePad.exe&quot; $R0<br />
	MessageBox MB_OK &quot;nsProcess::KillProcess$\n$\n\<br />
			Errorlevel: [$R0]&quot;<br />
<br />
	end:<br />
	${nsProcess::Unload}<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">oleksa</div><div class="date">14th July 2006, 15:47</div></div><div class="posttext">I'd downloaded this plugin and had tested it. Test install script always returns Error level 603. If I run script single or with calc.exe<br />
<br />
Help me please! What does this error mean? Where I can find error code list?<br />
<br />
Thank you.<br />
I have Windows XP prof x64.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">14th July 2006, 17:03</div></div><div class="posttext">Help me please! What does this error mean? Where I can find error code list?In the Readme.txt :) Unfortunatelly I can't test it on WinXP x64.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">oleksa</div><div class="date">17th July 2006, 14:13</div></div><div class="posttext">I've found that EnumProcessModules fails when is called for 64 bit applications (calc.exe is 64-bit application) on 64 bit OS with error <br />
<br />
299 <br />
ERROR_PARTIAL_COPY <br />
Only part of a ReadProcessMemory or WriteProcessMemory request was completed.<br />
<br />
 I will try to find solution for this problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">oleksa</div><div class="date">17th July 2006, 15:40</div></div><div class="posttext">Hello Instructor.<br />
It's me again.<br />
<br />
Have you tried CreateToolhelp32Snapshot, Process32First, Process32Next functions on NT platforms?  It works fine at my comp (I'm administrator). This functions are located in kernel32.dll as MSDN says - no psapi is required and should work on Win95/98, WinNT, Win2000 and Windows XP.<br />
<br />
 Why OpenProcess and EnumProcessModules are used for NT like OS now (Windows 2000, XP, 2003)? Only for Windows NT 4.0 support?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">17th July 2006, 18:29</div></div><div class="posttext">@oleksa<br />
Could you try this. I removed the PSAPI and OS check and now it's using only the &quot;Win95/98&quot; method.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">oleksa</div><div class="date">18th July 2006, 07:49</div></div><div class="posttext">Hello {_trueparuex^}<br />
<br />
Yes - that sample code (based on CreateToolhelp32Snapshot, Process32First, Process32Next functions) works fine on my comp. To save Windows NT 4.0 compatibility I suggest rewrite OS check from <br />
if (osvi.dwPlatformId == VER_PLATFORM_WIN32_NT)<br />
to <br />
if (osvi.dwPlatformId == VER_PLATFORM_WIN32_NT &amp;&amp; osvi.dwMajorVersion &lt;= 4)<br />
 This check should be true only on Windows NT (as MSDN says (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/sysinfo/base/getting_the_system_version.asp)). So on NT will work code that gets processes name with PSAPI.<br />
 Windows 95, 98, Me, 2000, 2003 and XP should support Tool help functions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">18th July 2006, 11:30</div></div><div class="posttext">Good. I have my own NSIS unrelated stuff based on the same code... But there is one major disadvantage in CreateToolhelp32Snapshot method. It doesn't work with file names longer than 15 characters. So trying to kill process with name like this &quot;ThisIsPrettyLongName.exe&quot; won't work. One  solution would be simply to limit the file names to 15 characters, but that could cause kill of unintentional processes.<br />
<br />
So let's see what Instructor gets up to with. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">19th July 2006, 14:36</div></div><div class="posttext">oleksa can you test it on the x64<br />
<br />
Fixed: WinNT 4.0 by default doesn't have PSAPI.DLL. Code for WinNT/2000/XP has<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;been rewritten (using NTDLL.DLL). Note: on WinNT 4.0 process name limited<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;to 15 characters.<br />
Changed: error codes.<br />
<br />
<br />
&quot;nsProcess&quot; plugin v1.4</div></div><hr />


<div class="post"><div class="posttop"><div class="username">oleksa</div><div class="date">19th July 2006, 14:56</div></div><div class="posttext">Instructor works fine, thank you.<br />
looks for calc.exe (603 if process hasn't been started and 0 if process has been started)<br />
checks does notepad.exe running and closes all three notepads succesfully.<br />
<br />
Thank you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">oleksa</div><div class="date">24th July 2006, 07:58</div></div><div class="posttext">But there is one major disadvantage in CreateToolhelp32Snapshot method. It doesn't work with file names longer than 15 characters. So trying to kill process with name like this &quot;ThisIsPrettyLongName.exe&quot; won't work.  <br />
<br />
2 {_trueparuex^}<br />
How could wou know that CreateToolhelp32Snapshot method won't work?<br />
<br />
I have test it and all works fine:<br />
PROCESS NAME:  AcroRd32.exe<br />
PROCESS NAME:  devenv.exe<br />
PROCESS NAME:  mspdbsrv.exe<br />
PROCESS NAME:  ThisIsPrettyLongName.exe<br />
 I could post test code (from MSDN) here or send you e-mail as you wish.<br />
<br />
Good bye.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">24th July 2006, 15:18</div></div><div class="posttext">Originally posted by oleksa <br />
2 {_trueparuex^}<br />
How could wou know that CreateToolhelp32Snapshot method won't work?<br />
<br />
I have test it and all works fine:<br />
PROCESS NAME:  AcroRd32.exe<br />
PROCESS NAME:  devenv.exe<br />
PROCESS NAME:  mspdbsrv.exe<br />
PROCESS NAME:  ThisIsPrettyLongName.exe<br />
 I could post test code (from MSDN) here or send you e-mail as you wish.<br />
<br />
Good bye.  <br />
I wasn't aware of this before, but that 15 characters name limitation is only in win2k or older. :)<br />
<br />
<br />
@Instructor<br />
That 15 characters name limitation is also in Windows 2000 when using NTDLL.DLL :( PSAPI didn't have that limitation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dienjd</div><div class="date">2nd August 2006, 04:11</div></div><div class="posttext">Instructor,<br />
There is a spyware app with a DLL that has the same name as this plug-in:<br />
http://www3.ca.com/securityadvisor/pest/pest.aspx?id=453097507<br />
<br />
This is too bad...I don't know of a way around having your plug-in associated with adware other than renaming it. <br />
<br />
Those of you who are already using it may want to rename it to avoid having your installer raise anti-virus/spy flags when running.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">31st August 2006, 09:50</div></div><div class="posttext">Fixed: removed memory leak in WinNT/2000/XP method.<br />
<br />
<br />
&quot;nsProcess&quot; plugin v1.5</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CharlesB2</div><div class="date">3rd October 2006, 14:16</div></div><div class="posttext">Originally posted by Instructor <br />
Fixed: removed memory leak in WinNT/2000/XP method.<br />
<br />
<br />
&quot;nsProcess&quot; plugin v1.5  <br />
<br />
Hey,<br />
<br />
Since recent update of McAfee VirusScan, the use of a previous nsProcess version was detected as a Trojan (generic prockill.a)!! The last version (1.5) does not cause the problem. Thanks a lot!<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpodtbc</div><div class="date">27th October 2006, 01:02</div></div><div class="posttext">problem trying to kill a service process. i can find the process but when i try to kill it i get return code 601 (no permission to kill process). i am running the installer as an administrator and can kill the process manually. <br />
<br />
please help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">27th October 2006, 10:43</div></div><div class="posttext">Killing service like that is really not very smart. Rather try to stop it with some of these methods.<br />
http://nsis.sourceforge.net/How_do_I_start/stop/create/remove/check_a_service</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpodtbc</div><div class="date">27th October 2006, 17:21</div></div><div class="posttext">thanks but i already have service control implemented in the installer. the problem is when the service is unresponsive and cannot be shut down any other way. i think we can all agree that it is bad to have the installer hang indefinitely.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpodtbc</div><div class="date">27th October 2006, 17:57</div></div><div class="posttext">i found a solution by modifying the nsProcess source code and using code provided here:<br />
http://www.alexfedotov.com/articles/killproc.asp?pane=0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hbatista</div><div class="date">20th November 2006, 18:42</div></div><div class="posttext">Hi jpodtbc, I'm having the exact same problem as you.<br />
Could you be so kind to post your solution here?<br />
Thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hbatista</div><div class="date">21st November 2006, 12:00</div></div><div class="posttext">I ended up changing it myself. Here is the source code and dll if someone wants to use it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpodtbc</div><div class="date">22nd November 2006, 17:28</div></div><div class="posttext">thanks man...i was about to put up my modified source but you beat me to it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hbatista</div><div class="date">27th November 2006, 15:42</div></div><div class="posttext">No problem, I was facing a really tight deadline so I had to go for it. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Whizz</div><div class="date">4th February 2007, 12:02</div></div><div class="posttext">Originally posted by CharlesB2 <br />
Hey,<br />
<br />
Since recent update of McAfee VirusScan, the use of a previous nsProcess version was detected as a Trojan (generic prockill.a)!! The last version (1.5) does not cause the problem. Thanks a lot!<br />
<br />
Cheers  <br />
<br />
This is still happening, even with 1.5 of nsProcess.  It is being detected as HackTool.ProcKill.A by several AV packages.<br />
<br />
Is there any chance of a major change with this DLL to prevent this detection?  The DLL itself is really useful, but it looks like someone has used it for less than honest purposes :down: .<br />
<br />
I have had to take it out of several of my installers for until this can be fixed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Meefer</div><div class="date">4th February 2007, 12:23</div></div><div class="posttext">http://Jennifer-Lopez-Doing-A-Huge-Black-Man.info</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CharlesB2</div><div class="date">4th February 2007, 23:20</div></div><div class="posttext">Originally posted by Whizz <br />
This is still happening, even with 1.5 of nsProcess.  It is being detected as HackTool.ProcKill.A by several AV packages.<br />
<br />
Is there any chance of a major change with this DLL to prevent this detection?  The DLL itself is really useful, but it looks like someone has used it for less than honest purposes :down: . The best way to handle the problem is to recompile the DLL by removing the function that kills a process, since I believe it is the one that is used by trojans. I have done it myself, if you're interested I can put it on the wiki...<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Whizz</div><div class="date">5th February 2007, 20:31</div></div><div class="posttext">Originally posted by CharlesB2 <br />
The best way to handle the problem is to recompile the DLL by removing the function that kills a process, since I believe it is the one that is used by trojans. I have done it myself, if you're interested I can put it on the wiki...<br />
<br />
Cheers  <br />
<br />
That sounds good, but actually I do need the kill a process function.  So taking it out would be a bit of a pain.<br />
<br />
Do you have the full source (or anyone else out there) for a Micro$oft compiler and can provide a link?<br />
<br />
I presume its coded in C/++.  I might try to obfuscate it and re-compile to see if that gets it through.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CharlesB2</div><div class="date">6th February 2007, 08:30</div></div><div class="posttext">Originally posted by Whizz <br />
That sounds good, but actually I do need the kill a process function.  So taking it out would be a bit of a pain.<br />
<br />
Do you have the full source (or anyone else out there) for a Micro$oft compiler and can provide a link?<br />
<br />
I presume its coded in C/++.  I might try to obfuscate it and re-compile to see if that gets it through.  The source is in the archive, on the wiki page: http://nsis.sourceforge.net/NsProcess_plugin<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JamesKiller</div><div class="date">3rd May 2007, 23:13</div></div><div class="posttext">when I am using this plugins, i have a problem which can not kill the old vesion of my application.<br />
for example: i have version 1 : myservice<br />
i make a new build, then install it, it can't kill verison 1 process?<br />
I think it would a bug ???<br />
Any thoughts?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">4th May 2007, 02:26</div></div><div class="posttext">Well, if version 1 is a service, as the name you gave implies, you would need to ensure that it won't auto-recover when killed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Whizz</div><div class="date">4th May 2007, 06:11</div></div><div class="posttext">Originally posted by JamesKiller <br />
when I am using this plugins, i have a problem which can not kill the old vesion of my application.<br />
for example: i have version 1 : myservice<br />
i make a new build, then install it, it can't kill verison 1 process?<br />
I think it would a bug ???<br />
Any thoughts?  <br />
<br />
Services are not really like a normal program process.  They are controlled by the 'Services Controller' (SC) which deals with both services and devices.<br />
<br />
You should 'stop' your service officially, advise the SC to remove it from the database, update it, reload into the database and then 'start' it again.<br />
<br />
If it is a protected service, then you have to advise the SC to make the changes at next boot up.  Which is really quite difficult in the newer OS's of XP/Vista.  And probably you shouldn't be touching anyway. :D<br />
<br />
NSProcess is probably not the plugin for you when dealing with services. :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">M-Force</div><div class="date">10th October 2007, 18:46</div></div><div class="posttext">Hi,<br />
<br />
is it still an issue that nsProcess is trigger AV packages as a trojan virus?<br />
If so do you have a list of such AV packages?<br />
I would like to check my installer for such problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Whizz</div><div class="date">10th October 2007, 21:26</div></div><div class="posttext">I have not seen the problem since I re-compiled the source code myself, using my own compiler.  Rather than using the distributed version from the download location.  This is the distro version I use now.<br />
<br />
When I was experimenting, I found that the following AV systems did trigger a false detection:<br />
<br />
Panda<br />
Macafee/NAI<br />
BitDefender<br />
F-Secure<br />
Symantec/Norton<br />
<br />
I did not have access to any other AV engines to test further.  Actually 1 detection was too many!!! :eek:<br />
<br />
Once I recompiled and the issue went away, then I did not test any further.  Nor have I tried downloading to see if there was a newer version by the author.<br />
<br />
I guess the original was being compiled with an non-fully patched version of MS:C++.  I did no changes, just compiled and used the resultant file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">99999999</div><div class="date">25th April 2008, 00:29</div></div><div class="posttext">Is there source code available for the nsProcess plugn?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Whizz</div><div class="date">25th April 2008, 06:24</div></div><div class="posttext">As stated by CharlesB2 earlier in the thread.  It is in the Archive on the Wiki page.<br />
<br />
Did you read the whole of this thread?? I guess not.:rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">afisk</div><div class="date">12th May 2008, 15:37</div></div><div class="posttext">Do you have a link to your re-compiled DLL by any chance, Whizz?  Maybe you could add it to the wiki?  I don't do much Windows programming and don't have everything set up to compile my own.  You can also reach me at &quot;a&quot; at my domain --- littleshoot.org.  Would be a huge help.  I'd even paypal you $10 -- seriously.<br />
<br />
-Adam Fisk</div></div><hr />


<div class="post"><div class="posttop"><div class="username">arantius</div><div class="date">10th June 2008, 16:32</div></div><div class="posttext">I've patched this plugin to add a CloseProcess method, a nicer alternative to KillProcess.<br />
<br />
I offer no guarantees as to its quality, as C++ is not my primary skill.  However, the updated nsProcess.c file is attached for anyone who might find it useful.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ivan Andreevich</div><div class="date">19th January 2009, 17:50</div></div><div class="posttext">Any plans to make a version that could be used to kill processes by PID?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">skuallpa</div><div class="date">1st February 2010, 16:02</div></div><div class="posttext">Hello,<br />
<br />
the plugin works well for normal build of nsis under x64. However, it failed to find processes for nsis unicode build <br />
<br />
Do you have a solution for this?<br />
<br />
Thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">roderickm</div><div class="date">17th February 2011, 13:24</div></div><div class="posttext">Hello,<br />
<br />
FYI, the FindProcess function works on Windows 7 - even when the process was started by a different user. Thanks! ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th February 2011, 13:25</div></div><div class="posttext">It won't work on x64 Windows (unless it uses WMI).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">brainsucker</div><div class="date">28th June 2011, 09:14</div></div><div class="posttext">It actually works for me on Win7 x64, but I have UAC prompts disabled, mb this is the reason.<br />
<br />
Please find NSIS UNICODE/ANSI version attached, I'm too lazy to rebuild installer so you'll have to rename nsProcessW.dll to nsProcess.dll manually.<br />
<br />
It also contains new function _CloseProcess, which tries to close all windows first, waits for 3 seconds for process to exit (so it can save all data), and then terminates it.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>