<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" System plugin question about usage example, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  System plugin question about usage example NSIS Discussion" />
	
	<title> System plugin question about usage example [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  System plugin question about usage example</div>
<hr />
<div class="pda"><a href="t-322255.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=322255">System plugin question about usage example</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Tilmeez</div><div class="date">7th September 2010, 20:55</div></div><div class="posttext">Hi Guys, i am new to NSIS and i am trying to learn how to use system plugin.<br />
<br />
From system plugin read me, i am having hard time understanding this usage example.<br />
<br />
Usage example<br />
# allocate a buffer and put 'test string' and an int in it<br />
System::Call &quot;*(&amp;t1024 'test string', i 5) p .s&quot;<br />
Pop $0  ; at this point there is no value in $0<br />
# copy to an automatically created buffer<br />
System::Copy 0 $0<br />
Pop $1  <br />
# get string and int in $1 buffer<br />
System::Call &quot;*$1(&amp;t1024 .r2, i .r3)&quot;<br />
# free buffer<br />
System::Free $1<br />
# print result<br />
Messagebox MB_OK &quot;$2 and $3&quot; ; i added this statement to check the values<br />
DetailPrint $2<br />
DetailPrint $3<br />
<br />
----<br />
----<br />
<br />
When i compile, i see values NULL and 0 in $2 and $3 instead of &quot;test string&quot; and 5. Could anyone please explain why is that ?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">7th September 2010, 21:27</div></div><div class="posttext">the line...<br />
System::Call &quot;*(&amp;t1024 'test string', i 5) p .s&quot;<br />
Is for a newer version of the System plugin that is not actually included with NSIS yet (not sure if there's some alternate download location).<br />
<br />
You'll want to use...<br />
System::Call &quot;*(&amp;t1024 'test string', i 5) i .s&quot;<br />
<br />
For further reference, see the &quot;Docs\System\System.html&quot; document included with your NSIS installation, rather than the online document.<br />
<br />
Hopefully those responsible for that portion of the online presence can do something about this situation, as you're certainly not the first to have run into this sort of thing (almost invariably the 'p' vs 'i' issue, for that matter).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tilmeez</div><div class="date">7th September 2010, 21:34</div></div><div class="posttext">It works now !!! <br />
Thanks alot for your help :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>