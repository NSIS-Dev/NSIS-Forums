<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Inetload bandwidth and latency calculation, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Inetload bandwidth and latency calculation NSIS Discussion" />
	
	<title> Inetload bandwidth and latency calculation [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Inetload bandwidth and latency calculation</div>
<hr />
<div class="pda"><a href="t-219269.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=219269">Inetload bandwidth and latency calculation</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jsbach</div><div class="date">20th June 2005, 11:39</div></div><div class="posttext">this is for Takhir. i'm wondering if you eventually plan in the future to add bandwidth, latency and speed calculation.<br />
IMO knowing in advance if those three parameters are good enough to download big files could be usefull at script level (i.e. if any of those parms are not good you can decide to delay script execution later or to abort as well).<br />
<br />
thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">20th June 2005, 13:39</div></div><div class="posttext">You can calculate average speed using download start/finish times (time() or GetTickCount() calls using System plug-in) and received file size.<br />
Current InetLoad implementation is &quot;modal&quot;, i.e. it returns control to installer when download finished or failed. And my big :) plan is to add modeless switch to perform background downloads during installation. But I have not time for this right now. And small improvement (soon) - /NOCANCEL switch (while I guess this is not safe). And I still hope to finish /POST mode tests.<br />
NSIS plug-ins have access to $ variables, so InetLoad can update, for example, $9 with current average speed value, but in &quot;modal&quot; mode this have not sense - script execution will be continued after plug-in have exited only.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jsbach</div><div class="date">20th June 2005, 22:32</div></div><div class="posttext">thanks Takhir: i'll see if GetTickCount can fit to my needs.<br />
I also have in mind to convert to nsis a code snipplet i wrote some time ago in a different language to calculate latency and speed; just remind now. i'll post in case of interest.<br />
About /nocancel that was my need as you know i'm totally with you on saying it can be unsafe. However, you may know sometimes it's not a matter of choosing the best solution (when developing network solutions) but choose the best option with the minor risk... Especially when you've to deal with users (many users) whose actions are often really unpredictable. In my case , for example, with /nocancel i'm quite sure users don't break download of important sw updates, but at the same time it's unsafe even dangerous not to allow stop download in certain cases (i.e. when network speed very slow).<br />
One possible solution could be to trap a possible Cancel and present the user a Y/N messagebox asking wheter continue or not: if users says 'yes: continue downloading' then restart inetload with /resume flag. Is this possible IYO ?<br />
thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">21st June 2005, 07:21</div></div><div class="posttext">Thanks, jsbach, this is possible, but we need to remember - it's logic should be intelligible for developers in all situations (like silent installs - default result for plug-in's message box). Any case I'll include simple /nocancel to the next build.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>