<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Cant modify $LANGUAGE, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Cant modify $LANGUAGE NSIS Discussion" />
	
	<title> Cant modify $LANGUAGE [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Cant modify $LANGUAGE</div>
<hr />
<div class="pda"><a href="t-274802.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274802">Cant modify $LANGUAGE</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ramyaa</div><div class="date">23rd July 2007, 14:44</div></div><div class="posttext">Where can i change the $LANGUAGE variable?? The Docs say that it can be changed in the .onInit function , but im unable to do it. Can sombody throw more light on its usage? I want the $LANGUAGE to be same as that of the Locale... (same as HKEY_CURRENT_USER\Control Panel\International\Locale)<br />
Thanks,<br />
Ramya</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">23rd July 2007, 15:16</div></div><div class="posttext">What is the code that you are using?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">23rd July 2007, 17:57</div></div><div class="posttext">The taken value from that registry key isn't compatible with the value which should be stored in $LANGUAGE, so you'd need somehow to translate it e.g.<br />
ReadRegStr $0 HKCU &quot;Control Panel\International&quot; &quot;Locale&quot;<br />
StrCmp $0 &quot;00000408&quot; 0 next<br />
StrCpy $LANGUAGE ${LANG_GREEK}<br />
next:<br />
Obviously this is too much, so it's better using the system plugin. Here is a snippet found in forum,<br />
System::Call &quot;kernel32::GetUserDefaultLangID()i .r0&quot;<br />
StrCpy $LANGUAGE $0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd July 2007, 19:05</div></div><div class="posttext">0408 is actually almost the same as ${LANG_GREEK}. 0x408 is 1032 and so is ${LANG_GREEK}. So instead of a huge switch, simply copy 0x$0 into $LANGUAGE.<br />
<br />
The System can be simplified as well. Use `i .a` instead of `i .r0` and the result will go directly into $LANGUAGE.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ramyaa</div><div class="date">25th July 2007, 11:17</div></div><div class="posttext">Thanks a lot buddies.... That helped me! :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>