<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" What is this NSIS.Library.RegTool file?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  What is this NSIS.Library.RegTool file? NSIS Discussion" />
	
	<title> What is this NSIS.Library.RegTool file? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  What is this NSIS.Library.RegTool file?</div>
<hr />
<div class="pda"><a href="t-296139.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=296139">What is this NSIS.Library.RegTool file?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">18th August 2008, 22:15</div></div><div class="posttext">I'm developing a few new installers, and I noticed that in the InstallDir, there's this file generated by NSIS installer: <br />
<br />
NSIS.Library.RegTool.v2.{Some GUID}.exe.<br />
<br />
At first I thought may be if i reboot my machine, this file will go away (this particular installer requires a reboot each time user installs the product).<br />
<br />
Even after a reboot this file remains in the InstallDir. What's the function of this file? Is it safe to use? I tried searching for this file online, but didn't find much help. Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th August 2008, 06:13</div></div><div class="posttext">It's a tool used to register DLL files after they have been replaced at reboot. It deletes itself after two reboots. One for the actual replacement and one for deleting itself.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">19th August 2008, 18:56</div></div><div class="posttext">Got it, thanks Kichik.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">20th August 2008, 21:46</div></div><div class="posttext">I noticed that if I do not reboot, but uninstall the product. Next time when the machine is rebooted, Windows throws an error that &quot;Cannot find NSIS.Library.RegTool.v2.{GUID}.exe. Make sure you typed the name correctly, and then try again. <br />
<br />
How can this error be prevented on a reboot? any help will be appreciated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2008, 23:17</div></div><div class="posttext">Which NSIS version?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">20th August 2008, 23:25</div></div><div class="posttext">It's version 2.38, I don't want to jump to conclusion, but could it be a bug in NSIS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th August 2008, 23:27</div></div><div class="posttext">Attach a short example script. I'll check later.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">20th August 2008, 23:54</div></div><div class="posttext">I'm not exactly sure which part of script you'd want to see but here's how the install section starts:<br />
<br />
Section<br />
<br />
SetRebootFlag true ; I want user to reboot the machine each time the product is installed.<br />
.<br />
.<br />
.<br />
;Install to InstallDir<br />
File ${SOURCE_DIR}\myDLL1.dll<br />
File ${SOURCE_DIR}\myDLL2.dll<br />
File ${SOURCE_DIR}\${_LANG}\myFile.txt	<br />
<br />
!insertmacro InstallOnReboot ${SOURCE_DIR}\MyDLL3.dll $INSTDIR\MyDLL3.dll<br />
<br />
!insertmacro InstallOnReboot ${SOURCE_DIR}\MyDLL4.dll $INSTDIR\MyDLL4.dll<br />
.<br />
.<br />
.<br />
<br />
!insertmacro InstallLib REGDLL SHARED REBOOT_NOTPROTECTED &quot;${SOURCE_DIR}\myDLL3.dll&quot; &quot;$INSTDIR\myDLL3.dll&quot; &quot;$INSTDIR&quot;	<br />
<br />
!insertmacro InstallLib REGDLL SHARED REBOOT_NOTPROTECTED &quot;${SOURCE_DIR}\myDLL4.dll&quot; &quot;$INSTDIR\myDLL4.dll&quot; &quot;$INSTDIR&quot;	<br />
<br />
;Install service<br />
;Create registry keys/entries<br />
<br />
the install section ends there. On uninstall, I just use UnRegDLL to unregister these DLLs except one of my DLLs where I use UnInstallLib to unregister a shared DLL</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">21st August 2008, 13:55</div></div><div class="posttext">Why are you using $INSTDIR as temporary folder?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">21st August 2008, 22:40</div></div><div class="posttext">aww, I wasn't too clear after reading the documentation. Changing to TEMP folder instead of INSTDIR resolved the problem. I thought I had to use the INSTDIR (after reading the docs).<br />
Thanks so much Joost and kichik for your prompt help!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>