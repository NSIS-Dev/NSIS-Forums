<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" BgImage.dll and Windows 98, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  BgImage.dll and Windows 98 NSIS Discussion" />
	
	<title> BgImage.dll and Windows 98 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  BgImage.dll and Windows 98</div>
<hr />
<div class="pda"><a href="t-136630.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=136630">BgImage.dll and Windows 98</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">25th May 2003, 23:07</div></div><div class="posttext">Hm, i hope this time it's a real bug and not me :D<br />
I wonder if the BgImage.dll example was tested under windows 98. on windows xp it runs fine. when i start the example under windows 98 it showes up correctly up to the mike the lama message. after i clicked ok on that one the installer crashes with an windows 98 crash box...does this error only occurs on my pc? notice, it's a fresh install of windows 98 (i run it in a vmware box actually, but i don't think thats the problem)<br />
<br />
DOCa Cola</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">25th May 2003, 23:13</div></div><div class="posttext">Yep, it was tested on both Windows 98 and Windows XP. I had a lot of issues with Windows 98... Make sure it's not VMWare that's causing this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">25th May 2003, 23:22</div></div><div class="posttext">ok, thx. i can't test it anyway cause i have no real pc with win98 installed, but would be good to know that my installer runs everywhere without problems. :)<br />
<br />
DOCa Cola</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">25th May 2003, 23:24</div></div><div class="posttext">I'll test it tomorrow on another Windows 98 machine just to make sure, but even if it works it would be nice to know what happens with VMWare. So... What's the exact error and after/before which  command does it appear?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">25th May 2003, 23:26</div></div><div class="posttext">i will test that now with a messagebox before every command and tell you what happens...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">25th May 2003, 23:35</div></div><div class="posttext">thats line 81 in the example<br />
	# clear everything<br />
	BgImage::Clear /NOUNLOAD<br />
	# Clear doesn't return any value<br />
	# set another gradient<br />
at this point the installer fails<br />
<br />
<br />
With this command the typical windows error screen appears (the one with the close and details button and the red X)<br />
With the detail error message (sorry, i have a german windows 98)<br />
BGIMAGE TEST verursachte einen Fehler durch eine ung√ºltige Seite<br />
in Modul BGIMAGE.DLL bei 0167:10001573.<br />
...<br />
and so on (means something like bgimage test caused an error through a invalid page in module bgimage.dll at ...)<br />
the installer window with background stays in back until i press the close button on the error box and no graphical errors appear when i move the error box arround.<br />
<br />
DOCa Cola<br />
<br />
EDIT: erm, there are graphical errors, the error box leaves 'ghosts' on the background</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th May 2003, 16:04</div></div><div class="posttext">Can you please try the attached BgImage.dll? I have added some more thread safety features.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">26th May 2003, 17:03</div></div><div class="posttext">the example runs fine until finish, then it crashes (on unload) i am trying to find the command causing this<br />
<br />
Edit: after crash the background stays and the desktop is not redrawn, i have first to clean it by opening a window</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">26th May 2003, 17:09</div></div><div class="posttext">hm, its that BgImage::Destroy function in .onguiend. i have uncommented it and the installer closes fine but of course the dll stays in the plugins dir then.<br />
<br />
DOCa Cola</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th May 2003, 17:31</div></div><div class="posttext">What's the offset (0167:10001573 in the last error message) shown in the error message for the attached BgImage.dll?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">26th May 2003, 17:33</div></div><div class="posttext">its 0167:100014ef<br />
<br />
DOCa Cola</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th May 2003, 17:37</div></div><div class="posttext">Hmm... Clear again... I'll check.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th May 2003, 17:53</div></div><div class="posttext">Plesae test this one.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">26th May 2003, 17:57</div></div><div class="posttext">this one runs fine now. but i noticed that there was a slight delay on playing the test sound under windows xp (don't know about vmware win98 cause have no soundcard installed there)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th May 2003, 17:58</div></div><div class="posttext">It happens here too and has happened in earlier versions too, probably a Windows XP issue. Last time I tested it, it happened only with the files the example uses, maybe they're special for Windows XP, who knows :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DOCa Cola</div><div class="date">26th May 2003, 18:01</div></div><div class="posttext">ah, i see, thx for the improved stability  :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th May 2003, 18:02</div></div><div class="posttext">New version uploaded to CVS.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>