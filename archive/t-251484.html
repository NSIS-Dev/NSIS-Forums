<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem with languages, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem with languages NSIS Discussion" />
	
	<title> Problem with languages [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem with languages</div>
<hr />
<div class="pda"><a href="t-251484.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=251484">Problem with languages</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Batya</div><div class="date">19th July 2006, 14:52</div></div><div class="posttext">Hello!<br />
I use NSIS to create multilanguage installer.<br />
<br />
In main file I create Combobox with languages like this:<br />
;==================================<br />
; Languages<br />
!insertmacro LCM_LANGUAGE &quot;English&quot;<br />
!insertmacro LCM_LANGUAGE &quot;Russian&quot;<br />
!insertmacro LCM_LANGUAGE &quot;French&quot;<br />
!insertmacro LCM_LANGUAGE &quot;SimpChinese&quot;<br />
!insertmacro LCM_LANGUAGE &quot;Japanese&quot;<br />
!insertmacro LCM_LANGUAGE &quot;Spanish&quot;<br />
<br />
I have .nsh files for all languages.<br />
For example:<br />
<br />
!insertmacro MUI_UNSET PCM_CUR_LANG<br />
!define PCM_CUR_LANG &quot;JAPANESE&quot;<br />
<br />
LangString TEXT_LANGUAGE_SHORT ${LANG_${PCM_CUR_LANG}} &quot;jp&quot;<br />
<br />
; Registration dialog<br />
LangString TEXT_AUTHORIZE_TITLE ${LANG_${PCM_CUR_LANG}} &quot;***21830;***21697;***12398;***30331;***37682;&quot;<br />
<br />
When I'm saving file with Unicode or Utf-8 makensisw returns an error:<br />
<br />
!insertmacro: end of MUI_LANGUAGE<br />
Invalid command: ï»¿!insertmacro<br />
!include: error in script: &quot;languages\Japanese.nsh&quot; on line 1<br />
Error in macro LCM_LANGUAGE on macroline 7<br />
!include: error in script: &quot;installer.nsh&quot; on line 86<br />
Error in script &quot;D:\Work\VisualStudio\PowerCompres\1.2.16 (Back up) Base Version\AMD LIVE! Compress\Full\installer\installer_def.nsi&quot; on line 25 -- aborting creation process<br />
<br />
In other case (when I'm saving .nsh file with japanese codepage) makensisw compiles my code. But when I run the compiled installation the text what I see is not a valid japanese text.<br />
Problem is with Japanese and Chinese. French, Spanish, Russian are OK.<br />
<br />
If anyone knows the solution of this problem, please, tell me.<br />
<br />
Thank you in advance!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th July 2006, 18:58</div></div><div class="posttext">NSIS installers are not Unicode enabled. You must select the correct language for non-Unicode applications in the Regional and Language Options control panel in order to view the text correctly.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>