<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" color examples?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  color examples? NSIS Discussion" />
	
	<title> color examples? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  color examples?</div>
<hr />
<div class="pda"><a href="t-152226.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=152226">color examples?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">11th October 2003, 01:20</div></div><div class="posttext">Could I please get some complete examples on how to color the dialogs and controls using nsis. I know I have had responses to my postings but have not once received a complete example and I cannot get the pieces to work. I searched the forums for examples but only found pieces of script related to color changing. Thanks in advance for the assistance. My goal is to get the background of all of the controls and dialogs colored white. I am using custom pages as well as the defaults with the modern UI.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">11th October 2003, 13:08</div></div><div class="posttext">It has been explained how you can change these colors. Please take some time to read the documentation / Modern UI Readme. If you have created a script and still have problems, attach it so people can have a look at it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">12th October 2003, 19:24</div></div><div class="posttext">Here is an example script that does not seem to work for me....<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
Name &quot;Color Test 1.0&quot;<br />
OutFile &quot;colortest.exe&quot;<br />
<br />
Var HWND<br />
Var DLGITEM<br />
<br />
Page custom CustomPageA<br />
!insertmacro MUI_PAGE_FINISH<br />
  <br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
ReserveFile &quot;ioA.ini&quot;<br />
!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
<br />
Section test<br />
<br />
SectionEnd<br />
<br />
Function .onInit<br />
<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ioA.ini&quot;<br />
  <br />
FunctionEnd<br />
<br />
Function CustomPageA<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;text1&quot; &quot;text2&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioA.ini&quot;<br />
  Pop $HWND<br />
    <br />
  GetDlgItem $DLGITEM $HWND 1078<br />
  SetCtlColors $DLGITEM FFFFFF FF0000 <br />
  !insertmacro MUI_INSTALLOPTIONS_SHOW<br />
<br />
FunctionEnd <br />
<br />
<br />
How do you determine the dialog id number? I have tried several and still does not color anything?<br />
<br />
ioA.ini ...<br />
<br />
<br />
[Settings]<br />
NumFields=2<br />
<br />
[Field 1]<br />
Type=label<br />
Text=Install Options Page A<br />
Left=0<br />
Right=-1<br />
Top=0<br />
Bottom=10<br />
<br />
[Field 2]<br />
Type=label<br />
Text=test text<br />
Left=0<br />
Right=-1<br />
Top=20<br />
Bottom=30</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">12th October 2003, 19:35</div></div><div class="posttext">Please read the &quot;Call InstallOptions&quot; section in the Modern UI documentation. You have to use the InstallOptions initdialog/show macros.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">13th October 2003, 21:54</div></div><div class="posttext">Ok, have everythign working except the background color of the inner dialogs. what is the appropriate way to do this for the license page and custom pages. I also seem to have a problem with my header text not refreshing when I change pages. It just writes over the previous text.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th October 2003, 13:50</div></div><div class="posttext">You can find the inner dialog using:<br />
<br />
FindWindow $R0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">14th October 2003, 23:33</div></div><div class="posttext">I have everything working except I cannot figure out how to get the inner dialog of the license page to change color. Can someone please point me in the right direction. Where does it belong?<br />
<br />
<br />
	FindWindow $HWND &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
	Pop $HWND<br />
<br />
	GetDlgItem $DLGITEM $HWND 102<br />
	SetCtlColors $DLGITEM 000000 FFFFFF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">15th October 2003, 01:23</div></div><div class="posttext">Try this (to work with custom pages):<br />
<br />
!insertmacro MUI_HEADER_TEXT &quot;text1&quot; &quot;text2&quot; <br />
!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;ioA.ini&quot; <br />
Pop $HWND <br />
<br />
GetDlgItem $DLGITEM $HWND 1201 ;1201 is 1200 + Field Number - 1<br />
SetCtlColors $DLGITEM FFFFFF FF0000<br />
!insertmacro MUI_INSTALLOPTIONS_SHOW<br />
<br />
And to use with the license page, is complicated to explain in 30 minutes! Someone can answer it.<br />
<br />
A suggestion:<br />
<br />
Have a command to paint all the dialog background to a color (including external parts of controls).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billym</div><div class="date">15th October 2003, 14:55</div></div><div class="posttext">All of this has worked but still unable to get the inner dialog of the license page to change color.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th October 2003, 16:33</div></div><div class="posttext">Which version of NSIS are you using?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">15th October 2003, 22:34</div></div><div class="posttext">If SetCtlControls works, is using about the latest development snapshot. If someone don't answer first (that will occur), I will say all the controls to color (the external part of them) and how to paint the rest.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th October 2003, 22:51</div></div><div class="posttext">Originally posted by billym <br />
All of this has worked but still unable to get the inner dialog of the license page to change color. <br />
<br />
By the fact that you have mentioned only the license page I assume you're talking about the license data itself. This is set using LicenseBkColor (http://nsis.sourceforge.net/Docs/Chapter4.html#4.8.1.24).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>