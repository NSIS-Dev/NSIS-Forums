<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Umlauts in Select Components ListBox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Umlauts in Select Components ListBox NSIS Discussion" />
	
	<title> Umlauts in Select Components ListBox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Umlauts in Select Components ListBox</div>
<hr />
<div class="pda"><a href="t-65602.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=65602">Umlauts in Select Components ListBox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">F. Heidenreich</div><div class="date">14th November 2001, 06:44</div></div><div class="posttext">Hi there,<br />
<br />
I have a small problem with NSIS 1.65: when I use umlauts to describe a section in my nsi-script, I get a y with two points above, in front of every umlaut in the section-string that appears in the select components listbox. Has anyone an idea how to fix this. I've looked to the code but I didn't found the reason for this problem.<br />
<br />
Thanks for any suggestions<br />
~ Flo</div></div><hr />


<div class="post"><div class="posttop"><div class="username">F. Heidenreich</div><div class="date">14th November 2001, 16:32</div></div><div class="posttext">Hi there again,<br />
<br />
I spent some time on the debugger an I noticed that<br />
CEXEBuild::preprocess_string() add these strange characters in front of the umlauts.<br />
The value of i is 252 on the umlaut according to the character u and thats why the lines:<br />
<br />
if (i &gt;= VAR_CODES_START)<br />
  *out++ = (char)255;<br />
<br />
add the y with the two points above.<br />
The two lines mentioned above are the 'Test for characters extending into the variable codes', but I think (but I'm not sure!) this test should be only performed on in-strings with the length of 1.<br />
So I hacked<br />
<br />
if (strlen(in) == 1 &amp;&amp; i &gt;= VAR_CODES_START)<br />
      *out++ = (char)255;<br />
<br />
and it works fine for me :) <br />
<br />
Did I overlook something?<br />
<br />
Thanks for any suggestions<br />
<br />
~ Flo</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">14th November 2001, 19:19</div></div><div class="posttext">Actually this is a bug I introduced. The routine add_string() in build.cpp was not passing the 'process' parameter to add_string_main(). Which was causing this string to be processed, when it should not have been. I will put the fix in 1.66.<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">F. Heidenreich</div><div class="date">15th November 2001, 11:50</div></div><div class="posttext">Hi Justin,<br />
<br />
thank you for the upcoming fix (I've already suspected, that my fix isn't on the right place :) ) and thank you very much for NSIS!<br />
<br />
Regards,<br />
~ Flo</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>