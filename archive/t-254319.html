<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CustomPage title, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CustomPage title NSIS Discussion" />
	
	<title> CustomPage title [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CustomPage title</div>
<hr />
<div class="pda"><a href="t-254319.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=254319">CustomPage title</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">OsmanY22</div><div class="date">28th August 2006, 14:46</div></div><div class="posttext">Hi...<br />
<br />
I want to change the customPage title:<br />
<br />
The title of my custompage ist, with this code, the title of the &quot;MUI_PAGE_INSTFILES&quot;.<br />
<br />
<br />
    !insertmacro MUI_PAGE_DIRECTORY<br />
        Page custom SetCustom LeaveCustom   <br />
    !insertmacro MUI_PAGE_INSTFILES <br />
 <br />
<br />
How can i cange this??<br />
<br />
<br />
<br />
And 2. Question:<br />
<br />
I want to make an installer with only this custompage. Because this custompage edits some dokuments, like *.xml, *.conf, *.bat, ... <br />
<br />
How can i make a .exe file with only this custompage and this functions?????<br />
<br />
<br />
Section -main<br />
<br />
;-------------------------<br />
    ;Config.xml<br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - Applikationsserver<br />
    Push '        &lt;env_param name=&quot;java.naming.provider.url&quot; value=&quot;ormi://$OCIP:23791/mediamid&quot;/&gt;'<br />
    Push 7<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - Applikationsserver<br />
    Push '        &lt;env_param name=&quot;java.naming.security.principal&quot; value=&quot;$OCUSER&quot;/&gt;'<br />
    Push 8<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - Applikationsserver<br />
    Push '        &lt;env_param name=&quot;java.naming.security.credentials&quot; value=&quot;$OCPWD&quot;/&gt;'<br />
    Push 9<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - Backup<br />
    Push &quot;    &lt;backupdir&gt;$INSTDIR\backup&lt;/backupdir&gt;&quot;<br />
    Push 24<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - Home<br />
    Push &quot;    &lt;homedirectory&gt;$INSTDIR&lt;/homedirectory&gt;&quot;<br />
    Push 30<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - ImportExport<br />
    Push &quot;    &lt;searchdir&gt;$INSTDIR\importexport&lt;/searchdir&gt;&quot;<br />
    Push 49<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - ImportExport<br />
    Push &quot;    &lt;exportdir&gt;$INSTDIR\importexport&lt;/exportdir&gt;&quot;<br />
    Push 54<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - Applikationsserver<br />
    Push &quot;&lt;!--    &lt;applicationserver&gt;$OCIP&lt;/applicationserver&gt; --&gt;&quot;<br />
    Push 60<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - buffer<br />
    Push &quot;    &lt;bufferdirectory&gt;$INSTDIR\temp\buffer&lt;/bufferdirectory&gt;&quot;<br />
    Push 81<br />
    Push &quot;$INSTDIR\conf.oc4j\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;-------------------------<br />
    ;Conversion.xml<br />
     ;Pfade von Ordnern Ã¤ndern im conf.Datei - bin<br />
    Push &quot;       &lt;binaries&gt;$INSTDIR\bin&lt;/binaries&gt;&quot;<br />
    Push 3<br />
    Push &quot;$INSTDIR\conf.oc4j\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - uploadbuffer<br />
    Push &quot;                 &lt;uploadbuffer&gt;$INSTDIR\temp\uploadbuffer&lt;/uploadbuffer&gt;&quot;<br />
    Push 4<br />
    Push &quot;$INSTDIR\conf.oc4j\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - Rollback<br />
    Push &quot;                 &lt;rollbackbuffer&gt;$INSTDIR\temp\rollback&lt;/rollbackbuffer&gt;&quot;<br />
    Push 5<br />
    Push &quot;$INSTDIR\conf.oc4j\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - Tempfiles<br />
    Push &quot;        &lt;temp&gt;$INSTDIR\temp\tempfiles&lt;/temp&gt;&quot;<br />
    Push 6<br />
    Push &quot;$INSTDIR\conf.oc4j\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;Pfade von Ordnern Ã¤ndern im conf.Datei - HOST<br />
    Push &quot;        &lt;host&gt;$OCIP&lt;/host&gt;&quot;<br />
    Push 12<br />
    Push &quot;$INSTDIR\conf.oc4j\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
    ;-------------------------<br />
    ;conf.WAS.xml<br />
    ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - Applicationsserver<br />
    Push '        &lt;env_param name=&quot;java.naming.provider.url&quot; value=&quot;ormi://$IPINPUT:23791/mediamid&quot;/&gt;'<br />
    Push 7<br />
    Push &quot;$INSTDIR\conf.was\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - Backup<br />
    Push &quot;    &lt;backupdir&gt;$INSTDIR\backup&lt;/backupdir&gt;&quot;<br />
    Push 29<br />
    Push &quot;$INSTDIR\conf.was\conf.xml&quot;<br />
    Call WriteToFileLine<br />
      ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - Home<br />
    Push &quot;    &lt;homedirectory&gt;$INSTDIR&lt;/homedirectory&gt;&quot;<br />
    Push 23<br />
    Push &quot;$INSTDIR\conf.was\conf.xml&quot;<br />
    Call WriteToFileLine<br />
      ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - Search<br />
    Push &quot;    &lt;searchdir&gt;$INSTDIR\importexport&lt;/searchdir&gt;&quot;<br />
    Push 36<br />
    Push &quot;$INSTDIR\conf.was\conf.xml&quot;<br />
    Call WriteToFileLine<br />
      ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - Export<br />
    Push &quot;    &lt;exportdir&gt;$INSTDIR\importexport&lt;/exportdir&gt;&quot;<br />
    Push 40<br />
    Push &quot;$INSTDIR\conf.was\conf.xml&quot;<br />
    Call WriteToFileLine<br />
     ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - Home<br />
    Push &quot;    &lt;applicationserver&gt;$IPINPUT&lt;/applicationserver&gt;&quot;<br />
    Push 47<br />
    Push &quot;$INSTDIR\conf.was\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - buffer<br />
    Push &quot;    &lt;bufferdirectory&gt;$INSTDIR\temp\buffer&lt;/bufferdirectory&gt;&quot;<br />
    Push 61<br />
    Push &quot;$INSTDIR\conf.was\conf.xml&quot;<br />
    Call WriteToFileLine<br />
    <br />
       ;-------------------------<br />
    ;Conversion.xml<br />
     ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - bin<br />
    Push &quot;       &lt;binaries&gt;$INSTDIR\bin&lt;/binaries&gt;&quot;<br />
    Push 3<br />
    Push &quot;$INSTDIR\conf.was\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
     ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - uploadbuffer<br />
    Push &quot;                 &lt;uploadbuffer&gt;$INSTDIR\temp\uploadbuffer&lt;/uploadbuffer&gt;&quot;<br />
    Push 4<br />
    Push &quot;$INSTDIR\conf.was\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
    ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - Rollback<br />
    Push &quot;                 &lt;rollbackbuffer&gt;$INSTDIR\temp\rollback&lt;/rollbackbuffer&gt;&quot;<br />
    Push 5<br />
    Push &quot;$INSTDIR\conf.was\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
    ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - Tempfiles<br />
    Push &quot;        &lt;temp&gt;$INSTDIR\temp\tempfiles&lt;/temp&gt;&quot;<br />
    Push 6<br />
    Push &quot;$INSTDIR\conf.was\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
    ;Pfade von Ordnern Ã¤ndern im conf.wasDatei - HOST<br />
    Push &quot;        &lt;host&gt;$IPINPUT&lt;/host&gt;&quot;<br />
    Push 12<br />
    Push &quot;$INSTDIR\conf.was\conversion.xml&quot;<br />
    Call WriteToFileLine<br />
Sectionend<br />
<br />
Function WriteToFileLine<br />
    Exch $0 ;file<br />
    Exch<br />
    Exch $1 ;line number<br />
    Exch 2<br />
    Exch $2 ;string to write<br />
    Exch 2<br />
    Push $3<br />
    Push $4<br />
    Push $5<br />
    Push $6<br />
    Push $7<br />
     <br />
    GetTempFileName $7<br />
    FileOpen $4 $0 r<br />
    FileOpen $5 $7 w<br />
    StrCpy $3 0<br />
    <br />
    Loop:<br />
    ClearErrors<br />
    FileRead $4 $6<br />
    IfErrors Exit<br />
     IntOp $3 $3 + 1<br />
     StrCmp $3 $1 0 +3<br />
    FileWrite $5 &quot;$2$\r$\n$6&quot;<br />
    Goto Loop<br />
    FileWrite $5 $6<br />
    Goto Loop<br />
    Exit:<br />
     <br />
     FileClose $5<br />
     FileClose $4<br />
     <br />
    SetDetailsPrint none<br />
    Delete $0<br />
    Rename $7 $0<br />
    SetDetailsPrint both<br />
     <br />
    Pop $7<br />
    Pop $6<br />
    Pop $5<br />
    Pop $4<br />
    Pop $3<br />
    Pop $2<br />
    Pop $1<br />
    Pop $0<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">28th August 2006, 16:37</div></div><div class="posttext">For question #1:<br />
Look in the MUI documentation:<br />
Insert these before the page function:<br />
<br />
LangString TEXT_IO_TITLE ${LANG_ENGLISH} &quot;Install Options Page Title&quot;<br />
LangString TEXT_IO_SUBTITLE ${LANG_ENGLISH} &quot;A subtitle&quot;<br />
<br />
and then this in the page's show function (in your case &quot;SetFunction&quot;):<br />
<br />
!insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
<br />
See the MUI documenation/examples for more details.<br />
<br />
For question #2:<br />
If you want to just take the code you posted and turn it into an EXE with the custom page, then just create a install script in which you only have that section and function along with the functions generating the custom page.  (This is pretty basic.  If you're still unsure, take some time to review the documentation and examples included with NSIS.)<br />
<br />
And by the way:<br />
Don't post long bits of script.  Use attachments (http://forums.winamp.com/announcement.php?forumid=65) instead.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>