<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" somewhat nonstandard help for newbie, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  somewhat nonstandard help for newbie NSIS Discussion" />
	
	<title> somewhat nonstandard help for newbie [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  somewhat nonstandard help for newbie</div>
<hr />
<div class="pda"><a href="t-217230.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=217230">somewhat nonstandard help for newbie</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jameshcunningha</div><div class="date">27th May 2005, 20:54</div></div><div class="posttext">Hi.  I hope that the question I'll be asking isn't too stupid: I've looked everywhere, but I can't find enough information to do what I want to do (especially in the time frame that's been given to me).  Even a nudge in the right direction would be appreciated.<br />
<br />
I'm trying to write an nsis procedure that installs a service pack to patch a large program.  It'll have to extract archives, copy files, etc., and most of that's not hard to do.<br />
<br />
Through use of some help docs I've thrown together a page that should ask the user where to find a certain directory, and that shouldn't let the user continue with the procedure if a particular file (tar.exe) does not exist on that directory.<br />
<br />
The page's creator function looks like this:<br />
<br />
Function FindingTarPage<br />
    !insertmacro MUI_HEADER_TEXT &quot;$(FINDTAR_TITLE)&quot; &quot;$(FINDTAR_SUBTITLE)&quot;<br />
    !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;FindTar&quot;<br />
    !insertmacro MUI_INSTALLOPTIONS_READ $locOfTar &quot;FindTar&quot; &quot;Field 2&quot; &quot;State&quot;<br />
FunctionEnd<br />
<br />
Is there some way to make it so that the user can click back without choosing a correct directory, while being unable to click forward?  I'm finding the MUI code pretty incomprehensible.<br />
<br />
(Current solution: putting code like the following at the end of the creator function, which is - obviously - quite suboptimal.)<br />
<br />
    IfFileExists $locOfTar\tar.exe +3 0<br />
    MessageBox MB_OKCANCEL &quot;tar.exe is not present in that directory.  Try again, or press cancel to exit the installer.&quot; IDOK -4 IDCANCEL 0<br />
    Quit</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MichaelFlya</div><div class="date">27th May 2005, 21:15</div></div><div class="posttext">Try This.<br />
<br />
<br />
<br />
Function .onVerifyInstDir<br />
    IfFileExists $locOfTar\tar.exe PathGood<br />
     Abort<br />
    PathGood:<br />
FunctionEnd<br />
<br />
<br />
-MichaelFlya-</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jameshcunningha</div><div class="date">31st May 2005, 17:39</div></div><div class="posttext">Cool - I wasn't aware of that particular callback.  Thank you!<br />
<br />
One thing I'd like to do is define a custom page where pressing &quot;next&quot;, &quot;back&quot;, and &quot;cancel&quot; each operate on different conditions.  In my example above, &quot;back&quot; and &quot;next&quot; only work on the same conditions: if $locOfTar\tar.exe exists.  Is there some way I can make it so that the user can press back no matter what's going on?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>