<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" how to change $SMPROGRAMS to a non default path, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  how to change $SMPROGRAMS to a non default path NSIS Discussion" />
	
	<title> how to change $SMPROGRAMS to a non default path [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  how to change $SMPROGRAMS to a non default path</div>
<hr />
<div class="pda"><a href="t-282063.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282063">how to change $SMPROGRAMS to a non default path</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">MoshiachNow</div><div class="date">25th November 2007, 09:09</div></div><div class="posttext">HI,<br />
<br />
As simple one.<br />
<br />
I need to change the link path for my program which currently is created under &quot;Start-&gt;Programs&quot; ($SMPROGRAMS).<br />
<br />
The code is :<br />
<br />
Section -post SEC0001<br />
    WriteRegStr HKLM &quot;${REGKEY}&quot; Path $INSTDIR<br />
    WriteRegStr HKLM &quot;${REGKEY}&quot; StartMenuGroup $StartMenuGroup<br />
    WriteUninstaller $INSTDIR\uninstall.exe<br />
    SetOutPath $SMPROGRAMS\$StartMenuGroup<br />
    CreateShortcut &quot;$SMPROGRAMS\$StartMenuGroup\Uninstall $(^Name).lnk&quot; $INSTDIR\uninstall.exe<br />
    SetOutPath $INSTDIR<br />
    CreateShortcut &quot;$SMPROGRAMS\$StartMenuGroup\$(^Name).lnk&quot; $INSTDIR\colorserver_upd.exe<br />
====================<br />
How do I change the $SMPROGRAMS path to point to some non default link path (already existing) ?<br />
thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th November 2007, 15:21</div></div><div class="posttext">I don't understand what you mean? Are you talking about the link start in path? That is set with SetOutPath.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MoshiachNow</div><div class="date">26th November 2007, 06:13</div></div><div class="posttext">Yes,<br />
<br />
I need to change the link only from $SMPROGRAMS to som eother customer created link.ex:<br />
<br />
start-&gt;All Programs-&gt;cx250-&gt;cx250 tools</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th November 2007, 09:30</div></div><div class="posttext">What is wrong with typing &quot;$SMPROGRAMS\$StartMenuGroup\cx250 tools\&quot;?? Or even &quot;$SMPROGRAMS\cx250\cx250 tools\&quot;??<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MoshiachNow</div><div class="date">26th November 2007, 09:59</div></div><div class="posttext">Thanks,I got it.<br />
Another question.<br />
<br />
the &quot;cx250&quot; is product dependent and I must get it from some envitomental variable.<br />
Normally the variable %scisys% will hold: &quot;c:/cx250&quot;.<br />
What is the way to set param $product from the above to be equal to &quot;cx250&quot; ?<br />
(I have no experience with doing this in NSIS environment...)<br />
thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th November 2007, 10:11</div></div><div class="posttext">Assuming it is always X:/... then you could do this:<br />
<br />
ReadEnvStr $R0 SCISYS<br />
StrCpy $R0 $R0 `` 3<br />
<br />
$R0 would now be your 'cx250'.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MoshiachNow</div><div class="date">26th November 2007, 11:09</div></div><div class="posttext">Great !<br />
<br />
I have now added :<br />
section<br />
#set the product link path<br />
ReadEnvStr $Product SCISYS<br />
StrCpy $Product $Product `` 3<br />
StrCpy $StartMenuGroup &quot;$Product\$Product Tools&quot; <br />
<br />
And installer creates the links as required under:<br />
start-&gt;All Programs-&gt;cx250-&gt;cx250 tools<br />
<br />
The problem is that the above link already exists,created by the cx250 product installation (It appears above the top separator line in start-&gt;all programs).<br />
I need to install my staff there,without creating an extra identical link...<br />
thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th November 2007, 13:43</div></div><div class="posttext">Then either delete the original first or create your own with a different name or in a different folder.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>