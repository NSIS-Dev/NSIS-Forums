<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom Page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom Page NSIS Discussion" />
	
	<title> Custom Page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom Page</div>
<hr />
<div class="pda"><a href="t-220542.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=220542">Custom Page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Sp33dy Gonzale$</div><div class="date">3rd July 2005, 13:30</div></div><div class="posttext">Hy I would make an custom page. The page has an checkbox and when the checkbox is actived I would replace an text in a line.<br />
<br />
( http://nsis.sourceforge.net/wiki/Replace_text_on_a_file_line_number )<br />
<br />
But how can I do this ? <br />
<br />
Then I would like that some checkboxes are current actived and some how are current not actived.<br />
<br />
<br />
Pls help me</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy Gonzale$</div><div class="date">3rd July 2005, 15:23</div></div><div class="posttext">Hy,<br />
I've tryed to write the code but there must be somthing wrong. It comes always an error.<br />
<br />
What is wrong?<br />
<br />
<br />
Page custom FeauturesPage PageLeaveFeautures<br />
<br />
; Funtions<br />
Function .onInit<br />
<br />
   !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;feautures.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
Function RIF<br />
<br />
  ClearErrors  ; want to be a newborn<br />
<br />
  Exch $0      ; REPLACEMENT<br />
  Exch<br />
  Exch $1      ; SEARCH_TEXT<br />
  Exch 2<br />
  Exch $2      ; SOURCE_FILE<br />
<br />
  Push $R0     ; SOURCE_FILE file handle<br />
  Push $R1     ; temporary file handle<br />
  Push $R2     ; unique temporary file name<br />
  Push $R3     ; a line to sar/save<br />
  Push $R4     ; shift puffer<br />
<br />
  IfFileExists $2 +1 RIF_error      ; knock-knock<br />
  FileOpen $R0 $2 &quot;r&quot;               ; open the door<br />
<br />
  GetTempFileName $R2               ; who's new?<br />
  FileOpen $R1 $R2 &quot;w&quot;              ; the escape, please!<br />
<br />
  RIF_loop:                         ; round'n'round we go<br />
    FileRead $R0 $R3                ; read one line<br />
    IfErrors RIF_leaveloop          ; enough is enough<br />
    RIF_sar:                        ; sar - search and replace<br />
      Push &quot;$R3&quot;                    ; (hair)stack<br />
      Push &quot;$1&quot;                     ; needle<br />
      Push &quot;$0&quot;                     ; blood<br />
      Call StrReplace               ; do the bartwalk<br />
      StrCpy $R4 &quot;$R3&quot;              ; remember previous state<br />
      Pop $R3                       ; gimme s.th. back in return!<br />
      StrCmp &quot;$R3&quot; &quot;$R4&quot; +1 RIF_sar ; loop, might change again!<br />
    FileWrite $R1 &quot;$R3&quot;             ; save the newbie<br />
  Goto RIF_loop                     ; gimme more<br />
<br />
  RIF_leaveloop:                    ; over'n'out, Sir!<br />
    FileClose $R1                   ; S'rry, Ma'am - clos'n now<br />
    FileClose $R0                   ; me 2<br />
<br />
    Delete &quot;$2.old&quot;                 ; go away, Sire<br />
    Rename &quot;$2&quot; &quot;$2.old&quot;            ; step aside, Ma'am<br />
    Rename &quot;$R2&quot; &quot;$2&quot;               ; hi, baby!<br />
<br />
    ClearErrors                     ; now i AM a newborn<br />
    Goto RIF_out                    ; out'n'away<br />
<br />
  RIF_error:                        ; ups - s.th. went wrong...<br />
    SetErrors                       ; ...so cry, boy!<br />
<br />
  RIF_out:                          ; your wardrobe?<br />
  Pop $R4<br />
  Pop $R3<br />
  Pop $R2<br />
  Pop $R1<br />
  Pop $R0<br />
  Pop $2<br />
  Pop $0<br />
  Pop $1<br />
<br />
FunctionEnd<br />
<br />
; Feautures Page<br />
Function FeauturesPage<br />
<br />
   !insertmacro MUI_HEADER_TEXT &quot;Konfiguration des Erweiterungs System&quot; &quot;Wählen sie die Plugins aus, die aktiviert werden sollen.&quot;<br />
<br />
FunctionEnd<br />
<br />
; Page Leave Feautures<br />
Function PageLeaveFeautures<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_READ $R0 &quot;feautures.ini&quot; &quot;Field 1&quot; &quot;State&quot;<br />
StrCmp $R0 &quot;1&quot; 0 +2<br />
!insertmacro ReplaceInFile &quot;$INSTDIR\cstrike\addons\amxmodx\configs\pausecfg.ini&quot; &quot;AntiCamping Advanced&quot; &quot;AntiCamping Advanced 2&quot;<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd July 2005, 16:34</div></div><div class="posttext">You need to put:<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;feautures.ini&quot;<br />
in the FeauturesPage function under !insertmacro MUI_HEADER_TEXT<br />
<br />
Also,<br />
StrCmp $R0 &quot;1&quot; 0 +2<br />
!insertmacro ReplaceInFile &quot;$INSTDIR\cstrike\addons\amxmodx\configs\pausecfg.ini&quot; &quot;AntiCamping Advanced&quot; &quot;AntiCamping Advanced 2&quot;<br />
will not work. the ReplaceInFile macro will contain more than one command, so you need to do:<br />
StrCmp $R0 &quot;1&quot; 0 noReplace<br />
!insertmacro ReplaceInFile &quot;$INSTDIR\cstrike\addons\amxmodx\configs\pausecfg.ini&quot; &quot;AntiCamping Advanced&quot; &quot;AntiCamping Advanced 2&quot;<br />
noReplace:<br />
<br />
Finally, where's the ReplaceInFile !macro? Have you put it in your code?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy Gonzale$</div><div class="date">3rd July 2005, 18:57</div></div><div class="posttext">Yes IT WORKS <br />
<br />
Thank you Affrow UK.<br />
<br />
Only one question:<br />
<br />
Is it possible to start the custom page only if the Section Mod was activited and installed?<br />
<br />
Thank you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">4th July 2005, 09:11</div></div><div class="posttext">Yes of course. You need to jump over the !insertmacro MUI_INSTALLOPTIONS_DISPLAY call like so:<br />
<br />
!include Sections.nsh<br />
<br />
; Feautures Page<br />
Function FeauturesPage<br />
<br />
!insertmacro SectionFlagIsSet ${Mod} ${SF_SELECTED} Display Skip<br />
Display:<br />
!insertmacro MUI_HEADER_TEXT &quot;Konfiguration des Erweiterungs System&quot; &quot;Wählen sie die Plugins aus, die aktiviert werden sollen.&quot;<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;feautures.ini&quot;<br />
Skip:<br />
<br />
FunctionEnd<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy Gonzale$</div><div class="date">5th July 2005, 13:59</div></div><div class="posttext">Hy<br />
thank you for your answer<br />
<br />
But there is a problem I always become an warning unknown variable {Mod} ignoring...<br />
<br />
I've tried to write<br />
<br />
<br />
!include &quot;Sections.nsh&quot;<br />
<br />
; Feautures Page<br />
Function FeauturesPage<br />
<br />
!insertmacro SectionFlagIsSet ${2(because it is section2)} ${SF_SELECTED} Display Skip<br />
Display:<br />
!insertmacro MUI_HEADER_TEXT &quot;Konfiguration des Erweiterungs System&quot; &quot;Wählen sie die Plugins aus, die aktiviert werden sollen.&quot;<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;feautures.ini&quot;<br />
Skip:<br />
<br />
FunctionEnd<br />
<br />
But it doesn't works</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th July 2005, 14:58</div></div><div class="posttext">http://forums.winamp.com/showthread.php?threadid=220713<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy Gonzale$</div><div class="date">5th July 2005, 17:10</div></div><div class="posttext">Thank you it works</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy Gonzale$</div><div class="date">5th July 2005, 17:13</div></div><div class="posttext">Yes I know I've a lot of questions <br />
<br />
Sorry<br />
<br />
But can I add an description like in the MUI_PAGE_COMPONENTS with MUI_COMPONENTSPAGE_SMALLDESC ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th July 2005, 17:15</div></div><div class="posttext">Add a description for..?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sp33dy Gonzal$</div><div class="date">5th July 2005, 19:10</div></div><div class="posttext">Ah sure I haven't write . Sry<br />
<br />
<br />
My custom Page has 6 Checkboxes and I would like when the user move with the mouse over one of the checkboxes an description of the checkbox comes.<br />
<br />
This is my feautures.ini (This is only one Field but I've six) <br />
<br />
[Settings]<br />
NumFields=1<br />
<br />
[Field 1]<br />
Type=Checkbox<br />
Text=Enhanced-Death Plugin <br />
<br />
This Should be in the description like in the components description: <br />
<br />
(Roter Bildschirm wenn man stirbt)<br />
<br />
State=1<br />
Left=149<br />
Right=308<br />
Top=3<br />
Bottom=17</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th July 2005, 19:29</div></div><div class="posttext">This isn't possible with standard InstallOptions.<br />
It's probably possible with InstallOptionsEx, but there it gets more complicated.<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>