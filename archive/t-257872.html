<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" InstallOptions::show gives error, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  InstallOptions::show gives error NSIS Discussion" />
	
	<title> InstallOptions::show gives error [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  InstallOptions::show gives error</div>
<hr />
<div class="pda"><a href="t-257872.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=257872">InstallOptions::show gives error</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ajaywm</div><div class="date">19th October 2006, 10:48</div></div><div class="posttext">The following code gives an Application error.<br />
InstallOptions::show<br />
<br />
Please refer to the attached image.<br />
<br />
Thanks &amp; Regards,<br />
Ajay Chawla</div></div><hr />


<div class="post"><div class="posttop"><div class="username">saschagottfried</div><div class="date">19th October 2006, 11:10</div></div><div class="posttext">Please always provide code samples with more than one line.<br />
<br />
1)Did you used this statement:<br />
<br />
InstallOptions::initDialog /NOUNLOAD $PLUGINSDIR\yourfile.ini <br />
<br />
before you called your &quot;InstallOptions::show&quot;<br />
<br />
Some plugins crash if you do not use /NOUNLOAD option.<br />
<br />
2) Did you extracted your file to $PLUGINSDIR like shown below???<br />
<br />
Function .onInit<br />
<br />
  InitPluginsDir<br />
  File /oname=$PLUGINSDIR\test.ini test.ini<br />
<br />
FunctionEnd<br />
<br />
My advice is READ carefully InstallOptions README, second is execute and study the Installoptions examples that are shipped with NSIS. As well you can use MUI macros for Installoptions show in NSIS help - &quot;Using InstallOptions for custom pages&quot;.<br />
<br />
Good luck!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajaywm</div><div class="date">19th October 2006, 14:37</div></div><div class="posttext">main.nsi contains 2 the 'page custom' statements for test1.nsi and test2.nsi.<br />
<br />
<br />
main.nsi<br />
page custom showTest1 LeaveTest1<br />
page custom showTest2 LeaveTest2<br />
<br />
<br />
--------------test2.nsi-------------------------------<br />
Var hwnd<br />
!define BM_SETCHECK 0x00F1<br />
Function ShowTest1<br />
 call IsSQLExpressInstalled<br />
 pop $3<br />
 strcmp $3 &quot;1&quot; Exit +1<br />
<br />
 call IsSQLServer2005Installed <br />
 pop $3<br />
 strcmp $3 &quot;1&quot; Exit +1<br />
 <br />
 InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\SqlProducts.ini&quot;<br />
 Pop $hwnd<br />
 InstallOptions::show<br />
 Pop $0<br />
Exit:<br />
FunctionEnd<br />
; Other functions......<br />
<br />
When I click next on Test1, It successfully executes InstallOptions::initDialog and then it generates 'Application Error' attached above.<br />
<br />
Thanks<br />
Ajay Chawla</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th October 2006, 17:35</div></div><div class="posttext">Attach your INI file.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajaywm</div><div class="date">30th October 2006, 07:47</div></div><div class="posttext">Please find the attached SqlProducts.ini file<br />
<br />
Thanks <br />
Ajay Chawla</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th October 2006, 11:03</div></div><div class="posttext">INI file is fine, except the image control path should just be &quot;image.bmp&quot;.<br />
Are you actually extracting the INI file to $PLUGINSDIR?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajaywm</div><div class="date">30th October 2006, 12:49</div></div><div class="posttext">Yes, I have extracted image.bmp using<br />
<br />
File /oname=$PLUGINSDIR\image.bmp &quot;image.bmp&quot;<br />
<br />
Here is the attached nsi file. This might help trace the error.<br />
<br />
Thanks,<br />
Ajay Chawla</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">30th October 2006, 13:08</div></div><div class="posttext">The path in the INI file to the image should just be &quot;image.bmp&quot;... <br />
Text=image.bmp<br />
It's probably crashing because you've got \\ instead of \ in the INI file path on the InstallOptions call. You don't need two. That only applies in the INI file itself.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th October 2006, 19:36</div></div><div class="posttext">I can't get your code to crash with a stack overflow. Attach a complete example that reproduces the crash and state the NSIS version used.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>