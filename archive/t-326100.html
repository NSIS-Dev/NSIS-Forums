<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Please add an optional no text CRC progress dialog, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Please add an optional no text CRC progress dialog NSIS Discussion" />
	
	<title> Please add an optional no text CRC progress dialog [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Please add an optional no text CRC progress dialog</div>
<hr />
<div class="pda"><a href="t-326100.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=326100">Please add an optional no text CRC progress dialog</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">17th January 2011, 21:43</div></div><div class="posttext">Greetings:<br />
<br />
I have asked this in the past a few times and have been told that I just need to modify the NSIS source code. Unfortunately, our legal department does not allow us to touch the source code, so that option is out.<br />
<br />
The issue is that the initial &quot;Setup is validating... 99%&quot; (sorry, I know the text is incorrect) is in English with no option for localization nor for individual installer to adjust that text.<br />
<br />
Would it be possible to add an option for suppressing this text into the NSIS installer settings? The result would be the installer icon and a numerical percentage only on that dialog that should be self-evident to the customer as to what is going on.<br />
<br />
Is there any other ideas that anyone else has on resolving this? Turning off the CRC is pretty much out of the question as it could lead to installing corrupt data.<br />
<br />
Derek</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">17th January 2011, 23:29</div></div><div class="posttext">Did you try hex editing the stub? Replace the text with just %d%% (and a ending 0)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">18th January 2011, 02:30</div></div><div class="posttext">Sorry, I don't know all the files off hand. What is the file name of the stub? Thanks for the suggestion, I look forward to trying it out.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">18th January 2011, 07:00</div></div><div class="posttext">NSIS\stubs<br />
<br />
Something like http://img46.imageshack.us/img46/8029/stub.png</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">18th January 2011, 22:45</div></div><div class="posttext">Thanks Anders, I will take a shot at this.<br />
<br />
Back to the original issue. We have been joyfully using NSIS for about 8 years now and this is one of the issues that our Localization QA and Cert always ding us on and we have to fight back with &quot;Cannot Fix&quot;.<br />
<br />
Do you think that this is something that could be fixed natively within NSIS in some manner? Something like adding a new stub &quot;lzma_notext&quot; and SetCompressor support?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th January 2011, 00:15</div></div><div class="posttext">Why not get your coders to submit a patch? Or would your legal department not allow that?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">19th January 2011, 00:57</div></div><div class="posttext">We are not allowed to download the source code, thus we are blocked from that as well.<br />
<br />
I did find the string &quot;verifying installer: %d&quot; in the &quot;lzma&quot; stub but I could not find the string &quot;Please wait while Setup is loading...&quot; so hex editing the stub would only help with one part. If that string is stored elsewhere, please let me know and I would be willing to give it a shot.<br />
<br />
The primary concern is the message in the French market and the Toubon Law since those English strings are shown on a French OS.<br />
<br />
Thanks to both of you for responding on this matter.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">19th January 2011, 08:12</div></div><div class="posttext">http://nsis.svn.sourceforge.net/viewvc/nsis/NSIS/trunk/Source/exehead/lang.h?revision=6037&amp;view=markup shows the 6 hardcoded english strings, &quot;verifying installer: %d%%&quot; appears in all stubs, &quot;unpacking data: %d%%&quot; is only present when solid compression is used. I don't remember anything along the lines of &quot;Please wait while Setup is loading...&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th January 2011, 11:15</div></div><div class="posttext">Please wait while Setup is loading... is in MUI only. Without checking it is probably hard coded in modern.exe.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">19th January 2011, 15:29</div></div><div class="posttext">Please wait while Setup is loading... is in MUI only. Without checking it is probably hard coded in modern.exe.<br />
<br />
You are correct sir, thankfully it is easy to change that with ChangeUI and resource hacker</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">19th January 2011, 17:43</div></div><div class="posttext">Oh, ok, so this is a little more complicated and yes, we are using MUI2. Thanks again for your help.<br />
<br />
I have searched through the files in my NSIS install directory and I cannot find the &quot;Please wait while Setup is loading&quot; string in modern.exe or any other files. Can either of you direct me where I should be looking or if I shouldn't be looking for plain text?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">19th January 2011, 17:50</div></div><div class="posttext">Sorry, I forgot to search for text in wide format, so I did find &quot;Â‚Please wait while Setup is loading...&quot; in modern.exe<br />
<br />
A hacking I will go... a hacking I will go... :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th January 2011, 19:56</div></div><div class="posttext">You could have used Resource Hacker to modify modern.exe.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">19th January 2011, 20:01</div></div><div class="posttext">funny that, hacking the exe is fine but doing it the proper way in the code isn't allowed (sounds like you legal department have too many bugs of their own).<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">19th January 2011, 21:46</div></div><div class="posttext">You could have used Resource Hacker to modify modern.exe.<br />
I will, once I get back to this.<br />
<br />
funny that, hacking the exe is fine but doing it the proper way in the code isn't allowed<br />
<br />
At this point, it hasn't gone back to legal for approval (and I doubt they would give it). I am just trying to see if resolving this myself is even possible.<br />
<br />
Their core issue they have has to do with downloading open source source code. There aren't that many problems with using pre-compiled open source solutions (NSIS for example =).<br />
<br />
But to get back to the original point, it would certainly be beneficial if NSIS offered at least a No Text options for these messages natively. Even better if they were fully localized. Considering the massive and awesome localization support that NSIS offers (I have made internal version of our installers in pirate and wookie) the fact that this message is hard coded in English feels like a tragic oversight.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">20th January 2011, 18:00</div></div><div class="posttext">They can't be localized since the language stuff has not been loaded when that dialog is open</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">20th January 2011, 18:39</div></div><div class="posttext">They can't be localized since the language stuff has not been loaded when that dialog is open<br />
<br />
Fair enough and that makes sense. At that point a no text option would get us out of trouble with loc and cert.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JamesBellinger</div><div class="date">21st January 2011, 02:39</div></div><div class="posttext">Is there a reason those strings couldn't be localized by default for major languages? It would probably take under 1 KB.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">CrushBug</div><div class="date">21st January 2011, 17:41</div></div><div class="posttext">I think they could be, but the issue is more like there is no code in those stubs for OS system language detection. While the strings themselves could be small there would probably be challenges with detection and displaying the strings properly in all situations.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>