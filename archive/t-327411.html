<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS - Cookie - inetc ?!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS - Cookie - inetc ?! NSIS Discussion" />
	
	<title> NSIS - Cookie - inetc ?! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS - Cookie - inetc ?!</div>
<hr />
<div class="pda"><a href="t-327411.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=327411">NSIS - Cookie - inetc ?!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">phnz</div><div class="date">16th February 2011, 12:18</div></div><div class="posttext">Hello<br />
<br />
I would like to set a cookie with NSIS to confirm the installation with a php script.<br />
<br />
I read the wiki, i found a little thread but it's not verry usefull... <br />
http://nsis.sourceforge.net/Show_installation_success_on_web_page<br />
<br />
I try to access to the confirmation page with inetc::get (to be silent)<br />
<br />
My php don't see any cookie...<br />
I also track-it with Wireshark and no cookie in the header...<br />
<br />
<br />
System::Call &quot;wininet::InternetSetCookie(&quot;http://app.domain.com/download.php&quot;, &quot;title&quot;, &quot;aaa=ddd; expires = Wed, 30-May-2012 09:21:15&quot;)     <br />
<br />
inetc::get /SILENT &quot;http://app.domain.com/download.php&quot; &quot;$PLUGINSDIR\CORE.exe&quot; /end<br />
<br />
<br />
Thanks everyone !<br />
<br />
Sincerly,<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th February 2011, 13:22</div></div><div class="posttext">Without looking at the code, inetc probably doesn't read the IE cookies (I doubt people would want that by default). I wouldn't be surprised if it doesn't save cookies from requests either. Why do you need to use a cookie? Can't you just use POST?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phnz</div><div class="date">16th February 2011, 15:05</div></div><div class="posttext">I need to use a Cookie for validate. It's built-in.<br />
<br />
So i'll need to use another way? Build my own installer with VS ?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">16th February 2011, 19:33</div></div><div class="posttext">If you do not have control over the php script, you could build your own plugin to handle the cookiejar, I'm sure. Or you let the user download the file to $EXEDIR manually, or something...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">16th February 2011, 22:50</div></div><div class="posttext">Or you could modify inetc to suite. It uses WinInet.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">17th February 2011, 17:13</div></div><div class="posttext">Try version from 13 July 2010 - JohnTHaller modified Inetc	(Disabled cookies and cache for cleanliness). I partly rolled this back for situations with Resume option enabled (because it just not work with flags added by JohnTHaller, but it looks like would be better just to rollback to this version. Afrow, can you remove last 2 versions? http://nsis.sourceforge.net/File:Inetc.zip</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th February 2011, 18:25</div></div><div class="posttext">Done.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">18th February 2011, 08:37</div></div><div class="posttext">Good version from 13 July 2010 was removed :(. NP, I added /NOCOOKIES option (disabled by default) and only this option does what JohnTHaller wanted to have ;). New version uploaded. By default (no this option defined)  our old good inetc will have reget feature and will send cookies as earlier. Again - please note that /NOCOOKIES conflicts with reget!. Wiki page updated.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>