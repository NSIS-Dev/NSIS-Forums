<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Convert GetTempFilename to directory, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Convert GetTempFilename to directory NSIS Discussion" />
	
	<title> Convert GetTempFilename to directory [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Convert GetTempFilename to directory</div>
<hr />
<div class="pda"><a href="t-288780.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=288780">Convert GetTempFilename to directory</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">20th March 2008, 15:08</div></div><div class="posttext">I've seen that NSIS looks like it takes a temp filename and converts it to a directory somehow for use as the PLUGINS directory.  I would like to do something similar because I have a utility exe that must be extracted to a temp location and has dependant DLLs.  The DLL dependencies just need to be extracted to the same location as the exe, but they must be the same name.  So to ensure I don't run into conflicts, I wanted to generate a unique directory name and then place all the files in it.  Since GetTempFileName already creates the file, I'm not sure the best way to convert it to a dir.  Delete the file and then create the directory of the same name?<br />
<br />
Instead of this:<br />
<br />
Var /GLOBAL _SomeUtilityEXE<br />
GetTempFileName $_SomeUtilityEXE<br />
File /oname=$_SomeUtilityEXE &quot;..\bin\SomeUtility\SomeUtility.exe&quot;<br />
ExeWait &quot;$_SomeUtilityEXE&quot;<br />
<br />
I want something like this:<br />
<br />
Var /GLOBAL _SomeUtilityDir<br />
GetTempFileName $_SomeUtilityDir<br />
;Somehow convert $_SomeUtilityDir from a file to directory<br />
SetOutPath $_SomeUtilityDir<br />
File &quot;..\bin\SomeUtility\SomeUtility.exe&quot;<br />
File &quot;..\bin\SomeUtility\SomeNeededDll.dll&quot;<br />
ExeWait &quot;$_SomeUtilityDir\SomeUtility.exe&quot;<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">{_trueparuex^}</div><div class="date">20th March 2008, 15:46</div></div><div class="posttext">There's no special trick to do this... Your guess to delete the file and then create a directory with the same name is exactly what NSIS is doing.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AaronLS</div><div class="date">20th March 2008, 15:52</div></div><div class="posttext">Thanks</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>