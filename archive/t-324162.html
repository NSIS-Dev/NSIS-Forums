<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Missing language dialog, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Missing language dialog NSIS Discussion" />
	
	<title> Missing language dialog [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Missing language dialog</div>
<hr />
<div class="pda"><a href="t-324162.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=324162">Missing language dialog</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">19th November 2010, 16:05</div></div><div class="posttext">Hi!<br />
I have a problem with the language dialog. It is not shown. I have the following define:<br />
!define MUI_LANGDLL_ALWAYSSHOW<br />
I also have inserted the macro MUI_LANGDLL_DISPLAY in the .onInit function like this:<br />
!insertmacro MUI_LANGDLL_DISPLAY<br />
But the language dialog is not shown. What can be the reason for this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pawel</div><div class="date">19th November 2010, 20:29</div></div><div class="posttext">Did you included more then 1 language?<br />
	!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
	!insertmacro MUI_LANGUAGE &quot;German&quot;<br />
<br />
I suppose, if there is only one defined dialog will not shown.<br />
-Pawel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">22nd November 2010, 06:37</div></div><div class="posttext">I have added two languages like this:<br />
<br />
; Language files<br />
!insertmacro LANG_LOAD &quot;English&quot;<br />
!insertmacro LANG_LOAD &quot;German&quot;<br />
<br />
Additionally I have made two files with translation in English and German language. I'm quite sure that I have seen this to work. Now after several version of the product (which I install) I see that it doesn't work anymore.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">22nd November 2010, 08:09</div></div><div class="posttext">I have the same problem, this is my code:<br />
<br />
<br />
; Set languages (first is default language)<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Afrikaans&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Albanian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Arabic&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Basque&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Belarusian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Bosnian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Breton&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Bulgarian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Catalan&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Croatian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Czech&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Danish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Dutch&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Esperanto&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Estonian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Farsi&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Finnish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Galician&quot;<br />
!insertmacro MUI_LANGUAGE &quot;German&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Greek&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Hebrew&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Hungarian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Icelandic&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Indonesian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Irish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Italian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Japanese&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Korean&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Kurdish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Latvian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Lithuanian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Luxembourgish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Macedonian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Malay&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Mongolian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Norwegian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;NorwegianNynorsk&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Polish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Portuguese&quot;<br />
!insertmacro MUI_LANGUAGE &quot;PortugueseBR&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Romanian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Russian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Serbian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;SerbianLatin&quot;<br />
!insertmacro MUI_LANGUAGE &quot;SimpChinese&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Slovak&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Slovenian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Spanish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;SpanishInternational&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Swedish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Thai&quot;<br />
!insertmacro MUI_LANGUAGE &quot;TradChinese&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Turkish&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Ukrainian&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Uzbek&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Welsh&quot;<br />
!insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
; On initialization<br />
Function .onInit<br />
	!insertmacro MUI_LANGDLL_DISPLAY<br />
FunctionEnd<br />
<br />
<br />
I tried both Venis and HM NIS Edit to generate code, I also wrote the code by myself but everytime I got the same result [see the attachment] - only few of inserted languages were accepted.<br />
<br />
I assume that this is some feature (or just bug) where the compiler tries to optimise language tables and remove those ones which are not supported by Windows / and/ or Codepage.<br />
<br />
<br />
To solve your problem TrifonovS:<br />
Use MUI_LANGDLL_ALLLANGUAGES<br />
that: Always show all available languages and don't filter according to their codepage.<br />
<br />
But before compiling remove all languages you will not need from your NSIS\Contrib\Language files\ directory (but backup them if you wish to use them later).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pawel</div><div class="date">22nd November 2010, 17:41</div></div><div class="posttext">Take a look at example file in: \NSIS\Examples\Modern UI\MultiLanguage.nsi<br />
It should work.<br />
-Pawel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">23rd November 2010, 06:55</div></div><div class="posttext">Take a look at example file in: \NSIS\Examples\Modern UI\MultiLanguage.nsi<br />
It should work.<br />
-Pawel<br />
<br />
Thanks for reply, Pawel, but NO.<br />
As I said - this is either bug or feature of compiler - both MUI and MUI2 do this.<br />
I compiled the MultiLanguage.nsi example you mentioned and I got the same result. (I made fresh install of NSIS)<br />
<br />
This is a Windows related problem I suppose because on other computer I have lightly modified MUI2 .nshs (verbose is set to higher level) and I get these warnings:<br />
<br />
for the first language::<br />
<br />
!insertmacro: MUI_LANGUAGE<br />
MUI_LANGDLL_LANGUAGES_CP 56565 (macro:MUI_LANGUAGE:1)<br />
warning: !warning: MUI_LANGDLL_LANGUAGES_CP 56565 (macro:MUI_LANGUAGE:13)<br />
warning: !warning: MUI_LANGDLL_LANGUAGES_CP (macro:MUI_LANGUAGE:18)<br />
!insertmacro: end of MUI_LANGUAGE<br />
<br />
<br />
For any other language::<br />
<br />
!insertmacro: MUI_LANGUAGE<br />
MUI_LANGDLL_LANGUAGES_CP 56565 (macro:MUI_LANGUAGE:1)<br />
warning: !warning: MUI_LANGDLL_LANGUAGES_CP 56565 (macro:MUI_LANGUAGE:13)<br />
!insertmacro: end of MUI_LANGUAGE<br />
<br />
<br />
When this warning occur that language is not shown in MUI_LANGDLL_DISPLAY window.<br />
<br />
Probably this could be added to tracker as official bug (or feature :))</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>