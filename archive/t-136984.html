<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Help, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Help NSIS Discussion" />
	
	<title> Help [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Help</div>
<hr />
<div class="pda"><a href="t-136984.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=136984">Help</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">andy susanto</div><div class="date">29th May 2003, 07:12</div></div><div class="posttext">Hai,<br />
<br />
Can anyone help me to solve my problem ?<br />
<br />
My Problem is:<br />
<br />
I Have 4 Component and 3 of Component i set directory with SetOutPath $TEMP.<br />
<br />
if user click my fourth Component, I would like a user to Browse to a locate directory, because my old installer do not save the information on Registry<br />
<br />
and if i use DirText when user click first,second,third component NSIS will ask to locate directory<br />
<br />
TIA,<br />
<br />
andy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th May 2003, 10:15</div></div><div class="posttext">If you're using NSIS 1.98 define .onNextPage and .onPrevPage, count the pages in them and use Abort to skip the page when you get to the directory page and the user hasn't selected the fourth component.<br />
<br />
If you're using NSIS 2, define a pre-function for the directory page and call Abort in it to skip the page if the user hasn't selected the fourth component.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">andy susanto</div><div class="date">29th May 2003, 10:33</div></div><div class="posttext">I am using NSIS 2, Can you give me an example how to do that<br />
<br />
TIA,<br />
<br />
andy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th May 2003, 10:37</div></div><div class="posttext">If you're using the MUI:<br />
<br />
!include Sections.nsh<br />
<br />
!define MUI_CUSTOMFUNCTION_DIRECTORY_PRE myDirPre<br />
Function myDirPre<br />
  SectionGetFlags ${mySection} $R0<br />
  IntOp $R0 $R0 &amp; ${SF_SELECTED}<br />
  StrCmp $R0 ${SF_SELECTED} +2<br />
    Abort<br />
FunctionEnd<br />
<br />
The define name my differ from the CVS version to b3 so make sure you get the right name from the MUI readme.<br />
<br />
Without the MUI:<br />
<br />
Page directory myDirPre<br />
<br />
# same myDirPre function as above</div></div><hr />


<div class="post"><div class="posttop"><div class="username">andy susanto</div><div class="date">2nd June 2003, 06:56</div></div><div class="posttext">hai,<br />
<br />
i am try your code, why everytime user check first component browse directory show, what i want is everytime fourth component check browse directory show and i am try to debug that code but i can not, because i am not understand and i am try to see helpfile but it can not help me too. How to understand that code and change the code, because this script not like other installer. Can you help me ?<br />
<br />
<br />
TIA,<br />
<br />
andy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">2nd June 2003, 13:09</div></div><div class="posttext">Make sure ${mySection} is defined and contains the number of the right section (3 in your case - it starts off zero). If it doesn't put that code after the section is defined, because as this is a define the order in the script matters.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>