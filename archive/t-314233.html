<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Disable Next button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Disable Next button NSIS Discussion" />
	
	<title> Disable Next button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Disable Next button</div>
<hr />
<div class="pda"><a href="t-314233.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=314233">Disable Next button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">watzr</div><div class="date">29th October 2009, 08:45</div></div><div class="posttext">Hi,<br />
<br />
I wanted to disable Next button in Components page if none of the components have been selected. Following is the code I written under &quot;MUI_PAGE_CUSTOMFUNCTION_LEAVE  AfterComponentsSelect&quot;.<br />
<br />
Function AfterComponentsSelect<br />
<br />
  SectionGetFlags ${smd_components} $R0<br />
  SectionGetFlags ${xlt_components} $R1<br />
<br />
  ${If} $R0 == 0x00000000<br />
  ${AndIf} $R1 == 0x00000000<br />
    GetDlgItem $0 $HWNDPARENT 1 ; next=1, cancel=2, back=3<br />
    EnableWindow $0 0<br />
  ${EndIf}<br />
<br />
FunctionEnd<br />
<br />
Initially the first component is selected in default. But when I uncheck it Next button wont disable. Still I can proceed the installation. Can someone give me an idea to disable Next button in this case...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">29th October 2009, 11:19</div></div><div class="posttext">Leave functions are called after the next button is pressed, so it's no use disabling the button there. Either use abort in the leave function, or disable the button in .onSelChange.<br />
<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.7.2.1.8</div></div><hr />


<div class="post"><div class="posttop"><div class="username">watzr</div><div class="date">29th October 2009, 11:27</div></div><div class="posttext">It worked when I call it in .OnSelChange as follows.<br />
<br />
<br />
Function .onSelChange<br />
<br />
  SectionGetFlags ${smd_components} $R0<br />
  SectionGetFlags ${xlt_components} $R1<br />
<br />
  ${If} $R0 == 0<br />
  ${AndIf} $R1 == 0<br />
    GetDlgItem $0 $HWNDPARENT 1 ; next=1, cancel=2, back=3<br />
    EnableWindow $0 0<br />
  ${Else}<br />
    GetDlgItem $0 $HWNDPARENT 1 ; next=1, cancel=2, back=3<br />
    EnableWindow $0 1<br />
  ${EndIf}<br />
<br />
FunctionEnd<br />
<br />
Thanks for ur reply...</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>