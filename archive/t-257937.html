<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Disable a control on a custom Page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Disable a control on a custom Page NSIS Discussion" />
	
	<title> Disable a control on a custom Page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Disable a control on a custom Page</div>
<hr />
<div class="pda"><a href="t-257937.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=257937">Disable a control on a custom Page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TheShadowHawk</div><div class="date">20th October 2006, 08:51</div></div><div class="posttext">This may seem very trivial, but I have searched the forum and cannot see how this is done..<br />
<br />
I have a custom form with a parent checkbox and a child checkbox.<br />
<br />
I want to have it so if ther parent is ticked, the child checkboxes will be disabled, and if it's unticked then they will be enabled.<br />
<br />
I have used the NOTIFY flag on the parent checkbox, and have code for checking that it is ticked and then disabling the child checkbox. <br />
<br />
What I am failing with is just going back to that same custom page with the updated enabled/disabled child checkbox.<br />
<br />
If I have this:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_READ $R3 &quot;GeneralDetails.ini&quot; &quot;Settings&quot; &quot;State&quot;    <br />
<br />
${if} $R3 == &quot;15&quot;    <br />
    ${if} $R5 == &quot;1&quot; ; parent checkbox enabled<br />
       !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;GeneralDetails.ini&quot; &quot;Field 9&quot; &quot;Flags&quot; &quot;DISABLED&quot; ; disable child<br />
    ${Else}<br />
       !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;GeneralDetails.ini&quot; &quot;Field 9&quot; &quot;Flags&quot; &quot;&quot; ; enable child<br />
    ${EndIf}<br />
    !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;GeneralDetails.ini&quot;<br />
${EndIf}<br />
<br />
Am I missing an Abort command or a different MUI_INSTALLOPTIONS macro?<br />
<br />
Thanks in advance!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">20th October 2006, 11:14</div></div><div class="posttext">You are missing a few things. First, you must call Abort to go back from the leave function to the page. You shouldn't call MUI_INSTALLOPTIONS_DISPLAY again, that'd cause nothing but trouble. Second, you can't write new data to the INI file, it won't be read. You must update the controls using EnableWindow. Third, you've missed Examples\InstallOptions\testnotify.nsi which shows it all.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TheShadowHawk</div><div class="date">20th October 2006, 14:32</div></div><div class="posttext">Thank you! I knew I was overlooking something but could just not see it. :(</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>