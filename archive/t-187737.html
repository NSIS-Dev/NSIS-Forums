<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" [Newbie] différence between macro and functions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  [Newbie] différence between macro and functions NSIS Discussion" />
	
	<title> [Newbie] différence between macro and functions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  [Newbie] différence between macro and functions</div>
<hr />
<div class="pda"><a href="t-187737.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=187737">[Newbie] différence between macro and functions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mumuri</div><div class="date">25th July 2004, 14:35</div></div><div class="posttext">I only want to know the différence between a macro and a function in NSIS.<br />
<br />
What is the 'influence' on the finale exe file ?? Is this file bigger if i use a macro ??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">25th July 2004, 15:18</div></div><div class="posttext">Functions:<br />
<br />
- Create smaller installers. The reason is that they are permanent codes called from one point in the script.<br />
<br />
- They are difficult to use. You have to keep pushing and poping variables to get the parameters and create an output.<br />
<br />
- They are only used at run time.<br />
<br />
- They are used to create custom pages and modify other installer aspects.<br />
<br />
Macros:<br />
<br />
- Create bigger installers (except when using only for compile time instructions). The reason is that they are copied codes pasted where you want to &quot;!insertmacro&quot; them.<br />
<br />
- They are easy to use. They are called in the form of &quot;!insertmacro Command Parameters&quot;.<br />
<br />
- They are used on both compile time and run time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mumuri</div><div class="date">25th July 2004, 18:44</div></div><div class="posttext">ok thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">25th July 2004, 20:57</div></div><div class="posttext">Just a comment, a macro create a bigger installer when used more than once. If you would use a macro and a function with the same contents for 1 time, they would occupy the same size.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mumuri</div><div class="date">28th July 2004, 11:41</div></div><div class="posttext">i understand <br />
<br />
Juste one more thing<br />
<br />
IF the function is just use once, we d better use a macro ??<br />
<br />
I mean ,to use a function you must 'call' it, so the 'éxécution time' will be longer than if we had use a macro, right ??<br />
<br />
Or does the compiler understand that the function is just use once and then, insert the function code directly in the main code (without the 'call')</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">28th July 2004, 12:28</div></div><div class="posttext">Yes, that's the only exception where the !macro wins about the size.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">28th July 2004, 16:01</div></div><div class="posttext">If you want to use the same code more than once, you should use it within a Function, and call it with a macro.<br />
<br />
Example:<br />
Function Blah<br />
Exch $R0<br />
Push $R1<br />
...<br />
<br />
Pop $R1<br />
Exch $R0<br />
FunctionEnd<br />
<br />
!macro CallBlah INPUT<br />
 Push &quot;${INPUT}&quot;<br />
  Call Blah<br />
!macroend<br />
<br />
Then in sections or functions:<br />
!insertmacro CallBlah &quot;input string / var&quot;<br />
Pop $R0 ;output<br />
<br />
...<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mumuri</div><div class="date">28th July 2004, 16:23</div></div><div class="posttext">yes you &quot;re right the code will be easyer to understand<br />
<br />
thanks<br />
<br />
but there is a little problem <br />
<br />
if we have this case<br />
<br />
call Function1<br />
Pop $R1<br />
<br />
Push $R1<br />
call Function2<br />
 <br />
<br />
With the macro we can not do that (if we put the Push $R1 / call Function2 in the macro).<br />
<br />
<br />
call Function1<br />
call Function2</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">29th July 2004, 16:28</div></div><div class="posttext">Doesn't MakeNSIS compress the instructions as well?<br />
In that case repeated macros would get compressed as well.<br />
So, the resulting installer may be a little bit bigger (in the order of bytes rather than kb) but it would be more than repaid by the increase in ease of development.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">29th July 2004, 16:36</div></div><div class="posttext">Just use the code like that then.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">29th July 2004, 20:05</div></div><div class="posttext">or even integrate function1 into function2</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>