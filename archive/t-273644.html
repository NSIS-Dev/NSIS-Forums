<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" iffileexists else  PLEASE HELP!!!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  iffileexists else  PLEASE HELP!!! NSIS Discussion" />
	
	<title> iffileexists else  PLEASE HELP!!! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  iffileexists else  PLEASE HELP!!!</div>
<hr />
<div class="pda"><a href="t-273644.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=273644">iffileexists else  PLEASE HELP!!!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TwitchBitch</div><div class="date">30th June 2007, 05:03</div></div><div class="posttext">ok i need to make an else function for this code that is what i have but for some reason it does not work :(<br />
can some one help meh? please need it soon<br />
<br />
<br />
Section<br />
	${GetDrives} &quot;CDROM&quot; &quot;CHECK&quot;<br />
       <br />
SectionEnd<br />
Function CHECK<br />
	<br />
      <br />
        IfFileExists &quot;$9\Startup.exe&quot; 0 next<br />
        StrCpy $R0 &quot;$9&quot; ;$R0 contains the drive you're looking<br />
        StrCpy $0 &quot;StopGetDrives&quot;<br />
        ;else<br />
        ;MessageBox MB_okcancel &quot;Please Insert exampl Disk&quot;<br />
    next:<br />
	Push $0<br />
       ;else <br />
        <br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajfisher</div><div class="date">30th June 2007, 05:17</div></div><div class="posttext">Your life will be a lot easier if you use  LogicLib (http://nsis.sourceforge.net/LogicLib) <br />
<br />
far easier than using strcpy and jumps</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajfisher</div><div class="date">30th June 2007, 05:18</div></div><div class="posttext">in case the link didn't come through...<br />
<br />
http://nsis.sourceforge.net/LogicLib</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TwitchBitch</div><div class="date">30th June 2007, 05:24</div></div><div class="posttext">ok idk how to do that with logiclab?<br />
can you post alternet example of my code?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TwitchBitch</div><div class="date">30th June 2007, 05:56</div></div><div class="posttext">ok figured it out i think but this is what i got<br />
<br />
<br />
<br />
Function CHECK<br />
	<br />
      <br />
        ${If} ${FileExists} &quot;$9\EXAMPLE.exe&quot; <br />
        StrCpy $R0 &quot;$9&quot; ;$R0 contains the drive you're looking<br />
        StrCpy $0 &quot;StopGetDrives&quot;<br />
        next:<br />
	Push $0<br />
<br />
        ${Else}<br />
        MessageBox MB_OK &quot;Please Insert EXAMPLE Disk&quot;<br />
       <br />
        <br />
        <br />
FunctionEnd<br />
 <br />
and this is what i get when it's done with the creation<br />
<br />
Processed 1 file, writing output:<br />
Adding plug-ins initializing function... Done!<br />
Error: could not resolve label &quot;_LogicLib_Label_2&quot; in function &quot;CHECK&quot;<br />
Error - aborting creation process<br />
<br />
<br />
anyideas why it's not workin?<br />
<br />
and is there ne way for it to check again after you press ok?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">30th June 2007, 06:57</div></div><div class="posttext">Name &quot;Test&quot;<br />
OutFile &quot;Test.exe&quot;<br />
<br />
!include &quot;FileFunc.nsh&quot;<br />
!insertmacro GetDrives<br />
<br />
Section<br />
	begin:<br />
	StrCpy $R0 ''<br />
	${GetDrives} &quot;CDROM&quot; &quot;GetDrivesCallback&quot;<br />
	StrCmp $R0 '' 0 +2<br />
	MessageBox MB_OKCANCEL &quot;Please Insert example Disk&quot; IDOK begin IDCANCEL end<br />
	MessageBox MB_OK &quot;Drive: $R0&quot;<br />
<br />
	end:<br />
SectionEnd<br />
<br />
Function GetDrivesCallback<br />
	IfFileExists &quot;$9Startup.exe&quot; 0 end<br />
	StrCpy $R0 &quot;$9&quot;<br />
	StrCpy $0 &quot;StopGetDrives&quot;<br />
<br />
	end:<br />
	Push $0<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">1st July 2007, 18:00</div></div><div class="posttext">anyideas why it's not workin?<br />
<br />
missed the EndIf:<br />
Function CHECK<br />
        ${If} ${FileExists} &quot;$9\EXAMPLE.exe&quot; <br />
        StrCpy $R0 &quot;$9&quot; ;$R0 contains the drive you're looking<br />
        StrCpy $0 &quot;StopGetDrives&quot;<br />
        next:<br />
	Push $0<br />
<br />
        ${Else}<br />
        MessageBox MB_OK &quot;Please Insert EXAMPLE Disk&quot;<br />
       <br />
        ${EndIf}        <br />
FunctionEnd</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>