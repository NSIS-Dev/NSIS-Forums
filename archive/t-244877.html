<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" language select doesn't work, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  language select doesn't work NSIS Discussion" />
	
	<title> language select doesn't work [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  language select doesn't work</div>
<hr />
<div class="pda"><a href="t-244877.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=244877">language select doesn't work</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sorinoss</div><div class="date">28th April 2006, 23:02</div></div><div class="posttext">for the language display i have used<br />
<br />
; Language Selection Dialog Settings<br />
!define MUI_LANGDLL_REGISTRY_ROOT &quot;${PRODUCT_UNINST_ROOT_KEY}&quot;<br />
!define MUI_LANGDLL_REGISTRY_KEY &quot;${PRODUCT_UNINST_KEY}&quot;<br />
!define MUI_LANGDLL_REGISTRY_VALUENAME &quot;NSIS:Language&quot;<br />
<br />
; Language files<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
!insertmacro MUI_LANGUAGE &quot;German&quot;<br />
!insertmacro MUI_LANGUAGE &quot;SimpChinese&quot;<br />
!insertmacro MUI_LANGUAGE &quot;Spanish&quot;<br />
<br />
<br />
and in the .onInit function i have<br />
   ;check for multi instance<br />
   System::Call 'kernel32::CreateMutexA(i 0, i 0, t &quot;myMutex&quot;) i .r1 ?e'<br />
    Pop $R0<br />
    StrCmp $R0 0 +3<br />
   MessageBox MB_OK|MB_ICONEXCLAMATION &quot;The installer is already running.&quot;<br />
   Abort<br />
<br />
 !insertmacro MUI_LANGDLL_DISPLAY<br />
<br />
  InitPluginsDir<br />
  ;GetTempFileName $INI $PLUGINSDIR<br />
  ;MessageBox MB_ICONEXCLAMATION|MB_OK $INI<br />
  File /oname=$PLUGINSDIR\select_skin.ini &quot;select_skin.ini&quot;<br />
  File /oname=$PLUGINSDIR\welcome_screen.ini &quot;welcome_screen.ini&quot;<br />
  File /oname=$PLUGINSDIR\nopreview.bmp &quot;nopreview.bmp&quot;<br />
<br />
the copile operation terminates with no error or warning<br />
and still the language display doesn't want to appear<br />
<br />
am i missing something?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">28th April 2006, 23:47</div></div><div class="posttext">the lang selection dialog, did not appear even on first execution?<br />
the installer 'knows' after the first execution what language you have selected and does not ask again.<br />
also is good to add this code:<br />
!insertmacro MUI_RESERVEFILE_LANGDLL after language macros :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sorinoss</div><div class="date">28th April 2006, 23:59</div></div><div class="posttext">yes i have added that also :)<br />
<br />
i have started the instller but forgot to uninstall the first version<br />
so yes the language was already selected and entered in the registry<br />
<br />
sorry it was my mistake, the admins can delete this post because i can't :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">6th May 2008, 10:19</div></div><div class="posttext">Hello, I have a couple of languages in my installer. Inserted them to MUI with !insertmacro MUI_LANGUAGE in this order:<br />
English, German, French, Dutch, Spanish, Italian, Japanese, SimpChinese, Portuguese, Russian, Czech (Czech is my native language and also language of my Win XP).<br />
<br />
I don't use registry for storing the language. When I launch my installer, I don't see all that languages in selection dialog. Neither all languages are shown in MultiLanguages MUI example. I am running 2.37.<br />
<br />
Why this happens?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">6th May 2008, 10:36</div></div><div class="posttext">only languages supported by your codepage are displayed<br />
<br />
define MUI_LANGDLL_ALLLANGUAGES to show all</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">6th May 2008, 15:09</div></div><div class="posttext">Thank you, I did bad search because now I see this topic being discussed before. Sorry for duplicity.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>