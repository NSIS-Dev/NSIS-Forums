<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to use WinApi's Addmonitor() in nsis, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to use WinApi's Addmonitor() in nsis NSIS Discussion" />
	
	<title> How to use WinApi's Addmonitor() in nsis [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to use WinApi's Addmonitor() in nsis</div>
<hr />
<div class="pda"><a href="t-258871.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=258871">How to use WinApi's Addmonitor() in nsis</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">keating_z</div><div class="date">4th November 2006, 05:01</div></div><div class="posttext">I just want to know how to set these three parameters<br />
in Nsis.thank you very much.<br />
here is the function's basic information.<br />
<br />
AddMonitor<br />
<br />
The AddMonitor function installs a local port monitor and links the configuration, data, and monitor files.<br />
<br />
BOOL AddMonitor(<br />
  LPTSTR pName,      // server name<br />
  DWORD Level,       // monitor information level<br />
  LPBYTE pMonitors   // monitor information buffer<br />
);<br />
<br />
Parameters<br />
<br />
pName<br />
    [in] Pointer to a null-terminated string that specifies the name of the server on which the monitor should be installed. For systems that support only local installation of monitors, this string should be NULL. <br />
Level<br />
    [in] Specifies the version of the structure to which pMonitors points. This value must be 2. <br />
<br />
pMonitors<br />
    [in] Pointer to a MONITOR_INFO_2 structure. If the pEnvironment member of the pMonitors structure is NULL, the current environment of the caller (client), not of the destination (server), is used.<br />
<br />
    Windows 95/98/Me: pEnvironment must not be NULL. Instead, the recommended value is &quot;Windows 4.0&quot;.<br />
<br />
    Note that the call will fail if the environment does not match the environment of the server, that is, you can only add a monitor that was written for the architecture of the server. <br />
<br />
Return Values<br />
<br />
If the function succeeds, the return value is a nonzero value.<br />
<br />
If the function fails, the return value is zero. To get extended error information, call GetLastError.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">4th November 2006, 13:07</div></div><div class="posttext">Using the System (http://nsis.sourceforge.net/Docs/System/System.html) plug-in.System::Call &quot;*(t 'name', t 'env', t 'dll') i .r0&quot;<br />
System::Call &quot;winspool::AddMonitor(t 'server name', i 2, i r0)&quot;<br />
System::Free $0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">keating_z</div><div class="date">5th November 2006, 02:48</div></div><div class="posttext">Thank You kichik!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>