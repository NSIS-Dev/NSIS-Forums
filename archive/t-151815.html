<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to check if there are spaces in the Installdir, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to check if there are spaces in the Installdir NSIS Discussion" />
	
	<title> How to check if there are spaces in the Installdir [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to check if there are spaces in the Installdir</div>
<hr />
<div class="pda"><a href="t-151815.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=151815">How to check if there are spaces in the Installdir</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">0kermit0</div><div class="date">7th October 2003, 08:29</div></div><div class="posttext">1. Problem<br />
<br />
How can i check if there are spaces in the $Instdir ?<br />
<br />
i.e. i only want to allow $Instdir without any spaces in it. (test is allowed, te st is not allowed)<br />
<br />
How can i do this ?<br />
<br />
<br />
<br />
2. Problem<br />
<br />
I have two sections, and i want to allow only one section to be installed. And i want another $Instdir for each section.<br />
<br />
i.e:<br />
<br />
InstallDir &quot;$PROGRAMFILES\${MUI_PRODUCT}&quot;<br />
...<br />
Section &quot;Update&quot; ; should have $Instdir<br />
<br />
...<br />
<br />
Section &quot;Demo-Update&quot; ; should have $Instdir2<br />
<br />
<br />
I know about SetOutPath. but i want the $Instdir(2) to appear in the dest.-dir dialog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th October 2003, 13:07</div></div><div class="posttext">1. There is a function in the Archive that does exactly this:<br />
http://nsis.sourceforge.net/archive/viewpage.php?pageid=179<br />
<br />
2. The best way would probably be deciding which section you wish to install in .onInit, hide the other one using SectionSetText ${secidx} &quot;&quot; and setting $INSTDIR accordingly.<br />
<br />
If you want to enable the user to select either one and set $INSTDIR accordingly you should simply set $INSTDIR to the appropriate value in the leave function of the components page according to the selection of the user. To allow the user to select only one section you should use a script similar to the one in the one-section.nsi example (in your Examples directory).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">0kermit0</div><div class="date">7th October 2003, 14:35</div></div><div class="posttext">hello again,<br />
<br />
thanks, but ...<br />
<br />
how can i set the $Instdir in the leave function of the components page according to the selection?<br />
<br />
i get an error: &quot;not valid in function&quot;<br />
<br />
<br />
<br />
thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th October 2003, 14:37</div></div><div class="posttext">StrCpy $INSTDIR &quot;C:\new\path&quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>