<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem with Custome Page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem with Custome Page NSIS Discussion" />
	
	<title> Problem with Custome Page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem with Custome Page</div>
<hr />
<div class="pda"><a href="t-267618.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=267618">Problem with Custome Page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">darshanaltekar</div><div class="date">12th March 2007, 10:05</div></div><div class="posttext">In my installer i've created 5 custome pages, but the problem with them is that when my installer starts running i have to click twice on say NEXT or PREVIOUS or CANCEL button in order to move next,previous or cancel any solution? also the header text that i'm assigning to my pages disappears sometimes when my installer starts running why is this happening?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">12th March 2007, 22:51</div></div><div class="posttext">why is this happening?<br />
<br />
Is happening that we don't have a magic ball crystal to tell what is in your code?<br />
<br />
Care to put some?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">darshanaltekar</div><div class="date">13th March 2007, 08:54</div></div><div class="posttext">Page custom Repair_Modify_Uninstall_pre Repair_Modify_Uninstall__leave<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE check_flags_for_license<br />
!define MUI_LICENSEPAGE_RADIOBUTTONS<br />
!insertmacro MUI_PAGE_LICENSE &quot;C:\Documents and Settings\Administrator\Desktop\license aggrement.txt&quot;<br />
<br />
;Organisation ID page<br />
Page custom organisation_id_pre organisation_id_leave<br />
<br />
<br />
;statica page showing organisation ID &amp; default preferences<br />
page custom default_preferences_pre<br />
<br />
Page custom complete_custom_install_pre<br />
<br />
Page custom after_repair_modify after_repair_modify_leave<br />
<br />
<br />
Function .onInit<br />
   call set_flags<br />
  ; call chcek_dotnet_framework<br />
   !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;Repair_UNINSTALL.ini&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;after_Repair_modify.ini&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;Organisation_id.ini&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;default_preferences.ini&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;Complete_custom_install.ini&quot;<br />
   call Check_Already_Installed<br />
FunctionEnd<br />
<br />
Function Repair_Modify_Uninstall_Pre<br />
  strcmp $ALREADY_INSTALLED &quot;NO&quot; 0 +3<br />
  abort<br />
  goto Repair_Modify_Uninstall_Pre_end<br />
  !insertmacro MUI_HEADER_TEXT &quot;Program Maintenance&quot; &quot;Modify,Repair or Remove the program&quot;<br />
  InstallOptions::Dialog &quot;$PLUGINSDIR\Repair_UNINSTALL.ini&quot;<br />
  pop $0<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;Repair_UNINSTALL.ini&quot;<br />
Repair_Modify_Uninstall_Pre_end:<br />
FunctionEnd<br />
<br />
function Repair_Modify_Uninstall__leave<br />
   ReadINIStr $0 &quot;$PLUGINSDIR\Repair_UNINSTALL.ini&quot; 'Field 2' &quot;State&quot;  ;Repair<br />
   ReadINIStr $1 &quot;$PLUGINSDIR\Repair_UNINSTALL.ini&quot; 'Field 3' &quot;State&quot;  ;Uninstall<br />
   ReadINIStr $2 &quot;$PLUGINSDIR\Repair_UNINSTALL.ini&quot; 'Field 4' &quot;State&quot;  ;Modify<br />
 $state2&quot;<br />
   strcmp $ALREADY_INSTALLED &quot;YES&quot; 0 label_l1<br />
   strcmp $0 &quot;1&quot; 0 +5<br />
     strcpy $REPAIR &quot;YES&quot;<br />
     strcpy $UNINSTALL &quot;NO&quot;<br />
     strcpy $MODIFY &quot;NO&quot;<br />
     goto  label_l1<br />
   strcmp $1 &quot;1&quot; 0 +5<br />
     strcpy $REPAIR &quot;NO&quot;<br />
     strcpy $UNINSTALL &quot;YES&quot;<br />
     strcpy $MODIFY &quot;NO&quot;<br />
     goto  label_l1<br />
   strcpy $REPAIR &quot;NO&quot;<br />
   strcpy $UNINSTALL &quot;NO&quot;<br />
   strcpy $MODIFY &quot;YES&quot;<br />
   label_l1:<br />
<br />
  strcmp $UNINSTALL &quot;YES&quot; 0 +6<br />
  hidewindow<br />
  writeuninstaller $WINDIR\temp\un_kat.exe<br />
  execwait $WINDIR\temp\un_kat.exe<br />
  delete $WINDIR\temp\un_kat.exe<br />
  quit<br />
 functionend<br />
<br />
;I have included code for just one custome page</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th March 2007, 19:46</div></div><div class="posttext">You shouldn't call both  InstallOptions::Dialog and MUI_INSTALLOPTIONS_DISPLAY. Use only one of the two. When using the MUI, you should use MUI_INSTALLOPTIONS_DISPLAY.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">darshanaltekar</div><div class="date">15th March 2007, 04:50</div></div><div class="posttext">Thank you very much it works fine now</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>