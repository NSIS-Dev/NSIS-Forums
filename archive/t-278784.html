<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" vista uac prompt displays random file name, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  vista uac prompt displays random file name NSIS Discussion" />
	
	<title> vista uac prompt displays random file name [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  vista uac prompt displays random file name</div>
<hr />
<div class="pda"><a href="t-278784.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=278784">vista uac prompt displays random file name</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">faxedhead</div><div class="date">12th October 2007, 08:21</div></div><div class="posttext">Using the Basic.nsi from the ModernUI examples, if you sign this using a verisign certificate (required for compatability with Vista), when launched, the Vista UAC prompt displays a random file name as the application name.  E.g. Bas73D1.tmp.  The random part is the four characters after Bas.  <br />
<br />
If the EXE is not signed, the &quot;An unidentified program wants access to your computer&quot; prompt is displayed, but the file name is correct: Basic.exe.  <br />
<br />
Does anyone know why signing a file causes this behaviour?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th October 2007, 22:31</div></div><div class="posttext">Sounds like the program you're using to sign the installer creates this affect. It might be wrapping the installer with a signed stub that just extracts the original executable to the temporary directory and executes it from there. Try using a different signature tool.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">faxedhead</div><div class="date">15th October 2007, 09:06</div></div><div class="posttext">I'm using Microsoft's signcode.exe v5.131.1863.1.  It looks like the problem is caused by the 'File Description' field of the setup EXE (generated by NSIS) being blank.  It appears Vista uses this field to display the name of the program that is requesting elevation.  So the question becomes, is there any way to have NSIS write a text string into the 'File Description' field of the setup EXE it creates?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th October 2007, 19:43</div></div><div class="posttext">VIAddVersionKey &quot;FileDescription&quot; &quot;Some lie&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">faxedhead</div><div class="date">16th October 2007, 00:04</div></div><div class="posttext">Fantastic - thanks kichik - worked perfectly.  I did RTFM, but didn't find this info :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th October 2007, 00:07</div></div><div class="posttext">It's documented under Version Information and demonstrated in Examples\VersionInfo.nsi in case you need to know more about it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">faxedhead</div><div class="date">16th October 2007, 00:22</div></div><div class="posttext">Found it.  Thanks again.  NSIS ROCKS.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>