<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" could not load temp\...\nsdialogs.dll, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  could not load temp\...\nsdialogs.dll NSIS Discussion" />
	
	<title> could not load temp\...\nsdialogs.dll [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  could not load temp\...\nsdialogs.dll</div>
<hr />
<div class="pda"><a href="t-366610.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=366610">could not load temp\...\nsdialogs.dll</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Peterslast</div><div class="date">17th July 2013, 14:24</div></div><div class="posttext">Few hours ago, my deploying project was correctly running. <br />
But suddenly, its not working anymore. <br />
Even the old saved code with only one nsDialogPage.<br />
<br />
This is part of my code.<br />
<br />
!include LogicLib.nsh<br />
!include nsDialogs.nsh  <br />
!include StrRep.nsh<br />
!include ReplaceInFile.nsh  <br />
!include FileFunc.nsh       <br />
!include TextFunc.nsh   <br />
!insertmacro GetTime   <br />
!include ZipDLL.nsh <br />
<br />
; The name of the installer<br />
Name &quot;Packaging setup&quot;<br />
<br />
; The file to write<br />
OutFile &quot;Packaging setup v1.2.3.exe&quot;<br />
<br />
XPStyle on<br />
<br />
Var Dialog<br />
Var Label<br />
Var UserText<br />
<br />
; The default installation directory<br />
InstallDir &quot;C:\temp\setup&quot;<br />
<br />
; Request application privileges for Windows Vista<br />
RequestExecutionLevel admin<br />
<br />
; Pages<br />
<br />
Page components<br />
Page directory<br />
;Page custom nsDialogsPage nsDialogsPageLeave<br />
Page instfiles<br />
Page custom nsDialogsPage nsDialogsPageLeave<br />
<br />
UninstPage uninstConfirm<br />
UninstPage instfiles<br />
<br />
Section &quot;Copy files&quot;<br />
<br />
; Set output path to the installation directory.<br />
SetOutPath $INSTDIR<br />
<br />
; Copy lot of files<br />
File &quot;D:\Temp\Sources\parametrage.txt&quot;<br />
SectionEnd<br />
<br />
Function nsDialogsPage<br />
nsDialogs::Create 1018<br />
Pop $Dialog<br />
<br />
${If} $Dialog == error<br />
    MessageBox MB_OK &quot;Oops something crashed&quot;<br />
    Abort<br />
${EndIf}<br />
<br />
;UserName<br />
${NSD_CreateLabel} 0 0 18% 10u &quot;UserName : &quot;<br />
Pop $Label<br />
${ConfigRead} &quot;$INSTDIR\parametrage.txt&quot; &quot;@DERBY_USER@ = &quot; $UserText<br />
${NSD_CreateTExt} 50u 0 50% 12u $UserText<br />
Pop $UserText<br />
<br />
nsDialogs::Show<br />
FunctionEnd<br />
<br />
Function nsDialogsPageLeave<br />
!macro _ReplaceInFile2 SOURCE_FILE SEARCH_TEXT REPLACEMENT<br />
    Push &quot;${SOURCE_FILE}&quot;<br />
    Push &quot;${SEARCH_TEXT}&quot;<br />
    Push &quot;${REPLACEMENT}&quot;<br />
    Call RIF<br />
!macroend<br />
<br />
;${ConfigRead} &quot;$INSTDIR\PARAMETRAGE.txt&quot; &quot;@DERBY_USER@ = &quot; $0<br />
${NSD_GetText} $UserText $0<br />
!insertmacro _ReplaceInFile2 &quot;$INSTDIR\$Version\conf\database.properties&quot; &quot;@DERBY_USER@&quot; $0<br />
<br />
FunctionEnd<br />
<br />
<br />
This code was working perfectely until a moment... I dont know what happens. <br />
Currently, the setup stopped (crashed ? ) after the copy of the files, and does not display the nsDialog form. <br />
To notice : <br />
- If I comment the files copy page, the nsDialog Pages appears normally <br />
- If I make the nsDialog first, then the copy page, then the nsDialog again (just to test, it is useless on my application), the first nsDialog form appears, but not the second one.<br />
<br />
I thought it was coming from the ${NSD_CreateTExt} so I tried the same action with only label (not text) and the result is the same... The copy of my files are correctly completed (it is logged).<br />
<br />
And it was working, before I dont know what... I re start my machine, without any result.<br />
<br />
If I put messagebox everywhere to understand what happens (kind of trace), the message displayed behind my msgbox (upper the progress bar) says something like : <br />
&quot;Could not load ! ...tempfolder\nsaezr.tmp\nsDialog.dll<br />
<br />
Any advice would be welcome. <br />
Thanks.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>