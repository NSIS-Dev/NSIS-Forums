<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Multilingual custom text, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Multilingual custom text NSIS Discussion" />
	
	<title> Multilingual custom text [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Multilingual custom text</div>
<hr />
<div class="pda"><a href="t-189304.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=189304">Multilingual custom text</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">phllp_w</div><div class="date">8th August 2004, 12:57</div></div><div class="posttext">I have setup some custom text for various pages of the installer.<br />
<br />
I want to use more languages in the installer.<br />
I know it will translate the default text fine, but not the custom text.<br />
<br />
How do I make custom text for different languages?<br />
<br />
I have this: <br />
!define MUI_WELCOMEPAGE_TEXT &quot;Some text... bla bla&quot;<br />
I want this for french, german, etc.<br />
<br />
<br />
How do I do it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">8th August 2004, 14:33</div></div><div class="posttext">use LangString (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.15.2), take NSIS\Examples\languages.nsi as example</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phllp_w</div><div class="date">8th August 2004, 18:00</div></div><div class="posttext">This works for ModernUI too?<br />
<br />
<br />
So I just use this:<br />
LangString Name ${LANG_FRENCH} &quot;French&quot;<br />
<br />
Nothing else needed?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">8th August 2004, 18:07</div></div><div class="posttext">and<br />
!define MUI_WELCOMEPAGE_TEXT &quot;$(Name)&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phllp_w</div><div class="date">8th August 2004, 19:44</div></div><div class="posttext">OK, So I used this:<br />
<br />
   LangString Name ${LANG_FRENCH} &quot;English&quot;<br />
  !define MUI_WELCOMEPAGE_TEXT &quot;English text, bla bla!&quot;<br />
<br />
   LangString Name ${LANG_FRENCH} &quot;French&quot;<br />
  !define MUI_WELCOMEPAGE_TEXT &quot;French text, bla bla!&quot;<br />
<br />
Added this:<br />
<br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
  !insertmacro MUI_LANGUAGE &quot;French&quot;<br />
<br />
And it gives me an error:<br />
!define: &quot;MUI_WELCOMEPAGE_TEXT&quot; already defined!<br />
<br />
Is it all wrong?<br />
Can someone help?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">8th August 2004, 19:56</div></div><div class="posttext">Try this:<br />
<br />
!define MUI_WELCOMEPAGE_TEXT &quot;$(MyWelcomeText)&quot;<br />
!insertmacro MUI_PAGE_WELCOME<br />
<br />
...<br />
...<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
<br />
...<br />
...<br />
<br />
LangString MyWelcomeText ${LANG_ENGLISH} &quot;English text, bla bla!&quot;<br />
LangString MyWelcomeText ${LANG_FRENCH} &quot;French text, bla bla!&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phllp_w</div><div class="date">8th August 2004, 20:23</div></div><div class="posttext">Any special order this must be in?<br />
<br />
Gives no errors but doesn't give a language choice at start...<br />
I put all functions you gave me...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">8th August 2004, 20:42</div></div><div class="posttext">My example uses the correct order.<br />
<br />
If you want to select the language, use  &quot;!insertmacro MUI_LANGDLL_DISPLAY&quot; in .onInit.<br />
<br />
Have a look at the MultiLanguage.nsi script in the Examples\Modern UI\ folder.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phllp_w</div><div class="date">8th August 2004, 21:02</div></div><div class="posttext">Says:<br />
<br />
unknown variable/constant &quot;{MUI_LANGDLL_PUSHLIST}&quot; detected, ignoring (macro:MUI_LANGDLL_DISPLAY:24)<br />
<br />
!?<br />
<br />
I put everything in correct order...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">9th August 2004, 00:23</div></div><div class="posttext">I put everything in correct order...The error message you got means you have not got everything in the correct order.<br />
<br />
As I said earlier, look at the MultiLanguage.nsi script - look at where the .onInit function appears and then look at where it appears in your script.<br />
<br />
If .onInit is in the wrong place, you'll get the &quot;unknown variable/constant &quot;{MUI_LANGDLL_PUSHLIST}&quot; detected&quot; error message.<br />
<br />
The MUI ReadMe gives step-by-step instructions explaining how to use MUI but I don't think it stresses that the order in the ReadMe is the order you should use in your script.<br />
<br />
The MUI ReadMe can seem a bit complicated so you may need to read it more than once (I've lost count of the number of times I've read it - I always seem to find something new every time I read it).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phllp_w</div><div class="date">9th August 2004, 01:10</div></div><div class="posttext">Ok, so I got it without errors but the french text doesn't appear...<br />
<br />
I tried using this:<br />
  LangString MyWelcomeText ${LANG_FRENCH} &quot;French text, bla bla!&quot;<br />
<br />
or<br />
<br />
  LangString MUI_WELCOMEPAGE_TITLE ${LANG_FRENCH} &quot;French text, bla bla!&quot;<br />
<br />
But it didn't work.<br />
I know I'm annoying but please help me on this. :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">9th August 2004, 01:36</div></div><div class="posttext">It is hard to guess what you're doing wrong ;)<br />
<br />
Here is a very simple script based upon my earlier examples - this lets you change the language used on the Welcome page.<br />
; A tiny multi-language MUI demo<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
Name    &quot;Tiny ML Demo&quot;<br />
OutFile &quot;ml-demo.exe&quot;<br />
<br />
!define MUI_WELCOMEPAGE_TEXT &quot;$(MyWelcomeText)&quot;<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
<br />
LangString MyWelcomeText ${LANG_ENGLISH} &quot;English text, bla bla!&quot;<br />
LangString MyWelcomeText ${LANG_FRENCH}  &quot;French text, bla bla!&quot;<br />
<br />
!insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
Section &quot;Dummy Section&quot; SecDummy<br />
  ; dummy section to keep compiler happy<br />
SectionEnd<br />
<br />
Function .onInit<br />
  !insertmacro MUI_LANGDLL_DISPLAY<br />
FunctionEnd<br />
<br />
; end of demo</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phllp_w</div><div class="date">9th August 2004, 10:09</div></div><div class="posttext">Thank you!<br />
I got it working now! :D<br />
<br />
A few more things...<br />
The uninstaller didn't give a language choice? It was in English.<br />
How do I make the installer remember the language selected and then use it in the uninstaller?<br />
<br />
What about the DirText and the license,<br />
how do I set them up for every language?<br />
Tried with the same stuff, but failed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">9th August 2004, 13:22</div></div><div class="posttext">Look at the MultiLanguage.nsi script in the &quot;Examples\Modern UI&quot; folder and read the MUI ReadMe.<br />
<br />
The MultiLanguage.nsi script creates a simple installer that shows how to:<br />
<br />
(1) use different languages in the uninstaller<br />
(2) remember the language choice and use it the next time the installer is run<br />
(3) remember the language choice and use it for the uninstaller<br />
<br />
The MUI ReadMe might look complicated but it is made up of lots of small sections dealing with the many features of the MUI.<br />
<br />
If you use the MUI ReadMe and look at the MUI example scripts supplied with NSIS you will soon learn how to do lots of things with the MUI.<br />
<br />
Searching the forum can find answers to many common questions - for example there was a thread discussing how to use different languages for the License page a few weeks ago.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phllp_w</div><div class="date">9th August 2004, 14:49</div></div><div class="posttext">Yeah, the MUI ReadMe helped ALOT but not these functions, so that's why I'm asking this.<br />
<br />
I figured out how to remember the language...<br />
<br />
<br />
What I need help for is:<br />
<br />
Setting up the language for the uninstaller. I used:   <br />
!insertmacro MUI_UNGETLANGUAGE<br />
But it gave me errors.<br />
<br />
Setting up the DirText in different languages.<br />
<br />
<br />
Sorry for bothering, but I really need help. :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>