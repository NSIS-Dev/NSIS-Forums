<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Storing system info. in an ini file, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Storing system info. in an ini file NSIS Discussion" />
	
	<title> Storing system info. in an ini file [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Storing system info. in an ini file</div>
<hr />
<div class="pda"><a href="t-195072.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=195072">Storing system info. in an ini file</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">aadya</div><div class="date">29th September 2004, 14:15</div></div><div class="posttext">Hi All,<br />
Can i use the ini files to store some information like MAC address etc. (any info for that matter) in an ini file? <br />
I would like to read this information the next time installer is run, with a new compilation ofcourse.<br />
How else can one ensure that an installer is not being run on multiple machines within an organization?<br />
<br />
(ofcourse we need to have a license manager but just curious if i could use the installer meanwhile...)<br />
<br />
thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aadya</div><div class="date">29th September 2004, 14:17</div></div><div class="posttext">sorry...i mean without a recompilation ofcourse<br />
i need some coffie :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th September 2004, 14:53</div></div><div class="posttext">So you want to write some information to the installer or to a file that comes with the installer to make sure it's not ran on two different computers? I don't think that's a good idea. If you write it to a separate file, the user can simply delete it. If you write it to the installer itself, assuming Windows will allow you to write to the installer, the user can simply download the installer again, or make it read-only by burning it on a CD for example. Both issues can also be caused on purpose or even by mistake.<br />
<br />
What I’d do is query the license manager using some basic information from the user. That way you don’t have to write two different protection schemes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aadya</div><div class="date">29th September 2004, 15:00</div></div><div class="posttext">Hi Kichik,<br />
Thanks for your reply.<br />
I know it may not seem elegant but this is just a stop gap effort, if possible.<br />
Since we do not offer downloads of our product, all valid installers are issued by us to the customers. Hence i thought it would be a quick way out before we design and implement licensing mechanism (this may take a while). Our main idea is that the installer exe should know that it has been run once successfully. Similarly on an uninstall, that information should be removed from the installer.<br />
<br />
I dont know if this is possible... :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th September 2004, 15:03</div></div><div class="posttext">Well, since the CRC checksum is only done until the logical end of the installer file, you can easily tack some information on the end of it. You can put a unique id there and contact the server while installing to ask if that id is valid. You can also try writing something there while installing.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aadya</div><div class="date">29th September 2004, 15:06</div></div><div class="posttext">Sounds interesting...<br />
more so as i am a bit lost ;)<br />
could you elaborate a bit more please?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th September 2004, 15:11</div></div><div class="posttext">NSIS uses a CRC checksum to make sure the installer is not corrupted. By default, it only checksums until the end of the installer file. If you append data to the installer file, you won't get an error message saying the installer is corrupted. If you change some data in the middle of the installer, it will.<br />
<br />
This means you can append your data to the installer file. Since you distribute the installer yourself, you can easily append different data to each installer. This data can then be read by the installer itself using FileOpen, FileRead, FileSeek and FileClose.<br />
<br />
This per-installer data can be a unique id that will be used to communicate with your server. The server, according to the id and its database, will know whether the installer is still valid or not.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aadya</div><div class="date">29th September 2004, 15:15</div></div><div class="posttext">Sounds like you have by answer..<br />
&quot;This means you can append your data to the installer file&quot; ..HOW? <br />
Sorry but i am a bit new to the world of installers...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th September 2004, 15:18</div></div><div class="posttext">You have a compiled installer, you can change it however you see fit. You can change it with notepad, another text editor, a scripting language or even another NSIS installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aadya</div><div class="date">29th September 2004, 15:37</div></div><div class="posttext">sounds rough but i guess good enough for short term.<br />
thanks a lot.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>