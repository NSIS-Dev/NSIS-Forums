<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CreateBitmap Function, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CreateBitmap Function NSIS Discussion" />
	
	<title> CreateBitmap Function [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CreateBitmap Function</div>
<hr />
<div class="pda"><a href="t-177306.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=177306">CreateBitmap Function</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">20th April 2004, 01:32</div></div><div class="posttext">I made a function called &quot;CreateBitmap&quot;. It creates a bitmap depending on the information the user gives. Now it has only 4 parameters, and it requires &quot;${StrTok}&quot; from StrFunc.nsh header file.<br />
<br />
How to use it:<br />
<br />
Push bitmapfile.bmp # Bitmap file (don't need to be an existant one)<br />
Push width # Width<br />
Push height # Height<br />
Push RRGGBB|[RRGGBB|...] # Colors separated by vertical bars &quot;|&quot; with the format RRGGBB each.<br />
<br />
This file below is an small example, but you can customize it as you want. The example will create a bitmap on the same directory where the program is called &quot;CreateBitmapExample.bmp&quot;, open it and you'll see a very small example of what is the result. Comments are acceptable.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">22nd April 2004, 21:23</div></div><div class="posttext">New version, it now supports 1 bit bitmaps.<br />
<br />
Inside the file has an example of 1 bit bitmap with changed palette colors. And the file has the old example for 24 bits bitmaps, just check it out. Instructions can be found inside also.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">25th April 2004, 18:01</div></div><div class="posttext">New version, now it supports 4 and 8 bits bitmaps.<br />
<br />
Push BitmapFile.bmp   # Bitmap file to write<br />
Push (1|4|8|24)   # Bits per pixel<br />
Push ([RRGGBB|...]|default)   # Palette colors or &quot;default&quot; for default ones<br />
Push width   # Bitmap width<br />
Push height   # Bitmap height<br />
Push [RRGGBB|...]   # Colors or Palette Index Color Numbers<br />
Call CreateBitmap<br />
<br />
More instructions are inside the example section.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">1st May 2004, 23:12</div></div><div class="posttext">Fixed bitmap creation using 4 and 8 bits bitmaps. Same way to call:<br />
<br />
Push BitmapFile.bmp # Bitmap file to create<br />
Push (1|4|8|24) # Bits per pixel<br />
Push ([RRGGBB|...]|default) # Palette colors or &quot;default&quot; for default ones<br />
Push width # Bitmap width<br />
Push height # Bitmap height<br />
Push [RRGGBB|...] # Colors or Palette Index Color Numbers<br />
Call CreateBitmap<br />
<br />
I'm now focusing on a function to read bitmaps, it will arrive soon...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">1st May 2004, 23:14</div></div><div class="posttext">I forgot to attach the most important thing:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">15th May 2004, 03:41</div></div><div class="posttext">ReadBitmap Function<br />
<br />
It reads 1, 4, 8 and 24 bits bitmaps created by any program. The only limitation of the result is the NSIS maximum supportable string size.<br />
<br />
It doesn't utilize StrFun.nsh's ${StrTok} but utilizes extra 2 functions (as provided in CreateBitmap function). Not fully tested:<br />
<br />
Push BitmapFile.bmp # Bitmap file to read<br />
Call ReadBitmap<br />
Pop var # Output -&gt; palette colors (except for 24 bits)<br />
Pop var # Output -&gt; number of bits (1,4,8,24)<br />
Pop var # Output -&gt; height<br />
Pop var # Output -&gt; width<br />
Pop var # Output -&gt; color indexes (1,4,8 bits) or colors in RRGGBB format (24 bits)<br />
<br />
These above are about the same instructions found inside.<br />
<br />
TIP: You can use the information of some bitmaps to create others with CreateBitmap.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>