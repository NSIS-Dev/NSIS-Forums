<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Compiling Source Code, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Compiling Source Code NSIS Discussion" />
	
	<title> Compiling Source Code [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Compiling Source Code</div>
<hr />
<div class="pda"><a href="t-53072.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=53072">Compiling Source Code</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Ackbar</div><div class="date">21st June 2001, 02:46</div></div><div class="posttext">Hi. I am a little new to c++ so I imagine it's probably just a stupid mistake/problem I'm causing. But I keep recieving the following error in the bug log:<br />
<br />
Compiling...<br />
exedata.cpp<br />
C:\Program Files\NSIS\Source\exedata.cpp(3) : fatal error C1083: Cannot open include file: 'exehead/Release/bitmap1.h': No such file or directory<br />
Error executing cl.exe.<br />
<br />
<br />
Now I checked and can't find this bitmap1.h file. Does anyone have a solution? Thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">21st June 2001, 03:15</div></div><div class="posttext">I don't know what development environment you are using (Microsoft Visual C++ 6.0?) but I do know what is causing this - the EXEHEAD sub-project must be built before the main MAKENSIS project.<br />
<br />
After EXEHEAD is built, there is a custom build step that runs the BIN2H.EXE program to transform various files into .H headers:  EXEHEAD.EXE to EXEHEAD.H, BITMAP1.BMP to BITMAP1.H, and so on.  If this custom step isn't working (if you aren't using MS Visual C++, for example), then you will have to run BIN2H by hand from a command-line.  I don't know the syntax unfortunately but you can probably figure it out by playing around with it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ackbar</div><div class="date">21st June 2001, 12:25</div></div><div class="posttext">Yeah I'm using visual c++, and I built the exehead project first. That compiled out fine. But still recieving the error. Thanks for the reply though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ackbar</div><div class="date">21st June 2001, 13:02</div></div><div class="posttext">Ok I figured that out. Thanks for the help there. Now I'm recieving this error.<br />
<br />
Compiling resources...<br />
Compiling...<br />
Adler32.c<br />
deflate.c<br />
trees.c<br />
build.cpp<br />
exedata.cpp<br />
makenssi.cpp<br />
script.cpp<br />
tokens.cpp<br />
util.cpp<br />
Linking...<br />
script.obj : error LNK2001: unresolved external symbol _VerQueryValueA@16<br />
script.obj : error LNK2001: unresolved external symbol _GetFileVersionInfoA@16<br />
script.obj : error LNK2001: unresolved external symbol _GetFileVersionInfoSizeA@8<br />
Debug/makenssi.exe : fatal error LNK1120: 3 unresolved externals<br />
Error executing link.exe.<br />
<br />
makenssi.exe - 4 error(s), 0 warning(s)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">21st June 2001, 16:21</div></div><div class="posttext">Strange, you aren't linking with the right libraries.  You need to add &quot;version.lib&quot; to the library list on the Build Settings: Link Options page.<br />
<br />
It should have already been in the DSP project file.  But whatever.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">numberone</div><div class="date">22nd June 2001, 18:53</div></div><div class="posttext">I think the issues may be caused if one is using the debug configuration instead of the release configuration.<br />
<br />
If you haven't yet compiled under the release configuration, you will get the following error when compiling under the debug configuration because the bitmap1.h file won't be present in the release folder yet:<br />
<br />
C:\Program Files\NSIS\Source\exedata.cpp(3) : fatal error C1083: Cannot open include file: 'exehead/Release/bitmap1.h': No such file or directory<br />
<br />
First compiling under the release configuration, and then switching back the the debug configuration will fix this error.  As for the link errors, adding version.lib to the debug configuration will fix this.  I think version.lib is not in the debug configuration of the project file we download.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ackbar</div><div class="date">22nd June 2001, 19:00</div></div><div class="posttext">Yeah I got it all fixed. Thanks for the help :) Though I havn't been seeing any changes when I compile and use the new one. Oh well.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kariem</div><div class="date">23rd June 2001, 12:44</div></div><div class="posttext">Is there any possibility to obtain this &quot;version.lib&quot;? There are still linker conflicts.<br />
<br />
I tried both release and debug configurations. But it does not create the makensis.exe file.<br />
<br />
<br />
Kariem</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ackbar</div><div class="date">23rd June 2001, 14:19</div></div><div class="posttext">What I did was I went to the projects menu, settings, and selected the link tab. Then at the end of the object/library modules I typed version.lib. Then ok and try compiling. See if that works for you :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kariem</div><div class="date">23rd June 2001, 23:03</div></div><div class="posttext">Thank you very much Ackbar. Your name fits to your behaviour: Ackbar means &quot;the greatest&quot; in arabic ;). Everything works fine now.<br />
<br />
I had problems with the explanations before. I have never used Visual C++ and bought a student version in german yesterday with different menu descriptions.<br />
<br />
<br />
Thanks again,<br />
Kariem</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Repzilon</div><div class="date">1st July 2001, 20:59</div></div><div class="posttext">I am using Visual C++ 5.0 and had no porblem to compile it. I tested the makenssi.exe file created with a script and I had no problem to compile a NSIS installer. Then, when I tested the NSIS generated installer, I got a CRC error. CRCCheck was set to On in my script.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>