<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Multiple custom pages, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Multiple custom pages NSIS Discussion" />
	
	<title> Multiple custom pages [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Multiple custom pages</div>
<hr />
<div class="pda"><a href="t-260684.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=260684">Multiple custom pages</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">solwolf</div><div class="date">29th November 2006, 15:53</div></div><div class="posttext">I need little help, i dunno where to start with having the install button (changed it to next) to goto next custom page (i would like to have about 4 custom pages that just ask information and then goto next page) and at the end i will produce a new script i have done this before with just one custom page now i would like to make it multiple pages (for size and organization reasons)<br />
<br />
i would like to just use the normal UI but any help would be helpful.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">solwolf</div><div class="date">29th November 2006, 16:01</div></div><div class="posttext">Here is my single custom page example and now i would like instead of quitting for it to head to custompage #2<br />
<br />
<br />
!include WinMessages.nsh<br />
Name &quot;custompage Test&quot;<br />
OutFile &quot;CustomPages.exe&quot;<br />
SetCompressor /FINAL bzip2<br />
<br />
ShowInstDetails show<br />
<br />
Function .onInit<br />
  InitPluginsDir<br />
  File /oname=$PLUGINSDIR\test.ini &quot;testnotify.ini&quot;<br />
FunctionEnd<br />
<br />
Page custom ShowCustom LeaveCustom &quot;&quot;<br />
<br />
Function ShowCustom<br />
  InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\test.ini&quot;<br />
		Pop $0<br />
  InstallOptions::show<br />
		Pop $0<br />
FunctionEnd<br />
<br />
Function LeaveCustom<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\test.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
  StrCmp $0 0 next<br />
  StrCmp $0 13 clear<br />
  Abort <br />
<br />
clear:<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 2&quot; &quot;HWND&quot;<br />
  SendMessage $1 ${WM_SETTEXT} 0 &quot;STR:&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 3&quot; &quot;HWND&quot;<br />
  SendMessage $1 ${WM_SETTEXT} 0 &quot;STR:&quot;<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 5&quot; &quot;HWND&quot;<br />
  SendMessage $1 ${WM_SETTEXT} 0 &quot;STR:&quot;<br />
  Abort<br />
<br />
next:<br />
  ReadINIStr $R0 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 2&quot; &quot;State&quot; ;Camapaign ID<br />
  ReadINIStr $R1 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 4&quot; &quot;State&quot; ;Application Name<br />
  ReadINIStr $R2 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 6&quot; &quot;State&quot; ;Skin Name<br />
  ReadINIStr $R3 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 8&quot; &quot;State&quot; ;http Location<br />
  ReadINIStr $R4 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 10&quot; &quot;State&quot; ;Script File<br />
	ReadINIStr $R5 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 12&quot; &quot;State&quot; ;icon File<br />
	<br />
	SetOverwrite try<br />
	ExecWait '&quot;C:\Program Files\NSIS\makensis.exe&quot; &quot;/DAPP=$R1&quot; &quot;/DICON=$R5&quot; &quot;/DSKINNAME=$R2&quot; &quot;/DCAMPID=$R0&quot; &quot;/DDOWNLOADDIR=$R3&quot; $R4'<br />
	Quit<br />
FunctionEnd<br />
<br />
; Installation page<br />
Page instfiles<br />
<br />
Section<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th November 2006, 18:03</div></div><div class="posttext">I'm not sure I understand the problem. If you want multiple custom pages, use multiple Page commands. Doesn't that work for you?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">solwolf</div><div class="date">1st December 2006, 15:45</div></div><div class="posttext">Well i think i figured it out i figured it would be easier then this but it works.  Thanks Joost Verburg.<br />
<br />
<br />
	!include &quot;MUI.nsh&quot;<br />
	CRCCheck on<br />
	Name &quot;Install Creator Test 1.0&quot;<br />
  OutFile &quot;CreateInstaller.exe&quot;<br />
	InstallDir &quot;$DESKTOP&quot;<br />
	<br />
	;!insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_DIRECTORY<br />
  Page custom CustomPageA<br />
  Page custom CustomPageB<br />
  Page custom CustomPageC<br />
  Page custom CustomPageD<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
<br />
	!define MUI_ABORTWARNING<br />
  <br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
  ;If you are using solid compression, files that are required before<br />
  ;the actual installation should be stored first in the data block,<br />
  ;because this will make your installer start faster.<br />
  <br />
  ReserveFile &quot;custom1.ini&quot;<br />
  ReserveFile &quot;custom2.ini&quot;<br />
  ReserveFile &quot;custom3.ini&quot;<br />
	ReserveFile &quot;custom4.ini&quot;<br />
  !insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
<br />
Section &quot;Main Installer&quot; Main<br />
	<br />
  SetOutPath &quot;$INSTDIR&quot;<br />
  <br />
  ;___________________________________________<br />
	;               <br />
	;						Main Page Input<br />
	;___________________________________________<br />
	<br />
	;   Main page Variables<br />
	Var /GLOBAL ScriptName<br />
	Var /GLOBAL InstIco<br />
	Var /GLOBAL UninstIco<br />
	Var /GLOBAL ExeName<br />
	Var /GLOBAL Website<br />
	Var /GLOBAL WndClass<br />
	Var /GLOBAL WndTitle<br />
	<br />
  !insertmacro MUI_INSTALLOPTIONS_READ $ScriptName &quot;custom1.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $InstIco &quot;custom1.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $UninstIco &quot;custom1.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $ExeName &quot;custom1.ini&quot; &quot;Field 8&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $Website &quot;custom1.ini&quot; &quot;Field 10&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $WndClass &quot;custom1.ini&quot; &quot;Field 12&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $WndTitle &quot;custom1.ini&quot; &quot;Field 14&quot; &quot;State&quot;<br />
<br />
	;___________________________________________<br />
	;               <br />
	;   				File Info Page Input<br />
	;___________________________________________<br />
	<br />
	;    File Info Variables<br />
	Var /GLOBAL ProdName <br />
	Var /GLOBAL FileVersion<br />
	Var /GLOBAL TradeMark<br />
	Var /GLOBAL CopyRight<br />
	Var /GLOBAL Comment<br />
	Var /GLOBAL Description<br />
	<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $ProdName &quot;custom2.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $FileVersion &quot;custom2.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $TradeMark &quot;custom2.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $CopyRight &quot;custom2.ini&quot; &quot;Field 8&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $Comment &quot;custom2.ini&quot; &quot;Field 10&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $Description &quot;custom2.ini&quot; &quot;Field 12&quot; &quot;State&quot;<br />
<br />
	;___________________________________________<br />
	;               <br />
	;						Customize Installer Page Input<br />
	;___________________________________________<br />
	<br />
	;   Installer Custom Variables<br />
	Var /GLOBAL Header<br />
	Var /GLOBAL LeftImage<br />
	Var /GLOBAL BottomImage<br />
	Var /GLOBAL BGColor<br />
	Var /GLOBAL BText<br />
	Var /GLOBAL BFront<br />
	Var /GLOBAL BBack<br />
	Var /GLOBAL TextColor<br />
	Var /GLOBAL TextLightColor<br />
	<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $Header &quot;custom3.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $LeftImage &quot;custom3.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $BottomImage &quot;custom3.ini&quot; &quot;Field 6&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $BGColor &quot;custom3.ini&quot; &quot;Field 8&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $BText &quot;custom3.ini&quot; &quot;Field 10&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $BFront &quot;custom3.ini&quot; &quot;Field 12&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $BBack &quot;custom3.ini&quot; &quot;Field 14&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $TextColor &quot;custom3.ini&quot; &quot;Field 16&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $TextLightColor &quot;custom3.ini&quot; &quot;Field 18&quot; &quot;State&quot;<br />
<br />
	;___________________________________________<br />
	;               <br />
	;						Splash Screen Input<br />
	;___________________________________________<br />
<br />
	Var /GLOBAL Picture<br />
	Var /GLOBAL Sound<br />
	<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $Picture &quot;custom4.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_READ $Sound &quot;custom4.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
	<br />
	;___________________________________________<br />
	;               <br />
	;						Installer Creation Point<br />
	;___________________________________________<br />
	<br />
	ExecWait '&quot;$EXEDIR\makensis.exe&quot; &quot;/DAPP=$R1&quot; &quot;/DICON=$R5&quot; &quot;/DSKINNAME=$R2&quot; &quot;/DCAMPID=$R0&quot; &quot;/DDOWNLOADDIR=$R3&quot; $ScriptName'<br />
	<br />
	;MessageBox MB_OK &quot;Your website is $Website&quot;<br />
<br />
SectionEnd<br />
<br />
<br />
Function .onInit<br />
<br />
  ;Extract InstallOptions INI files<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;custom1.ini&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;custom2.ini&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;custom3.ini&quot;<br />
	!insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;custom4.ini&quot;<br />
  <br />
FunctionEnd<br />
<br />
Function CustomPageA<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;Main Page&quot; &quot;The following fields all need to be filled out Carefully for there is no real validation except that you fill them out.&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;custom1.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
Function CustomPageB<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;File Version Properties&quot; &quot;The following fields describe to windows what the application properties are.&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;custom2.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
Function CustomPageC<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;Customize Installer&quot; &quot;the first 3 fields have to be Bitmaps it will not accept anything else.  Color Must Be in HEXIDECIMAL format ONLY!. If wish to not have a drop shadow on the branding then put the same color in both fields.&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;custom3.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
Function CustomPageD<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;Splash Screen&quot; &quot;The First field must be a Bitmap and the 2nd field must be a wav or it will not work.&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;custom4.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
BrandingText &quot;Skin Installer Graphical User Interface&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">solwolf</div><div class="date">1st December 2006, 15:52</div></div><div class="posttext">how do i start a page with a variable.  I know that the State in the INI will place that string in the textbox.  How do i place a variable in there instead like $DESKTOP placed under the state field it will just print out &quot;$DESKTOP&quot; not C:\Document and settings\User\Desktop<br />
<br />
thanks<br />
Solwolf</div></div><hr />


<div class="post"><div class="posttop"><div class="username">solwolf</div><div class="date">1st December 2006, 18:21</div></div><div class="posttext">ok so i figured it out.  To Start your form with values that are variables.  you must just write to the ini prior Initializing your installOptions like this:<br />
<br />
<br />
WriteINIStr &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 10&quot; &quot;State&quot; &quot;$Desktop&quot;<br />
InstallOptions::initDialog /NOUNLOAD &quot;$PLUGINSDIR\test.ini&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zbd</div><div class="date">11th December 2006, 04:43</div></div><div class="posttext">you may also need to put File /oname=$PLUGINSDIR\installapp.ini &quot;assets\installapp.ini&quot; so that it works on computers other than the build computer. I think... am prolly wrong :igor:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>