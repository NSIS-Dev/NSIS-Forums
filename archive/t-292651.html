<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" handling of hard and soft links, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  handling of hard and soft links NSIS Discussion" />
	
	<title> handling of hard and soft links [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  handling of hard and soft links</div>
<hr />
<div class="pda"><a href="t-292651.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=292651">handling of hard and soft links</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">vapier</div><div class="date">3rd June 2008, 01:56</div></div><div class="posttext">i use mingw32 to compile a large project (~150meg) and nsis to make an installer all under Linux so that i dont actually need Windows.  in this regard, nsis has been a godsend.  cheers to all the developers who have made this a reality.  but i digress ...<br />
<br />
the project employs a large number of symlinks which, under Linux, work just peachy to conserve space.  however, as one would imagine, those symlinks get duplicated as actual files when installed in Windows and considering many of these files are megabytes in range, this is undesirable.<br />
<br />
is there a method for using real links under Windows ?  newer versions (like Vista) support real softlinks while older versions (like XP/2000) support hardlinks.  i dont personally care about older versions of Windows, but the logic would be:<br />
 - softlinks supported ?  use em, else ...<br />
 - hardlinks supported ?  use em, else ...<br />
 - make duplicate files (like today)<br />
<br />
ive searched around (google/nsis docs/nsis forums) but cant find anyone who is doing this</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd June 2008, 11:28</div></div><div class="posttext">for hardlinks, you should be able to do something like: <br />
<br />
system::call 'kernel32::CreateHardLink(t &quot;file2&quot;,t &quot;file1&quot;)i.r0' <br />
<br />
(win2000 and later, both files must be on the same volume IIRC(and FS must be NTFS))<br />
<br />
and vista softlinks: system::call 'kernel32::CreateSymbolicLink(t &quot;file2&quot;,t &quot;file1&quot;,i0)i.r0' <br />
<br />
(did not actually test this code)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>