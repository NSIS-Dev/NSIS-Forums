<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" IfFileExists always fails?!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  IfFileExists always fails?! NSIS Discussion" />
	
	<title> IfFileExists always fails?! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  IfFileExists always fails?!</div>
<hr />
<div class="pda"><a href="t-318200.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318200">IfFileExists always fails?!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">nmartin</div><div class="date">6th April 2010, 18:13</div></div><div class="posttext">For some reason the IfFileExists function always evaluates to false.<br />
<br />
IfFileExists $productFile continue<br />
        MessageBox MB_OK &quot;Please select a valid product package file. <br />
        Abort<br />
    continue:<br />
 MessageBox MB_OK &quot;Found file. <br />
<br />
I have checked and doubled checked and the $productFile path is valid. Does anyone know what's up?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">6th April 2010, 18:44</div></div><div class="posttext">Perhaps there are spaces in your file path?<br />
<br />
Use:<br />
IfFileExists &quot;$productFile&quot; continue<br />
<br />
Otherwise... have you checked the actual value of that variable, or are you just checking that it is valid by assuming that the value you set it to, is what the value is at that point?<br />
<br />
I would add a:<br />
MessageBox MB_OK &quot;[$productFile]&quot; before the IfFileExists so you can see what the variable value -actually- is (including any leading/trailing spaces).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ahmett</div><div class="date">6th April 2010, 21:21</div></div><div class="posttext">!include &quot;MUI2.nsh&quot; ( or LogicLib.nsh )<br />
<br />
<br />
${ifnot} ${FileExists} &quot;$productFile&quot;<br />
MessageBox MB_OK &quot;Please select a valid product package file. <br />
Abort<br />
${else}<br />
MessageBox MB_OK &quot;Found file. <br />
${endif}<br />
<br />
or <br />
<br />
${if} ${FileExists} &quot;$productFile&quot;<br />
MessageBox MB_OK &quot;Found file. <br />
${else}<br />
MessageBox MB_OK &quot;Please select a valid product package file. <br />
Abort<br />
${endif}</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>