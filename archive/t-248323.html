<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Whole game setup (w00t), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Whole game setup (w00t) NSIS Discussion" />
	
	<title> Whole game setup (w00t) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Whole game setup (w00t)</div>
<hr />
<div class="pda"><a href="t-248323.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248323">Whole game setup (w00t)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DarK_TaO</div><div class="date">10th June 2006, 00:59</div></div><div class="posttext">Hi, well I'm new here, as in forums, as in NSIS =P.<br />
<br />
So let me tell you wat's up: I'm trying to make a game Setup.<br />
<br />
It has a lot of files and the Spanish tutorials that I read, only explain how to add the files manualy (File *.ext).<br />
<br />
Is there, anyway to add all files in a directory and sub directories ?<br />
<br />
Other question.<br />
<br />
REgistry stuff.<br />
<br />
LEt's say I want to add this to the windows registry:<br />
[HKEY_CURRENT_USER\Software\Valve\Half-Life\Settings]<br />
&quot;io&quot;=&quot;1148601249&quot;<br />
&quot;DELV&quot;=dword:00000002<br />
&quot;EngineDLL&quot;=&quot;hw.dll&quot;<br />
&quot;User Token 2&quot;=&quot;&quot;<br />
&quot;User Token 3&quot;=&quot;&quot;<br />
&quot;ScreenWindowed&quot;=dword:00000000<br />
&quot;CrashInitializingVideoMode&quot;=dword:00000000<br />
&quot;ScreenWidth&quot;=dword:00000400<br />
&quot;ScreenHeight&quot;=dword:00000300<br />
&quot;ScreenBPP&quot;=dword:00000010<br />
&quot;EngineD3D&quot;=dword:00000000<br />
<br />
<br />
How do I do that,(Just one key example :P) and How do I do to read current values if already installed?<br />
<br />
Thanx, I'm just asking because I'ts really hard for me to read english tutorials, and spanish ones are useless (could'nt find anithyng about registry or what I've asked).<br />
<br />
If someone is experienced and would like to give me some help by MSN, plz send me an PM with email =).<br />
<br />
Thanx, sorry if I to n00b :P, hehe.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">10th June 2006, 01:07</div></div><div class="posttext">If you see File instruction at the help system, you notice some flag called wildcard.<br />
<br />
Good luck! :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mr Inches</div><div class="date">10th June 2006, 09:32</div></div><div class="posttext">From the help files:<br />
<br />
1) Use File File*.ext /r to (r)ecurse through subdirectories.<br />
Look up the File command in the help for more information.<br />
<br />
2) Use WriteRegDWord or WriteRegStr to add items to the registry. Look in the help under these items for more information.<br />
<br />
Hope this helps.<br />
<br />
Duncan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DarK_TaO</div><div class="date">11th June 2006, 00:27</div></div><div class="posttext">Thnx, it was hard for me to understand the helpfile, but i finaly got it, thanks for your guide =).<br />
<br />
Ok so the installer is ALMOST ready, i have a problem with a registry key.<br />
<br />
I'll put it just like windows shows it.<br />
<br />
I have spanish windows, so maybe a translation is not good<br />
<br />
&quot;name&quot;              &quot;tipe&quot;                 &quot;data(?)&quot; <br />
<br />
&quot;EngineDLL&quot;         &quot;REG_SZ&quot;               &quot;hw.dll&quot;<br />
<br />
How do I add that info?. DWORD command worked just fine. but  I still can't add that one. =(<br />
<br />
I tried:<br />
<br />
WriteRegStr HKCU Software\blah\&quot; &quot;ENGINEDLL&quot; &quot;hw.dll&quot;<br />
<br />
and<br />
<br />
WriteRegStr HKCU Software\blah\&quot; &quot;hw.dll&quot; &quot;ENGINEDLL&quot;<br />
<br />
This is what i Have until Now:<br />
<br />
/* Script Hecho por ^DarK_TaO^<br />
*<br />
* Enjoy!<br />
*<br />
* Instalador TFC 1.6 Full v23B<br />
*<br />
*Tipica manera de iniciar una seccion<br />
*<br />
*;Seccion &quot;Nombre de comentario&quot; (Dejar un ; adelante)<br />
*<br />
*Section &quot;Nombre de la seccion&quot;<br />
*<br />
* File archivo.ext<br />
*<br />
*SectionEnd<br />
*/<br />
#<br />
;//////////////////////////////////////////////////////<br />
;*********************** General **********************<br />
;<br />
;Version<br />
!define VERSION &quot;1.0&quot;<br />
<br />
<br />
;Nombre del Programa<br />
<br />
Name &quot;TFC 1.6 Half-Life 1.6 V23B Nosteam&quot;<br />
<br />
<br />
;Nombre del archivo<br />
<br />
OutFile &quot;TFC Full.exe&quot;<br />
<br />
<br />
;Directorio por defecto<br />
<br />
InstallDir C:\Valve<br />
<br />
<br />
;Texto que se muestra<br />
<br />
DirText &quot;Por favor elegi donde queres instalar todo.&quot;<br />
<br />
<br />
;Icono del Instalador<br />
<br />
Icon &quot;tf.ico&quot;<br />
<br />
<br />
;Buscar mejor Compresion Automaticamente<br />
<br />
SetCompress Auto<br />
<br />
<br />
;Guardar Archivos Temporales<br />
<br />
SetDateSave On<br />
<br />
<br />
;Optimizar archivos Automaticamente<br />
<br />
SetDataBlockOptimize On<br />
<br />
<br />
;Mostrar Detalles del instalador automaticamente (Letras verdes)<br />
<br />
ShowInstDetails show<br />
<br />
<br />
;Archivo de licencia<br />
<br />
LicenseData &quot;Lic.txt&quot;<br />
<br />
;******************************************************<br />
;//////////////////////////////////////////////////////<br />
;*********************** Desinstalar ******************<br />
;<br />
Section &quot;Uninstall&quot;<br />
;<br />
  Delete $INSTDIR\Uninst.exe<br />
  Delete $INSTDIR\HL.exe<br />
  Delete $INSTDIR\HLDS.exe<br />
  Delete $INSTDIR\HLTV.exe<br />
  RMDir $INSTDIR<br />
;<br />
SectionEnd<br />
;<br />
;******************************************************<br />
;//////////////////////////////////////////////////////<br />
;*********************** Paginas **********************<br />
;<br />
Page license<br />
Page components<br />
Page directory<br />
Page instfiles<br />
UninstPage uninstConfirm<br />
UninstPage instfiles<br />
;<br />
;******************************************************<br />
;//////////////////////////////////////////////////////<br />
;*********Seccion DLLS de la carpeta principal*********<br />
;<br />
Section &quot;Registro de Windows&quot;<br />
;<br />
WriteRegDWORD 	HKCU &quot;Software\Valve\Half-Life\Settings&quot; 	&quot;DELV&quot; 			0x00000002<br />
WriteRegDWORD 	HKCU &quot;Software\Valve\Half-Life\Settings&quot; 	&quot;ENGINED3D&quot; 		0x00000000<br />
WriteRegDWORD 	HKCU &quot;Software\Valve\Half-Life\Settings&quot; 	&quot;ScreenBPP&quot; 		0x00000016<br />
WriteRegDWORD 	HKCU &quot;Software\Valve\Half-Life\Settings&quot; 	&quot;ScreenHeight&quot; 		0x00000300<br />
WriteRegDWORD 	HKCU &quot;Software\Valve\Half-Life\Settings&quot; 	&quot;ScreenWidth&quot; 		0x00000400<br />
WriteRegDWORD 	HKCU &quot;Software\Valve\Half-Life\Settings&quot; 	&quot;ScreenWindowed&quot;	0x00000000<br />
SectionEnd<br />
;<br />
Section &quot;Engine Principal&quot;<br />
;<br />
 SetOutPath $INSTDIR<br />
;<br />
<br />
  File a3dapi.dll<br />
  File Core.dll<br />
  File dbg.dll<br />
  File DemoPlayer.dll<br />
  File FileSystem_Stdio.dll<br />
  File FileSystem_Steam.dll<br />
  File hw.dll<br />
  File Mss32.dll<br />
  File Steam.dll<br />
  File proxy.dll<br />
  File steamclient.dll<br />
  File sw.dll<br />
  File swds.dll<br />
  File tier0_s.dll<br />
  File vgui2.dll<br />
  File vgui.dll<br />
  File voice_miles.dll<br />
  File voice_speex.dll<br />
  File vstdlib_s.dll<br />
;<br />
;********Carpeta principal********<br />
;<br />
  File hl.exe<br />
  File hlds.exe<br />
  File hltv.exe<br />
  File Mp3dec.asi<br />
  File Mssv12.asi<br />
  File Mssv29.asi<br />
  File InstallRecord.blob<br />
  File hltv.cfg<br />
  File kver.kp<br />
  File hlds_steamgames.vdf<br />
  File language.inf<br />
;<br />
;********GLDRV********<br />
;<br />
 SetOutPath $INSTDIR\gldrv<br />
;<br />
<br />
  File gldrv\3dfxgl.dll<br />
  File gldrv\drvmap.txt<br />
;<br />
SectionEnd<br />
<br />
;Carpeta &quot;Plataform&quot;<br />
;<br />
Section &quot;Plataforma&quot;<br />
;<br />
;------------plataform------------<br />
;<br />
  SetOutPath $INSTDIR\platform<br />
;<br />
 File /r platform\*.*<br />
;<br />
;------------reslists------------<br />
;<br />
  SetOutPath $INSTDIR\reslists<br />
;<br />
 File /r reslists\*.*<br />
;<br />
SectionEnd<br />
;<br />
;------------tfc------------<br />
;Carpeta &quot;tfc&quot;<br />
;<br />
Section &quot;TFC&quot;<br />
;<br />
  SetOutPath $INSTDIR\tfc<br />
;<br />
 File /r tfc\*.*<br />
;<br />
SectionEnd<br />
<br />
;Carpeta &quot;valve&quot;<br />
;<br />
Section &quot;Half-Life&quot;<br />
;<br />
;------------valve------------<br />
;<br />
  SetOutPath $INSTDIR\valve<br />
;<br />
 File /r valve\*.*<br />
;<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th June 2006, 09:55</div></div><div class="posttext">WriteRegStr HKCU &quot;Software\blah&quot; &quot;ENGINEDLL&quot; &quot;hw.dll&quot;<br />
<br />
I'm not sure if that was the exact code you posted, but you were missing a quote (&quot;).<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>