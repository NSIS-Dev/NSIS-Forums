<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Relative path question (Resolved), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Relative path question (Resolved) NSIS Discussion" />
	
	<title> Relative path question (Resolved) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Relative path question (Resolved)</div>
<hr />
<div class="pda"><a href="t-333152.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=333152">Relative path question (Resolved)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">siegeon</div><div class="date">3rd August 2011, 17:00</div></div><div class="posttext">I recently joined a company who is using NSIS for their installer scripts, so I do not know much about them. I have been trying to set up the pathing of the files to add to the installer to be relative, but all my attempts are failing. As an example here they are adding the program files that will be included in the install.<br />
<br />
; program files<br />
	SetOutPath &quot;$INSTDIR&quot;<br />
	SetOverwrite ifnewer<br />
File &quot;C:\Users\me\Documents\VisualStudio\2010\Projects\project\subfolder\bin\Release\company.Windows.exe&quot;<br />
<br />
I would like the c:\Users\me portion to be relative so that we could all use the same script without changing the user all of the time.  <br />
<br />
I have tried a few things like<br />
$DOCUMENTS\visualStudio\2010... <br />
But I think I'm constructing the script wrong, or not using the Constants right, any suggestions?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">3rd August 2011, 17:02</div></div><div class="posttext">$DOCUMENTS is a runtime variable, while the compiler needs a compiletime path. You can read an environment variable during compile IIRC... Have you tried searching the forums for a bit? I can't remember where I saw it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">siegeon</div><div class="date">3rd August 2011, 17:10</div></div><div class="posttext">I have been dredging through the forums, it does not have to be $DOCUMENTS, that was just an example. I just figured there was a simple way that I was overlooking.<br />
<br />
Oh I have tried to use  ${__FILEDIR__} as well, but with the same result of file not found.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">siegeon</div><div class="date">3rd August 2011, 17:20</div></div><div class="posttext">Got it, never mind =)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">3rd August 2011, 20:58</div></div><div class="posttext">Feel free to mention the solution here, for posterity's sake. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">siegeon</div><div class="date">4th August 2011, 15:30</div></div><div class="posttext">Like a tard I did not realize that the installer already knew where it was, and I could use ./ syntax to move the folder I needed. Since the .nsi script is stored  in the project I was able to replace the whole path<br />
<br />
File &quot;C:\Users\Me\Documents\Visual Studio 2010\Projects\Project\CFO\bin\Release\Gyrum.Data.SqlServerCe35.dll&quot;<br />
<br />
with<br />
<br />
FILE &quot;.\CFO\bin\Release\Gyrum.Data.SqlServerCe35.dll&quot;<br />
<br />
making the installer work on everyone's machine.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>