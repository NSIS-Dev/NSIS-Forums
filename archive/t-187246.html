<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" http/1.1 400 bad request with NSISdl, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  http/1.1 400 bad request with NSISdl NSIS Discussion" />
	
	<title> http/1.1 400 bad request with NSISdl [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  http/1.1 400 bad request with NSISdl</div>
<hr />
<div class="pda"><a href="t-187246.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=187246">http/1.1 400 bad request with NSISdl</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">augy</div><div class="date">20th July 2004, 23:59</div></div><div class="posttext">I get the &quot;http/1.1 400 bad request&quot; error string whenever I try a particular download:<br />
<br />
NSISdl::download &quot;http://www.domainprotected.net/$CurInstallClient_Update/eCM for $CurInstall.exe&quot; &quot;$Path\$CurInstall\eCM for $CurInstall.exe&quot;<br />
<br />
as you may have guessed, $CurInstall and $Path are both user variables. I've checked the strings with messageboxes already--they expand out properly at runtime.  It's particularly difficult to figure out the problem because I do another download right after this one:<br />
<br />
NSISdl::download &quot;http://www.domainprotected.net/$CurInstallClient_Update/reg/UpdatedRegistryFile.reg&quot; $Path\UpdatedRegistryFile.reg<br />
<br />
and it also expands out just fine with messagebox AND it downloads correctly.<br />
<br />
Please note that I don't actually receive any error message popup; I only get the message if I pop it off the stack and messagebox it.  I would assume that the error message it trying to tell me that the file is nonexistent, but I've checked the path over and over and over again (it's been about a week, and the boss is getting irritated =D) to no avail.  The program seems to just skip over it; it blips the downloading dialog and then moves on to the next download.<br />
Oh, and this isn't an installer per se; it's actually an updater for a program installed with NSIS, so there's no $INSTDIR or anything; however, $Path contains the path to the installation directory, pulled out of the registry.<br />
<br />
So, any ideas?<br />
<br />
<br />
Thanks alot,<br />
<br />
augy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st July 2004, 11:40</div></div><div class="posttext">Remember that $CurInstallClient_Update is considerated one variable, so the value of $CurInstall is ignored. To solve this you need to use a common (or constant) variable (like $0), put the variable you want in it and concatenate the string into it. Like this below:<br />
<br />
StrCpy $0 $CurInstall<br />
StrCpy $0 $0Client_Update<br />
NSISdl::download &quot;http://www.domainprotected.net/$0/eCM for $CurInstall.exe&quot; &quot;$Path\$CurInstall\eCM for $CurInstall.exe&quot;<br />
<br />
Which means one more thing to go to the documentation:<br />
<br />
&quot;When you concatenate user variables with strings and there is no separation by a space, you need to use a common variable like $0, set the value of this constant variable with the user variable's, then you concatenate with a string and use it.&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">augy</div><div class="date">21st July 2004, 23:28</div></div><div class="posttext">&quot;Remember that $CurInstallClient_Update is considerated one variable, so the value of $CurInstall is ignored&quot;<br />
<br />
Well, this isn't true--When I messagebox, the string looks fine, and the second NSISdl::download I have listed works just fine, and it uses the user variables in the same way.  Is there anything else that may be causing it?<br />
<br />
<br />
augy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">iceman_k</div><div class="date">22nd July 2004, 02:56</div></div><div class="posttext">Perhaps its the spaces in &quot;http://www.domainprotected.net/$CurInstallClient_Update/eCM for $CurInstall.exe&quot; or the spaces in &quot;$Path\$CurInstall\eCM for $CurInstall.exe&quot;? <br />
<br />
Did you try:<br />
&quot;http://www.domainprotected.net/$CurInstallClient_Update/eCM%20for%20$CurInstall.exe&quot;<br />
or '&quot;$Path\$CurInstall\eCM for $CurInstall.exe&quot;' or a combination of the two?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>