<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Creating a DB connection file via NSIS?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Creating a DB connection file via NSIS? NSIS Discussion" />
	
	<title> Creating a DB connection file via NSIS? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Creating a DB connection file via NSIS?</div>
<hr />
<div class="pda"><a href="t-335212.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=335212">Creating a DB connection file via NSIS?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jakc</div><div class="date">25th September 2011, 04:47</div></div><div class="posttext">I am putting together an installer with NSIS (1st time, but liking it and have learnt a lot from these forums and from the NSIS tag on Stack Overflow).<br />
This installer has already installed a JRE and Tomcat.<br />
<br />
The next part will be to create a connection file to allow my application to point to a database.<br />
- Save this file into $PLUGINSDIR (will move it once I deploy some WARs at a later step).<br />
<br />
Currently, when manually doing our installs, we have a small JAR application that helps the user build this connection property file.  <br />
It has built in functionality to try and ping the DB, regardless of its Oracle, Oracle XE, SQL Server 2005/2008<br />
It has a drop-down which provides the bones of the URL connection strings, and then user can tweak if need be.<br />
<br />
http://www.dekho.com.au/help/32/ImagesExt/image13_19.jpg<br />
<br />
In my original mockup  (https://cacoo.com/diagrams/76bVHnXFPWXUNb3b#406EF)of an installer, ideally, I wanted something that did away with the JAR app and had this component built into the installer.  Something like this:<br />
<br />
https://cacoo.com/diagrams/76bVHnXFPWXUNb3b-406EF.png?t=1316069089558<br />
<br />
Little unsure on where to start.<br />
Had a look at some database related posts, and saw some samples here (http://nsis.sourceforge.net/Category:Database_Functions).<br />
<br />
I would like some advice/initial pointers on the best way to go about this.<br />
- Should I be trying to code this all within NSIS, or should I be calling on something external to test the connection? Not sure if you can Telnet via NSIS?<br />
- Has anyone seen any similar samples that I can reverse engineer?<br />
- Any other advice would be great. <br />
<br />
<br />
Thanks in advance.<br />
<br />
For info, once I have achieved this, a later step will be to create a database by running some SQL scripts I have.<br />
Just thinking ahead, I guess which database vendor/version they have, will depend on which sql script to run.  Im thinking that if the user chooses e.g. SQL Server 2005 on this page, this could be writen to a variable to use later when choosing the right sql script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">25th September 2011, 13:51</div></div><div class="posttext">Can't you call the JAR in the background (without GUI) and pass the parameters that the user has entered in the NSIS GUI (url, schema, username, password) to the JAR as command-line arguments? Then return the result of the test from the JAR via Exit Code?<br />
<br />
That will probably be the easiest solution, if you already have coded that JAR and also your installer installs a JRE anyway.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">26th September 2011, 05:45</div></div><div class="posttext">Use NSIS as interface to your Java application:<br />
- enter all parameters into NSIS form [custom nsDialogs page] and pass them to application<br />
- app returns some result and NSIS shows appropriate MessageBox [if necessary]<br />
- continue on next page with next app...<br />
<br />
This is great approach in case you need to modify/add some feature because you can simply change application and installer does not need to be rewritten.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>