<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" A message box after PAGE_INSTFILES completed, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  A message box after PAGE_INSTFILES completed NSIS Discussion" />
	
	<title> A message box after PAGE_INSTFILES completed [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  A message box after PAGE_INSTFILES completed</div>
<hr />
<div class="pda"><a href="t-332151.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=332151">A message box after PAGE_INSTFILES completed</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">yoachan</div><div class="date">4th July 2011, 12:48</div></div><div class="posttext">Dear all,<br />
<br />
please bear with me for it's only approx a week since I know NSIS.<br />
I've made my first NSIS installer, but something still bother me.<br />
<br />
I stated this two lines:<br />
<br />
!define MUI_FINISHPAGE_NOAUTOCLOSE<br />
!define MUI_UNFINISHPAGE_NOAUTOCLOSE<br />
<br />
<br />
that will cause user to be able to see log after install/uninstall completed.<br />
<br />
But I'm afraid some inexperienced user of mine didn't notice that the &quot;next&quot; button becomes available when the installation/uninstall completed. So they will wait until something happens. So I want to make a message box to appear just right after the last install/uninstall section completed to tell them that, hey, the installation/uninstall process is completed. You can either see the log detail or just click next to proceed to &quot;finish window&quot;.  <br />
<br />
I tried to use an empty section that will only display messagebox, but what happens is that it's often that the messagebox appears even though the progress bar still at around 80%...<br />
<br />
onInstSuccess Function won't work either for it will only be executed when everything is done instead of the &quot;real installation/uninstall progress&quot;.<br />
<br />
is there any way so that a message box will appear when and only when the install/uninstall progress is completed and the progress bar reach 100%.<br />
<br />
thanks in advanced.<br />
<br />
Regards,<br />
<br />
Yoachan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">4th July 2011, 15:04</div></div><div class="posttext">Add a hidden Section at the end (no name).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yoachan</div><div class="date">5th July 2011, 04:35</div></div><div class="posttext">@Afrow: Thanks for your reply....<br />
<br />
<br />
Add a hidden Section at the end (no name).<br />
<br />
Stu<br />
<br />
I've tried this approach as I said earlier... and this what occurs to me....<br />
<br />
I tried to use an empty section that will only display messagebox, but what happens is that it's often that the messagebox appears even though the progress bar still at around 80%...<br />
<br />
<br />
what I mean with empty section is a section with no name. sorry for the disambiguation....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">5th July 2011, 06:20</div></div><div class="posttext">The installation progress bar shows what percentage of script the installer has finished executing. So once your sections will contain all the code required for your installation, the progress will be 99% or 100% by the time it reaches the messagebox.<br />
<br />
Of course another option is to just do DetailPrint &quot;Installation completed successfully.&quot;  &gt;_&gt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yoachan</div><div class="date">5th July 2011, 07:07</div></div><div class="posttext">@MSG: Thanks for your reply :)<br />
<br />
The installation progress bar shows what percentage of script the installer has finished executing. So once your sections will contain all the code required for your installation, the progress will be 99% or 100% by the time it reaches the messagebox.<br />
<br />
Of course another option is to just do DetailPrint &quot;Installation completed successfully.&quot;  &gt;_&gt;<br />
<br />
Yes... that make sense......... <br />
<br />
so is it mean that I don't have any chance to put my message box there...? :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">5th July 2011, 07:28</div></div><div class="posttext">Well you can add the Nop command a hundred times... Or just use the RealProgress plugin.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">5th July 2011, 11:05</div></div><div class="posttext">You can use MUI_INSTFILESPAGE_FINISHHEADER_TEXT and MUI_INSTFILESPAGE_FINISHHEADER_SUBTEXT to define the text shown in the header of the installation page when the installation has been completed. See the &quot;Installation page settings&quot; section in the MUI manual for more information.<br />
<br />
Another way to show some text when the installation completes is to use &quot;SetDetailsPrint textonly&quot; and &quot;DetailPrint&quot; to display a message just above the progress bar on the installation page. If you create a final section containing only these commands then the message will appear when installation is complete.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yoachan</div><div class="date">6th July 2011, 05:43</div></div><div class="posttext">Thanks for you replies :)<br />
<br />
Well you can add the Nop command a hundred times... Or just use the RealProgress plugin.<br />
<br />
@MSG: RealProgress plugin seems to be a good solution. But when I look into it, I noted this warning: <br />
Warning: This file type may contain malicious code. <br />
By executing it, your system may be compromised.<br />
<br />
So I'm holding back.... is it really safe to use it?<br />
<br />
You can use MUI_INSTFILESPAGE_FINISHHEADER_TEXT and MUI_INSTFILESPAGE_FINISHHEADER_SUBTEXT to define the text shown in the header of the installation page when the installation has been completed. See the &quot;Installation page settings&quot; section in the MUI manual for more information.<br />
<br />
Another way to show some text when the installation completes is to use &quot;SetDetailsPrint textonly&quot; and &quot;DetailPrint&quot; to display a message just above the progress bar on the installation page. If you create a final section containing only these commands then the message will appear when installation is complete.<br />
@pengyou: thank you, I'll look into it.<br />
<br />
<br />
My current solution is removing <br />
<br />
!define MUI_FINISHPAGE_NOAUTOCLOSE<br />
!define MUI_UNFINISHPAGE_NOAUTOCLOSE<br />
<br />
<br />
and add the following:<br />
<br />
LogSet ON<br />
<br />
<br />
so when installation complete, they will be directed to &quot;finish_page&quot;. And if they need to see installation log, they can see it in install.log file. In most cases I think user won't need to see it. I just think that it will be needed in case installation failed and we need to know why and where it stops...<br />
<br />
regards,<br />
<br />
Yoachan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">6th July 2011, 06:44</div></div><div class="posttext">Thanks for you replies :)<br />
<br />
@MSG: RealProgress plugin seems to be a good solution. But when I look into it, I noted this warning: <br />
Warning: This file type may contain malicious code. <br />
By executing it, your system may be compromised.<br />
<br />
So I'm holding back.... is it really safe to use it?<br />
All attachments on the wiki have this warning, because anyone can edit a wiki (that's the whole point of a wiki). Just make sure the file is from the actual creator (check the wiki page history). Anyway, here's the forum thread: http://forums.winamp.com/showthread.php?s=&amp;threadid=235740</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yoachan</div><div class="date">6th July 2011, 16:16</div></div><div class="posttext">@MSG: again, thanks for your replies :)<br />
<br />
All attachments on the wiki have this warning, because anyone can edit a wiki (that's the whole point of a wiki). Just make sure the file is from the actual creator (check the wiki page history). Anyway, here's the forum thread: http://forums.winamp.com/showthread.php?s=&amp;threadid=235740<br />
<br />
Well, if that's the case. I'll give it a shot. And it's more likely case is closed for now. :)<br />
Thank you, and I thank everyone that already replied in my thread. :)<br />
<br />
regards,<br />
<br />
Yoachan</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>