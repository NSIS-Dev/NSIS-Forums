<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Window notifications - Callbacks - etc, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Window notifications - Callbacks - etc NSIS Discussion" />
	
	<title> Window notifications - Callbacks - etc [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Window notifications - Callbacks - etc</div>
<hr />
<div class="pda"><a href="t-269816.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=269816">Window notifications - Callbacks - etc</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">19th April 2007, 18:46</div></div><div class="posttext">Hi All,<br />
<br />
I am trying to track down a problem in UMUI, and well, now a problem with UMUI with the ToggleInstFiles plugin.<br />
<br />
Specifically, this plugin:<br />
http://nsis.sourceforge.net/ToggleInstFiles_plug-in<br />
<br />
After adjusting the C++ code to work with UMUI, (the button and progress bar need to be pushed down further), I have what I want things to look like.<br />
<br />
But this now brings up the problem mentioned in a different thread.<br />
<br />
The UMUI interface does NOT seem to get window events when things have changed on a specific window.<br />
(Because UMUI needs to be able to redraw things, like colors, etc)<br />
<br />
The other thread:<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=269345<br />
<br />
Which leads to my real question...<br />
<br />
How does a plugin, say, ToggleInstFiles, or other plugin that mucks with the Window and changes positions of the various dialogs on said window, how does/should the Plugin &quot;notify&quot; the running script (UMUI.nsh, MUI.nsh, etc, etc) of this change?<br />
<br />
Is there a specific callback routine that should be triggered?<br />
Should a message be sent?<br />
Say something like NSIS does when the mouse goes over a selection?<br />
(ie, .onMouseOverSection) ?<br />
<br />
Thanks!<br />
Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th April 2007, 19:18</div></div><div class="posttext">The script shouldn't usually care about UI changes. If a button moves, the script doesn't need to know about.<br />
<br />
What's your specific problem? I can't really understand without more details. Though at first glance, it looks like somewhere in the code, SetWindowPos is called to change the position of controls without SWP_NOZORDER.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">19th April 2007, 19:33</div></div><div class="posttext">Kichik,<br />
<br />
You *are* good!<br />
<br />
Thats exactly it.<br />
<br />
I tossed in SWP_NOACTIVATE|SWP_NOSIZE|SWP_NOZORDER<br />
and bingo, the redraw problems went away.<br />
<br />
Thanks!<br />
Scott</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>