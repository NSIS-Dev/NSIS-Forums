<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" About Plugins, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  About Plugins NSIS Discussion" />
	
	<title> About Plugins [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  About Plugins</div>
<hr />
<div class="pda"><a href="t-207847.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=207847">About Plugins</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">15th February 2005, 12:47</div></div><div class="posttext">Hello<br />
<br />
I know that these are questions too generals but ... <br />
<br />
a)Is better to do the plugins with c or with c++ or is indiferent ?<br />
<br />
b)The plugins in plugins/contrib have the files *.dsp and *.dsw . I think that these are files of Visual C++ . Is better to use it?<br />
<br />
c)Whats compiler is better to use ? Dev-c++, lcc32, visual c++ ...?  <br />
<br />
Thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">15th February 2005, 14:09</div></div><div class="posttext">a) Whatever, dude :p .... but if you are in c++, remember to add the extern &quot;C&quot; thingy...<br />
<br />
b) Visual Studio 4 and up (even .NET) can handle them... I think Dev-C++ use it as project converter...<br />
<br />
c) Most of the source code are in Visual Studio 6 nor .NET. but you can open the the files (.c, .cpp, .h) in other IDEs and change whatever you need to change.... of course you need to know the syntax of the compiler.... for example MinGW, which comes in DEv-C++,isn't 100% compatible with the Visual C++ syntax.... &lt;_&lt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th February 2005, 19:25</div></div><div class="posttext">The Microsoft compiler produces smaller executables. You can use the new free toolkit (http://msdn.microsoft.com/visualc/vctoolkit2003/) in combination with the Platform SDK (http://www.microsoft.com/msdownload/platformsdk/).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">16th February 2005, 07:44</div></div><div class="posttext">Thanks a lot  :up:<br />
<br />
@kichik :: Your second link don´t work  :(. Can you attach the link again? Thanks<br />
<br />
BTW , The free toolkit can work with projects ? I thought that it can work only with a simple file (a limitation).<br />
<br />
<br />
Thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th February 2005, 07:49</div></div><div class="posttext">Platform SDK - http://www.microsoft.com/msdownload/platformsdk/sdkupdate/<br />
<br />
I don't know if the toolkit works with project files, but nothing stops you from calling cl.exe on your own. cl.exe accepts more than one file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">16th February 2005, 07:57</div></div><div class="posttext">Thanks Kichik<br />
<br />
   You starts to work early ;) <br />
<br />
Best Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">16th February 2005, 08:13</div></div><div class="posttext">Hello again<br />
<br />
I see the link and there´s &quot;Windows XP SP2 Platform SDK&quot; but this not talk about win95,win98,.. That would to say that if I do a plugin with this sdk this plugin wouldn´t be compatible with the others operative sistems (win95,win98)?.<br />
<br />
Thanks in advance <br />
<br />
Note :: Sorry if this is an trivial question :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th February 2005, 08:17</div></div><div class="posttext">No, it doesn't mean it won't work on versions other than XP SP2. It simply means it contains the tools required to build applications that take advantage of the new features XP SP2 has to offer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">16th February 2005, 08:23</div></div><div class="posttext">Thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">17th March 2005, 12:45</div></div><div class="posttext">Hello<br />
<br />
I install the Visual C++ Toolkit 2003 and the SDK.<br />
The configuration of the shortcut is:<br />
<br />
Set PATH=C:\Archivos de programa\Microsoft Visual C++ Toolkit 2003\bin;%PATH%<br />
Set INCLUDE=C:\Archivos de programa\Microsoft Visual C++ Toolkit 2003\include;%INCLUDE%<br />
Set INCLUDE=%INCLUDE%;C:\Archivos de programa\Microsoft Platform SDK for Windows XP SP2\Include<br />
Set LIB=C:\Archivos de programa\Microsoft Visual C++ Toolkit 2003\lib;%LIB%<br />
Set LIB=%LIB%;C:\Archivos de programa\Microsoft Platform SDK for Windows XP SP2\lib<br />
 <br />
<br />
But when I compile the exdll.c (with the exdll.h) I see this error:<br />
<br />
 With this sentence Cl exdll.c /LD <br />
<br />
/out:exdll.dll<br />
/dll<br />
/implib:exdll.lib<br />
exdll.obj<br />
   Creating library exdll.lib and object exdll.exp<br />
exdll.obj : error LNK2019: unresolved external symbol _<br />
renced in function _myFunction<br />
exdll.obj : error LNK2019: unresolved external symbol _<br />
d in function _myFunction<br />
exdll.dll : fatal error LNK1120: 2 unresolved externals<br />
<br />
a) What I am doing wrong?<br />
<br />
b) The sentence is the correct? What´s the sentence to do the dll more fast, little and good?<br />
<br />
The help of cl.exe (cl /?) is (see file attached).<br />
<br />
Thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th March 2005, 17:34</div></div><div class="posttext">The error messages got trimmed, but according to the posted command line you've used, it seems you forgot to include a list of libraries to link to. In ExDLL's case, only kernel32.lib is needed. More complicated plug-ins may require more libraries.<br />
<br />
To get the smallest plug-in possible you need some more switches. Below is an example of compiling the UserInfo plug-in with these switches:<br />
<br />
cl /O1 UserInfo.c /LD kernel32.lib advapi32.lib /link /OPT:NOWIN98 /NODEFAULTLIB /ENTRY:DllMain</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">18th March 2005, 08:29</div></div><div class="posttext">Thanks for your reply but the errors continues .<br />
With this sentence :<br />
<br />
cl /O1 exdll.c /LD kernel32.lib  <br />
 <br />
The errors are :<br />
<br />
/out:exdll.dll<br />
/dll<br />
/implib:exdll.lib<br />
exdll.obj<br />
kernel32.lib<br />
   Creating library exdll.lib and object exdll.exp<br />
exdll.obj : error LNK2019: unresolved external symbol __imp__MessageBoxA@16 refe<br />
renced in function _myFunction<br />
exdll.obj : error LNK2019: unresolved external symbol __imp__wsprintfA reference<br />
d in function _myFunction<br />
exdll.dll : fatal error LNK1120: 2 unresolved externals <br />
<br />
Thanks in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th March 2005, 11:36</div></div><div class="posttext">Use user32.lib too. For each error like that, go to MSDN and look for the &quot;missing&quot; API function. On the very bottom of the MSDN page, it says which library is required.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">18th March 2005, 11:58</div></div><div class="posttext">:D That works ¡¡¡<br />
<br />
The correct sentece is :<br />
<br />
cl /O1 exdll.c /LD  /link kernel32.lib user32.lib <br />
<br />
And creates a exdll.dll with 40kb. Is a normal size?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th March 2005, 12:01</div></div><div class="posttext">No, it's way too big. Use the extra command line options I mentioned above.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">18th March 2005, 12:21</div></div><div class="posttext">This works¡¡¡<br />
<br />
cl /O1 exdll.c /LD  /link kernel32.lib user32.lib /<br />
OPT:NOWIN98 /NODEFAULTLIB /ENTRY:DllMain <br />
<br />
And now have only 3kb¡¡¡<br />
<br />
Thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">18th March 2005, 12:28</div></div><div class="posttext">This works¡¡¡<br />
<br />
And now have only 3kb¡¡¡<br />
<br />
cl /O1 exdll.c /LD  /link kernel32.lib user32.lib /<br />
OPT:NOWIN98 /NODEFAULTLIB /ENTRY:DllMain <br />
<br />
Thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">14th May 2005, 02:14</div></div><div class="posttext">I also recomment C::B (http://www.codeblocks.org/) is an IDE for the Toolkit and is Open Source ;)<br />
<br />
I'm testing it know and seems to working OK :up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">17th May 2005, 09:15</div></div><div class="posttext">I also recomment C::B is an IDE for the Toolkit and is Open Source <br />
<br />
I use Eclipse vith the toolkit but i have not a debugger.<br />
What about with C::B ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">17th May 2005, 14:22</div></div><div class="posttext">Yes ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">24th August 2005, 12:57</div></div><div class="posttext">Hello<br />
<br />
I know that the NSIS is port to Linux and BSD (I think).<br />
Are there recomendations when we do plugins for that these can be useful on Windows or Linux machines ?<br />
<br />
Best Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">24th August 2005, 16:41</div></div><div class="posttext">For your understanding, you can make ,as in produce, a WINDOWS installer (SETUP.EXE) via makensis on a POSIX system, e.g. Linux.<br />
<br />
This is very handy if you do a nightly build of a Windows Installer on a POSIX system. <br />
<br />
So, NSIS is NOT used for creating runnable installers which target the Linux client PC.<br />
<br />
For a working makensis on Linux, see screenshots on Suse 9.3.<br />
<br />
Yes, if you look closly the finished build installer runs, but under WINE, that's why ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kike_velez</div><div class="date">25th August 2005, 08:48</div></div><div class="posttext">Thanks</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>