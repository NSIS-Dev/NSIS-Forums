<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Edit Batch file before executing, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Edit Batch file before executing NSIS Discussion" />
	
	<title> Edit Batch file before executing [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Edit Batch file before executing</div>
<hr />
<div class="pda"><a href="t-330866.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=330866">Edit Batch file before executing</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">24th May 2011, 08:34</div></div><div class="posttext">Hello All,<br />
<br />
I am having problem in sending values to batch file while running nsis script...<br />
I want to run database script files which i have written in batch file and i want this batch file to be executed with nsis script by seting values of dbuser,dbpswd,dbname in nsis script..Can any one know??<br />
<br />
My batch file looks like(abc.bat):= <br />
set /P dbuser=Enter DB user name :<br />
set /P dbpswd=Enter DB password  :<br />
set /p dbname=Enter DB Name/SID  :<br />
<br />
echo Connecting to the Database..<br />
mysql  -u%dbuser% -p%dbpswd%  %dbname% &lt; 1.1\MySql\1.sql     2&gt; <br />
%temp%\OVMySQLDBInstall1.log<br />
<br />
mysql  -u%dbuser% -p%dbpswd%  %dbname% &lt; 1.2\MySql\1.sql     2&gt; %temp%\OVMySQLDBInstall3.log<br />
<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th May 2011, 10:01</div></div><div class="posttext">Rather than including the batch file with File and then modifying it afterwards, just generate the batch file using FileOpen/FileWrite/FileClose. You can use variables wherever you require them.<br />
<br />
Edit: If you're not installing the batch file, why use one at all? Just call mysql.exe directly using ExecDos (which provides piping to a log file).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">24th May 2011, 10:17</div></div><div class="posttext">Hello Afrow,<br />
<br />
my batch file have around 20 script commands and for connection purpose i want to give db name ,dbuser and dbpwd through registry or i have also wriiten  a page in installer which asked for the connection parameters(dbuser,dbname,dbpwd) and i want not to repeat these parameters in batch file...it would be better help if u suggest how to pass values in db parameters of batch file from nsis script variable..<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th May 2011, 10:36</div></div><div class="posttext">I've just explained how to do it.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th May 2011, 10:38</div></div><div class="posttext">Your other option is to replace tokens in your batch file with WordReplace.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>