<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" uninstall version control?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  uninstall version control? NSIS Discussion" />
	
	<title> uninstall version control? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  uninstall version control?</div>
<hr />
<div class="pda"><a href="t-266194.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=266194">uninstall version control?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">JamesKiller</div><div class="date">20th February 2007, 00:58</div></div><div class="posttext">Our installer is for upgrading our appliction. when we try to install the uppgrade installer, first of all, we need to delete the old files on the client machines. How can i distinguish the files between old version(on client machine) and new version (in the installer)?<br />
remember to use /R, don't know exactly how to do?<br />
<br />
thank you.<br />
<br />
James</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">20th February 2007, 02:31</div></div><div class="posttext">How about this:<br />
<br />
1. Your older installer can write a registry key, with the path.<br />
2. New installer read that path with nsis' ReadRegStr.<br />
3. Call the uninstaller from the returning path, or delete them from the new installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JamesKiller</div><div class="date">20th February 2007, 05:42</div></div><div class="posttext">ideally,Can I set a flag on a file, then next time, i just delete the files have the flag.? donno how to do....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">20th February 2007, 19:34</div></div><div class="posttext">As I understand you want to delete/upgrade just a bunch of installed files not the entire previous installation.<br />
If I'm wrong and you want to uninstall the entire previous installation, the best way is to do it like NSIS installer does by calling the uninstaller -- see included script NSIS\Examples\makensis.nsi.<br />
To remove/upgrade just some files, could be done by several ways, for instance the easiest way is that you may add version info in registry, so comparing this version with the current version let you know what to do next.<br />
Also you may add version info in all upgradeable files and compare versions for each one individual, or include a text file with all upgradeable files and add the script compilation date as the comparison point.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>