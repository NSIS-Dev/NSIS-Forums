<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Mui_startmenupage_registry, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Mui_startmenupage_registry NSIS Discussion" />
	
	<title> Mui_startmenupage_registry [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Mui_startmenupage_registry</div>
<hr />
<div class="pda"><a href="t-293546.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=293546">Mui_startmenupage_registry</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ssam</div><div class="date">24th June 2008, 11:07</div></div><div class="posttext">[CODE]<br />
     .<br />
     .<br />
     .<br />
!define MUI_STARTMENUPAGE_REGISTRY_ROOT HKLM<br />
!define MUI_STARTMENUPAGE_REGISTRY_KEY &quot;Software\zedas&quot;<br />
!define MUI_STARTMENUPAGE_REGISTRY_VALUENAME StartMenuGroup<br />
!define MUI_STARTMENUPAGE_DEFAULT_FOLDER 'zedas'<br />
     .<br />
     .<br />
     .<br />
InstallDirRegKey HKLM 'Software\zedas' Path<br />
     .<br />
     .<br />
     .<br />
!define MUI_PAGE_HEADER_TEXT 'STARTMENU-headertext'<br />
!define MUI_PAGE_HEADER_SUBTEXT 'STARTMENU-subtext'<br />
!insertmacro MUI_PAGE_STARTMENU Application $StartMenuGroup<br />
     .<br />
     .<br />
     .<br />
Section 'bla' bla<br />
  WriteRegStr HKLM &quot;${REGKEY}&quot; Path $INSTDIR<br />
SectionEnd<br />
[CODE]<br />
this is my Definitition, but he dont insert the Entry &quot;Startmenugrouop&quot;, he only adds the Path. Is there something, i have forgotten or maked wrong?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">24th June 2008, 11:15</div></div><div class="posttext">What does the compiler log say?<br />
Does it claim about $StartMenuGroup?<br />
Have you declared the variable $StartMenuGroup?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssam</div><div class="date">25th June 2008, 06:03</div></div><div class="posttext">yes StartMenuGroup is declared and the compiler says nothing. i can compile and test it, but no entry will be writen. All other entry are writen, but only this one, which will be written by the Page, is not written.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">25th June 2008, 12:58</div></div><div class="posttext">If you're facing difficulties with this, I'd suggest copy/paste the code from the included example StartMenu.nsi.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssam</div><div class="date">26th June 2008, 06:58</div></div><div class="posttext">i test it with the original example, by using copy and past from NSIS\Examples\UltraModernUI\StartMenu.nsi, and ther is no entry in the registry. <br />
<br />
no error with the compiler, i dont konw what is wrong.<br />
<br />
edit:<br />
<br />
<br />
Var STARTMENU_FOLDER<br />
;Start Menu Folder Page Configuration<br />
  !define MUI_STARTMENUPAGE_REGISTRY_ROOT &quot;HKLM&quot;<br />
  !define MUI_STARTMENUPAGE_REGISTRY_KEY &quot;Software\UltraModernUI Test&quot;<br />
  !define MUI_STARTMENUPAGE_REGISTRY_VALUENAME &quot;Start Menu Folder&quot;<br />
<br />
  !insertmacro MUI_PAGE_STARTMENU Application $STARTMENU_FOLDER<br />
<br />
<br />
i changed only the Rootkey from HKCU to HKLM</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">26th June 2008, 09:36</div></div><div class="posttext">What about the part within the section:<br />
<br />
!insertmacro MUI_STARTMENU_WRITE_BEGIN Application<br />
...<br />
...<br />
!insertmacro MUI_STARTMENU_WRITE_END</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssam</div><div class="date">26th June 2008, 10:23</div></div><div class="posttext">you mean this?<br />
<br />
!insertmacro MUI_STARTMENU_WRITE_BEGIN Application<br />
    <br />
    ;Create shortcuts<br />
    CreateDirectory &quot;$SMPROGRAMS\$STARTMENU_FOLDER&quot;<br />
    CreateShortCut &quot;$SMPROGRAMS\$STARTMENU_FOLDER\Uninstall.lnk&quot; &quot;$INSTDIR\Uninstall.exe&quot;<br />
  <br />
  !insertmacro MUI_STARTMENU_WRITE_END<br />
<br />
<br />
my shortcuts are defined in sections, but i dont understand. <br />
the shortcut is the reason that the entry is not written in my registry?<br />
<br />
by the way, in the example &quot;Neo Mule&quot; from a User on Sorceforge, he hasn't use <br />
!insertmacro MUI_STARTMENU_WRITE_BEGIN Application !insertmacro MUI_STARTMENU_WRITE_END<br />
<br />
abd the entrys are written in the registry.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>