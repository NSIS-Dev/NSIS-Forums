<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problems getting Modern UI defines working, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problems getting Modern UI defines working NSIS Discussion" />
	
	<title> Problems getting Modern UI defines working [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problems getting Modern UI defines working</div>
<hr />
<div class="pda"><a href="t-250038.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=250038">Problems getting Modern UI defines working</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">billsh</div><div class="date">30th June 2006, 01:25</div></div><div class="posttext">I'm probably doing something grievously stupid, but I can't seem to see it.  I have a number of !defines for various MUI options I want to implement - only one works.  <br />
<br />
For the images I've tried relative paths, $EXEDIR, and full paths, but no images ever show up.  Header image is 24bpp, 150x57 and does exist.<br />
<br />
Out of all the !defines in the script, only the finish run options appear to work.  None of the other image/text/abort options work.<br />
<br />
I've looked a gobs of postings on this and the script looks like it *should* work.  I'm on v2.16.  For almost all of these to fail implies I've done something silly or just have the wrong version of something! I don't see anything alarming in the log file.  When I launch, the header area is empty (white) as is the central region where the side bar graphic would go (on the left) as well as the text area (except for the last page).<br />
<br />
Any clues?<br />
<br />
Thanks all!<br />
<br />
  SetCompressor lzma <br />
  Var MUI_TEMP<br />
<br />
  !include &quot;defines.nsh&quot;<br />
  !include &quot;MUI.nsh&quot;<br />
<br />
<br />
  Name          &quot;${APPNAME}&quot;<br />
  InstallDir    &quot;$PROGRAMFILES\${APPNAME}&quot;<br />
  OutFile       &quot;${OUTPUT_FILE}.exe&quot;       <br />
  CRCCheck      Off<br />
<br />
  SetPluginUnload  alwaysoff<br />
  SetDateSave   on<br />
  SetDatablockOptimize on<br />
  XPStyle       on<br />
<br />
;-------------------------------- install Pages Settings<br />
<br />
  ;read this might help.  Didn't.<br />
  ;!insertmacro MUI_LANGUAGE English   <br />
  !define MUI_HEADERIMAGE <br />
  !define MUI_HEADERIMAGE_BITMAP &quot;c:\projects\root\gameinstaller\header\win.bmp&quot;<br />
;  !define MUI_WELCOMEFINISHPAGE_BITMAP 'win.bmp'<br />
  !define MUI_WELCOMEPAGE_TITLE &quot;Test&quot;<br />
  !define MUI_WELCOMEPAGE_TEXT &quot;Why won't this display - My kingdom for a bleedin' horse?!!?!!&quot;<br />
  !define MUI_WELCOMEPAGE_TITLE_3LINES<br />
  !define MUI_FINISHPAGE_TITLE_3LINES<br />
  !define MUI_ABORTWARNING<br />
; These next two work, nothing else does<br />
  !define MUI_FINISHPAGE_RUN &quot;$INSTDIR\${RUN_FILE}&quot;    <br />
  !define MUI_FINISHPAGE_RUN_TEXT &quot;Run ${APPNAME}&quot;<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  !ifdef EULA_FILE<br />
      !insertmacro MUI_PAGE_LICENSE &quot;${EULA_FILE}&quot;<br />
    !else<br />
      !insertmacro MUI_PAGE_LICENSE &quot;EULA.rtf&quot;<br />
  !Endif<br />
  !insertmacro MUI_PAGE_DIRECTORY<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
  !insertmacro MUI_PAGE_FINISH<br />
;--------------------------------Uninstall Pages Settings<br />
  !define MUI_WELCOMEPAGE_TITLE_3LINES<br />
  !define MUI_FINISHPAGE_TITLE_3LINES<br />
  !insertmacro MUI_UNPAGE_WELCOME<br />
  !insertmacro MUI_UNPAGE_INSTFILES<br />
  !insertmacro MUI_UNPAGE_FINISH</div></div><hr />


<div class="post"><div class="posttop"><div class="username">billsh</div><div class="date">30th June 2006, 01:33</div></div><div class="posttext">Why is it that one figures this stuff out about 1/1000th of a second after hitting 'post'?  I moved the MUI_LANGUAGE *after* the page defines and now its all working.<br />
<br />
Ever feel like your job in life is to make other people look smart! :cry:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>