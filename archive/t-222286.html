<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" need second checkbox for modern UI license page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  need second checkbox for modern UI license page NSIS Discussion" />
	
	<title> need second checkbox for modern UI license page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  need second checkbox for modern UI license page</div>
<hr />
<div class="pda"><a href="t-222286.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=222286">need second checkbox for modern UI license page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">cyrusazar</div><div class="date">23rd July 2005, 19:19</div></div><div class="posttext">I would like to add a second checkbox to the Modern UI license page to force users to check both boxes before enabling the next button.  Anyone know how to do this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th July 2005, 01:26</div></div><div class="posttext">No this isn't possible without a plugin or modification to the NSIS source.<br />
<br />
Edit: This is an idea for a plugin that I shall write.<br />
In new installers now, you can only continue by scrolling to the end of the license first.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">24th July 2005, 10:41</div></div><div class="posttext">It's better to add a control RichEdit to InstallOptions than creating useless plugins for just the purpose. It would make much easier to customize license pages.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cyrusazar</div><div class="date">24th July 2005, 16:14</div></div><div class="posttext">I don't care how it's written, I just need this functionality to satisfy the attorney.  Doing a hack job is just fine for this project.<br />
<br />
I was able to create a second checkbox on the license page, but the checkbox caption from the resource file went away.  Obviously I need to hack the code even more.  Can someone point to where in the source the caption for the checkbox is actually written to the dialog?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th July 2005, 18:48</div></div><div class="posttext">It's no good adding another check-box with Resource Hacker because you can't apply a notify function on it (so that it actually does something).<br />
<br />
You can however do as deguix suggests and create an InstallOptions page. You'd probably have to use InstallOptionsEx which you'll find on this forum to use a RichEdit control.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cyrusazar</div><div class="date">24th July 2005, 19:32</div></div><div class="posttext">I'm working with the sources.  No resource hacker needed.  I created the second checkbox by making a new Contrib\UIs\modern.exe using the Contrib\UIs\UI Holder project.  If I could find out where this gets processed in the source code, I might be able to make the changes I need.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th July 2005, 19:49</div></div><div class="posttext">What would you need the second check-box to say? Would you want the two side by side? I've finished writing the plugin to disable the next button until the user has finished scrolling, and I thought I could add your feature too if it's worth it (and if other people would benefit?)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cyrusazar</div><div class="date">24th July 2005, 19:59</div></div><div class="posttext">Here are my two checkbox statements.<br />
<br />
-I have read and do understand the terms and conditions of this EULA.<br />
-I agree to these terms and conditions.<br />
<br />
I thought the second checkbox would be below the first, possibly shortening the height of the license text box to make room for it.<br />
<br />
I think this along with the page down requirement on the text would satisfy most attorneys :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th July 2005, 20:10</div></div><div class="posttext">Ah that makes sense. They have that on a lot of commercial game installers now too. I have nothing else to do now (was headbanging on Friday so I've got a screwed neck) so I'll add this. I'll also add some plugin parameters which allow you to set the check-box text as well.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th July 2005, 22:44</div></div><div class="posttext">I've got everything to function correctly, except I can't get it to put the new check-box in the right place because GetClientRect returns 0 for x and y coords. I need to get the x and y coords of the old check-box relative to the child window.<br />
I'll probably end up using some dodgy hack-up job for this.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th July 2005, 23:31</div></div><div class="posttext">Nearly finished. Modern UI has another label on there which tells you that you need to click the &quot;Agree&quot; check-box. Shall I get rid of it (as we now have two check-boxes)?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th July 2005, 00:45</div></div><div class="posttext">Never mind, I kept the label as it actually still made sense.<br />
Took longer than I thought it would, because I couldn't find a hard-coded way to get an x and y coor of a control.<br />
I ended up adding all the heights of the controls down to where I wanted to put my new check-box (not a very clean way to do it).<br />
<br />
Anyway, it works for both Modern UI and default UI which is the main thing.<br />
<br />
Also works for:<br />
LicenseForceSelection off<br />
LicenseForceSelection checkbox<br />
LicenseForceSelection radiobuttons<br />
<br />
http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip<br />
<br />
Readme included and two examples.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cyrusazar</div><div class="date">25th July 2005, 03:14</div></div><div class="posttext">I just installed ScrollLicense and it worked like a champ first try!  Excellent work!!  Thank you very much!!!<br />
<br />
One testing note:  After I hit next (after scrolling and checking the boxes) if I hit back to go back to the license page, it shows only one checkbox.  Not a big deal, but might be an easy fix.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th July 2005, 11:54</div></div><div class="posttext">Ah yes... I'll fix that now.<br />
This will have to be my last plugin for a while because I've got some work to do on a project of mine.<br />
<br />
Edit: Uploaded (v0.2)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cyrusazar</div><div class="date">25th July 2005, 17:09</div></div><div class="posttext">I tested the new version and it works great.  I did find another issue that happens if you hit the back button on the license page and then hit the next button to go to the license page again.  If the text hasn't scrolled to the bottom, the checkboxes are disabled and you can't set them.  If the text did scroll to the bottom, then both checkboxes are set.<br />
<br />
This issue is very minor, and the plugin works great as is.  Thanks again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th July 2005, 19:12</div></div><div class="posttext">I've fixed that now too.<br />
Uploaded v0.3<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">20th October 2005, 14:14</div></div><div class="posttext">How can you make sure it unloads and thus gets deleted at the end of the installation ?<br />
<br />
I tried just calling it with...<br />
ScrollLicense::Set /CHECKBOX<br />
and<br />
ScrollLicense::Set<br />
<br />
...but both just crash the installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">27th October 2005, 05:03</div></div><div class="posttext">Another thing...<br />
If you go Back a page and then Next to the License page again, the checkbox(es) never become enabled; i.e. they stay greyed out.<br />
<br />
My current work-around involves disabling the Back button on the license page so that a user simply can't do the above.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th October 2005, 10:20</div></div><div class="posttext">I have a fix for the DLL Unloading, but I could not reproduce the second bug that you mentioned. cyrusazar mentioned this in his last post (a few posts up) and I should have fixed this in v0.3<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">27th October 2005, 14:07</div></div><div class="posttext">Whoops... I can't read.  Or rather, I confused it with his post before that (Next &gt; Back | checkbox disappears).  I guess that still means I can't read :)<br />
<br />
Is there anything we could do to help find out what's happening with that issue ?  Doesn't seem like Sysinternals has a &quot;Call Monitor&quot; ;)<br />
<br />
The unload fix would be awesome - though I don't mind the orphan directories *too* much, given that it is in a temp location.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th October 2005, 16:20</div></div><div class="posttext">Still unable to reproduce.<br />
Try downloading v0.4 (which has the Unload function added).<br />
<br />
http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip<br />
<br />
Try the examples to see if they reproduce the problem (in Contrib\ScrollLicense).<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">27th October 2005, 16:42</div></div><div class="posttext">Happens with bot the example scripts as well...<br />
<br />
The prerequisite appears to be that you need to be using /CHECKBOX.<br />
<br />
E.g.<br />
<br />
works fine :<br />
  ScrollLicense::Set /NOUNLOAD<br />
<br />
  ScrollLicense::Set /NOUNLOAD /CHECKBOX<br />
<br />
  LicenseForceSelection radiobuttons<br />
  ScrollLicense::Set /NOUNLOAD<br />
<br />
  LicenseForceSelection radiobuttons<br />
  ScrollLicense::Set /NOUNLOAD /CHECKBOX<br />
<br />
  LicenseForceSelection checkbox<br />
  ScrollLicense::Set /NOUNLOAD<br />
<br />
checkboxes remain disabled after Back &gt; Next :<br />
  LicenseForceSelection checkbox<br />
  ScrollLicense::Set /NOUNLOAD /CHECKBOX<br />
Edit:<br />
1. code-ified the above<br />
2. verified UNLOAD working - brilliant :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th October 2005, 17:09</div></div><div class="posttext">Ah finally I got the problem too :)<br />
I'll try and fix it now.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th October 2005, 17:49</div></div><div class="posttext">Fixed, thanks :)<br />
http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">27th October 2005, 18:00</div></div><div class="posttext">Confirmed :) Glad I could help out</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nco2k</div><div class="date">14th January 2006, 16:43</div></div><div class="posttext">hey, this is a really good idea! imho such &quot;feature&quot; should be officially built in. good job! :)<br />
<br />
c ya,<br />
nco2k</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nco2k</div><div class="date">14th January 2006, 17:05</div></div><div class="posttext">there is only one more thing.<br />
<br />
the text &quot;If you accept the terms of the agreement, click I Agree to continue. You must accept the agreement to install XYZ.&quot; is a little bit confusing because there is no &quot;I Agree&quot; button.<br />
<br />
can i somehow remove the first textpart, so that only &quot;You must accept the agreement to install XYZ.&quot; is left or maybe even better, change it to &quot;If you accept the terms of the agreement, click Next to continue. You must accept the agreement to install XYZ.&quot; ??<br />
<br />
c ya,<br />
nco2k</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th January 2006, 17:05</div></div><div class="posttext">Thanks :)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">14th January 2006, 17:12</div></div><div class="posttext">if you're using MUI:<br />
<br />
!define MUI_LICENSEPAGE_TEXT_BOTTOM &quot;If you've read, understood and agree to the terms of the agreement, click the checkboxes below.$\r$\nYou must accept the agreement to continue installation.  Click Next to continue.&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nco2k</div><div class="date">14th January 2006, 17:29</div></div><div class="posttext">great, thanks for your help! :)<br />
<br />
c ya,<br />
nco2k</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>