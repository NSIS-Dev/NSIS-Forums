<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Would do me a favour, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Would do me a favour NSIS Discussion" />
	
	<title> Would do me a favour [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Would do me a favour</div>
<hr />
<div class="pda"><a href="t-305591.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305591">Would do me a favour</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Yellow</div><div class="date">22nd April 2009, 04:59</div></div><div class="posttext">How do make a nsh file ????<br />
I want make this file to a nsh file ,may someone do this file for me ?<br />
<br />
<br />
<br />
<br />
<br />
## Needs the mod version of nsdialogs.dll or installoptions.dll plugin (suppert timer function)!<br />
## Transparent Splash effect in NSIS while run/Exit installer, only effective on windows 2k or higher.<br />
<br />
/*<br />
## function usage:<br />
;function SetLayeredWindowAttributes(hwnd: HWND; crKey: TColor; bAlpha: BYTE; dwFlags: DWORD): Boolean;<br />
;  external 'SetLayeredWindowAttributes@user32.dll stdcall';<br />
;function GetWindowLong(Wnd: HWnd; Index: Integer): Longint;<br />
;  external 'GetWindowLongA@user32.dll stdcall';<br />
;function SetWindowLong(Wnd: HWnd; Index: Integer; NewLong: Longint): Longint;<br />
;  external 'SetWindowLongA@user32.dll stdcall';<br />
<br />
;  SetWindowLong(WizardForm.Handle, GWL_EXSTYLE, GetWindowLong(WizardForm.Handle, GWL_EXSTYLE) or WS_EX_LAYERED);<br />
system::call 'user32::GetWindowLong(i $HWNDPARENT, i ${GWL_EXSTYLE}) .iR0'<br />
;messagebox mb_ok $R0<br />
IntOp $R0 $R0 + ${WS_EX_LAYERED}<br />
system::call 'user32::SetWindowLong(i $HWNDPARENT, i ${GWL_EXSTYLE}, i R0) .iR1'<br />
<br />
;  SetLayeredWindowAttributes(WizardForm.Handle, 0, Transparent, LWA_ALPHA);<br />
system::call 'user32::SetLayeredWindowAttributes(i $HWNDPARENT, i 0, i $iTransparent, i ${LWA_ALPHA}) .iR2'<br />
*/[SIZE=3][SIZE=3][FONT=arial][COLOR=orangered]</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">22nd April 2009, 09:34</div></div><div class="posttext">its &quot;i.R2&quot; and not &quot;.iR2&quot; and | (or) not + but even your code seems to work<br />
<br />
I tested with<br />
<br />
!ifndef GWL_EXSTYLE<br />
!define GWL_EXSTYLE -20<br />
!endif<br />
!ifndef WS_EX_LAYERED<br />
!define WS_EX_LAYERED 0x80000<br />
!endif<br />
!ifndef LWA_ALPHA<br />
!define LWA_ALPHA 2<br />
!endif<br />
<br />
system::call 'user32::GetWindowLong(i $HWNDPARENT, i ${GWL_EXSTYLE})i.R0'<br />
IntOp $R0 $R0 | ${WS_EX_LAYERED}<br />
system::call 'user32::SetWindowLong(i $HWNDPARENT, i ${GWL_EXSTYLE}, i R0)i.R1'<br />
system::call 'user32::SetLayeredWindowAttributes(i $HWNDPARENT, i 0, i 150, i ${LWA_ALPHA})i.R2'<br />
messagebox mb_ok $R2 and it works<br />
<br />
edit: and next time, please use a better post title/subject</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>