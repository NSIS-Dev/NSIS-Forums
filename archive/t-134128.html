<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Why isn't this working..!?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Why isn't this working..!? NSIS Discussion" />
	
	<title> Why isn't this working..!? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Why isn't this working..!?</div>
<hr />
<div class="pda"><a href="t-134128.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=134128">Why isn't this working..!?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd May 2003, 13:20</div></div><div class="posttext">I have just found out that my whole program is failing due to NSISdl.<br />
This is simply not working:<br />
<br />
NSISdl::download &quot;http://dynamic4.gamespy.com/~aow/ddayupdater.php&quot; &quot;C:\argh.txt&quot;<br />
<br />
It shows it being downloaded, but I never find &quot;argh.txt&quot; on my C: drive.<br />
<br />
I also know that you need to create the output directory before you can download the file, but there is no output directory that needs creating.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">3rd May 2003, 13:26</div></div><div class="posttext">Does your script send a Content-Length: header? NSISdl doesn't yet support downloads without a Content-Length header.<br />
<br />
Take a look at our update.php for example:<br />
http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/nsis/nsisweb/update.php?rev=1.24&amp;content-type=text/vnd.viewcvs-markup</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd May 2003, 13:40</div></div><div class="posttext">So, I need to get it to write that content of the ddayupdates.php to a standard txt file in pure text.<br />
I will have a chat to my web admin about it.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">3rd May 2003, 14:30</div></div><div class="posttext">NSISdl adds a value to the stack that contains the error description. You might want to check that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd May 2003, 14:43</div></div><div class="posttext">LOL this is what it says:<br />
&quot;Server did not specify content length.&quot;<br />
<br />
<br />
Does this conclude anything?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">3rd May 2003, 14:57</div></div><div class="posttext">Exactly what kichik said, the server should send a Content-Length header.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgeman</div><div class="date">3rd May 2003, 17:04</div></div><div class="posttext">For any of you people that have a database and are displayign lots of things, here's what I did:<br />
<br />
&lt;?php<br />
include('functions.php');<br />
ob_start();<br />
<br />
header(&quot;Content-Type: &quot; . &quot;text/plain&quot;);<br />
<br />
db_open();<br />
<br />
$map_vault = mysql_query(&quot;SELECT game, map_name, file_name, author, description, type, file_size, released, section, datetime FROM map_vault WHERE game = 'dday' ORDER BY file_name&quot;);<br />
<br />
echo &quot;Section Maps\n&quot;;<br />
<br />
while ($map = mysql_fetch_array($map_vault))<br />
{<br />
	$output = $map[&quot;file_name&quot;] . &quot;.bsp|&quot; . $fileplanet . &quot;dday&quot; . &quot;/maps/&quot; . $map[&quot;file_name&quot;] . &quot;.zip|&quot; . $map[&quot;description&quot;] . &quot;|Author: &quot; . $map[&quot;author&quot;] .&quot;\n&quot;;<br />
	print $output;<br />
<br />
}<br />
echo &quot;SectionEnd\n&quot;;<br />
<br />
$size = ob_get_length(); <br />
header(&quot;Content-Length: $size&quot;);<br />
ob_end_flush();<br />
?&gt;<br />
<br />
(note the ob_ stuff) This took me like an hour of tryign to get to work. ALWAYS check the php.net manual for ths stuff. Within 10 minutes of looking around, I found the ob_get_length, which solves all my problems.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">3rd May 2003, 17:32</div></div><div class="posttext">NSISdl::download &quot;http://dynamic4.gamespy.com/~aow/ddayupdater.php&quot; &quot;C:\argh.txt&quot;<br />
<br />
<br />
AS I see it.<br />
The plugin download a file name ddayupdater.php, then copy it to the &quot;C:\&quot; drive the file argh.txt<br />
<br />
I think because there are diferent names.<br />
Try using, instead of &quot;argh.txt&quot; use &quot;ddayupdater.php&quot;<br />
<br />
<br />
NSISdl::download &quot;http://dynamic4.gamespy.com/~aow/ddayupdater.php&quot; &quot;C:\ddayupdater.php&quot;<br />
<br />
<br />
Now, if you wanna download the file as &quot;argh.txt&quot;, rename it after <br />
download ddayupdater.php.<br />
<br />
<br />
NSISdl::download &quot;http://dynamic4.gamespy.com/~aow/ddayupdater.php&quot; &quot;C:\ddayupdater.php&quot;<br />
Rename &quot;C:\ddayupdater.php&quot; &quot;C:\argh.txt&quot;<br />
<br />
<br />
That's my opinion.<br />
Helps???? :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">3rd May 2003, 18:00</div></div><div class="posttext">Lobo Lunar, that's not true. Why would there be a filename feature if it doesn't work?. Read the topic, there is already a solution :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">4th May 2003, 03:49</div></div><div class="posttext">Lobo dumb for not reading well the replies.<br />
Lobo say sorry.<br />
Lobo out :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>