<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" multiple uninstall sections with MUI, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  multiple uninstall sections with MUI NSIS Discussion" />
	
	<title> multiple uninstall sections with MUI [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  multiple uninstall sections with MUI</div>
<hr />
<div class="pda"><a href="t-248767.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248767">multiple uninstall sections with MUI</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">hailm</div><div class="date">15th June 2006, 05:28</div></div><div class="posttext">Hola,<br />
<br />
I'm trying to create a MUI installer with muliple uninstall sections.  I can't seem to get the uninstall section description text to show up on uninstall sections.  Here's my test script (below) which is just a mod of InstallOptions.nsi.  This looks like a bug to me.  Can anybody make this work?<br />
<br />
cheers<br />
<br />
<br />
<br />
<br />
;---------------------<br />
;Include Modern UI<br />
<br />
  !include &quot;MUI.nsh&quot;<br />
<br />
;--------------------------------<br />
;General<br />
<br />
  ;Name and file<br />
  Name &quot;Modern UI Test 0.1&quot;<br />
  OutFile &quot;InstallOptions.exe&quot;<br />
<br />
  ;Default installation folder<br />
  InstallDir &quot;$PROGRAMFILES\Modern UI Test&quot;<br />
  <br />
  ;Get installation folder from registry if available<br />
  InstallDirRegKey HKCU &quot;Software\Modern UI Test&quot; &quot;&quot;<br />
<br />
;--------------------------------<br />
;Pages<br />
<br />
  !insertmacro MUI_PAGE_LICENSE &quot;${NSISDIR}\Docs\Modern UI\License.txt&quot;<br />
  !insertmacro MUI_PAGE_DIRECTORY<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
  <br />
  !insertmacro MUI_UNPAGE_CONFIRM<br />
  !insertmacro MUI_UNPAGE_COMPONENTS<br />
  !insertmacro MUI_UNPAGE_INSTFILES<br />
  <br />
;Language strings<br />
LangString DESC_Section1 ${LANG_ENGLISH} &quot;First uninstall section.&quot;<br />
LangString DESC_Section2 ${LANG_ENGLISH} &quot;Second uninstall section.&quot;<br />
<br />
;Assign language strings to sections<br />
!insertmacro MUI_UNFUNCTION_DESCRIPTION_BEGIN<br />
 !insertmacro MUI_DESCRIPTION_TEXT ${Section1} $(DESC_Section1)<br />
 !insertmacro MUI_DESCRIPTION_TEXT ${Section2} $(DESC_Section2)<br />
!insertmacro MUI_UNFUNCTION_DESCRIPTION_END<br />
  <br />
;--------------------------------<br />
;Interface Settings<br />
<br />
  !define MUI_ABORTWARNING<br />
  <br />
;--------------------------------<br />
;Languages<br />
 <br />
  !insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
;--------------------------------<br />
;Installer Sections<br />
<br />
Section &quot;Dummy Section&quot; SecDummy<br />
 DetailPrint &quot;this really does not install anything except the uninstaller&quot;<br />
 SetOutPath &quot;$INSTDIR&quot;<br />
 ;Create uninstaller<br />
  WriteUninstaller &quot;$INSTDIR\Uninstall.exe&quot;<br />
SectionEnd<br />
  <br />
<br />
;--------------------------------<br />
;Uninstaller Sections<br />
<br />
Section un.Section1<br />
  DetailPrint &quot;This actually does nothing for section 1&quot;<br />
SectionEnd<br />
<br />
Section un.Section2<br />
  ;ADD YOUR OWN FILES HERE...<br />
  DetailPrint &quot;Removes folder and uninstaller for section 2&quot;<br />
  Delete &quot;$INSTDIR\Uninstall.exe&quot;<br />
  RMDir &quot;$INSTDIR&quot;<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th June 2006, 08:37</div></div><div class="posttext">Move the descriptions below the sections.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th June 2006, 13:04</div></div><div class="posttext">You should check the makensis compiler output more often as well. No doubt you'd have warnings for this.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hailm</div><div class="date">15th June 2006, 13:08</div></div><div class="posttext">I can't get the script in my earlier post to show my descriptions in the uninstaller sections no matter where I put the descriptions.  Also, I get this warning message when the script is compiled:<br />
<br />
<br />
2 warnings:<br />
  unknown variable/constant &quot;{Section1}&quot; detected, ignoring (macro:MUI_DESCRIPTION_TEXT:5)<br />
  unknown variable/constant &quot;{Section2}&quot; detected, ignoring (macro:MUI_DESCRIPTION_TEXT:5)<br />
<br />
Any other ideas?<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">15th June 2006, 14:06</div></div><div class="posttext">Ah I see...<br />
<br />
Section un.Section1 must be:<br />
Section un.Section1 Section1<br />
and...<br />
Section un.Section2 must be:<br />
Section un.Section2 Section2<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hailm</div><div class="date">15th June 2006, 14:27</div></div><div class="posttext">Afrow UK,<br />
<br />
Thanks, the combination of Joost's suggestion of putting the description below the uninstall section plus your suggestion fixed the problem!<br />
<br />
Thanks!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>