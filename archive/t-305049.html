<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" MUI: Header Image behind text, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  MUI: Header Image behind text NSIS Discussion" />
	
	<title> MUI: Header Image behind text [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  MUI: Header Image behind text</div>
<hr />
<div class="pda"><a href="t-305049.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305049">MUI: Header Image behind text</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">odyssey5</div><div class="date">7th April 2009, 00:32</div></div><div class="posttext">When I use a custom MUI_HEADERIMAGE, why are there no option to put it behind the text instead of aside?<br />
<br />
How can I change this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">7th April 2009, 02:13</div></div><div class="posttext">Because MUI is an 'installer style' with customizations, rather than a template.  You could either reshack the modern ui file, or you can achieve what you want by moving the image around yourself:<br />
<br />
<br />
!addplugindir &quot;.&quot;<br />
!addincludedir &quot;.&quot;<br />
<br />
!include &quot;nsDialogs.nsh&quot;<br />
!include &quot;winmessages.nsh&quot;<br />
!include &quot;logiclib.nsh&quot;<br />
<br />
!include &quot;MUI2.nsh&quot;<br />
<br />
!define MUI_HEADERIMAGE<br />
; This is an image that measure 497x57 pixels here.<br />
!define MUI_HEADERIMAGE_BITMAP &quot;gradient.bmp&quot;<br />
!define MUI_HEADERIMAGE_RIGHT<br />
; Make sure the text has a transparent background<br />
!define MUI_HEADER_TRANSPARENT_TEXT<br />
<br />
OutFile &quot;test.exe&quot;<br />
<br />
Page Custom test<br />
<br />
Function test<br />
	!insertmacro MUI_HEADER_TEXT &quot;Title text&quot; &quot;Subtitle text&quot;<br />
	nsDialogs::Create 1018<br />
	Pop $0<br />
<br />
	GetDlgItem $0 $HWNDPARENT 0x416 ; Header image<br />
	GetDlgItem $1 $HWNDPARENT 0x40A ; Header<br />
	; Move the header image to the top-left corner and behind the text (just above the header window itself)<br />
	System::Call &quot;User32::SetWindowPos(i, i, i, i, i, i, i) b ($0, $1, 0, 0, 497, 57, 0)&quot; ; hwnd hwndafterZdepth x y w h flags<br />
<br />
	nsDialogs::Show<br />
FunctionEnd<br />
<br />
Section &quot;&quot;<br />
SectionEnd<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
<br />
You can use this in conjunction with an nsDialogs timer to do something fancy like scrolling that background image.. but try to resist ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">odyssey5</div><div class="date">7th April 2009, 22:52</div></div><div class="posttext">Aww that's pretty sexy :) I take it theres no way to make it  top-right, except for calculating how wide the window are... I'm thinking something would look weird if a user has a non-default dpi setting?<br />
<br />
I looked a bit in the MUI .nsh-files, but had to give it... Can I put the code inside the function (except of course the macro) into one of the .nsh-files, to make it permanent?<br />
<br />
...or how do I include it, if I don't create a custom page?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">8th April 2009, 06:37</div></div><div class="posttext">Can you explain what you mean by &quot;make it top-right&quot;?<br />
<br />
The window's size can be retrieved using a similar System plugin call (GetWindowRect, I suppose).<br />
<br />
Can deal with a header/something later, for now you can just stick those 3 pertinent lines anywhere in your code; .onGuiInit (see the MUI notes on setting a custom GUI INIT function) would be appropriate.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>