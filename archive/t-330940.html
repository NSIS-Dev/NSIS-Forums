<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Adding Button on Cutom Page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Adding Button on Cutom Page NSIS Discussion" />
	
	<title> Adding Button on Cutom Page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Adding Button on Cutom Page</div>
<hr />
<div class="pda"><a href="t-330940.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=330940">Adding Button on Cutom Page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">26th May 2011, 06:12</div></div><div class="posttext">Hello All,<br />
<br />
I have created a custom page in which we can entered input required for database connection like username,password,url ... I want to add a button &quot;test&quot; that immediate test whether connection can be established ..<br />
<br />
Can anyone suggest me how can i add a button on custom page and how can i check databse connection on button click event..<br />
<br />
<br />
Thanks...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">26th May 2011, 06:17</div></div><div class="posttext">The nsDialogs readme has an excellent tutorial:<br />
http://nsis.sourceforge.net/Docs/nsDialogs/Readme.html<br />
<br />
As for database connection, you can try searching the forums, but NSIS is not database software so we can't help you unless you give more information.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">26th May 2011, 07:10</div></div><div class="posttext">The nsDialogs readme has an excellent tutorial:<br />
http://nsis.sourceforge.net/Docs/nsDialogs/Readme.html<br />
<br />
As for database connection, you can try searching the forums, but NSIS is not database software so we can't help you unless you give more information.<br />
<br />
Thanks for your reply..<br />
<br />
Could you please let me know how can i perform operation on clicking button..<br />
for databse connection i have wriiten batch file which takes database information from custom pages and i have add a button test on that page olso..now i want to run that batch file which checks whether the information provided by user makes the connection or not...<br />
<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">26th May 2011, 08:23</div></div><div class="posttext">Use<br />
nsDialogs::OnClick control_HWND function_address<br />
<br />
Example:<br />
	<br />
${NSD_CreateButton} 0 0 100% 12u Test<br />
Var /Global BUTTON<br />
Pop $BUTTON<br />
GetFunctionAddress $0 OnClick<br />
nsDialogs::OnClick $BUTTON $0<br />
<br />
Function OnClick<br />
	Pop $0 # HWND<br />
        # Do your stuff here...<br />
	# MessageBox MB_OK clicky<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">26th May 2011, 10:06</div></div><div class="posttext">Thanks for your reply...<br />
This is not what i required..<br />
I have posted my page ..as you can see i have add a button &quot;Test&quot; now i want that on clicking this test button my batch file starts running and from that batch file i need to redirect my db connectivity output to my installer page..<br />
can anyone help me in doin this..?<br />
<br />
<br />
Thanks..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">26th May 2011, 12:19</div></div><div class="posttext">Hi All.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">26th May 2011, 14:35</div></div><div class="posttext">We are not going to write your installer for you. You have already been given all the information you need to make your custom page work. Slappy's post describes exactly what you need (and you could also have found that information yourself if you had looked at the nsDialogs readme).<br />
<br />
As for your question about how to capture the output of a batch file, I think the ExecDos plugin can do that (to some extent). But it's better to write to a .txt file for example (use something like &quot;command.exe param1 param2 &gt; yourfile.txt&quot; in the batch file), and read that using the FileRead command.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">31st May 2011, 07:56</div></div><div class="posttext">Hi All,<br />
<br />
Thanks MSG for ur reply ..even i am not saying to write an installer for me..Watever Solution Slappy had wriiten is not working for me..its because i have mase my custom page usinh ini file...<br />
and i want to perform some task on clicking my button that is defined in ini file...<br />
Above wriiten code bascically adds a new dialog that i dont required...<br />
Can any one knw how to get address of button defined in '.ini' file at run time and do some operations on clicking that button.. <br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">31st May 2011, 08:24</div></div><div class="posttext">I haven't used InstallOptions in ages, so I really can't remember if it even supports onClick events in the first place... But either way, please switch to nsDialogs. InstallOptions is only supplied with NSIS for backwards compatibility. It should not be used for new installers.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">31st May 2011, 11:54</div></div><div class="posttext">Can any one knw how to get address of button defined in '.ini' file at run time and do some operations on clicking that button..This is explained in the InstallOptions Readme documentation. You should also look at the InstallOptions example scripts that come with NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">31st May 2011, 13:46</div></div><div class="posttext">Hi All,<br />
<br />
Thanks a ton Peng You..yeah i Read it from manual and i got the Solution of my problem...<br />
I need to know one more thing, I want that on clicking button (defined in my ini file), dynamically it generates a label on same page and display text whatever we want... <br />
Can anyone have idea about it??<br />
<br />
Thanks...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">31st May 2011, 14:59</div></div><div class="posttext">Define the label in your .ini file but use the ShowWindow command to hide the label before the custom page is shown. When the button is clicked use SendMessage to set the label text and use ShowWindow to show the label. (The testnotify.nsi example script uses SendMessage to change the text on some controls.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">atliano</div><div class="date">2nd June 2011, 08:47</div></div><div class="posttext">Hi All,<br />
<br />
Hey Pengyou Thanks for ur Wonderful Help...I really got good suggestion on my post..<br />
Thanx to all..<br />
I just left with one thing ...i need to know how can i change text color of label...Please if anyone know the color values...post here..Basically i need color value (Red and Green) for my text of label...<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">2nd June 2011, 10:45</div></div><div class="posttext">The answer is in the manual (SetCtlColors):<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.14.15<br />
<br />
There are some color definitions in Colors.nsh<br />
<br />
Here is one way to use red text for a label:<br />
<br />
  ReadINIStr $1 &quot;$PLUGINSDIR\test.ini&quot; &quot;Field 7&quot; &quot;HWND&quot;<br />
  SetCtlColors $1 0xFF0000 transparent</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>