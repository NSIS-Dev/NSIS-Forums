<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem building the NSIS source, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem building the NSIS source NSIS Discussion" />
	
	<title> Problem building the NSIS source [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem building the NSIS source</div>
<hr />
<div class="pda"><a href="t-277283.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=277283">Problem building the NSIS source</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">HaydenDevlin</div><div class="date">13th September 2007, 13:08</div></div><div class="posttext">Hello,<br />
<br />
I am trying to build the NSIS source and I am having some real problems. I have installed wxWidgets 2.8.4 and scons and python as instructedby the manual, and I have set a WXWIN environmental variable to the wxWidgets install directory, and I have run wxbuild.bat. After doing all that I run scons and get the following... (I don't really know how much output is useful but here's the last few lines)<br />
<br />
<br />
link /nologo /opt:nowin98 /map /entry:DllMain /NODEFAULTLIB /dll /out:build\rele<br />
ase\nsDialogs\nsDialogs.dll kernel32.lib user32.lib gdi32.lib shell32.lib comdlg<br />
32.lib ole32.lib build\release\nsDialogs\browse.obj build\release\nsDialogs\inpu<br />
t.obj build\release\nsDialogs\nsDialogs.obj build\release\nsDialogs\nsis.obj bui<br />
ld\release\nsDialogs\rtl.obj build\release\nsDialogs\dialog-rc.res build\release<br />
\nsDialogs\SHLIBEMITTER.obj<br />
   Creating library build\release\nsDialogs\nsDialogs.lib and object build\relea<br />
se\nsDialogs\nsDialogs.exp<br />
cl /nologo /GS- /O1 /W3 /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_NO_WARNINGS /c<br />
Contrib\nsExec\nsexec.c /Fobuild\release\nsExec\nsexec.obj<br />
nsexec.c<br />
cl /nologo /GS- /O1 /W3 /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_NO_WARNINGS /c<br />
SCons\Config\memset.c /Fobuild\release\nsExec\SHLIBEMITTER.obj<br />
memset.c<br />
link /nologo /opt:nowin98 /map /entry:DllMain /NODEFAULTLIB /dll /out:build\rele<br />
ase\nsExec\nsExec.dll kernel32.lib user32.lib advapi32.lib build\release\nsExec\<br />
nsexec.obj build\release\nsExec\SHLIBEMITTER.obj<br />
   Creating library build\release\nsExec\nsExec.lib and object build\release\nsE<br />
xec\nsExec.exp<br />
cl /nologo /GS- /O1 /W3 /MD /EHsc /TP /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_N<br />
O_WARNINGS /IC:\wxWidgets-2.8.4\include /IC:\wxWidgets-2.8.4\lib\vc_libnsis\msw<br />
/c &quot;Contrib\NSIS Menu\nsismenu\nsismenu.cpp&quot; &quot;/Fobuild\release\NSIS Menu\nsismen<br />
u\nsismenu.obj&quot;<br />
nsismenu.cpp<br />
C:\wxWidgets-2.8.4\include\wx/platform.h(196) : fatal error C1083: Cannot open i<br />
nclude file: 'wx/setup.h': No such file or directory<br />
scons: *** [build\release\NSIS Menu\nsismenu\nsismenu.obj] Error 2<br />
scons: building terminated because of errors.<br />
C:\Documents and Settings\hdevlin\Desktop\NSIS\nsis-2.30-src&gt;<br />
<br />
<br />
So it couldn't find the setup.h file, but it it was there in a different folder, so I just copied it over, which worked, but then I got this output and there is still a problem...<br />
<br />
<br />
C:\Documents and Settings\hdevlin\Desktop\NSIS\nsis-2.30-src&gt;scons<br />
scons: Reading SConscript files ...<br />
Delete(&quot;nsis-13-Sep-2007.cvs&quot;)<br />
Delete(&quot;.instdist&quot;)<br />
Delete(&quot;.test&quot;)<br />
Using Microsoft tools configuration<br />
Checking for memset requirement... (cached) yes<br />
Checking for C library gdi32... (cached) yes<br />
Checking for C library user32... (cached) yes<br />
Checking for C library pthread... (cached) no<br />
Checking for C library iconv... (cached) no<br />
Checking for C library version... (cached) yes<br />
Checking for C library dl... (cached) no<br />
Checking for C library gdi32... (cached) yes<br />
Checking for C library iconv... (cached) no<br />
Checking for C library pthread... (cached) no<br />
Checking for C library user32... (cached) yes<br />
Checking for C library version... (cached) yes<br />
Checking for C++ library cppunit... (cached) no<br />
scons: done reading SConscript files.<br />
scons: Building targets ...<br />
cl /nologo /GS- /O1 /W3 /MD /EHsc /TP /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_N<br />
O_WARNINGS /IC:\wxWidgets-2.8.4\include /IC:\wxWidgets-2.8.4\lib\vc_libnsis\msw<br />
/c &quot;Contrib\NSIS Menu\nsismenu\nsismenu.cpp&quot; &quot;/Fobuild\release\NSIS Menu\nsismen<br />
u\nsismenu.obj&quot;<br />
nsismenu.cpp<br />
cl /nologo /GS- /O1 /W3 /MD /EHsc /TP /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_N<br />
O_WARNINGS /IC:\wxWidgets-2.8.4\include /IC:\wxWidgets-2.8.4\lib\vc_libnsis\msw<br />
/c &quot;Contrib\NSIS Menu\nsismenu\nslinks.cpp&quot; &quot;/Fobuild\release\NSIS Menu\nsismenu<br />
\nslinks.obj&quot;<br />
nslinks.cpp<br />
rc /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_NO_WARNINGS /IC:\wxWidgets-2.8.4\inc<br />
lude /IC:\wxWidgets-2.8.4\lib\vc_libnsis\msw &quot;/fobuild\release\NSIS Menu\nsismen<br />
u-rc.res&quot; &quot;Contrib\NSIS Menu\nsismenu\nsismenu.rc&quot;<br />
link /nologo /opt:nowin98 /map &quot;/OUT:build\release\NSIS Menu\NSIS.exe&quot; /LIBPATH:<br />
C:\wxWidgets-2.8.4\lib\vc_libnsis advapi32.lib comctl32.lib gdi32.lib shell32.li<br />
b user32.lib wxbase28.lib wxmsw28_core.lib wxmsw28_html.lib &quot;build\release\NSIS<br />
Menu\nsismenu\nsismenu.obj&quot; &quot;build\release\NSIS Menu\nsismenu\nslinks.obj&quot; &quot;buil<br />
d\release\NSIS Menu\nsismenu-rc.res&quot;<br />
LINK : fatal error LNK1181: cannot open input file 'wxbase28.lib'<br />
scons: *** [build\release\NSIS Menu\NSIS.exe] Error 1181<br />
scons: building terminated because of errors.<br />
C:\Documents and Settings\hdevlin\Desktop\NSIS\nsis-2.30-src&gt;<br />
<br />
<br />
So it seems to not be able to find wxbase28.lib, which is fair enough because after running a search I found that the file doesn't exist, which is weird. What I have also noticed is I keep seeing the file vc_libnsis mentioned, and vc_mswnsis, both of which again don't exist on my computer. Does anyone have any idea what is going on?<br />
<br />
Thanks in advance for any help!<br />
<br />
Hayden Devlin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HaydenDevlin</div><div class="date">14th September 2007, 13:52</div></div><div class="posttext">I have solved this problem now.<br />
<br />
For anyone else who experiences this same thing... the problem stems from a problem with the environmental variable, which makes wxbuild.bat not work. To fix the problem you should go into your Visual Studio Command Prompt, which is accessible through the start menu in the Visual Studio group in the tools  bit. Open that and run wxbuild.bat from there. This will make wxbuild.bat work fine. Then you can run scons to build NSIS from the normal command line and it will work fine :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">glenncarr</div><div class="date">4th June 2008, 18:16</div></div><div class="posttext">Might be a good idea to add Hayden's note to the Wiki (http://nsis.sourceforge.net/Docs/AppendixG.html).  For example, change this:<br />
<br />
&quot;To build NSIS Menu, install wxWidgets 2.8, create an environment variable named WXWIN containing the path to the installation directory of wxWidgets, run Contrib\NSIS Menu\wx\wxbuild.bat and build NSIS as usual.&quot;<br />
<br />
...to...<br />
<br />
&quot;To build NSIS Menu, install wxWidgets 2.8, create an environment variable named WXWIN containing the path to the installation directory of wxWidgets, run Contrib\NSIS Menu\wx\wxbuild.bat and build NSIS as usual.  You will probably need to build using a command shell invoked by starting from 'Visual Studio Command Prompt', typically found under Visual Studio Tools.&quot;<br />
<br />
Anyway, just a suggestion.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>