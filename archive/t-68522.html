<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" suggestion of localization, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  suggestion of localization NSIS Discussion" />
	
	<title> suggestion of localization [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  suggestion of localization</div>
<hr />
<div class="pda"><a href="t-68522.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=68522">suggestion of localization</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">hotice</div><div class="date">13th December 2001, 00:19</div></div><div class="posttext">I found most of the strings that shown in detail view is in exehead\exec.c<br />
could you use a xx.h file to define those words that people only need to modify the xx.h to localize makensis.<br />
for example,<br />
xx.h<br />
#define WAITMSG &quot;Wait...&quot;<br />
.....<br />
exec.c<br />
....<br />
    case EW_SLEEP:<br />
      {<br />
        int x=process_string_fromtab_toint(parms[0]);<br />
        if (x &lt; 1) x=1;<br />
        //update_status_text(&quot;Wait...&quot;,&quot;&quot;); //OLD<br />
        update_status_text(WAITMSG,&quot;&quot;); //NEW<br />
        log_printf2(&quot;Sleep(%d)&quot;,x);<br />
        Sleep(x);<br />
      }<br />
.....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">F. Heidenreich</div><div class="date">13th December 2001, 10:59</div></div><div class="posttext">hotice, I agree with you - it would be very nice to have an option to localize NSIS :).<br />
But I think the better way is to build new commands like SetDetailsCompress, SetDetailsExecute, SetDetailsSleep, ... to give the user who is not familiar with compiling his own localized NSIS-version also the chance to build an localized installer.<br />
With this method you could include a german.nsh, a romania.nsh or a french.nsh to have a fully localized installer :D<br />
<br />
Regards,<br />
~ Florian</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hotice</div><div class="date">14th December 2001, 00:30</div></div><div class="posttext">I thinak to add new commands will increase the exehead size and need to modify source code much.<br />
we could add a series of #ifdef/#endif statement in exehead/config.h<br />
such as<br />
#ifdef GER_LANG<br />
#include &quot;german.h&quot;<br />
#endif<br />
then add a line<br />
#define GER_LANG at the top of exehead/config.h<br />
It's more flexible.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">14th December 2001, 03:22</div></div><div class="posttext">Good idea, I'll do this for 1.9a3 or whatever comes next. And I'll start making it more possible to have multiple languages per installer... i.e. <br />
<br />
Language English<br />
... define all of the language strings<br />
ComponentText ...<br />
LicenseText<br />
LicenseData<br />
ButtonText...<br />
LanguageEnd<br />
<br />
<br />
Language Espanol<br />
... define spanish translations<br />
ComponentText ...<br />
LanguageEnd<br />
<br />
<br />
<br />
<br />
etc. Then have a dialog that comes up at the beginning that prompts the user for which one they want to use. And you could customize your own messages by having a $LANGUAGE variable, that is the name of the current language, that way you could do things like:<br />
<br />
<br />
StrCpy $0 &quot;Do you want to pee?&quot;<br />
StrCmp $LANGUAGE english notspanish<br />
StrCpy $0 &quot;Quieres hacer pe?&quot;<br />
notspanish:<br />
<br />
MessageBox MB_YESNO $0 IDNO no<br />
Pee<br />
no:<br />
<br />
etc. <br />
The nice thing is that if done right, you could disable multiple language functionality altogether from config.h, without a size penalty. Adding this would increase the exehead size by maybe 2kb at most.<br />
<br />
As far as implementation, you could have a language specific string structure that would have all of the strings from the install/uninstall headers and common header that are relevant. I guess making the uninstaller smart would require the installer to save the language from the registry, and allow the uninstaller to query it (as well as allow upgrades of the installer to query it so they don't needlessly prompt the user). Anyhoo....<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">F. Heidenreich</div><div class="date">14th December 2001, 07:47</div></div><div class="posttext">This is what I have always dreamed of. :D <br />
<br />
Thanks Justin for this very positive response!<br />
<br />
~ Florian</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>