<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to install from lines in a file., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to install from lines in a file. NSIS Discussion" />
	
	<title> How to install from lines in a file. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to install from lines in a file.</div>
<hr />
<div class="pda"><a href="t-226324.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=226324">How to install from lines in a file.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">polygonansigt</div><div class="date">18th September 2005, 10:01</div></div><div class="posttext">Hi all.<br />
I have been playing around with nsis for some days now, but i find myself somewhat lost now.<br />
I have written functions to connect to the internet and retrieve a file:<br />
<br />
directory/fileonsystem1.dll|filenameonserver1.dll|MD5<br />
directory/fileonsystem2.dll|filenameonserver2.dll|MD5<br />
directory/fileonsystem3.dll|filenameonserver3.dll|MD5<br />
eof<br />
<br />
It goes through that file using readfile, test if fileonsystem1.dll exists on the computer, if it does calculates the md5 value and compare it to the value in the retrieved file, if there is a difference it writes the line to a file. When eof is reached i have a file that looks like this:<br />
<br />
plugins/fileonsystem1.dll|filenameonserver1.dll<br />
plugins/fileonsystem2.dll|filenameonserver2.dll<br />
<br />
Here i am completely lost. I would like to have those lines put into sections, one section for each file so the user can select which files to download and install.<br />
<br />
I am probabably doing something real wierd i find the scripting laungage quite hard :-)<br />
<br />
Many Regards<br />
poly</div></div><hr />


<div class="post"><div class="posttop"><div class="username">polygonansigt</div><div class="date">18th September 2005, 20:23</div></div><div class="posttext">As there are no reply's i perhaps am unclear. I have changed the project a bit here is what i have now:<br />
<br />
$R0 = path<br />
$R1 = filename (file has been downloaded to $TEMP)<br />
<br />
SetOutPath &quot;$INSTDIR\$R0&quot; (this works)<br />
File /nonfatal $TEMP\$R1 (this doesn't work)<br />
<br />
The file is not installed. Perhaps i am just trying to do something that isn't possible to to in nsis?<br />
<br />
It seems that nsis won't have anything to do with the file if it isn't on the system on the time i compile the program.<br />
<br />
Like if i specify the file without variables<br />
File /nonfatal c:\test\filename.dll<br />
it works fine as long as the filename is on the disk when i compile, but as the point is to download the file and install it that is not possible for me :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">18th September 2005, 20:47</div></div><div class="posttext">The File instruction is a compile time instruction, therefore you cannot use run time variables in it.<br />
<br />
File takes a file on the compiler machine and compresses it into the installer file. If you are downloading a file and want to install it, use CopyFiles or Rename.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">polygonansigt</div><div class="date">18th September 2005, 20:55</div></div><div class="posttext">Oh i see, i'll try using copy instead :-)<br />
Thanx a lot.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>