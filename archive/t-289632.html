<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" change label text multiple times, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  change label text multiple times NSIS Discussion" />
	
	<title> change label text multiple times [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  change label text multiple times</div>
<hr />
<div class="pda"><a href="t-289632.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=289632">change label text multiple times</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">12700</div><div class="date">4th April 2008, 13:42</div></div><div class="posttext">Hello NSIS experts,<br />
<br />
I'm a newbie to NSIS and have to enhance some existing installer code. There is a page which accepts certain parameters (input from text fields) and manipulates them (when Next is clicked). The error messages generated are shown above the input fields in a Label with red color.<br />
<br />
The page uses MUI. Displaying a message in the red Label is not an issue. Code currently is using <br />
<br />
<br />
    GetDlgItem  $1 $hwnd 1204 ; PathRequest control (1200 + field 5 - 1)<br />
    SendMessage $1 ${WM_SETTEXT} 0 'STR:$0'     ;show the message generated by external param checker <br />
<br />
<br />
The error message on the label will change based on several attempts by user and before displaying each message it would be needed to clear the label. I've tried inserting bunch of \r\n in the label and another attempt was with bunch of spaces. None seem to work. New error message gets overwritten on the previous one.<br />
<br />
Please help me by pointing me in the right direction to some samples or at least helping me realize the capabilities of Label type fields.<br />
<br />
Thanks and have a good day,<br />
HB</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mauvecloud</div><div class="date">4th April 2008, 14:57</div></div><div class="posttext">I think this is a COM issue more than an NSIS issue, but I am guessing you need to send a message to the parent window so that it redraws the rest of the window, eliminating the leftover text from the previous error message.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">12700</div><div class="date">4th April 2008, 15:10</div></div><div class="posttext">Hi folks. I figured it out. In the existing code, I missed the part where the bg color was set to be transparent (with red text) and hence my attempt to put strings with spaces and \r\n were not erasing the previous messages. <br />
<br />
This is how it got fixed: <br />
Changed the bg color to be something non transparent and write a &quot;STR:&quot; to that Label. Then changed it back to the desired red text and transparent bg color and write the error message on it.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>