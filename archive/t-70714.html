<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Usage of IfError, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Usage of IfError NSIS Discussion" />
	
	<title> Usage of IfError [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Usage of IfError</div>
<hr />
<div class="pda"><a href="t-70714.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=70714">Usage of IfError</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">vkumara</div><div class="date">4th January 2002, 05:32</div></div><div class="posttext">Hello All,<br />
<br />
Could anybody let me know the usage of IfErrors with an<br />
example...?<br />
My situation is I've to process for 0 &amp; non-Zero return values <br />
of a function in the .NSI Script. I'd like to use this IfError<br />
command in the .nsi script.<br />
How the same cud b used ?<br />
<br />
Thanks In Advance for help.<br />
Regards<br />
Venky</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">4th January 2002, 11:15</div></div><div class="posttext">Venky,<br />
<br />
eg, when trying to read a file to the end:<br />
<br />
loop:<br />
FileRead...<br />
IfErrors -&gt; Exit<br />
Goto loop<br />
Exit:<br />
<br />
What is it you want to do exactly???<br />
<br />
Good luck, greetz, Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vkumara</div><div class="date">8th January 2002, 11:49</div></div><div class="posttext">Henri,<br />
<br />
Thanx for your response.<br />
<br />
I'm executing &quot;myfile.exe&quot; thru Exec Call with some parameters.<br />
<br />
After excuting this I need to compare the Return value of the<br />
function of myfile.exe<br />
<br />
The function which generates myfile.exe does return 1 if the function succeeds.<br />
<br />
This Return Value of 1 should be checked with IfErrors statement<br />
<br />
How can I achieve this?<br />
<br />
Thanks In Advance for your help.<br />
<br />
<br />
Regards<br />
Venky</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">8th January 2002, 15:39</div></div><div class="posttext">Hi Venky,<br />
<br />
The function which generates myfile.exe does return 1 if the function succeeds. <br />
Is StrCmp or IntCmp what you're looking for???<br />
<br />
I use some exe to check a RegCode, maybe this will give you some hint how to do it (because I do not understand what you are doing exactly: a function generates an exe???). See http://forums.winamp.com/showthread.php?s=&amp;threadid=70530 for RegCode.<br />
<br />
Tell me if this solved the problem, good luck,<br />
<br />
greetz, Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Schultz</div><div class="date">8th January 2002, 16:27</div></div><div class="posttext">Are you trying to do something like this..<br />
<br />
ClearErrors ;Make sure there isn't any previous errors.<br />
ExecWait &quot;C:\PathToMy\Program.exe&quot; $0<br />
IntCmp $0 &quot;1&quot; &quot;&quot; goto<br />
;Does something if $0 = 1<br />
<br />
goto:<br />
;Comes here if something != 1 you can do other checkcs if you wish<br />
<br />
<br />
You can also do the Iferrors call to see if an error was defined.. Because in the docs the $0 variable is undefined if you have it and an error occurs.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">8th January 2002, 17:40</div></div><div class="posttext">The IfErrors flag will be set if the exe returns a non-zero value.  Zero means that the exe returned sucessfully.  You need to use execwait to get the value.<br />
<br />
Try:<br />
<br />
ExecWait '&quot;$INSTIDIR\myfile.exe&quot;'<br />
IFErrors 0 NoError<br />
;;; Do something here when you have an error<br />
MessageBox MB_OK &quot;ERRORRRRRRRRRRRRRRRRRRR&quot;<br />
Goto EndIt<br />
NoError:<br />
MessageBox MB_OK &quot;GRRRRRRRRRRRRRRRRRRREAT&quot;<br />
EndIt:<br />
;; we're done</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vkumara</div><div class="date">9th January 2002, 10:24</div></div><div class="posttext">Hello All,<br />
<br />
Thankx for your replies to the query I've posted.<br />
Henri..sorry I did not elaborate my query.<br />
This is I intended to do.<br />
Execwait &quot;myfile.exe&quot; has been passed with some parameters.<br />
I need to check the return values using IfErros Stmt.<br />
I need to process some command only if the return value is 1.<br />
I could do this by the follg. way<br />
Execwait &quot;myfile.exe&quot; $0<br />
IntCmp $0 &quot;1&quot; &quot;&quot; MyLabel<br />
  MessageBox MB_OK &quot;Value is 1&quot;; <br />
MyLabel:<br />
SectionEnd.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vkumara</div><div class="date">9th January 2002, 13:00</div></div><div class="posttext">Hello All,<br />
<br />
Thankx for your replies to the query I've posted.<br />
Henri..sorry I did not elaborate my query.<br />
This is I intended to do.<br />
Execwait &quot;myfile.exe&quot; has been passed with some parameters.<br />
I need to check the return values using IfErros Stmt.<br />
I need to process some command only if the return value is 1.<br />
I could do this by the follg. way<br />
Execwait &quot;myfile.exe&quot; $0<br />
IntCmp $0 &quot;1&quot; &quot;&quot; MyLabel<br />
  MessageBox MB_OK &quot;Value is 1&quot;; <br />
MyLabel:<br />
SectionEnd.<br />
<br />
Thanks  &amp; Regards<br />
Venky</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">9th January 2002, 13:55</div></div><div class="posttext">Hi Venky,<br />
<br />
To get the return value, or 'error level' of a program, simply do:  ExecWait 'MyProgram.exe' $0$0 will contain the return value.<br />
<br />
Hope this helps!<br />
Alex</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">9th January 2002, 13:57</div></div><div class="posttext">The forum system has choked on my response, so: ExecWait 'MyProgram.exe' $0That's the code. $0 will contain the return value of your program.<br />
<br />
Here's the code for my above message. Who knows why it repeats. Incorrectly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">9th January 2002, 14:04</div></div><div class="posttext">The forum system has yet again misinterpreted my response. If you type<br />
<br />
ExecWait 'MyProg.exe' $0<br />
<br />
then $0 will contain the return value of your program.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>