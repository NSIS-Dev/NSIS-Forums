<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" scons problems on linux, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  scons problems on linux NSIS Discussion" />
	
	<title> scons problems on linux [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  scons problems on linux</div>
<hr />
<div class="pda"><a href="t-287998.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=287998">scons problems on linux</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">badger101101</div><div class="date">5th March 2008, 01:10</div></div><div class="posttext">I read through all of the scons/linux posts and none of them answered my question.  So here I go:<br />
<br />
I need to compile and execute NSIS in Linux.  I'm having problems with scons not locating my compiler(s) correctly.  I've read through the docs and it seems like such a simple fix, but I've been racking my brains over it.  <br />
<br />
Here's the error:<br />
<br />
scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all NSIS_CONFIG_CONST_DATA=no PREFIX=/usr/pkg/nsis install-compiler <br />
scons: Building targets ...<br />
o build/release/makensis/build.o -c -O2 -Wall -Wno-non-virtual-dtor -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/build.cpp<br />
sh: o: command not found<br />
o build/release/makensis/clzma.o -c -O2 -Wall -Wno-non-virtual-dtor -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/clzma.cpp<br />
sh: o: command not found<br />
gcc -o build/release/makensis/crc32.o -c -O2 -Wall -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/crc32.c<br />
sh: gcc: command not found<br />
scons: *** [build/release/makensis/crc32.o] Error 127<br />
scons: building terminated because of errors.<br />
<br />
  <br />
gcc -v<br />
Using built-in specs.<br />
Target: x86_64-multiling-linux<br />
Configured with: ../gcc-4.2.3/configure --prefix=/usr/pkg/gcc --build=i486-slackware-linux --host=x86_64-multiling-linux --target=x86_64-multiling-linux --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-c99 --enable-long-long --enable-clocale=gnu --enable-languages=c,c++ --disable-libstdcxx-pch<br />
Thread model: posix<br />
gcc version 4.2.3<br />
<br />
<br />
Has anyone run into this problem and fixed it?  I know scons does not extract the external environment by default, but it appears that the NSIS scons script handles that...  <br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">badger101101</div><div class="date">5th March 2008, 16:56</div></div><div class="posttext">This is supposedly solved by extracting the external PATH environment like so:<br />
<br />
import os<br />
env = Environment(ENV = {'PATH' : os.environ['PATH']})<br />
<br />
But that doesn't work.  Anyone?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th March 2008, 17:29</div></div><div class="posttext">Where is gcc located on your computer?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">badger101101</div><div class="date">14th March 2008, 22:39</div></div><div class="posttext">Hi Kichik, gcc is located and executed from /usr/pkg/gcc/bin/gcc<br />
<br />
I have a script that adds every /usr/pkg/X/bin folder to PATH.<br />
<br />
I ended up making a symbolic link to gcc in /usr/bin.  This took me a bit further, but I am now getting this:<br />
<br />
<br />
scons: Building targets ...<br />
o build/release/makensis/build.o -c -O2 -Wall -Wno-non-virtual-dtor -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/build.cpp<br />
sh: o: command not found<br />
o build/release/makensis/clzma.o -c -O2 -Wall -Wno-non-virtual-dtor -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/clzma.cpp<br />
sh: o: command not found<br />
gcc -o build/release/makensis/crc32.o -c -O2 -Wall -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/crc32.c<br />
gcc: error trying to exec 'as': execvp: No such file or directory<br />
<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">16th March 2008, 20:55</div></div><div class="posttext">scons doesn't use PATH and you indeed have to point /usr/bin/gcc and /usr/bin/g++ to the real gcc and g++. /bin/gcc and some others should work as well.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>