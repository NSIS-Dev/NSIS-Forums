<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Help with ZipDLL, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Help with ZipDLL NSIS Discussion" />
	
	<title> Help with ZipDLL [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Help with ZipDLL</div>
<hr />
<div class="pda"><a href="t-171754.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=171754">Help with ZipDLL</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Wreckles</div><div class="date">2nd March 2004, 13:16</div></div><div class="posttext">Can any 1 help me with how to make the ZipDLL work ?:( <br />
<br />
I have followed the instructions in the readme which came with it. It compiles ok when I put a '!endif' right after the line:<br />
<br />
!insertmacro ZIPDLL_EXTRACT &quot;C:\unzipped\ZipDLL\test.zip&quot; &quot;c:\output\&quot; &quot;&lt;ALL&gt;&quot;<br />
<br />
but it only make a folder named 'output' but dosent extract anyfiles. :rolleyes: <br />
<br />
Sample code<br />
<br />
;--------------------------------<br />
;Include Modern UI<br />
<br />
  !include &quot;MUI.nsh&quot;<br />
  !include &quot;ZipDLL.nsh&quot;<br />
<br />
;--------------------------------<br />
<br />
;Installer Sections<br />
<br />
Section<br />
<br />
	 !insertmacro ZIPDLL_EXTRACT &quot;C:\unzipped\ZipDLL\test.zip&quot; &quot;c:\output\&quot; &quot;&lt;ALL&gt;&quot;<br />
	<br />
        !endif<br />
<br />
Does putting a !endif is the problem here ? without it it dosent compile. Gives a error like:<br />
!if[macro][n]def: open at EOF - need !endif<br />
<br />
- wreckles</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">2nd March 2004, 13:48</div></div><div class="posttext">Hi again .. <br />
<br />
Well, I checked your problem and it appears that there is a slight error in the header file : an 'endif' is commented and should not be. That is for the compilation problem. For the rest, well, it looks like your script is missing a couple of instructions..<br />
<br />
Please download the fixed header file and try this, it should work... Otherwise let me know :)<br />
<br />
<br />
;--------------------------------<br />
;Include Modern UI<br />
<br />
!include &quot;MUI.nsh&quot;<br />
!include &quot;ZipDLL.nsh&quot;<br />
;--------------------------------<br />
<br />
OutFile &quot;c:\unzipped\testzipdll.exe&quot; ; &lt;- this was missing<br />
<br />
Section<br />
<br />
!insertmacro ZIPDLL_EXTRACT &quot;C:\unzipped\ZipDLL\test.zip&quot; &quot;c:\output\&quot; &quot;&lt;ALL&gt;&quot;<br />
<br />
SectionEnd ; &lt;- this was missing<br />
 <br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wreckles</div><div class="date">2nd March 2004, 14:30</div></div><div class="posttext">Thanx again:) Those parts are missing allright! they are in my script but didnt include them in the post. Sorry about that.;) <br />
<br />
I'll try out the new header file and let U know.<br />
<br />
Thanx again man :up: <br />
Wreckles</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wreckles</div><div class="date">2nd March 2004, 14:48</div></div><div class="posttext">Ahh... It works fine now.:up: The problem is clear to me thanx to you.<br />
<br />
I hope it allso works with spanned files...:rolleyes:<br />
<br />
Wreckles</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wreckles</div><div class="date">2nd March 2004, 15:59</div></div><div class="posttext">DARN! it dosent support spaned zip files:(  oh well, hope some 1 will improve that dll.<br />
<br />
Wreckles</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">2nd March 2004, 16:16</div></div><div class="posttext">Those parts are missing allright! they are in my script but didnt include them in the post. Sorry about that <br />
<br />
Well don't worry for that I thought you had the instructions in the script but it was just in case... ;)<br />
<br />
For the spanned files, I suggest you to read the following threads. There are quite long but the &quot;problem&quot; does not have an immediate solution apparently.. <br />
<br />
- http://forums.winamp.com/showthread.php?s=&amp;threadid=128420<br />
<br />
- http://forums.winamp.com/showthread.php?s=&amp;threadid=131853<br />
<br />
A tool to split files:<br />
http://www.freebyte.com/download/hjsplit/hjspldos.zip<br />
<br />
Hope you'll find what you need... :)<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wreckles</div><div class="date">3rd March 2004, 13:00</div></div><div class="posttext">Thanx again:) I'll check out those forum links and the zip file.<br />
<br />
Hope it'll solve my prob. Wonder why NSIS dosent support making a spanned exe. more easily:rolleyes: Most of other setup builders have it.(like Inno Setup) I hope they put this option in the next release. cuz a lot of ppl will benefit from it:up: <br />
well umm... at least me! :D<br />
<br />
- wreckles</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wreckles</div><div class="date">3rd March 2004, 13:55</div></div><div class="posttext">That Hjsplit.exe is really nice. but it takes a bit more time and space to re join the thing and extract the joined file from the users HDD. It'll work fine with small files but what about large 1's ? :( <br />
<br />
<br />
I heard that Spanning facility will be available in NSIS 2.1. That'll be really nice :up:<br />
<br />
-Wreckles</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evilO</div><div class="date">3rd March 2004, 14:21</div></div><div class="posttext">Err, sorry Wreckles I didn't think about huge files... :igor:<br />
<br />
Well I hope for you that the release 2.1 will include this feature, but as the version 2.0 was released very recently you'll probably have to find another way to do it...<br />
<br />
Good luck :)<br />
<br />
evilO/Olive</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wreckles</div><div class="date">3rd March 2004, 15:58</div></div><div class="posttext">Yeah... Looks like I have to wait and see.. But still NSIS is a great software :up: <br />
Thanx for all your help man. Really learned a lot thanx to U. :)<br />
<br />
- wreckles</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>