<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Silent install without /S, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Silent install without /S NSIS Discussion" />
	
	<title> Silent install without /S [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Silent install without /S</div>
<hr />
<div class="pda"><a href="t-90164.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=90164">Silent install without /S</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">HeadlessRider</div><div class="date">6th June 2002, 13:05</div></div><div class="posttext">Hi,<br />
<br />
I'm a user of the great NSIS and I need make installation, whitch run silently for empty command line and with dialogs for same switches on the command line. I don't know how to join SilentInstall setting with functions or sections.<br />
<br />
Thanks for help,<br />
HlR.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">6th June 2002, 13:12</div></div><div class="posttext">Maybe it's my problem, but I do not understand what you want to do. Please specify some more.<br />
<br />
You want a SilentInstall and still dialogs and ComponentsPage? In my opinion, this is the contrary of a SilentInstall. But maybe I do not understand you.<br />
<br />
Please explain!<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HeadlessRider</div><div class="date">6th June 2002, 13:25</div></div><div class="posttext">When I run my install package (made by NSIS) without command line, so I need the same behaviour as run it with /S.<br />
<br />
In *.nsi script I need some like that (meta language :-)):<br />
<br />
if length of $CMDLINE is 0 then<br />
  SilentInstall silent<br />
else<br />
  SilentInstall normal<br />
<br />
Section &quot;&quot; ; (default section)<br />
SetOutPath &quot;$INSTDIR&quot;<br />
...etc...<br />
<br />
Am I clear now? :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">6th June 2002, 13:40</div></div><div class="posttext">If /S is specified, the installation will be silent. We do not need to program that. Apart from MessageBoxes, you will see nothing.<br />
<br />
When you just specify &quot;SilentInstall silent&quot; it will be silent always, no matter what command line.<br />
<br />
Does this answer the question?<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HeadlessRider</div><div class="date">6th June 2002, 13:50</div></div><div class="posttext">Sorry, but it isn't the answer for my problem :-(<br />
<br />
When command line will be empty, then installation must be silent. This is my aim.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">6th June 2002, 14:02</div></div><div class="posttext">From the docs:<br />
SilentInstall normal|<br />
silent|<br />
silentlog Specifies whether or not the installer should be silent. If it is 'silent' or 'silentlog', all sections are installed quietly, with no screen output from the installer itself (MessageBoxes are still displayed on error, and the script can still display whatever it wants). Note that if this is set to 'normal' and the user runs the installer with /S on the command line, it will behave as if SilentInstall 'silent' was used. Note: see also LogSet.<br />
<br />
From my previous reply:<br />
When you just specify &quot;SilentInstall silent&quot; it will be silent always, no matter what command line.<br />
<br />
I do not see the missing part. Just try it and you will see. When &quot;silent&quot; is specified, it will always be silent, no matter how the commandline looks like.<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HeadlessRider</div><div class="date">6th June 2002, 14:17</div></div><div class="posttext">Sorry, its my fault. I mean: If and only if the command line is empty, instalation must be silent. If I run, for example<br />
<br />
my_setup.exe /show<br />
<br />
then the installation must not be silent. So, I must set SilentInstall whit dependency on the command line.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">6th June 2002, 14:38</div></div><div class="posttext">Isn't this strange? Why not use the integrated possibilities of NSIS and just use /S to make it silent. So instead of making this:<br />
<br />
silent if CMDLINE is empty, normal else.<br />
<br />
make this:<br />
<br />
silent if /S, normal else.<br />
<br />
/S is already supported and you don't need to program anymore.<br />
<br />
You could check using GetParameters if /S is selected and depending on that display messageboxes or not.<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HeadlessRider</div><div class="date">7th June 2002, 06:43</div></div><div class="posttext">Uff :-) Yes, it's strange, but I need this functionality. I need silent install when command line is empty and non silent when command line contain my flag (or any flag), for example /a (so, I need the opposite funtionality to default behaviour).<br />
<br />
So, I need use same function for parse command line, for example GetParameters. If command line will be equal to the string &quot;/a&quot; then I must set<br />
SilentInstall silent<br />
or<br />
DirShow hide<br />
<br />
When I set first<br />
SilentInstall normal<br />
and command line will be contain any flag, then I must set<br />
SilentInstall silent.<br />
<br />
But this is the problem, because this attributes can be set only out of the functions and sections and on the other hand: functions must be called from the sections.<br />
<br />
So, this problem hasn't the solution?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">7th June 2002, 07:29</div></div><div class="posttext">Indeed: conditioning SilentInstall is not possible. Solution: change the process outside the installer. Now this process requires the installer to be silent when no commandline has been specified. ry to change this behavior so it will use the /S option. No other possibilities (except from changing the source of NSIS!).<br />
<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HeadlessRider</div><div class="date">7th June 2002, 12:23</div></div><div class="posttext">Hmm, I heard, that InstallShield can solve my problem. It's sad, but I will have to buy InstallShield software instead of I like the NSIS :-(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">7th June 2002, 12:44</div></div><div class="posttext">Do you want to spend money on that?<br />
<br />
Maybe we could help you change the outside process that requires an installer to be run silently if it doesn't get a commandline and normally if it does get a commandline argument.<br />
<br />
If you could alter these requirements, you could use /S.<br />
<br />
Hey, an idea, maybe create an additional installer that turns around the commandlines and calls the true installer with the right commandline arguments (/S). This additional installer should be run silently of course.<br />
<br />
That should work, good luck,<br />
-Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HeadlessRider</div><div class="date">7th June 2002, 13:12</div></div><div class="posttext">Yes!, I had the same idea and this is my solution:<br />
<br />
OutFile &quot;My_Install_Package.exe&quot;<br />
SilentInstall normal<br />
<br />
Function .onInit<br />
Call GetParameters<br />
Pop $0<br />
StrCmp $0 &quot;/S&quot; end_function<br />
StrCmp $0 &quot;/a&quot; end_function<br />
Exec &quot;My_Install_Package.exe /S&quot;<br />
Abort<br />
end_function:<br />
FunctionEnd<br />
<br />
:-))) Everything is OK :-)))<br />
<br />
Thanks for your patient,<br />
<br />
HlR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">7th June 2002, 13:28</div></div><div class="posttext">Great, no InstallShield needed here :D<br />
<br />
Greetz,<br />
-Hendri.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>