<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSISDL download problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSISDL download problem NSIS Discussion" />
	
	<title> NSISDL download problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSISDL download problem</div>
<hr />
<div class="pda"><a href="t-273075.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=273075">NSISDL download problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">boomsurf</div><div class="date">19th June 2007, 09:25</div></div><div class="posttext">Hi all<br />
<br />
I'm having an existing installer that downloads a file from an url (e.g. http://www.oldservername.com/file.zip).<br />
<br />
nsisdl::download /TRANSLATE &quot;${DOWNLOAD_DOWNLOADING}&quot; &quot;${DOWNLOAD_CONNECTING}&quot; &quot;${DOWNLOAD_SECOND}&quot; &quot;${DOWNLOAD_MINUTE}&quot; &quot;${DOWNLOAD_HOUR}&quot; &quot;${DOWNLOAD_SECONDS}&quot; &quot;${DOWNLOAD_MINUTES}&quot; &quot;${DOWNLOAD_HOURS}&quot; &quot;${DOWNLOAD_PROGRESS}&quot; &quot;${DOWNLOAD_REMAINING}&quot; /TIMEOUT=30000 ${DOWNLOADBASE}/${LANGBASE}/file.zip $PLUGINSDIR/file.zip<br />
<br />
Now the url was changed by the isp to e.g. http://www.newservername.com/file.zip. On the old page a simple redirect is done.<br />
<br />
&lt;http&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;URL=http://www.newservername.com/file.zip&quot;&gt;&lt;body&gt;<br />
<br />
This causes the installer to fail because it cannot download the file. I guess its because the server returns a 404. When I hit the old URL within IE it redirects to the new server and downloads the file.<br />
<br />
Unfortunately I cannot redirect using a server side pearl script or modify the htaccess because I don't get the permission to do it.<br />
<br />
I cannot change the installer everytime the url changes, so I'm looking for a solution.<br />
<br />
Any help/hint is appreciated.<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th June 2007, 10:02</div></div><div class="posttext">You should store the URL in a text/INI file at a remote address that will not change. Then you can download this file and read it with FileRead/ReadINIStr.<br />
<br />
If you cannot have a fixed URL then header redirection in a PHP/Perl/whatever executable is the only way.<br />
<br />
I recommend using quotes around the two last parameters as well.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">19th June 2007, 13:30</div></div><div class="posttext">inetc/inetload handle redirection internally (in WinInet :) ). http://nsis.sourceforge.net/Category:Plugins</div></div><hr />


<div class="post"><div class="posttop"><div class="username">boomsurf</div><div class="date">19th June 2007, 13:34</div></div><div class="posttext">Thanks so far for help.<br />
<br />
Unfortunately there's a CD based installer out there that gets used very often and I'm not able to change.<br />
<br />
So if you have any idea how to handle this without creating a new installer let me know.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th June 2007, 15:21</div></div><div class="posttext">Try Takhir's plugin, although I'm guessing that that will not work for meta reload as that is an HTML element not a header instruction.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>