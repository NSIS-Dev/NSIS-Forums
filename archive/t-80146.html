<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Trouble with MB_YESNOCANCEL for MessageBox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Trouble with MB_YESNOCANCEL for MessageBox NSIS Discussion" />
	
	<title> Trouble with MB_YESNOCANCEL for MessageBox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Trouble with MB_YESNOCANCEL for MessageBox</div>
<hr />
<div class="pda"><a href="t-80146.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=80146">Trouble with MB_YESNOCANCEL for MessageBox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">paraclete</div><div class="date">22nd March 2002, 15:32</div></div><div class="posttext">I'm trying to use MessageBox MB_YESNOCANCEL to avoid overwriting a user's data.  I have the following statement, which the compiler rejects.  Seems like it ought to work.  I assume I'm doing something wrong.  Any suggestions?  How do you make MB_YESNOCANCEL work with only 2-4 parameters?<br />
<br />
MessageBox MB_YESNOCANCEL|MB_ICONQUESTION &quot;InvStats.xml exists: Yes=Overwrite  No=Keep  Cancel=Abort Installation&quot; IDYES StatsOverwrite IDNO StatsNoOverwrite IDCANCEL StatsAbort<br />
<br />
MessageBox expects 2-4 parameters, got 8.<br />
Usage: MessageBox mode messagebox_text [return_check label_to_goto_if_equal [return_check2 label2]]<br />
    mode=modeflag[|modeflag[|modeflag[...]]]<br />
    modeflag=(MB_ABORTRETRYIGNORE|MB_OK|MB_OKCANCEL|MB_RETRYCANCEL|MB_YESNO|MB_YESNOCANCEL|MB_ICONEXCLAMATION|MB_ICONINFORMATION|MB_ICONQUESTION|MB_ICONSTOP|MB_TOPMOST|MB_SETFOREGROUND|MB_RIGHT</div></div><hr />


<div class="post"><div class="posttop"><div class="username">paraclete</div><div class="date">22nd March 2002, 15:44</div></div><div class="posttext">Oddly, the compiler accepts the line below, and it works ok; it seems to have 6 parameters, which disagrees with the message from the MB_YESNOCANCEL problem in the previous post ???<br />
<br />
MessageBox MB_YESNO|MB_ICONQUESTION &quot;InvStats.xml exists: Yes=Overwrite (Progress and How Often to Recite lost)  No=Keep Current File&quot; IDYES StatsOverwrite IDNO StatsNoOverwrite</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Smile2Me</div><div class="date">22nd March 2002, 16:21</div></div><div class="posttext">Paraclete,<br />
<br />
take a look at the documentation. You can at most specify 2 labels to jump to. The other option (might be cancel) is the one where no jump will occur and the script will continue.<br />
<br />
Eg. use:<br />
MessageBox MB_YESNOCANCEL &quot;Question?&quot; IdYes YESS IdNo NOO<br />
;cancel has been clicked...<br />
Quit<br />
IdYes:<br />
hsdkjgh<br />
IdNo:<br />
ednjhkjdf<br />
<br />
Good luck,<br />
Hendri.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">paraclete</div><div class="date">22nd March 2002, 16:37</div></div><div class="posttext">Thanks Hendri for the answer ... and the gentle nudge to read the documentation.  I should have figured that one out.<br />
<br />
It does seem like the compiler error message could be improved, as it indicated MessageBox expected 2 to 4 paramters, when 6 is allowed for certain MB_ options.  I'll put in a developer request note.  Just a nit for an outstanding piece of software ...<br />
<br />
I combined your suggestion with several others I've received this morning (you guys have INCREDIBLE response) as follows:<br />
<br />
MessageBox MB_YESNOCANCEL|MB_ICONQUESTION &quot;InvStats.xml exists: \<br />
  $\r$\nYes=Overwrite (Progress and How Often to Recite lost)  \<br />
  $\r$\nNo=Keep Current File  \<br />
  $\r$\nCancel=Abort Installation&quot; IDYES StatsOverwrite IDNO StatsNoOverwrite<br />
  ;StatsAbortPseudoLabel:<br />
  Abort &quot;Cancelling installation&quot;<br />
  StatsOverwrite:<br />
  File InstallData\InvStats.xml<br />
  StatsNoOverwrite: ; continue on to other files<br />
  File InstallData\InvInfo.xml<br />
<br />
Thanks for the &quot;rapid response&quot; You guys are GOOD! <br />
Prov 15:23 (NIV) A man finds joy in giving an apt reply-- and how good is a timely word! <br />
<br />
Thx for the help. Nsis is one of the nicer utilities to work with because of the outstanding support and user/developer participation. :up:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>