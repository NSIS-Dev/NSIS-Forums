<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" DirectX setup works but doesn't show dialog with progress in XP (in win 2K all is OK), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  DirectX setup works but doesn't show dialog with progress in XP (in win 2K all is OK) NSIS Discussion" />
	
	<title> DirectX setup works but doesn't show dialog with progress in XP (in win 2K all is OK) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  DirectX setup works but doesn't show dialog with progress in XP (in win 2K all is OK)</div>
<hr />
<div class="pda"><a href="t-222642.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=222642">DirectX setup works but doesn't show dialog with progress in XP (in win 2K all is OK)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rlopez</div><div class="date">27th July 2005, 19:01</div></div><div class="posttext">I am using in my installer a call to DirectXSetup in DSETUP.dll to install DirectX if it is necessary. All works fine in win 2k and a dilog window with progress bar for  DirectX files is shown, but in win XP dialog window does not appear. Nevertheless DirectX setup takes place. <br />
<br />
This is the call I have<br />
<br />
System::Call 'DSetup::DirectXSetup(i, t, i) i \<br />
($HWNDPARENT, &quot;$WINDIR\temp\DX2005Redist&quot;, ${DSETUP_DIRECTX}) .r0'<br />
StrCmp $0 ${DSETUPERR_SUCCESS} done<br />
StrCmp $0 ${DSETUPERR_SUCCESS_RESTART} 0 error<br />
...<br />
<br />
Any suggestion?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th July 2005, 17:18</div></div><div class="posttext">Doesn't DirectX 9 come preloaded with Windows XP? If it's already installed, no installation should take place and so no dialog should appear.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rlopez</div><div class="date">28th July 2005, 18:46</div></div><div class="posttext">Thanks for replying. I was waiting for any reply desperatly.<br />
<br />
I need to detect if last version of DirectX is installed (June 2005 Edition). The problem is that in Win2k I get the microsoft progress dialog during DirectX setup when I make the call:<br />
<br />
System::Call 'DSetup::DirectXSetupA(i, t, i) i \<br />
$HWNDPARENT, &quot;$WINDIR\temp\DX2005Redist&quot;, ${DSETUP_DIRECTX}) .r0' <br />
<br />
In WinXP the setup takes places but no dialog appears.<br />
<br />
I have chequed HWNDPARENT and it is 0 because before I make the call I destroy a banner I have. But anyway this must not be the reason because in this case the microsoft dialog must take as parent the  desktop windows.<br />
<br />
I can't understand the reason why installer behaves different in Win XP</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>