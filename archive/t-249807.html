<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" If Statement, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  If Statement NSIS Discussion" />
	
	<title> If Statement [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  If Statement</div>
<hr />
<div class="pda"><a href="t-249807.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=249807">If Statement</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Potz</div><div class="date">27th June 2006, 20:02</div></div><div class="posttext">I was wondering how I set this up to not run the rest of the function when a check box is checked by using an if statement.<br />
<br />
here is the way I have my code set up now.  I know this dosen't work now but can someone tell me a way to get this to work this way... if not maybe another way.<br />
<br />
  ReadINIStr $3 &quot;$PLUGINSDIR\ServerIP.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
  ${If} $3 = 1<br />
  leave function<br />
  ${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th June 2006, 20:16</div></div><div class="posttext">There is a typo in your code, to compare two values you should use ==</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Potz</div><div class="date">27th June 2006, 20:20</div></div><div class="posttext">Thanks, do you know why the leave function part isn't working?  I have been using the HM NIS edit program and it dosen't seem to want to build because of that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">27th June 2006, 23:18</div></div><div class="posttext">Use Call LeaveFunction. You cannot use spaces in a function name.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Potz</div><div class="date">28th June 2006, 12:19</div></div><div class="posttext">Ok thats fixed thanks.  Now for some reason it is aborting the creation process. <br />
<br />
It says Error: resolving install function &quot;LeaveFunction&quot; in function &quot;serverIP&quot;<br />
Note: uninstall functions must begin with &quot;un.&quot;, and install functions must not<br />
Error - aborting creation process<br />
<br />
I know it has something to do with the leavefunction but I am not sure what to do inorder to fix it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galil</div><div class="date">28th June 2006, 14:19</div></div><div class="posttext">In order to call a function you must HAVE it...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Potz</div><div class="date">28th June 2006, 14:23</div></div><div class="posttext">ok maybe call is not what I need because I do not have a leavefunction.  All I want to do is if the check box is checked I do not want to run the rewrite code.<br />
<br />
here is my function<br />
<br />
;IP address change------------------------------------<br />
Function ServerIP<br />
<br />
!insertmacro MUI_HEADER_TEXT &quot;Server IP Address Change&quot; &quot;This is for Clients only, if this is a server you are installing on then place localhost in the text area.&quot;<br />
<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;ServerIP.ini&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ServerIP.ini&quot;<br />
  ReadINIStr $3 &quot;$PLUGINSDIR\ServerIP.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
  ${If} $3 == 1<br />
  Call LeaveFunction<br />
  ${EndIf}<br />
  <br />
  ReadINIStr $0 &quot;$PLUGINSDIR\ServerIP.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
  <br />
  Push localhost ;text in line to replace<br />
  Push $0 ;replace with<br />
  Push 169<br />
  Push &quot;$DESKTOP\dashboard.properties&quot;<br />
  Call ReplaceOnLine<br />
  <br />
  Push localhost ;text in line to replace<br />
  Push $0 ;replace with<br />
  Push 173<br />
  Push &quot;$DESKTOP\dashboard.properties&quot;<br />
  Call ReplaceOnLine<br />
FunctionEnd<br />
;------------------------------------------------------</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">28th June 2006, 23:48</div></div><div class="posttext">One note: usually !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;Serverip.ini&quot; is put in the .oninit function, so that the installer loads the page very quickly. <br />
<br />
Fixed function:<br />
;IP address change------------------------------------<br />
Function ServerIP<br />
<br />
!insertmacro MUI_HEADER_TEXT &quot;Server IP Address Change&quot; &quot;This \<br />
is for Clients only, if this is a server you are \<br />
installing on then place localhost in the text area.&quot;<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ServerIP.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
Function LeaveServerIP<br />
<br />
ReadINIStr $3 &quot;$PLUGINSDIR\ServerIP.ini&quot; &quot;Field 5&quot; &quot;State&quot;<br />
<br />
${If} $3 == 0<br />
  ReadINIStr $0 &quot;$PLUGINSDIR\ServerIP.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
<br />
  Push localhost ;text in line to replace<br />
  Push $0 ;replace with<br />
  Push 169<br />
  Push &quot;$DESKTOP\dashboard.properties&quot;<br />
  Call ReplaceOnLine<br />
<br />
  Push localhost ;text in line to replace<br />
  Push $0 ;replace with<br />
  Push 173<br />
  Push &quot;$DESKTOP\dashboard.properties&quot;<br />
  Call ReplaceOnLine<br />
${EndIf}<br />
FunctionEnd<br />
;----------------------------------------------------<br />
Now for your custom page. Change it to:<br />
<br />
Page custom ServerIP LeaveServerIP<br />
<br />
That should fix it :).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Potz</div><div class="date">29th June 2006, 14:31</div></div><div class="posttext">Awesome it works now.  Thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">harishkothuri</div><div class="date">18th March 2011, 09:59</div></div><div class="posttext">Hi,<br />
Need help in NSIS Scripting..  Actually i want to check some folders are existed in one specific path. I know how to test one folder with IfFileExists .   but i want to check more than one folder.. <br />
<br />
Ex:  IfFileExists &quot;$INSTDIR\..\FolderName&quot; one two  #( here am checking 1 folder Name in #INSTDIR path .. like this i want to check more than one folder nd then only it has to jump) <br />
<br />
one:<br />
        stmt1<br />
        stmt2<br />
        ...<br />
two:<br />
      stmts.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">18th March 2011, 13:42</div></div><div class="posttext">1: Your IfFileExists command is incorrect. You're checking if anything called 'foldername' exists, regardless of whether it's a file or a folder. You need to check for existence of 'foldername\*.*' instead.<br />
<br />
2. Use logiclib to easily add conditions to your If statement:<br />
${If} ${FileExists} &quot;$INSTDIR\..\FolderName1\*.*&quot; <br />
${AndIf} ${FileExists} &quot;$INSTDIR\..\FolderName2\*.*&quot; <br />
<br />
3. ...what on earth does &quot;stmt&quot; mean?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>