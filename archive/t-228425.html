<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Have variables in the MUI Finish page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Have variables in the MUI Finish page NSIS Discussion" />
	
	<title> Have variables in the MUI Finish page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Have variables in the MUI Finish page</div>
<hr />
<div class="pda"><a href="t-228425.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=228425">Have variables in the MUI Finish page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Gato Muerto</div><div class="date">14th October 2005, 19:10</div></div><div class="posttext">I have a detection routine in place to verify the version of DirectX that a user has during the installation.<br />
<br />
The problem is that the program requires a file from the August release of the SDK version of DirectX 9.0c in order to work correctly.  I have the link to Microsoft's website in order to accomplish this, but I realize that there is every indication that the version of DirectX will change with the upcoming release of Vista.  <br />
<br />
I originally planned to put a link in the Finishpage using the &quot;MUI_FINISHPAGE_SHOWREADME&quot; command, but have it change dependant on if the user has DX9.0c, a previous version, or a more advanced version.  In the case of DX9.0b or below, it will link to the full installation of DX9.0c august2005 release, in the case of DX9.0c, it will link to the update file, and in the case of a more advanced version, not show a link at all, or offer to auto-run the program.<br />
<br />
I intended to abuse the finishpage because since I am sending the user to an external link, I do not want to confuse the user during the installation, instead force the &quot;popup&quot; to appear after the installation has completed.  Is this possible, or should I attempt to do this in another way?<br />
<br />
Thanks for the help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mscoville</div><div class="date">14th October 2005, 19:32</div></div><div class="posttext">Function PageFinish<br />
&lt;Your Code here&gt;<br />
FunctionEnd<br />
<br />
 !define MUI_PAGE_CUSTOMFUNCTION_PRE &quot;PageFinish&quot;<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW ShowFinish<br />
!insertmacro MUI_PAGE_FINISH<br />
 <br />
<br />
you can do that to add things to the welcome/finish page<br />
<br />
So you would just have to check a variable with the version and write the correct link that you want. and then it will update the finish page before it calls it.<br />
<br />
you can do <br />
!insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ioSpecial.ini&quot; &quot;Settings&quot; &quot;NumFields&quot; &quot;4&quot;<br />
<br />
to write to the pages INI file. just change  &quot;Settings&quot; &quot;NumFields&quot; &quot;4&quot; to what you want.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th October 2005, 14:40</div></div><div class="posttext">You can also use variables in the defines for the MUI page. It'd be simpler than editing the INI file in the callback functions. For example:!define MUI_FINISHPAGE_SHOWREADME &quot;$README&quot;<br />
# ...<br />
StrCpy $README &quot;http://nsis.sf.net/&quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>