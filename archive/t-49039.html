<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" New IfOSVersion command, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  New IfOSVersion command NSIS Discussion" />
	
	<title> New IfOSVersion command [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  New IfOSVersion command</div>
<hr />
<div class="pda"><a href="t-49039.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=49039">New IfOSVersion command</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">numberone</div><div class="date">6th May 2001, 00:30</div></div><div class="posttext">Hi all.  I noticed several people in this forum mentioned creating installers that needed to know the OS version and such, and I know there were certain ways given to determine basic differences (between Win9X and WinNT types) by searching for registry keys and the like, but I thought I'd give a go at creating an actual command for this kind of thing.  Here is the result:<br />
<br />
IfOSVersion comparison_operator OS_Version[:Service_Pack][|OS_Version[:Service_Pack]][...] label_to_goto_if_comparison_is_true [label_to_goto_otherwise]<br />
<br />
valid identifiers:<br />
comparison_operator(=,!=,&lt;,&gt;,&lt;=,&gt;=)<br />
OS_Version(OS_WIN31|OS_WINNT35|OS_WINNT351|OS_WIN95|OS_WINNT4|OS_WIN98|OS_WINME|OS_WIN2000|OS_WINXP|OS_9XFAMILY|OS_NTFAMILY)Service_Pack(SP_1|SP_2|SP_3|SP_4|SP_5|SP_6|SP_7|SP_8|SP_9|SP_10)<br />
<br />
This command gives you full conditional install control and the ability to tailor an install to any of the different kinds of Windows operating systems.  You can use it in the .onInit function to make sure the user's OS is one that can be installed on, and/or in any other function/section of your script.<br />
<br />
With this feature compiled in, it increases the size of a compiled exe by about 1k, so I don't know if this feature needs to be optional (defined in config.h) or not.  I guess Justin can decide.<br />
<br />
Here (http://www.nextgentech.net/os_test.nsi) is a script that explains more fully the abilities of this function<br />
<br />
Here (http://www.nextgentech.net/os_test.exe) is this script compiled<br />
Of course, you won't be able to compile it unless you get a version of NSIS with my code in it.  I'm going to send the code to Justin later today.<br />
<br />
-Davison</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>