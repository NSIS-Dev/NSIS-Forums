<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Simple Help, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Simple Help NSIS Discussion" />
	
	<title> Simple Help [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Simple Help</div>
<hr />
<div class="pda"><a href="t-149858.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=149858">Simple Help</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">webgeek</div><div class="date">20th September 2003, 20:23</div></div><div class="posttext">Ok, this is stupid, but I am at a loss as to how to do this. All I need to do is have a series of sections that a user can pick and show/hide different pages based on their choices. I have the sections working just fine, but I can't seem to find a good way to show or hide the pages. I figured that setting a variable in the section and then checking it at the begining of the custom page and calling abort or not would be a good solution. But I can't seem to get the dang thing to work. Rather then attach my rather lengthy installer, could someone just post a simple example? <br />
<br />
I have read the docs extensivly and I am just missing it. I have also searched this board and archives and I am not seeing what I need. I have tried using the var command and it just errors. I think that is related to the version of NSIS I have, but I don't want to change it now. I've tried pushing a variable onto the stack and then popping it off and doing StrCmp (of which I can't find ANY significant mention here: http://nsis.sourceforge.net/Docs/ ??) but it is not working the way I would expect. Basically I do this:<br />
<br />
Section &quot;Test&quot; TestSection<br />
	push &quot;Test_True&quot;<br />
SectionEnd<br />
<br />
Function PageToDisplayIfTestSectionIsInstalled<br />
	pop $0<br />
	StrCmp &quot;$0&quot; &quot;Test_True&quot; 0 runPage<br />
		Abort <br />
	runPage:<br />
	; do stuff here<br />
FunctionEnd<br />
<br />
And abort is called only if I DO install TestSection?! Anyways, any help would be greatly appreciated!<br />
<br />
Mike</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">20th September 2003, 20:39</div></div><div class="posttext">Have you tried using a COMPONENTS page in your installer? This makes it easy for the  user to choose which &quot;sections&quot; get installed.<br />
<br />
Several examples of scripts using COMPONENTS pages are supplied with NSIS.<br />
<br />
Without knowing which version of NSIS you are using and whether or not you are using MUI, it is difficult to give more specific advice.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">20th September 2003, 20:43</div></div><div class="posttext">If the custom page is displayed before the installation, the sections have not been executed yet. There have been a lot of topics about this issue, please use the search. You have to check which sections have been selected.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">webgeek</div><div class="date">20th September 2003, 20:47</div></div><div class="posttext">Thanks for the quick reply. That's the trick, how does a custom page check &quot;which sections have been selected&quot;. I have everything else working to that point (and after).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">webgeek</div><div class="date">20th September 2003, 20:53</div></div><div class="posttext">Ah ha! Thanks to your verbiage Joost, I was about to use a different search that came up with this page:<br />
http://nsis.sourceforge.net/archive/viewpage.php?pageid=320<br />
Which is precisly what I need. Thanks for the help!<br />
<br />
Mike</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>