<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Could i compile an .nsi-file in runtime, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Could i compile an .nsi-file in runtime NSIS Discussion" />
	
	<title> Could i compile an .nsi-file in runtime [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Could i compile an .nsi-file in runtime</div>
<hr />
<div class="pda"><a href="t-184862.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=184862">Could i compile an .nsi-file in runtime</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">wolf67</div><div class="date">28th June 2004, 07:11</div></div><div class="posttext">My thougt is this. I want to compile and create an istallation file from an nsi-file. And i want to start all of that from an C# application and on every time I want to include a new ini-file in the compilation. Is there any way to do this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wolf67</div><div class="date">28th June 2004, 11:19</div></div><div class="posttext">When i compile whith &quot;makensis&quot; i want to set different output library for the installation file and a filepath to an .ini-file in the command line. Could i do that and how to take care of it in my .nsi-file?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">28th June 2004, 13:34</div></div><div class="posttext">I did something similar. The way I set up my build environment allows me to have an nsis make file which builds nsis installers based on information in ini files. You can find an example of my build environment via this thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=181480&amp;highlight=multilingual).<br />
<br />
Cheers!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wolf67</div><div class="date">28th June 2004, 14:32</div></div><div class="posttext">I am new on this, Could you help me a little bit? I have tried to:<br />
!define File  <br />
in my .nsi-file and in makensis<br />
makensis /V4 /Olog.txt /DFile=aku.ini aku5.nsi <br />
and i get the follow error &quot;!define: &quot;File&quot; already defined!&quot;. My thougt is this. Every instance of the setup.exe should contain a unique version of the ini-file because i have a serialnumber in it which is unique for every setup.exe. Could i declare a file path to the ini-file and send it in the makensis command and take care of it in the .nsi-file?<br />
<br />
<br />
Sorry for my bad english</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">28th June 2004, 15:00</div></div><div class="posttext">Well to start off &quot;File&quot; is a reserved word. Try:<br />
<br />
<br />
!define MyFile<br />
<br />
<br />
or:<br />
<br />
<br />
makensis /V4 /Olog.txt /DMyFile=aku.ini aku5.nsi</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wolf67</div><div class="date">29th June 2004, 07:11</div></div><div class="posttext">&quot;makensis /V4 /Olog.txt /DMyFile=C:\Program\NSIS\aku.ini aku5.nsi&quot;;  <br />
this works a bit on the way, How should i take care of it in my .nsi-file? I tried File &quot;MyFile&quot; and File /nonfatal /a /r &quot;MyFile&quot;<br />
 but i doesnt work:confused:<br />
<br />
This displays in the log file for .nsi<br />
Command line defined: &quot;MyFile=C:\Program\NSIS\aku.ini&quot; <br />
and this<br />
File: &quot;MyFile&quot; -&gt; no files found. <br />
<br />
It should contain the file path so the script knows where to find the .ini-file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">29th June 2004, 13:23</div></div><div class="posttext">Change:<br />
File /nonfatal /a /r &quot;MyFile&quot;<br />
to:<br />
File /nonfatal /a /r &quot;$MYFILE&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wolf67</div><div class="date">29th June 2004, 14:10</div></div><div class="posttext">Still not working <br />
File: &quot;$MYFILE&quot; -&gt; no files found.<br />
This drive me crasy i think.<br />
<br />
This is how the section looks like:<br />
Section &quot;MainSection&quot; SEC01<br />
  SetOutPath &quot;$INSTDIR&quot;<br />
  SetOverwrite ifnewer<br />
  ;File &quot;aku.ini&quot;<br />
  File &quot;C:\Akupunktör_klient\Akup.exe&quot;<br />
  CreateDirectory &quot;$SMPROGRAMS\Akupunktör&quot;<br />
  CreateShortCut &quot;$SMPROGRAMS\Akupunktör\Akupunktör.lnk&quot; &quot;$INSTDIR\Akup.exe&quot;<br />
  CreateShortCut &quot;$DESKTOP\Akupunktör.lnk&quot; &quot;$INSTDIR\Akup.exe&quot;<br />
  File &quot;..\..\..\..\Webbserver\ApacheGroup\Apache2\htdocs\Akutest\reg2.php&quot;<br />
  File &quot;..\..\..\..\Webbserver\ApacheGroup\Apache2\htdocs\Akutest\index3.php&quot;<br />
  File &quot;..\..\..\..\Webbserver\ApacheGroup\Apache2\htdocs\Akutest\verreg.php&quot;<br />
  File &quot;..\..\..\..\Webbserver\ApacheGroup\Apache2\htdocs\Akutest\valkomna2.php&quot;<br />
  File /nonfatal /a /r &quot;$MYFILE&quot;<br />
SectionEnd<br />
<br />
any ideas?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">29th June 2004, 14:28</div></div><div class="posttext">haha, my fault, I forgot the braces.<br />
<br />
File /nonfatal /a /r &quot;${MYFILE}&quot;<br />
<br />
<br />
That should do it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wolf67</div><div class="date">29th June 2004, 14:47</div></div><div class="posttext">Now it´s work!!!!!!!<br />
<br />
Thanks a lot for the help :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zimsms</div><div class="date">29th June 2004, 14:49</div></div><div class="posttext">Your quite welcome.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>