<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" License File, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  License File NSIS Discussion" />
	
	<title> License File [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  License File</div>
<hr />
<div class="pda"><a href="t-323246.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=323246">License File</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">19th October 2010, 12:56</div></div><div class="posttext">Hi all,<br />
<br />
Im working on Localization of my installer. <br />
<br />
my page flow is as follows.<br />
1.welcome<br />
2.license<br />
3.custom page. ( i have created my own directory page)<br />
4.custom page..<br />
5...<br />
...<br />
8.finish page<br />
<br />
Issue:<br />
<br />
Im using the following code<br />
<br />
<br />
<br />
FindWindow $HWND &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
<br />
       GetDlgItem $R4 $HWND 1207<br />
       SendMessage $R4 ${WM_SETTEXT} 1 &quot;STR:$(HELLO)&quot;<br />
<br />
<br />
<br />
1.The above code works fine when i dont include license page.<br />
2.The above code doesnt work if i have license page before my custom page.<br />
<br />
<br />
I removed my license page and introduced welcome page again and tested it. It works fine.<br />
<br />
i guess the issue is in identifying the parent window.<br />
<br />
Suggestion please.. Thanks in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Netsurfer24</div><div class="date">19th October 2010, 13:39</div></div><div class="posttext">There is a very simple way of using a multi-language license (file): http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.15.3<br />
<br />
Or do it like on any other page by using LangString:http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.15.3 (http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.15.2)<br />
<br />
BTW: Searching the (linked) scripting reference may help you to solve such problems within minutes ... :D<br />
Also using Google (if you have an idea of the search words) might often be better than the forum search (especially when searching for commands).<br />
<br />
Gunther</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">19th October 2010, 13:52</div></div><div class="posttext">Hi gunther ,<br />
<br />
Nice to see your reply again for my new post :) <br />
<br />
But my issue was not in usage of  a multi-language license . Please read it again. If it is not clear will try to explain.<br />
<br />
As u said.. when ever i find issue i'll try solving by myself. But if the deadline is near.. i google it.. if it is very near I post in forum :P</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th October 2010, 13:57</div></div><div class="posttext">You have omitted some quite important information. Where are you using this code? Are you using nsDialogs or InstallOptions? To me it looks like InstallOptions. If that is the case, just write the language string to the INI file itself. If it is nsDialogs you should be using the control handle returned on the stack.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Netsurfer24</div><div class="date">19th October 2010, 14:06</div></div><div class="posttext">Hi,<br />
<br />
But my issue was not in usage of  a multi-language license . Please read it again. If it is not clear will try to explain.<br />
upps ..., sorry - my bad. :confused:<br />
<br />
OK, now I read it again ...<br />
For debugging: Add a message box right after &quot;GetDlgItem $R4 $HWND 1207&quot; and see if you got a valid handle in $R4 or if it is 0).<br />
<br />
What page are you on at this stage?<br />
Are you sure there is an object with the ID 1207?<br />
<br />
Gunther</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">19th October 2010, 14:58</div></div><div class="posttext">To Afrow<br />
<br />
1.Where are you using this code? <br />
2.Are you using nsDialogs or InstallOptions? <br />
<br />
<br />
1. Im using the code in function which belongs to  page.<br />
2. You are right Im using InstallOptions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">19th October 2010, 15:02</div></div><div class="posttext">TO gunther<br />
<br />
Are you sure there is an object with the ID 1207?<br />
<br />
IF object doesnt exist how come it works fine if i omit the &quot;LICENSE PAGE&quot;<br />
<br />
As i mentioned earlier it works fine if i omit the license page in the installer and insert my custom page with the above code.<br />
<br />
But it doesnt work if License page is my previous page of the custom installer.<br />
<br />
( Since it works fine when i remove LICENSE page, so I assume my code is fine. But this may not be true )</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">19th October 2010, 15:06</div></div><div class="posttext">TO gunther<br />
<br />
Are you sure there is an object with the ID 1207?<br />
<br />
IF object doesnt exist how come it works fine if i omit the &quot;LICENSE PAGE&quot;<br />
<br />
As i mentioned earlier it works fine if i omit the license page in the installer and insert my custom page with the above code.<br />
<br />
But it doesnt work if License page is my previous page of the custom installer.<br />
<br />
( Since it works fine when i remove LICENSE page, so I assume my code is fine. But this may not be true )<br />
<br />
Now for time being till the issue is fixed  I have omitted<br />
<br />
 ;!insertmacro MUI_PAGE_LICENSE &quot;E:\Program Files\license.txt&quot;<br />
<br />
and I have created my own custom license page but the issue is  For Text Box where i display the license agreement i dont get  scroll  :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">19th October 2010, 15:11</div></div><div class="posttext">To Afrow<br />
<br />
If that is the case, just write the language string to the INI file itself. If it is nsDialogs you should be using the control handle returned on the stack.<br />
<br />
<br />
1.I dont understand writing Language String to the INI file.Can u explain me Afrow<br />
2.I have not tried nsDialogs so far. Will give a try.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">19th October 2010, 15:13</div></div><div class="posttext">1How to delete the post created by us.<br />
<br />
2.How to include the string &quot;Originally Posted by&quot; along with the person's name in the quote.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">19th October 2010, 17:49</div></div><div class="posttext">You can't delete posts. You can only edit them and within a limited time after posting. Use the INSTALLOPTIONS_WRITE macro. I'm not sure why your code stops working with a license page but using FindWindow to get the custom page's handle isn't the way to go. You Pop the handle after InstallOptions::InitDialog, just like you Pop the handle after nsDialogs::Create.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">21st October 2010, 08:04</div></div><div class="posttext">Thanks Afrow. But as of now let me continue with InstallOptions.<br />
<br />
Once i learn about NSIS better I will try with nsDialogs.<br />
<br />
Can u guide me in creating Custom license page.??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">21st October 2010, 08:58</div></div><div class="posttext">Once i learn about NSIS better I will try with nsDialogs.<br />
<br />
Not that this is on-topic or anything, but that's a bad idea. nsDialogs is much easier to learn than InstallOptions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">21st October 2010, 09:40</div></div><div class="posttext">Sure MSG. I'll follow with nsDialogs . But To be frank i have not used nsDialogs  so far and i have used installOptions all over my code. I have a release by this week end. I think its not the time to play with the code. So May be from next week I'll implement nsDialogs.<br />
<br />
1.As discussed earlier Iam able to pass value dynamically for all my custom page except the custom page which follows the MUI license page.<br />
2.It works fine if i remove the MUI license page.<br />
3.So, For time being i have removed license page and trying to create a custom license page.<br />
<br />
please help me to create a custom license page. Is there any forum available which discuss about the custom license page??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">21st October 2010, 11:04</div></div><div class="posttext">So... What is it you want help with? If you're already familiar with InstallOptions, you should be able to make a license page on your own.  Info on how to rename the Next button to Agree (or something like that) is available in the forums, use search.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">21st October 2010, 11:29</div></div><div class="posttext">I have set My license text to READONLY and its back ground color is GERY.But Im looking for White Color(As we get in MUI). Regarding rename the Next button to Agreee ,Im going through the forums.<br />
<br />
Help in the sense. I want to know whether there is any forum where custom license page is discussed. Thanks for your response.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">21st October 2010, 13:30</div></div><div class="posttext">As far as I know there is only one English NSIS forum, and you're already here. As for the color of your text field, once again, try searching the forums. Setting background color is a very common question.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">21st October 2010, 13:46</div></div><div class="posttext">thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">27th October 2010, 13:59</div></div><div class="posttext">(ReadOnly textbox with scroll)<br />
<br />
GetDLgItem $R1 $HWND1 1201<br />
      SetCtlColors $R1 000000 FFFFFF<br />
      CustomLicense::LoadFile  &quot;E:\Program Files\license.txt&quot; $R1<br />
<br />
With the above code i constructed my custom page using install options.<br />
<br />
My installer is multiLingual.<br />
<br />
Where am i supposed to include the LangString??<br />
<br />
i referred the forums and i found there was solution for MUI<br />
<br />
LicenseLangString LicenseRTF ${LANG_JAPANESE} &quot;E:\Program Files\license.txt&quot;<br />
       LicenseLangString LicenseRTF ${LANG_ENGLISH} &quot;E:\Program Files\license.txt&quot;<br />
       !insertmacro MUI_PAGE_LICENSE $(LicenseRTF)<br />
<br />
<br />
what about custom license page??<br />
As i discussed earlier if i use MUI _PAGE_ LICENSE , the very next page following the license page alone not being translated. I find the strings are translated only if i click next and come back. Thats is the reason why i opted for Custom License. <br />
<br />
Please help me to solve above two issues or either one among those.Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pravin</div><div class="date">27th October 2010, 15:53</div></div><div class="posttext">Following is the final code , i would like to share with you all which I use for custom license page using InstallOptions.Works fine. If im wrong please correct me. <br />
<br />
<br />
<br />
!define License_en &quot;$PLUGINSDIR\License_en.txt&quot;<br />
!define License_jp &quot;$PLUGINSDIR\License_jp.txt&quot;<br />
<br />
LangString license_txt ${LANG_ENGLISH} &quot;${License_en}&quot;<br />
LangString license_txt ${LANG_JAPANESE} &quot;${License_jp}&quot;<br />
<br />
FindWindow $HWND &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
      <br />
;I pass these values to the textbox which i created using install options.<br />
;Textbox flags :NOTABSTOP|MULTILINE|VSCROLL|READONLY|NOWORDWRAP<br />
      GetDLgItem $R1 $HWND 1201<br />
      SetCtlColors $R1 000000 FFFFFF<br />
      CustomLicense::LoadFile &quot;$(license_txt)&quot; $R1<br />
<br />
Function .onInit<br />
File /oname=$PLUGINSDIR\License_en.txt &quot;E:\Program Files\license_en.txt&quot;<br />
File /oname=$PLUGINSDIR\License_jp.txt &quot;E:\Program Files\license_jp.txt&quot;<br />
FunctionEnd<br />
<br />
<br />
<br />
I was advised by the moderators to prefer nsDialogs. So you ppl also stick to that. Even i'll be replacing my code from Install Options to nsDialogs in my near future.<br />
<br />
Keep Coding..!! Keep on Coding..!! :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>