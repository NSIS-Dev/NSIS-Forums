<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Conditional Section, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Conditional Section NSIS Discussion" />
	
	<title> Conditional Section [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Conditional Section</div>
<hr />
<div class="pda"><a href="t-280022.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=280022">Conditional Section</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">graham.reeds</div><div class="date">26th October 2007, 10:33</div></div><div class="posttext">I need to have a section where it detects whether an older version of our application has been installed and if so present the user an additional options page, but only present that page if the an older version has been detected.<br />
<br />
Now I've managed to do the detection via simple looking for where the old registry settings would be kept (we've been bought so the registry settings, program locations, etc. are moving to be inline with the parent firm) but need to a) perform the detection somewhere, and b) only appear if the detection is true.<br />
<br />
If it helps I am using HM NIS Edit and select ModernUI 2.<br />
<br />
I did a search for Conditional Pages and came up with 3 results none of which helped me out. I am fairly sure I saw something in the online manual when I was checking into NSIS about it but can't find it now.<br />
<br />
Thanks, G.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th October 2007, 10:56</div></div><div class="posttext">It's pretty easy.<br />
<br />
!include LogicLib.nsh<br />
Page Custom OldVersionPage OldVersionPageLeave<br />
<br />
Function OldVersionPage<br />
  ${If} [some condition]<br />
    Abort ; Skip the page.<br />
  ${EndIf}<br />
FunctionEnd<br />
<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">graham.reeds</div><div class="date">26th October 2007, 16:56</div></div><div class="posttext">Thanks.<br />
<br />
I have one other question. I am writing a registry value so that if the installer has already ported across the original settings it won't do it again.<br />
<br />
So I look at ReadRegDword for checking if the setting has been there. According to the documentation &quot;The error flag will be set and $x will be set to an empty string (&quot;&quot; which is 0) if the DWORD is not present.&quot;<br />
<br />
It seems to me that it would be better check the error flag than simply checking to see whether the string is empty. Searching the manual two error results: !error and exit error levels, nothing about the error flag. How do you check the error flag?<br />
<br />
Thanks, Graham Reeds</div></div><hr />


<div class="post"><div class="posttop"><div class="username">graham.reeds</div><div class="date">26th October 2007, 17:05</div></div><div class="posttext">Stop the press - found the answer in an older thread.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">graham.reeds</div><div class="date">26th October 2007, 17:05</div></div><div class="posttext">Stop the press - found the answer in an older thread.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>