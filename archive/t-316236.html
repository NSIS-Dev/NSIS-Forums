<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Hidden section and Subsection, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Hidden section and Subsection NSIS Discussion" />
	
	<title> Hidden section and Subsection [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Hidden section and Subsection</div>
<hr />
<div class="pda"><a href="t-316236.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316236">Hidden section and Subsection</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sanyaka</div><div class="date">14th January 2010, 06:32</div></div><div class="posttext">Hello.<br />
<br />
If i use this code on NSIS 2.01:<br />
<br />
Name &quot;Test&quot;<br />
OutFile &quot;C:\work\123\Test.exe&quot;<br />
<br />
!include &quot;MUI.nsh&quot;<br />
!include &quot;LogicLib.nsh&quot;<br />
SubSection &quot;subsection1&quot; TestSubsection1<br />
Section '-' SEC_hidden_test1<br />
SectionEnd<br />
Section 'sec1' SEC_test1<br />
SectionEnd<br />
Section 'sec2' SEC_test2<br />
SectionEnd<br />
SubSectionEnd<br />
<br />
<br />
SubSection &quot;subsection2&quot; TestSubsection2<br />
Section 'sec3' SEC_test3<br />
SectionEnd<br />
Section 'sec4' SEC_test4<br />
SectionEnd<br />
SubSectionEnd<br />
<br />
!define MUI_COMPONENTSPAGE_SMALLDESC<br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
And when on page 'MUI_PAGE_COMPONENTS' uncheck 'sec1' and 'sec2' subsection1 will uncheck. all is well. I need to be so.<br />
<br />
But when i try this code on NSIS 2.45 and on page 'MUI_PAGE_COMPONENTS' uncheck 'sec1' and 'sec2' subsection1 becomes gray. I understand that this is happening because that use a hidden section. But how to do that hide section did not affect the subsection as in NSIS 2.01? Instead, subsection I tried to use SectionGroup it did not help.<br />
<br />
ps. sorry for my English...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">14th January 2010, 08:55</div></div><div class="posttext">Not sure why the behavior has changed, but I'm guessing that's done on purpose. To circumvent the problem, you could add an .onSelChange function, with:<br />
${If} ${SectionIsSelected} ${SEC_test1}<br />
${AndIf} ${SectionIsSelected} ${SEC_test2}<br />
!insertmacro UnselectSection ${SEC_hidden_test1}<br />
${Else}<br />
!insertmacro SelectSection ${SEC_hidden_test1}<br />
${EndIf}<br />
<br />
(Or you can move the hidden section out of the section group entirely.)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>