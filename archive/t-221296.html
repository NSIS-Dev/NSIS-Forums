<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Embedded Banner plug-in, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Embedded Banner plug-in NSIS Discussion" />
	
	<title> Embedded Banner plug-in [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Embedded Banner plug-in</div>
<hr />
<div class="pda"><a href="t-221296.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=221296">Embedded Banner plug-in</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">12th July 2005, 19:18</div></div><div class="posttext">Plug-in shows image (bmp, jpeg, gif are supported) on the bottom of installer' page and plays sound (if necessary :) ). I know this is possible with custom page, may be such plug-in was even wrote earlier (I not found it in archive), but vbgunz' idea looked funny for me and I spent about hour merging 2 other plug-ins code (NewAdvSplash (http://nsis.sourceforge.net/wiki/AdvSplash_with_gif_and_jpeg) and Marquee (http://nsis.sourceforge.net/wiki/Marquee_%28text_scroll%29)). Tested on XP only.<br />
'stop' entry point (call) is optional, plug-in can auto-destroy image on the dialog exit. Image is not clickable and it's position is fixed (dialog bottom). Result looks simple for usage (attached). If this will appear to be interesting, I'll create wiki page and upload VS project.<br />
Link to file http://nsis.sourceforge.net/mediawiki/images/7/72/EBanner.zip</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">13th July 2005, 01:23</div></div><div class="posttext">This looks very promising.  <br />
<br />
I could even see using this to replace certain message boxes for things like &quot;invalid directory&quot; and such that get called during page leave functions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">13th July 2005, 07:19</div></div><div class="posttext">In most cases only 3-rd version looks good. So the question - what features to add to the second build :) ?<br />
<br />
1. Image auto-scale down if it is wider then page 'child dialog' (IMHO scale up may looks ugly). May be this is not important if NSIS dialog size is fixed (or how it works with fixed-size banners on the top of page?), but default dialog size in Windows depends on system font size.<br />
2. /align=left or right.<br />
3. Better auto-stop on page exit (+ IDABORT). Because I am not sure when Parent window receives WM_CLOSE, may be on the final exit only (plug-in paints on the 'child' dialog window inside parent one).<br />
4. May be cross-page 'keep alive' instead of 'auto-stop' on the page change? If Parent window is the same during installation (and we attached plug-in to it's wndproc) it is possible to understand during wm_paint handling that old 'child' window was lost and to find new one. But I am not sure - INSTFILES looks the only good place for big banner.<br />
4. And finally - what else?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">13th July 2005, 17:25</div></div><div class="posttext">EBanner plug-in (http://nsis.sourceforge.net/mediawiki/images/7/72/EBanner.zip) - version 0.2 <br />
Option /ALIGN={LEFT|RIGHT}<br />
Image scale down (if it is too big).<br />
Image may be changed without plug-in unload with next 'show' call. Empty string as file name (&quot;&quot;) cleares image but not stops sound (if any). The same with 'play' entry point - empty sound file name stops playing (tested with 'winamp media file' :) )</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">14th July 2005, 00:50</div></div><div class="posttext">Image auto-scale down if it is wider then page 'child dialog' (IMHO scale up may looks ugly). May be this is not important if NSIS dialog size is fixed (or how it works with fixed-size banners on the top of page?), but default dialog size in Windows depends on system font size.<br />
<br />
Scaling images up or down both seem reasonable. But I also agree that scaling up makes images look ugly, so I can accept your approach.  (My opinion is that utimately, the developer should have to take some responsibility to ensure that his/her installation make them looks good.)<br />
<br />
One thing that might be cool would be a &quot;fade-in/fade-out&quot; effect for Windows 2000/XP.  And along those same lines, perhaps a way to specify the transparency of the entire image.  (Thinking along the lines of the AdvSplash plugin).  Unfortunately, I'm not much of a full-fledged programmer, so I'll leave it up to whether or not this something you want to tackle.  <br />
<br />
Overall, I think this plugin is still very good.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">14th July 2005, 09:31</div></div><div class="posttext">IPicture interface I used in EBanner plug-in paints gif images with transparency ;)<br />
Fade-in/out effectes in the AdvSplash based on the 'layered' window attributes, which looks not(?) applicable to child window. Or this not worked in my test and this is why I removed child window at all and now plugin paints directly on the installer page. AplhaBlend is posiible way, but I need to make it working with IPicture hdc. May be later...<br />
wiki page (http://nsis.sourceforge.net/wiki/Embedded_Banner)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">14th July 2005, 16:48</div></div><div class="posttext">Version 0.3 uses IImgCtx instead of IPicture to support more image formats.  Updated wiki page (http://nsis.sourceforge.net/wiki/Embedded_Banner)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">grahama</div><div class="date">15th July 2005, 00:46</div></div><div class="posttext">Wow Takhir :)<br />
this is very cool...<br />
I was using MSIBANNER, but this looks like a step up....<br />
;<br />
side note:<br />
my girlfriend's brother just climbed to the top of Mt Elbrus located  in Russian republics of Karachay-Cherkess and Kabardin-Balkar. Pictures were very cool...<br />
g</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">15th July 2005, 00:57</div></div><div class="posttext">Agreed.  Very cool!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">15th July 2005, 07:06</div></div><div class="posttext">Thanks! May be sometimes animation will be supported as well :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jtweather</div><div class="date">29th April 2006, 15:36</div></div><div class="posttext">Takhir, does the EBanner Plugin work with the InstallOptionsEx Plugin?<br />
<br />
jtweather</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">14th May 2006, 09:55</div></div><div class="posttext">Sorry, I was offline 2 weeks (1000 km bike trip ;) )<br />
I guess Yes, AFAIK IOEx uses the same child window for extended controls set. Any case you can use /HWND= parameter to set target window.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dienjd</div><div class="date">27th June 2006, 22:00</div></div><div class="posttext">Takhir,<br />
I've noticed that images disappear when the installer window loses focus. Any ideas on preventing this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">28th June 2006, 06:59</div></div><div class="posttext">I re-tested last (ebanner.dll June 21, 2006) and previous version (February) on XP and 2003, both included examples (Example.nsi and FullBg.nsi), works correct. WM_PAINT should work both with focus and without this. What precisely you do? Script? Did you tested this on big display intervals (Sleep 10000) ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dienjd</div><div class="date">28th June 2006, 18:03</div></div><div class="posttext">Takhir,<br />
Sorry about that. I thought I was using a recent version of the plug-in, but I just re-downloaded, and the newest version does not have this problem :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">desga2</div><div class="date">10th November 2007, 18:17</div></div><div class="posttext">Hi all people,<br />
I have problems to do work EBanner plugin in my Nsis script.<br />
The png image isn't showed in preview page (second page) of my installer. This page is make with InstallOptions plugin as custom page.<br />
<br />
If i use a bmp file without EBanner plugin preview image is showed but i like change the image to png file for less installer package size.<br />
<br />
I think that i tried all possibles methods for showed preview image with EBanner plugin without positives results.<br />
<br />
You can download the script files from here:<br />
http://two.xthost*******kmeleon/Themes/SkipStone.zip<br />
<br />
Any help is welcome, thanks.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>