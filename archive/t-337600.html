<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Variable Source Path, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Variable Source Path NSIS Discussion" />
	
	<title> Variable Source Path [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Variable Source Path</div>
<hr />
<div class="pda"><a href="t-337600.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=337600">Variable Source Path</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">langdon</div><div class="date">15th November 2011, 21:16</div></div><div class="posttext">I'm trying to get my NSIS script able to be compiled on two different machines with different directory structures.  I thought I could simply:<br />
<br />
<br />
Var Path<br />
<br />
Function .OnInit<br />
	StrCpy $Path &quot;c:\test.txt&quot;<br />
FunctionEnd<br />
Section<br />
	File &quot;${Path}&quot;<br />
SectionEnd<br />
<br />
<br />
...but obviously variables are for run-time use only.  What I need is some sort of compile-time constant.  I was hoping to be able to create an NSH file on my machine that sets the source path to &quot;c:\source_files&quot;, and the build machine could have the same NSH file, but point it do d:\project\latest&quot;. Or maybe even something simpler?<br />
<br />
Any ideas?<br />
<br />
TIA!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">15th November 2011, 22:12</div></div><div class="posttext">mypath.nsh:<br />
!define thepath &quot;c:\foo\bar&quot;<br />
<br />
install.nsi:<br />
!include &quot;mypath.nsh&quot;<br />
...<br />
File &quot;${thepath}\somefile.exe&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">16th November 2011, 08:25</div></div><div class="posttext">No real need to use an nsh for that, of course. Just put the define at the top of the script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">langdon</div><div class="date">16th November 2011, 15:24</div></div><div class="posttext">Thanks Anders!<br />
<br />
@MSG, putting the !define at the top of the script won't allow that same script to run on multiple environments.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">16th November 2011, 17:03</div></div><div class="posttext">You can use relative paths in the define, or directly in the FILE commands. I do this to work at home and at the office, where my NSIS folders are on different drives!define Addons &quot;\NSIS Installers\Addons&quot;<br />
!AddPluginDir &quot;${Addons}\Plugins&quot;<br />
!AddIncludeDir &quot;${Addons}\Include&quot;<br />
...<br />
!define SRCDIR &quot;.\Ipls.3177&quot;<br />
File &quot;${SRCDIR}\ArchHelpUtil*.ocx&quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>