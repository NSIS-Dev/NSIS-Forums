<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Plugins don't keep their timestamp, setup.exe differs, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Plugins don't keep their timestamp, setup.exe differs NSIS Discussion" />
	
	<title> Plugins don't keep their timestamp, setup.exe differs [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Plugins don't keep their timestamp, setup.exe differs</div>
<hr />
<div class="pda"><a href="t-321485.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=321485">Plugins don't keep their timestamp, setup.exe differs</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">7th August 2010, 19:46</div></div><div class="posttext">Dlls (plugins) added to the installer do not keep their original timestamp. This causes the resulting setup.exe to differ, even though all the payload files and script that created the exe are identical.<br />
<br />
I've looked at the NSIS source, and think the problem is in script.cpp at the line that sets build_datesave to 0case TOK__PLUGINCOMMAND <br />
...<br />
int old_build_datesave=build_datesave;<br />
build_datesave=0;// off<br />
ret=do_add_file(dllPath.c_str(),0,0,&amp;files_added,tempDLL,2,&amp;data_handle); // 2 means no size add<br />
...<br />
build_datesave=old_build_datesave;<br />
There may be other code changes needed (I don't know all the details of NSIS operation that well), perhaps to set the timestamp when PLUGINSDIR is written.<br />
<br />
I'll submit a bug tracker for this.<br />
<br />
Don</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>