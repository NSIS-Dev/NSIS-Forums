<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Components section sequence, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Components section sequence NSIS Discussion" />
	
	<title> Components section sequence [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Components section sequence</div>
<hr />
<div class="pda"><a href="t-203564.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=203564">Components section sequence</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">31st December 2004, 19:37</div></div><div class="posttext">First i will try to explain what i want to achieve. And then the way i think to do it, but i got stuck there.<br />
<br />
I have a prog, with many regstrings. I want to have an option (checkbox in the components page) so people can choose to clean the reg before installing the program. (in the setup (new) regstrings are added)<br />
<br />
So a I made an section for the Components page in which the reg is cleaned (not the first section, it has to be the last section), but this way the reg wont be cleaned before the setup install the other sections (when new regstrings are added).<br />
<br />
Who can help me to solve this, 'hard for me to explain'?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st January 2005, 13:47</div></div><div class="posttext">In your first section, do this:<br />
SectionGetFlags ${SECNAME} $R0<br />
StrCmp $R0 1 0 NoCleanReg<br />
 ...<br />
NoCleanReg:<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">3rd January 2005, 15:51</div></div><div class="posttext">I have tried, and i failed. I'm defiantly not a pro in NSIS. Could you explain it a bit.<br />
<br />
To make my question clearer. My last section needs to be executed before section#1.<br />
<br />
Anyway Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd January 2005, 17:42</div></div><div class="posttext">The code a posted gets the state of ${SECNAME}. If it's checked, then it will run the code below it. You need to put it in your first Section:Section &quot;&quot;<br />
 SectionGetFlags ${CLEANREG} $R0<br />
 StrCmp $R0 1 0 NoCleanReg<br />
 ...<br />
 NoCleanReg:<br />
SectionEndNow you just need a dummy section with the title &quot;Clean registry&quot; and id of CLEANREG:<br />
Section &quot;Clean registry&quot; CLEANREG<br />
SectionEnd<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">cai_sebas</div><div class="date">3rd January 2005, 21:28</div></div><div class="posttext">Unfortunatly i get an error message.<br />
<br />
Error: could not resolve label &quot;NoCleanReg&quot; in install section &quot;Blokje1&quot; (0)<br />
Error - aborting creation process<br />
<br />
<br />
:confused: <br />
<br />
And i got an small question. i have used many, many variables in my setup. I have used the $0-9 and $R0-R9 variables. Is there any way to use more? (Not i am aware of).<br />
<br />
Thanks<br />
<br />
Sebas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">4th January 2005, 10:28</div></div><div class="posttext">As the message rightly says, you are missing the label &quot;NoCleanReg&quot; in your Section. See my snippet of code again... &quot;NoCleanReg:&quot; is the label.<br />
<br />
You can create new variables by using Var VarName<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>