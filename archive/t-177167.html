<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS on XP Checked build, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS on XP Checked build NSIS Discussion" />
	
	<title> NSIS on XP Checked build [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS on XP Checked build</div>
<hr />
<div class="pda"><a href="t-177167.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=177167">NSIS on XP Checked build</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">eric_thiebaut</div><div class="date">19th April 2004, 02:24</div></div><div class="posttext">Hi,<br />
<br />
I've been using NSIS 1 &amp; 2 for a long time now on all versions of windows, and just tried this morning my NSIS 2-based installer on XP Checked build (debug build, available through MSDN subscription). As soon as the first file is extracted (actually, as soon as it's created, before it's expanded: new file size=0), the installer crashes and Dr Watson pops up. The error code is 0xC0000264, STATUS_RESOURCE_NOT_OWNED, which looks like NSIS is trying to free a resource it doesn't own. This is an error which is usually ignored by the retail version of XP, but which crashes the checked (debug) version.<br />
<br />
I tried to debug it, but it looked like it happened in a LeaveCriticalSection called (it looks like the thread didn't own the CS???)<br />
<br />
Anybody experienced this or knows what it could be?<br />
<br />
Thanks!<br />
<br />
Eric</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">19th April 2004, 09:02</div></div><div class="posttext">So you are using LZMA compression? <br />
<br />
Try to compile the latest CVS version, the critical section is not used anymore.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eric_thiebaut</div><div class="date">20th April 2004, 00:00</div></div><div class="posttext">Yes, I'm using LZMA. I'll check out the latest CVS version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eric_thiebaut</div><div class="date">28th September 2004, 01:09</div></div><div class="posttext">Hi,<br />
<br />
I had a look at the change logs for 2.01 but couldn't really see if this fix had been impacted. Could someone please confirm?<br />
<br />
Thanks!<br />
<br />
Eric</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th September 2004, 18:25</div></div><div class="posttext">It has been fixed. Critical sections are no longer used.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eric_thiebaut</div><div class="date">28th September 2004, 22:48</div></div><div class="posttext">Yes, I actually double checked last night. Thanks! Great tool!<br />
<br />
Eric</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>