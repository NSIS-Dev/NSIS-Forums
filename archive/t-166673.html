<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Search path from CD, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Search path from CD NSIS Discussion" />
	
	<title> Search path from CD [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Search path from CD</div>
<hr />
<div class="pda"><a href="t-166673.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=166673">Search path from CD</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">VLogic</div><div class="date">26th January 2004, 02:26</div></div><div class="posttext">Hi.  I'm sure someone has encountered this problem and can solve it easily.  <br />
<br />
My installation script requires determining if MySQL is installed.  Using the script instruction...<br />
<br />
SearchPath &lt;variable&gt; &quot;\mysql\bin&quot;,<br />
<br />
...I have been able to detect the installation path, if the installer is executed from the hard drive I'm installing on.  If the same is from CD, the installer fails to find the path. <br />
<br />
Can anyone tell me why it doesn't work the same, and how to accomplish it?<br />
<br />
Thank you for your help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rjstephens</div><div class="date">26th January 2004, 02:31</div></div><div class="posttext">most likely the reason it doesn't work is because the installer is searching for the MySQL path on the CD.<br />
<br />
You are much better off checking the registry to see if MySQL is installed and what path it is installed in.  If you search for the path, you stand a good chance of recieving both false positives and false negatives.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th January 2004, 04:14</div></div><div class="posttext">SearchPath searches for a file. For example:SearchPath $0 mysql.exeBut as rjstephens said, you're probably better off reading the registry with ReadRegStr and friends than searching the path.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">VLogic</div><div class="date">26th January 2004, 16:51</div></div><div class="posttext">Thank you all for your feedback.  Unfortunately, I can't find any registry entry to look for.  That's why I tried SearchPath to begin with.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spatacoli</div><div class="date">26th January 2004, 20:38</div></div><div class="posttext">MySQL should insert a my.ini file in your Windows directory. This usually lists the path to the base dir, from there mysql.exe is usually in the bin dir. This is true for 3.23.x, I'm not sure about newer versions. then do:<br />
ReadINIStr $1 &quot;$WINDIR\my.ini&quot; &quot;mysqld&quot; &quot;basedir&quot;<br />
and start your search from there.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">VLogic</div><div class="date">27th January 2004, 00:52</div></div><div class="posttext">Of course! The my.ini file!!  Why didn't I think of that.  Thanks, Spatacoli.  I'm off and running again.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>