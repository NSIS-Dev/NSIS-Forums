<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Prompt for files to include at compilation, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Prompt for files to include at compilation NSIS Discussion" />
	
	<title> Prompt for files to include at compilation [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Prompt for files to include at compilation</div>
<hr />
<div class="pda"><a href="t-193442.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=193442">Prompt for files to include at compilation</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">lostonline</div><div class="date">13th September 2004, 17:54</div></div><div class="posttext">I've been using NSIS for a while and have created an installer for the application that I work on (before it had to be installed manually copying files, changing registry etc but no one else at the company had been bothered to create an installed) and I find it nice to work with and mostly easy to use.<br />
<br />
Now the question: I'm now working on a script to update new files and these are all in the same directory tree format as the installed app but contain only the new files. What I want to be able to do is easily at compile time of the NSIS script to be able to select which directory these files are in (to same other members of the team from having to know how to change the NSIS script). We want to keep archives of the updates so the path containing the files to be packaged will change with each update.<br />
<br />
Anyone got any ideas how to do this? Perhaps passing some parameter to compiler (which I could make a little app to do)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th September 2004, 18:05</div></div><div class="posttext">My Zip-To-SE (Zip to Self-Extractor) program does exactly that. It's a program that simply extracts files from the Zip into a temp folder, makes a list of files to compress in a temp Self-Extractor nsi script, then builds the Self-Extractor (Installer) script by calling makensis.exe &quot;script.nsi&quot;.<br />
<br />
Source file attached (written in NSIS).<br />
<br />
You want to look at the WriteScript Function. It calls another custom GetFiles Function which writes all the files and new outpaths to the nsi script for compiling.<br />
<br />
If you want to see the Self-Extractor kit, you can grab it at the NSIS Archive under NSIS Software.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lostonline</div><div class="date">14th September 2004, 09:04</div></div><div class="posttext">Cheers. I didn't use your script as is but got some ideas from it, seems fairly obvious now that the easiest way to do what I needed was to change values in the script then run makensis on it. I've now got a small NSIS exe which prompts for a path to create patch from and a name for the patch then it changes the appropriate values in a template script before compiling it.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>