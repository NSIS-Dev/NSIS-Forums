<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" I can't run my .bat file successfulely!!!HELP!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  I can't run my .bat file successfulely!!!HELP! NSIS Discussion" />
	
	<title> I can't run my .bat file successfulely!!!HELP! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  I can't run my .bat file successfulely!!!HELP!</div>
<hr />
<div class="pda"><a href="t-258248.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=258248">I can't run my .bat file successfulely!!!HELP!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">freebendy</div><div class="date">25th October 2006, 09:25</div></div><div class="posttext">I make a installer of mysql!  When I release the mysql.rar to my $INSTDIR,and write the my.ini file to cofig mysql!<br />
And Then i want to use a .bat file to register the mysql service to the windows or remove the service!<br />
the .bats:<br />
reg.bat :<br />
@echo off<br />
mysqld-nt -install<br />
net start mysql<br />
<br />
unreg.bat :<br />
net stop mysql<br />
mysqld-nt -remove<br />
<br />
But when i do this:<br />
exec '&quot;$INSTDIR\mysql\reg.bat&quot;'<br />
It display:<br />
'mysqld-nt' is not a external command or  internal command,and not a executable file or bat!<br />
 <br />
But the mysql\bin is in the system path!<br />
and i double click the reg.bat!It run well!<br />
why i can't do it in the scipt!!<br />
By the way, I also use the execCmd and ExecDos plugins!<br />
But the installation crash!!!!<br />
<br />
How can i do what i want?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">OrdiMars</div><div class="date">25th October 2006, 09:44</div></div><div class="posttext">If I were you I will try and write the full path name when calling mysqld-nt, just as a test to make sure it's not a path problem.<br />
Something like:<br />
C:\mysql\bin\mysqld-nt.exe -install<br />
<br />
<br />
Cheers,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">freebendy</div><div class="date">25th October 2006, 09:56</div></div><div class="posttext">the path is unknow when i haven't install it!<br />
the path of mysql\bin is Add to the System Paths too!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">OrdiMars</div><div class="date">25th October 2006, 10:18</div></div><div class="posttext">I understand that.<br />
I am just saying for TEST PURPOSES, do one version like this, just to make sure that's not a path problem !<br />
<br />
My 2 cents,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">freebendy</div><div class="date">25th October 2006, 10:21</div></div><div class="posttext">It is not a path problem!I am still puzzled now!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">25th October 2006, 17:37</div></div><div class="posttext">If you both install and execute MySQL from the same installer, the MySQL directory won't be in the PATH when you execute it. Running processes aren't updated when the PATH changes. You'll have to find out the full path and use it or execute a new process that'd not inherit the PATH from the installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">freebendy</div><div class="date">26th October 2006, 03:56</div></div><div class="posttext">Now my mysql is installed in $INSTDIR/mysql,<br />
and the bin path is  $INSTDIR/mysql/bin,now i want the instructions :<br />
&quot;mysqld-nt -install&quot;<br />
and &quot;net satrt mysql&quot;<br />
are executed!<br />
how I can i this??<br />
<br />
ExecCmd::exec '&quot;$INSTDIT\mysql\bin\mysqld-nt.exe -install&quot;'<br />
is failed. <br />
and my reg.bat is putted into Diretory :$INSTDIR/mysql<br />
its content is :<br />
cd bin<br />
mysqld-nt.exe -install<br />
net start mysql<br />
<br />
Also do wrong!<br />
Can you suggest some available way!!<br />
<br />
:(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th October 2006, 12:39</div></div><div class="posttext">You have a typo there. It's $INSTDIR, not $INSTDIT. To make sure you got the path right, use IfFileExists or ${If} ${FileExists} to check if the file is really there.<br />
<br />
To start the service, you should use one of the available solutions (http://nsis.sourceforge.net/How_do_I_start/stop/create/remove/check_a_service) instead of net.exe. They're usually simpler to use.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>