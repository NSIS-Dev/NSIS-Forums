<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Setting read/write file attributes, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Setting read/write file attributes NSIS Discussion" />
	
	<title> Setting read/write file attributes [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Setting read/write file attributes</div>
<hr />
<div class="pda"><a href="t-248841.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248841">Setting read/write file attributes</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Zorbainpdx</div><div class="date">16th June 2006, 01:17</div></div><div class="posttext">In one of my projects, I need to copy over an .ini file from a CD to the install directory and write various install parameters like install path (driveletter) etc. to it.<br />
<br />
Unfortunately,<br />
<br />
WriteIniStr &quot;$INSTDIR\updates.ini&quot; &quot;data&quot; &quot;driveletter&quot; &quot;$EXE_PATH\&quot;<br />
<br />
fails because the file I am trying to write to was copied from the CD in the first place using<br />
<br />
CopyFiles /SILENT /FILESONLY &quot;$EXEDIR\Data\Copy2HD\*.*&quot; $INSTDIR\ 10000<br />
<br />
By default, the copied file is Read Only since it came from a CD.<br />
<br />
I need to be able to do one of two things -- <br />
<br />
1. Allow WriteIniStr to do it's thing even if the file is Read Only using an  &quot;AlwaysOverwrite +&quot; or similar parameter<br />
<br />
2. Before the WriteIniStr, I would like to change the Read Only status of the file. The &quot;File Instructions&quot; section of documentation does not mention anything that allows one to do this.<br />
<br />
Thoughts ?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">16th June 2006, 02:14</div></div><div class="posttext">Use SetFileAttributes to remove attributes before you call WriteIniStr.  <br />
<br />
To remove all attributes, the command would be:<br />
SetFileAttributes &quot;$INSTDIR\updates.ini&quot; NORMAL</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>