<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" write to command line when silent, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  write to command line when silent NSIS Discussion" />
	
	<title> write to command line when silent [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  write to command line when silent</div>
<hr />
<div class="pda"><a href="t-286362.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=286362">write to command line when silent</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">SimonCropp</div><div class="date">5th February 2008, 23:18</div></div><div class="posttext">I would like to put write some messages to the command line when my installer is running in silent mode (by passing the /S flag).<br />
<br />
I tried searching the forums and Google for various combinations of â€œcommand lineâ€, â€œsilentâ€ â€œconsoleâ€ and â€œnsisâ€ with no luck. Also looked through the manual.<br />
Both resulted in plenty of information about passing input over the command line and the command line options for makensis.<br />
<br />
I also tried calling the command â€œExec â€˜echo sdfsdfsdfâ€™â€ from within my script. Still no love.<br />
<br />
I am probably missing something obvious but could someone please point me to it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">5th February 2008, 23:23</div></div><div class="posttext">nsis is a gui app, not a console program.<br />
<br />
Calling AttachConsole(ATTACH_PARENT_PROCESS) etc. with the system plugin might work<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=243205</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SimonCropp</div><div class="date">5th February 2008, 23:32</div></div><div class="posttext">Wow. Speedy reply. is 5 minutes a record?<br />
<br />
Thanks Anders.<br />
<br />
With &quot;AttachConsole&quot; as an extra search word i got to this<br />
http://forums.winamp.com/printthread.php?threadid=240746<br />
<br />
The script towards the bottom seems to work. <br />
Will have a go at refining the code to make it a little more usable and post my results.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">6th February 2008, 00:27</div></div><div class="posttext">Turns out I made example code for someone in the nsis IRC channel a long time ago to handle this<br />
<br />
Comparing Instructor's code with mine and my notes, you should call GetStdHandle first, then AttachConsole, and use the built in FileWrite command and not WriteConsole, if you do this, you can use pipes and redirection (foo.exe &gt; out.txt etc.) still limited to XP and up<br />
<br />
so, without any error handling or anything:<br />
<br />
System::Call 'kernel32::GetStdHandle(i -11)i.r0'<br />
System::Call 'kernel32::AttachConsole(i -1)'<br />
FileWrite $0 &quot;hello&quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>