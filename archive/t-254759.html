<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to embed a manifest file into a setup, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to embed a manifest file into a setup NSIS Discussion" />
	
	<title> How to embed a manifest file into a setup [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to embed a manifest file into a setup</div>
<hr />
<div class="pda"><a href="t-254759.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=254759">How to embed a manifest file into a setup</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ckm</div><div class="date">4th September 2006, 06:53</div></div><div class="posttext">Hi,<br />
I have a installer that is built using NullSoft without any marking. Now to support the isntaller Vista i need to mark the installer. The reason i am trying to do this is because i am getting a credential prompt when i login as a Restricted user (Even though my setup doesn't really require any admin changes). Reading through UAC site i noticed that the setup shoud be emarked with requestedExecutionLevel to highestAvailable. <br />
<br />
I read another post on using Mt.exe but &quot;C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin\Mt.exe&quot;  -manifest setup.exe.manifest -outputresource:setup.exe.cab;#1, the size of the cab file reduces and when i try to execute i get corrupted installer. <br />
<br />
Can somebody help me on how to properly embed a manifest file into the isntaller.<br />
<br />
Thanks and Regards<br />
-C</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">5th September 2006, 11:58</div></div><div class="posttext">There are TWO different things involved:<br />
<br />
1)<br />
Your have to authenticode sign the application<br />
(NOTE: You need buy a certificate for this, see http://www.thawte.com/ssl-digital-certificates/code-signing/index.html )<br />
<br />
2)<br />
Add to the installer the minimum rights in a manifest.<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=250937<br />
<br />
Yes it is Vista, things changed ;) good luck, since you need that with this one...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ckm</div><div class="date">14th September 2006, 07:18</div></div><div class="posttext">For testing i am using Basic.nsi script sample. After building the file i get Basic.exe the file size is 62161KB. After this i execute the command<br />
mt.exe -manifest uninst.exe.manifest -outputresource:Basic.exe;#1<br />
<br />
I can open the exe in VS and see that manifest is updated but the file size is now 49664 and Basic.exe won't work anymore. Is there anything wrong with command?<br />
<br />
Thanks for your help<br />
-C</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th September 2006, 11:51</div></div><div class="posttext">Don't execute the command after the installer is built. Use !packhdr to execute it while it's built. If you don't do this, you'll get CRC errors, which is what I have to assume you have.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ckm</div><div class="date">15th September 2006, 12:21</div></div><div class="posttext">Thanks Kichik i was looking at perl plugin example how they do it and still in the process of doing this. I will let you know how my testing goes.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>