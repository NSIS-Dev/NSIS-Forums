<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" page custom steals header image :(, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  page custom steals header image :( NSIS Discussion" />
	
	<title> page custom steals header image :( [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  page custom steals header image :(</div>
<hr />
<div class="pda"><a href="t-202896.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=202896">page custom steals header image :(</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">23rd December 2004, 19:02</div></div><div class="posttext">!define MUI_HEADERIMAGE_BITMAP &quot;header.bmp&quot;<br />
  !define MUI_CUSTOMFUNCTION_GUIINIT bgimage<br />
  !define MUI_COMPONENTSPAGE_SMALLDESC<br />
  ;!define MUI_COMPONENTSPAGE<br />
<br />
    !define MUI_WELCOMEPAGE_TITLE_3LINES<br />
  !insertmacro MUI_PAGE_WELCOME<br />
<br />
  page custom password passcheck<br />
<br />
    !define MUI_LICENSEPAGE_CHECKBOX<br />
  !insertmacro MUI_PAGE_LICENSE Lizenz.txt<br />
  Page license &quot;&quot; &quot;showLicense1&quot; &quot;leaveLicense&quot;<br />
<br />
<br />
page custom shows with IO a password request.<br />
if i comment out my page all is fine.<br />
Function password<br />
  ; check password for setup<br />
  Push $R0<br />
  Push $R1<br />
  Push $R2<br />
  Push $R3<br />
<br />
  ; 1st read out pid from system<br />
  ; now calculate the serial<br />
  Pop $R0<br />
  Pop $R1<br />
  Pop $R2<br />
  Pop $R3<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;bla&quot; &quot;blubb&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;menu00.ini&quot; &quot;Field 2&quot; &quot;State&quot; $PID<br />
  !insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;menu00.ini&quot;<br />
    Pop $HWND<br />
  !insertmacro MUI_INSTALLOPTIONS_SHOW<br />
FunctionEnd<br />
<br />
Function passcheck<br />
  ; check for valid serial<br />
  StrCmp $SERIAL $SERIAL2 passcheck1<br />
    MessageBox MB_OK|MB_ICONEXCLAMATION &quot;*** error ***&quot;<br />
    Abort<br />
  <br />
  passcheck1: ;serial valid<br />
FunctionEnd<br />
<br />
<br />
functions are working fine.<br />
any other page custom is only a non visible function (no IO)<br />
<br />
where's the fault ?<br />
<br />
pic<br />
http://people.freenet.de/brummelchen2003a/becky/nsis_header_image.gif</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">23rd December 2004, 22:59</div></div><div class="posttext">The only thing wrong I can see is that you're using two License pages. One's using MUI's macro, and the other isn't. You should use MUI's macro for inserting the second License page as well. To set up the License page's Pre/Show/Leave functions, simply !define MUI_PAGE_CUSTOMFUNCTION_PRE|SHOW|LEAVE &quot;myFunc&quot; before inserting the MUI_PAGE_LICENSE macro.<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>