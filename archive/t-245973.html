<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installing NSIS in FreeBSD, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installing NSIS in FreeBSD NSIS Discussion" />
	
	<title> Installing NSIS in FreeBSD [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installing NSIS in FreeBSD</div>
<hr />
<div class="pda"><a href="t-245973.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=245973">Installing NSIS in FreeBSD</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">paulzimm</div><div class="date">11th May 2006, 18:34</div></div><div class="posttext">Hello all, I just joined this group and was recently employed to design an online application that will automatically package a Windows EXE with a text file that is generated dynamically (i.e. on-the-fly).<br />
<br />
I think that NSIS fits the bill quite nicely! We are using a &quot;headless&quot; FreeBSD server with Python v2.4 and SCons v0.96.92 installed. I downloaded the latest NSIS-2.16-src.tar.bz2 version from sourceforge.net/projects/nsis/ and extracted to my home directory in nsis-2.16-src<br />
<br />
I am getting errors when trying to build using these parameters:<br />
<br />
root@paulzimm# cd nsis-2.16-src/<br />
root@paulzimm# scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all NSIS_CONFIG_CONST_DATA_PATH=no<br />
<br />
scons: Reading SConscript files ...<br />
Delete(&quot;nsis-11-May-2006.cvs&quot;)<br />
Delete(&quot;.instdist&quot;)<br />
Delete(&quot;.test&quot;)<br />
Using GNU tools configuration<br />
Checking for linker flag $MAP_FLAG... (cached) yes<br />
Checking for linker flag $MAP_FLAG... (cached) yes<br />
Checking for memcpy requirement... (cached) yes<br />
Checking for memset requirement... (cached) yes<br />
Checking for linker flag -pthread... (cached) yes<br />
Checking for __BIG_ENDIAN__... (cached) no<br />
Checking for main() in C library gdi32... (cached) no<br />
Checking for main() in C library user32... (cached) no<br />
Checking for main() in C library pthread... (cached) no<br />
Checking for main() in C library stdc++... (cached) yes<br />
Checking for main() in C library iconv... (cached) no<br />
Checking for main() in C library dl... (cached) no<br />
Checking for main() in C library gdi32... (cached) no<br />
Checking for main() in C library iconv... (cached) no<br />
Checking for main() in C library user32... (cached) no<br />
Checking for main() in C++ library cppunit... (cached) no<br />
scons: done reading SConscript files.<br />
scons: Building targets ...<br />
gcc -o build/release/halibut/biblio.o -c Docs/src/bin/halibut/biblio.c<br />
In file included from Docs/src/bin/halibut/biblio.c:6:<br />
Docs/src/bin/halibut/halibut.h:167: syntax error before `&gt;'<br />
scons: *** [build/release/halibut/biblio.o] Error 1<br />
scons: building terminated because of errors.<br />
<br />
I tried different SCons options (always using &quot;scons -c&quot; to clear out previous attempts) but I am getting errors for either one of these libraries:<br />
<br />
1. iconv<br />
2. biblio<br />
3. advsplash<br />
<br />
Am I missing something? After repeated attempts I did install the &quot;MinGW&quot; cross-compiler (from the FreeBSD ports collection) but I am still getting various errors. Any help will be MUCH appreciated!<br />
<br />
- Paul</div></div><hr />


<div class="post"><div class="posttop"><div class="username">paulzimm</div><div class="date">12th May 2006, 01:43</div></div><div class="posttext">Please help - did I not install something I needed to?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pabs</div><div class="date">12th May 2006, 05:00</div></div><div class="posttext">That looks like a bug in the program that is used to build the docs. Please report it to the tracker. You also might want to try skipping building the docs.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">12th May 2006, 09:12</div></div><div class="posttext">Which FreeBSD version are you using? To keep you positive in the mean time: I succeded in building NSIS of FreeBSD 6.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">paulzimm</div><div class="date">12th May 2006, 13:08</div></div><div class="posttext">I am using FreeBSD 4.11 but I am willing to try installing NSIS on a newer version of BSD because this application is critical. How do I keep SCons from building the docs? I found very little documention about installing NSIS on a POSIX compliant system. Is there better documentation than this for Linux/BSD systems?<br />
<br />
http://nsis.sourceforge.net/Docs/AppendixG.html</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pabs</div><div class="date">12th May 2006, 18:07</div></div><div class="posttext">Looks like to turn off building the docs, you will have to edit the SConstruct file, search for the &quot;Documentation&quot; section and comment out the whole section.<br />
<br />
If you have Debian GNU/Linux (or Ubuntu), you can just apt-get it. I don't think anyone has made a backport to the Debian sarge release yet though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">paulzimm</div><div class="date">12th May 2006, 18:30</div></div><div class="posttext">Thanks, I will try commenting out the &quot;Documentation&quot; part on my BSD system. I also play with Ubuntu, are these the commands I would use?<br />
<br />
mkdir nsis-build<br />
cd nsis-build<br />
wget http://heanet.dl.sourceforge.net/sourceforge/scons/scons_0.96.90-1_all.deb<br />
dpkg -i scons_0.96.90-1_all.deb<br />
echo &quot;deb-src http://mentors.debian.net/debian experimental main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list<br />
apt-get update<br />
apt-get build-dep nsis<br />
apt-get -b source nsis<br />
dpkg -i nsis*.deb<br />
<br />
Thanks again for all the help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pabs</div><div class="date">13th May 2006, 05:56</div></div><div class="posttext">Yeah, except the debian version is patched to use the older scons, so the scons from ubuntu should do fine. A newer scons reached unstable recently, so I might need to drop that patch in the next release. I'll keep it available in the source package though for ubuntu users.<br />
<br />
Also, you may as well just use the debian ftp mirror network instead of mentors.debian.net for downloading the source.<br />
<br />
You might also want to try just installing the debian deb directly:<br />
<br />
http://packages.debian.org/unstable/devel/nsis</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">16th May 2006, 16:37</div></div><div class="posttext">FYI: I've take up this issue in private email with paul. As soon as it is all done screenshots and a log of problems encountered will be created in the wiki.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pabs</div><div class="date">17th May 2006, 04:04</div></div><div class="posttext">Hmm, looks like this email got lost somewhere, I haven't seen it yet.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">17th May 2006, 08:31</div></div><div class="posttext">Well Paps, &quot;private&quot; means in this context only I can read it... :))</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pabs</div><div class="date">17th May 2006, 16:58</div></div><div class="posttext">Wooops, I thought you meant me, my name is also Paul.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">paulzimm</div><div class="date">18th May 2006, 06:18</div></div><div class="posttext">Too many people named 'Paul' around here :o)<br />
<br />
I'm still working on my issue and will let you know when I get it working on FreeBSD 6.1<br />
<br />
THANKS FOR ALL THE HELP!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th May 2006, 11:50</div></div><div class="posttext">Sounds to me like an old version of GCC which doesn't support extending pre-processor lines with a backslash at the of line. Do other problems pop-up when you join those lines together or is this the only one? What happens in AdvSplash?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">19th May 2006, 11:57</div></div><div class="posttext">Hi Paul's ;), <br />
<br />
Sourceforge.net CVS is up and running again so I did a clean v2.16 checkout and make a new FreeBSD build this weekend.<br />
<br />
I could always succeed nowadays. If so I also will see if I can make an OSX  PowerPC build too, just for fun.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th May 2006, 12:05</div></div><div class="posttext">You need latest CVS version for OS X PPC or makensis will crash.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">onad</div><div class="date">19th May 2006, 12:08</div></div><div class="posttext">Thanks, I know. I ment v2.16 of the CVS as of 20060518</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TimonOmsk</div><div class="date">11th June 2008, 10:11</div></div><div class="posttext">I have same problem. FreeBSD 6 GCC 3.4.4<br />
<br />
# scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all NSIS_CONFIG_CONST_DATA_PATH=no<br />
scons: Reading SConscript files ...<br />
Delete(&quot;nsis-11-Jun-2008.cvs&quot;)<br />
Delete(&quot;.instdist&quot;)<br />
Delete(&quot;.test&quot;)<br />
Using GNU tools configuration<br />
Checking for compiler flag -m32... (cached) yes<br />
Checking for linker flag -m32... (cached) yes<br />
Checking for linker flag $MAP_FLAG... (cached) yes<br />
Checking for linker flag -s... (cached) yes<br />
Checking for linker flag $MAP_FLAG... (cached) yes<br />
Checking for linker flag -s... (cached) yes<br />
Checking for memcpy requirement... (cached) yes<br />
Checking for memset requirement... (cached) yes<br />
Checking for linker flag -pthread... (cached) yes<br />
Checking for __BIG_ENDIAN__... (cached) no<br />
Checking for C library gdi32... (cached) no<br />
Checking for C library user32... (cached) no<br />
Checking for C library pthread... (cached) yes<br />
Checking for C library iconv... (cached) no<br />
Checking for C library dl... (cached) no<br />
Checking for C library gdi32... (cached) no<br />
Checking for C library iconv... (cached) no<br />
Checking for C library pthread... (cached) yes<br />
Checking for C library user32... (cached) no<br />
Checking for C++ library cppunit... (cached) no<br />
scons: done reading SConscript files.<br />
scons: Building targets ...<br />
gcc -o build/release/halibut/biblio.o -c Docs/src/bin/halibut/biblio.c<br />
In file included from Docs/src/bin/halibut/halibut.h:4,<br />
                 from Docs/src/bin/halibut/biblio.c:6:<br />
/usr/include/stdio.h:454: error: syntax error before &quot;fgetwc&quot;<br />
/usr/include/stdio.h:455: error: syntax error before &quot;fputwc&quot;<br />
/usr/include/stdio.h:456: error: syntax error before &quot;ungetwc&quot;<br />
/usr/include/stdio.h:504: error: syntax error before &quot;_fgetwchar&quot;<br />
/usr/include/stdio.h:505: error: syntax error before &quot;_fputwchar&quot;<br />
/usr/include/stdio.h:510: error: syntax error before &quot;fgetwchar&quot;<br />
/usr/include/stdio.h:511: error: syntax error before &quot;fputwchar&quot;<br />
In file included from /usr/include/wchar.h:45,<br />
                 from Docs/src/bin/halibut/halibut.h:5,<br />
                 from Docs/src/bin/halibut/biblio.c:6:<br />
/usr/include/wctype.h:71: error: syntax error before &quot;wctype_t&quot;<br />
/usr/include/wctype.h:72: error: syntax error before &quot;wctype_t&quot;<br />
/usr/include/wctype.h:90: error: syntax error before &quot;towlower&quot;<br />
/usr/include/wctype.h:91: error: syntax error before &quot;towupper&quot;<br />
/usr/include/wctype.h:157: error: syntax error before &quot;towctrans&quot;<br />
/usr/include/wctype.h:157: error: syntax error before &quot;wctrans_t&quot;<br />
In file included from Docs/src/bin/halibut/halibut.h:5,<br />
                 from Docs/src/bin/halibut/biblio.c:6:<br />
/usr/include/wchar.h:276: error: syntax error before &quot;btowc&quot;<br />
In file included from Docs/src/bin/halibut/halibut.h:6,<br />
                 from Docs/src/bin/halibut/biblio.c:6:<br />
/usr/include/time.h:187: error: syntax error before &quot;char&quot;<br />
scons: *** [build/release/halibut/biblio.o] Error 1<br />
scons: building terminated because of errors.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>