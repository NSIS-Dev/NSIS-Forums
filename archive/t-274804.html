<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Dialog elements not mirrored on RTL system, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Dialog elements not mirrored on RTL system NSIS Discussion" />
	
	<title> Dialog elements not mirrored on RTL system [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Dialog elements not mirrored on RTL system</div>
<hr />
<div class="pda"><a href="t-274804.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274804">Dialog elements not mirrored on RTL system</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">23rd July 2007, 15:15</div></div><div class="posttext">Hi,<br />
<br />
my installer has support for several languages. Among them Hebrew and Arabic (U.A.E.). <br />
And it's using MUI.<br />
<br />
We found that everything is neatly  adjusted right to left except for the dialog elements in the dialog header (Mini-Icon, Close icon...) in all dialogs (Welcome, Start, etc). This became apparent, when we pressed the Cancel button: The popup Abort-dialog  is correctly aligned with the application mini-icon on the left and the window close icon on the right.<br />
I suppose, that the latter is a System MessageBox whereas all other dialogs are from NSIS.<br />
<br />
I've searched the forum but all topics concerning RTL (Hebrew, Arab) I found was at least 2 years old.<br />
 <br />
Here are my MUI defines:<br />
<br />
 !define MUI_ABORTWARNING<br />
<br />
;  The text in the next two defines would have to be translated / taken from InstallShield<br />
 !define MUI_HEADERIMAGE<br />
 !define MUI_HEADERIMAGE_RIGHT<br />
 !define MUI_WELCOMEPAGE_TITLE_3LINES<br />
 !define MUI_ICON &quot;${MYICON}&quot;<br />
 !define MUI_UNICON &quot;${MYICON}&quot;<br />
 !define MUI_HEADERIMAGE_BITMAP &quot;${PROJECTDIR}Graphics\MYCOMPANY\company_logo.bmp&quot; ; optional<br />
 !define MUI_HEADERIMAGE_UNBITMAP &quot;${PROJECTDIR}Graphics\MYCOMPANY\company_logo.bmp&quot;<br />
 !define MUI_HEADERIMAGE_BITMAP_RTL &quot;${PROJECTDIR}Graphics\MYCOMPANY\company_logo.bmp&quot; ; optional<br />
 !define MUI_HEADERIMAGE_UNBITMAP_RTL &quot;${PROJECTDIR}Graphics\MYCOMPANY\company_logo.bmp&quot;<br />
 !define MUI_CUSTOMFUNCTION_ABORT &quot;myUserAbort&quot;<br />
 !define MUI_WELCOMEFINISHPAGE_BITMAP &quot;${PROJECTDIR}Graphics\MYCOMPANY\product.bmp&quot;<br />
 !define MUI_UNWELCOMEFINISHPAGE_BITMAP &quot;${PROJECTDIR}Graphics\MYCOMPANY\product.bmp&quot;<br />
 !define MUI_NO_INNERTEXT_LICENSE_BOTTOM_CHECKBOX<br />
 !define MUI_NO_INNERTEXT_LICENSE_BOTTOM_RADIOBUTTONS<br />
 !define MUI_LICENSEPAGE_RADIOBUTTONS<br />
<br />
<br />
<br />
I've already altered (commented)  !define MUI_HEADERIMAGE_RIGHT but that doesn't help.<br />
<br />
Any hints how to get the dialogs fully mirrored?<br />
<br />
Regards,<br />
  Axel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd July 2007, 19:51</div></div><div class="posttext">The problem with the style that moves the window controls to the right is that it also moves everything to the right. That'd be nice if it worked on every platform. However, it doesn't work on non-localized versions of 9x and if I recall correctly, only works on XP and above. The style is WS_EX_LAYOUTRTL.<br />
<br />
To make RTL work on every version of Windows and look reasonable, I chose to skip WS_EX_LAYOUTRTL and layout the dialog manually.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">24th July 2007, 08:31</div></div><div class="posttext">Hi Kichik,<br />
<br />
thanks for the fast answer. <br />
I've looked up WS_EX_LAYOUTRTL in  msdn Library and did NOT find it. So this really seems special to some Windows Editions. <br />
<br />
You say, that you chose to layout the dialog manually.<br />
Does this mean that when using a non WS_EX_LAYOUTRTL system, the default/standard dialogs that are produced/defined by NSIS  have NON-mirrored title elements and one had to modify the dialogs using that weird custom dialog scheme?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th July 2007, 20:02</div></div><div class="posttext">You can find its description under CreateWindowEx (http://msdn2.microsoft.com/en-us/library/ms632680.aspx).<br />
<br />
By manually I mean that our dialog editor moves everything to the right instead of letting Windows doing it with WS_EX_LAYOUTRTL. It calculates the proper coordinates and sets the proper styles. However, it can't touch the title bar. This way, when no special styles are used, it works on both RTL and non-RTL versions of Windows.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">22nd April 2009, 10:12</div></div><div class="posttext">Originally posted by kichik <br />
By manually I mean that our dialog editor moves everything to the right instead of letting Windows doing it with WS_EX_LAYOUTRTL.  <br />
<br />
Hi kichik,<br />
<br />
returning to the same issue, now that nsDialogs is available,<br />
would it possible to adjust the dialog title bar by adding the WS_EX_LAYOUTRTL property vi nsDialogs??<br />
<br />
If yes, how?<br />
<br />
Thanx,<br />
  Axel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th May 2009, 14:46</div></div><div class="posttext">nsDialogs doesn't create the main dialog, but only the inner dialog. So you can't use it to set the main dialog's style.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>