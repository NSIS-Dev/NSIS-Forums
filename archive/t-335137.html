<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Any instructions not allowed in Uninstall Section?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Any instructions not allowed in Uninstall Section? NSIS Discussion" />
	
	<title> Any instructions not allowed in Uninstall Section? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Any instructions not allowed in Uninstall Section?</div>
<hr />
<div class="pda"><a href="t-335137.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=335137">Any instructions not allowed in Uninstall Section?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zackbuffo</div><div class="date">23rd September 2011, 11:17</div></div><div class="posttext">Hi,<br />
<br />
I set the Variable $path (with /GLOBAL) in Section &quot;Install&quot;. Can I use it in Section &quot;Uninstall&quot; with.<br />
RMDir /r &quot;$path&quot;<br />
It didn't work, so I tried to read it again from an .ini file in the &quot;Uninstall&quot; Section before deleting all the directories, but that didn't work either.<br />
ReadINIStr $path $INSTDIR\Setup.ini SOME PATH<br />
Are any instructions not allowed in &quot;Uninstall&quot; Section?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">23rd September 2011, 11:24</div></div><div class="posttext">No, all instructions are valid both in installer and uninstaller. Variables are however NOT shared. Even $INSTDIR isn't shared: In the uninstaller, $INSTDIR simply contains the directory where the uninstaller was launched from. (This is why you should always verify it before deleting $INSTDIR\*.* /r . Some joker might've put your uninstaller in c:\Windows, or c:\Program Files.)<br />
<br />
If your readini is failing, either the path to the ini file is incorrect or its contents are messed up. Or you're calling the readinistr command incorrectly. I suggest adding a messagebox in front of it to see what path it's trying to read.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zackbuffo</div><div class="date">23rd September 2011, 12:00</div></div><div class="posttext">Thanx. I solved it with your help. I simply put the path in $0. Missing declarartion of $unpath in Section &quot;Uninstall&quot; was the issue.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>