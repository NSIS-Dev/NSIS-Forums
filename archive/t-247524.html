<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Using NOTIFY flag is jumping over my page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Using NOTIFY flag is jumping over my page NSIS Discussion" />
	
	<title> Using NOTIFY flag is jumping over my page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Using NOTIFY flag is jumping over my page</div>
<hr />
<div class="pda"><a href="t-247524.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=247524">Using NOTIFY flag is jumping over my page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">viachi</div><div class="date">31st May 2006, 17:03</div></div><div class="posttext">Hello,<br />
it is simple: two custom pages;<br />
on first<br />
- select item from listbox <br />
- click Next and go to second<br />
on second <br />
- check/uncheck checkbox and finish.<br />
<br />
I set flags=notify on listbox in first page in order to disable\enable Next button, according to is item selected.<br />
When i select an item, button gets enabled and installer jumps on the second page, shows it for a moment and finishes installation so i have no chance to see it. <br />
I tried AutoCloseWindow true, but no success.<br />
Tried to Abort page if Next button is not pressed, but the button gets disabled again.<br />
And it already took me too much time, that's why i am asking for help.<br />
Greetings.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">31st May 2006, 20:58</div></div><div class="posttext">Using NOTIFY is the same as the user clicking the Next button.<br />
So you need to check if NOTIFY was called by checking the State value under Settings (I assume you're already doing this)... then obviously you need to stop it continuing to the Next page. It will if you don't stop it! Call Abort to return to the page.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">viachi</div><div class="date">1st June 2006, 09:17</div></div><div class="posttext">ahmm, to understand I begin.<br />
I actually tried that already, but there is another problem:<br />
- my page shows with Next button disabled<br />
- when i select item from list the button blinks as enabled and sets disabled again. <br />
I think i read that Abort calls back the Pre function and i tried to check there if NOTIFY was called and not to disable the button again. I put a messagebox in the beginning but it doesn't appear after selecting item.<br />
<br />
<br />
<br />
Function &quot;browse_pre&quot;  <br />
<br />
    StrCmp $notify_flg 1 go no<br />
    no:<br />
        GetDlgItem $next_btn $HWNDPARENT 1<br />
        EnableWindow $next_btn 0              <br />
    go:<br />
    !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;server.ini&quot; &quot;Field 1&quot; &quot;ListItems&quot; &quot;$net_pc&quot;<br />
    !insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;server.ini&quot;      <br />
    !insertmacro MUI_INSTALLOPTIONS_SHOW     <br />
FunctionEnd<br />
<br />
Function &quot;browse_post&quot;        <br />
    !insertmacro MUI_INSTALLOPTIONS_READ $R1 &quot;server.ini&quot; &quot;settings&quot; &quot;State&quot;                <br />
    StrCpy $notify_flg $R1<br />
    StrCmp $notify_flg 1 stay continue<br />
    stay:<br />
        Abort                 <br />
        EnableWindow $next_btn 1        <br />
    continue:<br />
 <br />
<br />
I hope you got the idea.<br />
Thanks in advance :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st June 2006, 10:56</div></div><div class="posttext">Page Custom ShowFunc LeaveFunc<br />
<br />
Calling Abort in the LeaveFunc function will return back to that page. NOTIFY still works with the Next button disabled. Obviously it doesn't actually click on the Next button to call the leave function!<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">viachi</div><div class="date">1st June 2006, 11:28</div></div><div class="posttext">Returning back to ShowFunc ?<br />
Then why, in ShowFunc, I can't check if NOTIFY was called(using $notify_flg variable)?<br />
<br />
And if Abort does not return to ShowFunc, then how the Next button is changed back to disable when there is no such command in LeaveFunc?<br />
<br />
Yes I get the behaviour of NOTIFY, but can not understand the behaviour of Abort.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st June 2006, 13:25</div></div><div class="posttext">No it doesn't execute the ShowFunc code again. It just shows the InstallOptions dialog again which is already in memory.<br />
<br />
What are you trying to do exactly?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">viachi</div><div class="date">2nd June 2006, 08:31</div></div><div class="posttext">Show the page with Next button disabled. After selecting an item from listbox, enable the Next button and when user click on it - proceed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">2nd June 2006, 13:07</div></div><div class="posttext">In which case have code in the Show function to disable the button and code to enable the button in the Leave function.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">viachi</div><div class="date">2nd June 2006, 15:08</div></div><div class="posttext">Leave it, the boss suggest another way.<br />
Thanks a lot, and sorry for wasting your time :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>