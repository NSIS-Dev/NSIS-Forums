<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Modern UI Bitmap Replacement, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Modern UI Bitmap Replacement NSIS Discussion" />
	
	<title> Modern UI Bitmap Replacement [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Modern UI Bitmap Replacement</div>
<hr />
<div class="pda"><a href="t-250456.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=250456">Modern UI Bitmap Replacement</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Sayyan Kotor</div><div class="date">5th July 2006, 20:06</div></div><div class="posttext">Ok, this is probably faulty because I'm guessing most of this, and it was a very rushed job, but the header and wizard images in my installer aren't displaying, there just white. I have editted both the System.nsh of MUI and of course my own script. I've tried the images in the default folders in NSIS, and now the images are in the folder under the paths currently,  and they just will not show.<br />
<br />
Here is the script code: (I've removed the file install lists and the uninstall lists to save space.)<br />
<br />
<br />
<br />
; Define your application name<br />
!define APPNAME &quot;Dark Signs&quot;<br />
!define APPNAMEANDVERSION &quot;Dark Signs v0.96.1&quot;<br />
<br />
; Main Install settings<br />
Name &quot;${APPNAMEANDVERSION}&quot;<br />
InstallDir &quot;$PROGRAMFILES\Vectra Media\Dark Signs&quot;<br />
InstallDirRegKey HKLM &quot;Software\${APPNAME}&quot; &quot;&quot;<br />
OutFile &quot;..\DSSetup.exe&quot;<br />
<br />
; Use compression<br />
SetCompressor LZMA<br />
<br />
; Modern interface settings<br />
!include &quot;MUI.nsh&quot;<br />
<br />
!define MUI_HEADERIMAGE<br />
!define MUI_HEADERIMAGE_BITMAP &quot;C:\Documents and Settings\Ross\Desktop\Vectra Media\DarkSigns\Source\vm.bmp&quot;<br />
!define MUI_ABORTWARNING<br />
!define MUI_FINISHPAGE_RUN &quot;$INSTDIR\darksigns.exe&quot;<br />
  <br />
!insertmacro MUI_PAGE_WELCOME<br />
!insertmacro MUI_PAGE_LICENSE &quot;..\license.txt&quot;<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
!insertmacro MUI_UNPAGE_WELCOME<br />
!insertmacro MUI_UNPAGE_CONFIRM<br />
!insertmacro MUI_UNPAGE_INSTFILES<br />
!insertmacro MUI_UNPAGE_FINISH<br />
<br />
; Set languages (first is default language)<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
Section &quot;Dark Signs&quot; Install<br />
<br />
	{Removed to save space.}<br />
<br />
SectionEnd<br />
<br />
Section -FinishSection<br />
<br />
	WriteRegStr HKLM &quot;Software\${APPNAME}&quot; &quot;&quot; &quot;$INSTDIR&quot;<br />
	WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\${APPNAME}&quot; &quot;DisplayName&quot; &quot;${APPNAME}&quot;<br />
	WriteRegStr HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\${APPNAME}&quot; &quot;UninstallString&quot; &quot;$INSTDIR\uninstall.exe&quot;<br />
	WriteUninstaller &quot;$INSTDIR\uninstall.exe&quot;<br />
<br />
SectionEnd<br />
<br />
; Modern install component descriptions<br />
!insertmacro MUI_FUNCTION_DESCRIPTION_BEGIN<br />
	!insertmacro MUI_DESCRIPTION_TEXT ${Section1} &quot;&quot;<br />
!insertmacro MUI_FUNCTION_DESCRIPTION_END<br />
<br />
;Uninstall section<br />
Section Uninstall<br />
<br />
	{Removed to save space.}<br />
<br />
SectionEnd<br />
<br />
BrandingText &quot;Vectra Media&quot;<br />
<br />
; eof<br />
<br />
<br />
I have pasted my MUI into Nopaste to save space in the thread, it can be read here:<br />
<br />
http://rafb.net/paste/results/poskne59.html<br />
<br />
Many thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th July 2006, 20:12</div></div><div class="posttext">You need<br />
!define MUI_HEADERIMAGE<br />
before it as well.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sayyan Kotor</div><div class="date">5th July 2006, 20:19</div></div><div class="posttext">Yeah it's not that, it had that in before, but I removed it to see if it would work without it. I'll put it back in though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th July 2006, 20:22</div></div><div class="posttext">Without MUI_HEADERIMAGE, MUI_HEADERIMAGE_BITMAP is completely ignored.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sayyan Kotor</div><div class="date">5th July 2006, 20:23</div></div><div class="posttext">Okay. i've fixed it now, but it still doesn't work. Do you have any other ideas?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th July 2006, 20:25</div></div><div class="posttext">Firstly try moving the !include MUI.nsh line to the top of your script above anything else.<br />
<br />
If that does not work, try putting this in your script:<br />
<br />
Function .onInit<br />
InitPluginsDir<br />
FunctionEnd<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sayyan Kotor</div><div class="date">5th July 2006, 20:35</div></div><div class="posttext">Neither of those fixes worked. :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th July 2006, 20:53</div></div><div class="posttext">I built the exact script that you have there, but used C:\trees.bmp for the image and it works fine.<br />
Perhaps the bitmap that you are trying to use is corrupt or the incorrect format. Try copying it to C:\ and referencing it from there.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sayyan Kotor</div><div class="date">5th July 2006, 20:59</div></div><div class="posttext">Nope it still doesn't work! *rips hair out*<br />
<br />
Could you make the changes you did with c:\trees.bmp<br />
<br />
To change them to c:\darksigns.bmp for the large sidebar and c:\vm.bmp for the header. So I know that I'm changing the right ones.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sayyan Kotor</div><div class="date">5th July 2006, 22:29</div></div><div class="posttext">Can anyone help with this? I'm going to try and get a blank copy of System.nsh and start over if I can find one.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sayyan Kotor</div><div class="date">5th July 2006, 23:30</div></div><div class="posttext">I've just totally remade it, with a clean system.nsh, and it still won't work, if I replace my images with one of the standards, it works fine. But if I put in my own custom bitmaps, it won't display them.<br />
<br />
They where created and saved using Photoshop.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sayyan Kotor</div><div class="date">5th July 2006, 23:38</div></div><div class="posttext">Ah ha! I did it, had to make sure it was saved as 8bit Indexed, rather than 16bit RGB.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>