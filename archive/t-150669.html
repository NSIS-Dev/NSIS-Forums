<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Reboot Option Questions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Reboot Option Questions NSIS Discussion" />
	
	<title> Reboot Option Questions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Reboot Option Questions</div>
<hr />
<div class="pda"><a href="t-150669.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=150669">Reboot Option Questions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jaschulz</div><div class="date">28th September 2003, 00:24</div></div><div class="posttext">I have looked through the docs, but I don't see how I can force the finish page to show the rebootnow and rebootlater buttons.  Can someone point me to an example?<br />
<br />
Also, I need to show that option at the &quot;finish&quot; of the uninstall also.  Is there any way to do that?<br />
<br />
Thanks,<br />
<br />
JAS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">28th September 2003, 04:07</div></div><div class="posttext">As you probably know, there's a reboot flag. And then there's a IfRebootFlag instruction. And you can use to show a &quot;MessageBox MB_OKCANCEL&quot; to prompt and then there's the instruction Reboot. If you specially want the &quot;reboot now&quot; &quot;Reboot later&quot; text in the buttons, DrO is making a nice plugin for this :)<br />
<br />
<br />
At the end of the sections you will have something like this:<br />
<br />
<br />
IfRebootFlag &quot;&quot; NoFlag<br />
MessageBox MB_OKCANCEL &quot;want to reboot&quot; IDCANCEL NoFlag<br />
Reboot<br />
NoFlag:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jaschulz</div><div class="date">28th September 2003, 04:27</div></div><div class="posttext">I did see something about the reboot flag, but I do not understand how to set it.<br />
<br />
Also because the latest MUI Readme includes:<br />
<br />
MUI_FINISHPAGE_TEXT_REBOOT text <br />
Text to display on the finish page when asking for a sytem reboot. Use \r\n for a newline.<br />
<br />
MUI_FINISHPAGE_TEXT_REBOOTNOW text <br />
Text to display next to the 'Reboot now' option button.<br />
<br />
MUI_FINISHPAGE_TEXT_REBOOTLATER text <br />
Text to display next to the 'Reboot later' option button.<br />
<br />
I assumed there must be some obvious way to make those buttons show (i.e. something simpler than a plug-in)<br />
<br />
Am I wrong about this?<br />
<br />
JAS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">n0On3</div><div class="date">28th September 2003, 07:51</div></div><div class="posttext">there's a SetRebootFlag instruction.<br />
<br />
And sorry, but I don't know a thing about MUI.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th September 2003, 11:36</div></div><div class="posttext">Unless you define MUI_FINISHPAGE_NOREBOOTSUPPORT the MUI finish page will automatically show a reboot option if the reboot flag is set. The reboot flag is set if you use /REBOOTOK for Rename, Delete, RMDir or SetRebootFlag true.<br />
<br />
As for the uninstaller, you can use un.onInstSuccess to show an option to reboot using a message box.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jaschulz</div><div class="date">28th September 2003, 18:15</div></div><div class="posttext">OK.  I understand now, and I can see the reboot radio buttons on my finish page.  However, I do not seem to be able to set the text for those buttons.  This is what I have (in my Pages section):<br />
<br />
.<br />
.<br />
.<br />
!insertmacro MUI_PAGE_INSTFILES<br />
!define MUI_PAGE_FINISH_TEXT_REBOOTNOW &quot;Reboot the computer now?&quot;<br />
!define MUI_PAGE_FINISH_TEXT_REBOOTLATER &quot;Reboot the computer later?&quot;<br />
!insertmacro MUI_PAGE_FINISH<br />
.<br />
.<br />
.<br />
<br />
But when I run the installer, I do not see the texts I specified.<br />
<br />
What am I doing wrong here?<br />
<br />
JAS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">28th September 2003, 18:22</div></div><div class="posttext">That's because you are using the wrong names.<br />
<br />
It should be MUI_FINISHPAGE_TEXT_REBOOTNOW and MUI_FINISHPAGE_TEXT_REBOOTLATER.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jaschulz</div><div class="date">28th September 2003, 18:35</div></div><div class="posttext">OK've got it now.<br />
<br />
Just in case anyone else is reading this thread: Kichik note (above) should have referred to un.onUnInstSuccess.<br />
<br />
JAS</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>