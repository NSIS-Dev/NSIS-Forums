<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Possible new feature?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Possible new feature? NSIS Discussion" />
	
	<title> Possible new feature? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Possible new feature?</div>
<hr />
<div class="pda"><a href="t-75485.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=75485">Possible new feature?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">12th February 2002, 06:53</div></div><div class="posttext">One of the issues I'd been dealing with lately was versioning of the installer executables.  Specifically I'd make up a new version and then put it up for local testing,  then go add some new changes,  tweak a few things,  etc. and then end up with someone having an issue and it could be one of ten different versions I made up during the day.  So I figured I'd add in a time/date stamp to the installer so then I'd know exactly when the version was made.  Someone then pointed out to me that some people might like different versions how the time &amp; date are represented locally,  so what I came up with is a bunch of symbols.  $MONTH,  $DAY,  $YEAR,  $HOUR,  $MINUTE,  and $SECOND.  So then you could represent things however you want.  I then use DetailPrint to write it to the details window.<br />
DetailPrint &quot;Compiled: $MONTH $DAY $YEAR at $HOUR:$MINUTE:$SECOND&quot;<br />
<br />
Does this interest anyone else as a useful feature?  I'm sure you can think of many ways to use something along those lines,  I was just looking for some way to keep track of versions without too much hassle.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">12th February 2002, 07:24</div></div><div class="posttext">When I moved things from being a compiler command to the $SYMBOL style,  now it's putting in the date at runtime instead of at compile time,  just noticed that.  Oh well,  back to the drawing board for me...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bballer182</div><div class="date">13th February 2002, 07:12</div></div><div class="posttext">sounded kind of nice to me</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">13th February 2002, 07:40</div></div><div class="posttext">Well I've added it back in as a separate command,  but I liked the added flexibility of using it with the current commands.  I suppose I could always add it in with a dll,  but I don't really think it's worth the extra overhead,  and I don't know if that would work right anyway.  So I'm just going to leave it as a new command for right now since I need to have that feature in the installers.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">13th February 2002, 15:47</div></div><div class="posttext">It may be simpler to just pass a define on the command line.  Something like:<br />
<br />
makensis /DLOCALVER=1.11.1 script.nsi<br />
<br />
Then you could just say:<br />
!ifdef LOCALVER<br />
   !define VERSION ${LOCALVER}<br />
!else<br />
   !define VERSION 1.1<br />
!endif<br />
<br />
Then you just change the define for each of your builds.  You could automate the process to do this automatically.<br />
<br />
Another solution would be to use an extension dll like the date dll that I wrote.  Then create an installer that gets the current date, then executes makensis on the script file using the formatted date as a define as I described above.  So you could use an installer to create an installer.  If you want the date extension let me know.  It lets you create a date format string and call the dll, then it returns the current date in the format you set.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bballer182</div><div class="date">14th February 2002, 00:18</div></div><div class="posttext">sounds even better!:up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">14th February 2002, 20:19</div></div><div class="posttext">Originally posted by rainwater <br />
Another solution would be to use an extension dll like the date dll that I wrote.  Then create an installer that gets the current date, then executes makensis on the script file using the formatted date as a define as I described above.  So you could use an installer to create an installer.  If you want the date extension let me know.  It lets you create a date format string and call the dll, then it returns the current date in the format you set. <br />
<br />
Sure,  send away.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SmartyMan</div><div class="date">15th February 2002, 01:43</div></div><div class="posttext">Originally posted by Pomflain <br />
so what I came up with is a bunch of symbols.  $MONTH,  $DAY,  $YEAR,  $HOUR,  $MINUTE,  and $SECOND.  So then you could represent things however you want.  I then use DetailPrint to write it to the details window.<br />
DetailPrint &quot;Compiled: $MONTH $DAY $YEAR at $HOUR:$MINUTE:$SECOND&quot;<br />
<br />
Does this interest anyone else as a useful feature?<br />
I've just implemented that in NSISplus, it will be available in the next update; see attachment to get an idea on how it will work (the &quot;${.DATE}&quot; will create alle the defines you wanted using the /D compiler option)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">15th February 2002, 03:59</div></div><div class="posttext">Here's the dll extension that will create any date format string you want.  See this thread (http://forums.winamp.com/showthread.php?threadid=70281).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>