<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ReadReg Button, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ReadReg Button NSIS Discussion" />
	
	<title> ReadReg Button [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ReadReg Button</div>
<hr />
<div class="pda"><a href="t-293744.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=293744">ReadReg Button</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">28th June 2008, 20:44</div></div><div class="posttext">sorry not working <br />
<br />
1-ReadReg <br />
2-if was<br />
3-Enable &amp; disable Button<br />
<br />
<br />
outfile test.exe<br />
<br />
!include MUI2.nsh<br />
!include nsdialogs.nsh<br />
<br />
page custom  nsDialogsPage<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
<br />
Function nsDialogsPage<br />
<br />
    nsDialogs::Create /NOUNLOAD 1018<br />
        Pop $0<br />
<br />
    ${IfThen} $0 == error ${|} Abort ${|}<br />
<br />
    ${NSD_CreateGroupBox} 0u 13u 85% 45% &quot;If you dare click the button&quot;<br />
        Pop $R0<br />
<br />
    ${NSD_CreateButton}  140 61u 20% 12u &quot;Wmp11&quot;<br />
        Pop $R0<br />
        ReadRegDWORD $R0 HKLM 'Software\Microsoft\Sof\Wmp11' Install<br />
        EnableWindow $R0 0<br />
<br />
<br />
    ${NSD_CreateButton}  140 41u 20% 12u &quot;ExecYms9&quot;<br />
        Pop $R1<br />
        ReadRegDWORD $R1 HKLM 'Software\Microsoft\Sof\Yms9' Install<br />
        EnableWindow $R1 1<br />
<br />
    ${NSD_OnClick} $R1 ExecYms9<br />
    ${NSD_OnClick} $R1 ExecWmp11<br />
<br />
    nsDialogs::Show<br />
<br />
FunctionEnd<br />
<br />
Function ExecYms9<br />
    File /oname=$PLUGINSDIR\yms9.exe &quot;prog\yms9.exe&quot;<br />
    ExecWait `$PLUGINSDIR\yms9.exe` $R9<br />
FunctionEnd<br />
<br />
Function ExecWmp11<br />
    File /oname=$PLUGINSDIR\Wmp11.exe &quot;prog\Wmp11.exe&quot;<br />
    ExecWait `$PLUGINSDIR\Wmp11.exe` $R9<br />
FunctionEnd<br />
<br />
<br />
section<br />
<br />
sectionend<br />
 <br />
<br />
thanks alot for your help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">29th June 2008, 01:21</div></div><div class="posttext">edit<br />
<br />
1-ReadReg<br />
2-if was install disable Button<br />
3-(No install - Enable Button) &amp; (installed - disable Button)<br />
<br />
ReadRegDWORD $R1 HKLM 'Software\Microsoft\SofYms9' Install <br />
<br />
ReadRegDWORD $R0 HKLM 'Software\Microsoft\SofWmp11' Install</div></div><hr />


<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">30th June 2008, 01:46</div></div><div class="posttext">${NSD_CreateButton}  140 61u 20% 12u &quot;Wmp11&quot;<br />
        Pop $R0<br />
        ReadRegDWORD $R0 HKLM 'SoftwareMicrosoftSofWmp11' Install<br />
<br />
        ReadRegDWORD $R1 HKLM 'SoftwareMicrosoftSofWmp11' NoInstall<br />
        EnableWindow $R0 0<br />
        EnableWindow $R1 1<br />
<br />
<br />
<br />
<br />
    ${NSD_CreateButton}  140 41u 20% 12u &quot;ExecYms9&quot;<br />
        Pop $R1<br />
        ReadRegDWORD $R2 HKLM 'SoftwareMicrosoftSofYms9' Install<br />
<br />
        ReadRegDWORD $R3 HKLM 'SoftwareMicrosoftSofYms9' NoInstall<br />
        EnableWindow $R1 0<br />
        EnableWindow $R3 1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">30th June 2008, 19:13</div></div><div class="posttext">hi! we want to make a program in which we have one button. when we run the program, we want the button to be in a state in which: if the registry value was 'install', the button becomes active, and if it was 'noinstall', the button becomes inactive. and also please take a look at the above script and see what is its problem. thanks in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">didava</div><div class="date">1st July 2008, 09:53</div></div><div class="posttext">HELLO</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">1st July 2008, 11:11</div></div><div class="posttext">Wmp11's button HWND is overwritten by reading registry dword into R0.<br />
If you want to have one button enabled and other one disabled (or vice versa) then you should enable/disable the buttons after creating them and reading registries.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>