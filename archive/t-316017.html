<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer to update a already installed product!, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer to update a already installed product! NSIS Discussion" />
	
	<title> Installer to update a already installed product! [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer to update a already installed product!</div>
<hr />
<div class="pda"><a href="t-316017.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316017">Installer to update a already installed product!</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dm82m</div><div class="date">5th January 2010, 10:03</div></div><div class="posttext">Hi together,<br />
<br />
I am using the NSIS installer since a while. I created my script and I am able to install the product with all things I need.<br />
<br />
Now I am releasing new versions of that product and I want the NSIS installer to check if the product is already installed and if so it should uninstall it first and then install the new version.<br />
<br />
Is there any solution to do that?<br />
<br />
What I also like to have is a possibility that if the version installed equals the version within my installer the installer should provide the update mechanism to select or unselect and update the installation.<br />
<br />
Thanks and Regards<br />
 -dm82m</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">5th January 2010, 10:25</div></div><div class="posttext">This question has been asked hundreds of times before. Are you sure you searched before you asked?<br />
<br />
Here's what I do:<br />
- During install, save version number to registry<br />
- Before installing again, read registry and compare previous version number with current one. (Use the versioncompare macro in WordFunc.nsh.) If newer, go into update mode.<br />
<br />
Everything is possible with NSIS, but nothing is automatic. You'll have to code your updating functionality yourself.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dm82m</div><div class="date">7th January 2010, 09:33</div></div><div class="posttext">Hey MSG,<br />
<br />
thanks for your reply. I solved my problem as you have written. If the installer detects a already installed older version it asks for uninstalling and deletes this version.<br />
<br />
Now my product has several components (client, server, ...). Lets say I run my installer 1.0.0 the first time and install the client.<br />
Then I start the same installer again, it detects that 1.0.0 is already installed. How is it possible to lets say go into a update mode. this means that it will show what was recently installed (in this case the client).<br />
Now if i deselect the Client and select the Server the installer should remove the client and install the Server.<br />
Can you give me some hints how this could be done?<br />
<br />
Regards,<br />
Dirk</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">11th January 2010, 08:40</div></div><div class="posttext">Then I start the same installer again, it detects that 1.0.0 is already installed. How is it possible to lets say go into a update mode. this means that it will show what was recently installed (in this case the client).<br />
Sections.nsh has two macros called SelectSection and UnselectSection, you can use these to change the default component selection. You can try to autodetect the installed components (with ${If} ${FileExists} for example), or save the selected components to registry and read them in .onInit.<br />
<br />
Now if i deselect the Client and select the Server the installer should remove the client and install the Server.<br />
Can you give me some hints how this could be done? <br />
Create an invisible section (Section &quot;-HiddenSection&quot;) and use ${If} / ${IfNot} ${SectionIsSelected}.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">scanreg</div><div class="date">13th January 2010, 14:13</div></div><div class="posttext">1. Can the scripts update just the files that need to be updated instead of doing a full download/re-install?<br />
<br />
2. Would it be possible to make these scripts available? I'm trying to accomplish the same functionality<br />
<br />
Many thanks</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>