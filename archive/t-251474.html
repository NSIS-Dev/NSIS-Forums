<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom page with custom icons, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom page with custom icons NSIS Discussion" />
	
	<title> Custom page with custom icons [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom page with custom icons</div>
<hr />
<div class="pda"><a href="t-251474.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=251474">Custom page with custom icons</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">The Glimmerman</div><div class="date">19th July 2006, 11:02</div></div><div class="posttext">Hi all.<br />
This is my first post. I'm not really a scripter but learning. :P <br />
I have a problem and I can't figure it out.<br />
<br />
I use a custom page with installoptionsEx. Everything ok here. <br />
Found in the forum a way to add icons to the header.<br />
<br />
!packhdr &quot;$%TEMP%\exehead.dat&quot; 'header.cmd'<br />
<br />
InstallOptionsEx::initDialog /NOUNLOAD &quot;$PLUGINSDIR\User.ini&quot;<br />
FindWindow $R1 &quot;#32770&quot; &quot;&quot;<br />
Pop $R1<br />
GetDlgItem $0 $R1 1210<br />
GetDlgItem $1 $R1 1211<br />
System::Call 'kernel32::GetModuleFileNameA(i 0, t .R0, i 1024) i r1'<br />
System::Call 'kernel32::GetModuleHandleA(t R0)i .r2'<br />
System::Call 'user32::LoadImage(i r2, i 104, i ${IMAGE_ICON}, , , i ${LR_SHARED}) i.R2'<br />
System::Call 'user32::LoadImage(i r2, i 105, i ${IMAGE_ICON}, , , i ${LR_SHARED}) i.R3'<br />
SendMessage $0 ${STM_SETICON} $R2 0<br />
SendMessage $1 ${STM_SETICON} $R3 0 <br />
<br />
But when showing the page the icons are very large. Out of  boundairies of the ini file. The dont get the size I want them to be.<br />
<br />
In the ini file i have this.<br />
<br />
<br />
[Field 11]<br />
Type=Image<br />
Text=Image<br />
Flags=RESIZETOFIT<br />
Left=15<br />
Right=31<br />
Top=22<br />
Bottom=40<br />
<br />
[Field 12]<br />
Type=Image<br />
Text=Image<br />
Flags=RESIZETOFIT|TRANSPARANT<br />
Left=217<br />
Right=238<br />
Top=81<br />
Bottom=97<br />
 <br />
<br />
What am I doing wrong. Did I forgot some coding.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">The Glimmerman</div><div class="date">19th July 2006, 16:43</div></div><div class="posttext">:) I figured it out.<br />
<br />
I had this <br />
<br />
System::Call 'user32::LoadImage(i r2, i 104, i ${IMAGE_ICON}, , , i ${LR_SHARED}) i.R2'<br />
<br />
<br />
and should be<br />
<br />
System::Call 'user32::LoadImage(i r2, i 104, i ${IMAGE_ICON},i 64 ,i 64 , i ${LR_SHARED}) i.R2'</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>