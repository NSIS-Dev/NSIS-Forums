<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" What's the secret behind disabling the Back button?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  What's the secret behind disabling the Back button? NSIS Discussion" />
	
	<title> What's the secret behind disabling the Back button? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  What's the secret behind disabling the Back button?</div>
<hr />
<div class="pda"><a href="t-307803.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307803">What's the secret behind disabling the Back button?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">29th June 2009, 17:36</div></div><div class="posttext">I am using Modern UI 2.0.<br />
<br />
When not adding a custom page between MUI_PAGE_INSTFILES and MUI_PAGE_FINISH, the [Back] button on the finish page is smartly disabled. This makes sense because once installation is done, there really is no &quot;back&quot;. If the users wants to revert installation back, simply invoke the uninstaller.<br />
<br />
However, when I add a custom page between MUI_PAGE_INSTFILES and MUI_PAGE_FINISH, the [Back] button on the finish page is enabled.<br />
<br />
How does NSIS know that it &quot;can&quot; go back in the latter case? i.e. is this a &quot;bug&quot; or a feature?<br />
<br />
If the latter, is there a hook or NSIS function that I can use to enable/disable the Back or the Next button in my scripts as well?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">29th June 2009, 17:53</div></div><div class="posttext">the show callback for a page, there you can call GetDlgItem+EnableWindow</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">29th June 2009, 18:51</div></div><div class="posttext">Originally posted by Anders <br />
the show callback for a page, there you can call GetDlgItem+EnableWindow <br />
Thank you Anders. I am using Modern UI 2.0 so you are most likely referring to MUI_PAGE_CUSTOMFUNCTION_SHOW, right?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">29th June 2009, 19:40</div></div><div class="posttext">yes<br />
<br />
<br />
Function myshow<br />
GetDlgItem $0 $hwndparent 3 ;1,2 or 3<br />
EnableWindow $0 1 ;1 or 0<br />
FunctionEnd<br />
<br />
...<br />
<br />
!define MUI_PAGE_CUSTOMFUNCTION_SHOW myshow<br />
!insertmacro MUI_PAGE_xxxx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">29th June 2009, 20:31</div></div><div class="posttext">Thanks again, Anders. After experimenting with this and successfully implementing what I needed, here are some of my insights for the benefit of others who have similar questions:<br />
<br />
1. MUI_PAGE_CUSTOMFUNCTION_SHOW is for &quot;standard&quot; (or built-in) pages only (WELCOME, LICENSE, COMPONENTS, DIRECTORY, STARTMENU, INSTFILES, FINISH).<br />
<br />
2. For custom pages, use the same code but in the page creator_function (http://www.downloadatoz.com/manual/ns/nsis/Section4.5.html#4.5.4) :GetDlgItem $0 $hwndparent 2 ;1,2 or 3<br />
EnableWindow $0 0 ;1 or 0<br />
3. DlgItem 2 stands for the Cancel button. Is there a reference somewhere that tells which DlgItem number is assigned to which button?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">29th June 2009, 22:57</div></div><div class="posttext">3. yes and no, ok and cancel use the standard windows defines (IDOK,IDCANCEL) and you can find the back button in http://nsis.svn.sourceforge.net/viewvc/nsis/NSIS/trunk/Source/exehead/resource.h?revision=2823&amp;view=markup<br />
<br />
or you could use resource hacker to inspect the resource in a generated installer .exe or winspy++ on a running installer</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>