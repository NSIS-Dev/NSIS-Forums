<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Service Questions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Service Questions NSIS Discussion" />
	
	<title> Service Questions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Service Questions</div>
<hr />
<div class="pda"><a href="t-195662.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=195662">Service Questions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">gregory.p.cliff</div><div class="date">5th October 2004, 14:30</div></div><div class="posttext">I am using dselkirk's service functions to create, stop, and delete services.  These all seem to work fine except for one issue with the uninstaller.  The binpath to the services is in the install location, and if the services are running, when I stop and delete them, the command to recursively remove the INSTALLDIR fails.  I think this is just a timing thing as I can delete the INSTALLDIR manually after running the uninstaller.<br />
<br />
Additionally for what its worth if the services are not running when I run the uninstaller the whole thing goes off w/o a hitch.<br />
<br />
Is there any way to tell the uninstaller to &quot;sleep&quot; for a second or two prior to attempting to remove the INSTALLDIR after stopping and deleting the services, or is there a better way to stop and delete the services?<br />
<br />
Thanks.<br />
<br />
Greg</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th October 2004, 18:59</div></div><div class="posttext">Sleep 10000 ; Pause for 10 seconds<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gregory.p.cliff</div><div class="date">6th October 2004, 15:47</div></div><div class="posttext">Thanks, I should have checked for that.  Sorry for being a bonehead</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mdlazreg</div><div class="date">1st April 2005, 18:02</div></div><div class="posttext">Hi,<br />
<br />
I am trying to install a windows service and I am stuck if any one can help me please.<br />
<br />
1)<br />
I tried using dselkirk's service functions described at :<br />
http://nsis.sourceforge.net/archive....php?pageid=345<br />
<br />
but my script would not even compile giving me the error :<br />
<br />
Error: unterminated string parsing line at macro:FUNC_SERVICE:21<br />
Error in macro FUNC_SERVICE on macroline 21<br />
<br />
Whats wrong with this library?!<br />
<br />
2)<br />
I also tried to use this plugin:<br />
http://nsis.sourceforge.net/archive....php?pageid=385<br />
<br />
but even if it does start, stop a service it does not offer how to install a service...<br />
<br />
It would be great if this plugin can be enhanced by some expert:).<br />
<br />
3)<br />
<br />
I also would like to know how can I find if a service is running by the name of its executable. I can not search for it by name because I have no idea what name my customer has chosen. So I would like to find the service by the name of the program itself... Is this possible?!<br />
<br />
4)<br />
<br />
The service I want install has to take some arguments. But <br />
http://nsis.sourceforge.net/archive....php?pageid=345<br />
seems to take only the path to the program not the arguments to the program.<br />
<br />
Thank you for any help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st April 2005, 20:24</div></div><div class="posttext">As for the Service Library, use the save script (http://nsis.sourceforge.net/archive/savescript.php?pageid=345&amp;script=1) link instead of copying and pasting. Word wrapping is turned on.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mdlazreg</div><div class="date">2nd April 2005, 00:58</div></div><div class="posttext">Thanks Kichik. Now it does compile.<br />
<br />
I was also wrong on 2). Looking at the documentation, the creation of a service is there. Sorry about that.<br />
<br />
I am left with 3) and 4). <br />
<br />
3)How can I find out if a service is running if I do not know the name of the service. All I know is the name of the program itself.<br />
<br />
4)And how can I pass arguments to the program I want to install as a service.<br />
<br />
Thanks a lot for your help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mdlazreg</div><div class="date">5th April 2005, 18:13</div></div><div class="posttext">Hi,<br />
<br />
I found the solution for 4). Actually it is possible to use the library at <br />
http://nsis.sourceforge.net/archive....php?pageid=345<br />
<br />
and giving it path=&quot;program.exe arg1 arg2...&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mdlazreg</div><div class="date">6th April 2005, 18:54</div></div><div class="posttext">Hi,<br />
<br />
I found a workaround for 3) by using the FindProc plugin.<br />
<br />
I have a question of any one can help please:<br />
<br />
After my installer has created a service. It is unable to start it!. And even if I go the Services conrol panel and try to start it, it gives me the following error :<br />
<br />
Error 1067.<br />
<br />
Ps1: I have admin privileges on the machine I am installing on.<br />
Ps2: If I run the command manually, it does run. But it gives an error if it is through the service...<br />
<br />
Thank you for any help.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>