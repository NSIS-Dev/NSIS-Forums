<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Using logging without dirtext, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Using logging without dirtext NSIS Discussion" />
	
	<title> Using logging without dirtext [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Using logging without dirtext</div>
<hr />
<div class="pda"><a href="t-95589.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=95589">Using logging without dirtext</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Mark_Ive</div><div class="date">24th July 2002, 17:08</div></div><div class="posttext">Hi All,<br />
       I cannot get install.log to be output unless i have a dirtext command in my nsi. does anyone know a way around this ? <br />
ps im using v1.98</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th July 2002, 17:40</div></div><div class="posttext">Search the forum and find:<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=94203&amp;highlight=DirText</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mark_Ive</div><div class="date">24th July 2002, 17:44</div></div><div class="posttext">i have tried that but it doesnt make a difference</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th July 2002, 17:50</div></div><div class="posttext">Please post your code, I will try to see what's wrong.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mark_Ive</div><div class="date">24th July 2002, 17:53</div></div><div class="posttext">Name &quot;Test&quot;<br />
OutFile &quot;test.exe&quot;<br />
BrandingText &quot;Test build&quot;<br />
ShowInstDetails show<br />
AllowRootDirInstall true<br />
<br />
;Findout what version we are<br />
Section &quot;default&quot;<br />
strcpy $INSTDIR &quot;c:\&quot;<br />
setoutpath $INSTDIR<br />
LogSet On<br />
setoutpath $INSTDIR<br />
setoutpath &quot;c:\&quot;<br />
file &quot;c:\winzip.log&quot;<br />
SectionEnd<br />
<br />
i have tried all combinations of logset and $instdir but i cant work it out <br />
Thank you for your time really appreciated</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th July 2002, 18:33</div></div><div class="posttext">OK, I have looked a little in NSIS source and here is the deal:<br />
build_g_logfile, which generates the name for the logfile is only called in two conditions:<br />
1) SilentInstall silentlog<br />
2) The user has not unchecked the box telling the installer to log output (which appears in the directory selection dialog if you hold shift while it shows up). This checkbox is enabled by default, but if the directory selection dialog is not there the box isn't there too...<br />
<br />
I guess LogSet was meant just to disable logging of some parts of the installation process rather than starting the whole logging process.<br />
<br />
I have absolutely no idea what using SetOutPath worked for the other guy =/<br />
<br />
It does sounds logical for build_g_logfile to be called from LogSet, if not already called.<br />
<br />
Comments anyone? Should I make this change in my next version?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>