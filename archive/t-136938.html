<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" system and system32, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  system and system32 NSIS Discussion" />
	
	<title> system and system32 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  system and system32</div>
<hr />
<div class="pda"><a href="t-136938.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=136938">system and system32</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">DVDK</div><div class="date">28th May 2003, 21:24</div></div><div class="posttext">I want to copy some files to the system folder and system32 folder on a WinXP system with a modern NSIS.<br />
<br />
Something.dll should be installed in system32 folder.<br />
Somethingelse.dll should be installed in system folder.<br />
<br />
I therefore write:<br />
<br />
  SetOutPath &quot;$SYSDIR\&quot;<br />
  File &quot;Something.dll&quot;<br />
  SetOutPath &quot;?&quot; :igor: <br />
  File &quot;Somethingelse.dll&quot;<br />
<br />
...But which path can I use for the system folder? (Somethingelse.dll)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">28th May 2003, 21:50</div></div><div class="posttext">How about:<br />
<br />
SetOutPath &quot;$WINDIR\system&quot;<br />
File &quot;Something.dll&quot; <br />
SetOutPath &quot;$WINDIR\system32&quot;<br />
File &quot;Somethingelse.dll&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th May 2003, 10:28</div></div><div class="posttext">I think it'll be a better idea to keep $SYSDIR and not use $WINDIR\System32 to make sure you get the right value. As for getting C:\Windows\System without assuming the directory name, I am sorry but I have no idea.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nilpo</div><div class="date">30th May 2003, 16:12</div></div><div class="posttext">On a windows XP system the system folder is defined in the registry<br />
<br />
(HKLM\Software\Windows\CurrentVersion\)<br />
<br />
The default value for Windows XP is System32.  $SYSDIR will return the value of this regisrty entry at the time of execution.<br />
<br />
So I would use:<br />
<br />
$SYSDIR for System32, and<br />
$WINDIR\System for the System folder<br />
<br />
In the event that the system32 folder was changed to a different value the installer would still install to the Windows system directory.  (So it could be possible to return the same value for both, however, this would insure that the installed program would function no matter how the user's system was set up.)<br />
<br />
P.S. Using this set-up would also help make your installer cross-platform compliant if that is an issue.<br />
<br />
For questions or comments about this post, please contact me.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>