<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Detect Virtual Machine, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Detect Virtual Machine NSIS Discussion" />
	
	<title> Detect Virtual Machine [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Detect Virtual Machine</div>
<hr />
<div class="pda"><a href="t-293926.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=293926">Detect Virtual Machine</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">meaningoflights</div><div class="date">3rd July 2008, 03:54</div></div><div class="posttext">Hi,<br />
<br />
I'm looking to prevent my program from being installed on Virtual PCs and am trying to find a way to determine if the machine is virtual?<br />
<br />
If anyone has any clues that would be much appreciated.<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">meaningoflights</div><div class="date">3rd July 2008, 04:06</div></div><div class="posttext">looks like it will be easy to do in the program:<br />
<br />
hXXp://www.codeproject.com/KB/system/VmDetect.aspx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd July 2008, 10:45</div></div><div class="posttext">Why does everyone want to prevent their users from doing stuff? Anyway, the whole point of a virtual machine is to trick the OS and its apps to think they are running on hardware...so, you might be able to put some checks in there, but not for everything out there (Not just VPC and VMWare, you also have Parallels,QEMU, VirtualBox and Bochs and several others, and lets not forget about WINE)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">3rd July 2008, 11:15</div></div><div class="posttext">Maybe for reason that the program can be unstable on virtual machines? :confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd July 2008, 12:45</div></div><div class="posttext">It may be better to give them a warning somewhere that the software is not supported on virtual machines. That would also save some work.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">3rd July 2008, 14:56</div></div><div class="posttext">If the Virtual Machine Monitor (VMM) aka Hypervisor is implemented properly, then neither the Guest-OS itself nor any program running on the Guest-OS will be able to detect that it's running on a Virtual Machine. That's the whole point about virtualization! Well, the x86 architecture (IA-32) cannot be virtualized that easy, so software solutions (VMWare, VirtualBox. etc.) have some limitations, which might allow the Guest-OS to detect that it's running in a VM. But new hardware-extensions to x86, like Intel VT-x, will allow proper virtualization. And then there should be no chance to detect a VM. So better give up about that idea and do it like suggested by Afrow...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">meaningoflights</div><div class="date">4th July 2008, 04:43</div></div><div class="posttext">Hi all,<br />
<br />
Gold star to Afrow UK.<br />
<br />
Andres, I agree 100% except when your trying to secure your software from vm copies thats when you want to prevent your users from doing stuff. The real problem for me is that I'm faced with customers without web access, its complicated..<br />
<br />
I bet you red-gate will trawl thru this forum and see this - and go img wtf - lets make a virtual pc detection component!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">4th July 2008, 12:27</div></div><div class="posttext">How is a copy running in a VM any different from running on a normal box? What about the people using linux or osX and use VM's for win32 apps, are you just gonna screw them over, even tho they have a perfectly valid reason to use a VM</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">4th July 2008, 13:55</div></div><div class="posttext">Originally posted by Anders <br />
How is a copy running in a VM any different from running on a normal box? <br />
<br />
There is no difference. At least there should be no difference ;)<br />
<br />
And it's impossible for a program to detect that it's running inside a VM, unless you exploit a bug in the VMM/Hypervisor...<br />
<br />
Equivalence <br />
    A program running under the VMM should exhibit a behavior essentially<br />
    identical to that demonstrated when running on an equivalent machine directly.<br />
Resource control <br />
    The VMM must be in complete control of the virtualized resources.<br />
Efficiency <br />
    A statistically dominant fraction of machine instructions must be<br />
    executed without VMM intervention. <br />
<br />
For further info, refer to:<br />
http://en.wikipedia.org/wiki/Popek_and_Goldberg_virtualization_requirements</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>