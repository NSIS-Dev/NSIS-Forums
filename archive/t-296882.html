<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Reboot finish page and problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Reboot finish page and problem NSIS Discussion" />
	
	<title> Reboot finish page and problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Reboot finish page and problem</div>
<hr />
<div class="pda"><a href="t-296882.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=296882">Reboot finish page and problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">zanz</div><div class="date">3rd September 2008, 23:21</div></div><div class="posttext">1) Is there a way to make the installer always reboot besides setting the SetRebootFlag = true in the script? <br />
<br />
2) Is there a way to detect that the user selected 'Restart Now' or 'Restart Later' option from the reboot finish screen?<br />
<br />
I want the installer to always reboot after the product is installed, at the same time I only want to launch the product only if the user selected 'Restart Later' option. I've tried using IfRebootFlag value but itâ€™s always true since in the script I manually set SetRebootFlag to true (so I always get the reboot screen at the end of installation). As a result, our product is caught in a situation where the installer launches the product and at the same time it's rebooting the machine. It creates a bad user experience. It'll be great to get an answer to the above two questions. Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th September 2008, 12:02</div></div><div class="posttext">If you want to always reboot, don't use the finish page and simply call Reboot yourself.<br />
<br />
I don't see why you'd like to execute your product if the system will always reboot, but if you want to check the radio buttons, simply do so in the leave callback function of the finish page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">11th October 2008, 22:36</div></div><div class="posttext">Originally posted by kichik <br />
simply do so in the leave callback function of the finish page. What is the &quot;leave callback function of the finish page&quot;?<br />
<br />
I searched the NSIS User Manual but all I could find was .onGUIEnd. Is this it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">12th October 2008, 06:31</div></div><div class="posttext">Each page can have a create function and a leave function (sometimes called a callback function).  The leave function runs when the user clicks &quot;next&quot; (or in this case, finish) just before the page unloads.  This gives you the ability to use an &quot;abort&quot; to prevent the next page from loading.<br />
<br />
For more info, search the NSIS manual for the Page and PageEx commands.  Also check out some of the sample scripts included with NSIS.  And if you use the MUI (modern user interface), make sure you read the MUI docs as there are special macros there to use for defining page callbacks.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nsnb</div><div class="date">13th October 2008, 23:10</div></div><div class="posttext">Originally posted by Comperio <br />
For more info, search the NSIS manual for the Page and PageEx commands.Thank you! This is great education for me.<br />
<br />
BTW, regarding the original subject (which prompted my question) I managed to solve it by using MUI_FINISHPAGE_TEXT_REBOOT and 'SetRebootFlag true'. I am using MUI2 and it is great as it has most of what I need built in.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>