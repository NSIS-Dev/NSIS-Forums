<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS 2.30: Installer startup really slow compared to build with previous  versions, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS 2.30: Installer startup really slow compared to build with previous  versions NSIS Discussion" />
	
	<title> NSIS 2.30: Installer startup really slow compared to build with previous  versions [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS 2.30: Installer startup really slow compared to build with previous  versions</div>
<hr />
<div class="pda"><a href="t-276700.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=276700">NSIS 2.30: Installer startup really slow compared to build with previous  versions</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">30th August 2007, 13:34</div></div><div class="posttext">Hi,<br />
<br />
yesterday I updated my release version of NSIS from 2.24 to 2.30 since I needed SetRegView.<br />
I left the project settings (compressor etc) unchanged.<br />
<br />
When starting the built installer (about 900KB) I noticed that it took about 6-10 seconds until the Welcome Dialog appears.<br />
With NSIS 2.24 it took less than a second.<br />
<br />
Checked on several test machines (different Windows platforms) and found the same behaviour. Startup is noticeably slower.<br />
<br />
I downgraded to 2.29 and everything's fine again.<br />
<br />
Bug? Feature? Reason?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wizou</div><div class="date">30th August 2007, 14:50</div></div><div class="posttext">Vista ? XP ?<br />
RequestExecutionLevel ?<br />
CRC checking dialog visible ? after/before it ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">30th August 2007, 14:52</div></div><div class="posttext">Originally posted by Wizou <br />
Vista ? XP ?<br />
RequestExecutionLevel ?<br />
CRC checking dialog visible ? after/before it ?  <br />
<br />
Seen with W2K, WXP, WXP64.<br />
RequestExecutionLevel always Admin.<br />
CRC checking dialog visible: No.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wizou</div><div class="date">30th August 2007, 14:59</div></div><div class="posttext">you might want to activate the CRC checking dialog, so you can diagnose if the slowdown comes before it (might be the OS) or after it (definitively NSIS)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">30th August 2007, 15:17</div></div><div class="posttext">Originally posted by Wizou <br />
you might want to activate the CRC checking dialog, so you can diagnose if the slowdown comes before it (might be the OS) or after it (definitively NSIS)  <br />
<br />
Settings in .nsi file:<br />
SetCompressor /SOLID lzma<br />
CRCCheck On<br />
(Unchanged) <br />
<br />
So the CRC checking dialog seems to be the dialog that appears when I start an NSIS wrapper installer for IS 32 &amp; IS 64 installers with about 20 MByte from a slow USB stick, where I see the unpacking process....10% ...24%....<br />
<br />
No. With a 900 KB installer I never SAW that dialog.<br />
And the 5 to 10 seconds delay IS NOT caused by that.<br />
<br />
And : The same (unchnanged) project built with NSIS 2.29 runs as fast as before!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wizou</div><div class="date">30th August 2007, 15:29</div></div><div class="posttext">oh i thought 900 MB... 900 KB is small so CRC is not visible, right..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st August 2007, 09:27</div></div><div class="posttext">If the unpacking dialog shows, you are missing a ReserveFile call and probably have .onInit at the end of the script, extracting files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">31st August 2007, 10:04</div></div><div class="posttext">Originally posted by kichik <br />
If the unpacking dialog shows, you are missing a ReserveFile call and probably have .onInit at the end of the script, extracting files.  <br />
<br />
For the installer in question, the unpacking dialog DOES NOT show up. .onInit is near the end of the script, but it does not extract any file.<br />
Versions to compare are fetched via GetDLLVersionLocal.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">31st August 2007, 22:10</div></div><div class="posttext">Can you provide a script that reproduces this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">AxelMock</div><div class="date">3rd September 2007, 12:19</div></div><div class="posttext">Originally posted by kichik <br />
Can you provide a script that reproduces this? <br />
<br />
I'll try to reproduce it with a smaller NSIS script.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>