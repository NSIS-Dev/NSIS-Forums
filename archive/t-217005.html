<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem with directoryShow function: a bug?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem with directoryShow function: a bug? NSIS Discussion" />
	
	<title> Problem with directoryShow function: a bug? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem with directoryShow function: a bug?</div>
<hr />
<div class="pda"><a href="t-217005.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=217005">Problem with directoryShow function: a bug?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">hooklee</div><div class="date">25th May 2005, 12:24</div></div><div class="posttext">With the following codes, $INSTDIR is empty in directoryShow function, while it is &quot;C:\Test&quot; in directoryPre function. Is it a bug?<br />
<br />
Name &quot;Test&quot;<br />
<br />
OutFile &quot;Test.exe&quot;<br />
<br />
InstallDir &quot;C:\Test&quot;<br />
<br />
PageEx directory<br />
  PageCallbacks directoryPre directoryShow<br />
PageExEnd<br />
Page components<br />
Page instfiles<br />
<br />
Function directoryPre<br />
  MessageBox MB_OK &quot;directoryPre: $INSTDIR&quot;<br />
FunctionEnd<br />
Function directoryShow<br />
  MessageBox MB_OK &quot;directoryShow: $INSTDIR&quot;<br />
FunctionEnd<br />
<br />
Section<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">playwin2</div><div class="date">26th May 2005, 22:27</div></div><div class="posttext">Doesn't happen to me.<br />
Both Pre and Show funct. shows &quot;C:\Test&quot; when I ran the above script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">26th May 2005, 23:18</div></div><div class="posttext">Happens to me. I'm using NSIS 2.06<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">playwin2</div><div class="date">27th May 2005, 00:35</div></div><div class="posttext">Me too NSIS 2.06!<br />
But does *NOT* happens to me...<br />
<br />
Hmm! Which OS? Mine is Win98SE.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hooklee</div><div class="date">27th May 2005, 02:17</div></div><div class="posttext">I have tested it under WinXP Pro, Win2000 and Win98SE Oses. The problem happens under WinXP Pro and Win2000.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th May 2005, 13:54</div></div><div class="posttext">Messing with $INSTDIR is not exactly the intention of the show function, but this is still a valid problem. Open a bug report on the SourceForge project page for it, I don't have time to fix it now.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hooklee</div><div class="date">27th May 2005, 14:34</div></div><div class="posttext">I have submitted a bug report: ID 1209843.<br />
<br />
Kichik, this function may be useful when the user want to disable/hide some controls by checking $INSTDIR. In my installer, I have two directory pages, one of which is a folder for copying some files if they do not exist there.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th January 2006, 19:57</div></div><div class="posttext">I've finally taken the time to look into it and found the problem. The bug was fixed and the fix will be present in version 2.13 which should be released next weekend.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hooklee</div><div class="date">13th January 2006, 20:10</div></div><div class="posttext">Thanks, it sounds good.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>