<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Roll up roll up, execwait question, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Roll up roll up, execwait question NSIS Discussion" />
	
	<title> Roll up roll up, execwait question [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Roll up roll up, execwait question</div>
<hr />
<div class="pda"><a href="t-195079.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=195079">Roll up roll up, execwait question</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">29th September 2004, 15:41</div></div><div class="posttext">Hi guys, gotta nother one for you. I hope it hasn't been asked before, I try and ask only the questions I have to...<br />
<br />
I want to (very simply) pipe the output from an unzip program to a text file.<br />
<br />
On the command line I'd do this:<br />
<br />
unzip.exe -ddirectory-name -o compressed-file.war &gt; C:\temp.txt<br />
<br />
However this doesn't seem to work:<br />
<br />
Execwait &quot;unzip.exe -ddirectory-name -o compressed-file.war &gt; C:\temp.txt&quot;<br />
<br />
Any ideas? Can I treat Execwait as a shell interface, or is it less flexible than that? <br />
<br />
Thanks guys<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th September 2004, 15:43</div></div><div class="posttext">You need the command line interpreter for that. Search for MySQL and you'll find your answer. If you want to later read that text file you should skip that and just use nsExec.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">29th September 2004, 16:00</div></div><div class="posttext">Er I hate to be the idiot, but is there some documentation anywhere for nsExec?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th September 2004, 16:01</div></div><div class="posttext">&lt;NSIS folder&gt;\Contrib\nsExec.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">29th September 2004, 16:03</div></div><div class="posttext">you're clearly the person driving these boards as well as maintaining the project well done mate :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">29th September 2004, 16:25</div></div><div class="posttext">Oh er yeah, can I just chuck<br />
<br />
nsExec::Exec &quot;unzip.exe -ddirectory-name -o compressed-file.war&quot; into a script without anything else and expect it to do something good? And if it does something good, how do I get the output from that into a text file or whatever?<br />
<br />
Love and hugs<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th September 2004, 16:26</div></div><div class="posttext">Use nsExec::ExecToLog to print the output into the installation log (the one in the install page, not the text file) or nsExec::ExecToStack to get the output on the stack.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">29th September 2004, 16:29</div></div><div class="posttext">Aah ok I don't use the default one. Incidentally you are almost replying faster than I'm asking, thank you :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">29th September 2004, 16:31</div></div><div class="posttext">Not quite sure how I get a rather huge number of lines from the stack when I don't know how many there will be but that's tomorrow's problem :) <br />
<br />
Laters<br />
<br />
Rob</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th September 2004, 16:33</div></div><div class="posttext">nsExec pushes it all as one string. You just use Pop to get it. Note that a stack element size is limited to 1024 by default.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 09:02</div></div><div class="posttext">Hm right ok, I'm probably looking at more like 800Kb of data. Can the stack be made to cope with that sort of input?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 09:22</div></div><div class="posttext">Oh also this command simply gives an output of 0 in the log:<br />
<br />
nsExec::ExecToStack &quot;c:\temp\unzip.exe -ddirectory-name -o file-to-unzip.war&quot;<br />
  Pop $R1<br />
  LogText $R1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2004, 09:26</div></div><div class="posttext">You can recompile NSIS with a string size (also affect stack) of 800k, but that won't be a good idea. It means NSIS will use at least 16MB more memory on runtime. If it's that much data, you need to go back to redirecting the output to a text file.<br />
<br />
nsExec pushes two strings when ExecToStack is used. See the example.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 09:33</div></div><div class="posttext">Oh duh sorry yes I did know about the 2nd param just forgot.<br />
<br />
And AH so do I look for that command line interpreter thing?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">30th September 2004, 09:36</div></div><div class="posttext">Yes, you need the command line interpreter. Look for &quot;mysql&quot; in this forum.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">RobGrant</div><div class="date">30th September 2004, 10:10</div></div><div class="posttext">Ooh fantastic it works! You're a star kichik, and I don't care who hears me say it! :p</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>