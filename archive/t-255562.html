<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Use of Registers, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Use of Registers NSIS Discussion" />
	
	<title> Use of Registers [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Use of Registers</div>
<hr />
<div class="pda"><a href="t-255562.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255562">Use of Registers</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rajiv naravane</div><div class="date">15th September 2006, 20:35</div></div><div class="posttext">I have a general question about the usage of registers when I call a system function. To make it specific, here is a snipped of code:<br />
;GetIndexName is my function that returns a string<br />
; in $R0, so I pop it from $R0<br />
Call GetIndexName<br />
Pop $R0<br />
; Asumme everything worked<br />
; <br />
<br />
;Now I copy this string to $1<br />
StrCpy $1 $R0<br />
<br />
;And pass it to WordFind library function,<br />
;which gives me results in $0 (last argument)<br />
${WordFind} $1 &quot;-&quot; &quot;+1&quot; $0<br />
DetailPrint &quot;After WordFind $0&quot;<br />
<br />
Here is the question: If WordFind function is internally using $R0, would the value I stored there originally get overwritten?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th September 2006, 21:14</div></div><div class="posttext">Functions should and usually retain register values. It's done by keeping old values on the stack and popping them back when the function ends. All of the function in the header files, including WordFind do that. If they don't, it's a bug and you should report it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rajiv naravane</div><div class="date">15th September 2006, 21:33</div></div><div class="posttext">Thanks, sir, appreciate your help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rajiv naravane</div><div class="date">15th September 2006, 21:36</div></div><div class="posttext">Thank your sir, for your prompt reply</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rajiv naravane</div><div class="date">15th September 2006, 22:14</div></div><div class="posttext">So what you are saying is, I do not have to worry about what registers these functions are using. They SHOULD do the right thing and when they retun, my old value in the register should be intact, right?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">16th September 2006, 07:52</div></div><div class="posttext">correct<br />
<br />
and if they don't, report it as a bug to the author of the function / in the wiki page of the function / wherever is appropriate :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rajiv naravane</div><div class="date">16th September 2006, 14:07</div></div><div class="posttext">Thank you, appreciate your help</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>