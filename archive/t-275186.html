<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem -&gt; could not resolve label, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem -&gt; could not resolve label NSIS Discussion" />
	
	<title> Problem -&gt; could not resolve label [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem -&gt; could not resolve label</div>
<hr />
<div class="pda"><a href="t-275186.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=275186">Problem -&gt; could not resolve label</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">MAINFRAIME</div><div class="date">31st July 2007, 16:55</div></div><div class="posttext">Hi,<br />
i'm making custom 7-zip builds and now i want to pack all in one installer and i made some modifications to the original one to support some options but when i try to compile the script i always get this error<br />
<br />
<br />
Processed 1 file, writing output:<br />
Adding plug-ins initializing function... Done!<br />
Error: could not resolve label &quot;_LogicLib_Label_196.10&quot; in unnamed install section (0)<br />
Error - aborting creation process<br />
<br />
<br />
But i'm not using any labels.<br />
<br />
Can someone tell me whats wrong in this script and how to fix it?<br />
<br />
And here the line numbers where i have inserted some code<br />
37, 82-83, 103-104, 188-253, 341-352, 412-435<br />
hope i don't forgot some.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">31st July 2007, 16:57</div></div><div class="posttext">Line 348 no ${EndIf}.<br />
Line 253 no matching ${EndIf} statements for all 8 ${If} statements.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MAINFRAIME</div><div class="date">1st August 2007, 06:02</div></div><div class="posttext">Thanks now it compiles and i can install it seems to work correctly but when i install it again to change the &quot;7-zip.dll&quot;  i don't get the message to reboot and the file will not be replaced and a manual reboot is also not working.<br />
When i first uninstall it and reboot there is no problem.<br />
Can i force the installer to replace the file even if in use and then reboot or is there another way to fix this problem without having the user do a manual uninstall and reboot?<br />
<br />
Here is the code for the &quot;7-zip.dll&quot;<br />
<br />
<br />
  ReadINIStr $QaxX &quot;$PLUGINSDIR\ioB.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
  ${If} $QaxX == '1'<br />
  !insertmacro InstallLib DLL NOTSHARED REBOOT_NOTPROTECTED 7-zip_shell-icon.dll $INSTDIR\7-zip.dll $INSTDIR<br />
  ${Else}<br />
  ReadINIStr $QaxX &quot;$PLUGINSDIR\ioB.ini&quot; &quot;Field 3&quot; &quot;State&quot;<br />
  ${If} $QaxX == '1'<br />
  !insertmacro InstallLib DLL NOTSHARED REBOOT_NOTPROTECTED 7-zip_no_shell-icon.dll $INSTDIR\7-zip.dll $INSTDIR<br />
  ${EndIf}<br />
  ${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">1st August 2007, 08:22</div></div><div class="posttext">I suspect you're attempting to replace the installed dll with the same file version so nothing happens, the file is not replaced.<br />
You should try different file versions to see if the code works as expected.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MAINFRAIME</div><div class="date">1st August 2007, 09:21</div></div><div class="posttext">Yes it's the same version but not the same file one has a icon for the explorer shell menu and one not.<br />
<br />
It seems that only older files are replaced i have changed the &quot;#define MY_VER_BUILD 0&quot; to &quot;#define MY_VER_BUILD 1&quot; and the older version will be replaced but i can't replace the newer one with old one.<br />
<br />
How can i fix this, is there a switch to override newer files?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MAINFRAIME</div><div class="date">1st August 2007, 12:39</div></div><div class="posttext">I have another problem, in this script always &quot;MessageBox&quot; will be called even if the regkey exists and has a valid value also the message shows the value, where is the problem?<br />
<br />
<br />
  ReadINIStr $QaxX &quot;$PLUGINSDIR\ioC.ini&quot; &quot;Field 4&quot; &quot;State&quot;<br />
  ${If} $QaxX == &quot;1&quot;<br />
  ReadRegStr $QaxX HKLM &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\Far Manager&quot; &quot;InstallDir&quot;<br />
  ${If} $QaxX &lt;&gt; &quot;&quot;<br />
  CreateDirectory $QaxX\Plugins\7-Zip<br />
  File 7-ZipFar.dll<br />
  Rename 7-ZipFar.dll $QaxX\Plugins\7-Zip\7-ZipFar.dll<br />
  Delete 7-ZipFar.dll<br />
  ${Else}<br />
  MessageBox MB_OK &quot;Sorry but i could not find the Far FileManager. ($QaxX)&quot;<br />
  ${EndIf}<br />
  ${EndIf}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">1st August 2007, 13:14</div></div><div class="posttext">&lt;&gt; is a signed integer condition test. This isn't VB. Use !=.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>