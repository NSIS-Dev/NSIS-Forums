<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How does this macro function??, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How does this macro function?? NSIS Discussion" />
	
	<title> How does this macro function?? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How does this macro function??</div>
<hr />
<div class="pda"><a href="t-274906.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274906">How does this macro function??</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ramyaa</div><div class="date">25th July 2007, 11:15</div></div><div class="posttext">Hi,<br />
<br />
I have a code which says: ( abc.nsi)<br />
   <br />
  MessageBox MB_OK &quot;${${LANGUAGE}_setup.23645}&quot;<br />
<br />
Here the $LANGUAGE is correctly set to Locale Language. But still the MessageBox shows msg in english only always! <br />
The purpose is to display the MsgBox depending on the Locale language. <br />
<br />
Also, i have a header file , say xyz.nsh which has <br />
<br />
LangString setup.23645 ${LANGUAGE_CODE} &quot;${${LANGUAGE}_setup.23645}&quot; <br />
<br />
Does this affect the first code snippet?? If so how? Im not very clear with the usage and working of LangString. where can i find some examples of using LangString?? <br />
<br />
Could someone provide some info on this please?<br />
<br />
Thanks,<br />
Ramya</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ramyaa</div><div class="date">25th July 2007, 11:21</div></div><div class="posttext">Actually the header file, xyz.nsh has the following:<br />
<br />
!insertmacro MUI_LANGUAGEFILE_LANGSTRING LANGUAGE setup.23645 &quot;Error Code&quot; <br />
LangString setup.23645 ${LANGUAGE_CODE} &quot;${${LANGUAGE}_setup.23645}&quot; <br />
!ifmacrondef UIMSG_ErrorCode<br />
!macro UIMSG_ErrorCode ARGS<br />
  MessageBox ${ARGS} &quot;$(setup.23645)&quot; <br />
!macroend<br />
!endif</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th July 2007, 11:31</div></div><div class="posttext">Where does ${LANGUAGE} come from? If you are trying to reference $LANGUAGE then you shouldn't use {} and either way you cannot use it ${${LANGUAGE}_setup.23645} unless ${LANGUAGE} is a compile time constant.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ramyaa</div><div class="date">25th July 2007, 11:48</div></div><div class="posttext">I set $LANGUAGE in .onInit Function <br />
<br />
If I dont use {} for $LANGUAGE as in:<br />
<br />
MessageBox MB_OK &quot;${${LANGUAGE}_setup.23648}&quot; , then I dont get the actual message. <br />
<br />
Let me be clear:<br />
<br />
What is expected: The Message box should display &quot;Error Code&quot; in Locale Language. <br />
<br />
What Happens:<br />
<br />
1. If I give MessageBox MB_OK &quot;${${LANGUAGE}_setup.23648}&quot; ,<br />
<br />
I get &quot;Error Code&quot; in English always ( inspite of the $LANGUAGE being set to Locale language)<br />
<br />
2. If I give MessageBox MB_OK &quot;${$LANGUAGE_setup.23648}&quot; ,<br />
<br />
(i.e without {}) then i get the messagebox showing &quot;1041_samsetup.23648&quot; - Here the macro should have been substituted which prints &quot;Error Code&quot; in Japanese<br />
<br />
[1041 = JAPANESE - this is on a JApanese XP machine ]</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th July 2007, 11:54</div></div><div class="posttext">At compile time ${${LANGUAGE}_setup.23648} will be substituted for the constant value contained in ${LANGUAGE}_setup.23648, i.e.<br />
!define ${LANGUAGE}_setup.23648 &quot;my string&quot;<br />
Therefore, what you are trying to do is logically impossible.<br />
${LANGUAGE} also has to be a compile time constant for this and of course $LANGUAGE is not and it has nothing to do with ${LANGUAGE} even. You should be getting some compiler warnings.<br />
<br />
What you could do is have a ${Switch} statement (LogicLib.nsh) to display the correct message for the correct language:<br />
http://forums.winamp.com/showthread.php?postid=2068057<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ramyaa</div><div class="date">25th July 2007, 12:18</div></div><div class="posttext">Oh ok.... thanks a lot for that swift response... I'll look into it...<br />
<br />
Kind Regards,<br />
Ramya</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>