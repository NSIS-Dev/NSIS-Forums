<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" First Section always unchecked, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  First Section always unchecked NSIS Discussion" />
	
	<title> First Section always unchecked [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  First Section always unchecked</div>
<hr />
<div class="pda"><a href="t-151884.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=151884">First Section always unchecked</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">sfrank8734</div><div class="date">7th October 2003, 22:07</div></div><div class="posttext">I've googled, I've searched, and cannot figure this out.  I'm using NSIS 2.0b3 and a modern GUI.  My first section is always unchecked, no matter what I seem to do, when doing test runs on my station.<br />
<br />
The section is as follows:<br />
<br />
Section &quot;!${MUI_PRODUCT}&quot; SEC_Exodus<br />
    SectionIn 1 RO<br />
<br />
It shows up read-only, but not selected.<br />
<br />
I'm basically using the nsi file provided to custom build your own Exodus installer (exodus.jabberstudio.com), a Jabber client.  I'm new to NSIS (but painfully did this back in the day with InstallShield 2.0 and 3.0!).  Any clues what I am not able to do this?<br />
<br />
If I put another section in front of this one, it's selected, but the one above it is not selected, too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">8th October 2003, 00:14</div></div><div class="posttext">Have you tried using<br />
<br />
SectionIn RO<br />
<br />
instead of<br />
<br />
SectionIn 1 RO<br />
<br />
Are you using more than one install type?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">8th October 2003, 01:13</div></div><div class="posttext">When you put the first type of installation, it will be selected (according to your code). If you have Installation Types, the first one will have this section selected, please see it. If not, post again...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sfrank8734</div><div class="date">8th October 2003, 16:22</div></div><div class="posttext">Okay, I'm really foreign to this, so forgive me.  Hopefully someone can shed light on this, as I don't fully understand types, but I think I'm using multiple installation types based on my interpretation.<br />
<br />
Here's the NSI file that I'm starting from:<br />
<br />
http://www.jabberstudio.org/cgi-bin/viewcvs.cgi/*checkout*/exodus/exodus/exodus.nsi?rev=HEAD&amp;content-type=text/plain<br />
<br />
There are multiple Sections within this.  All it takes for me to lose the initial Section (&quot;Exodus&quot;) as being checked is to remove the section coded as follows:<br />
<br />
; BRANDING: Remove this section<br />
Section &quot;Daily updates&quot; SEC_Bleed<br />
    SetOverwrite off<br />
    File &quot;branding.xml&quot;<br />
    SetOverwrite on<br />
SectionEnd<br />
<br />
Since I'm &quot;branding&quot; the install, I cut that code out. This causes the selected sections to change.  I'm guessing there is code elsewhere that defines what is on/off.<br />
<br />
I figured this out from trial &amp; error seeing what changes I make cause the thing to fall apart.  <br />
<br />
I'm sure this is all due to a fundamental misunderstanding about installation types in NSIS, but I just started playing with this Monday.  :-)<br />
<br />
SF</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th October 2003, 16:34</div></div><div class="posttext">If you are still unable to get this working, then upgrade to latest NSIS CVS (2.0b4), because this could have been an 2.0b3 bug.<br />
Or, you could use<br />
SectionSetFlags ${SecID} 1 <br />
in .onInit<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th October 2003, 16:51</div></div><div class="posttext">It's not a bug in b3, it's something you forgot to remove from the script. In .onInit some sections are unselected by their ID, including SEC_Bleed. Because you removed it, SEC_Bleed is not defined and is therefore treated as 0 which is the index of the first section. When the code tries to unselect SEC_Bleed it unselects the first section instead. Simply remove:<br />
<br />
Push ${SEC_Bleed}<br />
Call TurnOff<br />
<br />
and any other instance of SEC_Bleed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sfrank8734</div><div class="date">8th October 2003, 18:57</div></div><div class="posttext">Bingo!  :up: <br />
<br />
I got it fixed up due to the references in .oninit.  I was removing additional sections and the references in the sections were throwin the index off.  Gratz!  I was not getting much closer on my own.  <br />
<br />
NSIS is pretty cool, I'll be using it for some IT deployments now. Thanks gang!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>