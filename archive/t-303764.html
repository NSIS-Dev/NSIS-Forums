<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to Pause and Resume, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to Pause and Resume NSIS Discussion" />
	
	<title> How to Pause and Resume [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to Pause and Resume</div>
<hr />
<div class="pda"><a href="t-303764.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=303764">How to Pause and Resume</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">fulliautomatix</div><div class="date">4th March 2009, 17:47</div></div><div class="posttext">i want to make a installer (i.e.)download manager, which will in-turn download my exe from net and install it. As the .exe is huge, i want my clients to pause the download and resume it. <br />
<br />
i found nsisdl supports the resume function. but i am still unclear with it (as u close installer, open it again and it will try to find the diff between the downloaded exe and the one from the net and download the remaining, which i bet no one can understand on the client side). <br />
<br />
So anyone have a clear code for this, might be a great help. <br />
<br />
Thank you in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Collector9999</div><div class="date">9th March 2009, 04:21</div></div><div class="posttext">I think that ExecWait is what you are looking for. <br />
<br />
  MessageBox MB_YESNO &quot;Your message box text here. (Note: you must be connected to the Internet.)&quot; /SD IDYES IDNO endNetInstaller<br />
  SetOutPath &quot;$TEMP&quot;<br />
  NSISdl::download URL_to_file/installer.exe &quot;$TEMP\installer.exe&quot;<br />
    ExecWait &quot;$TEMP\installer.exe&quot;<br />
    Delete &quot;$TEMP\installer.exe&quot;<br />
    Goto endNetInstaller<br />
  endNetInstaller:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">9th March 2009, 06:40</div></div><div class="posttext">no, he wants to be able to stop/resume a download<br />
<br />
I'm not sure where you get that nsisdl supports resume downloads, fulliautomatix - as far as I can tell, it doesn't.<br />
<br />
Nor do inetload and inetc (pretty much the same plugins).<br />
<br />
Metadl does support it (just tested):<br />
http://nsis.sourceforge.net/Metadl<br />
<br />
However, Metadl - like nsisdl - can only show progress if used inside a Section.  So the only way for you to 'pause' the download is to cancel installation altogether.  You could set a variable if the cancel reason is due to the download and leave some of your installation up to that point intact, I suppose.<br />
<br />
Better would have been if it had been able to pop up a dialog as then you could use it on custom pages, but since you were using nsisdl anyway, this might not be an issue for you.<br />
<br />
<br />
Outfile &quot;test.exe&quot;<br />
<br />
Page Instfiles<br />
<br />
Section &quot;&quot;<br />
	metadl::download &quot;http://www.cs.cornell.edu/~tedkim/WTURB/wlTurb_video.mov&quot; &quot;$temp\awesome.mov&quot;<br />
	Pop $0<br />
	MessageBox MB_OK &quot;[$0]&quot;<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">9th March 2009, 06:55</div></div><div class="posttext">Okay, slight update... I now see where you get the 'nsisdl resume' thing.  That's from a modified version which, as far as I can tell, isn't in the official distribution (yet?)..<br />
<br />
From this thread...<br />
http://forums.winamp.com/showthread.php?threadid=275862<br />
...grab this archive...<br />
http://forums.winamp.com/attachment.php?postid=2228818<br />
...and then try a script set up as follows:<br />
<br />
<br />
Outfile &quot;test.exe&quot;<br />
<br />
Page Instfiles<br />
<br />
Section &quot;&quot;<br />
	nsisdl::download /RESUME /NODELETE &quot;http://www.cs.cornell.edu/~tedkim/WTURB/wlTurb_video.mov&quot; &quot;$temp\awesome.mov&quot;<br />
	pop $0<br />
	MessageBox MB_OK &quot;[$0]&quot;<br />
SectionEnd<br />
<br />
<br />
Basically the way that modified nsisdl works is that you have to tell it to -not- delete the existing file on failure - so that it remains for resuming, and tell it that you want to resume download (valid even if the file doesn't exist yet, looks like).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fulliautomatix</div><div class="date">19th April 2009, 10:10</div></div><div class="posttext">thank you Animaether.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">20th April 2009, 10:07</div></div><div class="posttext">The documentation for the Inetc plugin (http://nsis.sourceforge.net/Inetc_plug-in) says it has a resume option/RESUME <br />
On the permanent connection/transfer error instead of exit first displays message box with &quot;resume download&quot; question. Useful for dial-up connections and big files - allows user to restore connection and resume download. Default is &quot;Your internet connection seems to have dropped out!\nPlease reconnect and click Retry to resume downloading...&quot;.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>