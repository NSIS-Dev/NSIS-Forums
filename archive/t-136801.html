<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" One file, multiple target directories with different filenames., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  One file, multiple target directories with different filenames. NSIS Discussion" />
	
	<title> One file, multiple target directories with different filenames. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  One file, multiple target directories with different filenames.</div>
<hr />
<div class="pda"><a href="t-136801.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=136801">One file, multiple target directories with different filenames.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Tolwyn</div><div class="date">27th May 2003, 17:41</div></div><div class="posttext">I tried to look for this answer.<br />
<br />
For reasons that are important to the target audience of the NSIS archive I'm trying to create, I need to have one file, somefile.bmp extracted to multiple folders, AND have unique file names.<br />
<br />
somefile.bmp - folder1\thisfile.bmp<br />
             - folder2\thatfile.bmp<br />
             - folder3\anotherfile.bmp<br />
<br />
Is this possible to do?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th May 2003, 17:45</div></div><div class="posttext">Try this script on the archive:<br />
http://nsis.sourceforge.net/archive/nsisweb.php?page=160&amp;instances=0,11<br />
<br />
Should work.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tolwyn</div><div class="date">27th May 2003, 18:22</div></div><div class="posttext">The file needs to be named something different in each folder.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th May 2003, 19:08</div></div><div class="posttext">You don't need CopyFiles to do this, File /oname will do just fine.<br />
<br />
For example:<br />
<br />
File /oname=$INSTDIR\folder1\bitmap1.bmp mybitmap.bmp<br />
File /oname=$INSTDIR\folder2\bitmap2.bmp mybitmap.bmp<br />
File /oname=$INSTDIR\folder3\bitmap3.bmp mybitmap.bmp</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tolwyn</div><div class="date">27th May 2003, 19:15</div></div><div class="posttext">I'm confused.<br />
I have &quot;setoutpath&quot; and &quot;file&quot;<br />
<br />
Do I use the above example instead?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th May 2003, 19:18</div></div><div class="posttext">You can use /oname with a partial name too, for example:<br />
<br />
File /oname=bitmap1.bmp mybitmap.bmp<br />
<br />
This will output mybitmap.bmp to $OUTDIR set by SetOutPath, with the name bitmap1.bmp.<br />
<br />
Both examples work, the first one doesn't need SetOutPath (unless the directory is not there yet and then you'll have to create it).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tolwyn</div><div class="date">27th May 2003, 19:48</div></div><div class="posttext">I think I got it, thanks.<br />
I do need the relative path to the source file on my local machine before running the script, right?<br />
<br />
I mean, if &quot;mybitmap.bmp&quot; is located on my computer at: c:\foo\mybitmap.bmp, and my NSI script is located in c:\temp\bar.nsi, then:<br />
<br />
file /oname=$INSTDIR\folder2\newname1.bmp ..\foo\mybitmap.bmp<br />
file /oname=$INSTDIR\folder2\newname2.bmp ..\foo\mybitmap.bmp<br />
<br />
I like that a lot better than the setoutpath, etc.<br />
<br />
Right?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th May 2003, 19:52</div></div><div class="posttext">Well, yes, but those are two different things. SetOutPath is for runtime and sets the root directory in which files will be extracted. /oname gives File a filename to use for the extraction, and if it's a not a fully qualified path it adds $OUTDIR that's set by SetOutPath. You can use only /oname if you really want but make sure you don't forget to create the directories because File will not do it for you.<br />
<br />
To set the working directory at compile time use !cd.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>