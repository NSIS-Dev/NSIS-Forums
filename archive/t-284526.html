<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" File Overwrite problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  File Overwrite problem NSIS Discussion" />
	
	<title> File Overwrite problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  File Overwrite problem</div>
<hr />
<div class="pda"><a href="t-284526.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=284526">File Overwrite problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">devdas_kamath</div><div class="date">7th January 2008, 06:16</div></div><div class="posttext">kind Attn. Afrow UK<br />
<br />
Dear sir,<br />
<br />
!macro Overwrite Source Destination<br />
  File `/oname=${Destination}.new` `${Source}`<br />
  Rename /rebootok `${Destination}.new` `${Destination}`<br />
!macroend<br />
!define Overwrite `!insertmacro Overwrite`<br />
<br />
I have included above said code in my program. But problem with this is even if the program which is to be overwritten is not running, the source file will be renamed to .new and ask for reboot. pls let me know how to check whether the file exists, if exists whether it is running then only rename it to .new and reboot if not overwrite the file. thanks in advance.<br />
<br />
regards.<br />
Devdas M. kamath:cool:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th January 2008, 11:21</div></div><div class="posttext">!macro Overwrite Source Destination<br />
File `/oname=${Destination}.new` `${Source}`<br />
Delete /rebootok `${Destination}`<br />
Rename /rebootok `${Destination}.new` `${Destination}`<br />
!macroend<br />
!define Overwrite `!insertmacro Overwrite`<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>