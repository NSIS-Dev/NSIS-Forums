<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" UltraModernUI beta2 pre-release, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  UltraModernUI beta2 pre-release NSIS Discussion" />
	
	<title> UltraModernUI beta2 pre-release [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  UltraModernUI beta2 pre-release</div>
<hr />
<div class="pda"><a href="t-284480.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=284480">UltraModernUI beta2 pre-release</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th January 2008, 13:46</div></div><div class="posttext">Hello,<br />
<br />
After nearly three years of waiting, I am pleased to announce  the first pre-release of UltraModernUI 1.00 beta 2.<br />
<br />
Changelog:<br />
<br />
# UltraModernUI is resynchronised under Modern UI version 1.8.<br />
# UltraModernUI include also a second interface named ModernUIEx. ModernUIEx is an extended version of Modern UI but with the new UltraModern pages support.<br />
# UltraModernUI included henceforth three plugins that are supported natively :<br />
    * The SkinnedControls plugin. SkinnedControls is based on the wansis plug-in of Saivert and can skin all buttons of your NSIS installer like the most recent installers as well as the scrollbars (only for Windows 2000/XP/2003/Vista).<br />
    * The InstallOptionEx plugin. InstallOptionEx is writen by Diego Pedroso (deguix) and is an expanded version of InstallOptions containing many new features, with size drawback. This unofficial version, by SuperPat, contain a lot of bugfix necessary to the correct operation of some UltraModernUI pages.<br />
    * The NSISArray plugin. This plug-in written by Afrow UK, allows the support of the array in NSIS. It comes with plenty of functions for managing your arrays. This plugin is used with the AlternativeStartMenu and MultiLanguages Pages of UltraModernUI.<br />
<br />
# All the Skin were remakes and twenty skins are now available. blue, blue2, SoftBlue, red, red2, SoftRed....<br />
<br />
# Twenty background skins are now available. blue, blue2, SoftBlue, red, red2, SoftRed....<br />
<br />
# New pages are available:<br />
    * MultiLanguage Page if you want to replace the MultiLanguage Plug-in.<br />
    * Maintenance Page with Repair, Modify, Uninstall and Continue Setup options.<br />
    * Update Page with Update, Uninstall and Continue Setup options.<br />
    * Informmation Page for viewing text and RichText files.<br />
    * SerialNumber Page.<br />
    * Setup Type Page with Minimal, Standard, Complete and Custom options.<br />
    * AlternativeStartMenu Page to replace the StartMenu Plug-in. It allow to use a TreeWiew instead of the ListView and can set the ShellVarContext<br />
    * Additional Tasks page.<br />
    * File and Disk Request Page.<br />
<br />
# Left Text, Left Time and LeftMessageBox functions are removed.<br />
<br />
# UltraModernUI is translated into two languages English and French an partially translated into German and Brazilian Portuguese.<br />
<br />
<br />
TODO:<br />
<br />
- The documentation is outdated and the SkinnedControls plugin documentation is non-existant. So you can see examples  to see all properties.<br />
- Need to rewrite one of the macros managing &quot;UMUI Flags&quot; (It allows, among other things, what options were chosen in the different pages ...).<br />
<br />
<br />
I need your help for:<br />
<br />
- Your feedback<br />
- The translation of UltraModernUI into the other languages<br />
- Creation of more skins<br />
- The corrections of some InstallOptionsEx plug-in bugs:<br />
* Transparent Icons are not transparent in the page...<br />
* Button are not drawn if we use SkinnedControls plugin... whereas that work very well with InstallOptions.<br />
- Improvement for SkinnedControls plug-in:<br />
* Skin checkboxs and radiobuttons<br />
* Skin progress bars<br />
* Skin dropLists arrow<br />
<br />
I plan to release the final version in March, 20th, the third anniversary of the release of the first version<br />
<br />
Thanks in advance for your help.<br />
<br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">6th January 2008, 14:36</div></div><div class="posttext">can help with a translation into german</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">6th January 2008, 16:06</div></div><div class="posttext">Any plans to update it to the Modern UI version 2.0? MUI2 allows you to add additional pages to the standard MUI framework (see for example the Multi-User header file in SVN) and also makes it a lot easier to customize existing pages.<br />
<br />
It should be possible to have an UltraModernUI as an extension of the standard MUI. Then it won't be a fork of the MUI and will share most of the scripts.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th January 2008, 17:30</div></div><div class="posttext">Yes, I have plan to update to MUI2, but I prefer finalize this version, otherwise you would have to wait a lot more!<br />
<br />
<br />
Take MUI2 need to rewrite several pages. Moreother, I am not sure that we can use the RichText and TreeView with nsDialg.<br />
<br />
<br />
For UltraModernUI 2 I would need some features:<br />
<br />
Would it be possible with nsDialg create customized messagesbox?<br />
<br />
NsDialg might also add controls on static pages?<br />
<br />
Is it possible to create a &quot;timer&quot; plugin who, at regular intervals, would call, in another thread, a nsis function?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">6th January 2008, 22:48</div></div><div class="posttext">Hi SuperPat<br />
<br />
Can you let me know if LogicLib.nsh is already included in the new UMUI.nsh please?  As I get an error when I try to compile my script.<br />
<br />
This is the order I have my included *.nsh<br />
<br />
!include &quot;UMUI.nsh&quot;<br />
!include &quot;Sections.nsh&quot;<br />
!include &quot;FileFunc.nsh&quot;<br />
!include &quot;LogicLib.nsh&quot;<br />
<br />
and this is the error<br />
<br />
!include: closed: &quot;C:\Program Files\NSIS\Include\Sections.nsh&quot;<br />
!include: &quot;C:\Program Files\NSIS\Include\FileFunc.nsh&quot;<br />
!define: &quot;FILEFUNC_INCLUDED&quot;=&quot;&quot;<br />
!include: closed: &quot;C:\Program Files\NSIS\Include\FileFunc.nsh&quot;<br />
!include: &quot;C:\Program Files\NSIS\Include\LogicLib.nsh&quot;<br />
!define: &quot;Continue&quot; already defined!<br />
!include: error in script: &quot;C:\Program Files\NSIS\Include\LogicLib.nsh&quot; on line 582<br />
<br />
I've been looking at both the UMUI.nsh and LogicLib.nsh and the error is correct, on line 61 of the UMUI.nsh you have <br />
<br />
!define CONTINUE        512    ; set by MAINTENANCE and UPDATE pages<br />
<br />
and on line 582 of the LogicLib.nsh it has the define <br />
<br />
!define Continue `!insertmacro _Goto Continue &quot;For or Do or While&quot;`<br />
<br />
I think you may have to change your Continue to something else<br />
<br />
Edit; Default is also defined in both<br />
<br />
Oh by the way thanks for the new Ultra Modern</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">7th January 2008, 09:35</div></div><div class="posttext">New build available 2008-01-07<br />
<br />
I've just corrected this incompatibility.<br />
<br />
Thanks TonyDS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">7th January 2008, 11:24</div></div><div class="posttext">Hi SuperPat <br />
Thanks a lot for the release!<br />
<br />
probably I don't need to rewrite the script for ModernUI 2 anymore :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">7th January 2008, 13:48</div></div><div class="posttext">Sorry mate but nothing has changed<br />
<br />
the date on the UMUI.NSH is still 05/01/08 18:57, I still get the same error</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">7th January 2008, 16:18</div></div><div class="posttext">Also, when I try to install &quot;UltraModernUI_1.00_2008-01-07.exe&quot; twice, the 2nd time it comes back with a &quot;NSIS2 is not installed on your computer&quot;.<br />
In fact, the first install appears to destroy any memory of the original install of the NSIS package.<br />
<br />
When I install the &quot;combined&quot; NSIS + UMUI, it erases the NSIS package, and installs only a few of the packages in NSIS, so a lot of plugins are missing!<br />
<br />
Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">7th January 2008, 17:14</div></div><div class="posttext">Also, during &quot;Install files&quot; page, when you do a &quot;Show Details&quot;, the display of the install of the files in the SysListView is &quot;jumpy&quot;.<br />
It used to be smooth, not really sure whats wrong in there...<br />
<br />
Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">7th January 2008, 18:07</div></div><div class="posttext">Hi SuperPat,<br />
<br />
Also, this thread:<br />
http://forums.winamp.com/showthread.php?s=&amp;postid=2141776#post2141776<br />
<br />
This appears to not have been added.<br />
My &quot;pre&quot; function that calls INITDIALOG still has the problem where any custom pages do not have their backgrounds drawn correctly...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">7th January 2008, 20:35</div></div><div class="posttext">Hi SuperPat,<br />
<br />
Also, The &quot;confirm&quot; page doesn't seem to correctly color the background...<br />
<br />
Attached is a pic of the problem:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">7th January 2008, 20:44</div></div><div class="posttext">For the last problem on the &quot;confirm&quot; page, the only way I have been able to resolve it, is by doing the following in the:<br />
!macro UMUI_FUNCTION_CONFIRMPAGE &quot;PRE&quot; section:<br />
<br />
    !insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;confirm.ini&quot;<br />
    Pop $1<br />
    SetCtlColors $1 &quot;&quot; &quot;${MUI_BGCOLOR}&quot;<br />
    ;fill the ini and set the color of all the controls in your page<br />
    GetDlgItem $0 $1 1200<br />
    SetCtlColors $0 ${UMUI_TEXT_COLOR} ${MUI_BGCOLOR}<br />
    GetDlgItem $0 $1 1201<br />
    SetCtlColors $0 ${UMUI_TEXT_COLOR} ${MUI_BGCOLOR}<br />
    GetDlgItem $0 $1 1202<br />
    SetCtlColors $0 ${UMUI_TEXT_COLOR} ${MUI_BGCOLOR}<br />
<br />
<br />
ie, the suggestion given at this URL:<br />
http://forums.winamp.com/showthread.php?s=&amp;postid=2141776#post2141776<br />
<br />
<br />
Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">8th January 2008, 08:56</div></div><div class="posttext">New build version 2008-01-08<br />
<br />
I've really corrected the incompatibility with logiclib.<br />
I've improve the UltraModernUI installer packages.<br />
<br />
<br />
My &quot;pre&quot; function that calls INITDIALOG still has the problem where any custom pages do not have their backgrounds drawn correctly... <br />
If you want your page will be automatically skinned you have to use the INSTALLOPTIONS_DISPLAY or INSTALLOPTIONS_DISPLAY_RETURN macros.<br />
The init dialog doesn't do this because if you set your own color into your pre function thes will be erase by the INSTALLOPTIONS_SHOW, INSTALLOPTIONS_SHOW_RETURN macros.<br />
<br />
<br />
For the confirm page, I don't know why it is not skinned because th page use the INSTALLOPTIONS_DISPLAY macro. Can you send your example script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">8th January 2008, 19:59</div></div><div class="posttext">Hi SuperPat,<br />
<br />
I will try to make a quick example script to show the problem.<br />
<br />
<br />
Also, I have found a problem with the Welcome page.<br />
It doesn't have the Welcome text in the upper part of the dialog like it used to.<br />
<br />
I am attaching 2 pics, pic1 that is from the previous version of UMUI, and pic2 that uses the new UMUI.<br />
Notice the top of the dialog...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">8th January 2008, 20:00</div></div><div class="posttext">Okay, I guess I can't do 2 attachments on the same message.<br />
Attached is the 2nd of the pics.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">8th January 2008, 21:11</div></div><div class="posttext">BTW,<br />
<br />
You fixed the &quot;CONTINUE&quot; problem by changing it to CONTINUE_SETUP<br />
<br />
But you missed the &quot;DEFAULT&quot; problem.<br />
It has the same issue.  It conflicts with the name in LogicLib.<br />
<br />
You need to change this:<br />
!define DEFAULT         0      ; Default any flag set<br />
<br />
To like &quot;DEFAULT_SETUP&quot;, like you did with &quot;CONTINUE_SETUP&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">9th January 2008, 09:10</div></div><div class="posttext">For the header texts on the welcome page, I withdraw there because they are empty in the InstallSheild intaller. Moreother, the same text was shown 3 times on the Welcome, finish, abort pages.<br />
It is not a bug.<br />
<br />
<br />
For the DEFAULT incompatibility, I will fix it tomorrow.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">10th January 2008, 09:04</div></div><div class="posttext">New build Available: 2008-01-09<br />
<br />
- Fixed incompatibility with logiclib.nsh the flag DEFAULT become DEFAULT_STATE<br />
- Fixed bug in the UMUI package which remove NSIS key from the registry + some improvements.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th January 2008, 17:36</div></div><div class="posttext">- Fixed incompatibility with logiclib.nsh the flag DEFAULT become DEFAULT_STATEYou should prefix any constants used by UMUI with UMUI_ or something similar. This way, there'd be no collisions with built-in stuff like LogicLib.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">22nd January 2008, 19:10</div></div><div class="posttext">I found 3 bugs. (in the picture with red arrow)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">22nd January 2008, 19:18</div></div><div class="posttext">You forgot to attach the image.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">22nd January 2008, 19:31</div></div><div class="posttext">I attached the image, but I don't know what happened. :(<br />
<br />
So, the image: 3bugs (http://evin.uw.hu/umui.jpg)<br />
<br />
I hope this working.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">23rd January 2008, 08:56</div></div><div class="posttext">Originally posted by evin <br />
I found 3 bugs. (in the picture with red arrow)  <br />
<br />
These are not bugs:<br />
the background are not transparent because texts were superimposed when they change.<br />
<br />
I never found how to erase texts before to be modified.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">23rd January 2008, 09:45</div></div><div class="posttext">I hope, this problem soon resolve. Then it will be perfect. :)<br />
<br />
(soon, I give you a Hungarian translation to the UMUIb2)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">23rd January 2008, 13:46</div></div><div class="posttext">If somebody has a solution to correct this problem, I am interested.<br />
<br />
Thank for translation.<br />
<br />
PS: your background image seems very sympathetic, you could perhaps send it to me to be integrated into UMUI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">23rd January 2008, 15:30</div></div><div class="posttext">I made some transparent test with UMUIb1 (long time ago), but I just replaced the BGCOLOR scripts to Transparent. Almost worked. :)<br />
<br />
The background was just a test image, to see, all text are transparented or not. I think it's very simply.<br />
<br />
Modified Blue UMUI (http://evin.uw.hu/nsis-umui_b.zip) (the free Photoshop brush attached)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ameer</div><div class="date">24th January 2008, 12:36</div></div><div class="posttext">good work, thanks. This resolved so many issues of mine.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">legcsabi</div><div class="date">30th January 2008, 12:49</div></div><div class="posttext">Hi!<br />
i would like to know how to use the new PageEx called<br />
UMUI_PAGE_FILEDISKREQUEST?<br />
<br />
I tried playing with the following commands:<br />
var vv<br />
!define UMUI_FILEDISKREQUESTPAGE_VARIABLE $vv<br />
!define UMUI_FILEDISKREQUESTPAGE_FILE<br />
!insertmacro UMUI_PAGE_FILEDISKREQUEST<br />
 but in vain, I always get a compiler error from UMUI on this line: DirVar &quot;$${UMUI_FILEDISKREQUESTPAGE_VARIABLE}&quot;<br />
<br />
Has someone a working example on this page?<br />
thx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">30th January 2008, 13:42</div></div><div class="posttext">var dir<br />
      !define UMUI_FILEDISKREQUESTPAGE_VARIABLE dir<br />
      !define UMUI_FILEDISKREQUESTPAGE_VARIABLE_FILE_TO_FOUND &quot;filetosearch&quot;<br />
      !define UMUI_FILEDISKREQUESTPAGE_FILE ;use file request<br />
    !insertmacro UMUI_PAGE_FILEDISKREQUEST</div></div><hr />


<div class="post"><div class="posttop"><div class="username">legcsabi</div><div class="date">30th January 2008, 14:40</div></div><div class="posttext">Thanks for the reply, now it is working properly. UMUI beta2 has a lot of cool features, but I also noticed a serious problem: speed. I was playing with the preset examples provided with UMUI. Testing on a Pentium Dual Core computer having 3GB memory(!) it took me around 10-15 seconds to display the serialnumber page. The frame of the page gets loaded before the setup gets frozen. If you turn everything off in Function serial_function, it won't get frozen at all.  Whenever turning a LABELEDSERIAL on (with its define), it takes longer and longer to load the page. Other pages - like the maintenance - also take a bit of time to load.<br />
Something seems to me to be broken in the example with Update page. i built the example, installed it, tried to install it again, and there was no Update page displayed. The registry keys were created properly. It should resemble Maintenance page example, which is working properly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">30th January 2008, 16:03</div></div><div class="posttext">For update page:<br />
Compile and install<br />
edit the update.nsi example and change the UMUI_VERBUILD define (or you can also wait tomorrow)<br />
Recompile and relaunch the installer<br />
the update page appear!<br />
<br />
For the execution time, I do not have any means to accelerate  it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">legcsabi</div><div class="date">31st January 2008, 16:03</div></div><div class="posttext">interesting. I changed it to the following (taken from the maintenance example):<br />
<br />
!define UMUI_VERSION &quot;1.00 beta 2&quot;<br />
  !define /date UMUI_VERBUILD &quot;1.00_%Y-%m-%d&quot;<br />
  !define UMUI_VERSION_REGISTRY_VALUENAME &quot;Version&quot;<br />
  !define UMUI_VERBUILD_REGISTRY_VALUENAME &quot;VerBuild&quot;<br />
  !define UMUI_UNINSTALLPATH_REGISTRY_VALUENAME &quot;uninstallpath&quot;<br />
  !define UMUI_INSTALLERFULLPATH_REGISTRY_VALUENAME &quot;installpath&quot;<br />
  !define UMUI_UNINSTALL_FULLPATH &quot;$INSTDIR\Uninstall.exe&quot;<br />
<br />
but nothing changed</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fboner</div><div class="date">1st February 2008, 05:49</div></div><div class="posttext">Originally posted by SuperPat <br />
<br />
If you want your page will be automatically skinned you have to use the INSTALLOPTIONS_DISPLAY or INSTALLOPTIONS_DISPLAY_RETURN macros.<br />
The init dialog doesn't do this because if you set your own color into your pre function thes will be erase by the INSTALLOPTIONS_SHOW, INSTALLOPTIONS_SHOW_RETURN macros.<br />
 <br />
<br />
Salut SuperPat,<br />
<br />
My custom pages are working fine with the INIT/SHOW approach.<br />
<br />
I have one 'standard' page, which I launch with a PRE function.  As a result the page, actually the components page, background is 'old style' grey.  Here is the code snippet:<br />
<br />
; Welcome page<br />
!insertmacro MUI_PAGE_WELCOME<br />
<br />
; Components page<br />
;!insertmacro MUI_PAGE_COMPONENTS &lt;- not used<br />
Page components oninst.CheckInstalledJRE &quot;&quot; &quot;&quot;<br />
...<br />
<br />
<br />
If I ignore the Java check and use the stock !insertmacro MUI_PAGE_COMPONENTS everything is fine.  I can't seem to find a way to do it when I launch the page in this manner:<br />
<br />
Page components preMacro &quot;&quot; &quot;&quot;<br />
<br />
Is there some way to fix this?<br />
<br />
Merci!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">1st February 2008, 08:43</div></div><div class="posttext">fboner:<br />
you need to use INSTALLOPTIONS_DISPLAY or INSTALLOPTIONS_DISPLAY_RETURN instead of INIT/SHOW<br />
<br />
and the page will be skinned automatically.<br />
<br />
<br />
legcsabi: I don't understand your problem</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fboner</div><div class="date">1st February 2008, 19:18</div></div><div class="posttext">Originally posted by SuperPat <br />
fboner:<br />
you need to use INSTALLOPTIONS_DISPLAY or INSTALLOPTIONS_DISPLAY_RETURN instead of INIT/SHOW<br />
<br />
and the page will be skinned automatically. <br />
<br />
That would be true if I were using a 'custom' page with a corresponding .INI file.  But I am not.  I am using the Components page as defined by the UMUI, but calling it in a different manner than with INSERT_MACRO_XXX.<br />
<br />
I rewrote the java function and now include it in my on.init, however, it would have been cleaner the other way around, espeically to be able to re-run the function automatically if the user backs up to the components section from a later page.<br />
<br />
Thanks for your response...and thanks for the documentation...you rock!<br />
<br />
F.<br />
<br />
PS just a thought on the flickering scroll bar during the INSTFILES phase...perhaps you could resize the scroll button fewer times, and therefore redraw the scroll bar fewer times?? My app installs over a thousand files...so the flickering is quite intense.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">9th February 2008, 15:02</div></div><div class="posttext">New build version 2008-02-09<br />
<br />
- Based on NSIS 2.35<br />
  * set default language file for MUI without changing the user setting (LANGFILE_DEFAULT and UMUI_LANGFILE_DEFAULT defines)<br />
- Fixed Bugs for the FileDiskRequest Page<br />
- Add a FileDiskRequest example<br />
- Fixed Bug with the (UN)UNIQUEIMAGE defines option. (From now, the PageBG example works fine)<br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">legcsabi</div><div class="date">10th February 2008, 11:55</div></div><div class="posttext">Hi!<br />
<br />
Thx for the new release, meanwhile I got the Update example working as well.<br />
I found a serious bug in UMUI_PAGE_MULTILANGUAGE. Compared to MUI, function .onInit gets called twice if you use this page. First before the page gets displayed and secondly if the selected language of the combobox was changed. This misbehaviour can have a side-effect, for example my script was detecting in .onInit  if it was already running, and if yes, it aborted itself. Since .onInit gets called twice, it aborted itself whenever I changed the setup language to other than the default...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">10th February 2008, 12:19</div></div><div class="posttext">In fact, when you choose an other language, the installer is reloaded:<br />
<br />
You can bypass your ckecking by adding this code in your .onInit function:<br />
<br />
Function .onInit<br />
<br />
	!insertmacro UMUI_MULTILANG_GET<br />
<br />
	!insertmacro UMUI_IF_INSTALLFLAG_ISNOT ${UMUI_LANGISSET}<br />
<br />
	; Check if installer is already lauched only the first time<br />
<br />
	!insertmacro UMUI_ENDIF_INSTALLFLAG<br />
<br />
	; Eventualy other code<br />
<br />
FunctionEnd<br />
<br />
<br />
<br />
PS: I have forgotten yesterday to add in the changelog:<br />
- All Install Flags are prfixed by UMUI_</div></div><hr />


<div class="post"><div class="posttop"><div class="username">legcsabi</div><div class="date">11th February 2008, 09:47</div></div><div class="posttext">Hi again<br />
<br />
Thx for the solution for .onInit, it works. I noticed that the new InformationPage cannot use licenselangstrings (or langstrings) instead of file names like license page. Do you know a solution to make it multilingual (to display a separate information file for each language)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">11th February 2008, 11:23</div></div><div class="posttext">You can use LangString too:<br />
<br />
  LangString FILE ${LANG_ENGLISH} &quot;English.txt&quot;<br />
  LangString FILE ${LANG_FRENCH} &quot;French.txt&quot;<br />
  !insertmacro UMUI_PAGE_INFORMATION &quot;${FILE}&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">23rd February 2008, 20:01</div></div><div class="posttext">How can I make a Custom Page, with transparented text/label field? (text reading from .ini)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">24th February 2008, 11:36</div></div><div class="posttext">Look at the NSIS\Examples\UltraModernUI\InstallOptions.nsi example</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">24th February 2008, 12:24</div></div><div class="posttext">Ok, but the Fields, are not transparented. I can't change this fact?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">24th February 2008, 16:22</div></div><div class="posttext">New build version 2008-02-24<br />
<br />
- Added Ungarian Translation (By Tom Evin)<br />
- Fixed Transparency bug in InstallOptions custom pages (See the InstallOptions.nsi example)<br />
- Added missing DIRECTORY page in the NSIS + UMUI package <br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">27th February 2008, 14:34</div></div><div class="posttext">Not Ungarian, Hungarian. ;) <br />
<br />
How can I write into MUI_HEADER_TEXT field in FinishPage?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">28th February 2008, 08:58</div></div><div class="posttext">Simply define <br />
MUI_PAGE_HEADER_TEXT and/or MUI_UNSET MUI_PAGE_HEADER_SUBTEXT<br />
before inserting the finishpage macro</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">28th February 2008, 09:27</div></div><div class="posttext">Oh, that was sooo easy.<br />
thx.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">legcsabi</div><div class="date">2nd March 2008, 15:56</div></div><div class="posttext">probably I'm a bit too new to nsis, but I cannot find out how to use Langstrings with Information page file names. <br />
<br />
I get this compiler error:<br />
File: &quot;$(FILE)&quot; -&gt; no files found.<br />
Usage: File [/nonfatal] [/a] ([/r] [/x filespec [...]] filespec [...] |<br />
   /oname=outfile one_file_only)<br />
Error in macro UMUI_FUNCTION_INFORMATIONPAGE on macroline 24<br />
Error in macro UMUI_PAGE_INFORMATION on macroline 19<br />
Error in script &quot;C:\Program Files\NSIS\Examples\UltraModernUI\Information.nsi&quot; on line 44 -- aborting creation process<br />
<br />
I tried both &quot;$(FILE)&quot;, &quot;${FILE}&quot;, &quot;$FILE&quot;. Could you post a full working example?<br />
<br />
Thx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">2nd March 2008, 21:03</div></div><div class="posttext">Indeed, we can't use LangString for include File, and of course, with the information page.<br />
<br />
I will post a working example later</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th March 2008, 13:33</div></div><div class="posttext">New build version 2008-03-05<br />
<br />
- Improved: the Information.nsi example show an information file according to the selected language<br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">legcsabi</div><div class="date">8th March 2008, 20:02</div></div><div class="posttext">Thanks, the new Information page works properly!<br />
<br />
Now I wish you could somehow solve the slowness of SerialNumber page. After a bit of googling I found this page: http://forums.winamp.com/showthread.php?postid=2051082 which indicates that using ReserveFile can improve performance.<br />
<br />
I was playing a bit with WriteINIStr, this function is called relatively frequently (7 times in UMUI_SERIALNUMBERPAGE_ADD_LABEL for instance). It only adds a value for an entry to a section in an INI file if it does not contain it, otherwise it rewrites the entry. This means that it has to scan through the whole file..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">24th March 2008, 15:10</div></div><div class="posttext">New build version 2008-03-24<br />
<br />
- Fixed: the &quot;\&quot; are replaced by &quot;\\&quot; in the confirm page because it showed a square in the place of a &quot;\n&quot;, &quot;\t&quot;... <br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">2nd April 2008, 10:36</div></div><div class="posttext">Short question:<br />
<br />
Can i use nsdialogs with UMUI?<br />
<br />
Thanks<br />
xBarns</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">2nd April 2008, 13:27</div></div><div class="posttext">UMUI was not designed to work with nsDialog.<br />
<br />
Nevertheless, You always can use nsDialg in your own custom page, bug you need to manually skin it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">3rd April 2008, 17:25</div></div><div class="posttext">Ok i changed to using InstallOptions, i just like the UMUI better. <br />
<br />
One question though i have Label that i want to color Red, when i go and use <br />
<br />
<br />
!insertmacro INSTALLOPTIONS_INITDIALOG &quot;Dialog_RetrieveLicence.ini&quot;<br />
 Pop $0<br />
ReadINIStr $R1 &quot;$PLUGINSDIR\Dialog_RetrieveLicence.ini&quot; &quot;Field 1&quot; &quot;HWND&quot;<br />
;SetCtlColors  $R1 &quot;0xFF0000&quot; &quot;transparent&quot; <br />
<br />
<br />
<br />
The text color is red, but the complete background of the dialog becomes grey.<br />
<br />
Ist that a bug or a feature or am i missing something here?<br />
<br />
Also it seems that the &quot;Welcome Page&quot; does not like $\r$\n for the title, since the german description of Welcome to.... is quite long a $\r$\n has been included but the second line is never displayed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">4th April 2008, 09:52</div></div><div class="posttext">can you send an example script showing this problem?<br />
<br />
<br />
For the problem of the welcome page, try this define:<br />
!define MUI_WELCOMEPAGE_TITLE_3LINES</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">4th April 2008, 10:54</div></div><div class="posttext">i tried the &quot;!define MUI_WELCOMEPAGE_TITLE_3LINES&quot; but somehow it didn't work, does it have to be placed somewhere special?<br />
<br />
<br />
I have attached the dialog and the contents of the function in the Zip File.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">4th April 2008, 15:17</div></div><div class="posttext">the define mustbe placed before the macro including the welcome page</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">4th April 2008, 16:14</div></div><div class="posttext">This didn't do the trick :(<br />
    <br />
!define MUI_WELCOMEPAGE_TITLE_3LINES<br />
!insertmacro MUI_PAGE_WELCOME</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">4th April 2008, 21:37</div></div><div class="posttext">send your nsi script please</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th April 2008, 15:48</div></div><div class="posttext">New build version 2008-04-06<br />
<br />
- Based on NSIS 2.36<br />
- Fixed: the InstallOptions page did not like the $\r$\n, it showed only the first line.<br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th May 2008, 14:21</div></div><div class="posttext">New build version 2008-05-05<br />
<br />
- Based on NSIS 2.37<br />
- Fixed better: the InstallOptions page did not like the $\r$\n, it showed only the first line.<br />
- Fixed: NSIS shortcut in the NSIS+UMUI package<br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">8th May 2008, 14:54</div></div><div class="posttext">I have found another bug, or probably i am just too dumb to use it.<br />
<br />
If you look at the attached images (in the .rar) for <br />
<br />
Image1.png i used<br />
<br />
!insertmacro MUI_DEFAULT MUI_BGCOLOR transparent<br />
<br />
and for Image2.png it was:<br />
<br />
!insertmacro MUI_DEFAULT MUI_BGCOLOR FFFFFF<br />
<br />
The problem as you can see with the transparent setting is that the Groupbox line shows through, if i use FFFFFF the second line under the Directory Picker has a white Background.<br />
<br />
Is it possible to have the line of the group box disappear AND to have all the labels on the page with a transparent background?<br />
<br />
Thx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">8th May 2008, 18:14</div></div><div class="posttext">Yes but it is not an UMUI bug, <br />
MUI_BGCOLOR don't work with transparency because it is not possible to hide the bar of groupbox <br />
And for the label that change like in components, directory and installfile pages, the new text is written on the top of the old text and become unreadable. <br />
<br />
Only the solution I know is to use a background image having plains colors at the position of theses labels</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DomiOh</div><div class="date">15th May 2008, 18:10</div></div><div class="posttext">Why don't you put the new version at your sourceforge-project-page? It would be much easier to find.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jiake</div><div class="date">16th May 2008, 07:07</div></div><div class="posttext">It is very good!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">16th May 2008, 08:41</div></div><div class="posttext">Because it is uncomplete</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jiake</div><div class="date">16th May 2008, 10:07</div></div><div class="posttext">I download it to try and found one problem.<br />
<br />
${LangFileString} UMUI_TEXT_SETUPTYPE_MINIMAL_TEXT &quot;Only requierd features will be installed. (Requires the less disk space)&quot;<br />
<br />
The word &quot;requierd&quot; is error.<br />
<br />
The language file is all blank except English, the others needs to translate. I just translated a Chinese one to use myself. Because my English is poor, it is not so perfect. currently I'm a student.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">17th May 2008, 00:35</div></div><div class="posttext">Originally posted by jiake <br />
I download it to try and found one problem.<br />
<br />
${LangFileString} UMUI_TEXT_SETUPTYPE_MINIMAL_TEXT &quot;Only requierd features will be installed. (Requires the less disk space)&quot;<br />
<br />
The word &quot;requierd&quot; is error. <br />
<br />
Tanks<br />
<br />
<br />
Originally posted by jiake <br />
The language file is all blank except English, the others needs to translate. I just translated a Chinese one to use myself. Because my English is poor, it is not so perfect. currently I'm a student.  <br />
English, French and Hungarian are complete,<br />
German and PortugueseBR are outdated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">19th May 2008, 14:01</div></div><div class="posttext">Czech translation is attached :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">19th May 2008, 14:28</div></div><div class="posttext">Hello Superpat<br />
<br />
Already have some schedule to relase the updated UMUI?<br />
<br />
Do you need help with some part of it?<br />
<br />
nobs</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">22nd May 2008, 21:28</div></div><div class="posttext">Hi!<br />
<br />
Apparently &quot;!define MUI_LANGDLL_ALWAYSSHOW&quot; doesn't work to force the installer to display the multilanguage page. The language selection will be skipped, if the language is stored in registry! How can I make the installer to ALWAYS show the multilanguage page? Also using a multilanguage page in an UNinstaller won't work. I get an error message as soon as I switch the language...<br />
<br />
Tested with the &quot;NSIS_2.37_UltraModernUI_1.00_2008-05-06.exe&quot; package.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">23rd May 2008, 08:43</div></div><div class="posttext">Sorry, I d'ont have implemented this define for the multilanguage pages.<br />
<br />
I will do it for the next release.<br />
while awaiting, you can remove the define UMUI_LANGUAGE_REGISTRY_VALUENAME. The language won't be save in the redistery and the page will be allaws shown.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">23rd May 2008, 12:50</div></div><div class="posttext">Yes, when I remove UMUI_LANGUAGE_REGISTRY_VALUENAME, then the multilanguage page will always be shown. But also the language won't be saved, so the previously selected language won't be selected by default. That wouldn't be a real problem, if I could use a multilanguage page in the Uninstaller. But currently I can't! Switching langauge via multilanguage page in an Uninstaller makes the installer abort with error message. Any chance for a fix?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">25th May 2008, 14:20</div></div><div class="posttext">New build version 2008-05-25<br />
<br />
- Added: New Czech translation by Pospec<br />
- Fixed: Little mistake in the English language file<br />
- Added: New UMUI_LANGUAGE_ALWAYSSHOW define that allow you to always shown the MultiLanguage page and the LangDLL Dialog (For the last one, it replace the MUI_LANGDLL_ALWAYSSHOW define) <br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">25th May 2008, 14:57</div></div><div class="posttext">Thanks a lot SuperPat! Gonna try it right now :) <br />
<br />
BTW: Did you look at MultilanguagePage + Uninstaller problem yet?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">25th May 2008, 21:45</div></div><div class="posttext">I will search a solution for this problem:<br />
<br />
When UMUI try to relaunch the uninstaller it launch the file in the directory &quot;Temp\~nsu.tmp\Au_.exe&quot; instead of in the install directory and they can't run Au_.exe directly, I need to find the right command line argument to do this</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">25th May 2008, 21:59</div></div><div class="posttext">Originally posted by SuperPat <br />
I will search a solution for this problem:<br />
<br />
When UMUI try to relaunch the uninstaller it launch the file in the directory &quot;Temp\~nsu.tmp\Au_.exe&quot; instead of in the install directory and they can't run Au_.exe directly, I need to find the right command line argument to do this  <br />
<br />
That's exactly what I though.<br />
<br />
The problem is: The original uninstaller only passes the install directory to the temporary uninstaller (e.g. Au_.exe _?=C:\Program Files (x86)\MPlayer for Windows\), not the path to the original uninstaller (e.g. Au_.exe _?=C:\Program Files (x86)\MPlayer for Windows\Uninstall.exe). I have no idea how to find out the EXE filename without passing it to the temporary installer too. But that would require re-writing parts of NSIS itself, I guess...<br />
<br />
<br />
[EDIT]<br />
<br />
Maybe you can extract the &quot;_?=&quot; option from Au_.exe's commandline somehow and then directly restart the Au_.exe by passing the correct value of &quot;_?=&quot; plus the &quot;/L&quot; option...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">25th May 2008, 22:41</div></div><div class="posttext">Another build version 2008-05-25<br />
<br />
- Fixed: Bug with the Uninstaller MultiLanguage Page<br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">25th May 2008, 23:05</div></div><div class="posttext">That was fast! Works fine :)<br />
<br />
One suggestion though:<br />
Change &quot;UMUI_DISABLED_BUTTON_TEXT_COLOR&quot; to &quot;707070&quot; for the &quot;gray&quot; Skin. You really can't distinguish disabled buttons from enabled ones otherwise...<br />
<br />
Thanks for your work :up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">26th May 2008, 10:44</div></div><div class="posttext">OK</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">26th May 2008, 11:43</div></div><div class="posttext">Sorry, found another possible problem :confused:<br />
<br />
As soon as I add this to my script:!define UMUI_COMPONENTSPAGE_REGISTRY_VALUENAME &quot;components&quot;<br />
<br />
<br />
I get the following compile error:MakeNSIS v2.37 - Copyright 1995-2008 Contributors<br />
See the file COPYING for license details.<br />
Credits can be found in the Users Manual.<br />
<br />
[...]<br />
<br />
Processing script file: &quot;Installer.nsi&quot;<br />
!include: &quot;D:\NSIS\Include\UMUI.nsh&quot;<br />
<br />
[...]<br />
<br />
!define: &quot;UMUI_PARAMS_REGISTRY_ROOT&quot;=&quot;HKLM&quot;<br />
!define: &quot;UMUI_PARAMS_REGISTRY_KEY&quot;=&quot;SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{DB9E4EAB-2717-499F-8D56-4CC8A644AB60}&quot;<br />
!define: &quot;UMUI_LANGUAGE_REGISTRY_VALUENAME&quot;=&quot;Language&quot;<br />
!define: &quot;UMUI_LANGUAGE_ALWAYSSHOW&quot;=&quot;&quot;<br />
!define: &quot;UMUI_COMPONENTSPAGE_INSTTYPE_REGISTRY_VALUENAME&quot;=&quot;insttype&quot;<br />
!define: &quot;UMUI_COMPONENTSPAGE_REGISTRY_VALUENAME&quot;=&quot;components&quot;<br />
<br />
[...]<br />
<br />
Processed 1 file, writing output:<br />
Adding plug-ins initializing function... Done!<br />
Error: resolving install function &quot;umui_components&quot; in function &quot;mui.ComponentsPre_136.5.9&quot;<br />
Note: uninstall functions must begin with &quot;un.&quot;, and install functions must not<br />
Error - aborting creation process<br />
!system: returned 1, aborting<br />
<br />
Commenting out that line and it compiles again ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">26th May 2008, 12:31</div></div><div class="posttext">In fact you have forgotten to insert the component declaration for the uninstaller<br />
<br />
!insertmacro UMUI_DECLAREUNCOMPONENTS_BEGIN<br />
.....<br />
!insertmacro UMUI_DECLAREUNCOMPONENTS_END</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">26th May 2008, 13:29</div></div><div class="posttext">Thanks again!<br />
<br />
I totally missed UMUI_DECLARE(UN)COMPONENTS in my script :o</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">31st May 2008, 19:04</div></div><div class="posttext">Hi!<br />
<br />
I got reports from several people that the buttons are not displayed under Vista. Is that a known problem of UMUI and is there any known workaround?<br />
<br />
This picture was sent to me:<br />
http://img233.imageshack.us/my.php?image=umuivistauk2.png<br />
<br />
Thanks in advance...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">31st May 2008, 20:39</div></div><div class="posttext">Hi SuperPat,<br />
After switching to MUI2 and the new nsdialog code, I have to tell you, I REALLY think you should convert to using nsdialogs instead of using InstallOptions.<br />
nsdialogs has a lot of our outstanding problems with InstallOptions and UMUI fixed.<br />
I suspect most of the pending &quot;bugs&quot; you have in UMUI will go away if you convert to nsdialogs...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">1st June 2008, 00:23</div></div><div class="posttext">I would not switch to nsDialg as long as it not be able to provide TreeView and RichText controls.  <br />
<br />
Moreother, that would imply to have to rewrite entirety the code, and it would take months... <br />
I prefer finalize the current version. <br />
And InstallOptionEx working well, nsDialog has a limited interest...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">1st June 2008, 13:36</div></div><div class="posttext">Well, I already use UMUI_USE_INSTALLOPTIONSEX, but apparently the buttons are not drawn under Vista. See screenshot in my post above...<br />
<br />
Is it possible to fix that?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">1st June 2008, 21:44</div></div><div class="posttext">This is the last bug of InstallOptionsEx (not only on vista)<br />
with transparent icons which having gray background.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">1st June 2008, 21:49</div></div><div class="posttext">Originally posted by SuperPat <br />
This is the last bug of InstallOptionsEx (not only on vista)<br />
with transparent icons which having gray background.  <br />
<br />
But this doesn't happen on XP. I've never seen it happen myself!<br />
Only some people running Vista sent bug reports to me...<br />
<br />
http://img233.imageshack.us/my.php?image=umuivistauk2.png<br />
<br />
So you are saying that using a different skin (not gray) might fix it?<br />
<br />
Thanks for reply :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">2nd June 2008, 08:42</div></div><div class="posttext">I thought that you spoke about buttons in the InstallOptionsEx pages, <br />
<br />
This problem has nothing to do with InstallOptionEx, but I never had this problem in any vista I have tested (x32, x64, RTM and SP1).<br />
<br />
Can you tell me more about your configuration, (UAC activated, user account (limited or admin...)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">2nd June 2008, 11:58</div></div><div class="posttext">Originally posted by SuperPat <br />
I thought that you spoke about buttons in the InstallOptionsEx pages, <br />
<br />
This problem has nothing to do with InstallOptionEx, but I never had this problem in any vista I have tested (x32, x64, RTM and SP1).<br />
<br />
Can you tell me more about your configuration, (UAC activated, user account (limited or admin...)  <br />
<br />
As said before: I don't use Vista. I only use WinXP and it all works perfectly fine here. Nevertheless people send bugreports to me that buttons are missing under Vista. Also the above screenshot was sent to me.<br />
<br />
Any help would be appreciated...<br />
<br />
Cheeeeeeers<br />
MuldeR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">19th June 2008, 20:41</div></div><div class="posttext">http://guerin45.free.fr/UltraModernUI/<br />
<br />
Erreur 503 - Service indisponible<br />
<br />
:cry:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">falkengott</div><div class="date">20th June 2008, 09:46</div></div><div class="posttext">Depending on the missing Buttons:<br />
<br />
I had the same on my XP when i used a NSI file that was before based on XPUI. Exactly the same &quot;non-showing&quot; buttons. Then i re-build the .nsi from scratch based on the UMUI Basic.nsi and than it works perfectly. I didn't compare the two therefore i don't know what it was. <br />
<br />
Another question: does anyone know where i can find or get the WANSIS source code that runs after compilation with VS 2005? I'm no C++ guy so i opend the VS2003 based sourcecode in VS2005, let 2005 convert, included all the SDK stuff, compiled without error but didn't run. Shows up an error in the example.nsi in .onGuInit and only tells me: wansis error: c:\......\temp\..\winamp_gen.bmp. No idea why.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">20th June 2008, 18:26</div></div><div class="posttext">I have found why:<br />
<br />
Buttons are not drawn if the XPStyle is on.<br />
<br />
The bug with some wista is due to other thing.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">20th June 2008, 18:31</div></div><div class="posttext">Originally posted by SuperPat <br />
I have found why:<br />
<br />
Buttons are not drawn if the XPStyle is on.<br />
<br />
The bug with some wista is due to other thing.  <br />
<br />
I do not  use XPStyle, but still I get reports that Buttons are not drawn. I could not reproduce that problem on my own machines so far, but I do not have a Vista machine here. Also I got reports that the installer crashes in NSISArray.dll when &quot;Custom&quot; setup is selected. Since I do not call NSISArray.dll explicitly anywhere in my installer, it must be some problem caused by UMUI. But again I cannot reproduce the problem. I only got a bugreport from a user...<br />
<br />
BTW: Your web-site is still down. Has it moved maybe?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">20th June 2008, 18:55</div></div><div class="posttext">New build version 2008-03-15<br />
<br />
- Fixed: An other mistake in English language file<br />
- Updated: NSISArray to the last version 1.8.<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999) <br />
<br />
Files are now hosted on sourceforge.net<br />
<br />
Moderators: please update the download link on the first page.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">20th June 2008, 19:16</div></div><div class="posttext">Thank you! I'll give it a try...<br />
<br />
But it's 2008-06-15 not 2008-03-15, right? ^^</div></div><hr />


<div class="post"><div class="posttop"><div class="username">falkengott</div><div class="date">20th June 2008, 19:28</div></div><div class="posttext">ok .. i got a VS2003 .. compile works.<br />
<br />
Now lets see if i can do what i want to do as non C++ guy.<br />
<br />
SuperPat: you are right .. it was XpStyle ON MY MACHINE .. i compared it meanwhile.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">falkengott</div><div class="date">7th July 2008, 09:16</div></div><div class="posttext">Could it be that i'm to stupid?<br />
<br />
How to set the StartMenuPage Background color if i have to use the alternate startmenuPage (!insertmacro UMUI_PAGE_ALTERNATIVESTARTMENU Application $STARTMENU_FOLDER) like in example startmenu.nsi?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">7th July 2008, 09:42</div></div><div class="posttext">I am not sure to understand the question.<br />
<br />
You can use the define to change the background color with UMUI:<br />
!define MUI_BGCOLOR 4C72B2</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">15th July 2008, 03:03</div></div><div class="posttext">This is the second report of a crash in NSISArray with my UMUI-based installer:<br />
http://forum.doom9.org/showpost.php?p=1159033&amp;postcount=33<br />
<br />
Since I don't use NSISArray in my own code, it must be something in UMUI's &quot;internal&quot; code or a bug in NSISArray itself. I don't know. But the crash either occurs when leaving the &quot;directory&quot; page or when creating/showing the &quot;startmenu&quot; page. Any ideas on what could be the problem?<br />
<br />
I cannot reproduce the crash on my own machine :confused:<br />
<br />
Thanks in advance :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">15th July 2008, 08:37</div></div><div class="posttext">Apparently, the bug is due to NSISArray (use in the alternative start menu page).<br />
As I am not the developper of NSISArray and as I can't reproduce this crash, I can't fix it myself.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">15th July 2008, 11:06</div></div><div class="posttext">Well, maybe the array simply overflows for some reason. That might be: Too many items (folders or shortcuts) in the startmenu directory or very long filenames. Anything like that possible? Also NSISList (http://nsis.sourceforge.net/NSISList_plug-in) might be worth a look if NSISArray fails...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">falkengott</div><div class="date">15th July 2008, 18:14</div></div><div class="posttext">Superpat: i only want to change the background color of the alternate startmenupage part (used with treeview) like<br />
<br />
MUI_LICENSEPAGE_BGCOLOR<br />
<br />
not the whole Background. <br />
<br />
I cant find a ALTERNATIVESTARTMENU_BGCOLOR (e.g.)<br />
<br />
to change the BG of the alternativestartmenupage.<br />
<br />
Please tell me where and how to set the Background of the StartMenuPage in your example StartMenu.nsi<br />
<br />
BTW: great work your UMUI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">16th July 2008, 08:42</div></div><div class="posttext">the UMUI_BGINPUTCOLOR define can skin all treeview, droplist, listbox, textinput of your installer.<br />
<br />
They are any define to skin only the startmenu treeview because the page is skinned automatically by the INSTALLOPTIONS_DISPLAY macro</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">16th July 2008, 11:22</div></div><div class="posttext">Originally posted by LoRd_MuldeR <br />
Well, maybe the array simply overflows for some reason. That might be: Too many items (folders or shortcuts) in the startmenu directory or very long filenames. Anything like that possible? Also NSISList (http://nsis.sourceforge.net/NSISList_plug-in) might be worth a look if NSISArray fails...  <br />
<br />
Sorry, an comment on this SuperPat?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">16th July 2008, 15:34</div></div><div class="posttext">Maybe, but NSISArray dynamically alloc the item  and dynamically realloc the array for new items... I will try some things.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">19th July 2008, 18:15</div></div><div class="posttext">New build version 2008-07-19<br />
<br />
- Fixed: Crash on the Alternative Start Menu page when more than seven sub-directory levels appear in the Start Menu.<br />
- Updated: NSIS to the last version 2.38.<br />
- Doc: Beginning of updated documentation.<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999)<br />
<br />
LoRd_MuldeR:<br />
The crash happened when the script tried to read items (with the NSISArray:Read function) added in the eighth lists. To corrected it, I simply limited the search of subdirectory to only 7 levels instead of eight as before. NSISArray is limited to eight lists, I did not understand why it crashed when it read items at the eighth...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">20th July 2008, 00:07</div></div><div class="posttext">Thanks for the fix, SuperPat :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">21st July 2008, 12:02</div></div><div class="posttext">Another report of buttons not showing up on Vista:<br />
<br />
Hey, wasn't sure where to bring this up so figured PM would be better, i came across abit of a strange occurance with your mplayer installer, downloaded the most upto date build and on vista x64 the back next and cancel buttons are blank, all you see is a white square.<br />
<br />
I had to guess where they were :)<br />
<br />
Lucky i got it first go, i took a screenshot if you'd like to see.<br />
<br />
Would it be possible to detect Vista and disable SkinnedButtons in that case?<br />
At least until a proper fix is found...<br />
<br />
Thanks in advance :)<br />
<br />
<br />
[EDIT]<br />
<br />
An option to disable skinned buttons (but keep the skin) would be very helpful as a temporary workaround too ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">21st July 2008, 16:31</div></div><div class="posttext">Use the define UMUI_NO_BUTTONIMAGE to disable the skin of buttons<br />
<br />
For Vista: I can't disable it because it works perfectly with all tested computers, in 32/64 bits, admin/user rights, UAC/noUAC.<br />
The only thing that I did not try is with WindowBlinds...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">21st July 2008, 16:33</div></div><div class="posttext">Originally posted by SuperPat <br />
Use the define UMUI_NO_BUTTONIMAGE to disable the skin of buttons<br />
<br />
Ahhh, thank you :) <br />
<br />
Originally posted by SuperPat <br />
For Vista: I can't disable it because it works perfectly with all tested computers, in 32/64 bits, admin/user rights, UAC/noUAC.<br />
The only thing that I did not try is with WindowBlinds...  <br />
<br />
Hmmm, I see. :confused: <br />
<br />
However I get those reports for some reason, it was not the first one...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">23rd July 2008, 23:49</div></div><div class="posttext">I got feedback from the Vista user that UMUI_NO_BUTTONIMAGE fixed the &quot;missing buttons&quot; problem on his system. He also reported the scrollbars are displayed correctly, so UMUI_NO_SCROLLBARIMAGE is not need for some reason. Unfortunately the UMUI_NO_BUTTONIMAGE define will disable the skinned buttons at compile time, for all users. I would like to trigger that on runtime, in my .onInit function. Would it be possible to implement that? Thanks...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">24th July 2008, 08:40</div></div><div class="posttext">You can use: <br />
!define MUI_CUSTOMFUNCTION_GUIINIT myGuiInit<br />
Function myGuiInit<br />
   ; If Vista<br />
   SkinnedControls::unskinit<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">24th July 2008, 13:38</div></div><div class="posttext">I will try that! Thank you :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">24th July 2008, 14:02</div></div><div class="posttext">Uhm, sorry. But calling &quot;SkinnedControls::unskinit&quot; in my MUI_CUSTOMFUNCTION_GUIINIT function will cause the installer to crash immediately...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">WebMatze</div><div class="date">1st August 2008, 17:43</div></div><div class="posttext">same problem with the buttons and Vista.<br />
I downloaded the latest version 2008.07.19 and tried to install it, all buttons are invisible and instead i only see grey squares.<br />
<br />
My OS: Windows Vista x64 SP1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">1st August 2008, 17:56</div></div><div class="posttext">You can add &quot;!define UMUI_NO_BUTTONIMAGE&quot; to workaround the problem...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">WebMatze</div><div class="date">1st August 2008, 18:47</div></div><div class="posttext">thanks for your answer, i will do it with my owner installers but i also get the poroblem with the installer of Ultramodernui... <br />
<br />
Sad for the visa users if they can't correctly install the program itself...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">9th August 2008, 16:31</div></div><div class="posttext">New build version 2008-08-09<br />
<br />
_ Fixed: The Welcome/Finish/Abort pages text use the default font size<br />
_ Added: A new define named &quot;UMUI_WELCOMEFINISHABORT_TITLE_FONTSIZE&quot; to change the font size of the Welcome/Finish/Abort pages title. By default this value is set to 12 for default pages and to 8 for the alternative pages.<br />
_ Fixed: A little more mistake in the English language file.<br />
_ Fixed: The AlternativeStartMenu page disable creation shortcut checkbox is shown even if the shellvarcontext options is disabled.<br />
_ Fixed: The UMUI_INSTALLERFULLPATH_REGISTRY_VALUENAME define that was saved with the default value even if the $INSTDIR variable is modified in the DIRECTORY page.<br />
_ Fixed: Bugs in example scripts (e.g.: Maintenance, Update...).<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">9th August 2008, 16:52</div></div><div class="posttext">Thank you for the update :)<br />
<br />
But still no fix for the Vista button problem, too bad...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">9th August 2008, 21:23</div></div><div class="posttext">I maked a test:<br />
- WinXP x86, buttons ok<br />
- WinXP x64, ?<br />
- Vista x86, buttons ok (business)<br />
- Vista x86SP1, buttons ok (ultimate)<br />
- Vista x64, ?<br />
- Vista x64SP1, no buttons (ultimate)<br />
<br />
So, i think the x64 or the SP1 for x64 is the source of the problem. (as i see, the UAC or Windowblins doesn't matter)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">10th August 2008, 12:16</div></div><div class="posttext">I have installed a Vista x64 SP1 Ultimate on my PC and I have no problems. (It was a DVD with SP1 slipstreamed by vlite)<br />
<br />
I will try to install it in a VMWare. (the RTM version and next, the SP1)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">10th August 2008, 14:13</div></div><div class="posttext">Me to(just to the testing): Vista x64, SP1 included Unlimited<br />
And i don't know why, but no buttons. :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">10th August 2008, 16:27</div></div><div class="posttext">You are right, no button with Vista x64 + SP1.<br />
Without SP1 it works.<br />
<br />
I will make a workaround that disable buttons skin if Vista x64+sp1 is detected.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">10th August 2008, 17:23</div></div><div class="posttext">That's would be great. :up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">10th August 2008, 17:28</div></div><div class="posttext">Originally posted by evin <br />
That's would be great. :up:  <br />
<br />
Yup :cool: <br />
<br />
But maybe it would be safer to disable skinned buttons for all versions of Vista x64 that are equal or newer than SP-1, since we must expect that future Service Packs will have the same problem, unless the opposite is proven...<br />
<br />
IMHO skinned buttons could be disabled completely for Vista, since I don't care about Vista as long as I don't get any error reports ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerea</div><div class="date">13th August 2008, 07:33</div></div><div class="posttext">SuperPat,<br />
<br />
I would like to bring to your attention a bug that I am experiencing.  With your latest version of UltraModernUI, if a MessageBox is displayed in a custom leave function via MUI_PAGE_CUSTOMFUNCTION_LEAVE, some of the buttons on the following screen will not be skinned.  This can be demonstrated by the attached script.  I'm not sure what's going on, but I think it's in the SkinnedButton plugin.  Is there any way you could look in to this?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">14th August 2008, 21:31</div></div><div class="posttext">I know this problem, but I do not know how to fix it...<br />
<br />
If anybody known a solution, for this problem, for buttons unskinned with InstallOptionsEx and for buttons unskinned if XPStyle at &quot;on&quot; and if you use vista x64 SP1.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">15th August 2008, 17:45</div></div><div class="posttext">New build version 2008-08-15<br />
<br />
_ Fixed: Workaround for the SkinnedControls plugin one Windows Vista x64 SP1 and more that not drawn buttons at all. (Buttons are now unskinned on this system version)<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">15th August 2008, 18:28</div></div><div class="posttext">Thanks for the update :D <br />
<br />
Just a few hours after I released an update of my installer :rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">WebMatze</div><div class="date">15th August 2008, 19:27</div></div><div class="posttext">thanks a lot!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">16th August 2008, 09:11</div></div><div class="posttext">I am on my &quot;other&quot; computer which I don't use for work. I have installed the last UMUI version.<br />
<br />
There is problem with language page:!insertmacro: UMUI_UNPAGE_MULTILANGUAGE<br />
Usage: CreateFont $(user_var: handle output)<br />
face_name [height wieght /ITALIC /UNDERLINE /STRIKE] <br />
Error in macro UMUI_FUNCTION_MULTILANGUAGEPAGE on macroline 168<br />
Error in macro UMUI_PAGE_MULTILANGUAGE on macroline 41<br />
Error in macro UMUI_UNPAGE_MULTILANGUAGE on macroline 7<br />
Error in script &quot;D:\pospec\UltraModernUI_1.00_2008-08-15\<br />
Examples\UltraModernUI\MultiLanguage.nsi&quot; on line 51<br />
 -- aborting creation process:(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">16th August 2008, 09:23</div></div><div class="posttext">It seems to be quotes problem:<br />
<br />
UMUI.nsh line 5175: CreateFont $MUI_TEMP2 &quot;$(^Font)&quot; &quot;${UMUI_WELCOMEFINISHABORT_TITLE_FONTSIZE}&quot;&quot; &quot;700&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">16th August 2008, 10:12</div></div><div class="posttext">It went wrong in UltraModernUI_1.00_2008-08-09 version. I wonder that nobody experienced this bug :weird:<br />
<br />
Sorry for three consequent posts, maybe moderator could merge them...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">16th August 2008, 12:29</div></div><div class="posttext">New build version 2008-08-16<br />
<br />
_ Fixed: Compilation bug with MultiLangage Page (Thanks pospec)<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">16th August 2008, 12:31</div></div><div class="posttext">Il n'y a pas de quoi! ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">16th August 2008, 13:50</div></div><div class="posttext">SuperPat, I got feedback from the Vista user. Your workaround seems to work :)<br />
<br />
Thanks again!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rbchasetfb</div><div class="date">9th September 2008, 21:49</div></div><div class="posttext">I have a couple of problems with password fields from installoptions ini files. <br />
<br />
First Problem:<br />
When a user types in a password field, then hits the backspace key, the carret moves back but the * characters remain. When they then type, the carret moves forward again and the * characters that were there before backspace remain until the user types past the end of them. <br />
<br />
Second problem: <br />
A user types in the field, then holds ctrl and hits home, the text is highlighted as expected, however, no matter what they type, the highlight stays and all the existing * characters remain, then behavior is like the first problem. <br />
<br />
In short, the UI for a password field does not operate as expected. It does, however, operate fine when used in a non-UltramodernUI interface. Any help here would be appreciated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">19th September 2008, 02:39</div></div><div class="posttext">I've just switched to using UltraModern UI, mainly because I want to produce a custom look and UMUI seems to handle skinning+ResHacker very well. <br />
<br />
I do have one small problem, which I've brought upon myself.  I've used ResHacker to move around the components in Dialog 105.  And I mean I've moved EVERYTHING around, especially the Header text blocks, which I've shifted down to be right above the big work area.  I've also resized the dialog.  Generally speaking, it works.<br />
<br />
My install script is just a test version of &quot;basic.nsi&quot; that comes with UMUI.  I've turned on the Welcome and Finish pages, but not customized them.  When I run the installer, everything is great until I get to the Install page.  Right before it switches to the Finish page, for a split second, the header text gets what looks like &quot;Installation Complete&quot; written on top of it, such that they both appear at the same time.  Then it switches to the Finish page.<br />
<br />
It happens so quickly that I can't do a screen capture.  Blink and you miss it.<br />
<br />
When I switch back to an unhacked UMUI, I don't get the problem, leading me to think that I've moved something -- or perhaps *failed* to move something -- so that the original header text isn't being blanked out.<br />
<br />
Another clue: If I don't have a Finish page, the behavior still happens, but the text is replaced with &quot;Installation Complete&quot; and &quot;Setup was completed successfully&quot;, which is displayed correctly.  There's still a brief flash of overwritten text.<br />
<br />
I'm guessing most (all?) developers have not experienced this problem, because hacking the UI is thankfully not the norm. :)  But I would appreciate any advice anyone may have about fixing this problem.<br />
<br />
Thanks in advance for any help or advice!<br />
<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">20th September 2008, 12:56</div></div><div class="posttext">Can you join the exe and eventualy the hacked exe so that I look</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">20th September 2008, 15:35</div></div><div class="posttext">Thanks for the reply!  How do I join them?  And how do you want me to send them to you?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">20th September 2008, 15:38</div></div><div class="posttext">with your reply on this forum</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">20th September 2008, 16:09</div></div><div class="posttext">D'ohh!  Instead of giving you my production script -- too many dependencies for you to compile -- I've given you your &quot;basic.nsi&quot; script updated with the new look.  It exhibits the same behavior, though it's right before the StartMenu page displays.  (Since on my machine that page takes a while to display.)<br />
<br />
The complete setup is included in the attached .zip.  Let me know if I've left anything important out.<br />
<br />
Thanks again for your help.  Please don't spend too long on it!<br />
<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">20th September 2008, 16:41</div></div><div class="posttext">Yopu are right, the text you seen is well:<br />
&quot;Installation Complete&quot;<br />
&quot;Setup was completed successfully.&quot;<br />
<br />
This is normal behavior of MUI. we can see it with UMUI because I have added some instructions at the end of the finish function.<br />
<br />
I will release a new version immediately.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">20th September 2008, 16:58</div></div><div class="posttext">New build version 2008-09-20<br />
<br />
_ Updated: NSIS to version 2.39<br />
_ Added: New Skin WhiteBlue<br />
_ Fixed: Reduce flicker at the end of the installation<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">20th September 2008, 16:59</div></div><div class="posttext">SuperPat, you are awesome!  Thanks for fixing it.  I will be happy to test it for you when it's available. :)<br />
<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">21st September 2008, 16:28</div></div><div class="posttext">SuperPat, another question while you're poking around in the code...  There are currently several bitmaps used in the background of the installer dialog.  (The left image, header image, bottom image and center image.)  My design doesn't have five images, just one.  For my skinning purposes, having so many images makes things harder, because I need to slice up my design into pieces.  <br />
<br />
If I were to remove four of the image resources and resize the center image to be the full height and width, will that harm anything.  Does the interface get messed up if an expected resource is missing?  (I believe I already eliminated the left image, and it seems to work, but maybe I am pushing my luck. :) )<br />
<br />
Also, I just noticed the UMUI_CUSTOM_SKIN define, which makes my skinning better, since I need to keep my skin files separate from the normal NSIS code.  I can see you really put a lot of thought into this!<br />
<br />
Thanks!<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">21st September 2008, 21:06</div></div><div class="posttext">you can use the UMUI_UNIQUEBGIMAGE define in your skin which show only the UMUI_PAGEBGIMAGE_BMP bitmap in full window.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">falkengott</div><div class="date">23rd September 2008, 16:30</div></div><div class="posttext">hm ... cant find the latest version under the download link ?????</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">23rd September 2008, 16:47</div></div><div class="posttext">Originally posted by falkengott <br />
hm ... cant find the latest version under the download link ?????  <br />
<br />
Here you go:<br />
http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">23rd September 2008, 21:38</div></div><div class="posttext">The UNIQUEBGIMAGE setting does the trick very nicely!  (And its companion setting, UNUNIQUEBGIMAGE.)  Thanks for that.  I'm really happy to discover how easy it is to create a customized installer using UltramodernUI.<br />
<br />
BTW, I tried the 9_20 version, but it still exhibits the overwriting problem on my system.  My system is particularly slow, so I suspect it's hard to see on normal systems.<br />
<br />
Anyway, thanks for the work and for trying to fix the issue!<br />
<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">falkengott</div><div class="date">25th September 2008, 12:32</div></div><div class="posttext">Oh my god .. thanks Lord.<br />
<br />
I'm so stupid .. forgot to follow the link to the UMUI<br />
(i thought i remember before it was all on one page)<br />
<br />
Seems it was to late that evening.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">theTallGuy</div><div class="date">26th September 2008, 01:55</div></div><div class="posttext">SuperPat,<br />
<br />
There's a minor &quot;bug&quot; in UMUI when its behavior is compared to MUI.  In the alternate Start Menu page (using UMUI_PAGE_ALTERNATIVESTARTMENU) if you delete the default choice in the text box you are still allowed to click Next.  In MUI, the Next button is disabled if the text box is empty.  <br />
<br />
The current behavior isn't too bad, but I must admit I prefer the way MUI works in this one case.  What would be best, actually, is if this behavior could be controlled by a !define.<br />
<br />
Thanks for listening!<br />
Michael</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">27th September 2008, 13:42</div></div><div class="posttext">Originally posted by theTallGuy <br />
There's a minor &quot;bug&quot; in UMUI when its behavior is compared to MUI.  In the alternate Start Menu page (using UMUI_PAGE_ALTERNATIVESTARTMENU) if you delete the default choice in the text box you are still allowed to click Next.  In MUI, the Next button is disabled if the text box is empty.  <br />
<br />
I will fix it.<br />
<br />
<br />
Originally posted by theTallGuy <br />
BTW, I tried the 9_20 version, but it still exhibits the overwriting problem on my system. My system is particularly slow, so I suspect it's hard to see on normal systems. <br />
<br />
If you don't want to see the text at all, you can redefine these parameters in your script:<br />
<br />
!define MUI_INSTFILESPAGE_FINISHHEADER_TEXT &quot;&quot;<br />
!define MUI_INSTFILESPAGE_FINISHHEADER_SUBTEXT &quot;&quot;<br />
!define MUI_INSTFILESPAGE_ABORTHEADER_TEXT &quot;&quot;<br />
!define MUI_INSTFILESPAGE_ABORTHEADER_SUBTEXT &quot;&quot;<br />
!insertmacro MUI_PAGE_INSTFILES</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">11th October 2008, 12:22</div></div><div class="posttext">New build version 2008-10-11<br />
<br />
_ Updated: NSIS to version 2.40<br />
_ Fixed: In the Alternate Start Menu page, if you delete the text in the text box the Next button is now disabled. (like in the original start menu page)<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">11th October 2008, 12:32</div></div><div class="posttext">Thank you, Pat :)<br />
<br />
Time for a new &quot;official&quot; release, maybe? ^^</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">11th October 2008, 13:17</div></div><div class="posttext">Originally posted by LoRd_MuldeR <br />
Time for a new &quot;official&quot; release, maybe? ^^ [/B] <br />
<br />
Not without a good documentation...<br />
And currently, I'm not motivated to do it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DomiOh</div><div class="date">17th October 2008, 21:46</div></div><div class="posttext">Sorry if this has still been asked...<br />
<br />
Does the Skinned Button Plug-In still work?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thek</div><div class="date">5th February 2009, 14:18</div></div><div class="posttext">Hello Superpat<br />
<br />
It would be nice if you add also a zip(or 7z) package to download for your latest release (UltraModernUI_1.00_2008-10-11)<br />
<br />
<br />
regards<br />
Norbert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">5th February 2009, 15:55</div></div><div class="posttext">the file exist but it is not correctly named: UltraModernUI_1.00_1.00_2008-10-11.zip<br />
<br />
<br />
Originally posted by DomiOh <br />
Does the Skinned Button Plug-In still work?  <br />
SkinnedButton is no longer supported and it was replaced by SkinnedControls in beta 2<br />
<br />
<br />
Tomorrow new bugfix release based on NSIS 2.43!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">5th February 2009, 15:59</div></div><div class="posttext">Originally posted by SuperPat <br />
Tomorrow new bugfix release based on NSIS 2.43!  <br />
<br />
Looking forward! :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th February 2009, 17:40</div></div><div class="posttext">New build version 2009-02-06<br />
<br />
_ Based on NSIS v2.43<br />
_ Fixed: Never show FinsihPage Title an SubTitle if MUI_FINISHPAGE_NOAUTOCLOSE is defined. [NSIS patch]<br />
_ Fixed: Remove some gratuitous use of non-ANSI characters that were making the Unicode patch harder to review. [NSIS patch]<br />
_ Fixed: Don't allow both &quot;reboot now&quot; and &quot;reboot later&quot; to be turned on at the same time. [NSIS patch]<br />
_ Fixed: You can call the installer with the /remove command line argument and the same things with the uninstaller and the /modify, /repair, /continue command line arguments.<br />
_ Improved: Packages installer. The Skins, BGSkins, UIs, Graphics, INI folders were deleted during the update process even if you added custom contents.<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">7th February 2009, 19:50</div></div><div class="posttext">Originally posted by SuperPat <br />
New build version 2009-02-06<br />
<br />
_ Based on NSIS v2.43<br />
_ Fixed: Never show FinsihPage Title an SubTitle if MUI_FINISHPAGE_NOAUTOCLOSE is defined. [NSIS patch]<br />
_ Fixed: Remove some gratuitous use of non-ANSI characters that were making the Unicode patch harder to review. [NSIS patch]<br />
_ Fixed: Don't allow both &quot;reboot now&quot; and &quot;reboot later&quot; to be turned on at the same time. [NSIS patch]<br />
_ Fixed: You can call the installer with the /remove command line argument and the same things with the uninstaller and the /modify, /repair, /continue command line arguments.<br />
_ Improved: Packages installer. The Skins, BGSkins, UIs, Graphics, INI folders were deleted during the update process even if you added custom contents.<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999)  <br />
<br />
Thanks. Works good :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">anandharaja</div><div class="date">6th March 2009, 12:43</div></div><div class="posttext">hello superpat<br />
<br />
i want a script for ultramodernUI serialnumber page.superpat i want to force the user to enter serial number as i provided for that package.and also i have many serial number in register.txt the package should check serial number in text file and also this register.txt should not read by user.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yvesm</div><div class="date">13th March 2009, 17:53</div></div><div class="posttext">Hi,<br />
<br />
I found out about UltraModern today and Id like to ask if what I think is right.  On the download page (http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955&amp;release_id=608330), the list shows :<br />
<br />
NSIS{version}*<br />
Ultra*<br />
<br />
The NSIS* installers will install NSIS{version} together with UltraModern and Ultra* need NSIS{version} installed.  Now as of today UltraModernUI_1.00_2009-02-06.exe is the latest version.  I already have NSIS 2.43 and when I luanch the installer it finds it all right.  Before I go on and install UltraModern, I would like to know if it can break my current NSIS install.  Im playing with MUI and MUI2 and I want to make sure adding UltraModern to the mix wont make my working environment go berserk.  Please confirm the Ultra* exe only adds files to the current NSIS install and wont affect its behaviour.<br />
<br />
TIA,<br />
<br />
Yves M oisan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">13th March 2009, 22:11</div></div><div class="posttext">I confirm you that the UltraModernUI_1.00_2009-02-06.exe does not replace any file except for the languages files that are updated if required or if you check this options</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">16th March 2009, 22:49</div></div><div class="posttext">I am trying to build a unicode setup with the latest UMUI installed, sadly i get an error saying:<br />
<br />
SkinnedControls error: __<br />
<br />
Is this known? Can i disable SkinnedControls or ist it an essential part of UMUI?<br />
<br />
Thanks for any help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">17th March 2009, 09:45</div></div><div class="posttext">You can disable skinned controls by adding:<br />
<br />
    !define UMUI_NO_BUTTONIMAGE<br />
    !define UMUI_NO_SCROLLBARIMAGE</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">17th March 2009, 13:01</div></div><div class="posttext">Perfect that did the trick, but now i have a new problem:<br />
<br />
I keep my (NS)Dialogs in seperate files for better overwiew and sharing between different setups, i map the file in like this <br />
<br />
    !include &quot;..\..\Shared Resources\NSIS Script\Dialog_GetLicenseFile.nsh&quot;<br />
<br />
when i do that with Umui i get this error: <br />
<br />
Error: no branding image found in chosen UI! Error in macro MUI_HEADER_TEXT on macroline 9 !include: error in script: &quot;..\..\Shared Resources\NSIS Script\Dialog_GetLicenseFile.nsh&quot; on line 50 Error in script &quot;LCM_Setup_Unicode2.nsi&quot; on line 54 -- aborting creation process <br />
<br />
When i copy the dialog out of the seperate file into the main setup.nsi the error goes away and it works just fine, there is a grey background (instead of the chosen green one) in that dialog but i guess i that can be adjusted somehow.<br />
<br />
Any ideas?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mrsharkbait</div><div class="date">7th April 2009, 19:50</div></div><div class="posttext">Hi SuperPat,<br />
<br />
Just want to let you and others to know that when you run the UMUI installer on Vista 64-bit, the buttons first show up, but immediately gets painted over, resulting in white spaces.  Per your post I disabled the skin controls and was able to get the buttons to display correctly.  I guess the default skin is in a different location for 64-bit Windoze.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">8th April 2009, 08:34</div></div><div class="posttext">It's strange because it work fine with me...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">anandharaja</div><div class="date">9th April 2009, 08:08</div></div><div class="posttext">hi super pat<br />
i want to insert image in description page for individual sections. how to do that, if any plug in available please tell. i asked a script for serial number page no reply from your side. see my previous post about serial page it is possible or not reply me.<br />
<br />
<br />
Thanks in advance:) :p</div></div><hr />


<div class="post"><div class="posttop"><div class="username">BarryJohnston</div><div class="date">6th May 2009, 16:20</div></div><div class="posttext">You asked for help with skins and since I'm new to NSIS and Ultra Modern UI, letting you know that the SoftGray skin has paths for SoftBlue in it is the best I can offer at the moment.<br />
<br />
Also, has anyone solved the button image issue yet?<br />
(I did use the !define UMUI_NO_BUTTONIMAGE option and that works.)<br />
<br />
Thanks,<br />
Barry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th May 2009, 17:58</div></div><div class="posttext">Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">IYIaster</div><div class="date">6th May 2009, 19:18</div></div><div class="posttext">First time seeing this today. Figured I would give it a try. Tried to load the basic test script that comes with this and got this error <br />
&quot;!include: could not find: C:\Program Files (x86)\NSIS\Contrib\Modern UI\Language files\English.nsh&quot;<br />
<br />
looks like its trying to find the language file in &quot;Modern UI\Language files\English.nsh&quot; instead of &quot;Ultra Modern UI\Language files\English.nsh&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">BarryJohnston</div><div class="date">6th May 2009, 19:59</div></div><div class="posttext">I was in the same situation today as well.  Installing beta 2 seemed to clear up the errors but there where some warnings to work through afterwards.  All the clues are further up in this thread.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">19th May 2009, 22:12</div></div><div class="posttext">Originally posted by mrsharkbait <br />
Hi SuperPat,<br />
<br />
Just want to let you and others to know that when you run the UMUI installer on Vista 64-bit, the buttons first show up, but immediately gets painted over, resulting in white spaces.  Per your post I disabled the skin controls and was able to get the buttons to display correctly.  I guess the default skin is in a different location for 64-bit Windoze.  <br />
<br />
The same problem happens on Windows 7 (tested the 64-Bit version).<br />
<br />
If I enable the &quot;skinned&quot; buttons, then there are no buttons visible at all :( <br />
<br />
Any workaround possible other than disable the &quot;skinned&quot; buttons completely?<br />
<br />
Thank you :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">20th May 2009, 00:11</div></div><div class="posttext">am fed up of seeing people complaining about the missing buttons (which aren't depending on the colour scheme and how well your monitor is setup - they are just grey blobs by default which makes them visible ;) ) so i've had a quick look at the plugin (which someone should have done ages ago rather than keep posting 'me too' replies) which does the skinning and it's due to an attempt in the code to not mis-handle link style controls from the InstallOptionsEx plugin.<br />
<br />
the attached version (includes updated SkinnedControls plugin and UMUI.nsh to replace your existing ones) i hope will rectify this and seems to work ok with the example files i threw at it (mainly IOEx based ones and the script for UltraModernUI). if it is ok then i'll clean up my changes to the source code for SuperPat to put into the distro, etc.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">20th May 2009, 00:39</div></div><div class="posttext">Thanks a lot, DrO :cool: <br />
<br />
I tried your fixed version of SkinnedControls and it seems to work much better. All the &quot;standard&quot; buttons (Next, Back, Cancel, etc) are visible and skinned now! Unfortunately the &quot;Show Details&quot; button on the install page is still missing. This is on Windows 7, RC-1, 64-Bit. Hope the remaining problem can be fixed too.<br />
<br />
[EDIT]<br />
<br />
The &quot;Show Details&quot; button is now missing on Windows XP too, so the fix broke something :confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">20th May 2009, 00:53</div></div><div class="posttext">hmm, ok. wasn't aware of the UMUI installers showing that button in the first place but then again with the button style checks i'm having to do it's not that much of a surprise. what script are you using or is there a test script that shows the issue (just need something as i'm far too rusty on my nsis coding to remember what's needed to have that button show).<br />
<br />
also at the moment i'm only working on a Vista x64 install but that should give the same results as Win7 i'd have hoped.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">20th May 2009, 00:59</div></div><div class="posttext">My script is available from my SVN:<br />
http://opensvn.csie.org/viewcvs.cgi/MPlayer/Setup/?root=mulder1984<br />
<br />
But it's a pretty big script with lot of dependencies.<br />
It will be more easy to reproduce the problem with one of the UMUI example script, I think.<br />
<br />
You can try:<br />
NSIS\Examples\UltraModernUI\Basic.nsi</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">20th May 2009, 01:04</div></div><div class="posttext">okies, will have a look into it on thursday night now (have prior commitments so won't be able to do any coding tonight now). though one non-drawn button out of all of them is better than before ;). will post back once i've had a play around with things.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">20th May 2009, 01:26</div></div><div class="posttext">Originally posted by DrO <br />
okies, will have a look into it on thursday night now (have prior commitments so won't be able to do any coding tonight now). though one non-drawn button out of all of them is better than before ;). will post back once i've had a play around with things.<br />
<br />
-daz  <br />
<br />
Thanks. Looking forward...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">21st May 2009, 23:08</div></div><div class="posttext">lets see how this one works. is a better direct fix of the first issue against the original code but it also uses the mode i implemented to handle some edge cases for some InstallOptions buttons.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">22nd May 2009, 00:28</div></div><div class="posttext">I can confirm that this versions works correctly on Windows XP (64-Bit) and Windows 7 RC-1 (64-Bit).<br />
<br />
Great work :D<br />
<br />
Now I hope that SuperPat will include the fixed version in UMUI...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">22nd May 2009, 10:52</div></div><div class="posttext">that's a relief to know it's working :)<br />
now i just need to provide the altered files that need to be included in svn for SuperPat...<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">22nd May 2009, 16:14</div></div><div class="posttext">Nice work, Thanks a lot!<br />
<br />
I will release a new version as soon as I received the fixed skinned controls source code and as soon as NSIS 2.45 will be released.<br />
<br />
Can you see why the transparent icons background are grey with the InstallOptionsEx plugins (See the InstallOptions.nsi example)? Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">22nd May 2009, 22:22</div></div><div class="posttext">see how the icon thing works with the following test build. appears to work ok from a few quick tests (was due to the icon handling not respecting transparency in the same way the bitmap loader does - will now do the same for both)<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">23rd May 2009, 11:47</div></div><div class="posttext">It works!<br />
<br />
Can I ask you why your DLLs are smaller than mine (compiled in release mode with Visual 2005)? <br />
Do you use visual studio 2008 or a particular option?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">23rd May 2009, 12:38</div></div><div class="posttext">yay :)<br />
<br />
i've been compiling them in release mode with VS2003 and changed it to not use the Win98 loading optimisation (just a habit from the other projects i work on). also the Skinned Controls one was not set to remove unused sections / comdat stuff (whereas IOex was set to do so).<br />
<br />
i'll have the altered source files uploaded probably later tonight but will leave you to alter the project files as needed (makes more sense if you're building with VS2005 rather than mess things up with the files i've got adjusted to load in VS2003).<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">23rd May 2009, 19:35</div></div><div class="posttext">SuperPat: here's the edited source files.<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">23rd May 2009, 19:38</div></div><div class="posttext">Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">13th June 2009, 17:04</div></div><div class="posttext">I noticed a serious problem with UMUI and the UAC plugin: The UAC plugin will create two processes. The &quot;outer&quot; process is running with user privileges, the &quot;inner&quot; one with elevated rights. The &quot;inner&quot; process is the actual installer, but whenever it needs to do something as the normal user (e.g. launch an application that we don't want elevated) it will ask to the &quot;outer&quot; process to do that. So far this works fine and fixed my problems.<br />
<br />
Now the UMUI problem: When UMUI changes the language, it will re-start the installer. When using UAC this means: The &quot;inner&quot; process will terminate (and re-start), the &quot;outer&quot; process will terminate after the &quot;inner&quot; has terminated. Now only the &quot;inner&quot; process (the new instance created by UMUI after language switch) is running, but the &quot;outer&quot; process is missing. Consequently all actions that needed the &quot;outer&quot; process will fail (do nothing in fact).<br />
<br />
How can I workaround that problem? Thanks in advance :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">13th June 2009, 21:20</div></div><div class="posttext">New build version 2009-06-13<br />
<br />
- Based on NSIS v2.45<br />
- Fixed: The serial number page show validation error texts if the an abort page is inserted and if you cancel the page while the fields are not filled.<br />
- Fixed: The SoftGrey Skin was show the SoftBule images<br />
<br />
SkinnedControls plugin:<br />
- Fixed: InstallOptionsEx button were not skinned (by daz)<br />
- Fixed: Vista SP1, SP2 and Seven x64 buttons were not drawn (by daz)<br />
<br />
InstallOptionsEx plugin updated to version 2.4.2b2:<br />
- Compiled with VisualStudio 2008. Smaller dll.<br />
- Added: skipValidation dll function: If a page contains fields with MinLen or MaxLen and ValidateText attributes, you can go to the next page by skipping the text validation.&lt;/li&gt;<br />
- Fixed: Memory access violation (by phalanger)<br />
- Fixed: Transparent icons had a grey background (by daz)<br />
- New: Two versions of the plugin are available: a legacy version and a version using the new NSIS plugin API.<br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">13th June 2009, 21:24</div></div><div class="posttext">Originally posted by LoRd_MuldeR <br />
Now the UMUI problem: When UMUI changes the language, it will re-start the installer. When using UAC this means: The &quot;inner&quot; process will terminate (and re-start), the &quot;outer&quot; process will terminate after the &quot;inner&quot; has terminated. Now only the &quot;inner&quot; process (the new instance created by UMUI after language switch) is running, but the &quot;outer&quot; process is missing. Consequently all actions that needed the &quot;outer&quot; process will fail (do nothing in fact).<br />
<br />
How can I workaround that problem? Thanks in advance :)  <br />
<br />
I have tried with UAC, but but I did not find any problems...<br />
The inner process has a higher privilege level too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">13th June 2009, 21:36</div></div><div class="posttext">I should add that the UAC plugin is not tested or supported on other UI's. Having said that, you could probably move the call to the UAC plugin after the language selection (I have never used the UMUI and don't know how it works)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">13th June 2009, 21:43</div></div><div class="posttext">Originally posted by Anders <br />
I should add that the UAC plugin is not tested or supported on other UI's. Having said that, you could probably move the call to the UAC plugin after the language selection (I have never used the UMUI and don't know how it works)  <br />
<br />
I don't use the UAC plugin in UltraModernUI, just the instruction in packages script:<br />
RequestExecutionLevel admin<br />
<br />
I never tested the UAC plugin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">13th June 2009, 21:59</div></div><div class="posttext">Originally posted by SuperPat <br />
I have tried with UAC, but but I did not find any problems...<br />
The inner process has a higher privilege level too.  <br />
<br />
When using the UAC Plugin (http://nsis.sourceforge.net/UAC_plug-in) only the &quot;inner&quot; process is elevated. The &quot;outer&quot; process runs with RequestExecutionLevel user. This way the &quot;inner&quot; process, while being elevated, can ask the &quot;outer&quot; one to run jobs at user level. This is required, because once a process is elevated, all processes it creates are elevated too. But this causes serious problems. If you launch a normal application with elevated rights, then Drag&amp;Drop will be disabled. And other strange things happen! So we need to be able to launch Non-elevated processes from an elevated installer. That's why the UAC Plugin is so important: It allows to run the &quot;main&quot; (inner) installer at elevated level and do the install tasks, but we can still launch user processes from the &quot;outer&quot; process.<br />
<br />
Now the problem with UMUI is that it restarts the installer, when the language is changed. When using UAC Plugin, only the &quot;inner&quot; installer will be restarted. The &quot;outer&quot; one will simply terminate! Because the &quot;outer&quot; one was waiting for the &quot;inner&quot; one and the &quot;inner&quot; one has terminated, so the &quot;outer&quot; one does too. It can't know that the &quot;inner&quot; one created a child process, just before it terminated. Well, that's the usual ExecWait behavior. As a result only the &quot;inner&quot; (elevated) installer will be running after language change in UMUI. All calls that would involve the &quot;outer&quot; installer, such as UAC::Exec will fail! That's a serious problem and it means we can't use UMUI with UAC right now.<br />
<br />
I came up with the following workaround for that:<br />
http://pastie.org/510964<br />
<br />
Any comments would be welcome :)<br />
<br />
It's really important to get UMUI working with UAC...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">13th June 2009, 23:40</div></div><div class="posttext">New build version 2009-06-14<br />
<br />
- Fixed: Problem with the UAC plugin when UMUI restart the installer.<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955&amp;release_id=608330)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">13th June 2009, 23:45</div></div><div class="posttext">Originally posted by SuperPat <br />
New build version 2009-06-14<br />
<br />
- Fixed: Problem with the UAC plugin when UMUI restart the installer.<br />
<br />
Download (http://guerin45.free.fr/UltraModernUI/)  <br />
<br />
Oh, wow. That was fast. Thanks!<br />
<br />
But your &quot;Download&quot; link redirects to an empty folder. Do I miss something? :confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">14th June 2009, 01:06</div></div><div class="posttext">Oups, very old link, sorry (last post edited):<br />
<br />
http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955&amp;release_id=608330<br />
<br />
Moderator, please can you update the link in the first post?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">14th June 2009, 01:16</div></div><div class="posttext">Ahhh, thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">logue</div><div class="date">25th June 2009, 10:29</div></div><div class="posttext">I've made Japanese language file for UMUI.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">26th June 2009, 19:48</div></div><div class="posttext">Thanks a lot</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th December 2009, 12:13</div></div><div class="posttext">New build version 2009-12-06<br />
<br />
- Based on NSIS v2.46<br />
- Added: Japanese translation (by logue)<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955&amp;release_id=608330)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">6th December 2009, 12:26</div></div><div class="posttext">It seems that the world &quot;u_l_t_r_a_m&quot; is censored in this board, so I can't post link containing these characters and and the link of my signature does not work anymore...<br />
<br />
Please, is an administrator could remove this word from the list?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">6th December 2009, 12:48</div></div><div class="posttext">SuperPat, thanks for the update :)<br />
<br />
As a temporary workaround for the link problem, you could use:<br />
http://*******.com/<br />
<br />
EDIT: Arrgh, T.I.N.Y_U.R.L is censored as well :cry:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">forge</div><div class="date">7th December 2009, 07:53</div></div><div class="posttext">found unhandled register $4 in MUI_FUNCTION_INSTFILESPAGE macro <br />
<br />
System::Call &quot;user32::InvalidateRect(i,i,i)i (r8, 0, 1).r4&quot;<br />
<br />
r4 =&gt; $4 data lost after this Call or it should be like that ???<br />
<br />
Attach:  Polish version language file for UMUI<br />
<br />
Good Job M8</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">20th December 2009, 14:49</div></div><div class="posttext">New build version 2009-12-20<br />
<br />
- Fixed: Unhandled register $4 in MUI_FUNCTION_INSTFILESPAGE macro <br />
- Added: Polish translation (by forge)<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955&amp;release_id=608330)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">22nd December 2009, 01:37</div></div><div class="posttext">Thanks :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">25th December 2009, 13:48</div></div><div class="posttext">New build version 2009-12-25<br />
<br />
- Fixed: the UMUI_ADDITIONALTASKS_IF_NOT_CKECKED macro does not work<br />
- Fixed: If you use the Abort Instruction in the alternative start menu custom leave function, the pas was not displayed<br />
- The Context radio buttons of the alternative start menu page are disabled if the installer doe not have administrator rights (Start menu shortcuts can only be created for current user).<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955&amp;release_id=608330)<br />
<br />
Merry Christmas!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">25th December 2009, 14:24</div></div><div class="posttext">SuperPat, can you compile UMUI installers with nsis-2.46-strlen_8192.zip ???<br />
<br />
It always crashes on me. I tried NSIS 2.45 and NSIS 2.46 ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HSorgYves</div><div class="date">25th December 2009, 17:48</div></div><div class="posttext">WOW, very quick release! Most problems reported yesterday (!!!) have already been fixed. Using UMUI was the right choice...<br />
<br />
Keep on the good work!<br />
<br />
Best Regards,<br />
Yves</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">26th December 2009, 12:08</div></div><div class="posttext">Originally posted by LoRd_MuldeR <br />
SuperPat, can you compile UMUI installers with nsis-2.46-strlen_8192.zip ???<br />
<br />
It always crashes on me. I tried NSIS 2.45 and NSIS 2.46 ... <br />
<br />
UMUI was developed to run with the normal version of NSIS.<br />
<br />
Can you send me an example script that crash?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">26th December 2009, 13:04</div></div><div class="posttext">Originally posted by SuperPat <br />
UMUI was developed to run with the normal version of NSIS.<br />
<br />
Can you send me an example script that crash?  <br />
<br />
Yes, of course. But it's a pretty complex script:<br />
http://code.google.com/p/mulder/source/browse/#svn/trunk/MPlayer/Setup<br />
<br />
No idea what exactly triggers the crash, but it's always at the same line :confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">26th December 2009, 15:44</div></div><div class="posttext">can you send the error log?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">26th December 2009, 18:52</div></div><div class="posttext">Sure. Here we go:<br />
http://i47.tinypic.com/2s0og05.png<br />
<br />
The log:<br />
http://www.mediafire.com/file/htzmjfydzod/UMUI_Crash_Log.txt.bz2</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">2nd January 2010, 21:27</div></div><div class="posttext">Originally posted by LoRd_MuldeR <br />
SuperPat, can you compile UMUI installers with nsis-2.46-strlen_8192.zip ???<br />
<br />
It always crashes on me. I tried NSIS 2.45 and NSIS 2.46 ... <br />
<br />
It seem that UMUI won't compile with the large string version. NSIS crash...<br />
<br />
More info:<br />
http://forums.winamp.com/showthread.php?s=&amp;postid=2613197</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Alfaromeo</div><div class="date">26th March 2010, 07:43</div></div><div class="posttext">Superpat,<br />
<br />
I remember there was an issue with changing text color on the dialogs using UMUI_TExt_LIGHTCOLOR . Was this fixed ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">26th March 2010, 14:50</div></div><div class="posttext">Superpat,<br />
<br />
I remember there was an issue with changing text color on the dialogs using UMUI_TExt_LIGHTCOLOR . Was this fixed ?<br />
<br />
I was not aware there was a problem with this define but it seems to work correctly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Alfaromeo</div><div class="date">20th April 2010, 08:51</div></div><div class="posttext">Superpat,<br />
<br />
I get a black background around the license page checkbox using the below code in my script , using the UMUI latest version.<br />
<br />
!define UMUI_UNIQUEBGIMAGE<br />
!define UMUI_UNUNIQUEBGIMAGE<br />
<br />
!define UMUI_PAGEBGIMAGE<br />
!define UMUI_UNPAGEBGIMAGE<br />
<br />
!define UMUI_PAGEBGIMAGE_BMP &quot;Path to BMP file&quot;<br />
<br />
Please explain</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Alfaromeo</div><div class="date">21st April 2010, 09:47</div></div><div class="posttext">Anybody ? I'm getting these black backgrounds on all radio buttons and checkboxes when I use XPStyle On.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">21st April 2010, 09:53</div></div><div class="posttext">I get a black background around the license page checkbox using the below code in my script , using the UMUI latest version.<br />
<br />
!define UMUI_UNIQUEBGIMAGE<br />
!define UMUI_UNUNIQUEBGIMAGE<br />
<br />
!define UMUI_PAGEBGIMAGE<br />
!define UMUI_UNPAGEBGIMAGE<br />
<br />
!define UMUI_PAGEBGIMAGE_BMP &quot;Path to BMP file&quot;<br />
<br />
I can not reproduce this problem</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Alfaromeo</div><div class="date">21st April 2010, 10:26</div></div><div class="posttext">Please find this working example for your reference<br />
<br />
<br />
SetCompressor LZMA<br />
!include UMUI.nsh<br />
<br />
!define UMUI_TEXT_COLOR &quot;000000&quot;<br />
!define MUI_BGCOLOR &quot;d9dbdc&quot;<br />
!define UMUI_TEXT_INPUTCOLOR 003366<br />
!define UMUI_UNIQUEBGIMAGE<br />
!define UMUI_UNUNIQUEBGIMAGE<br />
<br />
!define UMUI_PAGEBGIMAGE<br />
!define UMUI_UNPAGEBGIMAGE<br />
<br />
!define UMUI_PAGEBGIMAGE_BMP &quot;Path to BMP file&quot;<br />
<br />
LicenseForceSelection checkbox<br />
OutFile &quot;test.exe&quot;<br />
<br />
!insertmacro MUI_PAGE_LICENSE &quot;Path to license file&quot;<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
XPStyle On<br />
<br />
Section Main<br />
SectionEnd<br />
<br />
<br />
Please have XP theme enabled before testing the above script</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Alfaromeo</div><div class="date">22nd April 2010, 11:40</div></div><div class="posttext">Were you able to reproduce this problem ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">28th April 2010, 09:07</div></div><div class="posttext">With XPStyle On, the SetCtlColors instruction is ignored on static pages radio buttons and checkboxes.<br />
<br />
You need to remove the XPStyle  instruction or the MUI_LICENSEPAGE_CHECKBOX define.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Alfaromeo</div><div class="date">6th May 2010, 14:30</div></div><div class="posttext">Never mind , I turned the XPStyle off for now .<br />
<br />
I have a requirement now to bypass the UMUI Update page and show the license page . <br />
My sequence of dialogs are<br />
<br />
Welcome -&gt; License -&gt; Directory -&gt; install files- &gt; finish<br />
<br />
On upgrade , I need to show the License -&gt; installfiles -&gt; Finish<br />
<br />
I tried to have a condition in the Welcome show function which detect the version and on being higher I navigate to License Page . But somehow the installation seems very slow and erroneous in this sequence .<br />
Is this the right way to skip the update page ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Alfaromeo</div><div class="date">7th May 2010, 01:55</div></div><div class="posttext">Any suggestions</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">7th May 2010, 21:38</div></div><div class="posttext">You can use the UMUI install flags:<br />
<br />
For example, in your onInit function you can set the flag:<br />
<br />
!insertmacro UMUI_SET_INSTALLFLAG ${UMUI_UPDATE}<br />
<br />
The welcome and directory pages are aborted by this flag.<br />
<br />
The license Page is also aborted by this flag but you can override this behavior by defining:<br />
<br />
  !define UMUI_ABORT_IF_INSTALLFLAG_IS ${UMUI_CANCELLED}<br />
!insertmacro MUI_PAGE_WELCOME</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">2nd June 2010, 13:13</div></div><div class="posttext">I have a little problem. I tried to use the TaskbarProcess (http://nsis.sourceforge.net/TaskbarProgress_plug-in) plugin, but it doesn't work with UMUI, because this use the PageCallbacks [show_function] of the install page, which isn't in the UMUI. There is any other option, using this plugin in UMUI?<br />
THX</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">2nd June 2010, 13:20</div></div><div class="posttext">use the MUI_PAGE_CUSTOMFUNCTION_SHOW macro to define the callback function<br />
(See the UMUI manual: http://******odernui.sourceforge.net/Readme.php#customFunctions)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evin</div><div class="date">2nd June 2010, 17:19</div></div><div class="posttext">And works. :up:<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">1st August 2010, 18:19</div></div><div class="posttext">Sorry for the long time since the last build :confused:<br />
<br />
New build version 2010-08-01<br />
<br />
- Updated: NSISArray plugin to version 2.4 that using the new API version. The old version 2.2 of the DLL plugin, using the old API, is kept for user having NSIS versions prior to 2.42.<br />
- Modified: UMUI installers now install the new API version of the InstallOptionsEx plugin instead of the legacy version for user having NSIS versions 2.42 or later.<br />
- Added: Configuration define in the Include\UMUI.nsh and Include\MUIEx.nsh files to choose if UMUI need to use the old API version.<br />
- Fixed: Missing installing two files (exdll-vs2008.sln, exdll-vs2008.vcproj in examples\plugin directory) in the NSIS+UMUI package.<br />
- Fixed: Warning in the confirm page if UMUI_CONFIRMPAGE_TEXTBOX is not defined.<br />
- Added: The information page now support natively multiple translated information files. See the Information.nsi example for details.<br />
- Fixed: The last two characters of the last line of text files where dropped in information pages.<br />
- Optimization: UMUI use the $EXEPATH variable instead of the System plugin to find the installer full path. Consequently, UMUI is now compatible with NSIS 2.26 at least.<br />
<br />
TODO:<br />
- If (components, installdir...) pages are aborted because the user choose the minimal, standard or complete option in the install type page, their default properties will be saved in the registry.<br />
- Add support for the large string version of NSIS.<br />
- Create an Unicode version of Ultra Modern UI and its plugins compatible with the incoming version of NSIS.<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955&amp;release_id=608330)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SuperPat</div><div class="date">11th November 2010, 16:26</div></div><div class="posttext">New build version 2010-11-11<br />
<br />
- Fixed: Bug withthe LangDLL plugin that showed bad languages list when the MUI_LANGDLL_ALLLANGUAGES option was not used. <br />
<br />
TODO:<br />
- Fix: If (components, installdir...) pages are aborted because the user choose the minimal, standard or complete option in the install type page, their default properties will be saved in the registry.<br />
- Add: support for the large string version of NSIS.<br />
- Create an Unicode version of Ultra Modern UI and its plugins compatible with the incoming version of NSIS.<br />
- Improve: The documentation is outdated and the SkinnedControls plugin documentation is non-existant. So you can see examples to see all properties.<br />
- Improve: Need to rewrite one of the macros managing &quot;UMUI Flags&quot; (It allows, among other things, what options were chosen in the different pages ...).<br />
<br />
Download (http://sourceforge.net/project/showfiles.php?group_id=146999&amp;package_id=161955&amp;release_id=608330)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tallmaris</div><div class="date">12th January 2011, 10:42</div></div><div class="posttext">Hi SuperPat,<br />
<br />
I'm trying to use the UMUI for a MultiLanguage installer. What I found is that if I try to add Russian in my installer all I get is garbage in the interface. I tried compiling using unicode-NSIS but this seems to break the SkinnedControls plugin (I get an error with a message in Chinese and I get no language selection box). I also tried with the example provided but I have the same problem.<br />
<br />
I reckon I have two options here:<br />
1) Do not show Russian if the codepage is not compatible<br />
2) Make SkinnedControls work with Unicode<br />
<br />
Do you have an idea on both those solutions and what would be the correct way to proceed? <br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DrO</div><div class="date">12th January 2011, 11:56</div></div><div class="posttext">TODO:<br />
- Create an Unicode version of Ultra Modern UI and its plugins compatible with the incoming version of NSIS.Tallmaris: that's on the todo list from the last (and previous changlogs) so until SuperPat / someone else sorts it out then you're going to keep having the issue you are seeing i believe (though the code for the plug-in should be available so you could compile a version yourself if needed).<br />
<br />
-daz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tallmaris</div><div class="date">13th January 2011, 09:55</div></div><div class="posttext">HI there,<br />
<br />
Sorry I had to read the TODO list before posting... Anyway, I went the hard way (not that hard once you know what to do but I'm pretty noob in C++) and recompiled the SkinnedControls plugin. I have attached the source code and the compiled dll (it is in the plugins folder) for anyone wanting to give it a shot.<br />
<br />
The problem I have now is that the UI_PAGE_MULTILANGUAGE is not appearing, probably because I am using InstallOptionsEx which again is not Unicode. I'll see what I can do with it (I'm afraid I don't have the source code tho) or maybe switch to InstallOptions and get rid of the TreeView view in the StartMenu page.<br />
<br />
Anyway, enjoy the Unicode SkinnedControls (provided &quot;as-is&quot; with no warranty etc. etc.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tallmaris</div><div class="date">13th January 2011, 11:15</div></div><div class="posttext">Well, NSIS Array is Unicode and using InstallOptions unicode also works. I'm almost getting there except for one thing, the Russian name of the language instead of being &quot;&quot; is all &quot;???????&quot; and also the Welcome page/start menu page and Finish page is all ????? while other pages and buttons work fine... (missing translation?)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tallmaris</div><div class="date">13th January 2011, 14:51</div></div><div class="posttext">OK!<br />
<br />
For whoever is interested I managed to fix this as well. The solution is to convert all the INI files present in $NSISDIR\Contrib\******odernUI\Ini\ to UTF-16LE (You can do this with Notepad++). That way, WriteIniStr can detect the encoding and write a proper string that can appear no problem.<br />
<br />
To recap, to get UMUI working with Unicode:<br />
1) Get the SkinnedControls.dll compiled for Unicode (posted a couple of posts above)<br />
2) Get the NSISArray.dll comiled for Unicode (thanks to afrowuk: http://www.afrowuk.co.uk/)<br />
3) DO NOT define UMUI_USE_INSTALLOPTIONSEX (At least until we get InstallOptionsEx compiled for Unicode, will work on that as well!). That means you can't use the TreeVIew in the AlternativeStartMenu page.<br />
4) Convert all the INI files from UMUI from ANSI to UTF-16LE<br />
<br />
I have tested this only on my Win7 machine so as usual anything can break on any other PC but at least now it's working fine.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tallmaris</div><div class="date">17th January 2011, 16:32</div></div><div class="posttext">I DID IT!<br />
<br />
Well, partially. But anyway here is the InstallOptionsEx plugin working in Unicode. The RichText fields are not working because the creation function was too complex and I really had no time to go over it (and the various fread, fopen and fseek).<br />
<br />
Anyway it works for my installer and with the UMUI interface... probably still need to solve a problem with the treeview StartMenu page but for the time being everything else works.<br />
<br />
Hope you enjoy it!<br />
<br />
Some more details are on my blog: http://tallmaris.wordpress.com/2011/01/17/nsis-installer-unicode-and-the-******odern-interface/<br />
<br />
Regards,<br />
Leandro Tramma</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Tallmaris</div><div class="date">18th January 2011, 12:39</div></div><div class="posttext">Also the last obstacle with the Treeview StartMenu page has been overcome. It needed replacing the FileRead and FileWrite functions with the corresponding FileReadUTF16LE and FileWriteUTF16LE in Unicode NSIS.<br />
<br />
Feel free to download the amended .nsh file (zipped) and please let me know any problems you may find. I don't know how much time I'll have to support this but I'll do my best.<br />
<br />
Regards.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">23rd March 2011, 09:00</div></div><div class="posttext">HI there,<br />
<br />
Sorry I had to read the TODO list before posting... Anyway, I went the hard way (not that hard once you know what to do but I'm pretty noob in C++) and recompiled the SkinnedControls plugin. I have attached the source code and the compiled dll (it is in the plugins folder) for anyone wanting to give it a shot.<br />
<br />
The problem I have now is that the UI_PAGE_MULTILANGUAGE is not appearing, probably because I am using InstallOptionsEx which again is not Unicode. I'll see what I can do with it (I'm afraid I don't have the source code tho) or maybe switch to InstallOptions and get rid of the TreeView view in the StartMenu page.<br />
<br />
Anyway, enjoy the Unicode SkinnedControls (provided &quot;as-is&quot; with no warranty etc. etc.)<br />
<br />
I made wiki page for SkinnedControls plugin http://nsis.sourceforge.net/SkinnedControls_plug-in, if you change something in the code, please mentioned it there too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ripper17</div><div class="date">18th May 2011, 10:03</div></div><div class="posttext">I already read the thread, but still am confused:<br />
When using &quot;XpStyle on&quot; - the Show Details button is not showing. Should this be fixed with a current snapshot from sourceforge or is this still a known issue? Any way of getting around it other than turning XpStyle off?<br />
<br />
Thanks for an awesome UMUI!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Alfaromeo</div><div class="date">13th August 2011, 04:26</div></div><div class="posttext">I have been using this UI a lot.<br />
We use uniquebgimage with pagebgimage to display a background<br />
Image in the dialogs.<br />
However, in the license dialog if you highlight some text<br />
In the eula and overlap the dialog with some other open <br />
Windows like notepad , then when the focus returns<br />
Back , the eula text box seems invisible.only when you<br />
Highlight with mouse could I see the box.<br />
Is this a bug or an paint issue?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">logue</div><div class="date">26th October 2011, 12:52</div></div><div class="posttext">I made a collection of things related UMUI installer for NSIS Unicode version came out in the topic.<br />
http://dl.dropbox.com/u/40510768/NSIS_Unicode_2.46.3_UltraModernUI_1.00_2011-10-25.exe<br />
<br />
Such Infomation.nsh, there are many such examples do not work properly...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">18th October 2013, 06:31</div></div><div class="posttext">Is it possible to use UMUI together with the latest NSIS V3.0a1?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">21st October 2013, 08:59</div></div><div class="posttext">One more question. Can I create (and how) my own dialogs (based on the existing ones) when I'm using UMUI? I have done this with MUI2, but now I can't the code that generates these new dialogs. For example I need a special FINISH-dialog which is slightly different that the original one.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>