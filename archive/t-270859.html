<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem reading a textbox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem reading a textbox NSIS Discussion" />
	
	<title> Problem reading a textbox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem reading a textbox</div>
<hr />
<div class="pda"><a href="t-270859.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=270859">Problem reading a textbox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kgobel</div><div class="date">8th May 2007, 20:47</div></div><div class="posttext">I know this is an easy question that I probably shouldn't even be asking...but...I'm having trouble reading the input that a user puts in a textbox.  I feel I must not understand really how it works.  (Yes I can look at the test.ini and see how that works, I copy it almost directly, but don't see what part i'm missing)<br />
<br />
I have a custom Page with a show funtion, and a leave function...which are below..(it's not PHP but I thought it looked nicer)<br />
<br />
<br />
My Show Function<br />
<br />
Function RegEnter<br />
  !insertmacro XPUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  !insertmacro XPUI_INSTALLOPTIONS_DISPLAY &quot;REG.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
<br />
My Leave Function<br />
<br />
Function RegLeave<br />
ReadINIStr ${varInput} &quot;REG.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
MessageBox MB_OK ${varInput}<br />
FunctionEnd<br />
<br />
<br />
Now...it was my understanding that it should work with just about this and only this...but...my message box will give me a blank box everytime.  What is all required to read text from a textbox?...Why is ReadINIStr returning an empty string?<br />
<br />
Thank You<br />
Kyle</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kgobel</div><div class="date">8th May 2007, 21:00</div></div><div class="posttext">Ok, I got it to work by simply chainging this line<br />
<br />
<br />
ReadINIStr ${varInput} &quot;REG.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
<br />
to<br />
<br />
ReadINIStr ${varInput} &quot;$PLUGINSDIR\REG.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
<br />
<br />
Does anyone know why that would fix it?  I'm guessing $PLUGINSDIR is just a variable that holds the location of the NSIS Plugins Directory?...I don't know why this would be needed when everything is in the same directory...what is the default location that it looks in?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">8th May 2007, 23:58</div></div><div class="posttext">$PLUGINSDIR is a directory created in the user's temp folder at runtime.<br />
<br />
Pages are usually extracted to this location.<br />
<br />
If you say just read the ini file (without the $PLUGINSDIR), then it will try to read it from whatever the current directory is set to (which is usually $EXEDIR).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">9th May 2007, 11:34</div></div><div class="posttext">You should have used XPUI_INSTALLOPTIONS_READ ${varInput} &quot;REG.ini&quot; ...<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>