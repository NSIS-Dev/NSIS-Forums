<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CustomPage with input from &quot;type=text&quot;, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CustomPage with input from &quot;type=text&quot; NSIS Discussion" />
	
	<title> CustomPage with input from &quot;type=text&quot; [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CustomPage with input from &quot;type=text&quot;</div>
<hr />
<div class="pda"><a href="t-129518.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=129518">CustomPage with input from &quot;type=text&quot;</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">23rd March 2003, 23:38</div></div><div class="posttext">Again me -<br />
<br />
After successfully working with 'RadioButtons' and 'CheckBoxes' on CustomPages, I need some help on 'Type=text'<br />
<br />
What I am looking for is a description on how the input is written down e.g.<br />
[Field n] <br />
Type=text<br />
Left=...<br />
Right=...<br />
Top=...<br />
Bottom=...<br />
State=123<br />
<br />
The value from the 'state' (I take this as default value and as an example for users, if they don't know what they should type) should be written down to a file with the good old search and replace-function. So the 'state' value should replace a placeholder in a ascii-file.<br />
<br />
The other question is:<br />
There must be a value given back, even when the user clears the input.<br />
(see attached image). How can this be achieved?<br />
<br />
Thx in advance<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">24th March 2003, 00:03</div></div><div class="posttext">Originally posted by Mosestycoon <br />
There must be a value given back, even when the user clears the input. How can this be achieved?<br />
<br />
Thx in advance<br />
Chris  <br />
<br />
Use:<br />
<br />
<br />
;Read the old value<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_READ $0 &quot;inifile.ini&quot; &quot;Field #&quot; &quot;State&quot;<br />
<br />
;Show the page<br />
<br />
!insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;inifile.ini&quot;<br />
<br />
;Read the new value<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_READ $1 &quot;inifile.ini&quot; &quot;Field #&quot; &quot;State&quot;<br />
<br />
StrCmp $1 &quot;&quot; 0 End<br />
<br />
  ;If the user delete the state, write the old value...<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;inifile.ini&quot; &quot;Field #&quot; &quot;State&quot; &quot;$0&quot;<br />
<br />
End:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">24th March 2003, 00:13</div></div><div class="posttext">I'll give it a try deguix<br />
<br />
Thx <br />
Chris<br />
<br />
P.S.: I won't reply for now, because its 1:10 am and I'll go to bed. (Even cigaretts don't make me fit anymore and I feel like :igor: ) <br />
So tomorrow (or better said in a few hours) I'll give it a try and post the result.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">24th March 2003, 01:50</div></div><div class="posttext">In the NSIS Archives there is an article called &quot;Complex validating of InstallOptions user input&quot; which shows how to access data entered by the user.<br />
<br />
The article can be found at<br />
http://nsis.sourceforge.net/archive/nsisweb.php?page=77&amp;instances=0,64<br />
<br />
If you want to prevent the user from clearing the text box, you could use MinLen and ValidateText in the INI file (see the InstallOptions manual for details). If the user clears all the text, InstallOptions will display a message box containing the text from ValidateText.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">24th March 2003, 07:19</div></div><div class="posttext">In this case not Pengyou, he wants to return the default value (the old state of the control) if the user delete the value and click next &gt;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">24th March 2003, 07:58</div></div><div class="posttext">That's right deguix.<br />
 <br />
First time the user reaches the CustomPage, several 'default' values are given. The user can accept these values (in this case the 'default' values are given back and written to an ascii-file).<br />
If the user enters some other values, the new ones should be written to that file. If the user deletes one (or even more) the default values should be written.<br />
<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">24th March 2003, 11:57</div></div><div class="posttext">You don't need to use search &amp; replace, use the MUI_INSTALLOPTIONS_WRITE macro.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">24th March 2003, 12:43</div></div><div class="posttext">Joost -<br />
<br />
&quot;Ich verstehe im Moment nur Bahnhof!&quot;<br />
<br />
So if I get back the value from a &quot;type=text&quot; field how can I replace a default value in an ascii-file?<br />
<br />
e.g.:<br />
-----ascii-file-before----<br />
<br />
....(more lines before)...<br />
<br />
@@ServerName@@<br />
<br />
....(more lines behind)...<br />
<br />
-------------------<br />
This is the written down value awaiting a new value given back with &quot;type=text&quot;. If the user writes www.acme.tld the result should look like this<br />
<br />
-----ascii-file-afterwards----<br />
<br />
....(more lines before)...<br />
<br />
ServerName www.acme.tld<br />
<br />
....(more lines behind)...<br />
<br />
-------------------<br />
<br />
Understood what I mean?<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">24th March 2003, 14:31</div></div><div class="posttext">Never mind, I thought you were talking about an INI file. Just use the search &amp; replace function :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>