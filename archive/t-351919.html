<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Listing installer contents, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Listing installer contents NSIS Discussion" />
	
	<title> Listing installer contents [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Listing installer contents</div>
<hr />
<div class="pda"><a href="t-351919.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=351919">Listing installer contents</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">thammr</div><div class="date">13th November 2012, 12:29</div></div><div class="posttext">I want to obtain a listing of the contents of installers that I create (zlib compression) so that I can verify and record the contents (contents are dynamically determined at compile time).<br />
Currently I do this manually using 7-zip which handles NSIS installers very well. Winzip on the other hand doesn't support the format. <br />
However, I want to do this from a Java program. Can anyone give me a pointer to decoding NSIS installers using java.util.zip.* (assuming that's possible)? Alternatively, is there documentation on the NSIS installer file format?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">13th November 2012, 17:10</div></div><div class="posttext">This is not an answer to your question, but have you considered making a list during compilation? You can use !tempfile, then !appendfile, and at the end do !system 'copy &quot;${TheTempFile}&quot; &quot;${__FILEDIR__}\FileLog.txt&quot;' or something like that. Or if you want to use File /r or wildcards, you could make an NSIS executable that gets executed during compiletime (using !execute command), and generates a file list for you.<br />
<br />
For even more advanced stuff, you could generate a second .nsi file during compiletime, and compile that and execute during compiletime. The sky's the limit.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">thammr</div><div class="date">14th November 2012, 08:17</div></div><div class="posttext">No, I hadn't thought of that. Its a possible solution.<br />
I would still prefer to actually examine the installer contents. But if I can't make any progress there, I'll consider generating the required listings during compilation.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">14th November 2012, 15:39</div></div><div class="posttext">Future NSIS builds may contain a compiletime function to enumerate files on the compiling system, specifically for generating file lists etc. No idea when this functionality will appear in trunk, though. Anders might have an idea... *cough*</div></div><hr />


<div class="post"><div class="posttop"><div class="username">niteflyer</div><div class="date">19th November 2012, 15:11</div></div><div class="posttext">In case you are able and willing to unpack your installer: did you play with http://nsis.sourceforge.net/NfUtils_header_file#nfu.ProcessStdSwitches ?<br />
This will enable you to extract your files with a commandline-switch (/x) without actually running the installer's script. <br />
<br />
nfUtils.exe itself supports this switch for demo-purposes (see also nfutils.exe /?), see http://nsis.sourceforge.net/NfUtils_header_file#Links<br />
<br />
Be sure to use http://nsis.sourceforge.net/NfUtils_header_file#nfu..21AddFile instad of the FILE-instruction in your installer script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">20th November 2012, 00:45</div></div><div class="posttext">I want to obtain a listing of the contents of installers that I create (zlib compression) so that I can verify and record the contents (contents are dynamically determined at compile time).<br />
Currently I do this manually using 7-zip which handles NSIS installers very well. Winzip on the other hand doesn't support the format. <br />
However, I want to do this from a Java program. Can anyone give me a pointer to decoding NSIS installers using java.util.zip.* (assuming that's possible)? Alternatively, is there documentation on the NSIS installer file format?<br />
<br />
7-Zip has a command-line version and can write its output to the STDOUT, Java can run external applications and capture the STDOUT. So where is the problem? Sure, you Java app won't be platform-independant anymore, as soon as you call external apps. But on the other hand, you can get 7-Zip for all relevant platforms, so this shouldn't be a real issue...<br />
<br />
See also:<br />
http://www.rgagnon.com/javadetails/java-0014.html</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>