<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Uninstaller error levels, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Uninstaller error levels NSIS Discussion" />
	
	<title> Uninstaller error levels [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Uninstaller error levels</div>
<hr />
<div class="pda"><a href="t-263462.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=263462">Uninstaller error levels</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Nniol</div><div class="date">11th January 2007, 14:47</div></div><div class="posttext">Hi<br />
<br />
I need to get the error levels from an uninstaller...<br />
<br />
I see<br />
<br />
CopyFiles $INSTDIR\uninstaller.exe $TEMP<br />
ExecWait '&quot;$TEMP\uninstaller.exe&quot; _?=$INSTDIR' $0<br />
DetailPrint &quot;uninstaller set error level $0&quot;<br />
<br />
<br />
In section D.1 in the manual.... so how does this work?<br />
<br />
Where do I put this??? I have my normal uninstall section does this go in there, if so where does the uninstall code go?<br />
<br />
Nniol</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">11th January 2007, 16:39</div></div><div class="posttext">I'm not quite sure what are you trying to achieve. The manual is pretty clear:<br />
<br />
Note that uninstallers copy themselves to the temporary directory and execute from there so the original uninstaller can be deleted. This means the error level the uninstaller sets is not available to the executing process, unless it simulates this copy process and executes the copied uninstaller. To simulate this process, use:<br />
CopyFiles $INSTDIR\uninstaller.exe $TEMP<br />
ExecWait '&quot;$TEMP\uninstaller.exe&quot; _?=$INSTDIR' $0<br />
DetailPrint &quot;uninstaller set error level $0&quot;<br />
Also this code executes the uninstaller of installation A from the installer of installation B. The included in examples makensis.nsi is pretty self explained on that.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>