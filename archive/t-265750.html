<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Trapping Double clicks on ListBox ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Trapping Double clicks on ListBox ? NSIS Discussion" />
	
	<title> Trapping Double clicks on ListBox ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Trapping Double clicks on ListBox ?</div>
<hr />
<div class="pda"><a href="t-265750.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=265750">Trapping Double clicks on ListBox ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">14th February 2007, 02:57</div></div><div class="posttext">Hi all,<br />
<br />
Is there any way to trap a Double click on a Listbox?<br />
<br />
I can trap a &quot;Selection Change&quot; with the &quot;VERIFY&quot; flag,<br />
but I am unsure how to trap a double click on an item in said Listbox...<br />
<br />
Specifically, the MS URL:<br />
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/commctls/listboxes/listboxes.asp<br />
<br />
<br />
This is the notice/trap that I need to catch:<br />
<br />
<br />
Notifications<br />
LBN_DBLCLK<br />
An application sends the LBN_DBLCLK notification message when the user double-clicks a string in a list box. The parent window of the list box receives this notification message through the WM_COMMAND message.<br />
<br />
<br />
<br />
Thanks all!<br />
Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">14th February 2007, 05:29</div></div><div class="posttext">It's NOTIFY flag not VERIFY :)<br />
No matter single or double click, it's up to your code on leave function the action that should be performed, for instance you trap that the listbox caused the notification, you read users selection, then perform some actions and last add abort which means you don't leave the page, or don't add abort which means you go to the next action/step or page at once.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sheik</div><div class="date">14th February 2007, 16:51</div></div><div class="posttext">Hi RedWine,<br />
<br />
Thanks for the response!<br />
<br />
(I am *very* impressed at how many threads you respond to!<br />
You are very helpful, and I know I appreciate your time immensely!)<br />
<br />
The problem is that there is no way for me to detect<br />
in the NOTIFY section the actual event that triggered the notify.<br />
<br />
Specifically, whether the user changed the selected item in the list (ONSELCHANGE) or whether they double clicked on an item (ONDBLCLICK)<br />
<br />
However, the InstallOptionsEx *can* report the different types of events back to me.<br />
Which is exactly what I need!<br />
<br />
Thanks again for your response!<br />
I am still new to NSIS, and let me tell you, I am reading just about every thread you have responded to! =)<br />
<br />
Scott</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">14th February 2007, 17:15</div></div><div class="posttext">Thanks!<br />
Definitely IOex has more abilities than IO :)<br />
Although you found your way through IOex allow me to explain what you may do with IO, and let me know plz if I got it right and this is what you're looking for.<br />
OutFile &quot;Test.exe&quot;<br />
<br />
!include &quot;mui.nsh&quot;<br />
<br />
!insertmacro MUI_PAGE_LICENSE &quot;${NSISDIR}\Docs\Modern UI\License.txt&quot;<br />
Page Custom custcreate custleave<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Section <br />
   <br />
SectionEnd<br />
<br />
<br />
Function custcreate<br />
   !insertmacro MUI_HEADER_TEXT &quot;Custom Page&quot; \<br />
   &quot;Just a simple custom page&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;custom.ini&quot; &quot;field 1&quot; &quot;state&quot; &quot;some sample text&quot;<br />
   push $0<br />
   InstallOptions::Dialog &quot;$PLUGINSDIR\custom.ini&quot;<br />
   pop $0<br />
   pop $0<br />
FunctionEnd<br />
<br />
<br />
Function custleave<br />
   !insertmacro MUI_INSTALLOPTIONS_READ $0 &quot;custom.ini&quot; &quot;Settings&quot; &quot;state&quot;<br />
   StrCmp $0 1 0 next<br />
   !insertmacro MUI_INSTALLOPTIONS_READ $0 &quot;custom.ini&quot; &quot;field 1&quot; &quot;State&quot;<br />
   MessageBox MB_OK &quot;Your selection is $0.$\r$\n\<br />
   Now we can set up actions regarding to $0$\r$\n\<br />
   and STAY TO THIS PAGE waiting for other action.&quot;<br />
   Abort<br />
<br />
   next:<br />
   StrCmp $0 2 0 end<br />
   !insertmacro MUI_INSTALLOPTIONS_READ $0 &quot;custom.ini&quot; &quot;field 2&quot; &quot;State&quot;<br />
   MessageBox MB_OK &quot;Your selection is $0.$\r$\n\<br />
   Now we can set up actions regarding to $0$\r$\n\<br />
   and LEAVE THIS PAGE going to next page at once.&quot;<br />
<br />
   end:<br />
FunctionEnd<br />
<br />
<br />
Function .onInit<br />
   InitPluginsDir<br />
   GetTempFileName $0<br />
   Rename $0 &quot;$PLUGINSDIR\custom.ini&quot;<br />
<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;settings&quot; &quot;numfields&quot; &quot;2&quot;<br />
<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;type&quot; &quot;ListBox&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;left&quot; &quot;10&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;right&quot; &quot;-10&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;top&quot; &quot;20&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;bottom&quot; &quot;52&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;ListItems&quot; &quot;A|B|C&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 1&quot; &quot;flags&quot; &quot;NOTIFY&quot;<br />
   <br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;type&quot; &quot;ListBox&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;left&quot; &quot;10&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;right&quot; &quot;-10&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;top&quot; &quot;80&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;bottom&quot; &quot;112&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;ListItems&quot; &quot;X|Y|Z&quot;<br />
   WriteINIStr &quot;$PLUGINSDIR\custom.ini&quot; &quot;field 2&quot; &quot;flags&quot; &quot;NOTIFY&quot;<br />
FunctionEnd</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>