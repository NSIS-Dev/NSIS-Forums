<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom NSIS version almost ready ! Supporting items text change at run-time, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom NSIS version almost ready ! Supporting items text change at run-time NSIS Discussion" />
	
	<title> Custom NSIS version almost ready ! Supporting items text change at run-time [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom NSIS version almost ready ! Supporting items text change at run-time</div>
<hr />
<div class="pda"><a href="t-66192.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=66192">Custom NSIS version almost ready ! Supporting items text change at run-time</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">BitRider</div><div class="date">20th November 2001, 16:46</div></div><div class="posttext">I'm working on a custom (modified) version of NSIS which allows you to change items text at run-time.<br />
<br />
It's easy to use, I've added a new 'SetText' function that allows you to do that.<br />
<br />
This new function runs in that way:<br />
<br />
SetText ItemName (string|$0-9)<br />
<br />
ItemName --&gt; any NSIS text: Caption, BrandingText,...<br />
String|$0-9 --&gt; any string or a register<br />
<br />
I hope it to be ready for to morrow, let me know if you are interested on it and I will post a message under this task.<br />
<br />
This new function will allow you to localize NSIS installations at run-time, avoiding the need of having an installation for every language you want to distribute your application.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Angry Weasel</div><div class="date">20th November 2001, 20:46</div></div><div class="posttext">Nice. I'll take one!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">felfert</div><div class="date">21st November 2001, 04:43</div></div><div class="posttext">Just a small suggestion:<br />
<br />
While you're on it, also add a variable or function which returns the result of PRIMARYLANGID(GetUserDefaultLangID()) (defined in winnls.h). This makes it possible to select the initial language automatically from within the script without having to ask the user in some dialog.<br />
<br />
-Fritz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">21st November 2001, 05:25</div></div><div class="posttext">Submit it to NSIS Project House (when I complete it). Heck, you can have it avaliable for download on the repository now.<br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">spaetz</div><div class="date">21st November 2001, 15:39</div></div><div class="posttext">I guess that is some change that Justin might be interested in as well. An automatically localized installer would come in very handy for Winamp, I suppose.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">BitRider</div><div class="date">21st November 2001, 20:59</div></div><div class="posttext">As I said here is a preview of NSIS modification I'm working on.<br />
<br />
Beware, It's in BETA state, It is not competed at all yet.<br />
<br />
It's based on NSIS 1.67 (the last one I know about)<br />
<br />
I've only added a new function to NSIS built-in functions, that's:<br />
<br />
$PRIMARYLANG --&gt; a new variable which identifies the primary language<br />
                 of the system in which NSIS is running. (included as<br />
                 requested by felfert)<br />
<br />
SetText, usage: SetText TextToSet str<br />
TexToSet --&gt; the item text you want to set.<br />
             Allowed vaules are (they're not case sensitive):<br />
               Subcaption0<br />
               Subcaption1<br />
               Subcaption2<br />
               NextButtonText<br />
                   ...<br />
               <br />
<br />
               Well, see EXAMPLE1.NSI for a complete list, there are <br />
             used all the possible values<br />
Str --&gt; the text you want to set, whatever string you want.<br />
<br />
Limitations: On this version you have to set the text before the item apppears in the screen, later will not be refreshed (I'm working on it). <br />
<br />
Uninstallation text aren't supported yet. (will be soon)<br />
<br />
Exceptions: DetailsButtonText, CancelButtonText, BackButtonText, SpaceAvailableText, SpaceAvailableText, all these don't suffer the above limitation (if they're on the screen whe you call SetText they will be changed).  <br />
<br />
If you want an utility to let user choose installation language see a previous post I did a few days ago (it will be included in the final version).<br />
<br />
You can see an example on how it does work in EXAMPLE1.NSI.<br />
<br />
Well I foget to give the link to download :D, DOWNLOAD HERE !! (http://www.geocities.com//rincon_de_jmcb/nsisb167.zip) <br />
<br />
Enjoy.<br />
<br />
P.S.: Sorry for my bad english<br />
P.S.: Duane, could you tell me when &amp; how to up load to NSIS project House ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Angry Weasel</div><div class="date">4th December 2001, 13:12</div></div><div class="posttext">Could you please explain what &quot;Subcaption0,&quot; &quot;Subcaption1,&quot; and &quot;Subcaption2&quot; actually are?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">BitRider</div><div class="date">4th December 2001, 20:27</div></div><div class="posttext">I know there isn't too much information about L extensions on L-NSIS, but like it is used to say in my country (Spain) &quot;Si hay que hacerlo se hace, pero hacerlo pa na es tonter√≠a&quot; (free translation into english should be something like: &quot;If you want me to do it I'll do it, but do doing it without a good reason is a silly thing&quot;). I mean, it seems there isn't too many people interested on L-NSIS so why to waste my spare-time on documenting it's features... (If I see there's more people confused on it's use I'll try to write a better documentation).<br />
<br />
Explanation:<br />
<br />
In NSIS scripting language there is a &quot;SubCaption Page subcaption&quot; command, where Page is any number between 0 and 4. SubCaption0 to SubCaption4 SetText's parameters are their equivalents at run-time.<br />
<br />
Example:<br />
<br />
At compile-time-----------------&gt;At run-time<br />
-----------------------------------------------------<br />
SubCaption 0 &quot;Something&quot;--------&gt;SetText SubCaption0 &quot;Something&quot;<br />
SubCaption 4 &quot;Like a bird&quot;------&gt;SetText SubCaption4 &quot;Like a bird&quot;<br />
<br />
For more info on SubCaption see makensis.htm.     <br />
  <br />
Did you know there is a new L-NSIS version (1.67.2)?<br />
Go to www.geocities.com/rincon_de_jmcb/lnsis/ (http://www.geocities.com/rincon_de_jmcb/lnsis/) and download from there.<br />
With this new version you can get a lot of bug-fixes, new features like more commands (LoadLicenseData and SetSectionName ) and improvements.<br />
<br />
Sorry for my english.<br />
<br />
P.S.: thanks for asking, now I know there is someone but me using L-NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">5th December 2001, 02:19</div></div><div class="posttext">To upload it to the NSIS Project House Repository, you must have a SourceForge Account, then I would add you to the project. Then you would add to the repository.<br />
<br />
-Duane</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>