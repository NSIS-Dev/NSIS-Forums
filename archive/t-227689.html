<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Time plugin, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Time plugin NSIS Discussion" />
	
	<title> Time plugin [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Time plugin</div>
<hr />
<div class="pda"><a href="t-227689.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=227689">Time plugin</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">5th October 2005, 07:47</div></div><div class="posttext">Features:<br />
- Get local time<br />
- Set local time<br />
- Get file/directory creation, last write, last access times<br />
- Set file/directory creation, last write, last access times<br />
<br />
Notes:<br />
- All times in &quot;dd.MM.yyyy hh:mm:ss&quot; format (e.g. &quot;01.01.2006 23:59:59&quot;)<br />
- Win95/Win98/WinMe: Time set for directory is not supported<br />
<br />
!! If you know assembler you can help to implement time set for directory in Win95/Win98/WinMe: link (http://msdn.microsoft.com/archive/default.asp?url=/archive/en-us/win9x/95func_29ew.asp)<br />
<br />
<br />
&quot;Time&quot; plugin v1.0</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">5th October 2005, 17:48</div></div><div class="posttext">nice one</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">27th October 2005, 19:45</div></div><div class="posttext">Changes:<br />
-New: &quot;CompareTime&quot; compares two times<br />
<br />
<br />
&quot;Time&quot; plugin v1.1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">29th December 2005, 21:01</div></div><div class="posttext">Fixed: &quot;SetLocalTime&quot; daylight saving time problem<br />
Changed: &quot;CompareTime&quot; replaced with &quot;MathTime&quot;<br />
Added: UTC support (&quot;GetLocalTimeUTC&quot;, &quot;SetLocalTimeUTC&quot;, &quot;GetFileTimeUTC&quot;,<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;SetFileTimeUTC&quot;)<br />
New: &quot;MathTime&quot; -mathematical operations with times.<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-calculate day of the week,<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-calculate date after 60 days,<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-calculate how many days between dates,<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-compare dates,<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-calculate how many days in 1234567890 seconds ...<br />
New: &quot;TimeString&quot; -get times from time string<br />
<br />
<br />
&quot;Time&quot; plugin v1.2</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">30th December 2005, 12:06</div></div><div class="posttext">Fixed: &quot;MathTime&quot; inaccuracy of day/month-&gt;date conversion in one day/month<br />
<br />
<br />
&quot;Time&quot; plugin v1.3</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">4th January 2006, 19:23</div></div><div class="posttext">Not sure if it would work for this plugin or not, but here's a few suggestions that would be nice to have:<br />
<br />
1.  GetWeekdayName - a function to allow the user to input a time and get back the weekday name (ie &quot;Sunday&quot;)<br />
<br />
2.  GetWeekdayNumber - same as above, but return the weekday number.  (ie Sunday=1, Monday=2, etc.)<br />
<br />
3.  GetMondayDate - input a date and have the system return the Monday from that week.  For example, if you input 1/4/2005 (a Wednesday), you would get an output of 1/2/2005 (a Monday).<br />
<br />
:cool:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">4th January 2006, 20:26</div></div><div class="posttext">Name &quot;Output&quot;<br />
OutFile &quot;Output.exe&quot;<br />
<br />
Section<br />
	#GetWeekdayNumber:<br />
	time::MathTime &quot;day(29.12.2005 0:0:0) + 5 % 7 =&quot; .r0<br />
	MessageBox MB_OK 'GetWeekdayNumber$\n$$0={$0}'<br />
<br />
<br />
	#GetWeekdayName:<br />
	time::MathTime &quot;day(29.12.2005 0:0:0) + 5 % 7 =&quot; .r0<br />
	StrCmp $0 1 0 +2<br />
	StrCpy $0 Monday<br />
	StrCmp $0 2 0 +2<br />
	StrCpy $0 Tuesday<br />
	StrCmp $0 3 0 +2<br />
	StrCpy $0 Wednesday<br />
	StrCmp $0 4 0 +2<br />
	StrCpy $0 Thursday<br />
	StrCmp $0 5 0 +2<br />
	StrCpy $0 Friday<br />
	StrCmp $0 6 0 +2<br />
	StrCpy $0 Saturday<br />
	StrCmp $0 0 0 +2<br />
	StrCpy $0 Sunday<br />
	MessageBox MB_OK 'GetWeekdayName$\n$$0={$0}'<br />
<br />
<br />
	#GetMondayDate:<br />
	!define Monday    1<br />
	!define Tuesday   2<br />
	!define Wednesday 3<br />
	!define Thursday  4<br />
	!define Friday    5<br />
	!define Saturday  6<br />
	!define Sunday    7  #!define Sunday    0<br />
<br />
	time::MathTime &quot;day(29.12.2005 0:0:0) + 5 % 7 =&quot; .r0<br />
	time::MathTime &quot;day(29.12.2005 0:0:0) - $0 + ${Monday} = date&quot; .r0<br />
	MessageBox MB_OK 'GetMondayDate$\n$$0={$0}'<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">4th January 2006, 22:02</div></div><div class="posttext">Added: &quot;MathTime&quot; now can parse negative values (&quot;-10 + -20 =&quot; returns -30)<br />
<br />
<br />
&quot;Time&quot; plugin v1.4</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">5th January 2006, 00:25</div></div><div class="posttext">D'OH!  I feel like such a dolt!  I looked over the readme doc several times and didn't see the example about getting the day of the week until you posted your reply!  :tinfoil:<br />
<br />
Thanks for posting the example.  This should work quite nicely! :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">16th March 2006, 21:11</div></div><div class="posttext">Fixed: time::MathTime now error output is &quot;&quot; not &quot;-1&quot; (negative results allowed).<br />
Changed: time::SetFileTime now don't changes any file time if error appeared.<br />
Updated: example &quot;Compare times&quot;.<br />
Updated: &quot;ConvFunc.h&quot; to v1.6.<br />
Changed: Now plugin used header &quot;Time.nsh&quot; for custom user variables and<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;better compile errors check.<br />
<br />
Update from previous versions:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Insert line in script:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!include &quot;Time.nsh&quot;<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Replace:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;time::SetLocalTime -&gt; ${time::SetLocalTime} ...<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Replace:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.r0 -&gt; $0, .r1 -&gt; $1 ...  .R0 -&gt; $R0, .R1 -&gt; $R1 ...<br />
<br />
&quot;Time&quot; plugin v1.5</div></div><hr />


<div class="post"><div class="posttop"><div class="username">stb</div><div class="date">27th March 2006, 10:42</div></div><div class="posttext">Hi Instructor,<br />
<br />
I tried something like <br />
<br />
${time::MathTime} &quot;day(27.03.2006 12:00:00) - day(15.05.2006 17:00:00) = day&quot;<br />
<br />
and got &quot;&quot; (error). You wrote &quot;negative results allowed&quot; (post above), so it should be something like &quot;-50&quot; (or nearby).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">27th March 2006, 12:43</div></div><div class="posttext">Rough result:<br />
&quot;day(27.03.2006 12:00:00) - day(15.05.2006 17:00:00) =&quot;<br />
<br />
I'll check later for accurate negative result possibility:<br />
&quot;second(27.03.2006 12:00:00) - second(15.05.2006 17:00:00) = day&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">28th March 2006, 13:03</div></div><div class="posttext">Added: &quot;MathTime&quot; now can accept negative values in the result conversion -<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;after &quot;=&quot;, but except &quot;= date&quot;.<br />
<br />
<br />
&quot;Time&quot; plugin v1.6</div></div><hr />


<div class="post"><div class="posttop"><div class="username">stb</div><div class="date">28th March 2006, 19:53</div></div><div class="posttext">Hi Instructor,<br />
<br />
1. thanks!<br />
<br />
2. &quot;-v&quot; please. Does that mean I can use &quot;= second&quot; now and compare using IntCmp 86400 (instead of 1)?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">28th March 2006, 20:26</div></div><div class="posttext">&quot;-v&quot; please. Does that mean I can use &quot;= second&quot; now and compare using IntCmp 86400 (instead of 1)?I don't understand. The new version allow you to write the next expression<br />
&quot;second(27.03.2000 12:00:00) - second(15.05.2006 17:00:00) = day&quot;Result will be &quot;-2240&quot; - days between dates.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">torpark</div><div class="date">18th September 2006, 06:06</div></div><div class="posttext">I am unable to get time.dll to unload, even with<br />
<br />
Function .onGUIend<br />
RMDir /r $PLUGINSDIR<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">18th September 2006, 13:51</div></div><div class="posttext">${time::Unload}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tpr</div><div class="date">20th January 2007, 06:39</div></div><div class="posttext">Thanks for the plugin.<br />
<br />
I am a beginner and would like to make a simple exe which sets local date back to 10 years and another one which sets the actual date.<br />
<br />
I successfully created an exe which sets date back but don't know how to restore the actual date (and time).<br />
<br />
If someone could help I would really appreciate it.<br />
<br />
Thanks<br />
tpr<br />
<br />
Edit: problem solved, I've overlooked TimeTest.nsi</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gringoloco023</div><div class="date">21st January 2010, 15:52</div></div><div class="posttext">Unicode NSIS<br />
<br />
Hello Instructor,<br />
<br />
I hope you are still actively developing the Time plug-in?<br />
Because, I am (we are) looking for this plug-in, recompiled to work with Unicode NSIS.<br />
It would be really appreciated, as we are in need of a fair few plug-ins with Unicode NSIS support!<br />
<br />
Link to Unicode NSIS homepage: scratchpaper.com/home<br />
Link our project: portableapps.com/node/21879<br />
<br />
Thanx a lot, in advance !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">25th December 2011, 16:18</div></div><div class="posttext">Added: full unicode support on NSIS Unicode.<br />
<br />
Time plugin v2.0 (http://nsis.sourceforge.net/Time_plugin)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>