<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Resume installation after reboot, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Resume installation after reboot NSIS Discussion" />
	
	<title> Resume installation after reboot [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Resume installation after reboot</div>
<hr />
<div class="pda"><a href="t-198950.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=198950">Resume installation after reboot</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">hafizsohaib</div><div class="date">11th November 2004, 10:52</div></div><div class="posttext">Resume installation after reboot<br />
Hi all,<br />
<br />
I need the installer to resume the installation process after a system reboot. Is it possible to acheive this using NSIS?<br />
<br />
Help appreciated! Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">11th November 2004, 12:34</div></div><div class="posttext">Hey, calm down... You never should create new topics based on the same question more than one time.<br />
<br />
You can't do it with NSIS naturally, but you can create 2 installers in which one of them will be executed when the computer restarts. You can use the code below to make Windows to execute the second installer when the computer restarts next time:<br />
<br />
WriteRegStr &quot;HKLM&quot; &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\RunOnce&quot; &quot;Program Name&quot; &quot;C:\Path\To\File.exe&quot;(Where &quot;Program Name&quot; is the name of the program, and &quot;C:\Path\To\File.exe&quot; is where the second installer is located)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fredtheman</div><div class="date">11th November 2004, 13:26</div></div><div class="posttext">You can't do it with NSIS naturally, but you can create 2 installers in which one of them will be executed when the computer restarts<br />
<br />
... or use only one, and just use some data on the hard disk that tells the installer in which state it is (ie. first pass run, or second pass run after rebooting), and add itself in the Run section of the Registry so that it is run the next time the computer reboots. Just remember to remove this entry after the second pass is over.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th November 2004, 19:30</div></div><div class="posttext">Please don't create multiple threads for the same question. The other threads have been moved.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TrifonovS</div><div class="date">10th November 2013, 21:22</div></div><div class="posttext">Hi!<br />
<br />
The mechanism to start the installer after reboot in the middle of the installation using RunOnce section in the registry works fine, but I need to continue the installer from the position that it was restarted. I know that I can use a plug-in to jump on the needed state. But before the reboot I have to store some data, needed for the second reboot (for example the page that the installer have to jump, the selected components and so on...). The question is where to store the data? I can write it on the HDD, but where (temp folder???) or in the registry,... What is the typical storage for such information in such case? I don't have experience with this and I need advice what is the best way to do it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">10th November 2013, 22:54</div></div><div class="posttext">You can add a commandline switch in the RunOnce entry, and check it with GetParameters (http://nsis.sourceforge.net/Docs/AppendixE.html#E.1.11) and GetOptions (http://nsis.sourceforge.net/Docs/AppendixE.html#E.1.12) on startup of your installer</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>