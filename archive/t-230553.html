<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Colored Text on Finish Page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Colored Text on Finish Page NSIS Discussion" />
	
	<title> Colored Text on Finish Page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Colored Text on Finish Page</div>
<hr />
<div class="pda"><a href="t-230553.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=230553">Colored Text on Finish Page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">9th November 2005, 15:45</div></div><div class="posttext">Hello all.<br />
<br />
Awhile back I posted this thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=197525) asking how to set lines of text to different colors on the Finish Page.  The answer was over my head at the time, but I am to the point now where I basically understand how to do this.<br />
<br />
So...I added &quot;MUI_PAGE_CUSTOMFUNCTION_PRE&quot; before my &quot;!insertmacro MUI_PAGE_FINISH&quot; command, and in the PRE function I'm editing the ioSpecial.ini to add separate controls (labels) so I can color code them.  The editing of the ioSpecial.ini works just fine, however I'm having some problem with the coloring.<br />
<br />
After I edit the ini, I also have the following code in the Pre FinishPage Function:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;ioSpecial.ini&quot;<br />
Pop $R0 ;HWND<br />
GetDlgItem $R1 $R0 1204             ;Setting Field 5<br />
SetCtlColors $R1 FF0000 Transparent ;to Red<br />
<br />
The problem is that the MUI_INSTALLOPTIONS_INITDIALOG command above sets the whole background of the Finish Page from White to Gray.  And without that command the text never turns color (to red).<br />
<br />
Help!  Thanks all.<br />
Jnuw</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">9th November 2005, 17:53</div></div><div class="posttext">Here is what I'm talking about, clearly I'm not doing this right, I also just noticed that the formatting of the font in the top is also messed up.<br />
<br />
Without the !insertmacro MUI_INSTALLOPTIONS_INITDIALOG line, I get good fonts and background, but no color:<br />
http://webpages.charter.net/orum/2.JPG<br />
<br />
And with that command, I get the colored text, but the formatting is all messed up.<br />
http://webpages.charter.net/orum/4.JPG</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mscoville</div><div class="date">9th November 2005, 18:13</div></div><div class="posttext">Function ShowFinishPage<br />
  GetDlgItem $MUI_TEMP1 $MUI_HWND 1204 ;ID for the 6th InstallOptions control<br />
  SetCtlColors $MUI_TEMP1 &quot;&quot; &quot;${MUI_BGCOLOR}&quot;<br />
FunctionEnd<br />
 <br />
<br />
Try that and you can just use $MUI_HWND to get the handle for the window no need to pop it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">goldy1064</div><div class="date">9th November 2005, 18:54</div></div><div class="posttext">Also, between initdialog and show:<br />
<br />
SetCtlColors $MUI_HWND &quot;color&quot; &quot;color&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">9th November 2005, 22:13</div></div><div class="posttext">Thanks guys.  mscoville, your code and its location worked perfectly!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>