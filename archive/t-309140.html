<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" !define and CRLF escape codes, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  !define and CRLF escape codes NSIS Discussion" />
	
	<title> !define and CRLF escape codes [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  !define and CRLF escape codes</div>
<hr />
<div class="pda"><a href="t-309140.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=309140">!define and CRLF escape codes</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Zinthose</div><div class="date">31st July 2009, 17:07</div></div><div class="posttext">I got a notion in my head and wanted to try it out.<br />
<br />
Create a multiline !define.<br />
<br />
## Declaration<br />
Var /GLOBAL NULL<br />
!define NULL `$NULL\\R\\NStrCpy $NULL 0`<br />
<br />
## Example<br />
    Pop ${NULL}<br />
    DetailPrint $NULL<br />
    <br />
## Becomes<br />
    Pop $NULL<br />
StrCpy $NULL 0<br />
    DetailPrint $NULL<br />
<br />
At the moment this doesn't appear possible without building my own processor.  The idea is an interesting whimsy and I thought I'd share in the hopes that the concept can be discussed. This might make for some interesting macros in the future if implemented. <br />
<br />
Request Ticket (http://sourceforge.net/tracker/?func=detail&amp;aid=2830391&amp;group_id=22049&amp;atid=373088)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">31st July 2009, 18:18</div></div><div class="posttext">first off, a macro can't help you?<br />
<br />
the problem with this is, what if you want a newline in the define, !define sometext &quot;foo$\nBar&quot; ? This is far more common, so you would need to come up with another way to escape it. I don't think $\0 does anything, so maybe we could use that</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zinthose</div><div class="date">31st July 2009, 19:59</div></div><div class="posttext">A macro would work IF the macro could be included inline. It would also make the code easier to read than mentally parsing the meta characters in your head like the previous !define example.<br />
<br />
At this time though, adding an inline !includemacro causes a compiler error.<br />
<br />
## Definitions<br />
    Var /GLOBAL NULL<br />
    !define NULL `!insertmacro NULL`<br />
    !macro NULL<br />
        $NULL<br />
        StrCpy $NULL 0<br />
    !macroend<br />
<br />
Section<br />
    ## Example<br />
        Pop ${NULL}<br />
        DetailPrint $NULL<br />
    <br />
    ## Becomes<br />
        Pop !insertmacro NULL # Compile Error here: Pop expects 1 parameters, got 2.<br />
        DetailPrint $NULL<br />
    <br />
    ## Then<br />
        Pop $NULL<br />
        StrCpy $NULL 0<br />
        DetailPrint $NULL  <br />
    <br />
        Quit<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">31st July 2009, 20:10</div></div><div class="posttext">!macro NULL op<br />
${op} $NULL<br />
StrCpy $NULL 0 <br />
!macroend<br />
<br />
<br />
!insertmacro NULL pop<br />
DetailPrint $NULL</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>