<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Section text unchanged (MUI/.onInit), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Section text unchanged (MUI/.onInit) NSIS Discussion" />
	
	<title> Section text unchanged (MUI/.onInit) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Section text unchanged (MUI/.onInit)</div>
<hr />
<div class="pda"><a href="t-286335.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=286335">Section text unchanged (MUI/.onInit)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">robbynaze</div><div class="date">5th February 2008, 16:18</div></div><div class="posttext">Hi all, i would need a little help for a problem i could not find a response despite search<br />
<br />
briefly, im trying to change Section title dynamically (calling function in .oninit) in MUI interface, using this syntax:<br />
<br />
SectionSetText ${_section_X} &quot;$(XTitle)&quot;<br />
<br />
where XTitle is define in langstring external file as:<br />
LangString XTitle ${LANG_GERMAN} &quot;XGerman&quot;<br />
LangString XTitle ${LANG_FRENCH} &quot;XFrench&quot;<br />
<br />
Actually i've defined all sections titles that way, and their title is changing correctly with selected language except the one that i am trying to change dynamically at runtime<br />
<br />
Sections are all defined that way<br />
Section &quot;$(XTitle)&quot; _section_X<br />
<br />
&gt; is there an order in .onInit to respect for calling my function and !insertmacro MUI_LANGDLL_DISPLAY (if concerned ?)<br />
<br />
In fact, the section text is always the last language in alphabetic order of language selection box (in my example, it is always XFrench, even when i choose German)<br />
<br />
Thx for tips !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th February 2008, 17:57</div></div><div class="posttext">Languages are not initialised until after .onInit. Do language strings not work in section names?<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">robbynaze</div><div class="date">6th February 2008, 08:11</div></div><div class="posttext">They do work in section names for 'static' sections<br />
To be more explicit, this an example<br />
<br />
In langstring.nsh i declare:<br />
LangString XTitle ${LANG_GERMAN} &quot;XGerman&quot;<br />
LangString XTitle ${LANG_FRENCH} &quot;XFrench&quot;<br />
LangString YTitle ${LANG_GERMAN} &quot;YGerman&quot;<br />
LangString YTitle ${LANG_FRENCH} &quot;YFrench&quot; <br />
<br />
In main script file i have: <br />
; Languages<br />
  !insertmacro MUI_LANGUAGE &quot;German&quot;<br />
  !insertmacro MUI_LANGUAGE &quot;French&quot;  <br />
<br />
; Language translations<br />
  !insertmacro MUI_RESERVEFILE_LANGDLL<br />
  !include &quot;.\langstrings.nsh&quot;<br />
<br />
....<br />
<br />
Section &quot;$(XTitle)&quot; _section_X<br />
...<br />
<br />
Section &quot;$(YTitle)&quot; _section_Y<br />
...<br />
<br />
Function .onInit<br />
 !insertmacro MUI_LANGDLL_DISPLAY<br />
  ;SectionSetText ${_section_X} &quot;$(XTitle) XXXXX&quot; <br />
FunctionEnd <br />
<br />
<br />
--&gt; Ytitle is correctly translated, i have &quot;YGerman&quot; or &quot;YFrench&quot; when i choose German or French<br />
<br />
--&gt; XTitle is ALWAYS &quot;XFrench XXXXX&quot; whenever i choose German or French !<br />
 <br />
<br />
if any idea ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">robbynaze</div><div class="date">6th February 2008, 13:34</div></div><div class="posttext">thx 4 answer Afro, you right<br />
<br />
LangString:<br />
&quot;If you change the language in the .onInit function, note that language strings in .onInit will still use the detected language based on the user's default Windows language, because the language is initialized after .onInit.&quot;<br />
<br />
Need to find a solution now :P</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">6th February 2008, 14:13</div></div><div class="posttext">Anywhere before you show the components page will be fine. .onGUIInit is a start (MUI_CUSTOMFUNCTION_GUIINIT for Modern UI).<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>