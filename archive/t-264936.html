<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" GetScreenResolution?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  GetScreenResolution? NSIS Discussion" />
	
	<title> GetScreenResolution? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  GetScreenResolution?</div>
<hr />
<div class="pda"><a href="t-264936.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264936">GetScreenResolution?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">2nd February 2007, 18:48</div></div><div class="posttext">Two questions from an NSIS newbie:<br />
<br />
1. Is there a way to get the screen resolution on user system? I'm using the BgImage plugin to place text in the center of the screen (hidden behind the installer window) but the AddText and AddImage functions take absolute position values so for the text to be centered on all systems, position should be relative to screen resolution.<br />
<br />
2. Does the location of .onInit function within the script matter? I've noticed that in most example scripts it's at the end. When I change its position and generally when I shuffle script elements, functionality remains the same but I get slightly different installer sizes; difference is negligible (a few bytes) but still, I'm wondering... Could someone tell me what's the optimal script structure regarding the compiler (e.g. 1.pages, 2.sections, 3.user functions, 4.callback functions...)?<br />
<br />
THX in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">2nd February 2007, 18:57</div></div><div class="posttext">1. Is there a way to get the screen resolution on user system? I'm using the BgImage plugin to place text in the center of the screen (hidden behind the installer window) but the AddText and AddImage functions take absolute position values so for the text to be centered on all systems, position should be relative to screen resolution.<br />
http://nsis.sourceforge.net/Get_User%27s_screen_resolution<br />
<br />
2. Does the location of .onInit function within the script matter? I've noticed that in most example scripts it's at the end. When I change its position and generally when I shuffle script elements, functionality remains the same but I get slightly different installer sizes; difference is negligible (a few bytes) but still, I'm wondering... Could someone tell me what's the optimal script structure regarding the compiler (e.g. 1.pages, 2.sections, 3.user functions, 4.callback functions...)?<br />
<br />
If you don't change the script structure the produced installers are always identical in size?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">3rd February 2007, 20:39</div></div><div class="posttext">Thanks, Red Wine! The link you posted solves my problem.<br />
And to answer your question, yes, when I recompile the script without changing the structure, the output is always identical in size. But when I, for instance, move .onInit from the beginning to the end of the script, exe is 40 bytes larger. For me it's a bit confusing because I figured it didn't matter to compiler. I might as well mention that I'm running Win98 on P4 (I know, I know...)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">3rd February 2007, 20:57</div></div><div class="posttext">I might as well mention that I'm running Win98 on P4I guess one may call it an effortless P4 ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">4th February 2007, 15:44</div></div><div class="posttext">Originally posted by aerDNA <br />
But when I, for instance, move .onInit from the beginning to the end of the script, exe is 40 bytes larger.<br />
I would be worried if those bytes were MegaBytes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">4th February 2007, 17:02</div></div><div class="posttext">Originally posted by Joel <br />
I would be worried if those bytes were MegaBytes.  <br />
<br />
Of course, you're right, it's nothing to be worried about, I was just wondering why that happens.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">6th February 2007, 19:29</div></div><div class="posttext">That happens because the data is compressed. Compression results differ not only by the size of the data, but also by the data itself and the order of blocks in it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aerDNA</div><div class="date">7th February 2007, 19:37</div></div><div class="posttext">Originally posted by kichik <br />
That happens because the data is compressed. Compression results differ not only by the size of the data, but also by the data itself and the order of blocks in it.  <br />
Thanks. I know that data order affects compression but it never crossed my mind. The reason of my confusion was that I presumed that the compiler internally restructures the script according to a certain protocol to optimize installer execution and that .onInit code would wind up in the same place no matter where you put it in the script. But it matters, obviously, and your explanation makes perfect sense.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>