<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Newbie question about sections, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Newbie question about sections NSIS Discussion" />
	
	<title> Newbie question about sections [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Newbie question about sections</div>
<hr />
<div class="pda"><a href="t-188623.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=188623">Newbie question about sections</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Incognit0</div><div class="date">2nd August 2004, 07:03</div></div><div class="posttext">I think I know the answer but want to make sure.<br />
<br />
I just need to &quot;repackage&quot; an installer that doesn't include files needed for 95 and 98 pre SE. <br />
<br />
The user doesn't need to choose anything, but it needs to detect OS and if the needed files are there. If need, intall needed files, 95 needs Dcom95 and vcred. 98 just needs vcred. Then reboot (or when machine is rebooted) install the main file.<br />
<br />
Using more than one section here would just over complicate things, right?<br />
<br />
IE any groups of code I make should be seperated using lables only.<br />
<br />
I doubt this matters, but since this will be exectued in a lan environment (mostly logon scripts) I might have files downloaded as needed from a local server.<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mumuri</div><div class="date">2nd August 2004, 09:06</div></div><div class="posttext">yes it should work with only one section ;)<br />
<br />
1 - you detect the OS in the function .onInit<br />
You stock the name of the OS in a variable ($OS)<br />
<br />
2 - you install the file you want in the section<br />
it should look like this<br />
<br />
StrCmp OS &quot;win95&quot; if endif<br />
if: <br />
; install win95 files<br />
endif:<br />
<br />
but you can optimize ;).<br />
<br />
3 - you stock the main file(the one when machine is rebooted) <br />
in the registry 'runonce'<br />
<br />
4 - you ask the person to reboot with a message box</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Incognit0</div><div class="date">2nd August 2004, 14:40</div></div><div class="posttext">Yeah, I know it will work. From what I can tell, you can make any kind of installer with a single section - if you want to do it the hard way.<br />
<br />
I'm just making sure I'm not missing something about sections that would give me a need for them. In fact, like I said, in this case it seems like more than one section would get in the way or make it more complicated.<br />
<br />
But thanks for the quick reply, and you did confirm what I was thinking about If statements being handled differently than most scripting.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>