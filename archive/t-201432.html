<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Need help with a code..., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Need help with a code... NSIS Discussion" />
	
	<title> Need help with a code... [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Need help with a code...</div>
<hr />
<div class="pda"><a href="t-201432.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=201432">Need help with a code...</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jonnebonne</div><div class="date">7th December 2004, 19:45</div></div><div class="posttext">I have this code: <br />
<br />
!define PRODUCT_NAME &quot;Test&quot;<br />
!define PRODUCT_VERSION &quot;6.66&quot;<br />
!define PRODUCT_PUBLISHER &quot;Unkn0wN&quot;<br />
!define PRODUCT_WEB_SITE &quot;http://www.mypage.com&quot;<br />
!define PRODUCT_DIR_REGKEY &quot;Software\Microsoft\Windows\CurrentVersion\App Paths\file.exe&quot;<br />
<br />
<br />
; MUI 1.67 compatible ------<br />
!include &quot;MUI.nsh&quot;<br />
<br />
; MUI Settings<br />
!define MUI_ABORTWARNING<br />
!define MUI_ICON &quot;C:\Documents and Settings\J0nathan\Desktop\Icon.ico&quot;<br />
<br />
; Welcome page<br />
!insertmacro MUI_PAGE_WELCOME<br />
; Instfiles page<br />
!insertmacro MUI_PAGE_INSTFILES<br />
; Finish page<br />
<br />
!insertmacro MUI_PAGE_FINISH<br />
Icon &quot;C:\Documents and Settings\J0nathan\Desktop\Icon.ico&quot;<br />
<br />
; Language files<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
; MUI end ------<br />
Function .onInit<br />
WriteRegStr HKCU &quot;Software\Microsoft\Windows\CurrentVersion\Run&quot; &quot;Myfile&quot; &quot;$WINDIR\file.exe&quot;<br />
SetSilent silent<br />
MessageBox MB_OK &quot;Installation Complete!&quot;<br />
FunctionEnd<br />
Name &quot;${PRODUCT_NAME} ${PRODUCT_VERSION}&quot;<br />
OutFile &quot;C:\Documents and Settings\J0nathan\Desktop\Test!\test.exe&quot;<br />
InstallDir &quot;$WINDIR&quot;<br />
InstallDirRegKey HKLM &quot;${PRODUCT_DIR_REGKEY}&quot; &quot;&quot;<br />
ShowInstDetails show<br />
<br />
Section &quot;MainSection&quot; SEC01<br />
  SetOutPath &quot;$WINDIR&quot;<br />
  SetOverwrite on<br />
  File &quot;C:\Documents and Settings\J0nathan\Desktop\Test!\file.exe&quot;<br />
SectionEnd<br />
 <br />
<br />
But I get maney strange errors... :cry: And I don't know why.<br />
Here are some of the errors:<br />
<br />
Error in macro MUI_INTERFACE on macroline 61<br />
Error in macro MUI_PAGE_INIT on macroline 3<br />
Error in macro MUI_PAGE_WELCOME on macroline 5<br />
Error in script &quot;C:\Documents and Settings\J0nathan\Desktop\Test!\Test.nsi&quot; on line 19 -- aborting creation process<br />
<br />
<br />
Can someone here please help me?:) <br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th December 2004, 20:47</div></div><div class="posttext">Please post the whole compile log.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">7th December 2004, 20:50</div></div><div class="posttext">Why are you using both the MUI_ICON define and the Icon command?<br />
You should only use the MUI_ICON define.<br />
<br />
All this:Name &quot;${PRODUCT_NAME} ${PRODUCT_VERSION}&quot;<br />
OutFile &quot;C:\Documents and Settings\J0nathan\Desktop\Test!\test.exe&quot;<br />
InstallDir &quot;$WINDIR&quot;<br />
InstallDirRegKey HKLM &quot;${PRODUCT_DIR_REGKEY}&quot; &quot;&quot;<br />
ShowInstDetails show... should be before you insert the Page macro's (after you !include MUI.nsh)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jonnebonne</div><div class="date">7th December 2004, 21:05</div></div><div class="posttext">Thanks!<br />
I made it :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>