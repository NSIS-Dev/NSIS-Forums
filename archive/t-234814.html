<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" TextReplace plugin, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  TextReplace plugin NSIS Discussion" />
	
	<title> TextReplace plugin [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  TextReplace plugin</div>
<hr />
<div class="pda"><a href="t-234814.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=234814">TextReplace plugin</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">5th January 2006, 21:05</div></div><div class="posttext">Features:<br />
- Fast replacement in text file<br />
- Case sensitive/insensitive replacement <br />
- Supports strings and pointers to the buffer<br />
- If no changes possible, output file will be untouched<br />
- Checks before replacement, if input file is a binary file<br />
<br />
Rough estimate perfomance info:<br />
50 Mb text file with 4.000.000 strings to replace processed<br />
with option &quot;/S=1&quot; 4 sec, with option &quot;/S=0&quot; 37 sec<br />
<br />
<br />
&quot;TextReplace&quot; plugin v1.0<br />
<br />
Removed attachment 18 July 2006 - Afrow UK. See last post for latest version.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zeeh3</div><div class="date">6th January 2006, 10:29</div></div><div class="posttext">Great and useful plugin, thanks a lot Instructor :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">6th January 2006, 11:00</div></div><div class="posttext">You are welcome :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">14th January 2006, 09:45</div></div><div class="posttext">New: &quot;FindInFile&quot; only search in file without replacements<br />
New: &quot;ReplaceInFile&quot; options:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/AI=[1|0] -Copy attributes from the InputFile to OutputFile or not<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/AO=[0|1] -Change OutputFile attributes to normal before writting or not<br />
<br />
<br />
&quot;TextReplace&quot; plugin v1.1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">whaccybanany</div><div class="date">26th January 2006, 10:55</div></div><div class="posttext">Thanks for the great plugin Instructor!<br />
<br />
I'm a bit confused to what the options are.<br />
<br />
If AI is true, does that mean read/write/execute/other attributes of the InputFile will be kept the same when written out?<br />
<br />
If AO is true, does it mean change attributes to some standard?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">26th January 2006, 11:24</div></div><div class="posttext">If AI is true, does that mean read/write/execute/other attributes of the InputFile will be kept the same when written out?Yes<br />
<br />
If AO is true, does it mean change attributes to some standard?<br />
/AO=0  - Don't change OutputFile attributes (error &quot;-9&quot; possible)<br />
-9   can't open output file for writting<br />
<br />
For example:<br />
If &quot;/AO=0&quot; and OutputFile has read-only attribute, then error -9 will be returned.<br />
If &quot;/AO=1&quot; and OutputFile has read-only attribute, then no error will be returned.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">whaccybanany</div><div class="date">26th January 2006, 11:56</div></div><div class="posttext">Thanks for the quick reply.<br />
<br />
That clears things up!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NHOCSUNG</div><div class="date">28th January 2006, 16:14</div></div><div class="posttext">Hi Instructor can i get the source code please<br />
<br />
I'm taking C++ now. Actually this is first course, so i need something to practice, you know.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">28th January 2006, 17:09</div></div><div class="posttext">Hi Instructor can i get the source code pleaseArchive contains binary and source code.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NHOCSUNG</div><div class="date">28th January 2006, 20:20</div></div><div class="posttext">I didn't see it before....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">27th May 2006, 11:53</div></div><div class="posttext">Fixed: Now plugin doesn't read all file if it is binary.<br />
Updated: &quot;StrFunc.h&quot; to v1.7<br />
Updated: &quot;ConvFunc.h&quot; to v1.7<br />
<br />
Update from previous versions:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Insert line in script:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!include &quot;TextReplace.nsh&quot;<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Replace:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;textreplace::FindInFile -&gt; ${textreplace::FindInFile} ...<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Replace:<br />
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.r0 -&gt; $0, .r1 -&gt; $1 ...  .R0 -&gt; $R0, .R1 -&gt; $R1 ...<br />
<br />
&quot;TextReplace&quot; plugin v1.2</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zeeh3</div><div class="date">30th June 2006, 20:32</div></div><div class="posttext">Instructor, there is a bug in the plugin that makes files bigger than 128 bytes readonly|hidden|system|archive|temporary|offline|not_content_indexed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">1st July 2006, 05:13</div></div><div class="posttext">Don't understand. If file size equal to 128 then after processing it attributes changed to readonly|hidden|system|archive|temporary|offline|not_content_indexed? And what plugin parameters you use?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zeeh3</div><div class="date">1st July 2006, 10:55</div></div><div class="posttext">Yes, I am just using TextReplaceTest.nsi that comes with the plugin. Attached are the input.txt and output.txt files and the exe.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">1st July 2006, 12:53</div></div><div class="posttext">Fixed: Buffer overflow (thanks zeeh3)<br />
<br />
<br />
&quot;TextReplace&quot; plugin v1.3</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">14th July 2006, 05:57</div></div><div class="posttext">Fixed: crash when using long string (&gt; 1024) with 8192 special build (thanks zeeh3)<br />
<br />
<br />
&quot;TextReplace&quot; plugin v1.4</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">14th July 2006, 16:56</div></div><div class="posttext">Forgot to remove debug MessageBox in release.<br />
<br />
<br />
&quot;TextReplace&quot; plugin v1.4</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tinjaw</div><div class="date">17th October 2006, 19:10</div></div><div class="posttext">Thank you very much. You plugin just saved me much valuable time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">29th October 2006, 00:12</div></div><div class="posttext">Changed: algorithm optimized - replacement speed increased.<br />
<br />
<br />
&quot;TextReplace&quot; plugin v1.5</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Chunkster</div><div class="date">8th April 2008, 17:59</div></div><div class="posttext">I am trying to replace one line of a text file with two lines, using TextReplace.  The arrangement of info in the file looks something like this -<br />
<br />
<br />
Line 1<br />
Line 2<br />
Line 3<br />
Line 4<br />
<br />
I am searching for &quot;Line 3&quot; and want to replace it with <br />
<br />
Line 3a<br />
Line 3b<br />
<br />
for a final file arrangement that looks like - <br />
<br />
Line 1<br />
Line 2<br />
Line 3a<br />
Line 3b<br />
Line 4<br />
<br />
Here is the actual TextReplace line<br />
<br />
${textreplace::ReplaceInFile} &quot;$PROGRAMFILES\OpenOffice.org 2.4\share\dict\ooo\dictionary.lst&quot; &quot;$PROGRAMFILES\OpenOffice.org 2.4\share\dict\ooo\dictionary.lst&quot; &quot;THES en US th_en_US_v2&quot; &quot;THES en US th_en_US_v2 \r DICT en US en_US_OpenMedSpel \r&quot; &quot;/S=1&quot; $0<br />
<br />
This of course, does not produce the desired output.  It looks like this<br />
<br />
Line 1<br />
Line 2<br />
Line 3a \r Line 3b \r<br />
Line 4<br />
<br />
Any help with this problem would be appreciated.  Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">9th April 2008, 07:44</div></div><div class="posttext">\r -&gt; $\r$\n</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nduboc</div><div class="date">12th May 2009, 15:17</div></div><div class="posttext">Hi,<br />
<br />
 What license the TextReplace v1.5 plugin is distributed under ? I can't find any license notice in the zip file or<br />
the home page (http://nsis.sourceforge.net/TextReplace_plugin).<br />
<br />
 Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">12th May 2009, 16:59</div></div><div class="posttext">nduboc<br />
NSIS license.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nduboc</div><div class="date">13th May 2009, 15:11</div></div><div class="posttext">Originally posted by Instructor <br />
nduboc<br />
NSIS license.  <br />
<br />
You mean the zlib/libpng license as stated on the License<br />
page of the NSIS web site, right ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">13th October 2011, 13:23</div></div><div class="posttext">saw your update of the locate plugin, so i was wondering if there are plans for a unicode version of textreplace</div></div><hr />


<div class="post"><div class="posttop"><div class="username">threexk</div><div class="date">21st January 2012, 08:17</div></div><div class="posttext">I get &quot;Invalid command: ${textreplace::ReplaceInFile}&quot; when trying to call TextReplace commands.  The only way I could get it to work was to use &quot;TextReplace::_ReplaceInFile&quot;, but you're probably not supposed to call the commands like that.  What is the proper way to call TextReplace commands?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">threexk</div><div class="date">21st January 2012, 09:02</div></div><div class="posttext">I get &quot;Invalid command: ${textreplace::ReplaceInFile}&quot; when trying to call TextReplace commands.  The only way I could get it to work was to use &quot;TextReplace::_ReplaceInFile&quot;, but you're probably not supposed to call the commands like that.  What is the proper way to call TextReplace commands?<br />
<br />
The problem was I needed to have &quot;!include &quot;TextReplace.nsh&quot;.<br />
<br />
${textreplace::ReplaceInFile} has the disadvantage of requiring all six parameters, whereas TextReplace::_ReplaceInFile lets you provide less than six with the unspecified parameters taking default values, so I am sticking with the latter.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>