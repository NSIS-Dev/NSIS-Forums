<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom Page HIDE / SHOW, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom Page HIDE / SHOW NSIS Discussion" />
	
	<title> Custom Page HIDE / SHOW [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom Page HIDE / SHOW</div>
<hr />
<div class="pda"><a href="t-305377.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305377">Custom Page HIDE / SHOW</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">PaulPaulsson</div><div class="date">15th April 2009, 15:55</div></div><div class="posttext">Hi,<br />
<br />
I have 2 custom pages and both pages are functionable.<br />
But now my problem:<br />
At the MUI_PAGE_COMPONENTS I have 3 checkboxes (3 Sections in the script). If the first checkbox is selected, both custom pages should be available. If the second checkbox is selected, only the second custom page should be available and if the third checkbox is selected none of the both custom pages should be available.<br />
<br />
The order of my pages is MUI_PAGE_COMPONENTS; MUI_PAGE_DIRECTORY; MUI_PAGE_INSTFILES; custompage1; custompage2; MUI_PAGE_FINISH.<br />
The custom pages are after the MUI_PAGE_INSTFILES, because they will replace special files. In other way the original files will be restored at the MUI_PAGE_INSTFILES.<br />
<br />
How can i do this, what i described above???<br />
I need quickly a reply, 'cause it's really important for me and it should be described in an easy way. <br />
<br />
Thanks a lot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">15th April 2009, 16:12</div></div><div class="posttext">either use SectionGetFlags, set variables or use LogicLib (recommended) in the sections to check whether the section was selected or not<br />
<br />
then based on which option was selected, call Abort in the Custom page's create function to skip that page.<br />
<br />
<br />
!addplugindir &quot;.&quot;<br />
!addincludedir &quot;.&quot;<br />
<br />
!include &quot;nsDialogs.nsh&quot;<br />
!include &quot;winmessages.nsh&quot;<br />
!include &quot;logiclib.nsh&quot;<br />
!include &quot;sections.nsh&quot;<br />
<br />
!include &quot;MUI2.nsh&quot;<br />
<br />
OutFile &quot;test.exe&quot;<br />
<br />
var dialog<br />
var hwnd<br />
var null<br />
<br />
Page Components<br />
Page Custom CustomPageA<br />
Page Custom CustomPageB<br />
Page Custom CustomPageC<br />
<br />
Section &quot;A and B&quot; AandB<br />
SectionEnd<br />
<br />
Section &quot;B only&quot; Bonly<br />
SectionEnd<br />
<br />
Section &quot;Neither&quot; neither<br />
SectionEnd<br />
<br />
Function CustomPageA<br />
	${If} ${SectionIsSelected} ${Bonly}<br />
	${OrIf} ${SectionIsSelected} ${neither}<br />
	    Abort<br />
	${EndIf}<br />
<br />
	nsDialogs::Create 1018<br />
	Pop $dialog<br />
<br />
	${NSD_CreateLabel} 0 0 100% 8% &quot;Page A&quot;<br />
	    Pop $0<br />
<br />
	nsDialogs::Show<br />
FunctionEnd<br />
<br />
Function CustomPageB<br />
	${If} ${SectionIsSelected} ${neither}<br />
	    Abort<br />
	${EndIf}<br />
	nsDialogs::Create 1018<br />
	Pop $dialog<br />
<br />
	${NSD_CreateLabel} 0 0 100% 8% &quot;Page B&quot;<br />
	    Pop $0<br />
<br />
	nsDialogs::Show<br />
FunctionEnd<br />
Function CustomPageC<br />
	nsDialogs::Create 1018<br />
	Pop $dialog<br />
<br />
	${NSD_CreateLabel} 0 0 100% 8% &quot;Page C&quot;<br />
	    Pop $0<br />
<br />
	nsDialogs::Show<br />
FunctionEnd<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
<br />
Sounds like you'll want to look into the Radiobuttons page on the NSIS wiki to make your Components page's section selections behave like radiobuttons (only 1 selection possible) as well.  Although if you go down that road - perhaps you should skip the Components page and create a new Custom page with proper radiobuttons instead.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">PaulPaulsson</div><div class="date">17th April 2009, 10:27</div></div><div class="posttext">Thanks for your help, the way you write it i use it and all were ok.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>