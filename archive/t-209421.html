<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" SectionSetInstTypes doesn't word with SectionGoup, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  SectionSetInstTypes doesn't word with SectionGoup NSIS Discussion" />
	
	<title> SectionSetInstTypes doesn't word with SectionGoup [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  SectionSetInstTypes doesn't word with SectionGoup</div>
<hr />
<div class="pda"><a href="t-209421.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=209421">SectionSetInstTypes doesn't word with SectionGoup</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">LoSini</div><div class="date">3rd March 2005, 16:53</div></div><div class="posttext">Hi,<br />
<br />
I am trying to change the installation type of a section in a section-group, but it seem that the function SectionSetInstTypes doens't work correctly for sections in a group. For section outside a group it work fine.<br />
<br />
This is a script example:<br />
----------------------------<br />
Name &quot;MyTest 1&quot;<br />
OutFile &quot;Setup.exe&quot;<br />
<br />
InstType &quot;Full&quot;<br />
InstType &quot;Standard&quot;<br />
InstType &quot;Minimal&quot;<br />
<br />
Page components<br />
<br />
Function .onInit<br />
  ;Disable section SEC02 for install type &quot;Minimal&quot;<br />
  SectionSetInstTypes SEC02 3<br />
FunctionEnd<br />
<br />
SectionGroup &quot;Test&quot;<br />
Section &quot;Section01&quot; SEC01<br />
  SectionIn 1 2 3<br />
SectionEnd<br />
Section &quot;Section02&quot; SEC02<br />
  SectionIn 1 2 3<br />
SectionEnd<br />
SectionGroupEnd<br />
-------------------------<br />
<br />
With this script the section SEC02 is not disabled with the installation type &quot;minimal&quot;. <br />
If I put the sections outside the group, than it work correctly. It is disabled with the installation type &quot;minimal&quot;.<br />
<br />
I need this function to enable for the install type &quot;Standard&quot;, in function of the selected language, some sections (like manuals,...).<br />
<br />
What is wrong?<br />
<br />
Thanks,<br />
LoSini</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">3rd March 2005, 16:57</div></div><div class="posttext">try SetCurInstType SEC02 2, the section index starts with zero. you also need to change SectionIn to &quot;1 2&quot; (without 3), otherwise all sections are in all insttypes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoSini</div><div class="date">3rd March 2005, 23:19</div></div><div class="posttext">I see my error, <br />
<br />
the parameter SEC01 in the line 'Section &quot;Section01&quot; SEC01' is not a string that is stored as a reference but the name of the symbol where the index of the Section01 will be stored.<br />
<br />
So, this is the working script:<br />
<br />
------------------------------<br />
Name &quot;MyTest 1&quot;<br />
OutFile &quot;Setup.exe&quot;<br />
<br />
InstType &quot;Full&quot;<br />
InstType &quot;Standard&quot;<br />
InstType &quot;Minimal&quot;<br />
<br />
Page components<br />
<br />
SectionGroup &quot;Test&quot;<br />
Section &quot;Section01&quot; SEC01<br />
  SectionIn 1 2 3<br />
SectionEnd<br />
Section &quot;Section02&quot; SEC02<br />
  SectionIn 1 2 3<br />
SectionEnd<br />
SectionGroupEnd<br />
<br />
Function .onInit<br />
  SectionSetInstTypes ${SEC02} 3<br />
FunctionEnd<br />
------------------------------<br />
<br />
Sorry,<br />
LoSini</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>