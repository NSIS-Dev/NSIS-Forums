<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Password - again, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Password - again NSIS Discussion" />
	
	<title> Password - again [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Password - again</div>
<hr />
<div class="pda"><a href="t-213095.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=213095">Password - again</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Blurred</div><div class="date">13th April 2005, 17:12</div></div><div class="posttext">Hi.<br />
I have created a simple installer, but I need to add a page so that the user has to enter a password.<br />
<br />
I have searched in the forum and I have found multiple answer to this same question.<br />
My problem is that all these make a reference to InstallOptions and Custom Pages and to me it sounds very complicated.<br />
<br />
Note: I *had* to use HM NIS Edit to create a script because I am not a programmer and even if I spent time on the script and the manual I could not understand a word of it (or almost).<br />
<br />
Now I believe that I understand a bit more and I have edited my script manually, but still my level is very poor.<br />
Therefore, I do not understand, for example, where I have to save the up.ini or up.nsi and which lines from the up.nsi (and other examples) I can insert in my original script and where.<br />
<br />
If anyone has the time to write me a step by step instruction I will appreciate that.<br />
It would be ok for me to send the script by email if necessary.<br />
<br />
Sorry for the long post.<br />
Regards,<br />
Blurred</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">13th April 2005, 19:35</div></div><div class="posttext">Have you checked the InstallOptions examples both in Contrib\InstallOptions and Examples?<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Blurred</div><div class="date">14th April 2005, 09:31</div></div><div class="posttext">Hi AFrow UK,<br />
I had a look at those examples and at the examples in the forum.<br />
The main issue is that I ma not a programmer, therefore it is difficult for me to understand the examples if they are not VERY easy.<br />
<br />
Anyway, I will try again today.<br />
One question: my understanding is that in the main nsis script (.nsi) I add a custom page and then, using the .ini I define how my custom page will look like. Is this correct?<br />
Another question is: which is the line that I have to insert in my nsis script (.nsi) to point it to the approrpiate .ini file?<br />
For example, I would like to keep the .ini in &quot;My document/project 1&quot; and not within a subfolder of &quot;program files/nsis/...&quot;. How do I do that?<br />
<br />
Thanks in advance for your help and sorry if my questions are very silly :( <br />
<br />
Blurred</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">14th April 2005, 11:29</div></div><div class="posttext">You need to compress the ini file and extract it to a suitable folder on run-time.<br />
<br />
Function .onInit<br />
!insertmacro MUI_INSTALLOPTIONS_EXTRACT_AS &quot;$%USERPROFILE%\My Documents\project 1\ioFile.ini&quot; &quot;ioFile.ini&quot;<br />
FunctionEnd<br />
LangString TEXT_IO_TITLE ${LANG_ENGLISH} &quot;Install Options Page Title&quot;<br />
LangString TEXT_IO_SUBTITLE ${LANG_ENGLISH} &quot;A subtitle&quot;<br />
<br />
Function FunctionName ;FunctionName defined with Page command<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ioFile.ini&quot;<br />
FunctionEnd<br />
<br />
(From Modern UI readme)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fishsauce</div><div class="date">6th July 2005, 00:48</div></div><div class="posttext">I'm trying to do the same thing... and I tried following the readme's example.  But for some reason nothing happens when I click the NEXT button.  Seems like having an input box screws it up and makes things more complicated (the button works without the input box).  Any ideas?  Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ZmAn3</div><div class="date">6th July 2005, 01:09</div></div><div class="posttext">here is a example based on the archive info<br />
<br />
www.emeraldcpu.com/zman3/script.zip <br />
<br />
the password or serial is 123456789</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fishsauce</div><div class="date">6th July 2005, 02:09</div></div><div class="posttext">well i tried copying parts of that script over... and it still doesn't work.  can someone check my code please... after staring at it for the past 5 hours i'm probably not gonna see the mistake.  thanks!<br />
<br />
<br />
[...]<br />
;--------------------------------<br />
;Pages<br />
<br />
  !insertmacro MUI_PAGE_WELCOME<br />
  Page custom PWEnter PWExit ; &lt;- this is the custom page<br />
  !insertmacro MUI_PAGE_COMPONENTS<br />
  !insertmacro MUI_PAGE_DIRECTORY<br />
  !insertmacro MUI_PAGE_STARTMENU &quot;Application&quot; $STARTMENU_FOLDER<br />
  !insertmacro MUI_PAGE_INSTFILES<br />
  !insertmacro MUI_PAGE_FINISH<br />
  <br />
  !insertmacro MUI_UNPAGE_WELCOME<br />
  !insertmacro MUI_UNPAGE_CONFIRM<br />
  !insertmacro MUI_UNPAGE_INSTFILES<br />
  !insertmacro MUI_UNPAGE_FINISH<br />
[...]<br />
;--------------------------------<br />
;Reserve Files<br />
<br />
;  ReserveFile &quot;${NSISDIR}\Plugins\InstallOptions.dll&quot; <br />
  ReserveFile &quot;password.ini&quot;<br />
  !insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
[...]<br />
;--------------------------------<br />
;Installer Functions<br />
<br />
Function .onInit<br />
<br />
;  InitPluginsDir <br />
;  File /oname=$PLUGINSDIR\password.ini &quot;password.ini&quot;<br />
<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;password.ini&quot;<br />
<br />
  SetOutPath $TEMP1 ; &lt;- next 4 lines: splash image<br />
  File /oname=spltmp.bmp &quot;splash.bmp&quot;<br />
  advsplash::show 2000 600 400 -1 $TEMP1\spltmp<br />
  Delete $TEMP1\spltmp.bmp<br />
<br />
FunctionEnd<br />
<br />
LangString TEXT_IO_TITLE ${LANG_ENGLISH} &quot;Installation Password&quot;<br />
LangString TEXT_IO_SUBTITLE ${LANG_ENGLISH} &quot;Enter your password to continue the installing ${MUI_SYSNAME}.&quot;<br />
<br />
Function PWEnter<br />
<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TEXT_IO_TITLE)&quot; &quot;$(TEXT_IO_SUBTITLE)&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;password.ini&quot;<br />
;  InstallOptions::dialog &quot;$PLUGINSDIR\password.ini&quot;<br />
<br />
FunctionEnd<br />
<br />
Function PWExit<br />
<br />
  Quit ; &lt;- this function is never reached (it just doesn't quit)<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fishsauce</div><div class="date">6th July 2005, 03:26</div></div><div class="posttext">after another 2 hours i discovered the problem... i had to set minlength to 0 in the ini file.  thanks for your help anyways!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>