<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" .onInstSuccess depending on selected section, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  .onInstSuccess depending on selected section NSIS Discussion" />
	
	<title> .onInstSuccess depending on selected section [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  .onInstSuccess depending on selected section</div>
<hr />
<div class="pda"><a href="t-141223.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=141223">.onInstSuccess depending on selected section</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">5th July 2003, 20:54</div></div><div class="posttext">Dear Friends -<br />
<br />
Is there a way to run something in function .onInstSuccess depending on a package (section) is selected or not?<br />
<br />
I would like to give the user the option to start a server (a part of the complete distribution of several servers) after successfull installation. So if the package is selected the option to start the server should be called. If the package was not selected, this part of the .onInstSuccess section should not be called.<br />
<br />
How can I achieve this goal?<br />
<br />
Cheers Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th July 2003, 21:12</div></div><div class="posttext">As always:<br />
<br />
!include Sections.nsh<br />
# ...<br />
SectionGetFlags ${secID} $0<br />
IntOp $0 $0 &amp; ${SF_SELECTED}<br />
StrCmp $0 ${SF_SELECTED} run dontRun<br />
<br />
If you're using the MUI consider using the finish page and a checkbox to run your program.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th July 2003, 21:26</div></div><div class="posttext">secID;<br />
<br />
Section &quot;My section&quot; secID</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">5th July 2003, 21:29</div></div><div class="posttext">Sorry KichiK -<br />
<br />
First question: Are the quotes no longer needed <br />
!include Sections.nsh <br />
<br />
Second (also as always :-)):<br />
Where do I have to place the second part of your snippet?<br />
<br />
Third: SF_SELECTED Has it to be called like that or do I have to replace it?<br />
<br />
I am using a CustomPage for that part (server) of the program, where the option can be choosen whether to start or not. <br />
<br />
So when the Section including this server is selected and the installation was successfull this option should be able otherwise not.<br />
<br />
Remember I am the most powerful non-programmer on earth so please be patient...<br />
<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mosestycoon</div><div class="date">5th July 2003, 21:30</div></div><div class="posttext">@Afrow UK<br />
<br />
Thx, even I am the most powerful non-programmer on earth (as mentioned on post above :-)) this little part I understood :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th July 2003, 21:37</div></div><div class="posttext">There are no spaces in Sections.nsh so the quotes aren't required.<br />
<br />
The code should be after the section in the script so that ${secID} will be defined. You need to replace secID with the appropriate name you've assigned. SF_SELECTED is a constant that doesn't need to be replaced.<br />
<br />
If you want both the custom page input and the section selection to be taken into consideration just add another check for the custom page result in the &quot;run&quot; label in the code above instead of just running the server.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>