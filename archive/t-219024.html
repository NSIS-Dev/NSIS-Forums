<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" My problem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  My problem NSIS Discussion" />
	
	<title> My problem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  My problem</div>
<hr />
<div class="pda"><a href="t-219024.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=219024">My problem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">shouman</div><div class="date">16th June 2005, 09:56</div></div><div class="posttext">I have a .txt file consist of some information.just like that....<br />
username=a<br />
password=b<br />
<br />
Now I have a .ini file(UI) where there is label and  text box for username and password.<br />
<br />
The main question is how can I read that .txt file into the UI??Because there is no user input.Input will just read from that .txt file which will show in the UI.<br />
<br />
Can anyone show me the path,just now???<br />
<br />
Badly needed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mæster</div><div class="date">16th June 2005, 10:21</div></div><div class="posttext">What do you mean with &quot;.ini file UI&quot;? Is it a Install options page with 2 label and 2 text fields?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shouman</div><div class="date">16th June 2005, 10:30</div></div><div class="posttext">yes it is.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mæster</div><div class="date">16th June 2005, 11:00</div></div><div class="posttext">Every install options page is saved and loaded from a corresponding ini, right? If you would like to change a control of your install options page (iop) then you easely change the iop ini, before the page is loaded from this ini.<br />
<br />
use<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_WRITE <br />
<br />
to change the ini before the page is shown.<br />
<br />
If you could post your iop-ini, i could go in more details.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shouman</div><div class="date">16th June 2005, 11:35</div></div><div class="posttext">I used this function &quot;Read from INI style file without section headers&quot;.<br />
Function ReadINIStrNS<br />
..........<br />
;I think you know all the code of this function.<br />
...........<br />
FunctionEnd<br />
<br />
Because I don't want to use section headers in ini file</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mæster</div><div class="date">16th June 2005, 11:51</div></div><div class="posttext">There are 2 steps on your way:<br />
1. Read the user and password from your personal ini structured file (using ReadINIStrNS or whatever)<br />
2. Write those values in the iop-ini (using MUI_INSTALLOPTIONS_WRITE) to change the values of your iop_text_controls ;-).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shouman</div><div class="date">16th June 2005, 12:17</div></div><div class="posttext">I choose the second one.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mæster</div><div class="date">16th June 2005, 13:02</div></div><div class="posttext">Maybe you didnt understand me right. You have to do both steps. <br />
<br />
Lets say we have the following:<br />
1. user.txt (ini structured file with username, password)<br />
2. iop.ini (install options page with user_label [field1], password_label [field2], user_textbox [field3], password_textbox [field4])<br />
<br />
# display a install options page with username, password<br />
 Page custom ShowUserData<br />
<br />
Function ShowUserData<br />
<br />
# read username, password from the txt file<br />
  Push &quot;[path to your file]\user.txt&quot; ; ini file<br />
  Push &quot;username&quot;<br />
  Call ReadINIStrNS<br />
  Pop $R0            ; $R0 is the username<br />
<br />
  Push &quot;[path to your file]\user.txt&quot; ; ini file<br />
  Push &quot;password&quot;<br />
  Call ReadINIStrNS<br />
  Pop $R1            ; $R1 is the password<br />
<br />
# write username, password to the iop.ini file<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;iop.ini&quot; &quot;Field 3&quot; &quot;Text&quot; $R0<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;iop.ini&quot; &quot;Field 4&quot; &quot;Text&quot; $R1<br />
<br />
# show the install options page with the data<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;iop.ini&quot;<br />
<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shouman</div><div class="date">16th June 2005, 13:25</div></div><div class="posttext">Oh shit,it's a simple issue but I missed it.Damn it.<br />
<br />
M,it's a great help from you.Thank you very much.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>