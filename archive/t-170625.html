<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Wrong disk space available (win98 only), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Wrong disk space available (win98 only) NSIS Discussion" />
	
	<title> Wrong disk space available (win98 only) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Wrong disk space available (win98 only)</div>
<hr />
<div class="pda"><a href="t-170625.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=170625">Wrong disk space available (win98 only)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">LeCroqueMitaine</div><div class="date">23rd February 2004, 16:30</div></div><div class="posttext">Hello,<br />
<br />
I have a problem on win98, the disk space available is 1.9 gb, even if I have more disk space. How to have the right disk space requirement ? It seems limited to 2 gb on win98...<br />
<br />
(I'm using nsis 2.0)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LeCroqueMitaine</div><div class="date">24th February 2004, 10:22</div></div><div class="posttext">Please, I need an answer :)<br />
<br />
I made an installer than install more than 2 gb of datas. On windows 98, on the directory page, the &quot;disk space available&quot; is always 1.9gb, even if I have more disk space (currently I have over 10gb of empty space). What can I do to have the right disk space available ? Is this a bug of nsis ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">25th February 2004, 12:26</div></div><div class="posttext">This is related to limitations of Windows 9x API.<br />
<br />
I think the problem can be solved by using another API, but then I have to use 64-bit values which will probably require some optimization to make it not increase the overhead size.<br />
<br />
It will be investigated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LeCroqueMitaine</div><div class="date">4th March 2004, 15:46</div></div><div class="posttext">Any news ?<br />
<br />
To get the disk space available, maybe the developers used the function &quot;GetDiskFreeSpace()&quot;, instead of &quot;GetDiskFreeSpaceEx()&quot; ? For compatibility I think...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">4th March 2004, 16:03</div></div><div class="posttext">Yes, but there are some problems because 64-bit numbers should be used and it should be loaded dynamically because it should still run on older systems.<br />
<br />
Dave is already looking at it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">4th March 2004, 17:18</div></div><div class="posttext">i am not sure but fat32 is limited on 2GB ?<br />
i noticed some trouble ago with norton ghost from bootdisk and limit was 2gigs.<br />
<br />
ps its not the thing that u can not create greater partitions (i have 8gigs for games) - must be a limit from system  ?Â¿</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comm@nder21</div><div class="date">4th March 2004, 17:32</div></div><div class="posttext">no, at fat32 the limit for partition-size is over 100gb, but the limit for single files is about 4gb.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">4th March 2004, 17:38</div></div><div class="posttext">ok, 4gig it was :) thx<br />
<br />
then i dont know... fat? :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">4th March 2004, 18:02</div></div><div class="posttext">FAT16 is limited to 2GB.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">4th March 2004, 20:29</div></div><div class="posttext">Ta for the reminder. Yes, I've been looking at it.<br />
<br />
It is almost complete; I just need to trim some bytes off here and there to get the installer back within 34KB. Unfortunately I've not been able to spend much time to finish it during the week, but I should have it sorted this weekend.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">6th March 2004, 12:42</div></div><div class="posttext">Just updated CVS version of NSIS: Win9x (Win95 OSR2 and later) should now see drive space &gt; 2GB.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">6th March 2004, 21:33</div></div><div class="posttext">The first editor of Windows 95 supports only FAT16, which has a 2GB limit. So there should be no display limit anymore at all :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>