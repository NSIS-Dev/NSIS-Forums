<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Net Based?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Net Based? NSIS Discussion" />
	
	<title> Net Based? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Net Based?</div>
<hr />
<div class="pda"><a href="t-62591.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=62591">Net Based?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">phre0n</div><div class="date">14th October 2001, 20:27</div></div><div class="posttext">Ok bare with me.<br />
<br />
Is there anyway or is there ever going to be a way to do web based install.<br />
<br />
Example<br />
create the installer with some sort or ftp command built in.<br />
<br />
I would like it to connect to my server with an already set name and passwrd then copy all the contents of the folder and maby know if there is anything new in the folder.<br />
<br />
I am not that great with c\c++.  Or I would add it myself if it doesn't already exist.<br />
<br />
But I think that would be a great feature.<br />
<br />
Another good one would be passwrd required for install like a registration number.<br />
<br />
Thank you for baring with me.<br />
<br />
Please reply with anything that would help including how to add the source code my self to make the thing do what I would like.<br />
<br />
phre0n<br />
http://linux.ppp0.com  &lt;-Curently down</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DuaneJeffers</div><div class="date">14th October 2001, 22:43</div></div><div class="posttext">I wanted to create something like this, with an IDE, and it would be able to have &quot;live updating&quot; or patch updating. But Who knows.<br />
<br />
<br />
-Duane</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">15th October 2001, 00:26</div></div><div class="posttext">Edgewize has made something which helps do the job.  It's at http://scorpius.spaceports.com/~edgewize/<br />
<br />
It's impossible to do version checks on dlls on the web without downloading them first (so you can't only download DLL's if neccessary) - but if that's not what you'll be using it for then i'd say it's tip top.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phre0n</div><div class="date">15th October 2001, 00:43</div></div><div class="posttext">That should work but I think i will modify it some.<br />
<br />
One more how do you force a reboot.<br />
i tried C:\windows\rundll.exe user.exe,exitwindowsexec doesn't work in ME<br />
C:\windows\rundll.exe user.exe,exitwindows does shut it down but not what i want<br />
<br />
thanks for the help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pjw62</div><div class="date">15th October 2001, 18:42</div></div><div class="posttext">You could have the program check the last modified stamp in the HTTP header when downloading.. or download a preliminary text file with the version numbers in. I personally hate installers like 'Wise' that you download once and then have to connect to the internet to download the install files. It is extrememly frustrating when the internet is unavailable at later times for whatever reason.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">15th October 2001, 18:58</div></div><div class="posttext">Originally posted by pjw62 <br />
You could have the program check the last modified stamp in the HTTP header when downloading.. or download a preliminary text file with the version numbers in. I personally hate installers like 'Wise' that you download once and then have to connect to the internet to download the install files. It is extrememly frustrating when the internet is unavailable at later times for whatever reason. <br />
<br />
It would need to get the version number of the component, as the last modified stamp doesn't really mean anything.  According to Edgewize it's damn difficult to compare the version number of DLL's on your system to numbers specified in a script (saying which DLLs should be there, and downloading if neccessary) so that's why his component doesn't do it.<br />
<br />
If this could be made to work, downloading only the parts of programs the user hasn't already got could save most folks a lot of download time though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phre0n</div><div class="date">15th October 2001, 19:11</div></div><div class="posttext">That is the effect I am going for. Just to get the newer parts to something they may already have.  I made one that used the reading and writing of ini files.  I made an ini in the folder and put the version numbers and downloads they may need in it. Then had it get the ini first then compare to the one they already have.  Then download it if it was different.  My NSI is a cluster f*ck that way but it seems to be doing fine.  Thanks for all the help.  But I still can't figure how to force a reboot.<br />
<br />
Also has anyone thought of making NSIS cross platform that would be nice for linux users like myself.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pjw62</div><div class="date">15th October 2001, 19:13</div></div><div class="posttext">well ermm, what about writing a PERL/PHP/C proggy that the user can install on their webserver that returns the version of a given dll ? (From the version section of the pe).<br />
<br />
it was only a suggestion :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">15th October 2001, 19:23</div></div><div class="posttext">Does it allow you to do an easy check for the file and then give you the option to update?  For example,  when you run the installer,  it will check the specified URL for a filename and then return the filesize and timestamp so you can comare it to the current installer.  Something like that,  then you can inform the user about the new version if it is detected.<br />
<br />
If not does anyone have some scripting that will do that?  I think it would be kind of cool.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">liquidmotion</div><div class="date">16th October 2001, 20:48</div></div><div class="posttext">you can always have the installer download a .txt file with the dll versions in it, check the file, then download if necessary.<br />
<br />
bye,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Pomflain</div><div class="date">17th October 2001, 23:21</div></div><div class="posttext">I want to be able to check a file on the site,  the actual installer itself.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phre0n</div><div class="date">17th October 2001, 23:28</div></div><div class="posttext">That is what i had to do with the ini file.<br />
make an ini that goes with the program.<br />
make it look something like this<br />
<br />
[program_name]<br />
version=1.1<br />
<br />
then make a section called update.<br />
have it down load the ini<br />
compare version's string with the ini that is already with it.<br />
if diferent have it download<br />
there you have it.<br />
<br />
if some one really wants i am good with perl i will right a script to check dll versions and have it where you could run it via cgi.<br />
<br />
thanks<br />
phre0n<br />
<br />
http://linux.ppp0.com &lt;- Still down</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">18th October 2001, 01:58</div></div><div class="posttext">According to Edgewise, the problem comes with having NSIS compare a DLL version already on the user's system to a given number.  Apparently it's easy to compare 2 DLLs on the system against each other, but not one against a version number.  In his words (I'm sure he won't mind me posting this), <br />
 Right now, there is no simple way to check DLL versions against a number or string that you would put in a script.  The version-resource API was designed from the ground up to frustrate programmers, it seems, and its a little trickier than I'd like it to be.  So the short answer for you is, no there's no way to do this now.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">18th October 2001, 08:11</div></div><div class="posttext">Hrm, I must correct myself here.  What I was expressing before was a combination of frustrations with the Win32 API, Justin's EXEHEAD script parsing, and the CompareDLLVersions command.  With the new numeric variables, this should be quite feasable.<br />
<br />
But since Justin is on the upside of another manic NSIS swing, I'm leaving the code alone until he cools down a bit ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">18th October 2001, 08:37</div></div><div class="posttext">Originally posted by Edgewize <br />
Hrm, I must correct myself here.  What I was expressing before was a combination of frustrations with the Win32 API, Justin's EXEHEAD script parsing, and the CompareDLLVersions command.  With the new numeric variables, this should be quite feasable.<br />
<br />
But since Justin is on the upside of another manic NSIS swing, I'm leaving the code alone until he cools down a bit ;) <br />
<br />
Heh I am so obsessive. Here's what's coming in 1.60 (due this weekend):<br />
<br />
<br />
 Improved CopyFiles some (added /SILENT option) <br />
 Added FindFirst, FindNext, FindClose. <br />
 Added FileOpen, FileClose, FileSeek, FileRead, FileWrite (text file manipulation yay) <br />
 Improved GCC compatibility (using some of Nels' suggestions) <br />
 Made config.h options more granular. <br />
 Cleaned up lots of code. <br />
 Broke lots of code, I'm sure.<br />
<br />
<br />
Right now with all features enabled, the exehead is exactly 36kb. Having the file i/o and directory scanning code is nice, too.<br />
There will probably be more suprises as well.<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">spanky</div><div class="date">18th October 2001, 08:48</div></div><div class="posttext">ahem.  not to sound gay or anything but..<br />
Justin, I love you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">18th October 2001, 09:04</div></div><div class="posttext">What I was expressing before was a combination of frustrations with the Win32 API, Justin's EXEHEAD script parsing, and the CompareDLLVersions command.  With the new numeric variables, this should be quite feasable.<br />
<br />
But since Justin is on the upside of another manic NSIS swing, I'm leaving the code alone until he cools down a bit ;) <br />
<br />
Oh... sorry folks :D :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">phre0n</div><div class="date">18th October 2001, 23:31</div></div><div class="posttext">I am looking forward to the text file manipulation that will be nice.  And help a bunch in my work.  keep up the good work justin.<br />
<br />
thanks,<br />
Michael Garcia<br />
<br />
http://linux.ppp0.com  &lt;-- Damn thing is still down.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Someonebutnotme</div><div class="date">19th October 2001, 21:07</div></div><div class="posttext">heh, Justin's on a role with nsis updates again.  its nice.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">prodangle</div><div class="date">20th October 2001, 15:54</div></div><div class="posttext">Now this looks exciting:<br />
<br />
from NSIS 1.60 beta whatsnew-<br />
...<br />
Added FileOpen, FileClose, FileSeek, FileRead, FileWrite (text file manipulation yay) <br />
...<br />
Removed CompareDLLVersions, CompareFileTimes, added GetDLLVersion, GetFileTime, GetDLLVersionLocal, GetFileTimeLocal, and IntCmpU. <br />
...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Edgewize</div><div class="date">20th October 2001, 21:39</div></div><div class="posttext">Well that solves the DLL version-test problem for good, I think :)<br />
<br />
GetDLLVersion on the downloaded file, GetDLLVersion on the Windows\System file, compare with IntCmpU, and replace as necessary.<br />
<br />
I like the direction NSIS scripting is headed :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>