<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" possible? InstallOptions with variable, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  possible? InstallOptions with variable NSIS Discussion" />
	
	<title> possible? InstallOptions with variable [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  possible? InstallOptions with variable</div>
<hr />
<div class="pda"><a href="t-137392.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=137392">possible? InstallOptions with variable</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">1st June 2003, 14:56</div></div><div class="posttext">Is that possible to manage?<br />
<br />
<br />
<br />
  !insertmacro MUI_INSTALLOPTIONS_READ ${TEMP1} $0 &quot;Field 2&quot; &quot;State&quot;<br />
<br />
SectionEnd<br />
<br />
...<br />
<br />
Function .onInit<br />
<br />
  ;Extract InstallOptions INI Files<br />
  StrCmp $LANGUAGE &quot;1033&quot; 0 +2<br />
    StrCpy $0 res\shortcuts_ger.ini<br />
  StrCmp $LANGUAGE &quot;1031&quot; 0 +2<br />
    StrCpy $0 res\shortcuts_eng.ini<br />
  ;StrCmp $LANGUAGE &quot;1036&quot; 0 +2<br />
  ;  StrCpy $0 &quot;res\shortcuts_fre.ini&quot;<br />
<br />
  !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;$0&quot; &lt;-- causes errormessage<br />
<br />
<br />
message:<br />
!insertmacro: MUI_INSTALLOPTIONS_EXTRACT<br />
File: &quot;$0&quot; -&gt; no files found.<br />
<br />
Push - pop ?<br />
I have no idea :(<br />
<br />
PS hope it is possible otherwise i have to write same code x-times for each language</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">1st June 2003, 15:30</div></div><div class="posttext">maybe using:<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_EXTRACT_AS &quot;X&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st June 2003, 15:35</div></div><div class="posttext">You will have to write the same code for each language because $0 is a runtime variable and not a compile time variable. NSIS has to know it needs to compress all of those INI files, it won't guess at compile time that you want all of those when you only tell it to get $0 (which is treated as $0 and not the value $0. Again, because it's a runtime variable).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">1st June 2003, 15:38</div></div><div class="posttext">thank u<br />
<br />
another question:<br />
<br />
original filename ist &quot;shortcuts.ini&quot;<br />
<br />
i like to use &quot;shortcuts_fre.ini&quot; or &quot;shortcuts1033.ini&quot; but this names might be too long? the options are not shown in last cases. is there a name length limit?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">1st June 2003, 15:42</div></div><div class="posttext">The is no name length limitation (well, there is, but I doubt you'll ever get there :))</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ramon18</div><div class="date">2nd June 2003, 11:49</div></div><div class="posttext">Try this<br />
<br />
LangString OPT_IMPORTDB_FILE ${LANG_ENGLISH}      &quot;OptImportDBEN.ini&quot;<br />
LangString OPT_IMPORTDB_FILE ${LANG_PORTUGUESE}   &quot;OptImportDBPT.ini&quot;<br />
LangString OPT_IMPORTDB_FILE ${LANG_PORTUGUESEBR} &quot;OptImportDBBR.ini&quot;<br />
LangString OPT_IMPORTDB_FILE ${LANG_POLISH}       &quot;OptImportDBPL.ini&quot;<br />
<br />
  push $R0<br />
  StrCpy $R0 $(OPT_IMPORTDB_FILE)<br />
  !insertmacro MUI_INSTALLOPTIONS_INITDIALOG $R0<br />
  !insertmacro MUI_INSTALLOPTIONS_SHOW<br />
  pop $R0<br />
  pop $R0<br />
<br />
<br />
good luck<br />
Ramon</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>