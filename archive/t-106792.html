<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Check for RegKey, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Check for RegKey NSIS Discussion" />
	
	<title> Check for RegKey [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Check for RegKey</div>
<hr />
<div class="pda"><a href="t-106792.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=106792">Check for RegKey</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rio</div><div class="date">24th September 2002, 10:31</div></div><div class="posttext">Hi experts :)<br />
<br />
I want to check a registry key during installation<br />
unfortunatly there is a subkey (and I don´t know the<br />
name of the subkey). So I can´t use &quot;ReadRegStr&quot; to check a<br />
string of the name.<br />
So is there a possibility to do a &quot;CheckRegKey&quot; (like <br />
&quot;DeleteRegKey&quot;) without knowing the subkeys ?<br />
<br />
thank and br<br />
<br />
rio</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th September 2002, 10:52</div></div><div class="posttext">What do you mean by &quot;checking&quot;? Do you want to know the name of that subkey? Use EnumRegKey if that's the case. EnumRegKey will give you all of the subkeys of the desired regkey one by one.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rio</div><div class="date">24th September 2002, 11:00</div></div><div class="posttext">@kichik: Thanks for your fast answer :)<br />
<br />
<br />
With checking I mean: Exist this RegKey ?<br />
<br />
EnumRegKey is fine if there are subkeys, but not on<br />
all Win-Versions there are subkeys in the Key I want to<br />
know if it exist. :cry: <br />
<br />
Perhabs I have to do make a Win-version specific solution.<br />
<br />
thanks<br />
rio</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th September 2002, 11:28</div></div><div class="posttext">EnumRegKey returns an empty string if there are no more keys, so you can just give it the first index (0 or 1) and if it returns an emtpy string, and the error flag is not set, the key is empty. If the error flag is set, there was an error.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rio</div><div class="date">24th September 2002, 11:41</div></div><div class="posttext">Hi kichik,<br />
<br />
Thanks.<br />
One last question :D <br />
If a key have one subkey, what is the index of this<br />
subkey (0 or 1)?<br />
<br />
best regards<br />
rio</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th September 2002, 11:45</div></div><div class="posttext">From MSDN:<br />
<br />
dwIndex<br />
[in] Index of the subkey to retrieve. This parameter should be zero for the first call to the RegEnumKeyEx function and then incremented for subsequent calls. <br />
Because subkeys are not ordered, any new subkey will have an arbitrary index. This means that the function may return subkeys in any order.<br />
<br />
So zero it is :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rio</div><div class="date">24th September 2002, 12:05</div></div><div class="posttext">Thank you :up:<br />
<br />
rio</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>