<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to Register File Types?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to Register File Types? NSIS Discussion" />
	
	<title> How to Register File Types? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to Register File Types?</div>
<hr />
<div class="pda"><a href="t-140254.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=140254">How to Register File Types?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">mcrbids</div><div class="date">27th June 2003, 01:54</div></div><div class="posttext">I'm attempting to write an installer for a php-gtk program. I've figured out most of it, except that I need to register the &quot;.php&quot; filetype with the correct executable so that the application will actually run. <br />
<br />
I can't find this anywhere in the documentation... how do I do this? <br />
<br />
I want to register the &quot;.php&quot; filetype with application <br />
<br />
c:\Program Files\php4\php_gtk.exe<br />
<br />
Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">27th June 2003, 02:57</div></div><div class="posttext">What you need is to create some registry keys/enties in HKEY_LOCAL_MACHINE\Software\Classes first you need to create a &quot;.php&quot; key with the description of the file type.  Then create a key with the description as the name.<br />
<br />
Check the registy for some examples of the keys/entries.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th June 2003, 12:41</div></div><div class="posttext">The NSIS installer registers .nsi and .nsh. Its source code can be found in Examples\makensis.nsi. Is someone up to creating an Archive page for this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">27th June 2003, 14:52</div></div><div class="posttext">Archive page created here (http://nsis.sourceforge.net/archive/nsisweb.php?page=337&amp;instances=0) :) <br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th June 2003, 20:14</div></div><div class="posttext">Thanks.<br />
<br />
The code you've copied also backups the old value so it would be nice if you include the uninstall part too that shows the reinsertion of the backuped value.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">28th June 2003, 02:47</div></div><div class="posttext">Will do as soon as i can, probably in a few hours<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">28th June 2003, 06:36</div></div><div class="posttext">Updated archive page to include restoration script for uninstaller. Thanks kichik for pointing this out.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rene@alquesm.dk</div><div class="date">23rd November 2004, 13:49</div></div><div class="posttext">Jsut wanted to add, that according to the MSDN, it's important to notify the system that you have made a change. You do this with the function SHChangeNotify. To notify Windows of a file association change, call the function like this:<br />
<br />
SHChangeNotify(SHCNE_ASSOCCHANGED, SHCNF_DWORD, NULL, NULL);<br />
<br />
If you do not call this function, Windows might not recognize your new filetype, or the change you made, before the system has been restarted.<br />
<br />
Best regards<br />
Ren√© Gundersen (rene@alquesm.dk)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">super-llooyd</div><div class="date">7th December 2005, 23:55</div></div><div class="posttext">how do i call this SHChangeNotify?<br />
(in NSIS I mean?)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dandaman32</div><div class="date">8th December 2005, 03:26</div></div><div class="posttext">Use the System plugin.System::Call 'shell32.dll::SHChangeNotify(i, i, i, i) v (0x08000000, 0, 0, 0)'<br />
<br />
-dandaman32</div></div><hr />


<div class="post"><div class="posttop"><div class="username">IGC</div><div class="date">14th July 2006, 22:18</div></div><div class="posttext">I have a question regarding this...<br />
<br />
I was able to register the .igc extensions with my program.<br />
Everytime I click on one of the .igc files the program executes correctly BUT..<br />
<br />
The parameter passed to the program (the .igc file clicked) has a limited length. When that limit is passed the parameter contains tildes (~) on the path and in the filename.<br />
<br />
For example: I click on &quot;D:/Documents/My_files/igc_files/file to open.igc&quot;, my program executes, but the paramter passed to the program is something like: &quot;D:/DOCU~/MY~/IGC~/FILET~1.igc&quot;<br />
<br />
When this happens my program can't find the passed file and it is not opened.<br />
<br />
How do I solve this problem?<br />
<br />
It does not affect the execution of the program, and if I use the Open button on my program the files open correctly, but it is an extrange behaviour that can be viewed as a bug on the code...<br />
<br />
EDIT:<br />
I found the source of the problem...<br />
after shell\open\command I forgot to put quotes between the path to my executable. I do not know how that affects the arguments passed to the program, but it does.<br />
Everything works perfect now.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>