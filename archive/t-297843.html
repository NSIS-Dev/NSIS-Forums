<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" VersionCompare and makensis.nsi, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  VersionCompare and makensis.nsi NSIS Discussion" />
	
	<title> VersionCompare and makensis.nsi [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  VersionCompare and makensis.nsi</div>
<hr />
<div class="pda"><a href="t-297843.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=297843">VersionCompare and makensis.nsi</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pgg1</div><div class="date">25th September 2008, 11:05</div></div><div class="posttext">Hi guys,<br />
<br />
I want to incorporate versioning into our installer. I'm going to use VersionCompare and have been looking at an example called makensis.nsi in the Examples directory of NSIS.<br />
<br />
How do the following values get defined in makensis.nsi.<br />
<br />
VER_MAJOR<br />
VER_MINOR<br />
VER_REVISION<br />
VER_BUILD<br />
<br />
<br />
Regards<br />
<br />
Paul</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pbingel</div><div class="date">25th September 2008, 14:39</div></div><div class="posttext">makensis is used by the compiler not something you should be messing with. I don't think you can directly set those variables, however you can set the version number in a x.x.x.x fashion (see below) and makensis will automatically translate it into VER_MAJOR.VER_MINOR.VER_REVISION.VER_BUILD<br />
<br />
Directly from the manual<br />
<br />
4.8.3 Version Information<br />
4.8.3.1 VIAddVersionKey<br />
 [/LANG=lang_id] keyname value<br />
Adds a field in the Version Tab of the File Properties. This can either be a field provided by the system or a user defined field. The following fields are provided by the System:<br />
<br />
ProductName<br />
Comments<br />
CompanyName<br />
LegalCopyright<br />
FileDescription<br />
FileVersion<br />
ProductVersion<br />
InternalName<br />
LegalTrademarks<br />
OriginalFilename<br />
PrivateBuild<br />
SpecialBuild<br />
The name of these fields are translated on the target system, whereas user defined fields remain untranslated.<br />
<br />
VIAddVersionKey /LANG=${LANG_ENGLISH} &quot;ProductName&quot; &quot;Test Application&quot;<br />
VIAddVersionKey /LANG=${LANG_ENGLISH} &quot;Comments&quot; &quot;A test comment&quot;<br />
VIAddVersionKey /LANG=${LANG_ENGLISH} &quot;CompanyName&quot; &quot;Fake company&quot;<br />
VIAddVersionKey /LANG=${LANG_ENGLISH} &quot;LegalTrademarks&quot; &quot;Test Application is a trademark of Fake company&quot;<br />
VIAddVersionKey /LANG=${LANG_ENGLISH} &quot;LegalCopyright&quot; &quot;Â© Fake company&quot;<br />
VIAddVersionKey /LANG=${LANG_ENGLISH} &quot;FileDescription&quot; &quot;Test Application&quot;<br />
VIAddVersionKey /LANG=${LANG_ENGLISH} &quot;FileVersion&quot; &quot;1.2.3&quot;<br />
<br />
4.8.3.2 VIProductVersion<br />
[version_string_X.X.X.X]<br />
Adds the Product Version on top of the Version Tab in the Properties of the file.<br />
<br />
VIProductVersion &quot;1.2.3.4&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pgg1</div><div class="date">25th September 2008, 15:23</div></div><div class="posttext">What you have posted I already have in my build script. What I didn't realise is that NSIS presumably takes the string VIProductVersion &quot;1.2.3.4&quot; and splits it then does the conversion to define: <br />
<br />
VER_MAJOR.VER_MINOR.VER_REVISION.VER_BUILD<br />
<br />
Thanks for that.<br />
<br />
makensis.nsi is the build script used by NSIS and is purposely put into the Examples directory to learn from. There's lots of little gems in there so I recommend to anyone to have a look.<br />
<br />
Regards.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>