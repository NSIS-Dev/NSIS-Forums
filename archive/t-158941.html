<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" using MUI_DIRECTORYPAGE for other purposes?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  using MUI_DIRECTORYPAGE for other purposes? NSIS Discussion" />
	
	<title> using MUI_DIRECTORYPAGE for other purposes? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  using MUI_DIRECTORYPAGE for other purposes?</div>
<hr />
<div class="pda"><a href="t-158941.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=158941">using MUI_DIRECTORYPAGE for other purposes?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">ASterX</div><div class="date">8th December 2003, 07:05</div></div><div class="posttext">Hi there,<br />
could anyone help me perhaps to find the best way to realize following 'problem'?<br />
While installing I need to ask the users for an additional folder to store some files in. There is no way to read it from the registry (although I could make a guess where the path could be) or find it otherwise. The simplest thing would be, as far as I see, to use the MUI_DIRECTORYPAGE for my purposes.<br />
Unfortunately I have no idea what the simplest way is to change the behaviour of the dialog for my needs. Do I have to recompile or could it be easier with some of theses FindWindow/SendMessage things?<br />
<br />
I would be happy to hear from you,<br />
thanks, ASterX</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th December 2003, 08:45</div></div><div class="posttext">What exactly is the behavior you're trying to achieve? MUI_DIRECTORYPAGE insterts a page which asks for a directory. What do you want to change in it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ASterX</div><div class="date">8th December 2003, 09:11</div></div><div class="posttext">Well, by now I realized at least how to change the text of the dialog - that has been my main problem, I don't know why I had not the idea to change strings like one would do for another language (German.nsh).<br />
Three things are still left, I'm sure they also have a simple solution:<br />
· I haven't yet figured out how to tell the DirectoryPage the path which should be the standard at startup without changing the $INSTDIR<br />
· How do I get the chosen directory after/while closing the dialog ?<br />
· Is there a possibility to use the DirectoryPage twice, with different strings ?<br />
<br />
Unfortunately I haven't found anything to these topics in the forums.<br />
<br />
Thnx AsterX</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th December 2003, 09:30</div></div><div class="posttext">This thread (http://forums.winamp.com/showthread.php?s=&amp;threadid=157405&amp;highlight=%2AVARIABLE) shows what needs to be done.<br />
<br />
BTW, you don't need to change the language files to change certain strings. See the MUI readme for information about changing MUI strings. MUI_DIRECTORYPAGE_TEXT_TOP is probably what you're after.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ASterX</div><div class="date">8th December 2003, 09:37</div></div><div class="posttext">Thanks, but that is OK - I found the right parts of the documentation, but the other things - I don't come further with them. The installation directory is changed after the DirectoryPage even when I call a function which changes it back to what it should be in MUI_CUSTOMFUNCTION_DIRECTORY_LEAVE and a MessageBox tells me it would be the right path.<br />
<br />
I just need a possibility to ask the users for two different folders during the installation where none of them is the installation folder (which is fix).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th December 2003, 09:41</div></div><div class="posttext">The thread I linked to shows you how to ask for two different directories. Once you get the second directory page working you can easily get the &quot;first&quot; one to refer to something else than $INSTDIR too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ASterX</div><div class="date">8th December 2003, 10:03</div></div><div class="posttext">Sorry, for some reason I didn't notice the link.<br />
I'll have a try, thank you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ASterX</div><div class="date">8th December 2003, 15:28</div></div><div class="posttext">After changing to newest NSIS version everything works fantastic, thank you very much.<br />
<br />
ASterX</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>