<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" reload page from nsdialogs callback, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  reload page from nsdialogs callback NSIS Discussion" />
	
	<title> reload page from nsdialogs callback [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  reload page from nsdialogs callback</div>
<hr />
<div class="pda"><a href="t-294950.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=294950">reload page from nsdialogs callback</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">landaquinn</div><div class="date">23rd July 2008, 00:26</div></div><div class="posttext">I am using the NSDialogs BrowseButton callback macro  ${NSD_OnClick} to get the user's input on Tomcat's root directory for webapps.<br />
If the user changes this directory, I want other fields to update, and some to disappear.  For example, update will no longer be an option if the new directory doesn't have the installation .war file.<br />
Functionally, I want the entire page to reload as if coming back from its leaving function, or the back button.<br />
<br />
any suggestions on how to accomplish this?<br />
....<br />
${NSD_OnClick} $BrowseButton2 GetwebappHome<br />
....<br />
Function GetwebappHome<br />
 Exch $R0<br />
 ${If} $R0 == $BrowseButton2<br />
    nsDialogs::SelectFolderDialog /NOUNLOAD &quot;open&quot; $webappsdir <br />
    Pop $R0<br />
    ${If} $R0 != error<br />
        StrCpy $webappsdir $R0<br />
        ${NSD_SetText} $Text_3 $webappsdir ; reset text to new dir<br />
    ${EndIf}<br />
<br />
${Endif}  <br />
pop $R0 <br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd July 2008, 18:21</div></div><div class="posttext">Reloading the entire thing is not exactly possible. But you could hide and show everything with ShowWindow. I suggest you create two functions - ShowUpgradeOption and HideUpgradeOption. Those two will set visibility and other variables of the controls. You can then use those two in both the browse button callback and the function that creates the dialog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">landaquinn</div><div class="date">24th July 2008, 17:20</div></div><div class="posttext">I did try putting the display function into a separate function (though I didn't use show window, i just called it from the callback function, trying to overlay new controls)<br />
It didn't really work that well, and I finally put the control that i wanted to initiate the changes into a previous page.<br />
However, the ability to delete a control and refresh the page would be nice functionality to have.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">24th July 2008, 17:22</div></div><div class="posttext">You don't need to delete it. Simply hide it using ShowWindow.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>