<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Persist field values on click of back button., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Persist field values on click of back button. NSIS Discussion" />
	
	<title> Persist field values on click of back button. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Persist field values on click of back button.</div>
<hr />
<div class="pda"><a href="t-302685.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302685">Persist field values on click of back button.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">parag_NSIS</div><div class="date">2nd February 2009, 07:25</div></div><div class="posttext">Hello,<br />
<br />
Persist field values on click of back button:<br />
<br />
Right now when I enters the values in the textboxes(fields) and clicks on the next button. Now when I click on the back button again that time the values I had entered on the previous page becomes blank. I mean to say the NSIS is not persisting the values for previous pages.<br />
<br />
Can anyone please tell me how can I do it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">2nd February 2009, 08:55</div></div><div class="posttext">store the value in a variable, then restore the value into the control when the page is loaded.<br />
<br />
For more details... are you using InstallOptions(2/Ex) or nsDialogs?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">parag_NSIS</div><div class="date">3rd February 2009, 07:13</div></div><div class="posttext">I am using InstallOptions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">parag_NSIS</div><div class="date">3rd February 2009, 07:15</div></div><div class="posttext">BTW, Do you have code for the above explanation? If yes can you please share it with me.<br />
<br />
<br />
Thanks for the reply.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">3rd February 2009, 16:14</div></div><div class="posttext">okay, for InstallOptions it's pretty simple as it stores the values in the .INI file.  So all you have to do is make sure you don't extract the .INI again when the page loads.  <br />
<br />
There's two easy ways you can do this..<br />
<br />
A. Extract any custom dialog INIs in e.g. the onGUIinit callback.  This will also extract INIs that you may not end up using and will slow down installer launch a slight bit.<br />
<br />
outfile 'customtest.exe'<br />
<br />
!include 'LogicLib.nsh'<br />
!include 'MUI.nsh'<br />
<br />
!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
!define MUI_CUSTOMFUNCTION_GUIINIT onGuiInit<br />
<br />
var hwnd<br />
<br />
Page Custom CustomPre CustomPost<br />
Page Directory<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
<br />
Function onGuiInit<br />
	!insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;textfield.ini&quot;<br />
FunctionEnd<br />
<br />
Function CustomPre<br />
	!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;textfield.ini&quot;<br />
	Pop $hwnd<br />
	!insertmacro MUI_INSTALLOPTIONS_SHOW<br />
FunctionEnd<br />
<br />
Function CustomPost<br />
FunctionEnd<br />
<br />
Section<br />
SectionEnd<br />
<br />
<br />
B. Extract the custom dialog INIs when needed, only once.  This will only extract the INIs you actually use (if you skip a custom page, its ini won't be extracted), but will make the page showing up be delayed by a fraction.<br />
<br />
outfile 'customtest.exe'<br />
<br />
!include 'LogicLib.nsh'<br />
!include 'MUI.nsh'<br />
<br />
!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
<br />
var hwnd<br />
<br />
Page Custom CustomPre CustomPost<br />
Page Directory<br />
<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
Function CustomPre<br />
	${Unless} ${FileExists} &quot;$PLUGINSDIR\unwelcome.ini&quot;<br />
		!insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;textfield.ini&quot;<br />
	${EndUnless}<br />
	!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;textfield.ini&quot;<br />
	Pop $hwnd<br />
	!insertmacro MUI_INSTALLOPTIONS_SHOW<br />
FunctionEnd<br />
<br />
Function CustomPost<br />
FunctionEnd<br />
<br />
Section<br />
SectionEnd<br />
<br />
<br />
I hope that helps - textfield.ini is just an installoptions ini file with a single text field, for testing.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>