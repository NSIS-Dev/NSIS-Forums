<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Newbee needing help, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Newbee needing help NSIS Discussion" />
	
	<title> Newbee needing help [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Newbee needing help</div>
<hr />
<div class="pda"><a href="t-174481.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=174481">Newbee needing help</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">28th March 2004, 19:14</div></div><div class="posttext">Hi all,<br />
These things will probobly be easy for an expert but I can't find a way to do them! Any help would be apreciated.<br />
I have a nice installer going (http://chris.simutrans.com) but need some help on advancing it.<br />
1) Can you add a texture to the modernUI, insead of the default windows coluorings?<br />
2) How do you make an item to install ALWAYS cheacked, IE must be installed?<br />
3) How do I do the background image thing? I have tryed ecery variation yet it still does not work! <br />
Any ideas?<br />
I will probobly think of some other things later...:D <br />
Thanks<br />
:eek:<br />
Chris</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">28th March 2004, 19:22</div></div><div class="posttext">1) Nope. That will be subclassing, meaning change the source code of NSIS.<br />
2) Read about IfFileExists<br />
3) What background image? The installer top corner?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">28th March 2004, 19:47</div></div><div class="posttext">1) If you mean a &quot;theme&quot;, you have to change a lot the NSIS source code...<br />
2) Use SectionSetFlags command inside .onSelChange function (if you mean &quot;checked on components page&quot;).<br />
3) See the example &quot;${NSISDIR}\Contrib\BgImage.nsi&quot; (if you really mean &quot;background image&quot;).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">29th March 2004, 18:26</div></div><div class="posttext">1)I mean, instead of windows giving you a boring gray like all the other windows to use a bitmap or other image as a &quot;texture&quot;<br />
2)I want the file to be un-unchekable if you get me. It cannot be uncheaked. They are the core files for the program.<br />
3)I mean the full screen thingy, i have read that but it eather says there is an error in the script or makes it, but it doesnt actualy show up!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">29th March 2004, 19:07</div></div><div class="posttext">For (2) on your list, I think SectionIn and the RO parameter are what you are looking for. (See 4.6.1.4 in the NSIS manual)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">30th March 2004, 02:01</div></div><div class="posttext">1) As I told you, no. You'll have to change the source code.<br />
2) Like pengyou saud.<br />
3) There's a plugin, right?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">30th March 2004, 18:01</div></div><div class="posttext">3) Er, yes</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">1st April 2004, 19:00</div></div><div class="posttext">trying to add shortcuts to websites in users favorites? I have 3 set up, only 1 installs and it shows up as a shortcut not a link. any ideas?:confused: :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">1st April 2004, 19:21</div></div><div class="posttext">Search the forum for info about URL files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">VegetaSan</div><div class="date">2nd April 2004, 13:57</div></div><div class="posttext">It's really easy : <br />
<br />
CreateShortCut &quot;$FAVORITES\Anime-Supreme.lnk&quot; &quot;http://www.anime-supreme.com&quot;<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">VegetaSan</div><div class="date">2nd April 2004, 14:00</div></div><div class="posttext">without the &quot;SectionEnd&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">3rd April 2004, 00:08</div></div><div class="posttext">VegetaSan, (TIP) don't forget, has an &quot;Edit&quot; button on the right corner part of each post, so you can edit the post if it has something wrong. The time limit for the edition is 3 hours after the posting.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">26th April 2004, 19:14</div></div><div class="posttext">Any ideas? This comes up when compiling:<br />
<br />
Error: File doesn't exist or is an invalid icon file<br />
Error in macro MUI_INTERFACE on macroline 61<br />
Error in macro MUI_PAGE_INIT on macroline 3<br />
Error in macro MUI_PAGE_WELCOME on macroline 5<br />
Error in script &quot;C:\Documents and Settings\Administrator\Desktop\Simutrans.nsi&quot; on line 49 -- aborting creation process<br />
<br />
The line in question is:<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
<br />
What is going on????:weird: <br />
Using NSIS v2<br />
Very confused:confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">26th April 2004, 20:16</div></div><div class="posttext">The icon set using MUI_ICON is invalid or you removed files from the Contrib\Graphics folder.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">VegetaSan</div><div class="date">27th April 2004, 09:42</div></div><div class="posttext">I had the same problem once ... but when I copied the icon to my C: then It suddenly worked <br />
<br />
<br />
!define MUI_ICON &quot;C:\icon.ico&quot;<br />
!define MUI_UNICON &quot;C:\icon.ico&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th April 2004, 09:45</div></div><div class="posttext">The location of the icon makes no difference.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">VegetaSan</div><div class="date">27th April 2004, 10:04</div></div><div class="posttext">I know that .. but that really was the problem at my place</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th April 2004, 10:12</div></div><div class="posttext">I think it must have been a typo :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">27th April 2004, 19:21</div></div><div class="posttext">ok, still no good. this is the full thing I think:<br />
<br />
!insertmacro: MUI_PAGE_WELCOME<br />
Error: File doesn't exist or is an invalid icon file<br />
Error in macro MUI_INTERFACE on macroline 61<br />
Error in macro MUI_PAGE_INIT on macroline 3<br />
Error in macro MUI_PAGE_WELCOME on macroline 5<br />
Error in script &quot;C:\Documents and Settings\Administrator\Desktop\Simutrans.nsi&quot; on line 49 -- aborting creation process</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th April 2004, 19:31</div></div><div class="posttext">Did you define MUI_ICON? If yes, that file in invalid. Otherwise the default icon file is missing, in that case reinstall NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">27th April 2004, 19:34</div></div><div class="posttext">!define MUI_ICON  &quot;C:\csimu.ico&quot;<br />
!define MUI_UNICON &quot;C:\simuun.ico&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">27th April 2004, 19:36</div></div><div class="posttext">That means that these files are invalid icon files. Note that bitmaps are not identical to icons, you'll have to use an icon editor.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">27th April 2004, 19:46</div></div><div class="posttext">they are icons. I made them and they have worked before</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">27th April 2004, 20:05</div></div><div class="posttext">sorry! whilst making them the same size I had chanded one of the names!! Silly me. workes now...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">8th May 2004, 12:19</div></div><div class="posttext">OK, I want to get the unistaller to copy the savefiles from folder &quot;save&quot; to a new folder &quot;Save bakup&quot; in mydocuments. I have tryed doing this as you would when programming the installer bit, the file compiles fine just it dosent actualy do it! Any ideas??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">8th May 2004, 13:12</div></div><div class="posttext">Use CopyFiles with full path names.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">8th May 2004, 15:06</div></div><div class="posttext">how exactly? copyfiles &quot;$INSTDIR\save\*.*&quot; &quot;C:\save backup&quot; ??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th May 2004, 10:58</div></div><div class="posttext">Yes</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">9th May 2004, 14:35</div></div><div class="posttext">ok, now how do I add a section to the installer to restore tose saves from the ENDUSER's PC not mine??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">9th May 2004, 16:43</div></div><div class="posttext">Section &quot;Restore&quot;<br />
  CopyFiles $MYDOCS\save\*.* $INSTDIR<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">9th May 2004, 19:44</div></div><div class="posttext">thanks, will give it a go!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">26th May 2004, 19:00</div></div><div class="posttext">ok, next. tryed the BG plugin again, it works fine but I get<br />
!insertmacro: MUI_LANGUAGE<br />
Error: Function named &quot;.onGUIInit&quot; already exists.<br />
Error in macro MUI_FUNCTION_GUIINIT on macroline 2<br />
Error in macro MUI_INSERT on macroline 11<br />
Error in macro MUI_LANGUAGEFILE_BEGIN on macroline 4<br />
!include: error in script: &quot;C:\Program Files\NSIS\Contrib\Modern UI\Language files\English.nsh&quot; on line 9<br />
Error in macro MUI_LANGUAGE on macroline 5<br />
Error in script &quot;C:\Documents and Settings\admin2\Desktop\Simutrans.nsi&quot; on line 61 -- aborting creation process<br />
<br />
or a list of text thingys which havent worked and the installer is screwed. any ideas?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">27th May 2004, 20:21</div></div><div class="posttext">same thing, it is not a problem with the rest of the script. HELP anybody???</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">28th May 2004, 09:42</div></div><div class="posttext">See the MUI readme about custom functions (or something similar). The MUI uses .onGUIInit.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">28th May 2004, 19:06</div></div><div class="posttext">setting the language is a custom function?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th May 2004, 09:34</div></div><div class="posttext">No, &quot;Customize Modern UI Functions&quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">29th May 2004, 15:04</div></div><div class="posttext">ok, so how do i make the b/g image function to be called notusing .onguinit??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">29th May 2004, 18:38</div></div><div class="posttext">From the MUI ReadMe:<br />
<br />
If you want add your own code to functions inserted by the Modern UI, such as the .onGUIInit function and the Page functions, create your own function and let the Modern UI functions call them. Use the defines to define the name of your functions.<br />
<br />
Example:<br />
<br />
!define MUI_CUSTOMFUNCTION_GUIINIT myGuiInit<br />
<br />
Function myGUIInit<br />
  ...your own code...<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">29th May 2004, 19:16</div></div><div class="posttext">YEs! Thanks, it works!! codn't find that in my readme, sorry.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jollyjoice</div><div class="date">30th May 2004, 17:19</div></div><div class="posttext">how do you work the Compare functions? I wnat to get it to compare the current installer with the one on my website and download it if necessary, all i can get it to do is say &quot;you are uptodate&quot; or download it regardless</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>