<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS and GetDlgItem, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS and GetDlgItem NSIS Discussion" />
	
	<title> NSIS and GetDlgItem [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS and GetDlgItem</div>
<hr />
<div class="pda"><a href="t-319857.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=319857">NSIS and GetDlgItem</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">voxio</div><div class="date">11th June 2010, 12:40</div></div><div class="posttext">Hi Guys,<br />
<br />
I have an installer script and I'm looking at adding Tooltips to some icons I have inserted into a custom page.<br />
<br />
The page is called as follows:<br />
<br />
<br />
Page custom Custom_Component<br />
<br />
<br />
Function:<br />
<br />
Function Custom_Component<br />
   Call show_configuration<br />
 FunctionEnd<br />
<br />
Function show_configuration<br />
Pop $hwnd<br />
FindWindow $3 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
GetDlgItem $1 $3 1210 ;Field 9<br />
MessageBox MB_OK &quot;1 is $1 - 3 is $3&quot;<br />
<br />
ToolTips::Modern $1 ${TTM_ALERTICON} &quot;Alert&quot; &quot;Testing Test&quot; 0x00896845 0x00FCEFE4 &quot;Times New Roman&quot; 15<br />
   !insertmacro MUI_HEADER_TEXT &quot;Configuration&quot; &quot;&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_DISPLAY_RETURN &quot;config_page.ini&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_READ $4 &quot;config_page.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
<br />
   !insertmacro MUI_INSTALLOPTIONS_SHOW<br />
 <br />
 <br />
  Pop $R0<br />
   ${If} $R0 == &quot;success&quot;<br />
     Call config_validation<br />
   ${ElseIf} $R2 == 1<br />
           Call show_configuration<br />
   ${ElseIf} $R0 == &quot;back&quot;<br />
   ${else}<br />
     Quit<br />
   ${EndIf}<br />
FunctionEnd<br />
<br />
<br />
The page config is loaded oninit:<br />
<br />
<br />
Function .onInit<br />
InitPluginsDir<br />
    File /oname=$PLUGINSDIR\config_page.ini &quot;config_page.ini&quot;<br />
FunctionEnd<br />
<br />
<br />
On the Popup $1 = nothing and $3 = a random string of numbers<br />
<br />
I presume I'm doing something wrong, can anyone point me in the right direction?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">voxio</div><div class="date">11th June 2010, 12:41</div></div><div class="posttext">FYI the plugins are loaded via in the oninit function:<br />
<br />
    File /oname=$PLUGINSDIR\InstallOptions.dll &quot;${NSISDIR}\Plugins\InstallOptions.dll&quot;<br />
    File /oname=$PLUGINSDIR\ToolTips.dll &quot;${NSISDIR}\Plugins\ToolTips.dll&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">11th June 2010, 12:56</div></div><div class="posttext">You should really move to MUI2 and nsDialogs.. much easier to keep track of things then :)<br />
<br />
That said... looks like you might be trying to get the dialog item before the dialog exists?<br />
<br />
Use INSTALLOPTIONS_INITDIALOG to initialize the dialog in memory first (it exists, but isn't displayed), then you can get at the dialog item (I *think* the hwnd is stored in your installoptions INI file as well, so that might be an easier way to read it than using GetDlgItem and such), hook the tooltip onto it, and then display the dialog with INSTALLOPTIONS_SHOW .<br />
<br />
P.S. Be sure to read the Tooltips wiki page for notes on Vista, Win7 and balloon style (modern) tooltips:<br />
http://nsis.sourceforge.net/ToolTips_plug-in</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Wizou</div><div class="date">11th June 2010, 15:08</div></div><div class="posttext">FYI the plugins are loaded via in the oninit function:<br />
<br />
    File /oname=$PLUGINSDIR\InstallOptions.dll &quot;${NSISDIR}\Plugins\InstallOptions.dll&quot;<br />
    File /oname=$PLUGINSDIR\ToolTips.dll &quot;${NSISDIR}\Plugins\ToolTips.dll&quot;<br />
<br />
This is unnecessary. NSIS automatically places the plugins DLL inside the installer and extracts them to PLUGINSDIR when needed.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>