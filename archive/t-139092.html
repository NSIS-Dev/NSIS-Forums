<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Mui Startmenu Page Woes, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Mui Startmenu Page Woes NSIS Discussion" />
	
	<title> Mui Startmenu Page Woes [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Mui Startmenu Page Woes</div>
<hr />
<div class="pda"><a href="t-139092.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=139092">Mui Startmenu Page Woes</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">dsteenburg</div><div class="date">15th June 2003, 06:12</div></div><div class="posttext">Hi.<br />
<br />
I have incorporated the script from the sample StartMenu.nsi script virtually intact to the script I am writing.  However, when I compile my script, I get a warning:<br />
<br />
unknown variable &quot;{MUI_STARTMENUPAGE_VARIABLE}&quot; detected, ignoring<br />
<br />
It does this eleven times: two times before my CreateShortcut commands, once for each of my eight CreateShortcut commands, and then once following.  <br />
<br />
Any suggestions on how to correct this.  As far as I can tell, my usage is exactly like that in the StartMenu.nsi script.<br />
<br />
Dave<br />
<br />
PS  Originally I got the MUI example files off the &quot;NSIS Modern User Interface&quot; page at the sourceforge.net site.  None of the ones I tried would compile--just error messages.  Then I discovered the ones in the Examples\ModernUI directory, and these did work.  Comparing the files, it looks like the ones on the sourceforge site are old scripts that no longer work.  Might want to update these.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">15th June 2003, 06:33</div></div><div class="posttext">Did you:<br />
1. use ${MUI_STARTMENUPAGE_VARIABLE}.<br />
2. Put !Include &quot;MUI.nsh&quot; on top.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th June 2003, 12:40</div></div><div class="posttext">The SF CVS server contains all files (from the olders to the newest versions). Please download the latest development snapshot at http://nsis.sf.net (or use NSIS Update or other CVS client).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dsteenburg</div><div class="date">17th June 2003, 18:20</div></div><div class="posttext">Sorry it has taken so long to get back to this--life took me away.  <br />
<br />
Yes, lobo, I did use ${MUI_STARTMENUPAGE_VARIABLE}.  Following the StartMenu.nsi example, I saw no place where it was defined, so I figured it had to have been defined in one of the functions behind the scenes.  The example says to define it only if you want to change the variable used from $9 to something else.  <br />
<br />
And yes, I did include MUI.nsh at the top.  <br />
<br />
So is there something I am missing? <br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">17th June 2003, 19:48</div></div><div class="posttext">So you got the latest development version (Modern UI 1.65)?<br />
<br />
Make sure that your script looks the same as the new examples (with the new page macro's).<br />
<br />
There must be an error in your script, so please attach it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dsteenburg</div><div class="date">17th June 2003, 20:58</div></div><div class="posttext">Oops.  <br />
<br />
Now I see what I missed.  I forgot  <br />
<br />
  !define MUI_STARTMENUPAGE<br />
<br />
Sorry to trouble you over such a simple mistake.<br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">17th June 2003, 21:13</div></div><div class="posttext">The latest Modern UI doesn't use that define anymore. If you upgrade to Modern UI 1.65, make sure to use the new page macro's.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dsteenburg</div><div class="date">17th June 2003, 22:51</div></div><div class="posttext">I've now updated to 1.65 and will try it out. Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hunt</div><div class="date">18th July 2003, 22:53</div></div><div class="posttext">I had the same problem when I was using $MUI_TEMP as the variable name (which I adopted from an example), and when I switched to $R0, it worked just fine.<br />
<br />
However, when I run the installer, customizing the start menu folder has no effect.  The start menu is always the same.  Any ideas on how to change that?<br />
<br />
PS. is there any way to build into the start menu MUI page a checkbox that determines if the shortcuts be made for all users or just the current user?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hunt</div><div class="date">18th July 2003, 23:57</div></div><div class="posttext">Here's the script I've been working on, in case it's easier to just have a look.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th July 2003, 13:29</div></div><div class="posttext">Try latest CVS version for the problems with $MUI_TEMP. As for not being able to customize start menu I don't see any problem. The texts you have entered show up on the white frame on the top.<br />
<br />
There is no way to build another checkbox into the StartMenu page.<br />
<br />
BTW, you need to remove the page defines and only use macros to insert pages.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>