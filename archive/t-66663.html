<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" NSIS 1.7b test, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  NSIS 1.7b test NSIS Discussion" />
	
	<title> NSIS 1.7b test [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  NSIS 1.7b test</div>
<hr />
<div class="pda"><a href="t-66663.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=66663">NSIS 1.7b test</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">25th November 2001, 20:17</div></div><div class="posttext">Been working on nsis 1.7b.. changed a lot, so it might have broken a lot, so i'm not quite ready to even put it on firehose.net/nullsoft.com yet. So alas, here's something for us to all test.<br />
<br />
http://1014.org/shiz/nsis17b.exe<br />
<br />
<br />
  Mostly MBCS support in exehead and compiler. <br />
  Made !ifdef'd blocks out ignored (for all commands other than ones starting with !) <br />
  Made nsisconf.nsi not overwritten in installer. <br />
  Added GetFullPathName <br />
  Added more config.h options, moved MAX_INSTALL_TYPES to NSIS_MAX_INST... <br />
  Added CallInstDLL (using EW_REGISTERDLL) <br />
  Removed GetFullDLLPath, replaced it with more generic SearchPath (which can be used for non-DLLs). <br />
  Optimized fileform.c (GetCompressDataFromDataBlock etc) to be smaller <br />
  Trimmed more from zlib, down to 34kb with nearly all features (excluding XP and logging support) on. THIS NEEDS TESTING. :) <br />
  Lots of other small changes. <br />
<br />
<br />
I wouldn't recommend distributing installers made with this, but if they seem to work right they probably do (watch out for files getting extracted improperly, etc).<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">felfert</div><div class="date">26th November 2001, 03:23</div></div><div class="posttext">That CallInstDLL is very cool :) but i have one stupid question:<br />
What is MBCS support?<br />
<br />
-Fritz</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Koen van de Sande</div><div class="date">26th November 2001, 18:10</div></div><div class="posttext">MBCS = Multi-Byte-Character-Support (for Unicode Characters).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">crish</div><div class="date">26th November 2001, 18:12</div></div><div class="posttext">i had no problems with my projects ...<br />
it works fine</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">28th November 2001, 21:41</div></div><div class="posttext">I've played around with it a bit and I haven't found any problems, although seeing all the changes in zlib scares me... :) <br />
<br />
Starting with 1.67 I've been playing about with some optimisations to reduce some more size...  Well now I've merged in the changes to 1.7b from firehose.net...  See what you think - here's the changed files.<br />
<br />
Ta.<br />
<br />
Dave Laundon.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">28th November 2001, 22:34</div></div><div class="posttext">Outstanding, your changes save 1kb for me!<br />
Shall I merge into and release 1.7b2? :)<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">28th November 2001, 23:03</div></div><div class="posttext">Sure thing :)<br />
<br />
Oh..  I forgot to remove dealWithIcon and doChildSize from UI.C, but otherwise, yeah, go for it!<br />
<br />
Cheers!<br />
<br />
Dave.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">29th November 2001, 08:46</div></div><div class="posttext">Made !ifdef'd blocks out ignored (for all commands other than ones starting with !)What exactly does that mean?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">29th November 2001, 14:31</div></div><div class="posttext">Made CRC not check the first 512 bytes, for better compatibility with virii and with digital signing.<br />
<br />
better compatibility with virii??</div></div><hr />


<div class="post"><div class="posttop"><div class="username">crish</div><div class="date">29th November 2001, 16:47</div></div><div class="posttext">hmmh first i thought that the reboot parameters are directly <br />
for having a action like do reboot <br />
but its only for having the action when the system will reboot<br />
<br />
when aving an option like copyng dll after reboot then it would be <br />
nice to have also the possibility to reboot the system<br />
<br />
maybe its already included but its not described somewhere<br />
<br />
or im not able to find it ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">F. Heidenreich</div><div class="date">29th November 2001, 17:44</div></div><div class="posttext">Hi Crish,<br />
<br />
there is no REBOOT command in the current NSIS 1.7b but according to kichik (http://forums.winamp.com/showthread.php?s=&amp;threadid=66494), reboot is coming in 1.7.<br />
<br />
Regards,<br />
~ Florian</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">29th November 2001, 20:22</div></div><div class="posttext">Quoted, I am honored!<br />
<br />
This is a quote from http://www.nullsoft.com/free/nsis<br />
<br />
1.7b<br />
Mostly MBCS support in exehead and compiler. <br />
Made CRC not check the first 512 bytes, for better compatibility with virii and with digital signing. <br />
Made !ifdef'd blocks out ignored (for all commands other than ones starting with !) <br />
Made nsisconf.nsi not overwritten in installer. <br />
Added GetFullPathName <br />
Added more config.h options, moved MAX_INSTALL_TYPES to NSIS_MAX_INST... <br />
Added CallInstDLL (using EW_REGISTERDLL) <br />
Removed GetFullDLLPath, replaced it with more generic SearchPath (which can be used for non-DLLs). <br />
Optimized fileform.c (GetCompressDataFromDataBlock etc) to be smaller <br />
Added Reboot, IfRebootFlag, SetRebootFlag<br />
Added WindowIcon command so you can turn off the icon in the window. <br />
Trimmed more from zlib, down to 35kb with nearly all features (excluding XP and logging support) on. THIS NEEDS TESTING. :) <br />
Lots of other small changes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">29th November 2001, 20:35</div></div><div class="posttext">I got the quote from the NSIS page too, but I still have no idea why the first 512 will not be checked.<br />
<br />
Made CRC not check the first 512 bytes, for better compatibility with virii and with digital signing.<br />
<br />
This will make it a lot more unsafe I think, is there an option to disable this :confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">justin</div><div class="date">29th November 2001, 23:43</div></div><div class="posttext">Not CRCing the first 512 bytes isn't very unsafe. The first 512 bytes are primarily the EXE header and PSP, and if they are corrupted, the installer will likely fail before it gets a check to CRC itself. TRy randomly screwing with the first 512 bytes of a nsis installer and see what happens. <br />
<br />
As for compatibility with virii, I think it's best that people's first experiences with NSIS installers are it telling them that they have a virus.<br />
<br />
Again, the first 512 bytes, if corrupted, probably aren't going to effect the install process much.<br />
<br />
Prove me wrong if you disagree =)<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">liquidmotion</div><div class="date">30th November 2001, 01:57</div></div><div class="posttext">justin,<br />
<br />
NSIS is coming along to be one of the sweetest programs available.  I am only waiting for the day that I will be as good at programming as you are so I can convert my GUI into C++ instead of VB.<br />
<br />
keep up the good work :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">30th November 2001, 07:28</div></div><div class="posttext">Originally posted by justin <br />
Not CRCing the first 512 bytes isn't very unsafe. The first 512 bytes are primarily the EXE header and PSP, and if they are corrupted, the installer will likely fail before it gets a check to CRC itself. TRy randomly screwing with the first 512 bytes of a nsis installer and see what happens. <br />
<br />
As for compatibility with virii, I think it's best that people's first experiences with NSIS installers are it telling them that they have a virus.<br />
<br />
Again, the first 512 bytes, if corrupted, probably aren't going to effect the install process much.<br />
<br />
Prove me wrong if you disagree =)<br />
<br />
-Justin <br />
<br />
So digital signing modifies the first 512 bytes, and now it's still possible to use the installer in this situation?<br />
<br />
And a virus can corrupt anything with changing the first 512 byte? Then, there is no problem I think :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">crish</div><div class="date">2nd December 2001, 13:29</div></div><div class="posttext">Originally posted by kichik <br />
Quoted, I am honored!<br />
<br />
This is a quote from http://www.nullsoft.com/free/nsis<br />
<br />
 <br />
<br />
these are only options for replacing files - read the manual there u see it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">F. Heidenreich</div><div class="date">2nd December 2001, 13:41</div></div><div class="posttext">This is a quote from http://www.firehose.net/free/nsis/makensis.htm#Reboot<br />
<br />
Reboot<br />
Reboots the computer. Be careful with this one. If there is an error rebooting, this function sets the error flag and continues. If the reboot is sucessful, this instruction does not return.<br />
<br />
IfRebootFlag [jump_if_set] [jump_if_not_set]<br />
Checks the reboot flag, and jumps to jump_if_set if the reboot flag is set, otherwise jumps to jump_if_not_set. The reboot flag can be set by Delete and Rename, or manually with SetRebootFlag.<br />
<br />
SetRebootFlag true|false<br />
Sets the reboot flag to either true or false.<br />
<br />
<br />
regards,<br />
~ Florian</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">3rd December 2001, 11:46</div></div><div class="posttext">Made !ifdef'd blocks out ignored (for all commands other than ones starting with !)What exactly does that mean?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">crish</div><div class="date">3rd December 2001, 16:39</div></div><div class="posttext">okok<br />
<br />
then my .htm file is the wrong version this parts are not in there ...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">manav</div><div class="date">4th December 2001, 12:59</div></div><div class="posttext">is there any way in which I can capture the messages that<br />
makensis.exe displays in DOS made, and show them to the user<br />
inside a VB application<br />
<br />
to make sense of what I am talki' , download the <br />
source files for my vb program from <br />
http://manavmax.***********/spimp.html</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petersa</div><div class="date">5th December 2001, 03:23</div></div><div class="posttext">Hi Manav,<br />
<br />
Run MAKENSIS.EXE using %COMSPEC% and output the output to a file. I don't use VB, but this is the command line:<br />
<br />
%COMSPEC% /C MAKENSIS FILE.NSI &gt; OUTPUT.TXT<br />
<br />
Then get your program to load OUTPUT.TXT to a text box.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">manav</div><div class="date">5th December 2001, 10:51</div></div><div class="posttext">thanx a lot - I'll try adding this functionality to the<br />
next version of spimp wizard (credited to u ofcourse!)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>