<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Automate Creation of .nsi files, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Automate Creation of .nsi files NSIS Discussion" />
	
	<title> Automate Creation of .nsi files [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Automate Creation of .nsi files</div>
<hr />
<div class="pda"><a href="t-150176.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=150176">Automate Creation of .nsi files</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">stonkers</div><div class="date">23rd September 2003, 17:45</div></div><div class="posttext">I'm automating builds of our applications (.NET stuff) and looking for a tool to deploy.  I've got the build automated using NAnt and staged in D:\Deploy\Application.  What I need to do from there is create a .nsi file based on what's in there (D:\Deploy\Application\* recursively).  I've found it very easy to create a .nsi and .exe for deployment using NSIWorkbench, but not how to create a .nsi file inside of my build file via command line.  Can anyone give me a few pointers or a link to kickstart me?<br />
<br />
Much Thanks,<br />
Eric</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd September 2003, 18:31</div></div><div class="posttext">Since a script is a simple text file you can use a lot of programs to create it. A batch file, VB script or even a NSIS installer could do it. You can use FindFirst, FindNext and FindClose to find all the files in that directory and insert the appropriate File commands in a pre-made template. Put that in a silent &quot;installer&quot; and have NAnt execute it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">stonkers</div><div class="date">23rd September 2003, 18:35</div></div><div class="posttext">Please correct me if I'm wrong.  I just have to use the /r option on file.  For example, if I want D:\Deploy\Application to install at $INSTDIR\ProdAppName, I would:<br />
<br />
  SetOutPath $INSTDIR<br />
  SetCompress Auto<br />
  SetOverwrite IfNewer<br />
  file /r &quot;D:\Deploy\Application\*.*&quot;<br />
<br />
Sorry for the newbie post!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd September 2003, 18:39</div></div><div class="posttext">Yes, that's true. So what do you want to automate if not that?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">stonkers</div><div class="date">23rd September 2003, 19:06</div></div><div class="posttext">Thanks for the help Kichik!<br />
<br />
Sounds like I don't need to automate creation of this file.  In NAnt, I stage the dll's, exe's... to a specific directory for deployment.  With the /r option, I can just grab all of the files there to put in an installer.  So I can just use the same .nsi indefinitely.  I can tell NAnt to compile it with the command line, and then stage it on the server where it will be installed.<br />
<br />
Is there any way to automatedly run the install remotely?  Something like:<br />
<br />
run myInstall.exe \\Server</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd September 2003, 19:16</div></div><div class="posttext">To run the installer on another computer you need something on that computer to run it. NSIS doesn't create a server on other machines that will run the insatller, for that you need another software. I'm afraid I don't know enough about this subject at the moment so you'll have to check MSDN, they will probably have something to say about SMS (Microsoft's software pushing application if I recall correctly).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">stonkers</div><div class="date">23rd September 2003, 22:10</div></div><div class="posttext">Thank you very much Kichik!  I've got it creating and staging the installs except monkeying with the services and such in one of them.  I'm planning to use Sunjammer's plugin for this (x18servicesv0.1.zip).  Do I just build this guy and throw the .dll into the plugins directory in order to use its' functionality?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd September 2003, 22:17</div></div><div class="posttext">Yes, just put it in the plugins directory. But you don't need to compile it, there is a compiled veresion in the zip iirc.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>