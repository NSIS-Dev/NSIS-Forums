<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Show MUI_FINISHPAGE_RUN with condition, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Show MUI_FINISHPAGE_RUN with condition NSIS Discussion" />
	
	<title> Show MUI_FINISHPAGE_RUN with condition [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Show MUI_FINISHPAGE_RUN with condition</div>
<hr />
<div class="pda"><a href="t-329392.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=329392">Show MUI_FINISHPAGE_RUN with condition</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">tossnet</div><div class="date">7th April 2011, 08:17</div></div><div class="posttext">Hello,<br />
<br />
I want to display this page with condition like this :<br />
<br />
IfFileExists $INSTDIR\keep gotolaunch dontlaunch<br />
     gotolaunch:<br />
    !define MUI_FINISHPAGE_RUN<br />
    !define MUI_FINISHPAGE_RUN_FUNCTION &quot;LaunchLink&quot;<br />
   dontlaunch:<br />
But IfFileExist must be in a function ! I try this too <br />
<br />
<br />
!define MUI_FINISHPAGE_RUN<br />
!define MUI_FINISHPAGE_RUN_FUNCTION &quot;LaunchLink&quot;<br />
<br />
(...)<br />
<br />
Function LaunchLink<br />
	IfFileExists $INSTDIR\keep gotolaunch dontlaunch<br />
  gotolaunch:<br />
    ExecShell &quot;&quot; &quot;$DESKTOP\${PRODUCT_NAME}.lnk&quot;<br />
	dontlaunch:<br />
FunctionEnd<br />
<br />
But the FINISHPAGE_RUN is display:(<br />
Is there another solution ?<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">7th April 2011, 08:28</div></div><div class="posttext">You are confusing compiletime commands (!define etc) and runtime commands (IfFileExists etc). MUI page contents are determined at compiletime (hence the use of !defines), so you'll need to edit the page again at runtime. To do this, you can simply disable and hide the run elements (checkbox and label, I guess) in the finish page's SHOW function.<br />
<br />
Note: The HWND of those elements are stored in variables like $mui_somethingorother. These variables are not documented, but you can find the proper ones if you look through MUI's finish page nsh file somewhere in the NSIS\Contrib folder (if I recall correctly).</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>