<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Suppress UAC, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Suppress UAC NSIS Discussion" />
	
	<title> Suppress UAC [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Suppress UAC</div>
<hr />
<div class="pda"><a href="t-313496.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=313496">Suppress UAC</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">june1212</div><div class="date">7th October 2009, 17:27</div></div><div class="posttext">How to suppress UAC in Vista? I need my installer.exe run totally automatically.But if the UAC is on on Vista, it need user elevates.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">7th October 2009, 17:34</div></div><div class="posttext">requestexecutionlevel user<br />
<br />
http://nsis.sourceforge.net/Docs/Chapter4.html#4.8.1.32<br />
<br />
(Of course, this will not grant you administrative access. But that is the whole point of the administrator password.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">june1212</div><div class="date">7th October 2009, 20:29</div></div><div class="posttext">thanks. Does that mean I must login as a user instead of admin to run the installer?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">7th October 2009, 20:35</div></div><div class="posttext">No. It just means that any user running the installer will NOT get the UAC elevation prompt on Win Vista and higher. (Remember, Windows UAC pops up even for Administrator users when they run an admin-only application.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">7th October 2009, 20:37</div></div><div class="posttext">admins are members of the user group (normally)<br />
<br />
It just means you can't write to programfiles/windir/HKLM etc</div></div><hr />


<div class="post"><div class="posttop"><div class="username">june1212</div><div class="date">7th October 2009, 20:41</div></div><div class="posttext">I tried the user, still have the &quot;Allow/Cancel&quot; prompt. Is that because I have some statements in the script to write to HKLM, and copy files to ProgramFiles?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">7th October 2009, 20:51</div></div><div class="posttext">did you put &quot;requestexecutionlevel user&quot; in your script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">june1212</div><div class="date">7th October 2009, 21:00</div></div><div class="posttext">yes, i do<br />
<br />
RequestExecutionLevel user  /* RequestExecutionLevel REQUIRED! for UAC Plugin*/<br />
InstallDirRegKey HKLM &quot;${PRODUCT_DIR_REGKEY}&quot; &quot;&quot;<br />
<br />
There are other registry writing lines in -Post<br />
<br />
Then I log into my Vista as an account in Admin group, and run this installer.exe from %Public%. Still have the &quot;Allow/Cancel&quot; prompt.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">june1212</div><div class="date">7th October 2009, 21:02</div></div><div class="posttext">But I also have your UAC plugin in the .onInit<br />
UAC::RunElevated<br />
<br />
Is that causing the prompt?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">7th October 2009, 21:03</div></div><div class="posttext">um, yes, what do you think RunElevated means?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">june1212</div><div class="date">7th October 2009, 21:10</div></div><div class="posttext">Originally posted by Anders <br />
um, yes, what do you think RunElevated means?  <br />
<br />
Hehe, that is added by a NSIS expert guy from my company:-)<br />
<br />
By the way, if I set it run as user, what will be the diff as admin? THis installer copies files to ProgramFiles, add registry for the product, and install a windows service. Can User priviledge aproach that?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">june1212</div><div class="date">7th October 2009, 21:24</div></div><div class="posttext">I take out the UAC plugin. But installing windows service has &quot;Access is denied&quot; error. Does that mean, I must use admin in the &quot;RequestExecutionLevel&quot;?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">8th October 2009, 07:50</div></div><div class="posttext">Yes. Unless you are using the NSIS UAC plugin, which is a special case. In that case, you need to use requestexecutionlevel user.<br />
<br />
The point is: If you want your installer to do something that only admins are allowed to do, naturally the installer will need admin access.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>