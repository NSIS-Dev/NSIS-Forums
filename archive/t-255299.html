<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Disable section, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Disable section NSIS Discussion" />
	
	<title> Disable section [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Disable section</div>
<hr />
<div class="pda"><a href="t-255299.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255299">Disable section</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">JoeMcC00L</div><div class="date">12th September 2006, 03:20</div></div><div class="posttext">Good evening ladies and gents,<br />
<br />
I noticed a pretty cool quirk with NSIS. If you want to have a deselected grayed-out section, you use the syntax:<br />
<br />
Section /o SectionName<br />
SectionIn RO<br />
...<br />
SectionEnd<br />
 <br />
Any ideas on how to make this happen inside a function? Specifically, I want to make a function that searches for a component on the client's computer. If the component is there and up-to-date, the section should be grayed-out. Currently I have an InstallOptions page that somewhat emulates what I'm going for, but this way would be so much easier to support.<br />
<br />
Thanks for any help,<br />
Joe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th September 2006, 09:09</div></div><div class="posttext">That's no quirk. It's simply a section with SF_RO and without SF_SELECTED.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JoeMcC00L</div><div class="date">15th September 2006, 18:05</div></div><div class="posttext">Ah, well my apologies for the mistaken terminology. So what I'm gathering from your post is, in order to check if a section is selected, I need to check the variable ${SF_SELECTED}. Is changing this in the background as simple as using !define? If that's the case, I could just do this in a function, no?<br />
<br />
Thanks<br />
Joe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">15th September 2006, 18:12</div></div><div class="posttext">In order to check if a section is selected, you need to get its flags using SectionGetFlags and check if the ${SF_SELECTED} flag is set. It's not a variable and I'm not sure what you mean by changing it in the background.<br />
<br />
To set the flags, you can use SectionSetFlags. Clear the SF_SELECTED flag, and set the SF_RO flag.<br />
<br />
You can use the macros in Sections.nsh for all of the above. Use SectionFlagIsSet to check if a section is selected, SetSectionFlag to set a section flag and ClearSectionFlag to clear a section flag. The LogicLib has macros to handle section selection as well. Examples\LogicLib.nsi has an example of this in the ComponentsLeave function.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JoeMcC00L</div><div class="date">15th September 2006, 20:30</div></div><div class="posttext">Sorry for the ambiguous wording. Your suggestion of using SetSectionFlag and ClearSectionFlag macros were exactly what I was looking for. I guess I must of overlooked that solution (my bad).<br />
<br />
Thanks<br />
Joe</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>