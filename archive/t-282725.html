<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" how to set background color for a listbox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  how to set background color for a listbox NSIS Discussion" />
	
	<title> how to set background color for a listbox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  how to set background color for a listbox</div>
<hr />
<div class="pda"><a href="t-282725.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282725">how to set background color for a listbox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Shwetha</div><div class="date">6th December 2007, 10:48</div></div><div class="posttext">Im trying to set background color for a listbox.Is it possible to set background color for a listbox?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">6th December 2007, 13:11</div></div><div class="posttext">Yes, it is. You need following:<br />
- HWND of ListBox<br />
- MSDN -&gt; Name of message to do your task<br />
- Know how to send windows messages. There is a lot of examples in the forum<br />
<br />
:up:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">6th December 2007, 17:38</div></div><div class="posttext">Well, it isn't as hard as I thought. You need SetCtlColors instruction.<br />
!include nsDialogs.nsh<br />
<br />
Name &quot;ListBox Colors&quot;<br />
OutFile &quot;ListBox Colors.exe&quot;<br />
<br />
Page custom nsDialogsPage<br />
<br />
Var LIST_1<br />
Var LIST_2<br />
<br />
Function nsDialogsPage<br />
	nsDialogs::Create /NOUNLOAD 1018<br />
	Pop $0<br />
<br />
	${NSD_CreateListBox} 0 0 150 180 Test<br />
	Pop $LIST_1<br />
	SendMessage $LIST_1 ${LB_ADDSTRING} 0 &quot;STR:Item&quot;<br />
	SendMessage $LIST_1 ${LB_ADDSTRING} 0 &quot;STR:Item&quot;<br />
	SendMessage $LIST_1 ${LB_ADDSTRING} 0 &quot;STR:Item&quot;<br />
	SetCtlColors $LIST_1 0x3333CC 0xFFFFCC<br />
	<br />
	${NSD_CreateListBox} 160 0 150 180 Test<br />
	Pop $LIST_2<br />
	SendMessage $LIST_2 ${LB_ADDSTRING} 0 &quot;STR:Item&quot;<br />
	SendMessage $LIST_2 ${LB_ADDSTRING} 0 &quot;STR:Item&quot;<br />
	SendMessage $LIST_2 ${LB_ADDSTRING} 0 &quot;STR:Item&quot;<br />
	SetCtlColors $LIST_2 0x990033 0xFFCC33<br />
	nsDialogs::Show<br />
FunctionEnd<br />
<br />
Section<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Shwetha</div><div class="date">7th December 2007, 05:38</div></div><div class="posttext">I have used the following code :<br />
 GetDlgItem $1 $HWND 1201   <br />
 SetCtlColors  $1 0xFFFFFF 191970<br />
<br />
the listbox is created using ini.The color sets upon the selection of the items in the list box.How can i set the color at once instead of selecting individual items?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">7th December 2007, 05:44</div></div><div class="posttext">Do it my way! ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Shwetha</div><div class="date">7th December 2007, 09:04</div></div><div class="posttext">but i need to set the background color on a button event code looks like this :<br />
Function LeaveCustom<br />
 <br />
ReadINIStr$0 &quot;$PLUGINSDIR\showUserList.ini&quot; &quot;Settings&quot; &quot;State&quot;<br />
   !insertmacro MUI_INSTALLOPTIONS_READ $UserSelection &quot;showUserList.ini&quot; &quot;Field 2&quot; &quot;State&quot;<br />
 <br />
  StrCmp $0 0 Done  ; Next button?<br />
  StrCmp $0 3 SelectAll  ; select all users<br />
  StrCmp $0 4 UnselectAll  ; unselect all users<br />
  StrCmp $0 2 ListSelection<br />
  Abort ; Return to the page<br />
<br />
  SelectAll:<br />
   ; MessageBox MB_OK|MB_ICONINFORMATION &quot;Select All&quot;<br />
   ; StrCpy $0 SELECT_ALL<br />
   StrCpy $isSelectAll &quot;1&quot;<br />
   GetDlgItem $1 $HWNDPARENT 1<br />
   EnableWindow $1 1<br />
   GetDlgItem $1 $HWND 1203<br />
   EnableWindow $1 1<br />
  ;added on dec 04,2007<br />
   GetDlgItem $1 $HWND 1202<br />
   EnableWindow $1 0<br />
   GetDlgItem $1 $HWND 1201<br />
   SetCtlColors  $1 0xFFFFFF 191970<br />
   ;MessageBox MB_OK|MB_ICONINFORMATION &quot;Go to next page&quot;<br />
  ; call InstallAllFiles<br />
   Abort<br />
<br />
  UnselectAll:<br />
    GetDlgItem $0 $HWND 1201<br />
    SetCtlColors $0 &quot;transparent&quot;<br />
    GetDlgItem $1 $HWNDPARENT 1<br />
    EnableWindow $1 0<br />
    ;MessageBox MB_OK|MB_ICONINFORMATION &quot;Unselect All&quot;<br />
    StrCpy $isSelectAll &quot;0&quot;<br />
    GetDlgItem $1 $HWND 1203<br />
    EnableWindow $1 0<br />
    ;added on dec 04,2007<br />
    GetDlgItem $1 $HWND 1202<br />
    EnableWindow $1 1<br />
 <br />
    Abort<br />
- i want to set back color on clicking SelectAll button and on Clicking UnSelectAll i want the background to be transparent.Please reply me its urgent</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Shwetha</div><div class="date">7th December 2007, 09:57</div></div><div class="posttext">hey thanks a lot  its working fine....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">7th December 2007, 09:58</div></div><div class="posttext">Its urgent - FOR YOU.<br />
<br />
I recommend you using nsDialogs instead of InstallOptions.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>