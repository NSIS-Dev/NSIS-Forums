<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Error: label &quot;CopyJob:&quot; already declared in function, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Error: label &quot;CopyJob:&quot; already declared in function NSIS Discussion" />
	
	<title> Error: label &quot;CopyJob:&quot; already declared in function [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Error: label &quot;CopyJob:&quot; already declared in function</div>
<hr />
<div class="pda"><a href="t-314102.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=314102">Error: label &quot;CopyJob:&quot; already declared in function</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">23rd October 2009, 13:47</div></div><div class="posttext">Hi all,<br />
<br />
i am using a Macro to create a set of files for one of my setup projects, the macro itself looks like this <br />
<br />
<br />
!macro _CreateAndCopyC7ClientJob PATH<br />
<br />
	IfFileExists &quot;$PLUGINSDIR\CLIENTTEMP\C7.zip&quot; CopyJob 0<br />
.<br />
.<br />
                   <br />
	CopyJob:<br />
.<br />
.<br />
	<br />
!macroend<br />
!define CreateAndCopyC7ClientJob `!insertmacro _CreateAndCopyC7ClientJob`<br />
<br />
<br />
when compiling the setup i get the Message <br />
<br />
Error: label &quot;CopyJob:&quot; already declared in function<br />
<br />
this macro is called multiple times and the error occurs when its called for the 5th time (3 times out of one nsh, and 2 (before it crashes) out of another nsh file. <br />
<br />
I know i can probably work around this if i do not use fixed label but instead &quot;+x&quot; to jump to the desired command.  <br />
But i would like to understand why this is happening only when called the 5th time.<br />
<br />
Thanks for helping :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">demiller9</div><div class="date">23rd October 2009, 16:15</div></div><div class="posttext">Macros define lines of text that are inserted into your code each time that they are referenced by CreateMacro. The fixed name labels you put into the macro are thus duplicated each time the macro is inserted. This is permissible if the labels are in separate sections or functions, but is an error if the labels are used multiple times in the same function or section.<br />
<br />
Instead of relative jumps, you can append a unique modifier onto the label name. Look at some of the header files that use labels (logiclib.nsh) to see how that's done.<br />
<br />
Don</div></div><hr />


<div class="post"><div class="posttop"><div class="username">xbarns</div><div class="date">3rd November 2009, 17:37</div></div><div class="posttext">Got it, thanks a lot!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>