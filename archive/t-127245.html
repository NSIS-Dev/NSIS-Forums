<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" ZipDLL & autostart, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  ZipDLL & autostart NSIS Discussion" />
	
	<title> ZipDLL & autostart [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  ZipDLL & autostart</div>
<hr />
<div class="pda"><a href="t-127245.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=127245">ZipDLL & autostart</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">aschenbachen</div><div class="date">4th March 2003, 15:17</div></div><div class="posttext">hello,<br />
<br />
1.)does anyone know how to add in the unzip as a plugin into NSIS? <br />
<br />
for example i would like to place PHP.zip into a folder in d:\php\php.zip, i need NSIS to access that zip file, unzip it in c:\temp or wherever. <br />
<br />
is it possible to give me the specific Instructions in my codes and how to put it into the plugin folder in NSIS, And what else is there to change.<br />
i think you have to add that *.dll as a module or macro. ?????<br />
<br />
2.) Is there a autostart or autorun funciton in NSIS so that once i compile the EXE and place it on to the Cd, Once i put in the CD with that EXE file, i need it to autorun or autoinstall without human intervention. <br />
<br />
Is it possible? If so HOW, Show ME.<br />
<br />
Asch</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">4th March 2003, 15:57</div></div><div class="posttext">The ZipDLL plugin DLL file should be placed either in the nsis\plugins directory or a directory of your choice. If you use the latter approach you will need to use the PluginDir (file:///C:/src/cvs_nsis/NSIS/Docs/Chapter3.html#3.7.1.30) command to tell NSIS where to find the DLL file. For example if you place the zipdll plugin dll file in C:\myplugins you would do :-PluginDir c:\mypluginsMake sure you use that command outside any sections or functions.<br />
<br />
You can check to see if NSIS has found the plugin by opening examples\example1.nsi with the makensisw program. When it compiles the script at the top you should see something like :-Processing plugin dlls: &quot;C:\src\cvs_nsis\NSIS\plugins\*.dll&quot;<br />
 - advsplash::show<br />
 - Banner::destroy<br />
 - Banner::show<br />
...<br />
 - UserInfo::GetAccountType<br />
 - UserInfo::GetName<br />
 - ZipDLL::extractall<br />
 - ZipDLL::extractfile<br />
<br />
At the bottom you can see that it detected the ZipDLL plugin okay.<br />
<br />
Then in your script you can (as the ZipDLL documentation suggests) run the extractall or extractfile plugin commands :-ZipDLL::extractall &quot;c:\test.zip&quot; &quot;c:\output&quot;<br />
<br />
ZipDLL also has support for the Modern UI, read the readme.txt file distributed with ZipDLL v1.2 (http://nsis.sourceforge.net/archive/download.php?file=ZipDLLv1.2.zip) for more information.<br />
<br />
Autorun is a feature controlled by a file on the CD called autorun.inf, it's nothing to do with NSIS. Microsoft documentation on this feature of Windows can be found here (http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/shell/programmersguide/shell_basics/shell_basics_extending/autorun/autoplay_cmds.asp).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aschenbachen</div><div class="date">4th March 2003, 16:17</div></div><div class="posttext">Hello, <br />
<br />
Thank you, It wasn't there earlier but after i placed the dll file to plugin folder in nsis, It now works. <br />
<br />
Also thank you for the autoplay info, i guess i will need to build an *.inf file in that d: drive and hopefully the cd drive read will the file first and then execute my EXE file automatically.<br />
<br />
Asch</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">4th March 2003, 16:40</div></div><div class="posttext">Be careful, the d: drive won't be the cd drive on all systems. This post (http://forums.winamp.com/showthread.php?postid=881223&amp;highlight=cd#post881223) might help you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">aschenbachen</div><div class="date">4th March 2003, 17:19</div></div><div class="posttext">hello,<br />
<br />
thanks for the link, here is the code.<br />
<br />
OutFile &quot;blah.exe&quot;<br />
<br />
!include &quot;${NSISDIR}\Contrib\System\System.nsh&quot;<br />
<br />
Section -<br />
  StrCpy $1 &quot;c:\&quot;<br />
  System::Call '${sysGetDriveType}(r1) .r0'<br />
  DetailPrint &quot;Boo: $1 $0&quot;<br />
  IntCmp $0 5 0 notcddrive<br />
    MessageBox MB_OK &quot;Drive $1 is a cd drive&quot;<br />
  notcddrive:<br />
SectionEnd<br />
<br />
Solved CD Auto PLay<br />
Code:<br />
<br />
; save this part as autorun.inf<br />
; this is it to autorun EXE files<br />
[autorun]<br />
; the executable must be in root Cd drive<br />
open=install.exe<br />
icon=whatever_icon_you_want.ico<br />
<br />
As far as the zipdll file, i think you can download in one of these forum, earlier ones. Aall you need is that dll file and put it in the Plugins folder under NSIS. Everythiing will work.<br />
<br />
More codes to come for my script for apache, mysql, others.<br />
<br />
Testing Messagebox, ExecWait, copyfiles!<br />
<br />
asch</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">4th March 2003, 17:28</div></div><div class="posttext">The ZIPDll is available in the archive:<br />
http://nsis.sourceforge.net/archive/viewpage.php?pageid=56</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>