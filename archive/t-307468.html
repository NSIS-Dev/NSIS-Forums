<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Environment Variables, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Environment Variables NSIS Discussion" />
	
	<title> Environment Variables [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Environment Variables</div>
<hr />
<div class="pda"><a href="t-307468.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307468">Environment Variables</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">hohausfn</div><div class="date">18th June 2009, 13:02</div></div><div class="posttext">Hello,<br />
<br />
i have a new problem. I write a new Environment-Variable in my installer like this<br />
${EnvVarUpdate} $0 &quot;VarName&quot; &quot;A&quot; &quot;HKLM&quot; &quot;$INSTDIR&quot; this works fine. <br />
<br />
But later in my installer i start with ExecWait a .bat file which needs the EnVar &quot;VarName&quot;.<br />
ExecWait $INSTDIR\installService.bat <br />
But the result is that the Service could not find the ${VarName}.<br />
<br />
<br />
Could anyone please help me with my problem?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">18th June 2009, 14:12</div></div><div class="posttext">The problem is that when your installer starts another program that new program inherits the same environment as the installer (i.e. the new program will not see the new variable your installer has created).<br />
<br />
The solution is simple - your installer must also make the new value available before it starts the new program.<br />
<br />
The NSIS wiki explains how to do this: http://nsis.sourceforge.net/Setting_Environment_Variables (the &quot;Setting Environmental Variables Temporarily&quot; section tells you what to do)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hohausfn</div><div class="date">18th June 2009, 14:27</div></div><div class="posttext">It works. Thank you very very much ;-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lanlananhanh</div><div class="date">7th July 2009, 06:06</div></div><div class="posttext">credit auto (http://creditauto.net/)<br />
<br />
:confused: :rolleyes:</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>