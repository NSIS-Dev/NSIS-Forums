<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" setting parent directory as default from registry, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  setting parent directory as default from registry NSIS Discussion" />
	
	<title> setting parent directory as default from registry [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  setting parent directory as default from registry</div>
<hr />
<div class="pda"><a href="t-153996.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=153996">setting parent directory as default from registry</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">WiKiD</div><div class="date">26th October 2003, 01:47</div></div><div class="posttext">Hey im having some difficulty setting the parent directory as the user's prompting directory.<br />
<br />
Let me explain, as i went here (http://forums.winamp.com/showthread.php?s=&amp;threadid=65114&amp;highlight=parent) but it didnt answer exactly what i wanted to do.<br />
<br />
okay, i want to go into the registry and take from HKCU &quot;Software\Valve\Steam&quot; ModInstallPath 's data. Once i have that, i can get the dir (c:\games\steam\steamapps\[steamaccount]\half-life) so i can get the parent directory and change the new path to C:\games\steam\steamapps\[steamaccount]\counter-strike.<br />
<br />
 While it seems that it is a simple task to do, the problem i am running into is actually setting this as the default that the user gets when they select the directory, as opposed to just doing this without user intervention. I've tried all day to get this to work, and im feelin pretty frustrated right now...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Vytautas</div><div class="date">26th October 2003, 06:15</div></div><div class="posttext">You should get this info before you show the directory page and set the $INSTDIR, or if using a different variable for directory page the variable you are using, to the value of the prossesed path before showing the directory selection page.<br />
<br />
Vytautas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">WiKiD</div><div class="date">26th October 2003, 14:16</div></div><div class="posttext">ive tried that however i seem to have a problem because you would need to do this as a function or section and i cannot get them to work with InstallDir/InstallDirRegKey because that cannot be decalred within a function/section and ReadRegString and other similars can only be decalred within one...<br />
<br />
can someone give me some pseudo code to work with please?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">26th October 2003, 15:04</div></div><div class="posttext">You can change $INSTDIR without InstallDir and InstallDirRegKey. Wherever a variable is accepted, $INSTDIR is accepted too. For example:<br />
<br />
Function .onInit<br />
  StrCpy $INSTDIR &quot;C:\forced\path&quot;<br />
FunctionEnd</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>