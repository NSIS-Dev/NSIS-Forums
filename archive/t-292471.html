<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Problem with MultiLanguage, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Problem with MultiLanguage NSIS Discussion" />
	
	<title> Problem with MultiLanguage [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Problem with MultiLanguage</div>
<hr />
<div class="pda"><a href="t-292471.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=292471">Problem with MultiLanguage</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bumpelwumpel</div><div class="date">29th May 2008, 21:19</div></div><div class="posttext">Hi,<br />
<br />
I have two languages for my Installer. For that I created 2 lnaguage fils. They are called &quot;MyInstallerEnglish&quot; and &quot;MyInstallerGerman&quot;.<br />
<br />
So the Language selection dialog do not apear. Only if I create a new page befor the MUI_PAGE_WELCOME. Then I can choose the language.<br />
<br />
Can anybody help me?<br />
<br />
bumpelwumpel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">29th May 2008, 21:53</div></div><div class="posttext">!include &quot;MUI2.nsh&quot;<br />
<br />
Name &quot;MultiLanguage Test&quot;<br />
OutFile &quot;MultiLanguage.exe&quot;<br />
InstallDir &quot;$LOCALAPPDATA\MultiLanguage Test&quot;<br />
<br />
;Remember Installer Language<br />
!define MUI_LANGDLL_REGISTRY_ROOT &quot;HKCU&quot; <br />
!define MUI_LANGDLL_REGISTRY_KEY &quot;Software\Modern UI Test&quot; <br />
!define MUI_LANGDLL_REGISTRY_VALUENAME &quot;Installer Language&quot;<br />
<br />
;Pages<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
;Languages<br />
!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
!insertmacro MUI_LANGUAGE &quot;French&quot;<br />
!insertmacro MUI_LANGUAGE &quot;German&quot;<br />
<br />
;Reserve Files<br />
!insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
;Install Sections<br />
Section &quot;Dummy Section&quot; SecDummy<br />
  ;ADD YOUR OWN FILES HERE...<br />
SectionEnd<br />
<br />
;Display Language Dialog<br />
Function .onInit<br />
  !insertmacro MUI_LANGDLL_DISPLAY<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">29th May 2008, 22:24</div></div><div class="posttext">You have added the settings to store the language preference in the registry, this is why the dialog is not shown. If you want the dialog to be displayed anyway (with the registry preference as default), define MUI_LANGDLL_ALWAYSSHOW.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LoRd_MuldeR</div><div class="date">30th May 2008, 00:31</div></div><div class="posttext">Yes, I forgot that in my sample code. Without MUI_LANGDLL_ALWAYSSHOW, the language dialog will appear only the first time the installer is run. Then the selected language is stored in registry and the language dialog won't appear again. If you add MUI_LANGDLL_ALWAYSSHOW, the dialog will always be shown, but the stored language is marked by default.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bumpelwumpel</div><div class="date">2nd June 2008, 14:35</div></div><div class="posttext">Ok, I have now changed the UI. Now I use the UMUI and this works great.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>