<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Create database with NSIS, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Create database with NSIS NSIS Discussion" />
	
	<title> Create database with NSIS [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Create database with NSIS</div>
<hr />
<div class="pda"><a href="t-304491.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=304491">Create database with NSIS</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">23rd March 2009, 07:49</div></div><div class="posttext">Hello there,<br />
I am trying to create a database with NSIS. I have SQLmetadata.txt file and i want to create a database from this metadata. I would like to use iboConsole database motor to run my database. So is it possible to create a database from metadata with NSIS? Please help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ginglese</div><div class="date">23rd March 2009, 09:28</div></div><div class="posttext">Hi,<br />
I never used iboConsole but i use PostgreSql and i think it may be same behavior.<br />
<br />
Install the database motor then use command batch to create database and then load the SQLmetadata.txt file into it.<br />
<br />
it's how i proceed.<br />
<br />
Guillaume</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">26th March 2009, 09:45</div></div><div class="posttext">Hi, Anybody has any idea how can i create database with NSIS by using Firebird isql.exe?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ionut_y</div><div class="date">26th March 2009, 10:24</div></div><div class="posttext">Firebird database is a single .fdb/.gdb file so you can create it and pack with NSIS or you can create it by your application on first run.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">26th March 2009, 10:25</div></div><div class="posttext">Is it possible to create database by NSIS installer? Please help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ionut_y</div><div class="date">26th March 2009, 10:27</div></div><div class="posttext">please see my previous post</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">27th March 2009, 00:15</div></div><div class="posttext">You can use the plugin ExecDos for this:<br />
<br />
ExecDos::exec &quot;[firebird_dir]\bin\isql.exe&quot; &quot;create database C:\test.gdb;\nexit;\n&quot;<br />
<br />
The second parameter sends the several commands to the isql tool as if you where typing it in the console app (\n stands for a carriage return or Enter)<br />
<br />
Regards,<br />
JP</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">27th March 2009, 09:21</div></div><div class="posttext">I use this:<br />
ExecWait '&quot;C:\Program Files\Firebird\Firebird_2_1\bin\isql.exe&quot; &quot;CREATE DATABASE c:\database.FDB; user SYSDBA password agripomo page_size 16384 default character set ISO8859_1;\nexit;\n&quot;'<br />
<br />
Can you help me find the problem this. because when I run this i get error like &quot;Statement failed, SQLCODE = -902<br />
Unable to complete network request to host &quot;CREATE DATABASE c&quot;.<br />
-Failed to locate host machine.<br />
-The specified name was not found in the hosts file or Domain Name Services.<br />
Use CONNECT or CREATE DATABASE to specify a database<br />
SQL&gt;<br />
<br />
can you help please.<br />
I tried your code aslo i get the same error.<br />
I tried to run with ExecDos::exec and it i can't compile NSIS and gives error &quot;invalid command&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">27th March 2009, 09:25</div></div><div class="posttext">Try a double slash in the filename ,e.g. c:\\database.FDB</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">27th March 2009, 09:35</div></div><div class="posttext">I tried but no luck.<br />
Does NSIS understand SQL commands?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">27th March 2009, 09:41</div></div><div class="posttext">NSIS doesn't have to understand SQL commands, it passes the commands as strings to the isql tool.<br />
It seems like the commandstring is truncated at the semicolon, I'm not sure why.<br />
What happens when you use &quot;CREATE DATABASE database.FDB;&quot;?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">27th March 2009, 09:55</div></div><div class="posttext">i get same error and command prompt just bling and disappear. doesn't make database.It looks like i am so stuck.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">27th March 2009, 14:31</div></div><div class="posttext">can anyone help me about avobe mentioned problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">27th March 2009, 18:53</div></div><div class="posttext">OK, I checked, and this should work:<br />
ExecDos::exec &quot;C:\Program Files\Firebird\Firebird_2_1\bin\isql.exe&quot; &quot;CREATE DATABASE 'c:\database.FDB';$\nuser SYSDBA password agripomo page_size 16384 default character set ISO8859_1;$\nexit;$\n&quot;<br />
 - Don't place single quotes before and after the complete ExecDos Command<br />
 - You forgot the \n between the CREATE DATABASE and user SYSDBA commands<br />
 - Use $\n instead of \n<br />
 - Place single quotes before and after the database filename</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">30th March 2009, 12:47</div></div><div class="posttext">Thanks very much i proceed with my scripts by your great help. Thanks again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">31st March 2009, 08:44</div></div><div class="posttext">ExecDos::exec &quot;$folder\bin\isql.exe&quot; &quot;CONNECT '127.0.0.1:$desfolder\database.fdb' user '$login' password '$password' &amp;&amp; INPUT '$source';$\nexit;$\n&quot;<br />
Do you think this is the right way to input metadata to to database. Please help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">31st March 2009, 18:28</div></div><div class="posttext">To input metadata data you can use the commandline directly:<br />
ExecDos::exec &quot;$folder\bin\isql.exe -i '$source' '127.0.0.1:$desfolder\database.fdb' -user '$login' -pass '$password'&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">1st April 2009, 07:50</div></div><div class="posttext">It worked so perfact. thanks.<br />
I have one SQL file which i should input also in the database. But i learn that from u. Now the question is that is it possible to put variable to that SQL file before i input that file to the database? For ex. in the SQL file there is &quot;ContractorID&quot; where i should put a number. So the idea is that when i create a database for new Contractor i need to put the contractorID in the SQL file and input to the data base. So my idea is that &quot;if possible&quot; i want that NSIS script will ask the CntractorID and send it to SQL file and input that file to the database. I am sorry that asking too many question. thanks for prevous help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">1st April 2009, 07:52</div></div><div class="posttext">It worked so perfact. thanks.<br />
I have one SQL file which i should input also in the database. But i learn that from u. Now the question is that is it possible to put variable to that SQL file before i input that file to the database? For ex. in the SQL file there is &quot;ContractorID&quot; where i should put a number. So the idea is that when i create a database for new Contractor i need to put the contractorID in the SQL file and input to the data base. So my idea is that &quot;if possible&quot; i want that NSIS script will ask the CntractorID and send it to SQL file and input that file to the database. I am sorry that asking too many question. thanks for previous help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">1st April 2009, 17:28</div></div><div class="posttext">Hi Rusell,<br />
<br />
you can use the TextReplace plugin for that:<br />
http://nsis.sourceforge.net/TextReplace_plugin<br />
<br />
Regards,<br />
JP</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">2nd April 2009, 06:54</div></div><div class="posttext">Hello, <br />
thanks for help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">2nd April 2009, 07:29</div></div><div class="posttext">it looks like that if the &quot;source&quot; or &quot;destination&quot; folder is for example: 'C:\program files\folder\database.fdb' isql doesn't except space between 'program and file'. I think you know how to overcome this problem. please help. thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">2nd April 2009, 18:36</div></div><div class="posttext">try:ExecDos::exec &quot;$folder\bin\isql.exe -i $\&quot;$source$\&quot; $\&quot;127.0.0.1:$desfolder\database.fdb$\&quot; -user '$login' -pass '$password'&quot;<br />
($\&quot; results in a &quot; for isq.exe)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Russell81</div><div class="date">3rd April 2009, 06:22</div></div><div class="posttext">thanks very much.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">hai12345</div><div class="date">20th July 2010, 13:27</div></div><div class="posttext">hi,<br />
<br />
I have one database in my application path, whether can i change password for that using NSIS script. I know the previous password of the database.<br />
<br />
help me.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jpderuiter</div><div class="date">20th July 2010, 13:32</div></div><div class="posttext">This is not a NSIS question, but a firebird question.<br />
See the Quickstart manual, chapter &quot;Server configuration and management&quot;</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>