<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Binary Numbers, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Binary Numbers NSIS Discussion" />
	
	<title> Binary Numbers [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Binary Numbers</div>
<hr />
<div class="pda"><a href="t-177347.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=177347">Binary Numbers</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">20th April 2004, 13:13</div></div><div class="posttext">Has any way I can convert binary numbers to string in NSIS without using System plugin?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">s793016</div><div class="date">20th April 2004, 13:16</div></div><div class="posttext">Do you mean &quot;DEC &lt;-&gt; HEX&quot;?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">20th April 2004, 18:47</div></div><div class="posttext">Do you know the number system of the number below?<br />
<br />
01100011 01011011<br />
<br />
It's called the binary number system.<br />
<br />
To create 1 bit and 4 bit bitmaps the user has to put a binary number to be converted after by the function into a hexadecimal number and then write the result into a .bmp file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">s793016</div><div class="date">21st April 2004, 08:21</div></div><div class="posttext">If you want &quot;Hex -&gt; Binary String&quot; , try this below.<br />
<br />
Or you just want to convert Binary number to Hex number?<br />
OutFile NoToBinStr.exe<br />
Name NoToBinStr<br />
XPStyle on<br />
<br />
Var NumberLen<br />
Var HexSource<br />
Var LetterTemp<br />
Var LetterLocate<br />
Var TargetString<br />
Var TargetTemp<br />
Var Count<br />
Var BinTemp<br />
<br />
Section Sec1Name sec1<br />
SectionEnd<br />
<br />
Function .onInit<br />
<br />
; Set/Get Source Hex Number<br />
StrCpy $HexSource 'ABCD'<br />
<br />
StrLen $NumberLen $HexSource<br />
StrCpy $LetterLocate $NumberLen<br />
<br />
; loop - Get 1 Letter per loop from right for process<br />
NextLetter:<br />
StrCpy $TargetString '$TargetTemp $TargetString'<br />
StrCpy $TargetTemp ''<br />
<br />
StrCmp $LetterLocate '0' 0 +3<br />
 MessageBox MB_OK 'Hex ($HexSource) = Binary String ($TargetString)'<br />
 Quit<br />
<br />
IntOP $LetterLocate $LetterLocate - 1<br />
StrCpy $LetterTemp $HexSource 1 $LetterLocate<br />
StrCpy $Count '256'<br />
<br />
IntOP $Count $Count / 2<br />
IntOP $BinTemp 0x$LetterTemp &amp; $Count<br />
IntCmp $BinTemp '0' +2<br />
 StrCpy $BinTemp '1'<br />
StrCpy $TargetTemp '$TargetTemp$BinTemp'<br />
StrCmp $Count '1' NextLetter -5<br />
<br />
FunctionEnd<br />
Result:<br />
<br />
Hex (ABCD)= Binary String (00001010 00001011 00001100 00001101 )</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st April 2004, 19:49</div></div><div class="posttext">the user has to put a binary number to be converted after by the function into a hexadecimal number and then write the result into a .bmp file<br />
<br />
This means Binary -&gt; Hexadecimal.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">21st April 2004, 21:52</div></div><div class="posttext">How about this function?<br />
Function bin2hex<br />
  <br />
  Exch $R9  ; binary input string (max 16 bits)<br />
  Push $R8<br />
  Push $R7  ; 4 character hex output string (empty if error detected)<br />
  Exch 2<br />
  <br />
  StrLen $R8 $R9<br />
  IntCmp $R8 16 start start too_long<br />
<br />
start:<br />
  StrCpy $R7 0<br />
  <br />
loop:<br />
  StrCpy $R8 $R9 1<br />
  StrCmp $R8 &quot;&quot; done<br />
  StrCpy $R9 $R9 &quot;&quot; 1<br />
  StrCmp $R8 &quot;0&quot; good_digit<br />
  StrCmp $R8 &quot;1&quot; good_digit bad_digit<br />
<br />
good_digit:<br />
  IntOp $R7 $R7 * 2<br />
  IntOp $R7 $R7 + $R8<br />
  Goto loop<br />
<br />
too_long:<br />
  MessageBox MB_OK|MB_ICONEXCLAMATION &quot;Binary Input ($R9) is longer than 16 bits&quot;<br />
  StrCpy $R7 &quot;&quot;<br />
  Goto exit<br />
<br />
bad_digit:<br />
  MessageBox MB_OK|MB_ICONEXCLAMATION &quot;Input is not binary (contains '$R8' character)&quot;<br />
  StrCpy $R7 &quot;&quot;<br />
  Goto exit<br />
<br />
done:<br />
  IntFmt $R7 &quot;%04X&quot; $R7<br />
<br />
exit:<br />
  Pop $R9<br />
  Pop $R8<br />
  Exch $R7<br />
<br />
FunctionEnd<br />
usage:Push &quot;10101010&quot;<br />
Call bin2hex<br />
Pop $0 ; holds &quot;00AA&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">deguix</div><div class="date">21st April 2004, 23:34</div></div><div class="posttext">Hmmm... thanks both of you for the function.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>