<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How do you ReadINIStr &amp; nsExec::ExecToLog one line with a few parameters?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How do you ReadINIStr &amp; nsExec::ExecToLog one line with a few parameters? NSIS Discussion" />
	
	<title> How do you ReadINIStr &amp; nsExec::ExecToLog one line with a few parameters? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How do you ReadINIStr &amp; nsExec::ExecToLog one line with a few parameters?</div>
<hr />
<div class="pda"><a href="t-204796.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=204796">How do you ReadINIStr &amp; nsExec::ExecToLog one line with a few parameters?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">vbgunz</div><div class="date">13th January 2005, 09:58</div></div><div class="posttext">I've tried doing the following which should really be easy but which is proving to be so frustrating. I've tried so many combinations of the following, it got me sick :(<br />
<br />
I am trying to read an ini value then feed it into a cmd fired by nsExec::ExecToLog. I've tried so many different combinations, I am tired :( The pasted code below is what I feel should be dead on the money.<br />
ReadEnvStr $0 COMSPEC<br />
ReadINIStr $1 $INSTDIR\madman.ini &quot;field 1&quot; state<br />
nsExec::ExecToLog '$0 /C $\&quot;$INSTDIR\psychopath.exe$\&quot; -r $\&quot;$INSTDIR\hysteria.log$\&quot; /$1 /$1'When I say I've tried so many things I mean it. Look at the above code... I've tried without exaggeration maybe forty or more different combinations. I finally got tired :(<br />
<br />
I just don't see whats going wrong... *sigh*. I'll try to remember a long list of errors and make this quick. Either (A) NSIS wont read it upon install OR (B) It will log the DOS splash screen (MS COPYRIGHT,etc) and nothing else OR (C) It will tell me C:\Program is not a program, etc OR (D) I can only get the first of the code to work<br />
nsExec::ExecToLog '$0 /C $\&quot;$INSTDIR\psychopath.exe$\&quot;<br />
<br />
The entire line of code above (-minus NSIS format) direct into the cmdline works perfect without hiccup. Yet I must be getting the format horribly wrong. Can someone please help shine some light on my problem?<br />
<br />
Thank you for your time!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">13th January 2005, 10:11</div></div><div class="posttext">ReadINIStr $1 &quot;$INSTDIR\madman.ini&quot; &quot;field 1&quot; &quot;state&quot;<br />
<br />
INSTDIR includes blank spaces, this is why c:\program is not a program. ;)<br />
MessageBox also helps to debug (after every statement :) )<br />
Are you really sure you need this cmd line beginning?<br />
&quot;E:\WINNT\system32\cmd.exe /C ...&quot; <br />
nsExec works without this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vbgunz</div><div class="date">13th January 2005, 14:45</div></div><div class="posttext">Thank you for pointing that out. I am not sure why I've been using comspec but remember faintly it being because it was supposed to be a sure fire way to find the cmd :)<br />
<br />
After 3 hours of sleep and my baby waking me up, I checked this thread, got back to work on it and got it to work. I removed code like you suggested and all seems well.<br />
<br />
Thank you for your help and time Takhir!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>