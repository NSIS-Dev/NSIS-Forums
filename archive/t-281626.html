<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Custom scripted installer., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Custom scripted installer. NSIS Discussion" />
	
	<title> Custom scripted installer. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Custom scripted installer.</div>
<hr />
<div class="pda"><a href="t-281626.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=281626">Custom scripted installer.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">17th November 2007, 16:51</div></div><div class="posttext">Hi guys, I promised the community that I am a part of that I would release a mod I created Thanks Giving day for the game TRIBES.<br />
<br />
I successfully created a installer, now the only problem is that I need it to install :\<br />
<br />
I originally worked out of gfx.nsi, I got everything to work, and the installer itself looks excellent.  I couldn't find any code in the NSI that attaches files to it so I browsed around in zip2exe.  I noticed at the top it says the contrib crap, so I went ahead and went to my Programs files/NSIS/Contrib/ bla bla...  I then opened up the base, then I attempted to replace the base code with the one gfx gave me..  No luck...  Syntax syntax syntax..  Now this is weird knowing the installer works in the scripter but not the zip2exe...  I am basically trying to add the zip to my custom gfx.nsi, if anyone could help I would deeply appreciate it..<br />
<br />
Josh-<br />
<br />
Here is the un-syntaxed GFX.nsi code.<br />
<br />
<br />
;--------------------------------<br />
<br />
!macro BIMAGE IMAGE PARMS<br />
Push $0<br />
GetTempFileName $0<br />
File /oname=$0 &quot;${IMAGE}&quot;<br />
SetBrandingImage ${PARMS} $0<br />
Delete $0<br />
Pop $0<br />
!macroend<br />
<br />
;--------------------------------<br />
<br />
Name &quot;WTF Mod v0.2&quot;<br />
<br />
OutFile &quot;Gfx.exe&quot;<br />
<br />
; Adds an XP manifest to the installer<br />
XPStyle on<br />
<br />
; Add branding image to the installer (an image placeholder on the side).<br />
; It is not enough to just add the placeholder, we must set the image too...<br />
; We will later set the image in every pre-page function.<br />
; We can also set just one persistent image in .onGUIInit<br />
AddBrandingImage left 100<br />
<br />
; Sets the font of the installer<br />
SetFont &quot;Comic Sans MS&quot; 8<br />
<br />
; Just to make it three pages...<br />
SubCaption 0 &quot;: !?WTF?! Mod installer - Clanmx.com&quot;<br />
SubCaption 2 &quot;: !?WTF?! Mod installer Page - Clanmx.com&quot;<br />
LicenseText &quot;WTF Mod License page&quot;<br />
LicenseData &quot;License.nsi&quot;<br />
DirText &quot;--!?WTF?! Mod-- (example: C:\Dynamix\Tribes\)&quot;<br />
<br />
; Install dir<br />
InstallDir &quot;C:\Dynamix\Tribes\&quot;<br />
<br />
;--------------------------------<br />
<br />
; Pages<br />
Page license licenseImage<br />
Page custom customPage<br />
Page directory dirImage<br />
Page instfiles instImage<br />
<br />
;--------------------------------<br />
<br />
Section &quot;&quot;<br />
; You can also use the BI_NEXT macro here...<br />
MessageBox MB_YESNO &quot;You are about ready to install !?WTF?! Mod v0.2. Please NOTE: I am not responsible \<br />
  for any problems this installer/mod may cause to your computer. As far as I know, it's safe. Help + \<br />
  information at Clanmx.com &amp; clanmx.info.&quot; IDNO done<br />
!insertmacro BIMAGE &quot;C:\Documents and Settings\HaCKeR\Desktop\Installer stuff\WTFmod2.bmp&quot; &quot;&quot;<br />
done:<br />
WriteUninstaller uninst.exe<br />
SectionEnd<br />
<br />
;--------------------------------<br />
<br />
Function licenseImage<br />
!insertmacro BIMAGE &quot;C:\Documents and Settings\HaCKeR\Desktop\Installer stuff\WTFmod2.bmp&quot; /RESIZETOFIT<br />
MessageBox MB_YESNO 'Would you like to skip the license page?' IDNO no<br />
Abort<br />
no:<br />
FunctionEnd<br />
<br />
Function customPage<br />
!insertmacro BIMAGE &quot;C:\Documents and Settings\HaCKeR\Desktop\Installer stuff\WTFmod2.bmp&quot; /RESIZETOFIT<br />
MessageBox MB_OK 'After clicking &quot;Ok&quot; Please select a propper TRIBES directory to install !?WTF?! \<br />
  Mod to. Make sure you back up your Tribes folder!'<br />
#insert install options/start menu/&lt;insert plugin name here&gt; here<br />
FunctionEnd<br />
<br />
Function dirImage<br />
!insertmacro BIMAGE &quot;C:\Documents and Settings\HaCKeR\Desktop\Installer stuff\WTFmod2.bmp&quot; /RESIZETOFIT<br />
FunctionEnd<br />
<br />
Function instImage<br />
!insertmacro BIMAGE &quot;C:\Documents and Settings\HaCKeR\Desktop\Installer stuff\WTFmod2.bmp&quot; /RESIZETOFIT<br />
FunctionEnd<br />
<br />
;--------------------------------<br />
<br />
; Uninstall pages<br />
<br />
UninstPage uninstConfirm un.uninstImage<br />
UninstPage custom un.customPage<br />
UninstPage instfiles un.instImage<br />
<br />
Function un.uninstImage<br />
!insertmacro BIMAGE &quot;C:\Documents and Settings\HaCKeR\Desktop\Installer stuff\WTFmod2.bmp&quot; /RESIZETOFIT<br />
FunctionEnd<br />
<br />
Function un.customPage<br />
!insertmacro BIMAGE &quot;C:\Documents and Settings\HaCKeR\Desktop\Installer stuff\WTFmod2.bmp&quot; /RESIZETOFIT<br />
MessageBox MB_OK 'You have chosen to delete !?WTF?! mod from the directory you selected'<br />
#insert install options/start menu/&lt;insert plugin name here&gt; here<br />
FunctionEnd<br />
<br />
Function un.instImage<br />
!insertmacro BIMAGE &quot;C:\Documents and Settings\HaCKeR\Desktop\Installer stuff\WTFmod2.bmp&quot; /RESIZETOFIT<br />
FunctionEnd<br />
<br />
;--------------------------------<br />
<br />
; Uninstaller<br />
<br />
; Another page for uninstaller<br />
UninstallText &quot;--!?WTF?! Mod Uninstaller--&quot;<br />
<br />
Section uninstall<br />
MessageBox MB_OK &quot;Are you sure you want to completley delete !?WTF?! mod?&quot;<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th November 2007, 21:14</div></div><div class="posttext">You don't need zip2exe. It's only used for converting ZIP files to installers with two clicks and no customizations. What you are looking for is the File command. Start with the simpler examples - example1.nsi.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">17th November 2007, 21:56</div></div><div class="posttext">Mmk, I might convert some code over from example1.nsi to gfx, but I am definetly not starting over.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">17th November 2007, 22:11</div></div><div class="posttext">Ahh! thank you so much!<br />
<br />
;--------------------------------<br />
<br />
; The stuff to install<br />
Section &quot;&quot; ;No components page, name is not important<br />
<br />
  ; Set output path to the installation directory.<br />
  SetOutPath $INSTDIR<br />
  <br />
  ; Put file there<br />
  File Filenamehere.w/e<br />
  <br />
SectionEnd ; end the section</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">18th November 2007, 00:11</div></div><div class="posttext">mmm..<br />
How do we write a shortcut to installer?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Maked0n</div><div class="date">18th November 2007, 05:25</div></div><div class="posttext">Originally posted by Dark-energy <br />
mmm..<br />
How do we write a shortcut to installer?  <br />
<br />
Try this hmne.sourceforge.net<br />
<br />
And for desktop shortcut<br />
<br />
Section &quot;-Make Shortcut&quot; SEC0XX<br />
  SetOutPath $INSTDIR<br />
  CreateShortCut &quot;$DESKTOP\Name_of_your<br />
_shortcut.lnk&quot; &quot;$INSTDIR\Game.exe&quot;  &quot;$INSTDIR\shortcut_icon.ico&quot;<br />
SectionEnd<br />
<br />
shortcut icon is optional if u like to have different icon than main game icon</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">18th November 2007, 18:28</div></div><div class="posttext">Mmm, but I already have the shortcut, I just need to write it :\</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pospec</div><div class="date">18th November 2007, 19:31</div></div><div class="posttext">Use CreateShortCut please.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">18th November 2007, 21:03</div></div><div class="posttext">Oh, I get it.<br />
<br />
Another thing, last thing and I will stop bugging you guys..<br />
<br />
How do you change Installer icon?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">18th November 2007, 21:40</div></div><div class="posttext">The Icon command would do that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">18th November 2007, 22:13</div></div><div class="posttext">Err great, uninstaller doesn't work..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">18th November 2007, 22:30</div></div><div class="posttext">Hmm, what is change shortcut icon code?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">18th November 2007, 22:50</div></div><div class="posttext">Nvm got it all working</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">24th November 2007, 15:46</div></div><div class="posttext">Hmm, What if I wanted a file to open after it's done installing?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th November 2007, 20:54</div></div><div class="posttext">You could use the .onInstSuccess function, or add a leave function for the finish page...<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dark-energy</div><div class="date">24th November 2007, 21:20</div></div><div class="posttext">Err that didn't exactally help at all but I did get it to work anyways.<br />
<br />
;AIFO<br />
Section &quot;&quot; ;No components page, name is not important<br />
<br />
ExecShell &quot;open&quot; &quot;$INSTDIR\Config\WTF.cs&quot;<br />
  <br />
SectionEnd ; end the section</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>