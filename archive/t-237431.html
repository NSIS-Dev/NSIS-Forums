<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Dynamic SelectSection Possible?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Dynamic SelectSection Possible? NSIS Discussion" />
	
	<title> Dynamic SelectSection Possible? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Dynamic SelectSection Possible?</div>
<hr />
<div class="pda"><a href="t-237431.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=237431">Dynamic SelectSection Possible?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">flyakite</div><div class="date">7th February 2006, 18:50</div></div><div class="posttext">I have a tool with over 200 sections, each representing a particular file that can be installed.<br />
<br />
I would like to be able to dynamically enable sections via the command line, by calling the tool with &quot;/file1 /file25&quot; etc.<br />
<br />
I use GetNextParameters and all that to read the values of each parameter on the command line and have no problem with that.  The problem is then trying to call !insertmacro SelectSection.  It does not work, due to the fact that I am reading the parameters and storing them as a variable, and then trying to pass that variable to SelectSection, which seems to need a define.<br />
<br />
Is there any way I can do this, without doing 200 StrCmps and having a line of code for each SelectSection indexname?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th February 2006, 18:53</div></div><div class="posttext">You can use LogicLib's ${Switch} instead of 200 StrCmp, or you can create some mapping file. You can also create the switch dynmically while compiling the script. Write a little macro that'll write one line of the switch (using !system 'echo something &gt; somefile') and insert that macro for every section. You can even have that macro both define the section and update the file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flyakite</div><div class="date">7th February 2006, 19:13</div></div><div class="posttext">Well I have it partially working.  I'm testing it based off of the command in the user manual:<br />
<br />
!system 'echo !define test &gt; newinclude.nsh'<br />
<br />
However, the file newinclude.nsh just gets overwritten with &quot;!define test&quot; for every section, instead of the line getting appended, and I can't figure out how to make it just keep adding to the file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th February 2006, 19:16</div></div><div class="posttext">Use two brackets (&gt;&gt;) to append. See the following page for more information:<br />
<br />
http://www.robvanderwoude.com/index.html</div></div><hr />


<div class="post"><div class="posttop"><div class="username">flyakite</div><div class="date">7th February 2006, 19:16</div></div><div class="posttext">Actually I figured it out, I'm using !appendfile.<br />
<br />
Thanks for you help kichik, I appreciate it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th February 2006, 19:20</div></div><div class="posttext">Right, that's actually better because it'll work on Linux and friends. Sorry, forgot about it.<br />
<br />
BTW, LogicLib.nsh uses these instructions to create the code for ${Switch}. You can take a look at it for an example.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>