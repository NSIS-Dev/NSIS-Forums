<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Change Background Color of Text Box on Custom Page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Change Background Color of Text Box on Custom Page NSIS Discussion" />
	
	<title> Change Background Color of Text Box on Custom Page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Change Background Color of Text Box on Custom Page</div>
<hr />
<div class="pda"><a href="t-226214.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=226214">Change Background Color of Text Box on Custom Page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">16th September 2005, 23:21</div></div><div class="posttext">Hello all.<br />
<br />
I have scoured the forums, and help files, and tried to decipher the IoColors.zip example, but am still confused.  Basically what I have is a custom page (ResultsPage) that contains a text box (Type=Text in the ResultsPage.ini).  I have the text box set with: Flags=MULTILINE|VSCROLL|READONLY, as I'm using it to display a large amount of text.  I want to keep in READONLY but don't like the gray background it produces.<br />
<br />
So... I just need a hand setting the background of this custom control (Type=Text) back to white as if it was not READONLY.  Below is the code for the display of the ResultsPage, and the corresponding INI.  Can someone please show me the commands I need?  Thanks so much all!<br />
<br />
Jnuw<br />
<br />
<br />
Function SetFinishPage<br />
  ;Next 4 lines removes next and back buttons<br />
  GetDlgItem $0 $HWNDPARENT 3<br />
  ShowWindow $0 0<br />
  GetDlgItem $0 $HWNDPARENT 1<br />
  ShowWindow $0 0<br />
  <br />
  StrCmp $NumMissing 0 0 +2<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ResultsPage.ini&quot; &quot;Field 5&quot; &quot;Flags&quot; &quot;DISABLED&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ResultsPage.ini&quot; &quot;Field 2&quot; &quot;State&quot; &quot;$Output&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;ResultsPage.ini&quot; &quot;Settings&quot; &quot;Title&quot; &quot;${PRODUCT_NAME}&quot;<br />
  !insertmacro MUI_HEADER_TEXT &quot;Results&quot; &quot;Please review the results below.&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;ResultsPage.ini&quot;<br />
FunctionEnd<br />
<br />
<br />
ResultsPage.ini<br />
<br />
[Settings]<br />
NumFields=5<br />
Title=<br />
CancelShow=1<br />
CancelButtonText=Exit<br />
<br />
<br />
[Field 1]<br />
Type=GroupBox<br />
Left=0<br />
Right=-1<br />
Top=0<br />
Bottom=-1<br />
Text=&quot;&quot;<br />
<br />
[Field 2]<br />
Type=Text<br />
Left=10<br />
Right=-10<br />
Top=10<br />
Bottom=120<br />
State=&quot;Error...&quot;<br />
Flags=MULTILINE|VSCROLL|READONLY<br />
<br />
[Field 3]<br />
Type=Link<br />
Left=10<br />
Right=139<br />
Top=126<br />
Bottom=136<br />
State=http://www.blabla.com/<br />
Text=Click to open Website.<br />
<br />
[Field 4]<br />
Type=Button<br />
Flags=NOTIFY<br />
Text=&amp;Print Results<br />
Left=240<br />
Right=-10<br />
Top=123		<br />
Bottom=137<br />
<br />
[Field 5]<br />
Type=Button<br />
Flags=NOTIFY<br />
Text=&amp;Download Missing Updates<br />
Left=140<br />
Right=235<br />
Top=123		<br />
Bottom=137</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">17th September 2005, 10:15</div></div><div class="posttext">!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;ResultsPage.ini&quot;<br />
Pop $R0 # HWND<br />
GetDlgItem $R1 $R0 1201 ; 1200 + Field # - 1<br />
SetCtlColors $R1 000000 FFFFFF<br />
!insertmacro MUI_INSTALLOPTIONS_SHOW<br />
<br />
Instead of MUI_INSTALLOPTIONS_DISPLAY<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Jnuw</div><div class="date">18th September 2005, 15:17</div></div><div class="posttext">Thanks again Stu, that did the trick perfectly.  I really appreciate your help!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">22nd January 2007, 09:06</div></div><div class="posttext">Originally posted by Afrow UK <br />
!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;ResultsPage.ini&quot;<br />
Pop $R0 # HWND<br />
GetDlgItem $R1 $R0 1201 ; 1200 + Field # - 1<br />
SetCtlColors $R1 000000 FFFFFF<br />
!insertmacro MUI_INSTALLOPTIONS_SHOW<br />
<br />
Instead of MUI_INSTALLOPTIONS_DISPLAY<br />
<br />
-Stu  <br />
<br />
hello guys<br />
i have tried using this code for my custom pages<br />
to change the color of the text box to white color, but what happened is like the one u can see in the attachment.<br />
anyone have idea, how to modify my code, so that only the text box background color is changed, and i dont want that grey background color (the one in the red square)<br />
this is my .ini code<br />
<br />
[Settings]<br />
NumFields=5<br />
<br />
[Field 1]<br />
Type=Label<br />
Text=Please enter your name and the name of the company for which you work.<br />
Left=0<br />
Right=262<br />
Top=0<br />
Bottom=8<br />
<br />
[Field 2]<br />
Type=Label<br />
Text=User Name:<br />
Left=0<br />
Right=269<br />
Top=25<br />
Bottom=34<br />
<br />
[Field 3]<br />
Type=Text<br />
Left=0<br />
Right=272<br />
Top=37<br />
Bottom=51<br />
<br />
[Field 4]<br />
Type=Label<br />
Text=Company Name<br />
Left=0<br />
Right=273<br />
Top=64<br />
Bottom=72<br />
<br />
[Field 5]<br />
Type=Text<br />
Left=0<br />
Right=275<br />
Top=74<br />
Bottom=88<br />
<br />
and this the coding in the function<br />
<br />
Function Create_Pg_UserInfo<br />
<br />
          !insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;userinfo.ini&quot;<br />
<br />
           ${if} $OLD == &quot;$(^Name)&quot;<br />
                 Abort<br />
           ${endif}<br />
 <br />
           ReadRegStr $0 ${PRODUCT_UNINST_ROOT_KEY} &quot;SOFTWARE\Microsoft\Windows NT\CurrentVersion&quot; &quot;RegisteredOwner&quot;<br />
           !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;userinfo.ini&quot; &quot;Field 3&quot; &quot;State&quot; &quot;$0&quot;<br />
<br />
           ReadRegStr $0 ${PRODUCT_UNINST_ROOT_KEY} &quot;SOFTWARE\Microsoft\Windows NT\CurrentVersion&quot; &quot;RegisteredOrganization&quot;<br />
           !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;userinfo.ini&quot; &quot;Field 5&quot; &quot;State&quot; &quot;$0&quot;<br />
<br />
           Pop $R0 # HWND<br />
           GetDlgItem $R1 $R0 1202 ; 1200 + Field # - 1<br />
           SetCtlColors $R1 &quot;000000&quot; &quot;FFFFFF&quot;<br />
<br />
           !insertmacro MUI_HEADER_TEXT &quot;Customer Information&quot; &quot;Please enter your information&quot;<br />
           !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;userinfo.ini&quot;<br />
           !insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
FunctionEnd<br />
<br />
thank you guys for always helping me</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">22nd January 2007, 10:05</div></div><div class="posttext">Now InstallOptions writes the HWND of every control to ini, so,<br />
Instead of  GetDlgItem $R1 $R0 1202 ; 1200 + Field # - 1<br />
Use ReadINIStr &quot;$R1&quot; &quot;$PLUGINSDIR\userinfo.ini&quot; &quot;field 3&quot; &quot;HWND&quot;<br />
SetCtlColors &quot;$R1&quot; &quot;000000&quot; &quot;FFFFFF&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">22nd January 2007, 10:24</div></div><div class="posttext">Red Wine, do i need to include this:<br />
!insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;userinfo.ini&quot;   ?<br />
i have tried using the code above,<br />
<br />
           ReadRegStr $0 ${PRODUCT_UNINST_ROOT_KEY} &quot;SOFTWARE\Microsoft\Windows NT\CurrentVersion&quot; &quot;RegisteredOwner&quot;<br />
           !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;userinfo.ini&quot; &quot;Field 3&quot; &quot;State&quot; &quot;$0&quot;<br />
<br />
           ReadRegStr $0 ${PRODUCT_UNINST_ROOT_KEY} &quot;SOFTWARE\Microsoft\Windows NT\CurrentVersion&quot; &quot;RegisteredOrganization&quot;<br />
           !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;userinfo.ini&quot; &quot;Field 5&quot; &quot;State&quot; &quot;$0&quot;<br />
;           !insertmacro MUI_INSTALLOPTIONS_INITDIALOG &quot;userinfo.ini&quot;<br />
           Pop $R0 # HWND<br />
           ReadINIStr &quot;$R1&quot; &quot;userinfo.ini&quot; &quot;field 3&quot; &quot;HWND&quot;<br />
           SetCtlColors &quot;$R1&quot; &quot;000000&quot; &quot;FFFFFF&quot;<br />
           !insertmacro MUI_HEADER_TEXT &quot;Customer Information&quot; &quot;Please enter your information&quot;<br />
           !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;userinfo.ini&quot;<br />
           !insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
<br />
without the initdialog, i cant get the result at all, the box doesnt turn to white background color, and if i use with the initdialog, the result is the same as the attachment..<br />
did i put the code at the wrong place?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">22nd January 2007, 11:37</div></div><div class="posttext">Yeah! you already discovered this!<br />
1st init the dialog, set ctl colors and then show the dialog.<br />
You certainly know how to do it :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">23rd January 2007, 02:27</div></div><div class="posttext">I thought I had attached an attachment during my 1st post..but I didnt...<br />
Im sorry Red Wine, I still cannot solve my prob..<br />
please see the attachment<br />
i want to remove that grey background color</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">23rd January 2007, 04:21</div></div><div class="posttext">..............<br />
..............<br />
Push $1 <br />
 InstallOptions::InitDialog /NOUNLOAD &quot;$PLUGINSDIR\userinfo.ini&quot;<br />
 Pop $1<br />
    FindWindow $1 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
    SetCtlColors $1 '' '0x000000'<br />
 InstallOptions::Show &quot;$PLUGINSDIR\userinfo.ini&quot;<br />
 Pop $1<br />
 <br />
 Pop $1<br />
 Pop $1<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">23rd January 2007, 06:47</div></div><div class="posttext">Anyway, what is the different between :<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_INITDIALOG<br />
&amp;<br />
INSTALLOPTIONS::InitDialog<br />
<br />
and<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY<br />
&amp;<br />
!insertmacro MUI_INSTALLOPTIONS_SHOW<br />
&amp;<br />
INSTALLOPTIONS::SHOW</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">23rd January 2007, 06:55</div></div><div class="posttext">The MUI macro system is designed for your convenience<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_INITDIALOG == INSTALLOPTIONS::InitDialog /NOUNLOAD<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_SHOW ==<br />
INSTALLOPTIONS::SHOW<br />
<br />
!insertmacro MUI_INSTALLOPTIONS_DISPLAY ==<br />
INSTALLOPTIONS::DISPLAY</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takeshi</div><div class="date">23rd January 2007, 07:17</div></div><div class="posttext">ok Red Wine. thanx a lot for your help!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>