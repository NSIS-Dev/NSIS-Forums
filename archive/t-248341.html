<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Can I use MUILicense variable in File command?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Can I use MUILicense variable in File command? NSIS Discussion" />
	
	<title> Can I use MUILicense variable in File command? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Can I use MUILicense variable in File command?</div>
<hr />
<div class="pda"><a href="t-248341.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248341">Can I use MUILicense variable in File command?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">LRaiz</div><div class="date">10th June 2006, 05:24</div></div><div class="posttext">My MUI installer uses different language specific files for licensing. And I would like to install just one of them (the one that corresponds to the installation language) on user's machine. I am having problems figuring out the correct syntax. Below is a fragment of what I have so far. <br />
<br />
...<br />
!insertmacro MUI_PAGE_LICENSE $(MUILicense)<br />
...<br />
LicenseLangString MUILicense ${LANG_ENGLISH} &quot;EULA.en.txt&quot;<br />
LicenseLangString MUILicense ${LANG_FRENCH} &quot;EULA.fr.txt&quot;<br />
...<br />
Section &quot;MainSection&quot; SEC01<br />
...<br />
File  /oname=EULA.txt &quot;${MUILicense}&quot; <br />
<br />
The File command would not compile. Am I doing something wrong? <br />
Thanks for your help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">10th June 2006, 10:41</div></div><div class="posttext">Remove the File command, you do not need it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LRaiz</div><div class="date">10th June 2006, 13:42</div></div><div class="posttext">If I remove File command then even though user can see the license during installation I don't think she'd have any file left to read license terms afterward. I was looking for a way to leave a file on user machine so they can refer to it after install. I also wanted to make the name of this file non-variable so I can uninstall it easily. <br />
Based on your response I thought for second that NSIS and MUI are super smart and do that automatically but a quick check shows absence of such file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">10th June 2006, 15:34</div></div><div class="posttext">Sorry, I did not read your message properly.<br />
<br />
You can test which language has been selected and then extract the appropriate EULA file.<br />
<br />
If you only have French and English then use something like this to replace the line that fails to compile  StrCmp $LANGUAGE ${LANG_FRENCH} french<br />
  File /oname=EULA.txt &quot;EULA.en.txt&quot;<br />
  Goto continue<br />
<br />
french:<br />
  File /oname=EULA.txt &quot;EULA.fr.txt&quot;<br />
<br />
continue:If you have a lot of languages to choose from, you may find it easier to use the Logic Library (LogicLib.nsh) supplied with NSIS.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">LRaiz</div><div class="date">10th June 2006, 15:39</div></div><div class="posttext">Thanks</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>