<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Sample Script for Game, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Sample Script for Game NSIS Discussion" />
	
	<title> Sample Script for Game [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Sample Script for Game</div>
<hr />
<div class="pda"><a href="t-296203.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=296203">Sample Script for Game</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jad_nsis</div><div class="date">20th August 2008, 10:03</div></div><div class="posttext">Hi,<br />
i want to create a setup file for game with environment variable.<br />
<br />
how to write a script for set environment variable and file name extension.<br />
i need a sample code for game installer.<br />
can u help me?<br />
<br />
thanks in advance,<br />
JAD</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">21st August 2008, 16:14</div></div><div class="posttext">For environment variables, check out this wiki article (http://nsis.sourceforge.net/Setting_Environment_Variables)<br />
<br />
For setting file associations, look at this article (http://nsis.sourceforge.net/File_Association).  (There is a link at the bottom of this article to a NSIS forum article that explains in more detail.)<br />
<br />
Both things above should be easy enough to implement as their both based on standard NSIS scripting (of which there are numerous examples included with the NSIS installation).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jad_nsis</div><div class="date">22nd August 2008, 05:58</div></div><div class="posttext">HI,<br />
thanks.<br />
i read that article and i did environment variables.<br />
but i can't change the file extension.<br />
i don't know why?<br />
<br />
i wrote this for file extension<br />
instaler section:<br />
${registerExtension} &quot;$INSTDIR\app.image&quot; &quot;.inst&quot; &quot;INST File&quot;<br />
uninstll section:<br />
${unregisterExtension} &quot;.inst&quot; &quot;INST File&quot;<br />
<br />
is this correct? or have to do anymore?<br />
<br />
Thanks in Advance<br />
JAD</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">22nd August 2008, 18:22</div></div><div class="posttext">hmm.. Did you read the linked forum article (http://forums.winamp.com/showthread.php?s=&amp;threadid=140254) that I mentioned was on the wiki page?  <br />
<br />
It suggests that you call SHChangeNotify after changing the extensions.  <br />
<br />
There is a built-in macro include in the FileFunc header called &quot;RefreshShellIcons&quot; that does this very thing.  For usage, refer to NSIS help, Appendix E (http://nsis.sourceforge.net/Docs/AppendixE.html#E.1.21).  Try adding that to the end of the ${registerExtension} and ${unregisterExtension} lines in your script and see if that fixes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jad_nsis</div><div class="date">25th August 2008, 09:15</div></div><div class="posttext">HI ,<br />
Thanks for your reply.<br />
i wrote the code,whatever you mentioned.but still the file extension is not changed.<br />
<br />
my code is,<br />
instaler section:<br />
${registerExtension} &quot;$INSTDIR\app.image&quot; &quot;.inst&quot; &quot;INST File&quot;<br />
System::Call 'shell32.dll::SHChangeNotify(i, i, i, i) v (0x08000000, 0, 0, 0)'<br />
<br />
uninstll section:<br />
${unregisterExtension} &quot;.inst&quot; &quot;INST File&quot;<br />
System::Call 'shell32.dll::SHChangeNotify(i, i, i, i) v (0x08000000, 0, 0, 0)'<br />
<br />
<br />
have to do anything for change file extension?<br />
<br />
Thanks,<br />
JAD</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>