<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Nsis 2.0, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Nsis 2.0 NSIS Discussion" />
	
	<title> Nsis 2.0 [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Nsis 2.0</div>
<hr />
<div class="pda"><a href="t-93768.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=93768">Nsis 2.0</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">7th July 2002, 22:06</div></div><div class="posttext">I've been working on updating NSIS 2.0 with some patches.  Here's what I've changed so far:<br />
<br />
- Added /e option to Section and SubSection.  If /e is present, the node is expanded by default in the treeview.<br />
- Added the File attribute patch (posted on this forum).  It adds an /a option to the File command.  If present it will preserve its file attributes when installed on the host machine.<br />
<br />
Are there any other patches/features that need to be implemented?  If anybody wants a copy, just send me an pm through the forum.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">SphinxLova</div><div class="date">8th July 2002, 00:13</div></div><div class="posttext">how about more color/sizes on the icons? i've been trying to do this but since i don't now C++ so i can't really get it to work..<br />
<br />
i've tried.. but alas.. nothing i've tried have worked..<br />
<br />
or if you (or someone else) tell me what to edit (i know where in the code the icon replace code is.) then i could do this myself.. (in both future and older versions..)<br />
<br />
or perhaps a swith that enables and disables multi size/color icons..<br />
<br />
hope you can help.<br />
<br />
Cheers.<br />
<br />
/Christian AKA Sphinx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">8th July 2002, 02:20</div></div><div class="posttext">i think highcolor file-icons are more important than the bitmaps :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th July 2002, 10:37</div></div><div class="posttext">I am currently working on high color icons. It will be ready soon.<br />
My build will be based on 1.98 though...<br />
<br />
My mod will also have an option to add XP style from within the script without the need to recompile.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">8th July 2002, 17:17</div></div><div class="posttext">I've also fixed a bug in makensisw where copy all did not work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">8th July 2002, 17:59</div></div><div class="posttext">:(<br />
<br />
There is sometype of bug in that was prevented the nodes to be toggled.  If I sent you the source, it may not be working correctly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">8th July 2002, 19:42</div></div><div class="posttext">OK.  The bug is fixed.  I also reorganized the NSIS directory structure a bit (and the installer).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">9th July 2002, 18:41</div></div><div class="posttext">You can download the installer here (http://www.robertrainwater.com/nsis/nsis20a1.exe).<br />
<br />
Here are the changes:<br />
 - Added expand node option to Section and SubSection <br />
 - Added preserv file attribute option to File command <br />
 - Copy-All bug fix in Makensisw <br />
 - Added NSISDIR to the define list <br />
 - Reorganized NSIS directory structure</div></div><hr />


<div class="post"><div class="posttop"><div class="username">maragato</div><div class="date">15th July 2002, 14:11</div></div><div class="posttext">Sugestions for a new version of NSIS:<br />
<br />
- An option for RmDir command &quot;RmDir /ifempty&quot;<br />
<br />
- A command to check if directory is empty<br />
IfDirectoryIsEmpty &lt;directory&gt; &lt;jump_IfEmpty&gt; &lt;jump_IfNotEmpty&gt;<br />
<br />
- An option for CopyFiles command &quot;CopyFiles /rebootok&quot; (case the file is running)<br />
<br />
- Insert a hint when mouse cursor is on DetailPrint line and its out of a Window size<br />
<br />
- Permit to change the messages of DetailPrint (Example: Translate) <br />
same as caps.nsh<br />
<br />
Thanks folks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">16th July 2002, 16:57</div></div><div class="posttext">- An option for RmDir command &quot;RmDir /ifempty&quot;<br />
<br />
<br />
Just do:<br />
RMDir $INSTDIR<br />
<br />
It will only remove the directory if it was empty, so you can check if it was empty afterwards using IfFileExists on the directory.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">liquidmotion</div><div class="date">16th July 2002, 16:59</div></div><div class="posttext">Originally posted by rainwater <br />
I've also fixed a bug in makensisw where copy all did not work. <br />
<br />
i'm trying to write (read &quot;my first c++ program&quot;) a gui for isdcc2 and am wondering if you could explain, or send me to a site, about how you capture the NSIS output w/o the window actually being shown.<br />
<br />
thank you~</div></div><hr />


<div class="post"><div class="posttop"><div class="username">maragato</div><div class="date">16th July 2002, 17:46</div></div><div class="posttext">Oh! I am a stupid. :igor: <br />
<br />
The &quot;Rmdir /ifempty&quot; is default!<br />
<br />
I'm sorry.<br />
<br />
And about the others sugestions? What do you think?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">16th July 2002, 18:49</div></div><div class="posttext">Originally posted by liquidmotion <br />
<br />
<br />
i'm trying to write (read &quot;my first c++ program&quot;) a gui for isdcc2 and am wondering if you could explain, or send me to a site, about how you capture the NSIS output w/o the window actually being shown.<br />
<br />
Check out this method in makensisw.cpp:<br />
<br />
DWORD WINAPI MakeNSISProc<br />
<br />
This thread executes the process.  This version also captures the output along the way and calls a local method LogMessage.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th July 2002, 12:34</div></div><div class="posttext">Originally posted by maragato <br />
- A command to check if directory is empty<br />
IfDirectoryIsEmpty &lt;directory&gt; &lt;jump_IfEmpty&gt; &lt;jump_IfNotEmpty&gt;<br />
<br />
<br />
<br />
FindFirst $1 $2 &quot;F:\\Temp\\WinTemp\\new\\*.*&quot;<br />
FindNext $1 $2<br />
FindNext $1 $2<br />
StrCmp $2 &quot;&quot; empty notEmpty<br />
empty:<br />
	MessageBox MB_OK &quot;not empty&quot;<br />
	goto end<br />
notEmpty:<br />
	MessageBox MB_OK &quot;empty&quot;<br />
end:<br />
<br />
<br />
This code works for me...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd July 2002, 00:26</div></div><div class="posttext">Originally posted by maragato <br />
- Insert a hint when mouse cursor is on DetailPrint line and its out of a Window size<br />
<br />
Will be added in my next version.<br />
This will only be supported on systems with Internet Explorer 5 and above.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">maragato</div><div class="date">23rd July 2002, 12:27</div></div><div class="posttext">And about the others sugestions (translate, copyfiles)? <br />
What do you think?<br />
<br />
Your next version is a official nsis version?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sunjammer</div><div class="date">23rd July 2002, 12:41</div></div><div class="posttext">AFAIK only Justin makes &quot;official&quot; versions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd July 2002, 13:15</div></div><div class="posttext">I am working on translation options.<br />
<br />
I have tried to add hints to long lines of deatils but it just didn't work :( I will try to sort things out and add it in the next version...<br />
<br />
Why do you need CopyFiles /REBOOTOK? What's wrong with Rename /REBOOTOK? CopyFiles /REBOOTOK can be done using scripting. You can use FindFirst &amp; FindNext &amp; FindClose, find out which files where not copied and then copy them your self with Rename /REBOOTOK...<br />
<br />
And like Sunjammer said, only Justin makes official versions :D</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>