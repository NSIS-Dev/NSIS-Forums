<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Current CVS breaks my installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Current CVS breaks my installer NSIS Discussion" />
	
	<title> Current CVS breaks my installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Current CVS breaks my installer</div>
<hr />
<div class="pda"><a href="t-142545.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=142545">Current CVS breaks my installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bSecRes</div><div class="date">17th July 2003, 17:21</div></div><div class="posttext">Yesterday I had the current CVS everything worked as well as it ever did. Today newest CVS won't let me compile:<br />
Compiler Output:<br />
Function: &quot;AuthChoiceCustom&quot;<br />
!insertmacro: MUI_HEADER_TEXT<br />
Usage: GetDlgItem $(user_var: handle output) dialog item_id<br />
Error in macro MUI_HEADER_TEXT on macroline 6<br />
<br />
What it was looking at (some lines wrapped):<br />
Function AuthChoiceCustom<br />
  !insertmacro MUI_HEADER_TEXT &quot;$(TITLE_AuthChoice)&quot; &quot;$(SUBTITLE_AuthChoice)&quot;<br />
  !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;AuthChoice.ini&quot;<br />
FunctionEnd<br />
<br />
I don't use GetDlgItem explicitly, I don't change fonts or anything crazy like that. I checked the docs, InstallOptions docs look the same.. what do I need to do?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th July 2003, 17:25</div></div><div class="posttext">Are you sure you've upgraded everything and not just makensis?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bSecRes</div><div class="date">17th July 2003, 17:35</div></div><div class="posttext">I used the NSIS Update Utility with &quot;Download the latest development files from CVS, clean copy&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th July 2003, 17:39</div></div><div class="posttext">Can you attach your script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bSecRes</div><div class="date">17th July 2003, 17:58</div></div><div class="posttext">It is a couple thousand lines broken out into seven .nsi files what exactly do you need? Everything to compile it? Just the main .nsi and the one that had the error? I'll assume you only need those two. If you need more let me know, once you reply I'd like to remove the script from the site..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th July 2003, 18:09</div></div><div class="posttext">Those two are enough. Move the includes of your files below the MUI_LANGUAGE macro. That specific macro uses $MUI_TEMP1 which is only defined when you insert the MUI_LANGUAGe macro.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bSecRes</div><div class="date">17th July 2003, 18:18</div></div><div class="posttext">Kichik they don't pay you enough. You should tell them I said that, especially if they do performance reviews where you work. Just tell them to ask the forum about your performance.<br />
<br />
That worked obviously, now I have two questions? Why did that ever work before, because it seems obvious now that it shouldn't have. And, if you find the time in your insane schedule could you recompile makensis at 8192 one last time with these changes and I swear I won't update again before I have my own C compiler installed. Just upload it in the request thread that afrow started no need to x-thread things.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">17th July 2003, 18:27</div></div><div class="posttext">It worked before because I started using the new user variables for the Modern UI, instead of static variables.<br />
<br />
I'll change this behavior and declare the temp variables used in user macro's when inserting the file, so it won't break up scripts :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th July 2003, 18:32</div></div><div class="posttext">I don't get paid for this. NSIS is open source and I'm working on it in my own free time.<br />
<br />
It worked before because only recently (yesterday :)) user defined variables got into the MUI. Up until then non of the macros you've used in those included files needed something defined by the MUI insert macro (called by MUI_LANGUAGE too).<br />
<br />
A compiled version of today's CVS was uploaded to the same place.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>