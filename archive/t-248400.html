<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Question about compression, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Question about compression NSIS Discussion" />
	
	<title> Question about compression [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Question about compression</div>
<hr />
<div class="pda"><a href="t-248400.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248400">Question about compression</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Nigg</div><div class="date">11th June 2006, 01:43</div></div><div class="posttext">Hi all,<br />
<br />
I just wonna know if its possible to create only a setup file which doesn't contain any files except the setup routine. I just want to compress it later so I need only the script (the setup executable). So the setup routine has to be the same, but the files shouldn't be included in it.<br />
<br />
Thanks for any help :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th June 2006, 09:58</div></div><div class="posttext">Use CopyFiles.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nigg</div><div class="date">11th June 2006, 11:30</div></div><div class="posttext">Can you describe how this works? Cause I don't see that CopyFiles does that what I exactly need.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th June 2006, 12:31</div></div><div class="posttext">Oh so you want to compress the files seperately in say a Zip file? In which case, you can use the ZipDll plug-in.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nigg</div><div class="date">11th June 2006, 15:05</div></div><div class="posttext">I dont want to compress them anyway - first. I want a Setup.exe but this Setup should't have any compressed files in it. The files are in the same (srcdir) dir and should be copied to the $INSTDIR but without unpacking before. Just a &quot;normal&quot; installation - but without compression :)<br />
<br />
When you install Firefox, the files are copied to the temp-dir (with a 7zip sfx) and then, an external setup is loaded. I want to realize the same (the files + setup are going to be compressed by 7z under a linux system).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">11th June 2006, 15:59</div></div><div class="posttext">The NSIS compiler also supports Linux and includes LZMA compression.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nigg</div><div class="date">11th June 2006, 16:13</div></div><div class="posttext">Interesting, but i knew this before. But thats not an answer for my question too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galil</div><div class="date">11th June 2006, 16:19</div></div><div class="posttext">So how is CopyFiles NOT the answer?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nigg</div><div class="date">11th June 2006, 16:25</div></div><div class="posttext">because I also have a 30 MB setup with compressed fils init instead of a 100 Kb Setup (or sth) with files in the dir or I am too stupid to use it right.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">11th June 2006, 16:31</div></div><div class="posttext">You either...<br />
<br />
A. Have the files compressed (or stored uncompressed) in the setup executable (by using File instructions);<br />
<br />
Or<br />
<br />
B. You store the files outside the setup executable in file format and copy them to the installation directory with the CopyFiles instruction.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nigg</div><div class="date">12th June 2006, 22:55</div></div><div class="posttext">B)<br />
<br />
Can I use CopyFiles like File with the same dialogs, status bar and messages? I tried but I only saw a Windows dialog like the dialog which is shown when you copy files with the Explorer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">12th June 2006, 23:08</div></div><div class="posttext">You'd have to copy the files individually with separate CopyFiles instructions.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nigg</div><div class="date">12th June 2006, 23:18</div></div><div class="posttext">hm, shit. I thought I could use it like:<br />
<br />
SetOutPath &quot;$INSTDIR\audio\bgm&quot;<br />
  SetOverwrite off<br />
  File &quot;Silbermond - Der harte Weg zum Ruhm\audio\bgm\Drumloop.ogg&quot;<br />
  File &quot;Silbermond - Der harte Weg zum Ruhm\audio\bgm\Intro.ogg&quot;<br />
  File &quot;Silbermond - Der harte Weg zum Ruhm\audio\bgm\Level1-outside.ogg&quot;<br />
  File &quot;Silbermond - Der harte Weg zum Ruhm\audio\bgm\Unerkannt.ogg&quot;<br />
  SetOutPath &quot;$INSTDIR\audio\bgs&quot;<br />
  File &quot;Silbermond - Der harte Weg zum Ruhm\audio\bgs\001-Wind01.ogg&quot;<br />
  File &quot;Silbermond - Der harte Weg zum Ruhm\audio\bgs\002-Wind02.ogg&quot;<br />
<br />
<br />
Thanks for your help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">13th June 2006, 02:13</div></div><div class="posttext">You can, but why would you want behaviour like this? Using copyfiles is one way of doing it, it just does not show the files on the installer dialog. You can use this in you installer, but you have to go without the info of the current files being copied.<br />
<br />
The way I would go is including the files into one setup file (SetCompress off), and then make the 7zip sfx (which will compress your setup program).<br />
<br />
Forgot to add that it is my birthday today. I have just turned twenty (20). This is also where my nickname came from, from being born on Friday the 13th.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mariob</div><div class="date">29th June 2006, 07:42</div></div><div class="posttext">Hi!<br />
<br />
I also need behaviour like that. Here is why.<br />
I have client-server application and installation goes like this. <br />
First, I create a shared folder on server in which I put installation files. Now, I put complete installation (one EXE in which are all the files) and I put all that files again together with exe). <br />
<br />
Installation on client machines is run from that shared folder. The reason why files must not be compiled in EXE is that client machines use those files to update. <br />
<br />
So, server updates those files in shared folder from internet, and clients updates from that shared folder (so that I avoide all clients to connect to the internet and download same update).<br />
<br />
To accomplish that, I would really need to have setup.exe which would contain only script and all the files to be seperately not merged in EXE. <br />
<br />
Now I see I can accomplish that with CopyFile, but that is very compromised sollution since I either have to forget on file list being installed and progress bar or I have to implement it myself. And what's the point of installer if I have to implement the thing by my self. No big difference to write that implementation in NSIS script or Delphi. <br />
I would like installer do the job.<br />
<br />
So, I would really need to have an ability where NSIS would leave all the files outside EXE or even better, create required directory structure (as it would look like on client machine upon installation) in destination folder on compiling script and put all the necessery files in them and then create setup.exe which would contain script only. Of course, progress bar and all other things should work as they usually does.<br />
For the reference, InstallShield Express could do that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shouman</div><div class="date">29th June 2006, 08:32</div></div><div class="posttext">I really appreciate this post. Keep moveingâ€¦.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>