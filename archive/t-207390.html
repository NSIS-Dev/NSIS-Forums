<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" HEADER IMAGE sizes, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  HEADER IMAGE sizes NSIS Discussion" />
	
	<title> HEADER IMAGE sizes [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  HEADER IMAGE sizes</div>
<hr />
<div class="pda"><a href="t-207390.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=207390">HEADER IMAGE sizes</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">10th February 2005, 02:09</div></div><div class="posttext">Hi!<br />
<br />
I have two MUI header images. One for the installer and one for the uninstaller:<br />
<br />
!define MUI_HEADERIMAGE_BITMAP &quot;tigph.bmp&quot;<br />
!define MUI_HEADERIMAGE_UNBITMAP &quot;pirate.bmp&quot;<br />
<br />
So far so good.<br />
<br />
Now I want to increase the size of the bitmaps.<br />
<br />
I edit modern_headerbmp.exe (with Resource Hacker) to implement bigger bitmaps, compile and then save as modern_headerbmp_2.exe, and add the following line to my script file:<br />
<br />
!insertmacro MUI_DEFAULT MUI_UI_HEADERIMAGE &quot;${NSISDIR}\Contrib\UIs\modern_headerbmp_2.exe&quot;<br />
<br />
This works. All header images increase in size by a few pixels.<br />
<br />
That is the problem. I don't want &quot;all&quot; header images to be changed. I need bigger uninstaller ones. (Something to do with the bitmap being unshrinkable, sort of.)<br />
<br />
ChangeUI IDD_UNINST &quot;${NSISDIR}\Contrib\UIs\modern_2.exe&quot; <br />
<br />
would be nice, but I don't think it applies, or I haven't discovered how.<br />
<br />
modern_2.exe is my personalized version of modern.exe in which make similar changes to the ones I make in modern_headerbmp_2.exe. I'm guessing &quot;dialog 105&quot; contains the header image controls. Is that correct?<br />
<br />
Can anyone help out?<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">10th February 2005, 17:42</div></div><div class="posttext">Hi again!<br />
<br />
re: How do you change the header image size on the uninstaller pages without changing it on the installer pages?<br />
<br />
To increase the header image size you can edit the resources in modern_headerbmp.exe. I now have modern_headerbmp_2.exe with modified controls.<br />
<br />
What do I do next?<br />
ChangeUI all &quot;${NSISDIR}\Contrib\UIs\modern_headerbmp_2.exe&quot;<br />
and:<br />
ChangeUI IDD_INST &quot;${NSISDIR}\Contrib\UIs\modern_headerbmp_2.exe&quot;<br />
change the header image size on all pages, whereas:<br />
ChangeUI IDD_UNINST &quot;${NSISDIR}\Contrib\UIs\modern_headerbmp_2.exe&quot;<br />
is an error.<br />
<br />
Does this mean that you cannot have two different header image sizes?<br />
<br />
I'm new to this forum stuff -- a great institution, like democracy. I wouldn't know if anyone ever slips through the net and doesn't get a reply.<br />
<br />
&quot;I won't, I did,&quot; I replied to myself.<br />
<br />
It's not an unreasonable question.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th February 2005, 20:50</div></div><div class="posttext">ChangeUI is not the way way to change the UI using the MUI. The MUI uses ChangeUI too. You need to tell the MUI to use it differently to avoid conflicts. To do that, there are some defines. MUI_UI is one of them.<br />
<br />
To your question, you can't have different UI for the installer and the uninstaller. You can add some empty space to the installer bitmap.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">10th February 2005, 22:00</div></div><div class="posttext">Thank you, Kichik!<br />
<br />
I only wanted to change the default MUI header image on the uninstall pages by swapping modern_headerbmp.exe for modern_headerbmp_2.exe.<br />
<br />
Is that not possible, or rather, can you only do that once (per script), because the change is universal and applies to all pages?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th February 2005, 22:59</div></div><div class="posttext">You cannot change just the uninstaller image size. The installer and the uninstaller share the same dialog.<br />
<br />
IDD_UNINST is the confirmation page, not the container dialog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">10th February 2005, 23:54</div></div><div class="posttext">Thanks! I really appreciate it. It would appear you're right.<br />
<br />
I have come across this line, which can be used only one time (and further instances are ignored by the compiler):<br />
!insertmacro MUI_DEFAULT MUI_UI_HEADERIMAGE &quot;${NSISDIR}\\Contrib\\UIs\\modern_headerbmp_2.exe&quot;<br />
You can't switch back to the original default later on.<br />
<br />
I'm not complaining, just asking. NSIS beats INNO and it beats Setup Factory, anyone else reading this.<br />
<br />
The other approach you mentioned was adding space to the installer bitmap. Do you mean by a !define statement? <br />
<br />
What do you recommend?<br />
<br />
Getting late. Must quit.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">10th February 2005, 23:57</div></div><div class="posttext">MUI_DEFAULT is an internal macro and should not be used. To change the UI you should define MUI_UI.<br />
<br />
In the space suggestion I was referring to the image itself, not any define. Simply add some white space to the installer image so its size will match the uninstaller image size.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">11th February 2005, 00:41</div></div><div class="posttext">Sorry, I have to ask you another question, Kichik.<br />
<br />
If you don't use the internal macro or ChangeUI, that leaves only defining MUI_UI:<br />
<br />
!define MUI_UI ${NSISDIR}\Contrib\UIs\modern_headerbmp_2.exe<br />
<br />
Why does this result in an error? The error line is:<br />
<br />
!insertmacro MUI_PAGE_WELCOME.<br />
<br />
I'm tempted to go back to using ChangeUI IDD_INST ... coupled with your suggestion of adding white space to the image.<br />
<br />
Thanks again.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th February 2005, 10:55</div></div><div class="posttext">I can't tell much without the exact error message, but if that define line was copied from your script verbatim, you are missing quotes. The NSISDIR define might contain spaces, so the path must be quoted.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bnicer</div><div class="date">11th February 2005, 15:08</div></div><div class="posttext">There were two MUI_UIs that I had to predefine. It was the wrong &quot;define&quot;. The Modern User Interface page in the NSIS user manual is a very useful source of information, if you take the time to read it carefully enough as I finally did last night.<br />
MUI_UI ui_file<br />
The interface file with the dialog resources. Change this if you have made your own customized UI.<br />
Default: ${NSISDIR}\Contrib\UIs\modern.exe<br />
<br />
MUI_UI_HEADERIMAGE ui_file<br />
The interface files with the dialog resource IDD_INST that contains a bitmap control and space for the header bitmap.<br />
Default: ${NSISDIR}\Contrib\UIs\modern_headerbmp.exe<br />
It was my mistake. Once I defined the headerimage, I didn't need ChangeUI. You were right.<br />
!define MUI_UI ... modern_2.exe<br />
!define MUI_UI_HEADERIMAGE ... modern_headerbmp_2.exe<br />
One thing still puzzles me. If modern.exe contains no resources for the headerimage, should you even alter the dialog controls to accommodate the larger header bitmap within modern.exe, just to play it safe? I did, so I have two modified files. Is that necessary?<br />
<br />
It may not be that important. On the other hand, what if something gets misinterpreted. Windows 95 maybe? It could make a difference whether modern_2.exe reflects the changes made to modern_headerbmp_2.exe.<br />
<br />
It continues to be Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">11th February 2005, 15:16</div></div><div class="posttext">The resources in the UI defined by MUI_UI_HEADERIMAGE (modern_headerbmp.exe by default) override those in the UI defined by MUI_UI (modern.exe by default). It is not necessary to alter the resource in modern.exe that are overridden anyway.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>