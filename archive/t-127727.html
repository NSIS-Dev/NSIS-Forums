<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Plugin enumeration bug, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Plugin enumeration bug NSIS Discussion" />
	
	<title> Plugin enumeration bug [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Plugin enumeration bug</div>
<hr />
<div class="pda"><a href="t-127727.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=127727">Plugin enumeration bug</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Ippi</div><div class="date">8th March 2003, 18:37</div></div><div class="posttext">Recently I have tried the NSIS2b2 (was using 1.98 before) and on one of my home systems (P-III 1200MHz, WinXP Pro) it is completely unusable because of the following bug:<br />
  - after plugin enumeration, depending on currently available memory amount, makensis once or twice displays the message &quot;ack! realloc(557359664) failed, trying malloc(278663448)!&quot;  and then stops. When I increase the swapfile up to 1GB, it works, but uses more than gigabyte of memory, compiles even simple scripts about half a minute and on top of everything it totally swaps out the OS and applications.<br />
<br />
I've compiled the debug version and found the cause of this error: the m_funcsCount in the Plugins class is not initialized to zero before use and in my case at the end of Plugins::FindCommands it become equal to 69534788.<br />
<br />
The &quot;m_funcsCount=0;&quot; at the beginning of Plugins::FindCommands completely rids of the bug.<br />
<br />
I think it will not be difficult to fix this permanently ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th March 2003, 20:15</div></div><div class="posttext">Thank you for ridding the world of my stupid bug :)<br />
<br />
I hope this one will fix every BSOD some people got with every run of makensis, with some compiles, with some version, on some machines. An variable taht was not initialized sounds like the right reason.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>