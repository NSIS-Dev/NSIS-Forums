<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Labels with vars, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Labels with vars NSIS Discussion" />
	
	<title> Labels with vars [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Labels with vars</div>
<hr />
<div class="pda"><a href="t-239740.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=239740">Labels with vars</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Roland_ua</div><div class="date">2nd March 2006, 23:40</div></div><div class="posttext">Hi, everybody!<br />
<br />
I'm beginner in NSIS, so don't know: may be my problem isn't serious )<br />
<br />
In NSIS we can use labels, for exapmle:<br />
<br />
Goto label1<br />
label1:<br />
       MessageBox MB_OK &quot;Hello&quot;<br />
<br />
But, when I try to use label in such way:<br />
<br />
StrCpy $0 &quot;label1&quot;<br />
Goto $0<br />
label1:<br />
       MessageBox MB_OK &quot;Hello&quot;<br />
<br />
It didn't work. I mean I can't use var as label, or maybe I'm mistaken.<br />
How else can I solve my problem?<br />
Thanks for help.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">3rd March 2006, 01:42</div></div><div class="posttext">Labels are defined at compile time, not runtime.  (StrCpy is a runtime function).<br />
<br />
Your example didn't make much sense becuase if the jump worked like you want, you'd end up moving forward in your script exactly as would happen without the goto line.  So I'm at a loss of what it is you are trying to 'solve'.<br />
<br />
Perhpas you could explain better what you need/want to happen?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dienjd</div><div class="date">3rd March 2006, 03:41</div></div><div class="posttext">From Goto documentation:<br />
&quot;If a user variable is specified, jumps to absolute address (generally you will want to get this value from a function like GetLabelAddress)&quot;<br />
<br />
Goto here is expecting an absolute address (like -1 or +3) and not a string label. See the manual section on GetLabelAddress and see if that can retrieve the info you need.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Roland_ua</div><div class="date">3rd March 2006, 08:36</div></div><div class="posttext">2 Comperio:<br />
Ok... It was just not good example. I mean that I want to miss some steps of my program in case of my var $0 <br />
Lets say that I have several labels. <br />
label1:<br />
MessageBox MB_OK &quot;Hello&quot;<br />
<br />
label2:<br />
MessageBox MB_OK &quot;Hello2&quot;<br />
<br />
label3:<br />
MessageBox MB_OK &quot;Hello3&quot;<br />
<br />
And when (after some operations) I need to go to label2, missing label1. If I could know it before, I would write &quot;goto label2&quot;, but I find out about it (which label I must use) dynamically  during program.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Roland_ua</div><div class="date">3rd March 2006, 08:39</div></div><div class="posttext">to dienjd:<br />
<br />
I have already tried to use GetLabelAddress, but this function also doesn't &quot;understand&quot; string vars as argument (</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd March 2006, 09:13</div></div><div class="posttext">StrCmp $0 &quot;label1&quot; label1<br />
StrCmp $0 &quot;label2&quot; label2<br />
...<br />
<br />
Ideally you should use integer values for $0 instead of string values though.<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>