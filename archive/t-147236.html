<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Confusing problem with one-section.nsi, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Confusing problem with one-section.nsi NSIS Discussion" />
	
	<title> Confusing problem with one-section.nsi [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Confusing problem with one-section.nsi</div>
<hr />
<div class="pda"><a href="t-147236.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=147236">Confusing problem with one-section.nsi</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">27th August 2003, 10:34</div></div><div class="posttext">The 'one-section.nsi' script allows 1 out of 4 sections to be selected. I have tried to modify the script to select 1 out of 2 sections. My modified script works OK if subsections are disabled but if subsections are enabled, the second section (optional #2) cannot be selected.<br />
<br />
Have I made a mistake in my script?<br />
<br />
I am using Win98SE with the 26 August CVS snapshot (according to the Changelog, no CVS changes have been made since 23 August, so I have the latest CVS).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">27th August 2003, 13:30</div></div><div class="posttext">If I change my script to select 1 out of 3 sections, it works properly when subsections are enabled.<br />
<br />
It seems that when only 2 sections are available, the wrong section flags are being set. If there are 2 sections to choose from and &quot;optional #1&quot; is already selected, I have found that:<br />
<br />
Clicking on &quot;Choose one&quot; sets the section flags as follows: 'subsec' = 35, 'sec1' = 1, 'sec2' = 1<br />
<br />
Clicking on &quot;optional #2&quot; sets the section flags as follows: 'subsec' = 35 , 'sec1' = 1, 'sec2' = 1<br />
<br />
When &quot;optional #2&quot; is clicked, the 'subsec' section flag should not be 35.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th August 2003, 14:00</div></div><div class="posttext">Since clicking on the subsection and selecting the second section is the same thing you can simply remove the subsection check, it's useless.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">27th August 2003, 16:33</div></div><div class="posttext">Thanks for the suggestion Kichik. However it does not solve the problem completely.<br />
<br />
Removing the subsection test does allow the other section to be selected. But double-clicking the subsection to collapse the tree now changes the selected section.<br />
<br />
In the original 'one-section.nsi' script which uses 4 sections, if I click on &quot;optional #2&quot; to select it then double-click on &quot;choose one&quot; (to collapse the tree) and then click on the '+' sign to expand the tree, the &quot;optional #2&quot; section is still ticked.<br />
<br />
In my script with only two sections and with the subsection test removed, if I select &quot;optional #2&quot; then double-click &quot;choose one&quot; (to collapse the tree) and then click on the '+' sign to expand the tree, the &quot;optional #2&quot; section is no longer ticked (&quot;optional #1&quot; is now ticked).<br />
<br />
I still think there is a problem with the way the section flags are being updated when there are only two sections in a subsection.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">27th August 2003, 16:43</div></div><div class="posttext">Double clicking on a subsection will always generate a one click event too. This event is treated as if the user selected the subsection. There is no way I can think of to tell if the user selected the second section or the subection when there are two sections.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pengyou</div><div class="date">27th August 2003, 18:21</div></div><div class="posttext">Thanks for explaining this. It seems that using two sections in this way is not a good idea, so I will try something else.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TonyDS</div><div class="date">27th August 2003, 21:08</div></div><div class="posttext">I got it to work with the help from pengyou to start with</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>