<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to create an NSIS Software Updater, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to create an NSIS Software Updater NSIS Discussion" />
	
	<title> How to create an NSIS Software Updater [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to create an NSIS Software Updater</div>
<hr />
<div class="pda"><a href="t-305540.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305540">How to create an NSIS Software Updater</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">bedbuffer</div><div class="date">20th April 2009, 06:52</div></div><div class="posttext">Hi All, <br />
<br />
I'm new to NSIS. I just finished creating an installer that works perfectly with Vista and XP. It sets the installation folder depending on the level of priviledge the user has (admin, user, etc...) and it also bypasses the UAC prompt in Vista. <br />
<br />
My other problem though is creating a software updater. I've checked the forums and a lot of guys out there are looking for one good example, which unfortunately I think, there isn't any yet. <br />
<br />
I've read the user guide and have run some of the examples, using the SilentInstall and the /s switch but I can't figure how all works in real world. <br />
<br />
I understand the concept how an updater should work, but I wanna know how it's done. Could anyone please tell me how it's done in NSIS step by step? an updater that silently installs... <br />
<br />
Thanks...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joel</div><div class="date">21st April 2009, 02:08</div></div><div class="posttext">Updater via web or desktop application?<br />
<br />
Is very easy:<br />
1.- Locate the old app (registry, ini entry, by the user)<br />
2.- Replace with new files, delete old stuff.<br />
3.- Write things back with the new stuff.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bedbuffer</div><div class="date">21st April 2009, 04:07</div></div><div class="posttext">Via desktop application. <br />
Let's say I've got a desktop application installed. When I launch my application, it will check if there are available updates through web service. If there is, it will silently install the updates. <br />
How is it done with NSIS?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">teras</div><div class="date">5th May 2009, 13:35</div></div><div class="posttext">Hello<br />
<br />
did you find a solution to this question?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">5th May 2009, 16:31</div></div><div class="posttext">Please, think about it logically! There is no single all-in-one solution for this. How would you go about it?<br />
<br />
1. Get the currently installed version.<br />
2. Get the latest version and download URL.<br />
3. Compare the versions.<br />
4. Download the new version.<br />
5. Install it.<br />
<br />
Any good programmer uses 'divide and conquer' which is to split these steps into more smaller steps.<br />
<br />
For 1.<br />
a) Get it from the Windows registry, OR<br />
b) Get it from an installed dll or exe file using GetDLLVersion (see manual).<br />
<br />
For 2.<br />
a) Download an INI/XML file from the internet using the InetC or NSISdl plugins either from a stored file on a web server or from the output of a web script.<br />
b) Read the INI file using ReadINIStr or the XML file using one of the XML plugins.<br />
<br />
For 3.<br />
a) If the versions are version strings, compare with VersionCompare from the NSIS manual.<br />
b) If the versions to compare are UNIX timestamps, compare using the System plugin's Int64Op function (actually, just IntCmp may do).<br />
c) If the versions are plain text dates, make do with a StrCmp/${If} a != b.<br />
<br />
For 4.<br />
Best to make this a silent NSIS installer which handles all the file replacements. You will already have used the InetC or NSISdl plugins. Use them again to download.<br />
<br />
For 5.<br />
Simple. Exec or ExecWait the downloaded NSIS installer. Search the forum for the InstallOnReboot macro if you need to install files on reboot.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bedbuffer</div><div class="date">14th May 2009, 04:19</div></div><div class="posttext">I have a local updater that is able to download a mini installer from the web server using the NSISdl plugin. <br />
<br />
Is there also a way for the local installer to check for the latest mini installer available from the web server. I've heard you can do that through a web service. But is it possible with NSIS too?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>