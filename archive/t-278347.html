<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Seperate Component Selection Order from Install Order?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Seperate Component Selection Order from Install Order? NSIS Discussion" />
	
	<title> Seperate Component Selection Order from Install Order? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Seperate Component Selection Order from Install Order?</div>
<hr />
<div class="pda"><a href="t-278347.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=278347">Seperate Component Selection Order from Install Order?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">oceanclub</div><div class="date">5th October 2007, 15:03</div></div><div class="posttext">As far as I'm aware, the order of Sections determines both:<br />
<br />
* The order in which those components are presented to the user for selection on the Choose/Select Components page.<br />
<br />
* The order in which any installation commands such as &quot;File&quot; are run.<br />
<br />
Can I have two components, A &amp; B, presented for selection as:<br />
<br />
* A<br />
* B<br />
<br />
But if the user selects to install both, the files associated with B are installed _before_ A?<br />
<br />
I know this is a minor matter but hope someone could offer a simple solution.<br />
<br />
Thanks,<br />
<br />
P.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th October 2007, 15:15</div></div><div class="posttext">Add another invisible section after those two. In that section, check if section B is selected and if so, do something. Then check if section A is selected and if so, do another thing. In section A and B, do nothing. This way, you can control the order of execution while retaining the visible order.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">oceanclub</div><div class="date">5th October 2007, 16:19</div></div><div class="posttext">Originally posted by kichik <br />
Add another invisible section after those two. In that section, check if section B is selected and if so, do something.  <br />
<br />
Thanks. Would I use !define and !ifdef for this?<br />
<br />
For example:<br />
<br />
Section &quot;Component A&quot;<br />
<br />
    ; stuff<br />
<br />
    !define UseChoseComponentA &quot;true&quot;<br />
<br />
SectionEnd<br />
<br />
Section &quot;Component B&quot;<br />
<br />
    ; stuff<br />
<br />
    !define UserChoseComponentB &quot;true&quot;<br />
<br />
SectionEnd<br />
<br />
Section<br />
<br />
; invisible section<br />
<br />
    !ifdef UserChoseComponentB<br />
        file /r DirectoryB<br />
    !endif<br />
<br />
    !ifdef UserChoseComponentA<br />
        file /r DirectoryA<br />
    !endif</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">5th October 2007, 16:27</div></div><div class="posttext">No, those are for compile time. Simply set some variable in section A and B to let section C know it should do something.!include LogicLib.nsh<br />
Var A<br />
Var B<br />
Section A<br />
StrCpy $A install<br />
SectionEnd<br />
Section B<br />
StrCpy $B install<br />
Section End<br />
Section &quot;&quot;<br />
${If} $A == install<br />
# install A<br />
${EndIf}<br />
${If} $B == install<br />
# install B<br />
${EndIf}<br />
SectionEnd</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>