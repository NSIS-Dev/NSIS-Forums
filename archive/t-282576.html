<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Messagebox with a Textbox, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Messagebox with a Textbox NSIS Discussion" />
	
	<title> Messagebox with a Textbox [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Messagebox with a Textbox</div>
<hr />
<div class="pda"><a href="t-282576.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282576">Messagebox with a Textbox</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">carlosfocker</div><div class="date">3rd December 2007, 16:09</div></div><div class="posttext">Anyone know if its possible to have a messagebox with a textbox.  I have this situation where I perform some actions during the .oninit function that use a path that is grabbed from the registry.  The problem is I have found some inconsistency's with the registry key that holds the value.  I need the user to be able to verify the value if a certain file is not found and input a new value in it is not correct.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd December 2007, 16:37</div></div><div class="posttext">a directory page can be used to do this, or a custom page with InstallOptions or nsDialogs</div></div><hr />


<div class="post"><div class="posttop"><div class="username">carlosfocker</div><div class="date">3rd December 2007, 17:06</div></div><div class="posttext">Its doesn't seem like I can initiate any of these suggestions via the .oninit function.  This needs to be done on installer startup</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">3rd December 2007, 17:16</div></div><div class="posttext">that is correct, but you could do it on the first page</div></div><hr />


<div class="post"><div class="posttop"><div class="username">carlosfocker</div><div class="date">3rd December 2007, 17:46</div></div><div class="posttext">That's the problem.  I need the user to verify a path(not install path) before the first page is displayed(in the onint function.  Here's what I'm trying to do(all with in the oninit function).<br />
<br />
1. Search the registry for the sql data root.<br />
<br />
ReadRegStr $SqlDataRoot HKLM &quot;SOFTWARE\Microsoft\MSSQLServer\Setup&quot; &quot;SQLDataRoot&quot;<br />
<br />
2. If the master.mdf file does not exist in this folder I can assume that the folder is incorrect.<br />
 <br />
IfFileExists $SqlDataRoot\master.mdf SqlDataCheckPassed 0<br />
<br />
<br />
3. If i can't find the file then I ask the user to specify a valid path. <br />
<br />
4. Find all disconnected databases that apply to the application I am working with.  These are located in the MSSQL data root.<br />
<br />
5.  Populate a drop down list on a page to allow the user to select the a database to reconnect to sql.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd December 2007, 18:02</div></div><div class="posttext">Add a page before the first page with the Page Custom instruction. You can skip the page by calling Abort in the page's show function.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">carlosfocker</div><div class="date">3rd December 2007, 18:47</div></div><div class="posttext">Maybe I'm missing something but how does that solve the fact that this path needs to be verified in the .oninit function.  Doesn't the oninit function get called before pages even get rendered? As far as know you can't use Page custom inside a function.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd December 2007, 18:50</div></div><div class="posttext">You don't need to do it in the .onInit function. You could do it in the page show function.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">carlosfocker</div><div class="date">3rd December 2007, 18:58</div></div><div class="posttext">The whole idea is that I want the user to verify data that is found and used in the .oninit function if its found to be incorrect. This data is used by code within the the oninit function.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">3rd December 2007, 19:38</div></div><div class="posttext">There is little difference between putting your code in the .onInit function and putting it in your first custom page's show function. Try it and you will see. If you really have to have it in .onInit then you just need to set a boolean flag in a variable before leaving .onInit.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Yathosho</div><div class="date">3rd December 2007, 22:58</div></div><div class="posttext">actually i'd love to see something like messagebox 2.0, offering more options to the user. you add the functionality of the messagebox plugin and add features like messageboxes with countdown or a checkbox to remember a choice. maybe nsdialogs can get a part to manage advanced messageboxes?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>