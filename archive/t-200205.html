<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Replace Problems, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Replace Problems NSIS Discussion" />
	
	<title> Replace Problems [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Replace Problems</div>
<hr />
<div class="pda"><a href="t-200205.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=200205">Replace Problems</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">yehiaeg</div><div class="date">25th November 2004, 15:32</div></div><div class="posttext">hello,<br />
<br />
i'm simply trying to replace some words in a string,<br />
i found 2 functions in the archive, each one have its problems:<br />
1.StrReplace: Replace only first occurence of the &quot;replace string&quot;,<br />
2.WordReplace: will erase all the string if the &quot;replace string&quot; was not found in the string.<br />
<br />
so anyone could modify any of these 2 functions to correct their problems?<br />
<br />
Thanks In Advance<br />
Yehia</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th November 2004, 15:46</div></div><div class="posttext">I'll write a new function when I get home (I like writing them [sad but true]!)<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yehiaeg</div><div class="date">25th November 2004, 16:02</div></div><div class="posttext">really appreciate it</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">25th November 2004, 17:35</div></div><div class="posttext">I found the problem with the original StrReplace function.<br />
If the occurance of the string to replace is at the end of the string, then a replacement never takes place (the function misses it).<br />
<br />
Put this in:<br />
  IntOp $3 $3 - 1<br />
<br />
After:<br />
  IntOp $3 $3 + $7<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yehiaeg</div><div class="date">25th November 2004, 22:32</div></div><div class="posttext">thanks man</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">26th November 2004, 08:54</div></div><div class="posttext">2.WordReplace: will erase all the string if the &quot;replace string&quot; was not found in the string.<br />
<br />
Yes it return errorlevel (before use any function read what this function do :().<br />
Use the following:<br />
<br />
StrCpy $R0 &quot;AAA BBB CCC&quot;<br />
<br />
Push &quot;$R0&quot;<br />
Push &quot;XXX&quot;<br />
Push &quot;xxx&quot;       ; replace with<br />
Push &quot;+&quot;<br />
Call WordReplace<br />
Pop $R1          ;$R1 now contain errorlevel: &quot;1&quot; (XXX not found)<br />
<br />
IfErrors 0 +2<br />
StrCpy $R1 $R0   ;$R1 now contain: &quot;AAA BBB CCC&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">yehiaeg</div><div class="date">26th November 2004, 09:09</div></div><div class="posttext">thanks again</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>