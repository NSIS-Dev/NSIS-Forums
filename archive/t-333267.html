<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" nsRichEdit plug-in, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  nsRichEdit plug-in NSIS Discussion" />
	
	<title> nsRichEdit plug-in [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  nsRichEdit plug-in</div>
<hr />
<div class="pda"><a href="t-333267.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=333267">nsRichEdit plug-in</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">6th August 2011, 18:29</div></div><div class="posttext">* Load a file into a rich edit control (using EM_STREAMIN).<br />
* Provides formatted printing of a rich edit control.<br />
* Allows oneself to add a print button to the NSIS license pages.<br />
<br />
http://nsis.sourceforge.net/File:NsRichEdit.zip<br />
<br />
Note to JasonFriday13 for CustomLicense plug-in: There are a number of errors in your code (which is one reason why I added my own function to this plug-in).<br />
<br />
29: Should be TCHAR* FileName.<br />
42: !FileHandle is not a valid test for an invalid handle (only use INVALID_HANDLE_VALUE).<br />
46, 56, 60: You're not closing the file handle.<br />
87, 88: The amount of memory to allocate should be sizeof(TCHAR) * string_size (because Unicode characters are 2 bytes).<br />
105: You are casting the return value from GetLastError to (const TCHAR*) and pushing it onto the stack. This will (in most cases) cause a crash. To convert an integer to a string, use wsprintf. Besides, I'm not sure why you are using GetLastError because GlobalAlloc does not set it.<br />
<br />
I'd recommend using EM_STREAMIN too as right now you are reading the entire license file into memory before setting it.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">T.Slappy</div><div class="date">8th August 2011, 05:45</div></div><div class="posttext">Nice, your control replaces original License rich edit or it is only on new page [nsDialogs]?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th August 2011, 10:18</div></div><div class="posttext">It can be used for any existing rich edit control as all it needs is a control handle (it does not create the control itself). It can be one you've added to a nsDialogs page or the existing license page rich edit control (use AddPrintButton for this). The example scripts demonstrate all functions.<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JasonFriday13</div><div class="date">3rd April 2012, 12:41</div></div><div class="posttext">Cool, well it's nice to know a better piece of software has come up. My code was written way back when I was first understanding coding in C (initially to fix one of my installer problems). Some of the errors are obvious while others aren't. In fact, it's probably not worth keeping it on the wiki anymore as your plugin is clearly superior.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">21st April 2012, 18:55</div></div><div class="posttext">I have made a note on the wiki page.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>