<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Can't compile NSIS., media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Can't compile NSIS. NSIS Discussion" />
	
	<title> Can't compile NSIS. [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Can't compile NSIS.</div>
<hr />
<div class="pda"><a href="t-304606.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=304606">Can't compile NSIS.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Instructor</div><div class="date">25th March 2009, 18:20</div></div><div class="posttext">python-2.5.2<br />
scons-1.2.0<br />
nsis-2.44-src<br />
Microsoft Visual C++ Toolkit 2003<br />
Microsoft Platform SDK<br />
<br />
@ECHO OFF<br />
set Python=C:\Python25\Scripts<br />
set MSSDK=D:\Program Files\Microsoft Platform SDK<br />
set VCToolkitInstallDir=D:\Program Files\Microsoft Visual C++ Toolkit 2003<br />
<br />
::Environment::<br />
Set PATH=%Python%;%VCToolkitInstallDir%\bin;%MSSDK%\bin;%PATH%<br />
Set INCLUDE=%VCToolkitInstallDir%\include;%MSSDK%\include;%INCLUDE%<br />
Set LIB=%VCToolkitInstallDir%\lib;%MSSDK%\lib;%LIB%<br />
<br />
::Build::<br />
scons MSTOOLKIT=yes PREFIX=&quot;D:\NSIS&quot; install<br />
@PAUSE<br />
Delete(&quot;nsis-25-Mar-2009.cvs&quot;)<br />
Delete(&quot;.instdist&quot;)<br />
Delete(&quot;.test&quot;)<br />
Using Microsoft tools configuration<br />
*** Couldn't find a good version of libcp.lib<br />
file C:\a\VC\NSIS\!Source\nsis-2.44-src\SCons\Config\ms,line 46:<br />
	Configure(confdir = .sconf_temp)<br />
scons: Configure: &quot;.sconf_temp\conftest_0.cpp&quot; is up to date.<br />
scons: Configure: The original builder output was:<br />
  |.sconf_temp\conftest_0.cpp &lt;-<br />
  |  |<br />
  |  |#include &lt;fstream&gt;<br />
  |  |int main() {<br />
  |  |  // no change<br />
  |  |  std::ofstream header(&quot;test&quot;, std::ofstream::out);<br />
  |  |  return 0;<br />
  |  |}<br />
  |  |<br />
  |<br />
cl /nologo /GX /TP /DNSISCALL=__stdcall /c .sconf_temp\conftest_0.cpp /Fo.sconf_temp\conftest_0.obj<br />
conftest_0.cpp<br />
&quot;D:\Program Files\Microsoft Platform SDK\bin\Win64\link.exe&quot; /nologo /OUT:.sconf_temp\conftest_0.exe .sconf_temp\conftest_0.obj<br />
conftest_0.obj : error LNK2019: unresolved external symbol &quot;long const std::_BADOFF&quot; (?_BADOFF@std@@3JB) referenced in function &quot;protected: virtual class std::fpos&lt;int&gt; __thiscall std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;::seekoff(long,int,int)&quot; (?seekoff@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MAE?AV?$fpos@H@2@JHH@Z)<br />
conftest_0.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::_String_base::_Xlen(void)const &quot; (?_Xlen@_String_base@std@@QBEXXZ) referenced in function &quot;public: class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; &amp; __thiscall std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::append(unsigned int,char)&quot; (?append@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@ID@Z)<br />
conftest_0.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::_String_base::_Xran(void)const &quot; (?_Xran@_String_base@std@@QBEXXZ) referenced in function &quot;public: class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; &amp; __thiscall std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::erase(unsigned int,unsigned int)&quot; (?erase@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@II@Z)<br />
conftest_0.obj : error LNK2019: unresolved external symbol &quot;struct _iobuf * __cdecl std::_Fiopen(char const *,int,int)&quot; (?_Fiopen@std@@YAPAU_iobuf@@PBDHH@Z) referenced in function &quot;public: class std::basic_filebuf&lt;char,struct std::char_traits&lt;char&gt; &gt; * __thiscall std::basic_filebuf&lt;char,struct std::char_traits&lt;char&gt; &gt;::open(char const *,int,int)&quot; (?open@?$basic_filebuf@DU?$char_traits@D@std@@@std@@QAEPAV12@PBDHH@Z)<br />
conftest_0.obj : error LNK2019: unresolved external symbol &quot;__int64 std::_Fpz&quot; (?_Fpz@std@@3_JA) referenced in function &quot;public: __thiscall std::fpos&lt;int&gt;::fpos&lt;int&gt;(long)&quot; (??0?$fpos@H@std@@QAE@J@Z)<br />
conftest_0.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::ios_base::_Addstd(void)&quot; (?_Addstd@ios_base@std@@QAEXXZ) referenced in function &quot;protected: void __thiscall std::basic_ios&lt;char,struct std::char_traits&lt;char&gt; &gt;::init(class std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt; *,bool)&quot; (?init@?$basic_ios@DU?$char_traits@D@std@@@std@@IAEXPAV?$basic_streambuf@DU?$char_traits@D@std@@@2@_N@Z)<br />
conftest_0.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::locale::facet::_Register(void)&quot; (?_Register@facet@locale@std@@QAEXXZ) referenced in function &quot;class std::ctype&lt;char&gt; const &amp; __cdecl std::use_facet&lt;class std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)&quot; (??$use_facet@V?$ctype@D@std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
conftest_0.obj : error LNK2019: unresolved external symbol &quot;public: class std::locale::facet const * __thiscall std::locale::_Getfacet(unsigned int)const &quot; (?_Getfacet@locale@std@@QBEPBVfacet@12@I@Z) referenced in function &quot;class std::ctype&lt;char&gt; const &amp; __cdecl std::use_facet&lt;class std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)&quot; (??$use_facet@V?$ctype@D@std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
.sconf_temp\conftest_0.exe : fatal error LNK1120: 8 unresolved externals<br />
.sconf_temp\conftest_1.cpp &lt;-<br />
  |<br />
  |#include &lt;fstream&gt;<br />
  |int main() {<br />
  |  // using D:\Program Files\Microsoft Platform SDK\lib\libcp.lib<br />
  |  std::ofstream header(&quot;test&quot;, std::ofstream::out);<br />
  |  return 0;<br />
  |}<br />
  |<br />
cl /nologo /GX /TP /DNSISCALL=__stdcall /c .sconf_temp\conftest_1.cpp /Fo.sconf_temp\conftest_1.obj<br />
conftest_1.cpp<br />
&quot;D:\Program Files\Microsoft Platform SDK\bin\Win64\link.exe&quot; /nologo /OUT:.sconf_temp\conftest_1.exe .sconf_temp\conftest_1.obj<br />
conftest_1.obj : error LNK2019: unresolved external symbol &quot;long const std::_BADOFF&quot; (?_BADOFF@std@@3JB) referenced in function &quot;protected: virtual class std::fpos&lt;int&gt; __thiscall std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;::seekoff(long,int,int)&quot; (?seekoff@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MAE?AV?$fpos@H@2@JHH@Z)<br />
conftest_1.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::_String_base::_Xlen(void)const &quot; (?_Xlen@_String_base@std@@QBEXXZ) referenced in function &quot;public: class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; &amp; __thiscall std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::append(unsigned int,char)&quot; (?append@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@ID@Z)<br />
conftest_1.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::_String_base::_Xran(void)const &quot; (?_Xran@_String_base@std@@QBEXXZ) referenced in function &quot;public: class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; &amp; __thiscall std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::erase(unsigned int,unsigned int)&quot; (?erase@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@II@Z)<br />
conftest_1.obj : error LNK2019: unresolved external symbol &quot;struct _iobuf * __cdecl std::_Fiopen(char const *,int,int)&quot; (?_Fiopen@std@@YAPAU_iobuf@@PBDHH@Z) referenced in function &quot;public: class std::basic_filebuf&lt;char,struct std::char_traits&lt;char&gt; &gt; * __thiscall std::basic_filebuf&lt;char,struct std::char_traits&lt;char&gt; &gt;::open(char const *,int,int)&quot; (?open@?$basic_filebuf@DU?$char_traits@D@std@@@std@@QAEPAV12@PBDHH@Z)<br />
conftest_1.obj : error LNK2019: unresolved external symbol &quot;__int64 std::_Fpz&quot; (?_Fpz@std@@3_JA) referenced in function &quot;public: __thiscall std::fpos&lt;int&gt;::fpos&lt;int&gt;(long)&quot; (??0?$fpos@H@std@@QAE@J@Z)<br />
conftest_1.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::ios_base::_Addstd(void)&quot; (?_Addstd@ios_base@std@@QAEXXZ) referenced in function &quot;protected: void __thiscall std::basic_ios&lt;char,struct std::char_traits&lt;char&gt; &gt;::init(class std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt; *,bool)&quot; (?init@?$basic_ios@DU?$char_traits@D@std@@@std@@IAEXPAV?$basic_streambuf@DU?$char_traits@D@std@@@2@_N@Z)<br />
conftest_1.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::locale::facet::_Register(void)&quot; (?_Register@facet@locale@std@@QAEXXZ) referenced in function &quot;class std::ctype&lt;char&gt; const &amp; __cdecl std::use_facet&lt;class std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)&quot; (??$use_facet@V?$ctype@D@std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
conftest_1.obj : error LNK2019: unresolved external symbol &quot;public: class std::locale::facet const * __thiscall std::locale::_Getfacet(unsigned int)const &quot; (?_Getfacet@locale@std@@QBEPBVfacet@12@I@Z) referenced in function &quot;class std::ctype&lt;char&gt; const &amp; __cdecl std::use_facet&lt;class std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)&quot; (??$use_facet@V?$ctype@D@std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
.sconf_temp\conftest_1.exe : fatal error LNK1120: 8 unresolved externals<br />
.sconf_temp\conftest_2.cpp &lt;-<br />
  |<br />
  |#include &lt;fstream&gt;<br />
  |int main() {<br />
  |  // using D:\Program Files\Microsoft Visual C++ Toolkit 2003\lib\libcp.lib<br />
  |  std::ofstream header(&quot;test&quot;, std::ofstream::out);<br />
  |  return 0;<br />
  |}<br />
  |<br />
cl /nologo /GX /TP /DNSISCALL=__stdcall /c .sconf_temp\conftest_2.cpp /Fo.sconf_temp\conftest_2.obj<br />
conftest_2.cpp<br />
&quot;D:\Program Files\Microsoft Platform SDK\bin\Win64\link.exe&quot; /nologo /OUT:.sconf_temp\conftest_2.exe .sconf_temp\conftest_2.obj<br />
conftest_2.obj : error LNK2019: unresolved external symbol &quot;long const std::_BADOFF&quot; (?_BADOFF@std@@3JB) referenced in function &quot;protected: virtual class std::fpos&lt;int&gt; __thiscall std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;::seekoff(long,int,int)&quot; (?seekoff@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MAE?AV?$fpos@H@2@JHH@Z)<br />
conftest_2.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::_String_base::_Xlen(void)const &quot; (?_Xlen@_String_base@std@@QBEXXZ) referenced in function &quot;public: class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; &amp; __thiscall std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::append(unsigned int,char)&quot; (?append@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@ID@Z)<br />
conftest_2.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::_String_base::_Xran(void)const &quot; (?_Xran@_String_base@std@@QBEXXZ) referenced in function &quot;public: class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; &amp; __thiscall std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::erase(unsigned int,unsigned int)&quot; (?erase@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@II@Z)<br />
conftest_2.obj : error LNK2019: unresolved external symbol &quot;struct _iobuf * __cdecl std::_Fiopen(char const *,int,int)&quot; (?_Fiopen@std@@YAPAU_iobuf@@PBDHH@Z) referenced in function &quot;public: class std::basic_filebuf&lt;char,struct std::char_traits&lt;char&gt; &gt; * __thiscall std::basic_filebuf&lt;char,struct std::char_traits&lt;char&gt; &gt;::open(char const *,int,int)&quot; (?open@?$basic_filebuf@DU?$char_traits@D@std@@@std@@QAEPAV12@PBDHH@Z)<br />
conftest_2.obj : error LNK2019: unresolved external symbol &quot;__int64 std::_Fpz&quot; (?_Fpz@std@@3_JA) referenced in function &quot;public: __thiscall std::fpos&lt;int&gt;::fpos&lt;int&gt;(long)&quot; (??0?$fpos@H@std@@QAE@J@Z)<br />
conftest_2.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::ios_base::_Addstd(void)&quot; (?_Addstd@ios_base@std@@QAEXXZ) referenced in function &quot;protected: void __thiscall std::basic_ios&lt;char,struct std::char_traits&lt;char&gt; &gt;::init(class std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt; *,bool)&quot; (?init@?$basic_ios@DU?$char_traits@D@std@@@std@@IAEXPAV?$basic_streambuf@DU?$char_traits@D@std@@@2@_N@Z)<br />
conftest_2.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall std::locale::facet::_Register(void)&quot; (?_Register@facet@locale@std@@QAEXXZ) referenced in function &quot;class std::ctype&lt;char&gt; const &amp; __cdecl std::use_facet&lt;class std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)&quot; (??$use_facet@V?$ctype@D@std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
conftest_2.obj : error LNK2019: unresolved external symbol &quot;public: class std::locale::facet const * __thiscall std::locale::_Getfacet(unsigned int)const &quot; (?_Getfacet@locale@std@@QBEPBVfacet@12@I@Z) referenced in function &quot;class std::ctype&lt;char&gt; const &amp; __cdecl std::use_facet&lt;class std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)&quot; (??$use_facet@V?$ctype@D@std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
.sconf_temp\conftest_2.exe : fatal error LNK1120: 8 unresolved externals<br />
--config=force flag isn't helped.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>