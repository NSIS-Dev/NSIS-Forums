<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Add Static window to existing MUI Page, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Add Static window to existing MUI Page NSIS Discussion" />
	
	<title> Add Static window to existing MUI Page [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Add Static window to existing MUI Page</div>
<hr />
<div class="pda"><a href="t-347422.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=347422">Add Static window to existing MUI Page</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">gretty</div><div class="date">27th August 2012, 01:06</div></div><div class="posttext">Hello<br />
<br />
Is it possible to add a window(a Label) to an existing MUI page; like the installer page, welcome page?<br />
<br />
I would like to add a new label to the installer page. My code below adds a new Static window to the window but its never shown/sits above other windows. I know the window exists because I can see it using WinSpy++ but it sits behind another window. Also the new window has a funny style &quot;Style: 50000000  (hidden, enabled)&quot; whilst other normal static windows have the style &quot;Style: 5000008C  (visible, enabled)&quot;.<br />
<br />
How can I get my label(Static Window) to show?<br />
<br />
	!include nsdialogs.nsh<br />
	!include MUI2.nsh<br />
<br />
	!define MUI_PAGE_CUSTOMFUNCTION_SHOW instshow<br />
<br />
	!insertmacro MUI_PAGE_INSTFILES<br />
	!insertmacro MUI_LANGUAGE &quot;English&quot;<br />
<br />
	OutFile &quot;test.exe&quot;<br />
<br />
	Function instshow<br />
		FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT<br />
		GetDlgItem $2 $0 1016<br />
		System::Call 'USER32::CreateWindowEx(i0,t &quot;STATIC&quot;,t &quot;Some option&quot;,i ${WS_CHILD}|${WS_VISIBLE},i100,i100,i100,i20,i$2,i666,i0,i0) $R2'<br />
		System::Call `user32::SetWindowPos(i $R2, i ${HWND_TOP}, i 0, i 0, i 0, i 0, i ${SWP_NOSIZE}|${SWP_NOMOVE})` # attempt to push new label to front<br />
		<br />
		# Attempt to refresh new labels parent window<br />
		GetDlgItem $R0 $HWNDPARENT 1016<br />
		ShowWindow $R0 ${SW_HIDE}<br />
		ShowWindow $R0 ${SW_SHOW}<br />
		# Attempt to refresh new label <br />
		ShowWindow $R2 ${SW_HIDE}<br />
		ShowWindow $R2 ${SW_SHOW}<br />
	FunctionEnd<br />
<br />
<br />
	Section &quot;Dummy&quot;<br />
<br />
	SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">27th August 2012, 12:50</div></div><div class="posttext">If it is the welcome or finish pages you can add new controls to it using nsDialogs. If it is any of the other pages you can add controls at run time as you are doing (I cannot say why it isn't working for you though) or you can add it to the UI resource using Resource Hacker.<br />
<br />
The UIs are in Contrib\UIs. You can copy modern.exe to your script directory, modify it and then use it in your script with !define MUI_UI modern_modified.exe.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>