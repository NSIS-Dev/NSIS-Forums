<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" competition, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  competition NSIS Discussion" />
	
	<title> competition [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  competition</div>
<hr />
<div class="pda"><a href="t-169302.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=169302">competition</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">rjstephens</div><div class="date">14th February 2004, 04:45</div></div><div class="posttext">It's incredible what competition can do - Guess which installer system just introduced LZMA?  Inno!  NSIS still has more features and will still be used for most of my work, but Inno is trying very hard to make their software more viable.  Apparently, the overhead has been reduced by 150k, even though two DLLs have now been added.<br />
<br />
I wonder how long it will take for the commercial installers to integrate LZMA, now that the two biggest free ones have.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th February 2004, 13:15</div></div><div class="posttext">The Inno Setup core does not include LZMA compression, they just include the huge 7-zip DLL files.<br />
<br />
The LZMA decompression system of NSIS is only 5 KB large, while these DLL files are about 150 KB large.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2004, 14:19</div></div><div class="posttext">The Inno package installer size was reduced by 150kb, not the overhead. The overhead grew by the size of the uncompression DLL, probably compressed.<br />
<br />
Did anyone take a look at the source code used to interface with the DLL?<br />
<br />
Could anyone find the source code to the DLLs islzma.dll and isunlzma.dll? I can't find them anywhere.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mlaan</div><div class="date">14th February 2004, 14:22</div></div><div class="posttext">If you want to bash Inno Setup, at least be honest. It doesn't 'just include' some 7 zip dlls nor is the size of the decompression code inside a built Setup anywhere near 150 kb.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th February 2004, 14:39</div></div><div class="posttext">Of course I don't want to bash Inno Setup. People should just use the software they like most.<br />
<br />
It is true that Inno Setup includes 7-zip DLL's. It's written in Delphi so they can't include it in the core.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mlaan</div><div class="date">14th February 2004, 15:43</div></div><div class="posttext">Originally posted by Joost Verburg <br />
It's written in Delphi so they can't include it in the core.  <br />
Not true: if you want to, you can make Delphi link directly with C/C++ code too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th February 2004, 16:44</div></div><div class="posttext">Yes, using a dynamic link library (DLL).<br />
<br />
Quote from the Inno Setup site:<br />
By using LZMA compression, the installer for Inno Setup itself is now 150 KB smaller than before, despite the inclusion of two new DLLs.<br />
So they include 7-zip DLL's for LZMA compression right?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mlaan</div><div class="date">14th February 2004, 16:51</div></div><div class="posttext">No, I meant Delphi can link to an .obj too</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th February 2004, 16:59</div></div><div class="posttext">Right, so Inno Setup statically links these libraries. Then I misunderstood this quote.<br />
<br />
My point was that NSIS contains a custom optimized LZMA decompressor, which is much smaller than the other decompression libraries available.<br />
<br />
Because this quotes says that two new DLLs are included, I assumed that these two DLLs (146 KB) were included. It's it's only one of them the size is 50 KB, still 10 times as large.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mlaan</div><div class="date">14th February 2004, 17:05</div></div><div class="posttext">My point was that NSIS contains a custom optimized LZMA decompressor, which is much smaller than the other decompression libraries available.  <br />
It's slightly smaller, not much smaller. :)<br />
<br />
(Arg: stop editing your posts please. The 50 kb is before compression.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">14th February 2004, 17:08</div></div><div class="posttext">NSIS's 5 KB is also uncompressed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2004, 17:08</div></div><div class="posttext">InnoSetup's LZMA decompressiong DLL is 45.5KB, NSIS's inregrated decompression library is less than 5KB. Those are the facts. The entire overhead of NSIS with LZMA decompression is 34.5KB. You do the math.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2004, 17:11</div></div><div class="posttext">Just as a reminder, the original subject was summed by:I wonder how long it will take for the commercial installers to integrate LZMA, now that the two biggest free ones have.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mlaan</div><div class="date">14th February 2004, 17:12</div></div><div class="posttext">My math: both LZMA implementations are so small they do not noticably impact the size of a setup differently, especially since the actual LZMA compression is so good. Therefore Joost's initial reply which seems to want to say you can't compare NSIS's LZMA support with Inno Setup's LZMA support is IMHO unfair.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">14th February 2004, 17:21</div></div><div class="posttext">Joost was just stating a fact and later added:Of course I don't want to bash Inno Setup. People should just use the software they like most.As for my reply. It was directed at:It's slightly smaller, not much smaller.I apologize if some misunderstanding or some statement hurt your feelings.<br />
<br />
Now please drop this subject and return to the main discussion or I'll have to lock this thread before it derails even more.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rainwater</div><div class="date">14th February 2004, 20:03</div></div><div class="posttext">FYI, Inno has supported 7-zip for about 5 or 6 months using the ide ISTool so its not anything they have added because of NSIS.  It was probably added for the same reason NSIS added it (because its pretty darn good).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rjstephens</div><div class="date">15th February 2004, 02:15</div></div><div class="posttext">Well I still use NSIS in 98% of cases anyways because of the smaller overhead, but in the rare event that I need to span accross multiple CDs, I will now use Inno.  A difference between a 34k overhead and a 340k overhead isn't really going to matter that much when I'm installing over 1GB of files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th February 2004, 15:23</div></div><div class="posttext">There was probably a bit of miscommunication here when I called the 7-zip libraries used by Inno Setup &quot;huge&quot;, sorry for that :)<br />
<br />
People who are no regular forum visitors might not know that we NSIS developers are really focused on making software as small as possible, so we call something &quot;huge&quot; while other people will probably think we're exaggerating a bit :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mlaan</div><div class="date">15th February 2004, 17:51</div></div><div class="posttext">Originally posted by Joost Verburg <br />
There was probably a bit of miscommunication here when I called the 7-zip libraries used by Inno Setup &quot;huge&quot;, sorry for that :)<br />
<br />
Ok :)<br />
<br />
BTW something interesting happened in the meantime: Igor released a new set of LZMA files to replace the existing C++ code. The decoder .obj is now 2 kb in Inno Setup.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">15th February 2004, 18:48</div></div><div class="posttext">Yep I've seen the new LZMA SDK. It seems to be quite good, totally written in C, just like the NSIS VM.<br />
<br />
Is the decompression speed still good when using the smallest version?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mlaan</div><div class="date">15th February 2004, 18:54</div></div><div class="posttext">Try the Inno Setup CVS version and see for yourself :)</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>