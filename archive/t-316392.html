<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer in an installer, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer in an installer NSIS Discussion" />
	
	<title> Installer in an installer [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer in an installer</div>
<hr />
<div class="pda"><a href="t-316392.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316392">Installer in an installer</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">lmoreau</div><div class="date">19th January 2010, 17:09</div></div><div class="posttext">Hello,<br />
<br />
I have a strange problem using NSIS.<br />
I have created an installer with NSIS, the generated exe is called A.EXE<br />
I have created another installer with NSIS, B.EXE, which includes A.EXE.<br />
B.EXE, when installing, execute A.EXE (using ExecWait A.EXE /S)<br />
<br />
This installation works fine.<br />
<br />
The problem came when I try to uninstall. When I uninstall B.EXE, the uninstall of A.EXE is called (using ExecWait unistall.exe in A Directory).<br />
80% of times, it works fine, and the rest of times, there are some files that remains into the A directory...<br />
And sometimes, when I have this problem, I reboot the computer and the remaining files are deleted ...<br />
<br />
Does anyone have an idea of what appends ?<br />
<br />
   Thanks,<br />
   Luc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Zinthose</div><div class="date">19th January 2010, 17:49</div></div><div class="posttext">My money's on File Focks (http://en.wikipedia.org/wiki/File_locking). When the install leaves the files again, try and delete the files manually and see if windows tries to stop you.<br />
<br />
I recommend getting a file unlocker (http://www.google.com/search?q=File+Unlocker) to identify what is locking the files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lmoreau</div><div class="date">20th January 2010, 10:25</div></div><div class="posttext">I have not reproduced the problem since yesterday :-(<br />
<br />
But I wonder about the uninstall.exe : Does it end when uninstallation is really finished, or does uninstall.exe launch other processes to perform files deletion, ... ?<br />
<br />
I ask this question because the process uninstall.exe ends in a very short time (seems like an asynchronous process)<br />
<br />
   Thanks,<br />
   Luc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">20th January 2010, 13:19</div></div><div class="posttext">uninstall.exe creates a copy of itself into the temp folder and executes that, so that it will be able to delete itself from $instdir. Usually called au_.exe or something of the sort, iirc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lmoreau</div><div class="date">20th January 2010, 13:35</div></div><div class="posttext">Ok. I understand now...<br />
<br />
Thank you for your help.<br />
<br />
 Luc.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>