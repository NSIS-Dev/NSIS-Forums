<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" CABSetup::BuildSetupFiles add=path bug ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  CABSetup::BuildSetupFiles add=path bug ? NSIS Discussion" />
	
	<title> CABSetup::BuildSetupFiles add=path bug ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  CABSetup::BuildSetupFiles add=path bug ?</div>
<hr />
<div class="pda"><a href="t-285917.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=285917">CABSetup::BuildSetupFiles add=path bug ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">galevsky</div><div class="date">29th January 2008, 23:07</div></div><div class="posttext">Hi all,<br />
<br />
I spend lot of time to understand what was wrong with one of my script...<br />
<br />
<br />
CABSetup::BuildSetupFiles /NOUNLOAD &quot;/add=${SOURCE_FILES}&quot; /S |<br />
<br />
The script will try to create the cab but fail with return code 1. My ${SOURCE_FILES} was &quot;C:\Documents and Settings\Admin\My Doc\Here_v1\sources\&quot;<br />
<br />
But no problem if I use the source files from &quot;C:\Program Files\Test_v1\sources&quot; instead. <br />
<br />
Any idea ? I am admin, so I don't think it is a rights issue, both Program Files\ and Documents and Settings\ are on the same partition.... I cannot see.<br />
<br />
Thks,<br />
<br />
Gal'</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Mr Inches</div><div class="date">31st January 2008, 14:45</div></div><div class="posttext">Hi<br />
<br />
A return code of 1 from BuildSetupFiles with the /MakeFiles option usually indicates there a problem with the syntax of the contents of the directive file created by the earlier switches.<br />
<br />
The most likely reason I can think of for it having a problem is one or more of the paths added for your source files or folder are invalid. Note that the Add expects a path and file specification; if you only give it a path it does not assume '*.*'.<br />
<br />
The error message in the DetailLog suggests running the command externally to observe MAKECAB's error message (I am looking at ways to capture it's output for redisplay from within CABSetup, but it does some strange things with it's console output...).<br />
<br />
If you could post a copy of the {dataset}.DDF file that CABSetup creates and/or run the command given in the error from BuildSetupFiles and reproduce it's output, they may provide some more clues.<br />
<br />
Duncan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">galevsky</div><div class="date">31st January 2008, 14:55</div></div><div class="posttext">I will do that in a while.<br />
<br />
PS: I had set my SOURCE_FILES to &quot;C:\some\path\*.*&quot; so no problem with that.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>