<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" How to find a path of a application?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  How to find a path of a application? NSIS Discussion" />
	
	<title> How to find a path of a application? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  How to find a path of a application?</div>
<hr />
<div class="pda"><a href="t-237511.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=237511">How to find a path of a application?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">TigreRouge</div><div class="date">8th February 2006, 11:55</div></div><div class="posttext">Hi all,<br />
<br />
I'm using NSIS to install my application, which is composed by Perl Scripts in a particular directory. <br />
Moreover, I want to add some libraries in the Perl directory which is often &quot;C:/Perl/Lib&quot; but not always. So I want the installshield to be able to find itself what is the correct path of this directory...<br />
Do you know a way to perform that?<br />
<br />
Thanks U by advance!<br />
<br />
TigreRouge</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">8th February 2006, 19:08</div></div><div class="posttext">Check your registry. If you can get the correct key use ReadRegStr.<br />
<br />
-Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">TigreRouge</div><div class="date">9th February 2006, 09:45</div></div><div class="posttext">I try <br />
InstallDirRegKey HKLM Software\Perl &quot;&quot;<br />
and it seems working <br />
<br />
However, I'm facing another problem :<br />
I want to specify 2 DIFFERENT InstallDir <br />
&quot;$PROGRAMFILES\Apache Group\Apache2\&quot; and then &quot;C:\Perl&quot; because I have 2 pages MUI_PAGE_INSTFILES...<br />
<br />
But NSIS takes only the last I specify... Does someone know how to specify 2 different InstallDir?<br />
<br />
Thx U!<br />
<br />
TR</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Comperio</div><div class="date">10th February 2006, 00:23</div></div><div class="posttext">Just use MUI_UNPAGE_DIRECTORY more than once with two sepate directory variables (one for each isntallation path.)<br />
<br />
Directory variables can be set using !define MUI_DIRECTORYPAGE_VARIABLE $varname before each page.  (replace '$varname' with the actual variable you want to use for each page.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">10th February 2006, 09:09</div></div><div class="posttext">Then to set the directory you want, StrCpy $varname &quot;path&quot; in the directory pages' PRE function (!define MUI_PAGE_CUSTOMFUNCTION_PRE FuncName).<br />
<br />
e.g.<br />
<br />
!define INSTDIR1 &quot;$PROGRAMFILES\Apache Group\Apache2&quot;<br />
!define INSTDIR2 &quot;C:\Perl&quot;<br />
Var INSTDIR2<br />
<br />
InstallDir &quot;${INSTDIR1}&quot;<br />
<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
<br />
!define MUI_DIRECTORYPAGE_VARIABLE $INSTDIR2<br />
!define MUI_PAGE_CUSTOMFUNCTION_PRE DirectoryPre<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
<br />
Function DirectoryPre<br />
 StrCpy $INSTDIR2 &quot;${INSTDIR2}&quot;<br />
FunctionEnd<br />
<br />
<br />
-Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>