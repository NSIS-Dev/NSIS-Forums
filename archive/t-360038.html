<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Check if file exists by regular expression, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Check if file exists by regular expression NSIS Discussion" />
	
	<title> Check if file exists by regular expression [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Check if file exists by regular expression</div>
<hr />
<div class="pda"><a href="t-360038.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=360038">Check if file exists by regular expression</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">lukbys</div><div class="date">24th April 2013, 17:01</div></div><div class="posttext">I'm attempting to create an installer that checks if the user has Microsoft .Net 4.0 installed, and if he/she doesn't install it for them. The code I have so far to check if .Net is installed is as follows: <br />
<br />
!define NETVersion &quot;4.0&quot;<br />
IfFileExists &quot;$WINDIR\Microsoft.NET\Framework\v${NETVersion}&quot; NETFrameworkInstalled 0<br />
<br />
The problem is that the version is almost never exactly 4.0, on my computer it's 4.0.30319 so the installer thinks I don't have .Net installed. In addition there's also .Net 4.5 out as well which may complicate things. Is there some way to use regular expressions (or some other technique) to check if a user has a file v${NETVersion}(\.\d+)?? or something similar?<br />
<br />
Thanks in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th April 2013, 18:55</div></div><div class="posttext">You should instead check the &quot;Install&quot; DWORD value is 1 under either of the following keys:<br />
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Client<br />
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full<br />
(Make sure you SetRegView 64 first if the OS is 64-bit).<br />
<br />
Stu</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lukbys</div><div class="date">24th April 2013, 20:53</div></div><div class="posttext">Thanks Stu,<br />
<br />
That looks like it might work, however when I look in my registry I find v4 and v4.0. What's the difference between these 2 entries?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Afrow UK</div><div class="date">24th April 2013, 21:10</div></div><div class="posttext">If you look at the default value under v4.0, it contains &quot;deprecated&quot;.<br />
<br />
Stu</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>