<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Showing video just after pressing install ?, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Showing video just after pressing install ? NSIS Discussion" />
	
	<title> Showing video just after pressing install ? [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Showing video just after pressing install ?</div>
<hr />
<div class="pda"><a href="t-298969.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=298969">Showing video just after pressing install ?</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">21st October 2008, 15:43</div></div><div class="posttext">Hi again,<br />
<br />
Im wondering if its possible to show the video i created, and extracted before all else faster when pressing install ?<br />
<br />
this is what i did to make it show it after i press install, but on slow systems, the video would be almost 30 sec to start, and installation is half done hehe, though video is 9 Mb only ?<br />
<br />
Function .onInit<br />
CreateDirectory &quot;c:\vidtmp8\&quot;<br />
file &quot;/oname=c:\vidtmp8\vidtmp8.exe&quot; &quot;G:\Projector.exe&quot;<br />
ReadRegStr $R0 HKLM &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\GhostRecon.exe&quot; &quot;path&quot;<br />
StrCmp $R0 &quot;&quot; NotPresent Present<br />
notpresent:<br />
MessageBox MB_OK &quot;Welcome To BoB Map Pack installer, browse to your ghostrecon installation folder to install this mod.&quot;<br />
StrCpy $INSTDIR &quot;$programfiles\Red Storm Entertainment\Ghost Recon\&quot;<br />
goto done<br />
present:<br />
strcpy $instdir $R0<br />
done:<br />
FunctionEnd<br />
<br />
Function .onVerifyInstDir<br />
    IfFileExists $INSTDIR\ghostrecon.exe PathGood<br />
       Abort<br />
    PathGood:<br />
  FunctionEnd<br />
<br />
Section &quot;MainSection&quot; SEC01<br />
Exec &quot;c:\vidtmp8\vidtmp8.exe&quot; <br />
    SetOutPath &quot;$INSTDIR\Mods\Bobs Mappack 1_3&quot;<br />
  SetOverwrite on<br />
  File /r &quot;G:\Ghost Recon\mods\Bobs Mappack 1_3\*.*&quot;<br />
sectionend<br />
<br />
Function .onInstSuccess<br />
    Delete &quot;c:\vidtmp8\vidtmp8.exe&quot;<br />
     RMDIR &quot;c:\vidtmp8\&quot;<br />
functionend<br />
<br />
I know execwait will probably do the trix, but i also want the installer to install files in the background.<br />
<br />
I guess there is an command to look for running processes, and continue if vidtmp8.exe is running ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ZmAn3</div><div class="date">21st October 2008, 15:58</div></div><div class="posttext">you can put your Exec &quot;c:\vidtmp8\vidtmp8.exe&quot; in the onint function</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">21st October 2008, 16:57</div></div><div class="posttext">Yea i could, but then when video finish(fullscreen), you still have to press install, and wait some more, its not what i wanted, i wanted to show the video while installing, so to not use more time than possible :-)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">21st October 2008, 18:14</div></div><div class="posttext">I added an exampel of my problem, it only install some files where you want, no registry edit but the uninstall section, so plz try this and see my problem for your self ( files installed is for an mod to the game ghost recon), no exe files, just the projector file, that will be deleted at the end of installation.<br />
<br />
Path to source nsis script : http://www.mediafire.com/file/nxtoz10mjoi/VideoTest.nsi<br />
<br />
Path to video installer test : http://www.mediafire.com/?mmjy4ldznjv Its about 47.66 MB compressed and 147.7 MB installed</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ZmAn3</div><div class="date">21st October 2008, 21:31</div></div><div class="posttext">if they dont have to select a directory then why dont you just go strait to the install section with out them pressing install that way they dont have to press anything then after the videos done it will be done you can either close the installer or leave a page saying blah blahs been installed that they will see when the video closes<br />
<br />
edit<br />
how come your not showing your page with the links at the end</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">22nd October 2008, 07:04</div></div><div class="posttext">Well its not sure the installation path can be found in reg, so ppl may need to locate the right folder.<br />
<br />
And above video test, i made it so it only shows the important test.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kukomamasan</div><div class="date">24th October 2008, 20:48</div></div><div class="posttext">Well i found a plugin to look for processes, but something must be wrong in my code ? , since installer will wait until video is finish before installing the files.<br />
<br />
Section &quot;MainSection&quot; SEC01<br />
Exec &quot;z:\video.exe&quot;<br />
videowait:<br />
Processes::FindProcess &quot;video&quot;<br />
Pop $R0<br />
StrCmp $R0 &quot;1&quot; wait nowait<br />
wait:<br />
goto videowait<br />
nowait:<br />
    SetOutPath &quot;$INSTDIR\Mods\BB_AIO_180&quot;<br />
  SetOverwrite on<br />
  File /r &quot;G:\Ghost Recon\mods\BB_AIO_180\*.*&quot;<br />
sectionend<br />
<br />
also tried StrCmp $R0 &quot;0&quot; wait nowait<br />
that would just be like before, where installation started installing, and then video shows some sec after.<br />
<br />
is there any pause command you could add ? for like 5 sec<br />
or another plugin i should try?</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>