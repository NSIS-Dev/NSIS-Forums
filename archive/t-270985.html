<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" nsis 2.27 under linux - Library.nsh problems, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  nsis 2.27 under linux - Library.nsh problems NSIS Discussion" />
	
	<title> nsis 2.27 under linux - Library.nsh problems [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  nsis 2.27 under linux - Library.nsh problems</div>
<hr />
<div class="pda"><a href="t-270985.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=270985">nsis 2.27 under linux - Library.nsh problems</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">smonsarr</div><div class="date">11th May 2007, 12:35</div></div><div class="posttext">Hi all,<br />
I use nsis under linux (Ubuntu 7.04) and up till now I have built my own nsis by following the INSTALL recommendations, i.e:<br />
build makensis with:<br />
scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all and then droping it into a nsis zip release. All went well until I tried this with nsis 2.27.<br />
In my project I need to use Library.nsh for InstallLib etc. <br />
This is where it all comes appart because Library.nsh used to only attempt to run LibraryLocal.exe (line 149 in Library.nsh 2.27) if running under windows, now in 2.27 (I am guessing since 2.26), LibraryLocal is run even in non WIN32 versions of makensis (line 153). This means that just dropping a linux compiled makensis into a nsis zip release cannot work any more when using Library.nsh.<br />
<br />
So now either I succeed in building a full version of nsis under linux or Library.nsh needs to allow one to call InstallLib even when LibraryLocal etc have not been built.<br />
<br />
Could I get some pointers on how to compile a full version of nsis under linux ? should Library.nsh be patched ?<br />
<br />
Sam.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">13th May 2007, 18:16</div></div><div class="posttext">You should simply install LibraryLocal as well. It now works on Linux as well. Use the following to build just LibraryLocal:scons Library/LibraryLocalIt should then be put in the PATH so Library.nsh can find it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">23rd May 2007, 15:51</div></div><div class="posttext">Make that:scons LibraryLocalAnd to install, use:scons NSIS_CONFIG_CONST_DATA_PATH=no PREFIX=/path/to/extracted/zip<br />
      /path/to/extracted/zip/LibraryLocalI've updated the documentation to match.scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all<br />
      NSIS_CONFIG_CONST_DATA_PATH=no PREFIX=/path/to/extracted/zip<br />
      install-compiler<br />
<br />
scons NSIS_CONFIG_CONST_DATA_PATH=no PREFIX=/path/to/extracted/zip<br />
      /path/to/extracted/zip/LibraryLocal</div></div><hr />


<div class="post"><div class="posttop"><div class="username">smonsarr</div><div class="date">17th August 2007, 10:13</div></div><div class="posttext">Thanks kichik,<br />
Indeed that works great. Thanks.<br />
Sam.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>