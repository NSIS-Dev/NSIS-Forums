<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" After installation, want to delete the setup.exe file, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  After installation, want to delete the setup.exe file NSIS Discussion" />
	
	<title> After installation, want to delete the setup.exe file [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  After installation, want to delete the setup.exe file</div>
<hr />
<div class="pda"><a href="t-265475.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=265475">After installation, want to delete the setup.exe file</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">JamesKiller</div><div class="date">9th February 2007, 18:59</div></div><div class="posttext">Hi All,<br />
<br />
Our installer is just for upgrading our software, so it requires to be run in silent mode.<br />
After installing it, we do want to delete the setup file ( for example : setup.exe   [outfile &quot;setup.exe] in .nsi file).<br />
The question is how i can detect where this file (setup.exe) is? this file will be copied in some locations in hard drive.<br />
is it possible to detect this file first, then get the path of this file and delete it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">9th February 2007, 19:08</div></div><div class="posttext">See NSIS manual E.1.9 GetExeName.<br />
<br />
e.g.<br />
Function .onInstSuccess<br />
${GetExeName} $R0<br />
Delete /REBOOTOK $R0<br />
FunctionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JamesKiller</div><div class="date">9th February 2007, 20:38</div></div><div class="posttext">Thanks, can we don't use /REBOOTOK , wanna delete it right away!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">9th February 2007, 20:43</div></div><div class="posttext">I see the same question only few lines below http://forums.winamp.com/showthread.php?s=&amp;threadid=265448 - how to delete itself without reboot. Not tested on Vista yet..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">9th February 2007, 21:23</div></div><div class="posttext">Originally posted by Takhir <br />
I see the same question only few lines below http://forums.winamp.com/showthread.php?s=&amp;threadid=265448 - how to delete itself without reboot. Not tested on Vista yet..  I've seen the mentioned thread too and I noticed a strange behaviour.<br />
Anyway, it doesn't even work in silent mode.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">10th February 2007, 06:59</div></div><div class="posttext">Looks like I must add plug-in description to wiki with good samples :)<br />
I wrote earlier that in the silent mode installer not creates GUI and not calls .onGuiEnd. Last hidden section with the only line can work in both modes, but cursor on the finish page becomes 'waiting'. Finally I see that .onInstSuccess is a very simple solution :) Works in all modes (incl. MUI and silent). wiki archive SelfDel (http://nsis.sourceforge.net/File:SelfDel.zip)<br />
Edited: SelfDel plug-in page (http://nsis.sourceforge.net/http://nsis.sourceforge.net/SelfDel_plug-in)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Red Wine</div><div class="date">10th February 2007, 10:48</div></div><div class="posttext">Cool! .onInstSuccess works fine and also covers the posted query on the top of the thread about how to self delete a silent installer.<br />
However the link is an empty page on wiki.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">10th February 2007, 10:51</div></div><div class="posttext">I cannot edit post above (&gt; 2 hours) so this is correct link http://nsis.sourceforge.net/SelfDel_plug-in</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>