<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Adding a file to an installer.exe subsequently, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Adding a file to an installer.exe subsequently NSIS Discussion" />
	
	<title> Adding a file to an installer.exe subsequently [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Adding a file to an installer.exe subsequently</div>
<hr />
<div class="pda"><a href="t-269823.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=269823">Adding a file to an installer.exe subsequently</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">HyperSonic</div><div class="date">19th April 2007, 21:22</div></div><div class="posttext">Hi there,<br />
I have a installer.exe that is compiled with NSIS. This file can be downloaded from a web-server.<br />
Additionally the application in this installer needs a licence file that is specific for every user - the rest of the installer.exe is the same for all users.<br />
<br />
Now, it would be fine, if this licence file could be added to the installer.exe just before the web-server starts the download. As the user can only download the installer after he has logged-in to the web-server, the web-server knows all the data that go into the licence file.<br />
<br />
One possibility would be to start the NSIS compiler just before the download starts and put the licence file in a temporary directory and have the compiler to add it in the installer.exe.<br />
But the compilation takes about 30 seconds and I am looking for a way that is faster.<br />
<br />
So, another idea would be to pack the installer.exe plus the licence file into another installer_wrapper.exe that compiles very fast because it does not compress the installer.exe again.<br />
When the installer_wrapper.exe is started by the user, it would automatically launch the contained installer.exe and afterwards copy the licence file to the installation directory.<br />
<br />
Can this be done with NSIS?<br />
<br />
Thanks a lot<br />
Cheers <br />
HyperSonic</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th April 2007, 21:28</div></div><div class="posttext">See the following:<br />
<br />
http://nsis.sourceforge.net/ReadCustomerData</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HyperSonic</div><div class="date">19th April 2007, 21:46</div></div><div class="posttext">yep, this seems to be a solution for my problem.<br />
To be honest, since I am not very familiar with NSIS I don't understand everything in this article.<br />
<br />
In my words, this is what I would have to do:<br />
- append the customer data to the end of the installer.exe before the download starts<br />
- add the functions mentioned in the article to my installer script.<br />
When the installer runs, it reads out the customer data from itself.<br />
<br />
Is this correct so far?<br />
<br />
Now, here are my new questions:<br />
How I can append the customer data to the end of the installer.exe?<br />
Does NSIS have a built-in function for this or do I have to append the data by some other application.<br />
<br />
Another problem is, that my application needs the customer data in a file. Is it possible for the installer to write the extracted data into a file?<br />
<br />
Thanks again<br />
HyperSonic</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">19th April 2007, 21:51</div></div><div class="posttext">Correct. You add the data at download time with some kind of server-side script and then read it from the installer script. If you need the data in a file, simply write it to a file using FileOpen, FileWrite and FileClose after reading it using ReadCustomerData.<br />
<br />
Method of appending the data to the installer depends on your server environment. Generally speaking, you should create a script that handles the download. It should read the installer and pass it as-is to the user and just before closing the connection it should add the personal data.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">HyperSonic</div><div class="date">19th April 2007, 21:54</div></div><div class="posttext">ok, as it is a PHP server it should be possible to append the customer data to the download stream.<br />
I will give it a try.<br />
<br />
Thanks a lot!</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>