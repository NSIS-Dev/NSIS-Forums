<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" 32 vs 64 bit SYSDIR - need some help/explanation, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  32 vs 64 bit SYSDIR - need some help/explanation NSIS Discussion" />
	
	<title> 32 vs 64 bit SYSDIR - need some help/explanation [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  32 vs 64 bit SYSDIR - need some help/explanation</div>
<hr />
<div class="pda"><a href="t-292670.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=292670">32 vs 64 bit SYSDIR - need some help/explanation</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">3rd June 2008, 13:32</div></div><div class="posttext">myself actually works on 32bit - so all tools are working with $sysdir.<br />
<br />
But i am not sure about 64bit.<br />
<br />
is it &quot;\system64&quot; instead &quot;\system32&quot; or &quot;\sysWOW64&quot; found here?<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=269506<br />
<br />
i write on a portable defragger which is available as x86 and x64.<br />
<br />
contains $sysdir the correct path for both?<br />
<br />
how to determine 32 or 64 bit?<br />
<br />
WOW64???<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=237297<br />
<br />
Application is for WinXP and Vista.<br />
<br />
thx<br />
<br />
PS registry in the work too, is this needed?<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=271710</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">7th June 2008, 10:12</div></div><div class="posttext">system32 is for 64-bit files and syswow64 is for 32-bit files. $SYSDIR points to them both and where it actually writes is affected by file-system redirection. x64.nsh contains macros to handle the redirection.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Brummelchen</div><div class="date">7th June 2008, 21:25</div></div><div class="posttext">i assume that i have to point to syswow64 (redirection off).<br />
thx</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">8th June 2008, 02:07</div></div><div class="posttext">That'd be $SYSDIR with redirection on. With redirection turned on (the default), files written to system32 are actually written to syswow64.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Spilly</div><div class="date">7th August 2008, 22:55</div></div><div class="posttext">This presents a problem when using $SYSDIR for file paths, like in shortcut creation.<br />
<br />
Changing the redirection has no effect on the SYSDIR var, it's always &quot;$WINDIR\system32&quot;, but if you install a 32-bit file in SysWOW64:<br />
<br />
EnableX64FSRedirection<br />
SetoutPath $SYSDIR<br />
File 32bit.dll<br />
CreateShortcut &quot;$SMPROGRAMS\32bit.lnk&quot; &quot;$SYSDIR\32bit.dll&quot;<br />
<br />
the shortcut will be broken. Since you can't modify the $SYSDIR variable, it has become unusable for all binaries stored in SysWOW64.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Animaether</div><div class="date">10th February 2010, 20:34</div></div><div class="posttext">Linking this thread to:<br />
http://forums.winamp.com/showthread.php?postid=2607742<br />
Forums &gt; Developer Center &gt; NSIS Discussion &gt; Copying 64-bit DLL to SYSDIR on W7-64<br />
<br />
Edit: not related to your shortcut issue, I'm afraid - just noting that thread as this is one of the first ones to pop up in google, and that thread has some updated information on disabling filesystem redirection currently not yet implemented in the x64.nsh header file.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>