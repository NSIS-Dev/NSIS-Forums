<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Help move is happening before install completes, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Help move is happening before install completes NSIS Discussion" />
	
	<title> Help move is happening before install completes [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Help move is happening before install completes</div>
<hr />
<div class="pda"><a href="t-331649.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=331649">Help move is happening before install completes</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">camato10</div><div class="date">17th June 2011, 15:45</div></div><div class="posttext">I am installing apache and I want to move everything in the apache folder to my folder. The install seems to still be running when it goes to my next section which is movefolder. When the install completes and I rerun the install it moves the folders. <br />
<br />
My question is there a timer or delay I can put in so the install completes fully. I currently have <br />
<br />
Section &quot;Apache&quot; SEC01<br />
  SetOutPath &quot;$INSTDIR\AmegaWeb2&quot;<br />
  MessageBox MB_YESNO &quot;Are you sure you want to install Apache Web Server and PHP&quot; /SD IDYES IDNO endApachePHP<br />
    ExecWait '&quot;msiexec&quot; /I &quot;P:\apache\httpd-2.2.17-win32-x86-openssl-0.9.8o.msi&quot; /quiet ALLUSERS=1 SERVERADMIN=admin@localhost SERVERNAME=localhost SERVERDOMAIN=localhost SERVERPORT=80'<br />
  ExecWait '&quot;msiexec&quot; /i &quot;P:\php\php-5.3.6-nts-Win32-VC9-x86.msi&quot; /q INSTALLDIR=c:\PHP2 ADDLOCAL=cgi,ext_php_mysqli'<br />
endApachePHP:<br />
SectionEnd<br />
<br />
Section &quot;Copy&quot; SEC02<br />
MessageBox MB_YESNO &quot;Are you sure you want to copy files&quot; /SD IDYES IDNO endcopy<br />
StrCpy $switch_overwrite 0<br />
!insertmacro MoveFolder &quot;$PROGRAMFILES\Apache Software Foundation\Apache2.2\&quot; &quot;$PROGRAMFILES\AmegaWeb2\&quot; &quot;*.*&quot;<br />
endcopy:<br />
SectionEND</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">17th June 2011, 20:49</div></div><div class="posttext">You probably need to execute and wait for msiexec and all its child processes. There's an old wiki entry here: http://nsis.sourceforge.net/ExecWait_and_waiting_for_child_processes_with_Job_Objects<br />
<br />
There may be a newer one by now, I suggest you look around.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>