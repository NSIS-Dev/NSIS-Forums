<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" AnimGif makes my installer hang up, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  AnimGif makes my installer hang up NSIS Discussion" />
	
	<title> AnimGif makes my installer hang up [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  AnimGif makes my installer hang up</div>
<hr />
<div class="pda"><a href="t-320203.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320203">AnimGif makes my installer hang up</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">Grytolle</div><div class="date">24th June 2010, 14:42</div></div><div class="posttext">So, I thought it'd be fun to replace the icon in the directory-page with an animated gif, which works fine, except that the installer suddenly requires 47 CPU as shown in Windows Task Manager and that the installer hangs up completely so I have to kill it with Windows Task Manager.<br />
<br />
PageEx directory<br />
	PageCallbacks directoryPre directoryShow directoryLeave<br />
PageExEnd<br />
<br />
Function directoryShow<br />
	FindWindow $0 &quot;#32770&quot; &quot;&quot; $HWNDPARENT  ;hides the orignal icon successfully<br />
	GetDlgItem $1 $0 1031<br />
	ShowWindow $1 0<br />
	<br />
	SetOutPath $PLUGINSDIR<br />
	File jazzblink.gif<br />
	AnimGif::play /NOUNLOAD /HALIGN=0 /VALIGN=0 &quot;$PLUGINSDIR\jazzblink.gif&quot;<br />
FunctionEnd<br />
<br />
Function directoryLeave<br />
	AnimGif::stop<br />
	Delete &quot;$PLUGINSDIR\jazzblink.gif&quot;<br />
FunctionEnd<br />
<br />
What am I doing wrong? This is the gif: http://jazzjackrabbit.net/gry/jazzblink.gif</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Grytolle</div><div class="date">26th June 2010, 11:07</div></div><div class="posttext">So I tried to add a few sleeps, but that didn't make any difference...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">26th June 2010, 11:15</div></div><div class="posttext">May be icon (1031? 1039?) is not really hidden ?<br />
Can you attach min size test script?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Grytolle</div><div class="date">26th June 2010, 12:59</div></div><div class="posttext">Here goes</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">26th June 2010, 14:19</div></div><div class="posttext">Yes, this is why I added AnimGifPe ;) Looks OK with it. http://nsis.sourceforge.net/AnimGif_plug-in - second link.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Grytolle</div><div class="date">26th June 2010, 14:25</div></div><div class="posttext">I replaced the dll and recompiled, but the installer still hangs up :\<br />
<br />
To be clear: the gif looks fine, but the installer freezes</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">26th June 2010, 14:49</div></div><div class="posttext">I could see 50% (Core Duo) CPU load with AnimGif, but AnimGifPe was OK for me on Vista. Attached.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Grytolle</div><div class="date">26th June 2010, 16:05</div></div><div class="posttext">I can't click anything in the installer (using your attached exe)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Takhir</div><div class="date">27th June 2010, 12:40</div></div><div class="posttext">I could reproduce the situation with AnimGifPe after I minimized installer window and could not restore it. Simple way I can offer right now is to use MUI - just re-tested Example1 worked fine. Later I'll try to find time for this issue.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>