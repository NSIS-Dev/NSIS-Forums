<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Installer Crashes (compiled with NSISrc2), media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Installer Crashes (compiled with NSISrc2) NSIS Discussion" />
	
	<title> Installer Crashes (compiled with NSISrc2) [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Installer Crashes (compiled with NSISrc2)</div>
<hr />
<div class="pda"><a href="t-164729.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=164729">Installer Crashes (compiled with NSISrc2)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">IceRAM</div><div class="date">13th January 2004, 22:16</div></div><div class="posttext">; Version information for the installer executable<br />
VIAddVersionKey ProductName &quot;AppName&quot;<br />
VIAddVersionKey ProductVersion &quot;0.1.1&quot;<br />
VIAddVersionKey Comments &quot;AppName Installer&quot;<br />
VIAddVersionKey CompanyName &quot;&quot;<br />
VIAddVersionKey LegalCopyright &quot;&quot;<br />
VIAddVersionKey FileDescription &quot;Win32 Installer&quot;<br />
VIAddVersionKey FileVersion &quot;1.1&quot;<br />
VIAddVersionKey InternalName &quot;AppName Installer - Win32&quot;<br />
VIAddVersionKey LegalTrademarks &quot;&quot;<br />
VIAddVersionKey OriginalFilename &quot;AppName.exe&quot;<br />
VIAddVersionKey PrivateBuild &quot;&quot;<br />
VIAddVersionKey SpecialBuild &quot;Language Packs&quot;<br />
VIProductVersion &quot;0.1.1.0&quot;<br />
<br />
SetCompressor lzma<br />
<br />
!include &quot;MUI.nsh&quot;<br />
<br />
!insertmacro MUI_PAGE_DIRECTORY<br />
!insertmacro MUI_PAGE_FINISH<br />
<br />
Name &quot;testLangString&quot;<br />
OutFile &quot;testLangString.exe&quot;<br />
<br />
;  !insertmacro MUI_LANGUAGE &quot;French&quot;<br />
;  !insertmacro MUI_LANGUAGE &quot;German&quot;<br />
;  !insertmacro MUI_LANGUAGE &quot;Greek&quot;<br />
;  !insertmacro MUI_LANGUAGE &quot;Italian&quot;<br />
;  !insertmacro MUI_LANGUAGE &quot;Japanese&quot;<br />
;  !insertmacro MUI_LANGUAGE &quot;Polish&quot;<br />
;  !insertmacro MUI_LANGUAGE &quot;Romanian&quot;<br />
;  !insertmacro MUI_LANGUAGE &quot;Russian&quot;<br />
;  !insertmacro MUI_LANGUAGE &quot;Spanish&quot;<br />
  !insertmacro MUI_LANGUAGE &quot;SimpChinese&quot;<br />
<br />
  !insertmacro MUI_RESERVEFILE_LANGDLL<br />
<br />
Section &quot;dummy&quot; SectionDummy<br />
SectionEnd<br />
<br />
Function .onInit<br />
  !insertmacro MUI_LANGDLL_DISPLAY<br />
FunctionEnd<br />
<br />
Function un.onInit<br />
  !insertmacro MUI_UNGETLANGUAGE<br />
FunctionEnd <br />
<br />
---<br />
After I compile it, it crashes on run.<br />
<br />
Several ways to fix the crash:<br />
1. Remove MUI_PAGE_DIRECTORY (OR)<br />
2. Remove ALL the (Version Information:)VI... strings (OR)<br />
3. Uncomment French<br />
3.1. If you uncomment German, it won't work again.<br />
3.2. After German, uncomment Greek... now it works<br />
3.3. Uncomment Italian... it still works...<br />
3.4. If you now uncomment Japanese.. it won't work again.<br />
... didn't try the other versions...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">13th January 2004, 22:24</div></div><div class="posttext">Dave is already investigating this isssue.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">IceRAM</div><div class="date">13th January 2004, 22:53</div></div><div class="posttext">Note: 3. Uncomment French - it works<br />
<br />
Another strange thing:<br />
- assuming you have commented ONLY Russian and Spanish in the previous example<br />
- run the installer and choose Japanese<br />
- you'll notice that all the strings in the Directory page are messed up<br />
<br />
(I also noticed some RightToLeft text formatting - even the dialog boxes displaying with shadows on the other side, the buttons reversed and so on - but I can't reproduce this situation.. yet)<br />
<br />
If I comment &quot;SimpChinese&quot;, the texts go to their right possitions.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kichik</div><div class="date">17th January 2004, 17:50</div></div><div class="posttext">For now, fix SimpChinese and TradChinese to use $(^NameDA) instead of $(^Name) where needed and don't use Estonian as the last language.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Joost Verburg</div><div class="date">17th January 2004, 18:52</div></div><div class="posttext">Fixed Chinese language files.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">eccles</div><div class="date">21st January 2004, 00:16</div></div><div class="posttext">These crashes should now all be fixed in the latest development version. Thanks for the info, it did help to pinpoint the root cause.</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>