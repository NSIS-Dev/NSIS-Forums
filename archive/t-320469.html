<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" Build won't install after download from web, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  Build won't install after download from web NSIS Discussion" />
	
	<title> Build won't install after download from web [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  Build won't install after download from web</div>
<hr />
<div class="pda"><a href="t-320469.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320469">Build won't install after download from web</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">jdt2oo7</div><div class="date">1st July 2010, 18:53</div></div><div class="posttext">Hello all,<br />
<br />
I am running into a weird problem:<br />
<br />
We have an &quot;auto-update&quot; process for our application. If there is a new build (B) available, we will trigger a process to download the new build into a temp location in APPDATA, once it completes download, we will pop up a prompt asking user if s/he wants to install new build. If user selects &quot;Yes&quot;, we will launch the new build installer:<br />
<br />
- Two instances of installer are seen under Task Manager (we are using UAC plugin, so 1 for user mode, and one for admin mode)<br />
- The Windows UAC prompt is displayed, click &quot;Yes&quot; to continue<br />
<br />
The process seems to hang here... nothing happen after the Windows UAC prompt, we still seeing two instances of installer under Task Manager, but the installer won't continue.<br />
<br />
Yet, if we go to download location, double click the new build, installer will run properly and complete its process.<br />
<br />
Any idea?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">1st July 2010, 19:59</div></div><div class="posttext">What is the path of this temp dir? <br />
Have you tried setting the working dir with SetOutPath before executing?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jdt2oo7</div><div class="date">1st July 2010, 20:16</div></div><div class="posttext">Thanks Anders for responding.<br />
<br />
the path to the temp dir I mentioned above: C:\Users\&lt;Username&gt;\AppData\Roaming\&lt;Company&gt;\&lt;Product&gt;\temp<br />
<br />
Yes, I have the SetOutPath at the beginning of Install section:<br />
SetOutPath $TEMP</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">1st July 2010, 21:12</div></div><div class="posttext">Try SetOutPath &quot;$appdata\&lt;Company&gt;\&lt;Product&gt;\temp&quot;<br />
<br />
Also, is this Vista or 7?<br />
UAC plugin version?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jdt2oo7</div><div class="date">1st July 2010, 21:26</div></div><div class="posttext">Let me make sure I understand you correctly:<br />
<br />
So, our application download the new build and put it at: C:\Users\&lt;Username&gt;\AppData\Roaming\&lt;Company&gt;\&lt;Product&gt;\temp. Then it calls the exe file, that is when installer takes over.<br />
<br />
You want me to have the installer SetOutPath to &quot;$appdata\&lt;Company&gt;\&lt;Product&gt;\temp&quot; instead of $TEMP?<br />
<br />
It happens on both Vista and Windows 7.<br />
<br />
I don't see the version for UAC plugin.<br />
<br />
thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Anders</div><div class="date">2nd July 2010, 00:36</div></div><div class="posttext">I just want you to set it to the place where you downloaded the installer</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>