<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content=" icon change, media player, mp3 player, music player, ipod sync, multimedia player, player, winamp, audio player" />
	<meta name="description" content="[Archive]  icon change NSIS Discussion" />
	
	<title> icon change [Archive]  - Winamp Forums</title>
	<link rel="stylesheet" type="text/css" href="archive.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar">Winamp Forums &gt; Developer Center &gt; <a href="f-65.html">NSIS Discussion</a> &gt;  icon change</div>
<hr />
<div class="pda"><a href="t-316664.html?login=1" rel="nofollow">Log in</a></div>
<p class="largefont">Try the Internet Archive: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316664">icon change</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username">shazia.parveen</div><div class="date">30th January 2010, 07:51</div></div><div class="posttext">Hi ,<br />
!define MUI_ABORTWARNING<br />
<br />
On writing this code in the NSIS scripting , the action of this code line when you will click the Cancel button of the setup is that it will ask you weather you want to perform this action 'Yes' or 'No' , my question is that i want to change the icon i have shown in the attached file for your help, how to do that..Help me</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">30th January 2010, 09:53</div></div><div class="posttext">You can probably change the MessageBox command somewhere in the MUI/MUI2 header files. Check your NSIS\contrib\Modern UI(2) folder.<br />
<br />
(Or even better, copy how MUI/MUI2 do it into your own installer, and don't define the MUI_ABORTWARNING.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shazia.parveen</div><div class="date">30th January 2010, 10:10</div></div><div class="posttext">I am pasting the  full code  below please see that<br />
<br />
Name    &quot;Serial&quot;<br />
OutFile &quot;Serial.exe&quot;<br />
<br />
## Include headers<br />
!include MUI.nsh<br />
!include LogicLib.nsh<br />
!define MUI_ABORTWARNING<br />
## Pages<br />
ShowInstDetails show<br />
ShowUnInstDetails show<br />
<br />
!insertmacro MUI_PAGE_WELCOME<br />
Page custom SerialPageShow SerialPageLeave<br />
<br />
!insertmacro MUI_PAGE_COMPONENTS<br />
!insertmacro MUI_PAGE_INSTFILES<br />
<br />
<br />
<br />
## Languages<br />
!insertmacro MUI_LANGUAGE English<br />
<br />
## Displays the serial dialog<br />
Function SerialPageShow<br />
!insertmacro MUI_HEADER_TEXT &quot;Enter Serial Code&quot; &quot;Enter the software serial code to continue.&quot;<br />
<br />
         PassDialog::Dialog Serial \<br />
                    /HEADINGTEXT 'Please enter the serial code located on the software CD case...'\<br />
                    /CENTER \<br />
                    /BOXDASH 12  70 4 '' \<br />
                    /BOXDASH 92  70 4 ''  \<br />
                    /BOXDASH 172 70 4 ''    \<br />
                    /BOXDASH 252 70 4 ''      \<br />
                    /BOX 332 70 4 '' \<br />
<br />
  Pop $R0 # success, back, cancel or error<br />
<br />
FunctionEnd<br />
<br />
## Validate serial numbers<br />
Function SerialPageLeave<br />
<br />
## Pop values from stack<br />
Pop $R0<br />
Pop $R1<br />
Pop $R2<br />
Pop $R3<br />
Pop $R4<br />
<br />
Banner::show &quot;Please wait ...Your Serial Number is Validating...&quot;<br />
## A bit of validation<br />
<br />
;StrCpy '$5' '$R0-$R1-$R2-$R3-$R4'<br />
StrCpy '$5' '$R0-$R1-$R2-$R3-$R4$\r$\n'<br />
StrCpy $6 0<br />
<br />
Loop:<br />
IntOp $6 $6 + 1<br />
StrCmp $6 500 Bad ;1 more than the # serials in file<br />
Push $6 ;line number to read from<br />
File /oname=$PLUGINSDIRserial.txt &quot;Numbers.txt&quot;<br />
Push &quot;$PLUGINSDIRserial.txt&quot; ;text file to read<br />
Call ReadFileLine<br />
Pop $0 ;output string (read from file.txt)<br />
StrCmp $0 $5 Good<br />
Goto Loop<br />
<br />
Bad:<br />
Banner::destroy<br />
MessageBox MB_OK|MB_ICONEXCLAMATION &quot;The entered username or password is incorrect!&quot;<br />
Delete &quot;$PLUGINSDIRserial.txt&quot;<br />
Abort<br />
<br />
Good:<br />
Banner::destroy<br />
Delete &quot;$PLUGINSDIRserial.txt&quot;<br />
FunctionEnd<br />
<br />
Function ReadFileLine<br />
Exch $0 ;file<br />
Exch<br />
Exch $1 ;line number<br />
Push $2<br />
Push $3<br />
<br />
  FileOpen $2 $0 r<br />
StrCpy $3 0<br />
Loop:<br />
IntOp $3 $3 + 1<br />
  ClearErrors<br />
  FileRead $2 $0<br />
  IfErrors +2<br />
StrCmp $3 $1 0 loop<br />
  FileClose $2<br />
<br />
Pop $3<br />
Pop $2<br />
Pop $1<br />
Exch $0<br />
<br />
FunctionEnd<br />
<br />
## Just a dummy section<br />
Section 'A section'<br />
SectionEnd</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MSG</div><div class="date">30th January 2010, 10:52</div></div><div class="posttext">shazia.parveen, I just gave you the solution to your problem. But I'm not going to rewrite your installer script for you. You're going to have to do a *little* bit of work by yourself.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">shazia.parveen</div><div class="date">1st February 2010, 10:56</div></div><div class="posttext">Hey MSG,<br />
i got what you want to say and i got the solution..thanks for replying</div></div><hr />


<div id="copyright">2001-2013 <a href="http://creativecommons.org/publicdomain/mark/1.0/" target="_blank">Public Domain Mark 1.0</a></div>
</div>
</body>
</html>