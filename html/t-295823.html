<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Start Radio Buttons macro doesn't handle section groups."><title>Start Radio Buttons macro doesn't handle section groups. - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Start Radio Buttons macro doesn't handle section groups.</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=295823">Start Radio Buttons macro doesn't handle section groups.</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Andrew Wallo</span><br><span class="post-time small text-muted">11th August 2008 18:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Start Radio Buttons macro doesn't handle section groups.</strong><br>Greetings everyone,<br><br>I have a clear answer now to the issue that became rather cluttered on this post:<br><br><a href="http://forums.winamp.com/showthread.php?s=&amp;postid=2388180#post2388180" target="_blank">http://forums.winamp.com/showthread....80#post2388180</a><br><br>But a less cluttered framing of the question would be:<br><br>What is the effect that a SectionGroup has on the Radiobutton macros..... used in this fashion:<br><br>!insertmacro StartRadioButtons $1<br>!insertmacro RadioButton ${1notINgroup}<br>!insertmacro RadioButton ${2notINgroup}<br>!insertmacro RadioButton ${3InGroup}<br>!insertmacro RadioButton ${4InGroup}<br>!insertmacro RadioButton ${5InGroup}<br>!insertmacro EndRadioButtons<br><br>The simple state is that if the user clicks on the section group header in teh components page.... then ALL of the untis inside it will be marked as ON... and hence 3 will be on, but 4 will trump it, and 5 will trump 4.<br><br>The only way to fix this, is to do soemthing like this:<br><br>; presuming that 3InGroup,4InGroup,5InGroup is wrapped with<br>; a section group marker titled InGroup<br><br><br>!insertmacro StartRadioButtons $1<br>!insertmacro RadioButton ${1notINgroup}<br>!insertmacro RadioButton ${2notINgroup}<br><br><font color="green"><br>; get flags for group section</font><br>SectionGetFlags ${InGroup} $TempRadioButtonFlagsVar<br><font color="green">; test against 35 which is the setting for if a user<br>; clicked directly onto the section group header....<br>; the flags for the group header would be 98 if they had<br>; clicked on a sub option under the group...<br>; See the flags in the help index under SectionGetFlags<br></font><br>StrCmp $TempRadioButtonFlagsVar "35" 0 NextRadioButton<br><font color="green">; if we drop in then we clear the group....</font><br>IntOp $TempRadioButtonFlagsVar $TempRadioButtonFlagsVar &amp; ${SECTION_OFF}<br>SectionSetFlags ${InGroup} $TempRadioButtonFlagsVar<br>NextRadioButton:<br><br>!insertmacro RadioButton ${3InGroup}<br>!insertmacro RadioButton ${4InGroup}<br>!insertmacro RadioButton ${5InGroup}<br>!insertmacro EndRadioButtons</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Andrew Wallo</span><br><span class="post-time small text-muted">11th August 2008 22:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Clarification....</strong><br>Just so future readers understand.....<br><br>StrCpy $1<br>insertmacro StartRadioButtons $1<br>insertmacro RadioButtons a,b,c,d,e,f,g, etc...<br>insertmacro EndRadioButtons<br>StrCmp $1<br><br>Is a macro set for creating and handling mutually exclusive option selection. And that is why having all the options under the sectiongroup being selected at the same time, was a functional error. Because presentation dictated I needed it grouped, but implmenentation of the 'event' dictated that I should only ever return $1 for a selectable option... (NOT all options together) and the way the macro list processes the flag states, the last one that is found to be selected will be returned.... so when they were all selected, the last in the group would always come back as the one clicked, even though it was the group header that received the user click.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>