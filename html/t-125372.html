<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="NSISDL problems"><title>NSISDL problems - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">NSISDL problems</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=125372">NSISDL problems</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">simham_uk</span><br><span class="post-time small text-muted">17th February 2003 11:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>NSISDL problems</strong><br>Hi all<br><br>I'm not sure where the issue is, but I've been using NSISDL successfully until I bring it into work, and try to run an updater I made (using NSIS/NSISDL) through our MS ISA Server. I have the firewall client installed, but that makes no difference.<br><br>It still seems to download the file in IE OK, if I put the URL into there, but in the utility (using NSISDL) it fails.<br><br>Is this because there is no proxy support within the NSISDL plugin, or can anyone explain why I might be having this problem and hoq to overcome it?<br><br>Thanks</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">18th February 2003 15:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">NSISdl doesn't support proxy with passwords. It does support normal proxies. It takes the proxy configuration from the registry where IE keeps it (Software\Microsoft\Windows\CurrentVersion\Internet Settings). Did NSISdl return any error (check $0 unless using the latest CVS version where you should check the stack)? If so, what was the error?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">simham_uk</span><br><span class="post-time small text-muted">19th February 2003 21:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think I got this one fixed, or at least worked around:<br><br>My problem seems to be that the downloader, although it has support for proxy (without authentication), and uses the IE settings, it doesn't seem to have support for the ProxyOverride option for local addresses.<br><br>Although I'm not really a coder, I did have a look at the source of nsisdl.cpp. At around line 230 is the statement that reads the reg proxy settings for IE, so I'd guess this needs a small addition to check if the address matches any of the strings in the semi-colon delimited value of ProxyOverride. i.e. addresses that begin with...<br><br>Knowing PHP a little and knowing that IE has support for wildcards in the addresses such as 192.168.0.* and the like, maybe some regex would be required?<br><br>Is this a feature that could be added easily to NSISdl?<br><br>My workaround is to temporarily disable proxy, download updates (they're located on a local webserver), and then re-enable.<br><br>I would be glad to help with testing!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">20th February 2003 17:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">That won't be so easy to accomplish. However, a fallback to no proxy can be very easily added. What do you think?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">simham_uk</span><br><span class="post-time small text-muted">20th February 2003 19:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">A fallback is not necessary since I can just switch off ProxyEnable with one line in the script as I have done already.<br><br>To make it more useful, eventually it will need full support for proxy settings, including Override and authentication.<br><br>Since I have completed this project with the workaround I have no urgency for the above-mentioned feature enhancements, but they should be there to complete the plugin.<br><br>To really dig in, FTP support would be cool too :-) maybe as a separate plugin.<br><br>Clearly this tool is used for liveupdate/online installer type setups (as I have used it for) so to compete with the big boys we need these features someday.<br><br>Thanks for your comments!</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>