<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="InstType Problem" />

  <title>InstType Problem - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">InstType Problem</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=112244">InstType Problem</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Dizzy007</span><br />
      <span class="post-time small text-muted">31st October 2002 11:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>InstType Problem</strong><br />
      NSIS 1.99<br />
      =========<br />
      <br />
      Hi All,<br />
      <br />
      another Problem ...<br />
      I use InstType to offer different servers.<br />
      But i always get a costum possibility or the<br />
      hole components ...<br />
      <br />
      I just want to have my 3 choices - nothing more :cry:<br />
      The option "/NOCOSTUM" doesn't work .. see my code.<br />
      <br />
      Thanks for your help!<br />
      Dizzy</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">31st October 2002 13:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This code works for me on 1.98, 1.99, 2.0a7 and the latest CVS version. Make sure you recompiled and that you are running the right installer. If it still happens please attach a screen shot.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Dizzy007</span><br />
      <span class="post-time small text-muted">31st October 2002 13:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by kichik</i><br />
        <b>This code works for me on 1.98, 1.99, 2.0a7 and the latest CVS version. Make sure you recompiled and that you are running the right installer. If it still happens please attach a screen shot.</b>
      </blockquote>Hi kichik,<br />
      <br />
      i'm using the NSIS 1.99.<br />
      Due to the faults i've upgradet from 1.98 to 1.99 - but the error still exists.<br />
      <br />
      See the file (is a zip) including the compiler output, screen shots and the source ..<br />
      <br />
      Thanks for your help!<br />
      Dizzy<br />
      ;)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">31st October 2002 14:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmm... I see no custom there... Did you mean you don't want the section names to show?<br />
      <br />
      BTW, you can upload ZIP files here, you don't have to rename them to txt files.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Dizzy007</span><br />
      <span class="post-time small text-muted">31st October 2002 14:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by kichik</i><br />
        <b>Hmm... I see no custom there... Did you mean you don't want the section names to show?<br />
        <br />
        BTW, you can upload ZIP files here, you don't have to rename them to txt files.</b>
      </blockquote>I don't want to have a custom entry.<br />
      I just want to have my 3 choices :<br />
      - RTI-Server01<br />
      - RTI-Server02<br />
      - Other<br />
      and no COMPONENTSONLYONCUSTOM - no custom choice - just my 3 choices...<br />
      <br />
      I've attached a faked screen - as i want to have ...<br />
      <br />
      Thanks<br />
      Dizzy
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">31st October 2002 14:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, that's impossible with just NSIS. You will have to use a custom DLL such as ShowWin.dll (latest CVS version only), or create a custom page using IO.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Dizzy007</span><br />
      <span class="post-time small text-muted">1st November 2002 08:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by kichik</i><br />
        <b>Well, that's impossible with just NSIS. You will have to use a custom DLL such as ShowWin.dll (latest CVS version only), or create a custom page using IO.</b>
      </blockquote>Hmm - sorry if i misunderstand the function<br />
      <pre>
<code>InstType /NOCUSTOM </code>
</pre><br />
      <br />
      If i use the /NOCUSTOM function - (in my mind) i would not have any "custom choice" ... am i right? It doesn't work :hang:<br />
      So, what's wrong with my code?<br />
      <br />
      I would be happy to get the right code.<br />
      <br />
      Thanks<br />
      Dizzy
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">1st November 2002 09:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Your code is perfectly fine and your installer works perfectly fine too. When you use InstType /NOCUSTOM the user can't select Custom from the drop down list and can't change the components selection without the drop box. That's exactly what you have in your installer, what is the problem?<br />
      <br />
      If you don't want the component selection box to show at all you will have to use ShowWin.dll, System.dll or InstallOptions.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jacob Metro</span><br />
      <span class="post-time small text-muted">1st November 2002 23:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>/componentsonlyoncustom</strong><br />
      I think if you throw /componentsonlyoncustom together with /nocustom you will see only the three choices you are looking for.<br />
      what that'll do is force the compiler not to let you see any components except the three you have outlined seperatly, and you won't be able to choose a custom install.<br />
      jacob</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Dizzy007</span><br />
      <span class="post-time small text-muted">4th November 2002 08:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Re: /componentsonlyoncustom</strong><br /></p>

      <blockquote>
        <i>Originally posted by Jacob Metro</i><br />
        <b>I think if you throw /componentsonlyoncustom together with /nocustom you will see only the three choices you are looking for.<br />
        what that'll do is force the compiler not to let you see any components except the three you have outlined seperatly, and you won't be able to choose a custom install.<br />
        jacob</b>
      </blockquote>Hi Jacob,<br />
      <br />
      this won't work :(<br />
      Both parameters in one :<br />
      InstType /NOCUSTOM /COMPONENTSONLYONCUSTOM<br />
      <br />
      line will force a compiler error :<br />
      Usage: InstType (/NOCUSTOM|[LANG=lang_id] /CUSTOMSTRING=CustomStr|Typ<br />
      <br />
      And each in one line :<br />
      InstType /NOCUSTOM<br />
      InstType /COMPONENTSONLYONCUSTOM<br />
      <br />
      will have the result of 4 choices ... including the unwanted "Custom" :cry:<br />
      <br />
      Another Idea?<br />
      Greets Dizzy
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">4th November 2002 14:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">/NOCUSTOM can't be combined with /COMPONENTSONLYONCUSTOM.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jacob Metro</span><br />
      <span class="post-time small text-muted">4th November 2002 15:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>NSIS Examples</strong><br />
      I took a couple of examples from KiCHiK. Here are my results.<br />
      <br />
      Your text should be the following:<br />
      <br />
      [edited by kichik]Don't include huge scripts in the message itself. Attached below[/edit]<br />
      <br />
      In my case I needed in excess of ten options, I think three is just perfect for this method.<br />
      <br />
      I have included screen shots in the attached file showing the purpose of using both /NOCUSTOM and /COMPONENTSONLYONCUSTOM.<br />
      <br />
      Feel free to email me with any questions. <a href="mailto:J.Metro@juno.com">J.Metro@juno.com</a>.<br />
      Thanks,<br />
      Jacob</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">4th November 2002 15:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please attach large scripts.<br />
      <br />
      Thanks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">4th November 2002 15:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Let me put it this way... You <b>can't</b> put InstType /NOCUSTOM and InstType /COMPONENTSONLYONCUSTOM in the same script. It just doesn't work, you can't.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jacob Metro</span><br />
      <span class="post-time small text-muted">4th November 2002 21:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>here is evidence</strong><br />
      I think this is what you're looking for.<br />
      See attachment<br />
      the attachment has my script (lifted from KiCHiK) with both /NOCUSTOM and /COMPONENTSONLYONCUSTOM thrown.<br />
      The attachment also shows the results on my PC.<br />
      Thanks,<br />
      Jacob</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">5th November 2002 15:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Jacob, enough. /NOCUSTOM and /COMPONENTSONLYONCUSTOM can't be in the same script together. They just <b>CAN'T</b>!<br />
      Making all of the sections not visible will not work too because it won't show the component page at all.<br />
      <br />
      Allowing the user to choose only one section should work.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
