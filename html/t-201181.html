<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="misc questions" />

  <title>misc questions - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">misc questions</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=201181">misc questions</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ZmAn3</span><br />
      <span class="post-time small text-muted">5th December 2004 06:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>misc questions</strong><br />
      I need some help with the following please<br />
      im using the new version of nsis and MUI<br />
      <br />
      1) I added a bmp control with reshacker but can not get the script to set the image on it, the closest ie came is from a example in the archives all that it seems to do thou is resize the control to the images size but does not show the image.<br />
      <br />
      2)Is there anyway to change the color of the buttons, via SetCtlColors or custom buttons or bmps on them or anything?? and how do I turn off xp style on them?<br />
      <br />
      3)how can i enable and change the text on the desc control the way the installer does when you move over a section ,I want to do it when the page loads so you dont see it as disabled text.<br />
      <br />
      4) is there any way to change the color of the thin line you see between the header area and the rest of the page ,its also on the bottom of the welcome page. is this possible with setctlcolors or making the dialogs flat or somthing ?<br />
      <br />
      5)any way to change the scroll bar colors?<br />
      <br />
      please give examples if possible as i may be retarded :igor:<br />
      TIA<br />
      :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ZmAn3</span><br />
      <span class="post-time small text-muted">5th December 2004 09:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>desc</strong><br />
      ok as far as the desc label control i figured out this from searching the forums and it works until the user moves the cursor on the installer form then it goes back to the disabled version.<br />
      <br />
      GetDlgItem $DLGITEM $HWND 1043 ; desc label control /////<br />
      <br />
      EnableWindow $DLGITEM $HWND<br />
      <br />
      so if anyone knows a way to keep that from happening please let me know.<br />
      <br />
      also if you use<br />
      SendMessage $DLGITEM ${WM_SETTEXT} 0 "STR:Position your butt."<br />
      <br />
      to set the text on the label then it gets changed back to the default text when the cursor gets moved which is annoying<br />
      <br />
      Thanks again.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">5th December 2004 12:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Make sure you extract the bitmap onto the user's hard drive first.<br />
      <br />
      You should be able to colour all dialogue items with SetCtlColors. If you want to do so, you'll have to remove 'XPStyle On' from your script.<br />
      <br />
      As for the description text, open up Contrib\Modern UI\System.nsh, scroll to "!macro MUI_DESCRIPTION_BEGIN" and comment out "EnableWindow $MUI_TEMP1 0" (line 225).<br />
      You might as well also comment out "EnableWindow $MUI_TEMP1 1" also (below).<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ZmAn3</span><br />
      <span class="post-time small text-muted">6th December 2004 04:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok so the changing the desc label works great <b>thanks</b><br />
      btw is there a way to use a custom system.nsh that i can place in the folder with my script instead of the contrib one? I tried !include "system.nsh" in my script but that doesnt work doesnt give a error either thou :/<br />
      <br />
      as far as turning off the xp style I dont have a xpstyle on in my script i tried adding xpstyle off and that didnt do anything buttons and stuff still have xp style.<br />
      <br />
      as far as the custom bmp i have no clue how to extract that to the drive then load it back into the control on the form :/ is there a example some where ?<br />
      <br />
      Thanks again. nice avatar btw<br />
      <br />
      ok turned off xp style in the system.nsh file and in my script i have<br />
      GetDlgItem $DLGITEM $HWNDPARENT 2<br />
      SetCtlColors $DLGITEM 000000 000000<br />
      SendMessage $DLGITEM ${WM_SETTEXT} 0 "STR:P"<br />
      <br />
      however its not changing the buttons color</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">6th December 2004 12:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes you can. Use:<br />
      !include "${NSISDIR}\PathToMy\System.nsh"<br />
      If a relative path is used, then NSIS will use Include's from the 'Include' folder.<br />
      <br />
      For Branding images, here's an example:<br />
      ChangeUI all "${NSISDIR}\Contrib\UIs\modern.exe"<br />
      ChangeUI IDD_INST "${NSISDIR}\Contrib\UIs\modern_headerbmp.exe"<br />
      AddBrandingImage left 150 0<br />
      <br />
      In .onInit:<br />
      InitPluginsDir<br />
      ReserveFile "/oname=$PLUGINSDIR\branding.bmp" "branding.bmp"<br />
      <br />
      Then in a Function/Section:<br />
      SetBrandingImage "$PLUGINSDIR\branding.bmp"<br />
      <br />
      Make sure you put the code to modify the parent window dialogue items in .onGUIInit. The System plugin already uses .onGUIInit so you'll need to specify:<br />
      !define MUI_CUSTOMFUNCTION_GUIINIT myGUIInit<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
