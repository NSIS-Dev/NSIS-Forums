<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Change the total space required variable" />

  <title>Change the total space required variable - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Change the total space required variable</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=296898">Change the total space required variable</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">gugaliashashank</span><br />
      <span class="post-time small text-muted">4th September 2008 08:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Change the total space required</strong><br />
      Hi All,<br />
      <br />
      I want to change change the minumum space required for installation to a prefix value instead of the size of installer. How i can do that?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br />
      <span class="post-time small text-muted">4th September 2008 09:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm not sure what you mean by "prefix value".<br />
      There's an AddSize command which you can use to increase the space reported as being required for a given section:<br />
      <br />
      AddSize sizeInKb<br />
      <br />
      <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.6.1.1" target="_blank">http://nsis.sourceforge.net/Docs/Chapter4.html#4.6.1.1</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">gugaliashashank</span><br />
      <span class="post-time small text-muted">4th September 2008 09:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I mean to say that in the installer page, there are two static text<br />
      <br />
      Space required: 50MB<br />
      Space available: 30GB<br />
      <br />
      I want to change this Space required to 250MB by default. HOw can i do that?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br />
      <span class="post-time small text-muted">4th September 2008 09:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Then you should put AddSize 204800 in the applicable section. That'll add the 200MB (since 1MB=1024KB) you're after, and you're not going to suddenly have 100MB jump to 2100MB.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">gugaliashashank</span><br />
      <span class="post-time small text-muted">4th September 2008 10:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">But that was just an example of 50 MB, it can be 60 or 70 or 100 anything i dont know what is the size of my installer, I tried to get the size of my installer also but its not working, I am getting error in the code i have mentioned below.<br />
      <br />
      Section GetInstallerSize<br />
      System::Call 'kernel32::GetModuleFileNameA(i 0, t .R0, i 1024) i r1'<br />
      ${locate::GetSize} $R0 "/G=0" $var1 $var2 $var3<br />
      SectionEnd<br />
      <br />
      <br />
      I have include locate.sch and I have also downloaded the locate.nsh and locate.dll</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br />
      <span class="post-time small text-muted">4th September 2008 10:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The thing is, it's never going to make sense to just add a digit. There's a *huge* difference between changing 50 to 250, vs. changing 100 to 2100. I strongly fail to see why it is you need a *prefix*, instead of just adding the amount you're really after.<br />
      <br />
      If you're really desperate, you could probably change the text using a Windows message, but I don't have the code that would be required for that</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">5th September 2008 12:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Changing the text is impossible as NSIS will change it back for every change of the installation directory by the user. What you should do is use SectionSetSize to set the exact size you want for your sections.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
