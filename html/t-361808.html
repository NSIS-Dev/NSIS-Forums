<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="NSIS 3.0a0" />

  <title>NSIS 3.0a0 - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content=" NSIS 3.0a0" />

  <title>NSIS 3.0a0 - NSIS Forums</title>
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" />
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">NSIS 3.0a0</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=361808">NSIS 3.0a0</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">20th May 2013 02:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>NSIS 3.0a0</strong><br />
      Yep. It's finally here.<br />
      <br />
      Get your download at the usual place:<br />
      <br />
      <a href="http://nsis.sourceforge.net/Download" target="_blank">http://nsis.sourceforge.net/Download</a><br />
      <br />
      Among many bug fixes and new features, the biggest one is probably Jim Park's Unicode. Wizou and Anders have merged it back to the main version and it's now available as an optional <b>Unicode true</b> command. So thank you Jim, thank you Wizou for merging it back in and thank you Anders for wrapping it all up and making sure NSIS 3 happens.<br />
      <br />
      Next on plan is fixing whatever we broke (like linux build) and x64 by David Golub (partially already available <a href="http://nsis.svn.sf.net/viewvc/nsis/NSIS/branches/WIN64/" target="_blank">in SVN</a> and on <a href="https://bitbucket.org/dgolub/nsis64" target="_blank">David's BitBucket</a>).<br />
      <br />
      Please let us know of any broken parts of loose screws :)<br />
      <br />
      P.S.<br />
      <br />
      Check out our <a href="https://twitter.com/nsis_tweets" target="_blank">Twitter feed</a> by Yathosho.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">20th May 2013 08:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Absolutely awesome! Many thanks to the NSIS team for putting in so many hours, and congratulations for reaching this important milestone. I'm hoping to go play with it soon!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br />
      <span class="post-time small text-muted">20th May 2013 10:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Awesoooooooooome!!!<br />
      <br />
      Quick question for plug-ins: all old plug-ins are now automatically treated as x86, aren't they?<br />
      <br />
      Second question: Is .chm manual working for you correctly?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">aerDNA</span><br />
      <span class="post-time small text-muted">20th May 2013 10:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm an eternal optimist but I admit I was worried we'd seen the last major build, as the project really seemed to be losing momentum. I love NSIS, this is frelling great news! Thank you devs for all your work! :up:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">TaleTN</span><br />
      <span class="post-time small text-muted">20th May 2013 10:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Cool, thanks! :)<br />
      <br />
      I have just quickly tried 3.0a0, and a simple project compiled, but another, somewhat larger one wouldn't because !searchparse and !searchreplace failed. I then reinstalled 2.46, and then the project compiles just fine, so it would seem !searchparse and !searchreplace are broken.<br />
      <br />
      !searchparse error:<br /></p>
      <pre>
<code>!searchparse: starting string "#define VERSIONINFO_VERSION    " not found in file!</code>
</pre><br />
      <br />
      Failing NSIS source code line:<br />
      <pre>
<code>!searchparse /file ../resource.h '#define VERSIONINFO_VERSION    ' VER_MAJR ',' VER_MN ',' VER_BG ','</code>
</pre><br />
      <br />
      Relevant line from ../resource.h:<br />
      <pre>
<code>#define VERSIONINFO_VERSION    1,3,0,0 // 1.3.0</code>
</pre><br />
      <br />
      !searchreplace error:<br />
      <pre>
<code>Usage: !searchreplace [/ignorecase] output_name source_string substring replacestring</code>
</pre><br />
      <br />
      Failing NSIS source code line:<br />
      <pre>
<code>!searchreplace VER_FN "${VER_STR}" "." ""</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">20th May 2013 12:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by T.Slappy</small><br />
        Quick question for plug-ins: all old plug-ins are now automatically treated as x86, aren't they?
      </blockquote>If you mean Ansi vs Unicode then yes, everything starts out as Ansi but NSIS\Plugins\*.dll is not searched anymore, you would have to move them into the correct subdirectory...<br />
      <br />

      <blockquote>
        <small>Originally posted by T.Slappy</small><br />
        Second question: Is .chm manual working for you correctly?
      </blockquote>What do you mean?<br />
      <br />
      <br />

      <blockquote>
        <small>Originally posted by TaleTN</small><br />
        I have just quickly tried 3.0a0, and a simple project compiled, but another, somewhat larger one wouldn't because !searchparse and !searchreplace failed. I then reinstalled 2.46, and then the project compiles just fine, so it would seem !searchparse and !searchreplace are broken.
      </blockquote>They are stricter in what they accept but it is of course possible that there is a bug in the new code.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br />
      <span class="post-time small text-muted">20th May 2013 15:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmm I cannot edit my previous post so I am adding found issues here, most of them are from manual:<br />
      <br />
      <b>UnsafeStrCpy</b> command is not documented (however I suppose the same behaviour as StrCpy)<br />
      <br />
      The 'new' ReserveFile explanation is very vague:</p>

      <blockquote>
        Plugins in ${NSISDIR}\Plugins have to be reserved with ReserveFile /plugin
      </blockquote>Maybe it is better to say "use /plugin switch anytime you use ReserveFile for reserving the .dll file".<br />
      Also plug-ins are now stored in ${NSISDIR}\Plugins\&lt;architecture&gt;-&lt;Charset&gt; so this may be confusing for users.<br />
      <br />
      And again thanks for the great work!
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jpderuiter</span><br />
      <span class="post-time small text-muted">20th May 2013 15:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Great work!<br />
      <br />
      Maybe it is a good idea to copy already installed plugin's from a NSIS 2.x installation to the new plugin location (at least the ansi plugin's) in the NSIS installer?<br />
      <br />
      jpderuiter</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">TaleTN</span><br />
      <span class="post-time small text-muted">20th May 2013 19:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by Anders</small><br />
        They are stricter in what they accept but it is of course possible that there is a bug in the new code.
      </blockquote>Then I guess there is a bug in the !searchparse code, because I have this very simple text file (meh.h):<br />
      <br />
      <pre>
<code>#define APP_VERSION 1,2,3<br />#define LONG_VERSION 1,2,3,4</code>
</pre><br />
      <br />
      Which I fails to parse correctly with this equally simple NSIS script:<br />
      <br />
      <pre>
<code>!searchparse /file meh.h `#define APP_VERSION ` VER_MAJOR `,` VER_MINOR `,`<br /># Bug: Found "#define APP_VERSION 1,2,", so VER_MAJOR should be "1" and<br /># VER_MINOR "2". However, VER_MINOR is "2,3".<br /><br />!searchparse /file meh.h `#define LONG_VERSION ` LONG_MAJOR `,` LONG_MINOR `,` LONG_BG `,`<br /># Bug: Should have found "#define LONG_VERSION 1,2,3,", but instead says<br /># "#define LONG_VERSION " not found.<br /><br />Name "meh ${VER_MAJOR}.${VER_MINOR} (${LONG_MAJOR}.${LONG_MINOR}.${LONG_BG})"<br />OutFile "meh.exe"<br />Section<br />SectionEnd</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">20th May 2013 22:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">didn't think i'd live to see this, good job everybody!<br />
      <br />
      i'm glad that the anchors for commands in the html help finally changed from chapters to something more readable. would've been better though to use the literal command names - #StrCpy rather than #strcpy, #!ifdef rather than #if. i can think of several scenarios where this could be come useful, for instance a command lookup from an editor.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jiake</span><br />
      <span class="post-time small text-muted">21st May 2013 04:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Great work!!!!!!!!!!!!!!!!<br />
      <br />
      Maybe able to upgrade LZMA(LZMA2)?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">21st May 2013 08:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by jiake</small><br />
        Maybe able to upgrade LZMA(LZMA2)?
      </blockquote>there has been a <a href="http://forums.winamp.com/showthread.php?t=326288&amp;highlight=lzma2" target="_blank">discussion</a> about that
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jiake</span><br />
      <span class="post-time small text-muted">21st May 2013 09:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by Yathosho</small><br />
        there has been a <a href="http://forums.winamp.com/showthread.php?t=326288&amp;highlight=lzma2" target="_blank">discussion</a> about that
      </blockquote>Thank you.<br />
      Compression code does look outdated.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">21st May 2013 20:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think I fixed searchparse<br />
      <br /></p>

      <blockquote>
        <small>Originally posted by TaleTN</small><br />
        !searchreplace error:<br />
        <pre>
<code>Usage: !searchreplace [/ignorecase] output_name source_string substring replacestring</code>
</pre><br />
        <br />
        Failing NSIS source code line:<br />
        <pre>
<code>!searchreplace VER_FN "${VER_STR}" "." ""</code>
</pre>
        <hr />
      </blockquote>
    </div>
    <hr />
    !define VER_STR a.b.c.d<br />
    !searchreplace VER_FN "${VER_STR}" "." ""<br />
    !warning "|${VER_FN}|"<br />
    <br />
    gives me:<br />
    <br />
    !searchreplace: "VER_FN"="abcd"<br />
    warning: !warning: |abcd| (test.nsi:22)<br />
    <br />
    so you need to provide a full example that actually fails for me to fix this<br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Theresias</span><br />
      <span class="post-time small text-muted">21st May 2013 22:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Very much appreciated folks, keep up the good work!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">TaleTN</span><br />
      <span class="post-time small text-muted">22nd May 2013 10:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        Originally Posted by <strong>Anders</strong> (Post 2935419) so you need to provide a full example that actually fails for me to fix this
      </blockquote>Here you go:<br />
      <br />
      meh.h:<br />
      <pre>
<code>#define VERSIONINFO_STR "1.3.0"</code>
</pre><br />
      <br />
      meh.nsi:<br />
      <pre>
<code># Sets VER_STR to "1.3.0".<br />!searchparse /file meh.h '#define VERSIONINFO_STR "' VER_STR '"'<br /><br /># VER_FN should be "130", but returns usage error instead.<br />!searchreplace VER_FN "${VER_STR}" "." ""<br /><br />Name "meh"<br />OutFile "meh.exe"<br />Section<br />SectionEnd</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br />
      <span class="post-time small text-muted">22nd May 2013 13:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">After a short work with NSIS 3 I noticed my favourite feature is still not implemented:<br /></p>
      <pre>
<code><br />Var /GLOBAL myVariable "initial value"<br /></code>
</pre><br />
      <br />
      I think this is often used: "initial value" could be optional parameter.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">22nd May 2013 21:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by T.Slappy</small><br />
        After a short work with NSIS 3 I noticed my favourite feature is still not implemented:
        <pre>
<code>Var /GLOBAL myVariable "initial value"</code>
</pre><br />
        I think this is often used: "initial value" could be optional parameter.
      </blockquote>I believe there is a feature request for Var Foo, Bar, Baz but I don't think we found a good syntax to express this, /GLOBAL makes things confusing etc.<br />
      <br />
      Setting an initial value is probably not going to happen, NSIS currently uses a PE section trick to allocate the variables with no code at runtime. If you want this feature so bad you can just use a macro in .onInit...
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">23rd May 2013 06:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Congrats on finally moving up to version 3 alpha!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bnicer</span><br />
      <span class="post-time small text-muted">24th May 2013 14:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Very good to have it all in one place. I like also the streamlining since 2.46. Math.dll -- much smaller. Thanks. :)<br />
      <br />
      I found a minor problem. (I hope minor.)<br />
      <br />
      ${NSIS_CHAR_SIZE} is always 1.<br />
      <br />
      So,<br />
      <br /></p>
      <pre>
<span style="color: #007700">!if</span><span style="color: #DD0000">"${NSIS_CHAR_SIZE}"</span><span style="color: #007700">=</span><span style="color: #0000BB">2
<br />Unicodetrue
<br /></span><span style="color: #007700">!endif
</span>
</pre>does not work.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">24th May 2013 14:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by TaleTN</small><br />
        Here you go:
      </blockquote>With !searchparse fixed I get 130 as the result...
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">24th May 2013 14:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by bnicer</small><br />
        ${NSIS_CHAR_SIZE} is always 1.
      </blockquote>This is by design, ${NSIS_CHAR_SIZE} is mainly for code that interacts with the system plugin. ${NSIS_CHAR_SIZE} changes <b>after</b> "Unicode true"...
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">TaleTN</span><br />
      <span class="post-time small text-muted">24th May 2013 15:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by Anders</small><br />
        With !searchparse fixed I get 130 as the result...
      </blockquote>Yay, great! :up: I guess there was nothing wrong with !searchreplace then, but it was also caused by a bug in !searchparse?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bnicer</span><br />
      <span class="post-time small text-muted">24th May 2013 16:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Quote:</p>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
        <span class="post-time small text-muted">24th May 2013 20:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">there's always a warning when a script contains ${NSIS_VERSION}, i guess it doesn't like the "a" in v3.0a0</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
        <span class="post-time small text-muted">25th May 2013 01:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Yathosho</small><br />
          there's always a warning when a script contains ${NSIS_VERSION}, i guess it doesn't like the "a" in v3.0a0
        </blockquote>Please post code examples and compiler warnings when reporting issues...
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
        <span class="post-time small text-muted">25th May 2013 10:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Anders</small><br />
          Please post code examples and compiler warnings when reporting issues...
        </blockquote>
        <pre>
<code>!if ${NSIS_VERSION} &lt; "v3.0"<br />!endif</code>
</pre><br />
        <br />
        will produce<br />
        <br />
        <pre>
<code>1 warning:<br />  Invalid number: "v3.0a0" (C:\Users\jan\Desktop\test.nsi:1)</code>
</pre>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
        <span class="post-time small text-muted">25th May 2013 17:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">That warning is because it can't parse "v3.0a0" (or "v3.0") as an integer because it isn't.<br />
        <br />
        Stu</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
        <span class="post-time small text-muted">25th May 2013 18:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Yathosho</small><br />
          <pre>
<code>!if ${NSIS_VERSION} &lt; "v3.0"<br />!endif</code>
</pre>
        </blockquote>Like Afrow UK said, it gives you a warning because it failed to parse the input as a number. The warning is new but it will fail to parse under 2.46 as well.<br />
        <br />

        <blockquote>
          Originally Posted by <strong>2.46 fails this</strong> !undef NSIS_VERSION<br />
          !define NSIS_VERSION "v3.0" ;a0"<br />
          !if ${NSIS_VERSION} &lt; v4.0<br />
          !warning "${NSIS_VERSION} &lt;"<br />
          !else<br />
          !warning "${NSIS_VERSION} &gt;="<br />
          !endif
        </blockquote>You probably want something like:<br />

        <blockquote>
          !if "${NSIS_PACKEDVERSION}" &gt; 0x2046000<br />
          Unicode True<br />
          !else<br />
          !if "${NSIS_CHAR_SIZE}" &lt; 2 ; This takes care of the Unicode fork?<br />
          !warning "Unicode not supported, creating ANSI installer"<br />
          !endif<br />
          !endif
          <hr />
        </blockquote>
      </div>
      <hr />
      When comparing NSIS_PACKEDVERSION you should check against the last version that did not have the feature you are after, if you do it this way you should be compatible all the way back to v2.15. If you do it the other way with !if ${NSIS_PACKEDVERSION} &gt;= 0x3000000 it will be parsed as 0 &gt;= 0 (true) on older versions!<br />
      <br />
      It is important to note that unofficial svn builds might not set NSIS_VERSION nor NSIS_PACKEDVERSION at all.<br />
      <br />
      <br />
      Quote:

      <table cellpadding="6" cellspacing="0" border="0" width="100%">
        <tr>
          <td class="alt2">
            <hr />
            ${NSIS_CHAR_SIZE} changes <b>after</b> "Unicode true"... I should have tried it first. It isn't a problem, only different. Thanks.
          </td>
        </tr>

        <tr>
          <td class="alt2">
            <hr />
            !if 0x2046000 &gt;= "${NSIS_PACKEDVERSION}"<br />
            !error "You need NSISv3+"<br />
            !endif<br />
            ;Or<br />
            !if ! "${NSIS_PACKEDVERSION}" &gt; 0x2046000<br />
            !error "You need NSISv3+"<br />
            !endif I'm not sure what the fork will do in the future, you might even want to use !if ! "${NSIS_PACKEDVERSION}" &gt; 0x2999999<br />

            <ul>
              <li><a href="http://forums.winamp.com/showthread.php?t=284486" target="_blank">The ${NSIS_VERSION} constant was first introduced in 2.0b4</a></li>

              <li><a href="http://forums.winamp.com/showpost.php?p=1879369&amp;postcount=10" target="_blank">!if was added in 2.15</a></li>

              <li>NSIS_PACKEDVERSION and hex number parsing (!if) was added after 2.46 IIRC</li>
            </ul><br />
            The format of NSIS_VERSION was never set in stone, v3.4.5 would be a legal version and there can be a letter or word suffix etc...
          </td>
        </tr>
      </table><br />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Redo89</span><br />
        <span class="post-time small text-muted">29th May 2013 18:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Respected developers!<br />
        Please, make possibility of translation of the text for "NSIS Error".<br />
        It always in English.... Add opportunity to change the text of this error.<br />
        thanks.<br />
        <br />
        <a href="http://i48.tinypic.com/2vljpc8.png" target="_blank">http://i48.tinypic.com/2vljpc8.png</a></p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
        <span class="post-time small text-muted">29th May 2013 21:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Redo89</small><br />
          Please, make possibility of translation of the text for "NSIS Error".<br />
          It always in English.... Add opportunity to change the text of this error.<br />
          thanks.
        </blockquote>This has been asked before, this string is used before translations have been loaded. If you want to change the string, use a hex editor...
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Redo89</span><br />
        <span class="post-time small text-muted">30th May 2013 22:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">what file to edit hex editor? the compiled installer? It will cause CRC error!<br />
        I don't want to disable CRC check<br />
        <br />
        And you are right, about this problem many times wrote. I don't understand why developers can't add opportunity to change this message...<br />
        <br />
        Sorry for bad English!</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
        <span class="post-time small text-muted">31st May 2013 09:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">in need some advice on how to best debug an installer generated with this alpha version. i have one installer that produces problems: it compiles, but upon running it crashes with no error message whatsoever. i commented out all used plugins (MoreInfo, System and ToolTips) and even the custom UI it uses - no success. a look at process monitor shows a couple of errors/warnings (NAME COLLISION, FILE LOCKED WITH ONLY READERS, FAST IO DISALLOWED and BUFFER OVERFLOW). the installer quits with error code -1073741819 (and google doesn't know about that). i checked with the last working version and it produces the same results in process monitor, but the installer works as desired.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
        <span class="post-time small text-muted">31st May 2013 17:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Yathosho</small><br />
          in need some advice on how to best debug an installer generated with this alpha version. i have one installer that produces problems: it compiles, but upon running it crashes with no error message whatsoever. i commented out all used plugins (MoreInfo, System and ToolTips) and even the custom UI it uses - no success. a look at process monitor shows a couple of errors/warnings (NAME COLLISION, FILE LOCKED WITH ONLY READERS, FAST IO DISALLOWED and BUFFER OVERFLOW). the installer quits with error code -1073741819 (and google doesn't know about that). i checked with the last working version and it produces the same results in process monitor, but the installer works as desired.
        </blockquote>Can you create a minimal sample with the same issue? Does MessageBox in .onInit work? Unicode/Ansi?
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
        <span class="post-time small text-muted">31st May 2013 20:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Anders</small><br />
          Can you create a minimal sample with the same issue? Does MessageBox in .onInit work? Unicode/Ansi?
        </blockquote>okay, thanks to your advise i could narrow down the problem<br />
        <br />
        1. it works when i compile an ansi version<br />
        <br />
        2. when i compile a unicode version, this segment is causing the problem:<br />
        <pre>
<code>        ${If} ${AtLeastWin2000}<br />                StrCpy "$settingsINI" "$APPDATA\RunWithParameters\settings.ini"<br />                StrCpy "$historyINI" "$APPDATA\RunWithParameters\history.ini"<br />                StrCpy "$defaultsINI" "$APPDATA\RunWithParameters\defaults.ini"<br />                IfFileExists "$APPDATA\RunWithParameters\mydefaults.ini" 0 +2<br />                StrCpy "$mydefaultsINI" "$APPDATA\RunWithParameters\mydefaults.ini"<br />        ${ElseIf} ${AtMostWinME}<br />                StrCpy "$settingsINI" "$EXEDIR\settings.ini"<br />                StrCpy "$historyINI" "$EXEDIR\history.ini"<br />                StrCpy "$defaultsINI" "$EXEDIR\defaults.ini"<br />                IfFileExists "$EXEDIR\mydefaults.ini" 0 +2<br />                StrCpy "$mydefaultsINI" "$EXEDIR\mydefaults.ini"<br />        ${EndIf}</code>
</pre>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
        <span class="post-time small text-muted">31st May 2013 23:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Yathosho</small><br />
          2. when i compile a unicode version, this segment is causing the problem:
        </blockquote>Does not crash for me (tested in a section), please provide a full .nsi<br />
        <br />
        As far as the code goes, what about NT4?
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
        <span class="post-time small text-muted">31st May 2013 23:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Anders</small><br />
          Does not crash for me (tested in a section), please provide a full .nsi
        </blockquote>see attachment, should include everything to compile<br />
        <br />

        <blockquote>
          <small>Originally posted by Anders</small><br />
          As far as the code goes, what about NT4?
        </blockquote>good point, thanks
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
        <span class="post-time small text-muted">1st June 2013 02:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Yathosho</small><br />
          see attachment, should include everything to compile
        </blockquote>My guess is that the crash is in nsArray, please provide sample code that does not use 3rd-party plugins if you want me to investigate further...
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
        <span class="post-time small text-muted">1st June 2013 08:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <small>Originally posted by Anders</small><br />
          My guess is that the crash is in nsArray, please provide sample code that does not use 3rd-party plugins if you want me to investigate further...
        </blockquote>as i said before, i already tried and commented out all plugins and the ui - to no success
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">jpderuiter</span><br />
        <span class="post-time small text-muted">1st June 2013 14:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">By using Messageboxes you can narrow it down to the ForEachIn loop in line 318.<br />
        <br />
        I don't know nsArray, but are you allowed to use StrCpy with it (line 304, 310 and 314)?</p>
      </div>
      <hr />
      <!-- Bootstrap core CSS -->
      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

      <div class="container">
        <!-- Put navigation bar here -->

        <ol class="breadcrumb">
          <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

          <li><a href="f-65.html">NSIS Discussion</a></li>

          <li class="active">NSIS 3.0a0</li>
        </ol>

        <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=361808">NSIS 3.0a0</a></p><br />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
          <span class="post-time small text-muted">1st June 2013 15:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">i'm getting the same problem with this simple script<br />
          <br /></p>
          <pre>
<code>; Settings ---------------------------------<br />OutFile "installer_name.exe"<br />RequestExecutionLevel user<br />Unicode true<br />!include LogicLib.nsh<br />!include WinVer.nsh<br />; Pages ------------------------------------<br />Page instfiles<br />; Sections ---------------------------------<br />Section "section_name"<br />        Quit<br />SectionEnd<br />; Functions --------------------------------<br />Function .onInit<br />        ${If} ${AtLeastWin2000}<br />                MessageBox MB_OK "${__LINE__}"<br />        ${EndIf}<br />FunctionEnd</code>
</pre><br />
          <br />
          seems only to happen on my main windows installation (windows 7 with all patches). works just fine in a vm with windows 2003, on virtualized windows 7 i get as far as the messagebox before the program terminates with an error message (see attachment).
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">jpderuiter</span><br />
          <span class="post-time small text-muted">1st June 2013 15:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">As said in my previous post, I get a crash on your script with nsArray, which you are mixing with StrCpy.<br />
          <br />
          For the Kernelbase.dll error:<br />
          <a href="http://answers.microsoft.com/en-us/windows/forum/windows_7-performance/programs-crash-error-fault-module-kernelbasedll/9fe5d2e7-79d0-42c1-b8dc-51ed8d70f749" target="_blank">http://answers.microsoft.com/en-us/w...c-51ed8d70f749</a></p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
          <span class="post-time small text-muted">1st June 2013 16:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Working on the crash now. It appears to be coming from nsArray.<br />
          <br /></p>

          <blockquote>
            <small>Originally posted by jpderuiter</small><br />
            I don't know nsArray, but are you allowed to use StrCpy with it (line 304, 310 and 314)?
          </blockquote>I very much doubt that this would cause a crash - the value passed to the plug-in at run time should be no different when passing it via a variable or a hard coded string.<br />
          <br />
          Stu
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
          <span class="post-time small text-muted">1st June 2013 17:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            <small>Originally posted by jpderuiter</small><br />
            As said in my previous post, I get a crash on your script with nsArray, which you are mixing with StrCpy
          </blockquote>the executable runs fine when i comment out the first if-statement in onInit, also the ansi version never caused any problems.<br />
          <br />
          i think the bug is caused by WinVer.nsh. when i comment its line 197, my compiled executable does not crash. this is the line:<br />
          <pre>
<code>System::Call kernel32::GetVersionEx(pr0)i.r3</code>
</pre>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">1st June 2013 18:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">The last example doesn't crash for me either. Can you maybe attach the compiled installer too?</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">jpderuiter</span><br />
          <span class="post-time small text-muted">1st June 2013 19:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">...</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">jpderuiter</span><br />
          <span class="post-time small text-muted">1st June 2013 19:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Sorry, my crashes happen because I commented out onGUIInit, because I wanted to test it without parameters.<br />
          <br />
          Yatosho, does your script crash when using /help as parameter?</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
          <span class="post-time small text-muted">1st June 2013 19:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Fixed the memory access violation in nsArray which occurred in the ForEachIn loop (nsArray::Iterate). I tested by running with /install and then running subsequent debugging executions with the default INI file as an argument. I don't get any crashes now.<br />
          <br />
          Edit: I should mention the crash came about because an invalid array name is being used in your ForEachIn loop - it resulted in a NULL pointer in the plug-in and subsequent violation where validation was missing. This should not be an issue now.<br />
          <br />
          Stu</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
          <span class="post-time small text-muted">2nd June 2013 11:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            <small>Originally posted by jpderuiter</small><br />
            The last example doesn't crash for me either. Can you maybe attach the compiled installer too?
          </blockquote>attached<br />
          <br />
          Yatosho, does your script crash when using /help as parameter?[/QUOTE]<br />
          <br />
          yes
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
          <span class="post-time small text-muted">2nd June 2013 11:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">ok, i did some more testing as getting different results on different windows installations seemed strange. computer is virus free, so i renamed my old nsis directory (i installed nsis 3 over nsis 2) and did a clean install of 3.0a. now everything compiles and runs fine. still find it a bit weird (ANSI worked, WinVer seems to have caused this), but for me it's sorted. thanks for all advice.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">bnicer</span><br />
          <span class="post-time small text-muted">2nd June 2013 13:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">I had problem with an installer, where ANSI worked as opposed to UNICODE, that was caused by WinVer. The installer didn't crash, but the ${If} ${AtLeastWin'X'} conditions failed, UNICODE. Though, unlike in Yathosho's example, my script had a mistake. I was including WinVer.nsh before I declared Unicode true/false.<br />
          <br />
          I thought of posting this earlier in response to Yathosho, but it didn't seem related. Maybe it is (worth looking into)? If the Unicode true declaration comes after an included file, a compiler error message would be in order, even though it's an avoidable mistake. I wonder as well if it should be necessary to declare Unicode when the script file is encoded in UNICODE. Make Unicode an optional command?</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
          <span class="post-time small text-muted">2nd June 2013 17:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Thanks Yathosho and bnicer for tracking this down.<br />
          <br />
          The compiler should abort if you use a plugin before switching unicode mode but WinVer does some size calculations when you include it and those are later passed to System::Call, I'll try to come up with a fix for this...</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">mariusnegrutiu</span><br />
          <span class="post-time small text-muted">3rd June 2013 09:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">I'm trying to digitally sign the installer using the new <b>!finalize</b> command.<br />
          Everything works well as long as I don't use "<b>%1</b>" in the command line. If "<b>%1</b>" is used, makensis.exe crashes...<br />
          <br />
          My code goes like this:<br />
          <i>!finalize '"${__FILEDIR__}\SignTool.exe" sign /s MY_CERTSTORE /t "http://timestamp.globalsign.com/scripts/timstamp.dll" /d "Description" /du "http://www.blahblah.com" /v "%1"'</i><br />
          <br />
          Btw, congratulations for reviving NSIS!</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
          <span class="post-time small text-muted">5th June 2013 20:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"><a href="http://nsis.svn.sourceforge.net/viewvc/nsis/NSIS/trunk/Include/WinVer.nsh?view=markup&amp;pathrev=6372" target="_blank">WinVer</a> should be a able to deal with switching modes now but it really is best if the unicode mode is set before files are !included<br />
          <br /></p>

          <blockquote>
            <small>Originally posted by mariusnegrutiu</small><br />
            Everything works well as long as I don't use "<b>%1</b>" in the command line. If "<b>%1</b>" is used, makensis.exe crashes...
          </blockquote>Fixed...
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">extremecarver</span><br />
          <span class="post-time small text-muted">6th June 2013 19:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Is there filesize &gt;2GB support in 3.0a?<br />
          Or will it come with x64 branch?</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
          <span class="post-time small text-muted">6th June 2013 20:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            <small>Originally posted by extremecarver</small><br />
            Is there filesize &gt;2GB support in 3.0a?<br />
            Or will it come with x64 branch?
          </blockquote>No and I'm guessing no, the top bit is already used to store data...
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">extremecarver</span><br />
          <span class="post-time small text-muted">11th June 2013 14:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">thanks for the answer. Well then I hope it will be changed/enabled after x64 intregration sometimes. It would be much better than having the installer call external .zip/7z files (which on top can only be bzip/lzma and not lzma2) to unpack because they don't fit into the 2GB limit.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">yoachan</span><br />
          <span class="post-time small text-muted">14th June 2013 03:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Just want to say thank you for everyone's work. :)<br />
          <br />
          BTW can I use/install both NSIS 2 and NSIS 3 in one PC?<br />
          Would like my project to keep running and be able to test NSIS 3 to tell if I found a bug.<br />
          So amazing that NSIS 3 exist. Even NSIS 2 is already amaze me. :)</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
          <span class="post-time small text-muted">14th June 2013 08:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            <small>Originally posted by yoachan</small><br />
            BTW can I use/install both NSIS 2 and NSIS 3 in one PC?<br />
            Would like my project to keep running and be able to test NSIS 3 to tell if I found a bug.<br />
            So amazing that NSIS 3 exist. Even NSIS 2 is already amaze me. :)
          </blockquote>The startmenu and add/remove programs entries will be taken over, other than that it should not be a problem. Makensis itself does not depend on any kind of system configuration...
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
          <span class="post-time small text-muted">9th July 2013 10:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">are there plans to move the examples (and maybe includes) to the user space? on any modern windows version, the examples won't compile due to lack of privileges. just saying.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
          <span class="post-time small text-muted">9th July 2013 13:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            <small>Originally posted by Yathosho</small><br />
            are there plans to move the examples (and maybe includes) to the user space? on any modern windows version, the examples won't compile due to lack of privileges. just saying.
          </blockquote>Probably not, who would do the copy to $appdata, MakeNSISw?
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
          <span class="post-time small text-muted">9th July 2013 13:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            <small>Originally posted by Anders</small><br />
            Probably not, who would do the copy to $appdata, MakeNSISw?
          </blockquote>the installer, of course!
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
          <span class="post-time small text-muted">9th July 2013 14:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Yes, on Windows 8 you have to run MakeNSISw as an administrator (even with UAC disabled) otherwise it cannot build the example scripts (cannot open output file). Your best bet is just to move the NSIS install directory and change the registry value (or install to AppData).<br />
          <br />
          Stu</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
          <span class="post-time small text-muted">9th July 2013 14:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            <small>Originally posted by Yathosho</small><br />
            the installer, of course!
          </blockquote>No, the installer cannot do that, UAC gets in the way (Wrong user) and does not work for other users on the same machine.
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
          <span class="post-time small text-muted">9th July 2013 16:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">considering that nsis 3.0 is a new major release, i guess it's forgivable to demand a clean install from the user (or offer optional migration). then again, i don't see any harm in allowing both app data <i>and</i> program files, even at the same time (app data would override program files, and program files would serve as fallback.) as a side effect, that would allow different users using different nsis setups, though admittedly that's a small target audience.<br />
          <br />
          one thing is clear: the current situation can be annoying. nobody wants to move scripts all the time or edit the outfile location. a compiler asking for elevation would be equally annoying.<br />
          <br />
          also, must i remind you how often <i>you</i> have advised users to keep data and program files separate? :)</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
          <span class="post-time small text-muted">9th July 2013 16:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            <small>Originally posted by Yathosho</small><br />
            also, must i remind you how often <i>you</i> have advised users to keep data and program files separate? :)
          </blockquote>Do as I say, not as I(We) do :)<br />
          <br />
          I have a rewritten version of the installer that allows per-user installs, not sure if we will adopt it though...
        </div>
        <hr />

        <div class="footer">
          <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
        </div>
      </div><script src="../js/highlight.pack.js" type="text/javascript">
</script> <script type="text/javascript">
//<![CDATA[
      hljs.initHighlightingOnLoad();
      //]]>
      </script>
    </div>
  </div>
</body>
</html>
