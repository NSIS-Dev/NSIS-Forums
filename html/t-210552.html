<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="7-zip messed up"><title>7-zip messed up - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">7-zip messed up</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=210552">7-zip messed up</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">wege</span><br><span class="post-time small text-muted">16th March 2005 05:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>7-zip messed up</strong><br>Dumb as I were, I used 7-Zip to compress some of the data contained in my installer. Everything seemed fine, but now I came to conclusion that 7z.exe DOES NOT work if you don't have the whole 7-zip program installed.<br><br>There's no logical error displayed, only that "data.bin is not valid archive". This "data.bin" is created with 7-zip and is completely valid archive.<br><br>If I go to command prompt and type "7z.exe e data.bin -oData" it displays the "not valid blah blah" error, but if I ALT+TAB myself to Explorer, install 7-zip, go back to command prompt and without doing anything else, type the EXACT same command, it works.<br><br>Kind of sucks, you know. I obviously can't rely on that someone else has 7-zip installed and if he/she doesn't, there's just a 7z.exe window flashing and not even time to read the error message. I'm using RAR32 for DOS from now on. Dammit.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">HGOwen</span><br><span class="post-time small text-muted">16th March 2005 19:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Actually, thats why theres a 7z<b>A</b>.exe file<br><br>7ZA includes everything needed for 7Z internaly :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br><span class="post-time small text-muted">16th March 2005 20:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">if you want to read the error message, call the 7z.exe directly from dos-prompt/cmd-line or this way through a shortcut:<br>7zip.exe &lt;parameters&gt; &gt; error.txt<br>then it writes the output into error.txt, where you can read it :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">16th March 2005 20:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You need to use 7za.exe like HGOwen has pointed out. 7za.exe is the standalone version of 7-Zip.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">16th March 2005 21:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">/me still wishes there was a un7z plugin for nsis :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">16th March 2005 22:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">try winrar...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">16th March 2005 22:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>I'm using RAR32 for DOS from now on. Dammit.</blockquote>He got generally annoyed because he used the wrong 7-Zip command-line executable :D<br><br>-Stu</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">16th March 2005 23:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ups ^^<br><br>i changed from rar to 7za in one project not to brake any law.<br>rar is smaller in archive (a little bit) and packer but 7zip is under gnu gpl or so.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Mad Doggie</span><br><span class="post-time small text-muted">17th March 2005 03:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Yathosho</i><br><b>/me still wishes there was a un7z plugin for nsis :)</b></blockquote>(++)++<br><br>Cheers!<br><br>Luke</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">17th March 2005 08:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Brummelchen</i><br><b>ups ^^<br><br>i changed from rar to 7za in one project not to brake any law.<br>rar is smaller in archive (a little bit) and packer but 7zip is under gnu gpl or so.</b></blockquote>That can be true some times but generally 7z has a much better compression ratio than RAR.<br><br>I tried RAR on my map database site with a total of 92mB of maps (in Zip format). I tried RAR first, and it came down to 71mB. I then tried 7z and it came right down to 57mB!<br><br>However, some guy tried compressing one map in both formats. It was 30mB unpacked, came to 18mB in RAR but came to 21 in 7z he told me. I'm not sure if he packed it properly or not. Perhaps I shall to some more tests some time.<br><br>-Stu</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">17th March 2005 09:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">@afrow<br>i only used parameters for unregistered user (rar) and still<br>use same for 7z - must be possible to open it with any other<br>archiver and it must not slow down a system. it's a backup<br>solution and i dont know any user's system except one ;)<br>best compression is unfortunately not the best solution here.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>