<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Possible new feature?" />

  <title>Possible new feature? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Possible new feature?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=75485">Possible new feature?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pomflain</span><br />
      <span class="post-time small text-muted">12th February 2002 06:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Possible new feature?</strong><br />
      One of the issues I'd been dealing with lately was versioning of the installer executables. Specifically I'd make up a new version and then put it up for local testing, then go add some new changes, tweak a few things, etc. and then end up with someone having an issue and it could be one of ten different versions I made up during the day. So I figured I'd add in a time/date stamp to the installer so then I'd know exactly when the version was made. Someone then pointed out to me that some people might like different versions how the time &amp; date are represented locally, so what I came up with is a bunch of symbols. $MONTH, $DAY, $YEAR, $HOUR, $MINUTE, and $SECOND. So then you could represent things however you want. I then use DetailPrint to write it to the details window.<br />
      DetailPrint "Compiled: $MONTH $DAY $YEAR at $HOUR:$MINUTE:$SECOND"<br />
      <br />
      Does this interest anyone else as a useful feature? I'm sure you can think of many ways to use something along those lines, I was just looking for some way to keep track of versions without too much hassle.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pomflain</span><br />
      <span class="post-time small text-muted">12th February 2002 07:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Ooopppsss</strong><br />
      When I moved things from being a compiler command to the $SYMBOL style, now it's putting in the date at runtime instead of at compile time, just noticed that. Oh well, back to the drawing board for me...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bballer182</span><br />
      <span class="post-time small text-muted">13th February 2002 07:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">sounded kind of nice to me</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pomflain</span><br />
      <span class="post-time small text-muted">13th February 2002 07:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Thanks.</strong><br />
      Well I've added it back in as a separate command, but I liked the added flexibility of using it with the current commands. I suppose I could always add it in with a dll, but I don't really think it's worth the extra overhead, and I don't know if that would work right anyway. So I'm just going to leave it as a new command for right now since I need to have that feature in the installers.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">13th February 2002 15:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It may be simpler to just pass a define on the command line. Something like:<br />
      <br />
      makensis /DLOCALVER=1.11.1 script.nsi<br />
      <br />
      Then you could just say:<br />
      !ifdef LOCALVER<br />
      !define VERSION ${LOCALVER}<br />
      !else<br />
      !define VERSION 1.1<br />
      !endif<br />
      <br />
      Then you just change the define for each of your builds. You could automate the process to do this automatically.<br />
      <br />
      Another solution would be to use an extension dll like the date dll that I wrote. Then create an installer that gets the current date, then executes makensis on the script file using the formatted date as a define as I described above. So you could use an installer to create an installer. If you want the date extension let me know. It lets you create a date format string and call the dll, then it returns the current date in the format you set.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bballer182</span><br />
      <span class="post-time small text-muted">14th February 2002 00:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">sounds even better!:up:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pomflain</span><br />
      <span class="post-time small text-muted">14th February 2002 20:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by rainwater</i><br />
        <b>Another solution would be to use an extension dll like the date dll that I wrote. Then create an installer that gets the current date, then executes makensis on the script file using the formatted date as a define as I described above. So you could use an installer to create an installer. If you want the date extension let me know. It lets you create a date format string and call the dll, then it returns the current date in the format you set.</b>
      </blockquote>Sure, send away.<br />
      <br />
      Thanks.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SmartyMan</span><br />
      <span class="post-time small text-muted">15th February 2002 01:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Re: Possible new feature?</strong><br /></p>

      <blockquote>
        <i>Originally posted by Pomflain</i><br />
        <b>so what I came up with is a bunch of symbols. $MONTH, $DAY, $YEAR, $HOUR, $MINUTE, and $SECOND. So then you could represent things however you want. I then use DetailPrint to write it to the details window.<br />
        DetailPrint "Compiled: $MONTH $DAY $YEAR at $HOUR:$MINUTE:$SECOND"<br />
        <br />
        Does this interest anyone else as a useful feature?</b>
      </blockquote>I've just implemented that in NSISplus, it will be available in the next update; see attachment to get an idea on how it will work (the "${.DATE}" will create alle the defines you wanted using the /D compiler option)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">15th February 2002 03:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here's the dll extension that will create any date format string you want. See <a href="http://forums.winamp.com/showthread.php?threadid=70281" target="_blank">this thread</a>.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
