<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Problems getting Modern UI defines working" />

  <title>Problems getting Modern UI defines working - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Problems getting Modern UI defines working</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=250038">Problems getting Modern UI defines working</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">billsh</span><br />
      <span class="post-time small text-muted">30th June 2006 01:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Problems getting Modern UI defines working</strong><br />
      I'm probably doing something grievously stupid, but I can't seem to see it. I have a number of !defines for various MUI options I want to implement - only one works.<br />
      <br />
      For the images I've tried relative paths, $EXEDIR, and full paths, but no images ever show up. Header image is 24bpp, 150x57 and does exist.<br />
      <br />
      Out of all the !defines in the script, only the finish run options appear to work. None of the other image/text/abort options work.<br />
      <br />
      I've looked a gobs of postings on this and the script looks like it *should* work. I'm on v2.16. For almost all of these to fail implies I've done something silly or just have the wrong version of something! I don't see anything alarming in the log file. When I launch, the header area is empty (white) as is the central region where the side bar graphic would go (on the left) as well as the text area (except for the last page).<br />
      <br />
      Any clues?<br />
      <br />
      Thanks all!<br />
      <br />
      SetCompressor lzma<br />
      Var MUI_TEMP<br />
      <br />
      !include "defines.nsh"<br />
      !include "MUI.nsh"<br />
      <br />
      <br />
      Name "${APPNAME}"<br />
      InstallDir "$PROGRAMFILES\${APPNAME}"<br />
      OutFile "${OUTPUT_FILE}.exe"<br />
      CRCCheck Off<br />
      <br />
      SetPluginUnload alwaysoff<br />
      SetDateSave on<br />
      SetDatablockOptimize on<br />
      XPStyle on<br />
      <br />
      ;-------------------------------- install Pages Settings<br />
      <br />
      ;read this might help. Didn't.<br />
      ;!insertmacro MUI_LANGUAGE English<br />
      !define MUI_HEADERIMAGE<br />
      !define MUI_HEADERIMAGE_BITMAP "c:\projects\root\gameinstaller\header\win.bmp"<br />
      ; !define MUI_WELCOMEFINISHPAGE_BITMAP 'win.bmp'<br />
      !define MUI_WELCOMEPAGE_TITLE "Test"<br />
      !define MUI_WELCOMEPAGE_TEXT "Why won't this display - My kingdom for a bleedin' horse?!!?!!"<br />
      !define MUI_WELCOMEPAGE_TITLE_3LINES<br />
      !define MUI_FINISHPAGE_TITLE_3LINES<br />
      !define MUI_ABORTWARNING<br />
      ; These next two work, nothing else does<br />
      !define MUI_FINISHPAGE_RUN "$INSTDIR\${RUN_FILE}"<br />
      !define MUI_FINISHPAGE_RUN_TEXT "Run ${APPNAME}"<br />
      <br />
      !insertmacro MUI_PAGE_WELCOME<br />
      !ifdef EULA_FILE<br />
      !insertmacro MUI_PAGE_LICENSE "${EULA_FILE}"<br />
      !else<br />
      !insertmacro MUI_PAGE_LICENSE "EULA.rtf"<br />
      !Endif<br />
      !insertmacro MUI_PAGE_DIRECTORY<br />
      !insertmacro MUI_PAGE_INSTFILES<br />
      !insertmacro MUI_PAGE_FINISH<br />
      ;--------------------------------Uninstall Pages Settings<br />
      !define MUI_WELCOMEPAGE_TITLE_3LINES<br />
      !define MUI_FINISHPAGE_TITLE_3LINES<br />
      !insertmacro MUI_UNPAGE_WELCOME<br />
      !insertmacro MUI_UNPAGE_INSTFILES<br />
      !insertmacro MUI_UNPAGE_FINISH</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">billsh</span><br />
      <span class="post-time small text-muted">30th June 2006 01:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Why is it that one figures this stuff out about 1/1000th of a second after hitting 'post'? I moved the MUI_LANGUAGE *after* the page defines and now its all working.<br />
      <br />
      Ever feel like your job in life is to make other people look smart! :cry:</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
