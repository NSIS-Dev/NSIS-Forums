<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to prompt for multiple file destinations..."><title>How to prompt for multiple file destinations... - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to prompt for multiple file destinations...</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=98801">How to prompt for multiple file destinations...</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">beez</span><br><span class="post-time small text-muted">12th August 2002 21:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to prompt for multiple file destinations...</strong><br>I am writing an install that will install files to various directories based on the users preferences. Some could be installed to the 'C:\program files\app' directory, others to '\\server\c\xml' and others to a mapped network drive 'g:\shared\users\me\app'. Under certain circumstances, files could be spread to 8 different folders that will be logged in the registry by the installer.<br><br>My problem is I'm having trouble getting the NSIS to prompt for more than just the default install directory. I've tried to save the $INSTDIR to a temp file and re-promtp but I don't have access to the StrCpy function outside of a section or Function.<br><br>I'm probably missing something pretty simple, but this is my first day with NSIS. I have been using Installshield Developer 7 and am VERY VERY disappointed with the number and severity of bugs in the application.<br><br>Thanks in advance,<br><br>beez</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">12th August 2002 22:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Use InstallOptions. You can find the documentation in the Contrib\InstallOptions directory.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">beez</span><br><span class="post-time small text-muted">13th August 2002 21:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Thanks for the hlep... I have another quesiton...</strong><br>I have it so it will prompt for the additional directories using the InstallOptions as you have stated above. Thanks for your help!!<br><br>I have another question, is there any way to have the application pass the $INSTDIR and any other variables to the form? Do I need to have have application automatically insert or update a line in the ini file?<br><br>Thanks,<br><br>Beez</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">13th August 2002 21:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You will, like you said, have to update the INI file. To do so use WriteINIStr.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">beez</span><br><span class="post-time small text-muted">14th August 2002 15:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>I'm trudging along</strong><br>Thanks for the help again! :)<br><br>I have yet another question. This one involves displaying multiple pages. I have my license agreement, then my first promp for directories. I would like to have two more directory prompts to appear when the user presses the next button. However, after I display the first prompt for directories and press next, the application installs, then asks the second prompt, but never the third.<br><br>I'm using the following code:<br><br>[edited by kichik script attached below]<br><br>Any ideas as to what I'm doing wrong?<br><br>Thanks,<br><br>Beez</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">14th August 2002 16:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't see ConfigureFunctions in your scripts so I can't quite tell why it doesn't work. You can use <a href="http://www.clantpa.co.uk/nsis/wiki/index.php/MultIni4" target="_blank">MultIni4</a> to show more than one dialog with ease.<br><br>Next time please attach large scripts.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">beez</span><br><span class="post-time small text-muted">14th August 2002 19:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>how do the screens work</strong><br>Thanks Kichik for the help. I have another problem. How do the screens work? The way I want it to work is have the license agreement, then my first directory, then second directory, then third group of directories, then install. Using the Multini4 macro I'm passing 01ABC345, where 0 is before the screens from what I read, 1 is the license agreement, ABC are my screens and then I'm lost. I want the program to install when the user leaves the C screen but I'm not able to get this to work. I've played around with the different screen and the best I can get is another screen after the C screen that looks like the license agreement without the license txt but with the I ACCEPT button on the bottom right corner. When I press this button it installs.<br><br>Sorry for all the questions, but your help is GREATLY appreciated.<br><br>Thanks,<br><br>beez</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">14th August 2002 19:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You forgot page number 2. You passed 01ABC345 instead of 01ABC2345.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">beez</span><br><span class="post-time small text-muted">14th August 2002 19:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Stanks again!!!</strong><br>OOOPS! :igor:<br><br>I had 01ABCD345... When I changed it to 01ABC2345 as you suggested it worked like a charm!<br><br>Thanks!!!!!!!<br><br>Beez</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">14th August 2002 19:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Great, glad I could help :D</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>