<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Multiple choice messagebox?"><title>Multiple choice messagebox? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Multiple choice messagebox?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=232507">Multiple choice messagebox?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">John P.</span><br><span class="post-time small text-muted">4th December 2005 15:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Multiple choice messagebox?</strong><br>Hi.<br><br>I'd like to have a messagebox that would have three choices. The user would choose between this that or the other option. The buttons could be called 1 2 and 3 (but it would be nice to be able to name them something else as well).<br><br>Could anyone give me an example of how to do this, if it's possible?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">4th December 2005 16:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">This can be done by using the <a href="http://nsis.sourceforge.net/Customisable_MessageBox_Plugin" target="_blank">Customisable MessageBox plug-in</a>. An example is included with the contribution.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">John P.</span><br><span class="post-time small text-muted">4th December 2005 19:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks, I'll take a look at that. :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">vbgunz</span><br><span class="post-time small text-muted">4th December 2005 21:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Amazing... I came to the forums to search for this exact question. Without searching, it just happened to be the very first question in queue on the forums...<br><br>Thank you both, I needed this!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">John P.</span><br><span class="post-time small text-muted">5th December 2005 13:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Bah... I have the IQ of a dead mule, so I need some help.<br><br>I've been reading the example.nsi and the readme, but I can't get through my thick skull how I'm supposed to use labels with this thing. I mean - if I have three buttons, I want it to work like: "click button 1 = goto label 1" "click button 2 = goto label2", and so on.<br><br>So how does this work?<br><br>Here's what I've got so far, but it doesn't work, obviously - the labels aren't used, so no matter what button I click, it goes to the first messagebox on the list. But it's as far as I've got (names changed etc.):<br><br></p><pre>
<code><br>Section ""<br>       messagebox::show MB_ICONEXCLAMATION "" "" "You are removing the Example.txt file. \ <br>$\n$\nYou now have a couple of choices:$\n$\n1: Restore the Original Example1.txt file.$\n$\n2: \ <br>Restore the even Older Example0.txt file.$\n$\n3:  \ <br>Extract the very Latest Example2.txt file.$\n" Original Older Latest<br>Original:<br>MessageBox MB_OK "Original text file restored."<br>Goto End<br>Older:<br>MessageBox MB_OK "Older text file restored."<br>Goto End<br>Latest:<br>MessageBox MB_OK "Latest text file extracted."<br>End:<br>SectionEnd</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DrO</span><br>
      <span class="post-time small text-muted">5th December 2005 14:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">you can't use labels with the plugin but will need to do a comparison on the returned value ($0) and use that for deciding where the jump is made to. using logiclib's ${if} $else{} (i think they're correct) should help.<br>
      <br>
      if you're keeping an eye on the plugin's main thread you'll see i'm trying to sort out issues with the plugin over the next few days to at least make it useable (i hope)<br>
      <br>
      -daz</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">John P.</span><br>
      <span class="post-time small text-muted">5th December 2005 15:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">OK, thanks.<br>
      <br>
      -But what am I doing wrong in the script now then? :<br>
      <br>
      <b>[edited] I had a question here, but now suddenly I got the script below to work! The only thing I had forgotten, was the Pop $0. I have now updated the script below, and it works!! :) [/edited]</b><br>
      <br></p>
      <pre>
<code><br>Name "Customized MessageBox Test File"<br>OutFile "Customized MessageBox Test.exe"<br>!include "LogicLib.nsh"<br><br>Section ""<br>       messagebox::show MB_ICONEXCLAMATION "" "" "You are removing the Example1.txt file. \<br>$\n$\nYou now have a couple of choices:$\n$\n1: Restore the Original Example.txt file.$\n$\n2: \<br>Restore the even Older Example0.txt file.$\n$\n3:  \<br>Extract the very Latest Example2.txt file.$\n" "Original" "Older" "Latest"<br><br>Pop $0<br><br>${if} $0 == 1<br>MessageBox MB_OK "Original text file restored."<br>Goto End<br>${endif}<br><br>${if} $0 == 2<br>MessageBox MB_OK "Older text file restored."<br>Goto End<br>${endif}<br><br>${if} $0 == 3<br>MessageBox MB_OK "Latest text file extracted."<br>${endif}<br>End:<br>SectionEnd</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DrO</span><br>
      <span class="post-time small text-muted">5th December 2005 16:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">that works fine for me :)<br>
      <br>
      i'm thinking with the re-working to allow a given buffer/variable to be set as the default to be used by the plugin instead of hard coded to $0 (which would remain as the default) to possibly fix some of the stack usage issues it can cause (though i'd need to test out it's viability first)<br>
      <br>
      -daz</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>