<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="problem with icon for shortcut" />

  <title>problem with icon for shortcut - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">problem with icon for shortcut</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=113870">problem with icon for shortcut</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">vermeerp</span><br />
      <span class="post-time small text-muted">12th November 2002 21:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>problem with icon for shortcut</strong><br />
      Hi,<br />
      <br />
      I've successfully created a shortcut on my desktop and included an icon to use:<br />
      <br />
      CreateShortCut "$DESKTOP\ISU DiagnosticPathfinder.lnk" \<br />
      "C:\Program Files\Java Web Start\javaws.exe" \<br />
      '"$INSTDIR\DMDiagnosticPathfinder\AMDiagnosticPathfinder.jnlp"' \<br />
      '"$INSTDIR\DMDiagnosticPathfinder\RBDP.gif.ico"' \<br />
      0<br />
      <br />
      The problem is that when the shortcut is created, one of the Windows generic icons is displayed instead of the one I specified. When I right click on the shortcut and look at the shortcut properties and select "Change Icon", the icon that is listed is the correct one, but that one is not displayed until I click "OK" within the "Change Icon" dialog.<br />
      <br />
      Any suggestions on how to eliminate this behavior and get it to automatically display the correct icon?<br />
      <br />
      BTW, my OS is Windows 2000.<br />
      <br />
      THanks,<br />
      <br />
      Pam</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cony</span><br />
      <span class="post-time small text-muted">13th November 2002 07:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Save your icon as a really .ico file.<br />
      Maybe your ico file is a gif file. I just guess from your filename.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">treaz</span><br />
      <span class="post-time small text-muted">22nd January 2003 20:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br />
      <br />
      Can someone please tell me if there is anything wrong with my code here:<br />
      <br /></p>
      <pre>
<code>CreateShortCut</code><span style="color: #DD0000">"$SMPROGRAMS\${MUI_STARTMENU_VARIABLE}\Start.lnk""$INSTDIR\run.bat""Start32x32.ico"
</span>
</pre>After installation, my icon does not get used. The system icon still persists.<br />
      <br />
      Thanks.<br />
      :)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">treaz</span><br />
      <span class="post-time small text-muted">22nd January 2003 21:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br />
      <br />
      I managed to solve it with:<br /></p>
      <pre>
<code>CreateShortCut</code><span style="color: #DD0000">"$SMPROGRAMS\${MUI_STARTMENU_VARIABLE}Start.lnk""$INSTDIR\run.bat""""Start32x32.ico"
</span>
</pre>:D
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">virtlink</span><br />
      <span class="post-time small text-muted">24th January 2003 14:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's because the NSIS compiler cannot guess that you're referring to the icon.file argument. It thinks that it is a parameter for the shortcut.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
