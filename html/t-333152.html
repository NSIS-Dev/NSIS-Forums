<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Relative path question (Resolved)" />

  <title>Relative path question (Resolved) - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Relative path question (Resolved)</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=333152">Relative path question (Resolved)</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">siegeon</span><br />
      <span class="post-time small text-muted">3rd August 2011 17:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Relative path question (Resolved)</strong><br />
      I recently joined a company who is using NSIS for their installer scripts, so I do not know much about them. I have been trying to set up the pathing of the files to add to the installer to be relative, but all my attempts are failing. As an example here they are adding the program files that will be included in the install.<br />
      <br />
      ; program files<br />
      SetOutPath "$INSTDIR"<br />
      SetOverwrite ifnewer<br />
      File "C:\Users\me\Documents\VisualStudio\2010\Projects\project\subfolder\bin\Release\company.Windows.exe"<br />
      <br />
      I would like the c:\Users\me portion to be relative so that we could all use the same script without changing the user all of the time.<br />
      <br />
      I have tried a few things like<br />
      $DOCUMENTS\visualStudio\2010...<br />
      But I think I'm constructing the script wrong, or not using the Constants right, any suggestions?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">3rd August 2011 17:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">$DOCUMENTS is a runtime variable, while the compiler needs a compiletime path. You can read an environment variable during compile IIRC... Have you tried searching the forums for a bit? I can't remember where I saw it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">siegeon</span><br />
      <span class="post-time small text-muted">3rd August 2011 17:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have been dredging through the forums, it does not have to be $DOCUMENTS, that was just an example. I just figured there was a simple way that I was overlooking.<br />
      <br />
      Oh I have tried to use ${__FILEDIR__} as well, but with the same result of file not found.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">siegeon</span><br />
      <span class="post-time small text-muted">3rd August 2011 17:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Got it, never mind =)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">3rd August 2011 20:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Feel free to mention the solution here, for posterity's sake. :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">siegeon</span><br />
      <span class="post-time small text-muted">4th August 2011 15:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Solution</strong><br />
      Like a tard I did not realize that the installer already knew where it was, and I could use ./ syntax to move the folder I needed. Since the .nsi script is stored in the project I was able to replace the whole path<br />
      <br />
      File "C:\Users\Me\Documents\Visual Studio 2010\Projects\Project\CFO\bin\Release\Gyrum.Data.SqlServerCe35.dll"<br />
      <br />
      with<br />
      <br />
      FILE ".\CFO\bin\Release\Gyrum.Data.SqlServerCe35.dll"<br />
      <br />
      making the installer work on everyone's machine.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
