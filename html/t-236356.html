<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="I'm out of brainpower. Help me with this?"><title>I'm out of brainpower. Help me with this? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">I'm out of brainpower. Help me with this?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=236356">I'm out of brainpower. Help me with this?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Andy J</span><br><span class="post-time small text-muted">25th January 2006 14:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>I'm out of brainpower. Help me with this?</strong><br>Hey everyone, first off, my apologies. I've looked through the manuals, and to be honest, my mind is boggled. I've previously written a few nice install scripts and used a few different plugins etc.<br><br>Basically, I need help on how to implement the following idea.<br><br>I have a program that needs updating. In the older version (1.0) there is 1 dll file need updating. In the new version (2.0) there is also 1 dll file, with the same name, that needs updating.<br>So, I have 2 dll files, that I want to update. They are the same, but the dll from V1 cannot be installed to any V2 installation. So first of all, after the licence pages etc, I need the user to have two options, either 1.0 or 2.0. (Perhaps in radio buttons??)<br><br>Ok, so after that, the DLL needs to be configured for certain options. I have three different options for the DLL (depending on internal values the program will operate differently.) and I was thinking next, a page with three dropdown menus, where the user can select a value for each option. Then continue to the install pages etc etc. Is this possible?<br><br>Many, many, many thanks if you can solve my problem. BTW I am using MUI.nsh, and the latest (and greatest) version of NSIS.<br><br>EDIT: The reason for this is that the number of options I am going to be included is massive, using installoptions would get VERY messy. So instead of the default InstallOptions page, I'd like the page with three dropdown menus (obviously, two different versions of that page depending on what version the user had (v1 or v2) )</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">26th January 2006 17:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">From the <a href="http://nsis.sourceforge.net/How_can_I_get_input_from_the_user" target="_blank">FAQ</a>:</p><blockquote>Use InstallOptions plug-in to create custom dialogs during the installation process. For an examples, see the 'Examples\InstallOptions' folder. For documentation, see the 'Docs\InstallOptions' folder.</blockquote></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Andy J</span><br><span class="post-time small text-muted">27th January 2006 02:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">AHH.<br><br>Please help me. I've run into some very sticky problems, which I now can't get my head around.<br><br>Here is my original script.<br><br>[edit]script attached below[/edit]<br><br>Now, instead of the Components page, I would like to make<br>the INI with the three pulldown menus. Based on the user<br>selections in the three menus, different files will be<br>chosen. I have read the documentations, but I must say I'm<br>still finding it quite difficult to understand :( Please<br>help! How would I change my script to go about this.<br><br>Ok, here's what I understand so far. I need to create a<br>custom page, inbetween the licence and directory pages<br>(instead of the components page?) Do this by way of a .ini<br>file. If anyone could help with that one too, I'd be very<br>grateful. I need to combine the user inputs of those three<br>different fields, and by those inputs choose the 1 file<br>that the user needs. (User choose a time limit of 15 mins,<br>a speed of 30 knots and a turn speed of 15 knots, and then<br>the script knows to choose the DLL with that settings in it.)<br>As far as that is concerned, I am confused as to how to relate these user input values, to the installsection values?<br>I'm sorry that I've kinda flipped off the deepend :) Any help<br>at all is appreciated as I don't think I can really<br>accomplish what I'm trying to on my own.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">glory_man</span><br><span class="post-time small text-muted">27th January 2006 14:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">There are some utilities than can help you to create custom dialog (<a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=230972&amp;highlight=form+designer" target="_blank">Form designer</a>, and HMNIS io_editor). Use<br></p><pre>
<code>Page custom PageCreate PageLeave</code>
</pre><br>Use PageCreate function to prepare and display custom dialog (don't forget extract ini-file before):<br><pre>
<code><br>!insertmacro MUI_INSTALLOPTIONS_DISPLAY "dialog.ini"<br></code>
</pre><br>
      Use PageLeave function to check which values user was selected. For this use MUI_INSTALLOPTIONS_READ macro (read your ini file).<br>
      For example in your custom dialog there are only 3 droplists ("Field 1", "Field 2" and "Field 3"). Following code store in $R1 user selected value for seond droplist:<br>
      <pre>
<code><br>!insertmacro MUI_INSTALLOPTIONS_READ $R1 "dialog.ini" "Field 2" "State"<br></code>
</pre><br>
      Depending this selection you can choose which setion you need to install.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">27th January 2006 15:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please attach large scripts. I've attached your script to this post.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Andy J</span><br>
      <span class="post-time small text-muted">28th January 2006 14:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thankyou, and sorry for inserting a large script.<br>
      <br>
      I'll go and try your suggestions, seems a lot clearer now though :)</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script type="text/javascript" src="../js/highlight.pack.js" async>
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>