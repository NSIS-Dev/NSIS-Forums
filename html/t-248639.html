<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Question about user input from INI to text" />

  <title>Question about user input from INI to text - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Question about user input from INI to text</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248639">Question about user input from INI to text</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Potz</span><br />
      <span class="post-time small text-muted">13th June 2006 19:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Question about user input from INI to text</strong><br />
      I know that getting what a user has input is something like this<br />
      <br />
      ReadINIStr $R1 "ServerIP.ini" "Field 2" "State"<br />
      <br />
      and writing to a text file is<br />
      <br />
      FileWrite $0 "some text"<br />
      <br />
      Now what I am wondering is how do you go from taking text from the text box of the ini file and putting it into the text file.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kgobel</span><br />
      <span class="post-time small text-muted">13th June 2006 19:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">almost seems like you answered your own question..<br />
      <br />
      The first line reads what's in the text box and stores it in $R1 (a variable sortof), then if your second line is right...then all you would have to do is replace the "some text" with $R1...(I believe)<br />
      <br />
      Try it out and see if that works, I'm not really sure, I'm brand new to NSIS and have never used the FileWrite function before..if it doesn't work post back and i'll get it working</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Potz</span><br />
      <span class="post-time small text-muted">13th June 2006 19:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yeah I tried that... didn't work. It did work if I did leave is just "test" or "some text" though. I would really appreciate it if I could figure it out, it has really been bugging me lol... no matter where I look I can't seem to find any good example code for something like this.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">13th June 2006 20:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>
      <pre>
<code>ReadINIStr $R0 "$PLUGINSDIR\ServerIP.ini" "Field 2" "State"<br /><br />FileOpen $R1 "$INSTDIR\file.txt" w<br />FileWrite $R1 $R0<br />FileClose</code>
</pre><br />
      <br />
      Can't be any simpler really.<br />
      Just make sure you use the code in the custom pages' Leave function:<br />
      <br />
      Page Custom ShowFunc LeaveFunc<br />
      <br />
      -Stu
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Potz</span><br />
      <span class="post-time small text-muted">13th June 2006 20:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ohhh ok I must have forgotten $PLUGINSDIR... I figured it was something simple. Thanks Afrow UK</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">13th June 2006 20:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No problem. I guessed that might be the issue. You can<br />
      !insertmacro MUI_INSTALLOPTIONS_READ "ServerIP.ini" "Field 2" "State"<br />
      if you want instead (which puts $PLUGINSDIR in for you).<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
