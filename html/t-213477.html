<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="What happened to CVS binaries?" />

  <title>What happened to CVS binaries? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">What happened to CVS binaries?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=213477">What happened to CVS binaries?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">18th April 2005 05:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>What happened to CVS binaries?</strong><br />
      I can't find MakeNSIS.exe or MakeNSISW.exe any more.<br />
      Does this have something to do with SCons?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">18th April 2005 09:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes. You can find them on nighly developed snapshots for now, but not to the latest.<br />
      <br />
      I just don't know what will happen to NSIS Update:<br />
      - Will it be updated to download dev. snapshots?<br />
      - Will kichik separate the binaries from dev. snapshots to create a binary only dev snapshot?<br />
      - Or will he host binary files somewhere on nsis.sf.net?<br />
      - More?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">19th April 2005 18:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The executables were removed from CVS because that's just not their place. I've uploaded them by mistake to CVS at first but kept doing it because it allowed people to skip compiling NSIS. However, now that there's a very easy way to compile the entire NSIS package (well, except the Math plug-in, the Library registration tool and the NSIS Menu), there's no longer need for it. All you need is a compiler (Microsoft Visual C++ Toolkit 2003 and the Platform SDK, which are both free, are good enough) and <a href="http://www.scons.org/" target="_blank">SCons</a>. If you don't want to install <a href="http://www.python.org" target="_blank">Python</a> for SCons, see <a href="http://www.scons.org/cgi-bin/wiki/Win32Exectable" target="_blank">this page</a>.<br />
      <br />
      The nightly development snapshots no longer contain the executables as they are still just a simple CVS dump. I hope to get an automated build up soon, but I don't have a Windows computer which is constantly running and am having a hard time running cl.exe on WINE.<br />
      <br />
      I still don't know what I'm going to do with NSIS Update. It'll probably allow you to download a real nightly snapshot which also contains compiled sources. Having it update from CVS is no longer useful, so that'll surely go away at some point.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">19th April 2005 22:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">OK, fair enough.<br />
      I downloaded SCons.<br />
      I have MSVC++ 2003 Toolkit and Platform SDK.<br />
      What next?'<br />
      I made sure that the appropriate paths and environment variables were set by running vcvars32.bat for VC++ 2003 Toolkit and registering the PSDK directories as well.<br />
      I then tried running Scons and got a bunch of errors:<br /></p>
      <pre>
<code><br />C:\projects\NSIS&gt;"\Program Files\SCons\scons.exe"<br />scons: Reading SConscript files ...<br /><br />scons: warning: Ignoring missing SConscript 'SCons\Config\ms'<br />File "SConstruct", line 73, in ?<br />TypeError: unsubscriptable object:<br />  File "C:\Program Files\SCons\scons-local-0.96.1\SCons\Script\__init__.py", line 1103:<br />    None<br />  File "C:\Program Files\SCons\scons-local-0.96.1\SCons\Script\__init__.py", line 1097:<br />    None<br />  File "C:\Program Files\SCons\scons-local-0.96.1\SCons\Script\__init__.py", line 903:<br />    None<br />  File "C:\Program Files\SCons\scons-local-0.96.1\SCons\Script\SConscript.py", line 239:<br />    None<br />  File "SConstruct", line 79:<br />    None<br /></code>
</pre><br />
      Apparently some additional configuration is needed before Scons can do its magic.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">19th April 2005 22:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have created a news item on the website that explains how to compile using the toolkit, mingw and the usual vc. Take a look at it:<br />
      <br />
      <a href="http://nsis.sourceforge.net/index.php?id=17&amp;backPID=17&amp;tt_news=22" target="_blank">http://nsis.sourceforge.net/index.ph...=17&amp;tt_news=22</a><br />
      <br />
      SCons doesn't yet support the toolkit out of the box, so you have to tell it to use the toolkit by adding MSTOOLKIT=yes on the command line.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">20th April 2005 02:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">With the windows compiled binary:<br /></p>
      <pre>
<code><br />C:\projects\NSIS&gt;"\Program Files\SCons\scons.exe" -j4 MSTOOLKIT=yes<br />scons: Reading SConscript files ...<br /><br />scons: *** No tool named 'mstoolkit': No module named mstoolkit<br />File "SConstruct", line 66, in ?<br /></code>
</pre><br />
      <br />
      Using python:<br />
      <pre>
<code><br />C:\projects\NSIS&gt;\Python23\scons -j4 MSTOOLKIT=yes<br />scons: Reading SConscript files ...<br /><br />scons: *** No tool named 'mstoolkit': No module named mstoolkit<br />File "SConstruct", line 66, in ?<br /></code>
</pre><br />
      <br />
      So where can I get the mstoolkit module?<br />
      <br />
      [edit]<br />
      Never mind- I had to update CVS to fetch the new Scons directory.<br />
      I got a few warnings and it craps out if hhc.exe is not in the path.<br />
      <br />
      Just curious- what is the advantage of scons over regular make?<br />
      <br />
      For the record, these are the warnings I get:<br />
      <pre>
<code><br />Contrib\System\Source\Buffers.c(49) : warning C4047: 'function' : 'int' differs in levels of indirection from 'HANDLE'<br />Contrib\System\Source\System.c(636) : warning C4047: '=' : 'int' differs in levels of indirection from 'HANDLE'<br />Contrib\System\Source\System.c(636) : warning C4047: '=' : 'HANDLE' differs in levels of indirection from 'int'<br />Contrib\System\Source\System.c(644) : warning C4047: '=' : 'int' differs in levels of indirection from 'char *'<br />Contrib\System\Source\System.c(653) : warning C4244: '=' : conversion from '__int64' to 'int', possible loss of data<br />Contrib\System\Source\System.c(934) : warning C4090: '=' : different 'volatile' qualifiers<br /></code>
</pre><br />
      [/edit]
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">20th April 2005 08:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Scons</strong><br />
      Hello i tried the new scons system and i got an error with the command<br />
      GetLaunchDir() and Environment().<br />
      I dont understand what's wrong,<br />
      I installed the standalone scons and added it to the path, then tried scons -j4...<br />
      I hope you can help me<br />
      <br />
      bye</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">20th April 2005 13:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Attach the error log. Which compiler are you using?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">20th April 2005 17:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This system is great. The problem is the number files that appear after you compile, like the build and .sconf_temp folders... I recommend some "os.remove(paths)" lines after compilation.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">20th April 2005 18:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">A lot of the files it creates (e.g., in build) are for caching - so that it doesn't have to build them again.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">21st April 2005 02:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Oh, the "-c" parameter does exactly that in the command-line.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">21st April 2005 16:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">iceman_k, the benefits of scons over make are described under "What makes SCons better?" in <a href="http://www.scons.org" target="_blank">www.scons.org</a> better than I could describe them.<br />
      <br />
      deguix, unlike the old method, all of the build files are under one directory, which is much cleaner. But unlike the old build system, this one can install only the built stuff into another directory. It doesn't work perfectly in the current version I've uploaded, but soon enough, all you'd have to do to install NSIS from source is execute:</p>
      <pre>
<code>scons -j4 --random install PREFIX="C:\Program Files\NSIS"</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">21st April 2005 17:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks, looking foward to it.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
