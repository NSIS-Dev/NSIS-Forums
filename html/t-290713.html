<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="EnvironmentError: No module named _md5"><title>EnvironmentError: No module named _md5 - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">EnvironmentError: No module named _md5</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290713">EnvironmentError: No module named _md5</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">luolong</span><br><span class="post-time small text-muted">23rd April 2008 13:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>EnvironmentError: No module named _md5</strong><br>Hello,<br><br>I am trying to build the makensis for Solaris, so that I could include it in our nightly build process and after I had our server admin install python and scons in it, I downloaded the latest nsis source (and zipped binary) and kicked off the scons build.<br><br>in not too long, I got an error message stating the _md5 library is missing:<br><br></p><pre>
<code><br>scons: Reading SConscript files ...<br>EnvironmentError: No module named _md5:<br>  File "/home/luolong/nsis-2.36-src/SConstruct", line 1:<br>    EnsurePythonVersion(1,6)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Script/SConscript.py", line 594:<br>    env = self.factory()<br>  File "/usr/local/lib/scons-0.98.2/SCons/Script/SConscript.py", line 574:<br>    default_env = SCons.Defaults.DefaultEnvironment()<br>  File "/usr/local/lib/scons-0.98.2/SCons/Defaults.py", line 90:<br>    _default_env = apply(SCons.Environment.Environment, args, kw)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Environment.py", line 933:<br>    apply_tools(self, tools, toolpath)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Environment.py", line 106:<br>    env.Tool(tool)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Environment.py", line 1583:<br>    tool(self)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Tool/__init__.py", line 175:<br>    apply(self.generate, ( env, ) + args, kw)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Tool/default.py", line 40:<br>    for t in SCons.Tool.tool_list(env['PLATFORM'], env):<br>  File "/usr/local/lib/scons-0.98.2/SCons/Tool/__init__.py", line 655:<br>    env)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Tool/__init__.py", line 543:<br>    return filter (ToolExists, tools)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Tool/__init__.py", line 542:<br>    return Tool(tool).exists(env)<br>  File "/usr/local/lib/scons-0.98.2/SCons/Tool/__init__.py", line 89:<br>    module = self._tool_module()<br>  File "/usr/local/lib/scons-0.98.2/SCons/Tool/__init__.py", line 140:<br>    raise SCons.Errors.EnvironmentError, e<br></code>
</pre><br>
      <br>
      Has anyone else been hit by this?<br>
      <br>
      I am a complete newb when it comes to building nsis from source and/or using scons, so at least some assistance would be greatly appreciated :)<br>
      <br>
      Thanks
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">23rd April 2008 14:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Do you have md5 module installed for Python? It should come with the default configuration, but maybe Solaris played with it a bit.<br>
      <br>
      Maybe adding the following to SConsctruct will do the trick as they'll cause scons not to use md5.</p>
      <pre>
<code>SourceSignatures('timestamp')<br>TargetSignatures('timestamp')</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">luolong</span><br>
      <span class="post-time small text-muted">23rd April 2008 15:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The problem was actually in python installation that had some trouble ith openSSH libraries.<br>
      <br>
      now that this has been resolved, scons gets much further, but still gets stuck at the point it is supposed to start compiling.<br>
      <br>
      It seems scons expects CC compiler whereas we have gcc instead:<br></p>
      <pre>
<code><br>-bash-3.00$ scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all\<br> NSIS_CONFIG_CONST_DATA_PATH=no PREFIX=/home/luolong/nsis-2.36 install-compiler<br>scons: Reading SConscript files ...<br>Delete("nsis-23-Apr-2008.cvs")<br>Delete(".instdist")<br>Delete(".test")<br>Using default tools configuration<br>Checking for C library gdi32... (cached) no<br>Checking for C library user32... (cached) no<br>Checking for C library pthread... (cached) no<br>Checking for C library iconv... (cached) no<br>Checking for C library dl... (cached) no<br>Checking for C library gdi32... (cached) no<br>Checking for C library iconv... (cached) no<br>Checking for C library pthread... (cached) no<br>Checking for C library user32... (cached) no<br>Checking for C++ library cppunit... (cached) no<br>scons: done reading SConscript files.<br>scons: Building targets ...<br>CC/CC -o build/release/makensis/build.o -c -D_WIN32_IE=0x0500 Source/build.cpp<br>sh: CC/CC: not found<br>scons: *** [build/release/makensis/build.o] Error 1<br>scons: building terminated because of errors.<br></code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">23rd April 2008 15:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's scons being unable to find your C compiler. Try helping it a bit by specifying PATH=/path/to/CC.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">luolong</span><br>
      <span class="post-time small text-muted">23rd April 2008 15:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by kichik</i><br>
        <b>That's scons being unable to find your C compiler. Try helping it a bit by specifying PATH=/path/to/CC.</b>
      </blockquote>I can easily access gcc from my command line, so it is already on the PATH<br>
      <br>
      (the system i am trying to build makensis on, does not have CC)
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">23rd April 2008 15:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">scons doesn't use your PATH, it builds its own.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">luolong</span><br>
      <span class="post-time small text-muted">23rd April 2008 16:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thanks, that seemed to help, but now I get "Error 127":<br></p>
      <pre>
<code><br>-bash-3.00$ scons PATH=/usr/sfw/bin SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all\<br> NSIS_CONFIG_CONST_DATA_PATH=no PREFIX=/home/luolong/nsis-2.36 install-compiler<br>scons: Reading SConscript files ...<br>Delete("nsis-23-Apr-2008.cvs")<br>Delete(".instdist")<br>Delete(".test")<br>Using GNU tools configuration<br>Checking for compiler flag -m32... (cached) no<br>...<br>...<br>Checking for C++ library cppunit... (cached) no<br>scons: done reading SConscript files.<br>scons: Building targets ...<br>g++ -o build/release/makensis/build.o -c -Wno-non-virtual-dtor -O2 -Wall -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 Source/build.cpp<br>scons: *** [build/release/makensis/build.o] Error 127<br>scons: building terminated because of errors.<br></code>
</pre><br>
      <br>
      Searching this forum and googing around, gives me no clue what "Error 127" means
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">23rd April 2008 16:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">When dealing with scons issues the forum will not help you much. If you want to search, you should search the scons mailing list and Wiki.<br>
      <br>
      A quick Google search on "<a href="http://www.google.com/search?hl=en&amp;safe=off&amp;q=solaris+error+127&amp;btnG=Search" target="_blank">solaris error 127</a>" suggests it means g++ can't be found.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>