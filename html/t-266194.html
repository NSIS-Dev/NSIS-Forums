<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="uninstall version control?"><title>uninstall version control? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">uninstall version control?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=266194">uninstall version control?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">JamesKiller</span><br><span class="post-time small text-muted">20th February 2007 00:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>uninstall version control?</strong><br>Our installer is for upgrading our appliction. when we try to install the uppgrade installer, first of all, we need to delete the old files on the client machines. How can i distinguish the files between old version(on client machine) and new version (in the installer)?<br>remember to use /R, don't know exactly how to do?<br><br>thank you.<br><br>James</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">20th February 2007 02:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">How about this:<br><br>1. Your older installer can write a registry key, with the path.<br>2. New installer read that path with nsis' <b>ReadRegStr</b>.<br>3. Call the uninstaller from the returning path, or delete them from the new installer.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">JamesKiller</span><br><span class="post-time small text-muted">20th February 2007 05:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ideally,Can I set a flag on a file, then next time, i just delete the files have the flag.? donno how to do....</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">20th February 2007 19:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">As I understand you want to delete/upgrade just a bunch of installed files not the entire previous installation.<br>If I'm wrong and you want to uninstall the entire previous installation, the best way is to do it like NSIS installer does by calling the uninstaller -- see included script NSIS\Examples\makensis.nsi.<br>To remove/upgrade just some files, could be done by several ways, for instance the easiest way is that you may add version info in registry, so comparing this version with the current version let you know what to do next.<br>Also you may add version info in all upgradeable files and compare versions for each one individual, or include a text file with all upgradeable files and add the script compilation date as the comparison point.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>