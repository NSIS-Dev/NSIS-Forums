<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="absolutly newbie question"><title>absolutly newbie question - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">absolutly newbie question</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=266001">absolutly newbie question</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Rocco</span><br><span class="post-time small text-muted">17th February 2007 17:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>absolutly newbie question</strong><br>hi all,<br><br>my head is smoking.<br>i thaught i'll do an installer in a few minutes (muhaaaaahaaa)<br>ok now im sitting here with nsis and after a few hours, i got an idea what i need and how i can reach this goal.<br>i know how i can specify different language files and do some file operations after that to achive what i need,<br>but im missing one important peace in the puzzle.<br>the most important in fact for an installer.<br><br>now comes the dumb question:<br>i dont know, how i insert or reference the programm (folder) where the files are in, to the script.<br>This files (programm) for that i need the installer.<br><br>i have found some functions but it seems that they are all for fileoutput but not for input.<br><br>Like SetOutPath (i need the opposite)<br>mabe its the File Command?<br>but in the examples it looks like that its also for output.<br><br>thx for an example.<br><br>ps:<br>i strongly missed a guide (NSIS for dummys)<br>with an step by step example from an programmfolder to an functioning installer-file. :-)<br>cause the examplesnippets dont make it easy for an noob to filter and rearrange the standard-things that most installers have.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">17th February 2007 18:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><a href="http://nsis.sourceforge.net/NSIS_Quick_Setup_Script_Generator" target="_blank">NSIS Quick Setup Script Generator</a> might get your feelings up.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">demiller9</span><br><span class="post-time small text-muted">17th February 2007 20:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The File command has dual use: during compile time it gathers and compresses your file(s) and at runtime it extracts them. During compile time it uses the path in the File command (eg, FILE myGreatApp.exe, will look for 'myGreatApp.exe' relative to the folder the nsi script is in), and during execution it will put it where you choose with the SetOutPath command.<br><br>You can add a path to the FILE filename, and it will use that to find the file to compress: FILE ".\path1\path2\myApp.*"<br><br>Don</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Rocco</span><br><span class="post-time small text-muted">17th February 2007 20:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">thanks, this helps alot. :-)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Rocco</span><br><span class="post-time small text-muted">18th February 2007 16:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">one problem again.<br>in my first handcollected example, i have a section which makes no errors (i dont know if it works, cause i wasnt so far by now- but no errors):<br><br>Function .onInit<br>!insertmacro MUI_LANGDLL_DISPLAY<br>${Switch} $LANGUAGE<br>${Case} ${LANG_ENGLISH}<br>Rename "$INSTDIR\speech.dcp" "$INSTDIR\speech_ger.dcp"<br>Rename "$INSTDIR\speech_eng.dcp" "$INSTDIR\speech.dcp"<br>${Break}<br>${EndSwitch}<br>FunctionEnd<br><br><br><br>now in the generated file, i tried to copy the same code in the Function .onInit<br>but get this error message:<br><br>Invalid command: ${Switch}<br>Error in script "C:\Programme\3tools\NSIS\Examples\Mystic Triddle Demo.nsi" on line 91 -- aborting creation process<br><br>what could be the reason for this??</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Rocco</span><br><span class="post-time small text-muted">18th February 2007 16:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ok i found the error reason bymyself it was a missing !include "LogicLib.nsh"<br><br>unfortunatly the above code with the renames of the files dont works :-( in the installed game.<br><br>what could be the reason, that this commands dont works?<br><br>Rename "$INSTDIR\speech.dcp" "$INSTDIR\speech_ger.dcp"<br>Rename "$INSTDIR\speech_eng.dcp" "$INSTDIR\speech.dcp"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">demiller9</span><br><span class="post-time small text-muted">18th February 2007 17:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I haven't figured out quite what you are doing, so my questions may be offtrack -<br><br>Does $INSTDIR have the right value when you are trying to use it?<br><br>Do the files exist before you have extracted them? Are you adding something to an existing program, or are these dcp files supposed to be installed by you?<br><br>Could these files be in use, and locked?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Rocco</span><br><span class="post-time small text-muted">18th February 2007 18:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">im not experienced enough to answer all your questions, but i'll try.<br><br>the reason why im using an installer is that i have 2 different language versions.<br>the programm read the strings from the file speech.dcp.<br>no matter what the language is, so i take on language as standard speech.dcp file (german), and ifsomeone klick englisch i want have to rename the speech files.<br>speech.dcp (delete) or -&gt; speech_ger.dcp<br>speech_eng.dcp -&gt; speech.dcp - programm can use the englsich translation.<br><br>i guess the path is the right one (root) - $INSTDIR<br>i dont know if the file exists before extraction, but i guess not, these files are supposed to be installed by me.<br>so i assume with the above code, i try to rename files, before they are really there.<br><br>what is the right solution.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>