<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Problem with symbol &quot;&amp;&quot; in the branding text"><title>Problem with symbol "&amp;" in the branding text - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Problem with symbol "&amp;" in the branding text</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=373616">Problem with symbol "&amp;" in the branding text</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">TrifonovS</span><br><span class="post-time small text-muted">12th November 2013 07:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Problem with symbol "&amp;" in the branding text</strong><br>Hi!<br>I have s strange problem. I use symbol "&amp;" in the branding text. When I execute the installer under Windows XP, this symbol is missing, but it exists under Windows 7. I tried also with two symbols "&amp;&amp;" and in this case it is shown correct under Windows XP (only one symbol is shown), but now I see both symbols under Windows 7. So my question is - how to solve the problem without to take care about the OS?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">world80</span><br><span class="post-time small text-muted">12th November 2013 10:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">!include "library.nsh"<br>!include "winver.nsh"<br>BrandingText "$var"<br><br>Function .oninit<br><br>${if} ${isWinXP}<br>Strcpy $var "sometextwith&amp;&amp;"<br>${else}<br>Strcpy $var "sometextwith&amp;"<br>${endif}<br><br>FunctionEnd</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">TrifonovS</span><br><span class="post-time small text-muted">12th November 2013 10:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">This is clear, but isn't it possible to do something without check for Windows XP?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">12th November 2013 11:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I cannot reproduce this. Using double ampersands works fine on both 7 and XP and for MUI2 and classic UI. Can you create a simple script to reproduce?<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">TrifonovS</span><br><span class="post-time small text-muted">12th November 2013 13:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I tried to simplify my script. But in a simple script I also can not reproduce it. I will try to investigate what makes the difference and if I have more information, I will write again.<br>Thank you for the will to help!!!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">TrifonovS</span><br><span class="post-time small text-muted">12th November 2013 13:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Now I found the reason. I'm using the Aero plug-in. It causes this behavior. And this explains the difference between Windows XP and Windows 7. If I don't use it, all works as it is expected. Is this a bug in the Aero plug-in?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">12th November 2013 16:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes this is a bug with the plug-in, or rather, a lack of ampersand handling. I will fix as soon as I have some time.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">TrifonovS</span><br><span class="post-time small text-muted">12th November 2013 21:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks a lot!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">TrifonovS</span><br><span class="post-time small text-muted">19th November 2013 19:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think that there is one more problem with this plug-in. I use NSIS v3.0a1 and my installer can switch between English and German texts. When German language is selected, some special letters are not shown correct (in the branding text). This must be connected somehow with the encoding... Actually up to now the branding text was also translated and in this case there is no problem. But I made the workaround given from world80, so I put the text directly (because the translation doesn't work in .onInit function) and now the problem occurs. So with the workaround I have a problem with the special German letters and without it - with the ampersand. There is no full happiness :(</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>