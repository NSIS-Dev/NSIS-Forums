<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="NSIS - The FAQ (18 Mar 2003)"><title>NSIS - The FAQ (18 Mar 2003) - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">NSIS - The FAQ (18 Mar 2003)</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=102650">NSIS - The FAQ (18 Mar 2003)</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">30th August 2002 10:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>NSIS - The FAQ</strong><br>&nbsp; <font size="5"><b>Outdated!</b> See the new <a href="http://nsis.sourceforge.net/support/faq" target="_blank">FAQ</a>.</font><br><br>Welcome to the <a href="http://www.nullsoft.com/free/nsis/" target="_blank">NSIS</a> forum, please take the time and read this thread before asking questions. It may save some time for all of us.<br><br><font size="1"><b>Last update</b>: 18 March 2003</font><br><br><font size="4"><b>I have a question related to NSIS</b></font><br><font size="1"><i>Please follow these simple steps to find your answer</i></font></p><ol style="list-style-type: decimal"><li>Read the <b>documentation</b> (<a href="http://nsis.sourceforge.net/Docs/" target="_blank">makensis.htm</a>)</li><li>If you have missed it, have a look at <b><a href="http://nsis.sourceforge.net/Docs/AppendixB.html" target="_blank">appendix B: Useful Functions</a></b></li><li>Search <b><a href="http://nsis.sourceforge.net/archive/nsisweb.php" target="_blank">the NSIS Archive</a></b></li><li>Read this <b>FAQ</b></li><li><b><a href="http://forums.winamp.com/search.php" target="_blank">Search</a></b> the forum</li><li><b><a href="http://forums.winamp.com/newthread.php?s=&amp;action=newthread&amp;forumid=65" target="_blank">Post</a></b> a question in the forum.</li></ol>You might also want to try the official NSIS IRC channel: <a href="irc://irc.landoleet.org/nsis" target="_blank">#nsis @ irc.landoleet.org</a>.<br><br><br><font size="4"><b>The FAQ</b></font><br><br><b>Where can I download NSIS?</b><br>You can find the latest version at <a href="http://www.nullsoft.com/free/nsis/" target="_blank">http://www.nullsoft.com/free/nsis/</a>.<br>The latest development version can be found at <a href="http://sourceforge.net/projects/nsis/" target="_blank">the NSIS SorceForge page</a>.<br>More information about the latest developments can be found <a href="http://nsis.sourceforge.net/" target="_blank">in here</a><br>Some modifications are also available at <a href="http://nsis.sourceforge.net/archive/nsisweb.php" target="_blank">the NSIS Archive</a><br><br><b>What is the latest version of NSIS?</b><br><u>NSIS 1</u>: 1.98 (official), 1.99 (unofficial)<br><u>NSIS 2</u>: 2.0b3 - development build<br><br><b>Where can I find out what's cooking for the next version?</b><br>Have a look at the <a href="http://nsis.sourceforge.net/changelog.php" target="_blank">development change log</a>.<br>You can download the latest development version from <a href="http://nsis.sourceforge.net/nightly/nsis.zip" target="_blank">here</a> or from CVS as explained <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=102204" target="_blank">here</a>. Starting at version 2.0b2 you can also update NSIS using NSIS Update that comes with NSIS. You can access NSIS Update from the new NSIS Menu (NSIS.exe) or from Bin\NSIS Update.exe. NSIS Update can check if you have the latest released version, or update to the latest CVS version.<br>Currently in CVS - version 2.0b4.<br><br><b>Where can I find some example scripts?</b><br>Examples can be found in the directory where you installed NSIS. If you have installed version 2.0a1 and above, it is in the Examples directory. If you have installed 2.0a0 or below it is in the NSIS directory itself (all of the files with the .nsi extension).<br>You can also have a simple script generated for you <a href="http://www.nullsoft.com/free/nsis/makensitemplate.phtml" target="_blank">here</a>.<br><br><b>I have found a bug!</b><br><a href="http://forums.winamp.com/search.php" target="_blank">Search</a> the forum before you post it, it might have been addressed already. If you can't find a refernce to your bug in the forum post a new topic. If it is a bug in the development version please post the bug in the <a href="http://sourceforge.net/tracker/?atid=373085&amp;group_id=22049&amp;func=browse" target="_blank">SourceForge project page</a>.<br><br><b>I always get error #12345 when I try to compile very large installers. What's up with that?</b><br>NSIS can theoretically compile installers as large as 2GB. This is first limited by the amount of free disk space on the drive containing the system temporary directory. This drive must be formatted as NTFS and must have enough free space to hold the temporary file, which can get upto 2GB depending on the packed files. This means you can't compile very large installers on Windows 9x because it doesn't support NTFS. The limit is about 700MB on a FAT partition.<br>More RAM and virtual memory will only help speed up the process but won't increase the limit.<br><br><b>I think NSIS is missing some command...</b><br>There are a lot of commands that could have been added into NSIS, but most of them will just make NSIS into bloatware, and no one wants that. You will be surprised at what you can do with the NSIS scripting language. <a href="http://forums.winamp.com/search.php" target="_blank">Search the forum</a>, and <a href="http://nsis.sourceforge.net/archive/nsisweb.php" target="_blank">the NSIS Archive</a>, there is a pretty good chance someone has already made what you are looking for.<br>NSIS can also fire up DLLs to do the job for it. Search <a href="http://nsis.sourceforge.net/archive/nsisweb.php" target="_blank">the NSIS Archive</a> for such, or try writing your own (have a look at ExDLL in the contrib directory).<br>If you still think the command you are missing should be in NSIS, and it can't possibly be done with NSIS scripting, or it takes 3000 lines of script, post a message in the forum or request a feature at the <a href="http://sourceforge.net/tracker/?atid=373088&amp;group_id=22049&amp;func=browse" target="_blank">SourceForge project page</a>.<br><br><b>NSIS is ugly! How can I make it look better?</b><br>Have a look at <a href="http://nsis.sourceforge.net/" target="_blank">the latest development build of NSIS</a>. It offers a lot of UI improvements, including a new modern wizard style, like the wizards of recent Windows versions.<br><br><b>Is there any program that could help me script?</b><br>Have a look at the <a href="http://nsis.sourceforge.net/archive/nsisweb.php?page=8" target="_blank">NSIS related software category at the NSIS Archive</a>.<br><br><b>How can I get input from the user?</b><br>Use Install Options to create custom dialogs during the installation process. You can find Install Options (IO) in the Contrib directory.<br><br><b>I am having problems with CreateShortCut</b><br>Make sure you have separated the parameters from the target file.<br>For example, if you want to create a shortcut to notepad with $INSTDIR\Readme.txt as a parameter don't use:<br><pre>
<code>CreateShortcut "myshortcut.lnk" "notepad.exe $INSTDIR\\Readme.txt" 
</code>
</pre>Use two separate strings:<br><pre>
<code>CreateShortcut "myshortcut.lnk" "notepad.exe" "$INSTDIR\\Readme.txt" 
</code>
</pre><b>I am reading a file name from another file and Delete/FileOpen/CopyFiles/&lt;insert files related command here&gt; doesn't work with with the file name I have read! What do I do?</b><br>You probably forgot to remove the new line character from the end of the line. Use <a href="http://nsis.sourceforge.net/Docs/AppendixB.html#B.2" target="_blank">TrimNewlines</a> to remove it. For example:<br><br><pre>
<code>FileOpen$0 "somefile.dat" "r"
<br>&gt;FileRead $0 $1
<br>FileClose$0
<br>Push$1
<br>Call TrimNewlines
<br>Pop$1
<br>Delete$1 
<br>&gt;
</code>
</pre><b>How can I write strings with quotes to the registry?</b><br>
      Just quote the entire string with a single quote.<br>
      NSIS allows you to use three kinds of quotes: ', `, and ".<br>
      For example:<br>
      <pre>
<code>
WriteRegStr HKCR "myFile\\shell\\open\\command" "" '"$INSTDIR\\myprog.exe" "%1"' 
</code>
</pre><b>How can I make sure the user installing my software has admin rights?</b><br>
      Use the <a href="http://nsis.sourceforge.net/archive/nsiswebdownload.php?file=isadmindll.zip" target="_blank">IsAdmin DLL</a> to find out.<br>
      If you are using version b0 or above you can use UserInfo.dll in your contrib folder.<br>
      <br>
      <b>How can I read or write files?</b><br>
      Use FileOpen, FileRead, FileWrite, FileSeek, and FileClose to manipulate files.<br>
      You can find a small example showing how to replace a line <a href="http://nsis.sourceforge.net/archive/viewpage.php?pageid=17" target="_blank">here</a>.<br>
      Note that if INI files are in the question, it might be easier to use WriteINIStr, ReadINIStr, DeleteINIStr, and DeleteINISec.<br>
      <br>
      <b>How can I make my script depend on some registry value/the version of my product/&lt;something dynamic&gt;?</b><br>
      Write another installer for your use that will write the script for you, or compile it for you with /DNAME=value or /X"nsis command" passed on to makensis.exe as command line arguments. The /D switch will define <i>NAME</i> as <i>value</i> in the script. The /X switch will add <i>"nsis command"</i> to the top of the script.<br>
      <br>
      <u>Example:</u><br>
      In the compiling script:<br>
      <pre>
<code>ExecWait "makensis.exe /DVERSION=1.2 myscript.nsi" 
</code>
</pre>In the compiled dynamic script:<br>
      <pre>
<code>OutFile myprog</code>${VERSION}.exe 
<br>&gt;

</pre><b>When I use ExecWait uninstaller.exe it doesn't wait for the uninstaller. Why?</b><br>
      NSIS uninstaller copies itself to the temporary directory, runs the temporary uninstaller create and then exits. This is done so it will be able to delete itself. To force the uninstaller not to do this use:<br>
      <pre>
<code>
ExecWait '"$INSTDIR\\uninstall.exe" _?=$INSTDIR' 
</code>
</pre>You will, of course, have to replace uninstall.exe with the name of your uninstaller.<br>
      <br>
      <b>I want to create a syntax file for my favorite edior, how do I get a list of all NSIS commands?</b><br>
      Run makensis.exe /CMDHELP to get a list of available commands. The nsExec example does this so you can just copy of the install log using the context menu. The same list is available in Source\tokens.cpp. The list of variables is in Source\script.cpp on the top.<br>
      <br>
      <b>FAQ additions</b><br>
      If you think something is missing in this FAQ send me a <a href="http://forums.winamp.com/private.php?s=&amp;action=newmessage&amp;userid=44024" target="_blank">PM</a>, or just reply here. Please post only suggestions, fixes or addiotions to FAQ in this thread.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">liquidmotion</span><br>
      <span class="post-time small text-muted">23rd December 2002 19:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here are links to my NSIS GUI's / wizards:<br>
      <br>
      <a href="http://www.morphedmedia.com/software.php" target="_blank">http://www.morphedmedia.com/software.php</a> - Slate Blue, the original GUI, with (ugly) source. 2.03mb<br>
      <br>
      <a href="http://www.morphedmedia.com/software.php" target="_blank">http://www.morphedmedia.com/software.php</a> - Slate Blue NSIS Wizard, a new wizard for NSIS, creates a little more than a basic script. 205kb.<br>
      <br>
      I do plan on porting the ugly source of Slate Blue to Delphi in the near future. SO if you've got any suggestions on how it should work, how to make it better, whatever, let me know.<br>
      <br>
      <a href="http://www.morphedmedia.com/download/" target="_blank">http://www.morphedmedia.com/download/</a> for more downloads.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">12th January 2003 16:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><b>How to install the VB6 runtimes</b><br>
      <br>
      Check <a href="http://nsis.sourceforge.net/archive/viewpage.php?pageid=47" target="_blank">http://nsis.sourceforge.net/archive/....php?pageid=47</a></p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">virtlink</span><br>
      <span class="post-time small text-muted">23rd April 2003 10:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Known NSIS Issues</strong><br>
      &nbsp; You'll find information about features of NSIS that don't always do what you expect, issues with NSIS that aren't bugs but might be confusing to new users, etc... here:<br>
      <a href="http://nsis.sourceforge.net/archive/nsisweb.php?page=235&amp;instances=0" target="_blank">http://nsis.sourceforge.net/archive/...35&amp;instances=0</a></p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mr_007</span><br>
      <span class="post-time small text-muted">21st July 2003 15:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Good Tips!</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>