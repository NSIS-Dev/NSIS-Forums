<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="string functions" />

  <title>string functions - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content=" string functions" />

  <title>string functions - NSIS Forums</title>
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" />
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content=" string functions" />

  <title>string functions - NSIS Forums</title>
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" />
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">string functions</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=165779">string functions</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHysiek</span><br />
      <span class="post-time small text-muted">20th January 2004 12:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>string functions</strong><br />
      Hello<br />
      <br />
      I'm new to NSIS, it looked fine at first sight but when I tried to make installer what I wanted I hit some problems:<br />
      1) Using variables is big pain, using strings manipulation is HUGE pain. I don't get how modern installer can lack any decent number of functions for such basic task. Handling Path/reg keys require complicated function in current script using StrCpy/StrCmp/IntOp. For example in my installer have to read key from file which stores installed path of application. But it isn't stored in right-to-use format I need to manipulate (cut path add some text). I've done it but when I want to display it using Static in confirmation window, it "eats" backshlashes. :-\ So is there easy way of manipulating paths in current NSIS ?<br />
      2) In general my installer will be template for game maps installers of other people so such user will customize name and similar things in script (stored as constants), but how to add files the easy way (not editing script and making line for every single file). Is there any file list generator or can I use external (of script) file-list file (:)) ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">20th January 2004 13:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">1) The strings commands are easy to use if you follow the documentation. Probably there is already are suitable function written for you:<br />
      <br />
      <a href="http://nsis.sourceforge.net/archive/nsisweb.php?page=11&amp;instances=0" target="_blank">http://nsis.sourceforge.net/archive/...11&amp;instances=0</a><br />
      <br />
      2) Using an extenal header file is even better. The users will only have to modify that file with defines. You can also use defines for filenames or add all files in a folder using *.* or /r.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHysiek</span><br />
      <span class="post-time small text-muted">20th January 2004 13:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I know these function are the only help, but I would still opt for something easier as string manipulation is used very often and seeking and adding long function for every simple string task is a little too much work.<br />
      Also docs are not so informative, I had to dig quite a bit to find out how to concatenate strings. I found it finally in some example in the internet. The same goes for InstallOptions and custom pages in general.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">20th January 2004 14:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can do everything with the current string commands. Sometimes you will have to use multiple commands, but that's the basic of all programming languages. There are hundreds of things you can do with strings, it's impossible to add a command for every possibility.<br />
      <br />
      The whole point of having function is that becomes easy to do the same thing multiple times. If you think the functions they make your script less easy to read, put them in a header file.<br />
      <br />
      If we would add a command for all things that can also be done using the scripting language, NSIS would become huge.<br />
      <br />
      We are always working on improvements of the documentation, but it takes a lot of time. If you think it can be improved, why not help yourself?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHysiek</span><br />
      <span class="post-time small text-muted">20th January 2004 14:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well I don't want to create any argument but people can still write in assembler so what for do we need NSIS then? I was talking about usability and making things easier, which should be the goal of every computer app and epecially NSIS for installation tasks. I'm not saying that you should mirror STL or some other lib but few basic things.<br />
      As for me writitng docs - I was saying that one (in this case me) can't learn much from than - how could I write docs knowing little about subject, that's the problem.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">20th January 2004 15:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">So which things do you think that can be added to make string manipulation easier?<br />
      <br />
      The problem is that it's easy to complain about documentation, but if nobody wants to help improving them (after they have learned NSIS) we don't get any further.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHysiek</span><br />
      <span class="post-time small text-muted">20th January 2004 17:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">String functions like:<br />
      * finding index of char/substr in string<br />
      * finding first occurence char from subset in string starting from index.<br />
      * replacing char/substring in string<br />
      * conversion to/from C-style strings (for easier using strings in Windows functions).<br />
      * concatenating string (in current system name of veriable is joined with following text, which can make trouble in some cases) OR append-to-text function.<br />
      <br />
      First three should have reverse-index versions. If this is too big to add maybe it could be made as plugin with "extra string functions".</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">20th January 2004 18:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Concatenating strings can be done with StrCpy, like<br />
      <br />
      StrCpy $MYSTRING "sometext $MYSTRING1 $MYSTRING2"<br />
      <br />
      The are currently functions for all these search &amp; replace actions. I see no reason to integrate them, it will only make the installer larger (functions only take a few bytes, adding it in native code to the exehead takes much more space).<br />
      <br />
      You could write a plug-in with string functions, but it will still be larger than functions, and it will do exactly the same.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">20th January 2004 20:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i would add these typical c++ string-commands:<br />
      String.SubString<br />
      StringReplace<br />
      String.LastDelimiter<br />
      String.Length<br />
      String.Pos<br />
      <br />
      i think, those are the most used, an important commands (after the included StrCpy and StrCmp).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">20th January 2004 20:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Most of these things can be done using the current commands (StrLen etc.). For the others you can use a function.<br />
      <br />
      If someone wants to make a plug-in or header file with string manipulation functions, I will include it in the distribution.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">20th January 2004 20:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hmm, yes, i already thougt at a plugin for those commands, or even a collection of macros doing this in a header-file at the include-dir.<br />
      maybe an include-file would be easier ...<br />
      <br />
      ah, i forgot that StrLen already exists :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">20th January 2004 21:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It would be nice if someone could put all useful string functions together in a nice header file with some documentation.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">20th January 2004 22:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Do you want the typical <b><a href="http://www.cplusplus.com/ref/cstring/" target="_blank">&lt;string.h&gt;</a></b> functions?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHysiek</span><br />
      <span class="post-time small text-muted">21st January 2004 06:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Not all, but a few, the most handy during setup functions, like those I mentioned. I don't think they would take more than 1-2KB of code.<br />
      <br /></p>

      <blockquote>
        <i>Originally posted by Joost Verburg</i><br />
        <b>Concatenating strings can be done with StrCpy, like<br />
        <br />
        StrCpy $MYSTRING "sometext $MYSTRING1 $MYSTRING2"<br /></b>
      </blockquote>What if I want to insert variable into word, like "$APPNAMEreadme.txt", will it work correctly if I will have variables $APPNAME, $APPNAMER, $APPNAMEREAD ?<br />
      <br />
      PS. How to display path text from string char in Label control of dialog window? I have to convert it to C-style string; creating such function in current script would be quite painful.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MoNKi</span><br />
      <span class="post-time small text-muted">21st January 2004 10:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by KHysiek</i><br />
        <b>PS. How to display path text from string char in Label control of dialog window? I have to convert it to C-style string; creating such function in current script would be quite painful.</b>
      </blockquote>This may help you: <a href="http://nsis.sourceforge.net/archive/nsisweb.php?page=290&amp;instances=0,11,122" target="_blank">http://nsis.sourceforge.net/archive/...ances=0,11,122</a>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">21st January 2004 11:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Putting all of the codes in one file, ready to include, like the &lt;string.h&gt; C++ file and thousands of others inside the C++, is the unique solution for that, I think, like Joost said.<br />
      <br />
      If everyone wants, I can make an integrated file for that, but you have to aid sometimes because I don't know the C++ files and codes! (I think I have at least the C++ files, but I don't know how to use them)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Spatacoli</span><br />
      <span class="post-time small text-muted">21st January 2004 18:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It would be nice to have all of the string functions in one place. I often forget which header file I have strstr in or which one has strreplace. It would be great to include string.nsh and have all those functions right there (and probably something I should have been doing on my own anyway.).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">21st January 2004 19:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yes, that would be really nice.<br />
      but i think, if someone collects all this functions, it will be better to convert them to macros. macros are much easier to include in the code, than functions, which require some 'pushing'.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">21st January 2004 21:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Must agree, better than plugin, a Nsis Header (NSH) will be a solution. I'm making a plugin, (3.40 KB) and 3 functions to include; I think will be better to make Nsis header files rather to embed the DLL.... :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">22nd January 2004 21:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'll do this way: (example)<br />
      <br />
      <b>${StrTok} <i>$0 "My text" " "</i></b><br />
      <br />
      It will combine:<br />
      <br />
      <b>Defines</b> - easy the call of commands.<br />
      <b>Macros</b> - easy the call of command parameters.<br />
      <b>Functions</b> - don't occupy much space in compiled installer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">22nd January 2004 22:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Great, if you can finish it soon it can be included in NSIS 2.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">22nd January 2004 22:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Wow, that was unexpected...<br />
      <br />
      In the case of StrTok, I don't know if I have to put the result in a variable, several ones, or use several times the same command to return results for each string before and after separators...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">22nd January 2004 22:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Something to bear in mind if you plan on bundling all these functions in a single header: all of them will be included in the installer whether used or not, and the compiler will throw up warnings about them.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Spatacoli</span><br />
      <span class="post-time small text-muted">22nd January 2004 23:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I thought they'd only be included if you specifically say:<br />
      !include "strings.nsh"<br />
      <br />
      'Doh Sorry, didn't think about it very hard before I posted. :D</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">22nd January 2004 23:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">He means that all functions in a header file will be included when including the file.<br />
      <br />
      This problem can be solved by using macros which is already what deguix wants to do.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">22nd January 2004 23:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><b>EDIT:</b> I think that this should be not included in the NSIS 2, because putting this without much work in it (the first version) will be complainted for everyone, that something could be better.<br />
      <br />
      You remember the old NSIS Update? It was just included after some NSIS versions, because needed to be changed?...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">23rd January 2004 03:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok, I have the beta... It has these functions now:<br />
      <br />
      <b>Function</b> - Command <i>"Parameters"</i>:<br />
      <br />
      <b>Search in String Function</b> - ${StrStr} <i>"ResultVar" "StrToSearchIn" "StrToBeSearched"</i><br />
      <b>StrTok Function</b> - ${StrTok} <i>"ResultVar" "ResultVar2" "StrToTokenizing" "Separators"</i><br />
      <b>Copy to Clipboard Function</b> - ${StrClbSet} <i>"String"</i><br />
      <b>Copy from Clipboard Function</b> - ${StrClbGet} <i>"ResultVar"</i><br />
      <br />
      Use a first command out of Sections and Functions to insert its function in your installer script.<br />
      <br />
      <b>I made changes in two functions:</b><br />
      <br />
      <b>StrTok Function</b> - now is based in StrStr, more simpler I think, but the results didn't change.<br />
      <br />
      <b>Copy from Clipboard Function</b> - the function name was "CopyToClipboard", changed it to "CopyFromClipboard".<br />
      <br />
      (I think someone should put the Modern UI startup message in the compilation as my style, because is more clear.)<br />
      <br />
      (The documentation doesn't say about "/*" (start) and "*/" (end) for comments.)<br />
      <br />
      Example Script:<br /></p>
      <pre>
<code><br />Name Test<br />OutFile Test.exe<br /><br />!include "StringFunctions.nsh"<br /><br />${StrStr}<br /><br />Section<br /><br />${StrStr} $0 "this is a long ass string" "ass"<br /><br />SectionEnd<br /></code>
</pre><br />
      <br />
      Put this file in the NSIS Include Dir.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">23rd January 2004 10:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, you can also use C-style comments. I'll add it to the manual.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">25th January 2004 14:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Version 0.02, now just lacks the documentation and more tests...<br />
      <br />
      This file includes basic how to use, commands, and comments about functions included and not included.<br />
      <br />
      If you have any complaint about functions included or not included, please tell me now or I will finish the final version first... :cool:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHysiek</span><br />
      <span class="post-time small text-muted">27th January 2004 17:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">So, what about functions I've mentioned earlier ? :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">28th January 2004 03:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        * finding index of char/substr in string
      </blockquote>Maybe a change to StrStr to do that, so I have to work a little bit...<br />
      <br />

      <blockquote>
        * finding first occurence char from subset in string starting from index.
      </blockquote>You can do this using StrCpy to customize where it will start and use StrStr Function.<br />
      <br />

      <blockquote>
        * replacing char/substring in string
      </blockquote>Use StrReplace Function.<br />
      <br />

      <blockquote>
        * conversion to/from C-style strings (for easier using strings in Windows functions).
      </blockquote>Hmmmm... maybe using System plugin or Math plugin. I will try to search.<br />
      <br />

      <blockquote>
        * concatenating string (in current system name of veriable is joined with following text, which can make trouble in some cases) OR append-to-text function.
      </blockquote>One command resume it all: StrCpy.<br />
      <br />

      <blockquote>
        PS. How to display path text from string char in Label control of dialog window? I have to convert it to C-style string; creating such function in current script would be quite painful.
      </blockquote>Use NSISToIO inside header file. (I don't know if this is right if you want to do that in a normal dialog from Windows or something)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">28th January 2004 15:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        conversion to/from C-style strings (for easier using strings in Windows functions).
      </blockquote>NSIS uses C-style strings. What do you mean by this?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">31st January 2004 20:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Any estimate to when 1.00 will be ready?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">31st January 2004 22:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hehehe, I bought a new game and I and my brother couldn't stop to play it until now... but it is nearly done. 6:00 AM of tomorrow is done, or more soon if it is possible... (sharing pc problems, you know)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">1st February 2004 14:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Version 1.00 done. Included the header file and manual.<br />
      <br />
      Changes:<br />
      <br />
      - Added documentation.<br />
      - Renamed header file to "StrFunc.nsh".<br />
      - Added 1 function, StrLoc.<br />
      - Modified StrStrAdv, removed some lines.<br />
      - Fixed StrTok, 2 simple numbers made it loop everytime.<br />
      - Fixed some small issues in the header file.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">5th February 2004 11:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks.<br />
      <br />
      I tried to write an example file for the header file but stumbled upon a few problems. The example file, including the described problems is attached.<br />
      <br />
      StrLoc doesn't seem to function when the string it searches for is larger than the string it searches in. I found this because I got confused of the readme which states the usage line is:<br />
      <br />
      ${StrLoc} ResultVar String StrToSearchIn Direction<br />
      <br />
      On first look it looks like I'm supposed to put the string that I want searched in StringToSearchIn, but it's the other way around. How about SearchIn SearchFor?<br />
      <br />
      According to my understanding, the next line should return "abc", but it doesn't:<br />
      <br />
      ${StrStrAdv} $0 "abcabcabc" "abc" "&lt;" "&gt;" "0" "1"<br />
      <br />
      It returns an empty string. If I search for the second occurrence of "abc" in "abcabcabc", starting from the right position, it should find the second set of "abc", but it doesn't.<br />
      <br />
      StrSort doesn't seem to want to search for more than one char (line 136). It also has a problem if you want to search for "error" (line 139).<br />
      <br />
      And last but not least, StrTok gets stuck in an endless loop if the token number is 0.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">6th February 2004 03:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Version 1.01, all bugs you said are fixed:<br />
      <br />
      - Fixed Documentation about StrSort and StrTok.<br />
      - Fixed StrTok default value for the string part. Now it's "L".<br />
      - Fixed StrStrAdv fixed wrong search when had a combination of same substrings one after another in a string.<br />
      - Fixed StrLoc, when a string isn't found, don't return any value at all.<br />
      <br />
      Read the manual for see more details.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">6th February 2004 13:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">StrLoc and StrSort are still not working right. The documentation of StrSort got mixed up. It's talking about StringToSearch but there is no such parameter on the usage line. Example attached.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th February 2004 00:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Fixed StrLoc, removed StrSort and added to CVS.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">7th February 2004 03:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Oh right, as you wish...</p>
    </div>
    <hr />
    <!-- Bootstrap core CSS -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <div class="container">
      <!-- Put navigation bar here -->

      <ol class="breadcrumb">
        <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

        <li><a href="f-65.html">NSIS Discussion</a></li>

        <li class="active">string functions</li>
      </ol>

      <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=165779">string functions</a></p><br />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">7th February 2004 12:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">But I did another version, adding my new AdvStrSort, and fixing spelling errors in the documentation:<br />
        <br /></p>

        <blockquote>
          New in 1.02 - 02/07/04:<br />
          -----------------------<br />
          <br />
          - Fixed Documentation about StrLoc. "Direction" is really<br />
          "OffsetDirection".<br />
          - Added my new AdvStrSort, and removed the old one.
        </blockquote>I tested the new function all night until now, and it's working.<br />
        <br />
        <font size="3">Kichik, don't dispair.</font> Use the same example you're using just adding the new qualities of AdvStrSort (called inside as StrSort). Nothing was changed in other functions.<br />
        <br />
        Example of use - StrSort:<br />
        <br />
        <pre>
<code>${StrSort} $0 "This is just an example" " just" "" "ple" "0" "0"<br /><br />$0 = "This is an exam"<br /><br />;"This is just an example" is the String<br />;" just" is the CenterStr<br />;"" is the LeftStr<br />;"ple" is the RightStr<br />;Display LeftStr and RightStr FALSE<br />;Display CenterStr FALSE</code>
</pre>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
        <span class="post-time small text-muted">7th February 2004 13:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Are you sure you want to keep the old version of the readme and not use my changes?<br />
        <br />
        This StrSort call fails:<br />
        <br />
        ${StrSort} $0 "This is just an example" "j" "" "" "1" "0"<br />
        StrCmp $0 "This is ust an example" 0 strsorterror</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">7th February 2004 13:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Yep. Because the last "0" says that will not include the CenterStr.<br />
        <br />
        I did your changes in my documentation. Only if had any more changes you did in other functions but StrLoc...<br />
        <br />
        You can do any changes to it, I can't go to Internet 9:00AM to 10:00PM (but sometimes I can with a little help...).</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
        <span class="post-time small text-muted">7th February 2004 14:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">But it does include CenterStr, that's the problem.<br />
        <br />
        The zip you've attached doesn't include a single change I made to the readme.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">7th February 2004 15:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Fixed and included your changes in the readme.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
        <span class="post-time small text-muted">7th February 2004 15:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Thanks, uploaded.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">7th February 2004 15:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Ahhhh... This time it is right... Thanks for all Kichik.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Spatacoli</span><br />
        <span class="post-time small text-muted">9th February 2004 17:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">thanks deguix and Kichik, I've been using these string functions with the new build and they work great! Thank you for your hard work.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">11th February 2004 09:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"><strong>Using Str functions in the uninstaller</strong><br />
        Hi everyone !<br />
        <br />
        First of all, congratulation to the NSIS dev team : I've used NSIS two years ago to build an installer for my university project, it worked great for my needs..<br />
        <br />
        When I started using it again a few months ago, I couldn't believe how nicer it became! I'm glad the version 2.0 has been released, keep up gooooood work :up: !<br />
        <br />
        <br />
        Now here is my question.<br />
        <br />
        @deguix: no doubt your string functions header is useful, but is there an easy way to use these functions in the uninstaller ? Euh, maybe I missed something ?<br />
        <br />
        <br />
        Thanks :)<br />
        <br />
        evilO/Olive</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
        <span class="post-time small text-muted">11th February 2004 13:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">sure.<br />
        use it in the same way like in the installer.<br />
        just in an "un.xyz" section, or in the "Uninstaller"-section, or any related function.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">11th February 2004 13:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Err, well, I've already tried before to post in this thread, but obviously the compiler complains about the functions not starting with "un."...<br />
        <br />
        Apparently it's not possible to use them in the uninstaller without having to modify the (neatly designed) header.<br />
        <br />
        Am I wrong ? :confused:<br />
        <br />
        evilO/Olive</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">12th February 2004 03:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">I'll fix that and another bug tomorrow.<br />
        <br />
        To everyone know, the reason I'm slow in responses and fixes is that I have 2 school tests tomorrow(school time: 8:00 AM to 2:15 PM), I have 2 school projects to do, I share the computer with 3 more persons, my internet time is limited 5AM to 7AM, sometimes I use at 10PM, and rarely I can use another times.<br />
        <br />
        So please, BE PATIENT.<br />
        <br />
        Just that for now...</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">12th February 2004 10:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Deguix : don't worry, there is no hurry .. I could'nt provide fixes and answers with half of your amount of work :p<br />
        <br />
        So ... good luck for your exams :)<br />
        <br />
        evilO/Olive</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">13th February 2004 03:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Just ignore my last message...<br />
        <br /></p>

        <blockquote>
          1.03 - 02/12/2004<br />
          <br />
          - Added commands support for uninstall sections and functions.<br />
          - Fixed variables switch in "StrLoc" and "StrTok" after using these.
        </blockquote>Read the manual first to use commands supported for uninstall section, nothing changed with install supported commands.<br />
        <br />
        The file:
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">13th February 2004 10:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Hi Deguix ! Thanks a lot for your fix, but, err, I hate to say that but I still have troubles... :(<br />
        <br />
        1) I Have tried the sample provided in the doc (2.2 How To Use Commands In Uninstall Sections and Functions) :<br />
        it does work using either ${StrStr} or ${UnStrStr}, but doesn't work if I use both :weird: :<br />
        <br />
        <font color="blue">!insertmacro: macro "FUNCTION_STRING_StrStr" requires 0 parameter(s), passed 3!</font><br />
        <br />
        2) There is a "mistake" for the function StrTok, the second macro used to call the function is :<br />
        !macro FUNCTION_STRING_StrTok_Call<br />
        instead of<br />
        !macro FUNCTION_STRING_UnStrTok_Call<br />
        <br />
        <br />
        evilO/Olive</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">13th February 2004 11:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Euh, sorry but I think I've just found two other "mistakes" in the following macros:<br />
        <br />
        1) in "FUNCTION_STRING_StrStrAdv":<br />
        <br />
        ; ...<br />
        !ifdef FUNCTION_STRING_UninstSupport<br />
        !undef UnStrStrAdv<br />
        !define UnStrStrAdv "!insertmacro FUNCTION_STRING_UnStrStrAdv_Call"<br />
        Function un.AdvancedStrStr<br />
        !else<br />
        !undef StrStrAdv<br />
        !define StrStrAdv "!insertmacro FUNCTION_STRING_StrStrAdv_Call"<br />
        Function AdvancedStrStr<br />
        !endif<br />
        <br />
        Function AdvancedStrStr ; <font color="red">&lt;-- should be removed</font><br />
        ; ...<br />
        <br />
        2) Same for "FUNCTION_STRING_StrLowerCase"<br />
        <br />
        <br />
        Thanks :)<br />
        <br />
        evilO/Olive</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">13th February 2004 12:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">ammm.... And I forgot to say: "I didn't test this feature", so can have a lot of mistakes in there... but anyways, thanks evilO. Same version 1.03.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">13th February 2004 13:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Well, Deguix, it seems that I still can't get your example to work... :confused:<br />
        <br />
        There is apparently no way to use both functions in the same script. I mean, ${StrStr} <font color="red">AND</font> ${UnStrStr} for instance. I've attached the output if that can help.<br />
        <br />
        Well, I'm sorry to be such a pain :(<br />
        <br />
        evilO/Olive<br />
        <br />
        PS: Have a good week-end :)</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">13th February 2004 15:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Ohhh, now I remember, is a define to indentify if a function inserter command has been called more than one time... When I define it before calling the inserter macro, it skips the code. EDIT: When you call the ${StrStr} and ${UnStrStr} is like calling it two times (so you can use after ${UnStrFunc} the same ${StrStr} that will be the same thing as ${UnStrStr}).<br />
        <br />
        I'll publish the fix when I exit from school (I'm there now) and when I have the first opportunity to connect to internet in home.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">14th February 2004 01:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">The fix is here (I think), test it. Same version number 1.03.<br />
        <br />
        (from those tests I mention before, all of them were 100 or above (from bonus questions))</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">17th February 2004 09:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Hi Deguix !<br />
        <br />
        Thanks for the quickness of your answers, I'm sorry I couldn't test your fix earlier but I was away 'til this morning..<br />
        <br />
        Well, everything seems to work fine as far as I have tested... :) I'm glad you got this header file working, these functions will really help (plus I'm creating a header file as well and now I know how to design it efficiently :p).<br />
        <br />
        Thanks a lot for your efforts :up: !!<br />
        <br />
        <br />
        <br />
        evilO/Olive<br />
        <br />
        PS: about your tests I've no idea whether a mark above 100 is good or not (but I assume it is otherwise you wouldn't have written it :D ), as in France the range is from 0 to 20 ...</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
        <span class="post-time small text-muted">17th February 2004 13:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Version 1.03 has been uploaded to CVS.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">18th February 2004 10:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Maybe in future it can be more than just a header file of string functions...<br />
        <br />
        [About Tests:]<br />
        <br />
        In Brazil the range is from 0 to 10, or are letters P (10), S+ (7.5), S (5), S- (2.5), and NS (0) or are letters PS (10), S+ (7.5), S (5), S- (2.5), and I (0) (maybe it has more).<br />
        <br />
        In U.S.A. the range is from 0 to 100 which results in the letters A+(97-100) A(93-97) A-(90-93) B+(87-90) B(83-87) B-(80-83) C+(77-80) C(73-77) C-(70-73) D+(67-70) D(63-67) D-(60-63) F(0-60) E(didn't complete the course objectives).<br />
        <br />
        Maybe this is interesting:<br />
        <br />
        In Sao Paulo city, because have a lot of people, and so the schools are crowded, there has a law that you can pass grades 1-7 with the worst score. I don't remember when they launched that law (1997 or 98), but I know when you do that, you go to "summer school", and they pass you to the next grade after.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">20th February 2004 16:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Hi Deguix !<br />
        <br /></p>

        <blockquote>
          Maybe in future it can be more than just a header file of string functions...
        </blockquote>What do you mean ? you intend to make a plugin with these functions ? Don't you think the header file is enough ?<br />
        BTW I rewrote and reorganized all my header files using your 'design' (defines-macros-functions), now it's easier with less code and it's working perfectly :up: !<br />
        <br />
        <br />
        About the tests:<br />
        Ok I understand better now, although I find it strange to have letters AND numbers for the tests marks, especially if the range is just from 0 to 10.. Well, I'm used to have only numbers that's why :D<br />
        So you achieved more than 100 !!! felicitações ! What would that make ? A++ :p !?<br />
        <br />
        About San Paulo City (it IS interesting): can't they keep up with the construction of new schools or is it that the city council don't want to ? I mean, the problem has to be serious if they have to make a law: what about the "credibility" of the educational system if anyone can pass :weird: !?<br />
        <br />
        Anyway have a nice week-end :)<br />
        <br />
        evilO/Olive
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">21st February 2004 15:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          What do you mean ? you intend to make a plugin with these functions ? Don't you think the header file is enough ?
        </blockquote>I meant: more header files of other function types...<br />
        <br />
        About the tests:<br />
        <br />

        <blockquote>
          What would that make ? A++ !?
        </blockquote>Is the same A+.<br />
        <br />

        <blockquote>
          About San Paulo City (it IS interesting): can't they keep up with the construction of new schools or is it that the city council don't want to ? I mean, the problem has to be serious if they have to make a law: what about the "credibility" of the educational system if anyone can pass !?
        </blockquote>When the economy continues not good enough, they cut education, culture... results-&gt; the children learn from parents how to disrespect the other... results-&gt; violence, robbery.... There your home is your prision; who should be in prision is on the streets...<br />
        <br />
        About the credibility, they don't really care, is too difficult to get a new job...
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">24th February 2004 18:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Hello Deguix !<br />
        <br />
        Which functions types would you like to create headers for ? IMHO the string header was the most important. As I told you I have created some with the functions I needed the most, but I doubt many people would need all that stuff.<br />
        <br /></p>

        <blockquote>
          Is the same A+
        </blockquote>It was only a (bad) joke :D<br />
        <br />
        <br />
        About the schools:<br />
        <br />
        I didn't understand in the first place that it was an economical reason.. Unfortunately it seems to be the same all over the world:<br />
        In France as well, since the elections of 2001 they accelerated the reduction of credits for education, research, culture, health, unemployment benefits, retirement benefits (now we have to work longer to get less money at the end), ... :mad:<br />
        And the country's money (our money !!) is going to the police, to the army, to taxes exemption for rich people... Just happiness really... :rolleyes:<br />
        <br />
        And in top of that they decided to build 30 new prisons, half of which will be specially 'designed' for youngsters.. They changed the law and now you can go in prison being 16 years old, and 'disciplinary actions' can be taken starting from 13 years old... MAD !! Really I get desperate about mankind..<br />
        <br />
        Well, I think I'll stop complaining for today, and get myself a nice cold beer :)
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">7th March 2004 10:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"><b>Version 1.04</b>:<br />
        <br />
        - Added my new StrCase, removed StrLower and StrUpper.<br />
        - Organized by name commands inside header and readme files.<br />
        <br />
        StrCase converts strings to Lower Case and Upper Case + the new Title Case and Sentence Case (readme's example):<br />
        <br /></p>

        <blockquote>
          - Lower Case (this is just an example. however this can be useful.)<br />
          - Upper Case (THIS IS JUST AN EXAMPLE. HOWEVER THIS CAN BE USEFUL.)<br />
          - Title Case (This Is Just An Example. However This Can Be Useful.)<br />
          - Sentence Case (This is just an example. However this can be useful.)
        </blockquote>Default is "Setence Case". (I didn't include "Invert Case" by NSIS scripting limitations, I have to use System plugin to implement it)<br />
        <br />
        (If you noticed, StrCase now appears as the first command due to its name)<br />
        <br />
        The next target for changes probably is "Number to String Converter Function" which has bugs now.<br />
        <br />
        The file:
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">15th March 2004 23:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"><b>Version 1.05</b>:<br />
        <br />
        - Added new StrNumToStr. Supported languages are English and Portuguese (Brazil).<br />
        - Fixed a bug with StrCase, Title Case wasn't working as should be.<br />
        - Fixed a bug with StrStrAdv, previous fix created another bug, string not returned correctly when using backwards search with "DisplayStrToSearch" as "0".<br />
        <br />
        New Function <b>StrNumToStr</b>:<br />
        <br />
        Converts Numbers to Strings. Main Features:<br />
        <br />
        - Multilanguage support. (English and Portuguese (Brazil))<br />
        - Supports numbers up to 18 digits.<br />
        - Virtually, the number digits limit is unlimited (doesn't use Int64), I'm just lazy to add support for numbers bigger than quadrillion...<br />
        <br />
        (as it uses just two languages now, has to be included any of the languages supported by the command in your script)<br />
        <br />
        <b>Anyone can contribute or talk about StrNumToStr translations.</b><br />
        <br />
        Please test it so I can be certain about its quality.<br />
        <br />
        The file:</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">16th March 2004 22:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Will someone put this version 1.05 inside NSIS package? It has something wrong or is too much updated in a small amount of time?</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">17th March 2004 10:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"><strong>Testing...</strong><br />
        Hi Deguix :)<br />
        <br />
        I wanted to do some translations for this new function, and I played a bit with it.. I just have a few questions:<br />
        <br />
        1) For "1789" I have the result "Seventeen hundred and eighty-nine", shouldn't it be "one thousand seven hundred and eighty-nine" ?<br />
        <br />
        I have noticed it as in french it should be "mille sept-cent quatre-vingt-neuf", except if you're talking about a date, in which case both can be used.<br />
        For instance:<br />
        "la Revolution francaise a eu lieu en dix-sept cent quatre-vingt-neuf"<br />
        ("The french revolution took place in seventeen hundred and eighty-nine")<br />
        <br />
        <br />
        2) Another point:<br />
        <br />
        - If I set "100-900_DIFFERENT" to 1, I have:<br />
        123123 "Cent vingt-trois mille cent vingt-trois" -&gt; correct<br />
        <br />
        223223 "vingt-trois mille vingt-trois" -&gt; NOT correct, should be "<font color="green">deux cent</font> vingt-trois mille <font color="green">deux cent</font> vingt-trois"<br />
        <br />
        - If I set "100-900_DIFFERENT" to 0, I have:<br />
        <br />
        123123 "<font color="red">un</font> cent vingt-trois mille <font color="red">un</font> cent vingt-trois" -&gt; NOT correct (errors in red)<br />
        <br />
        223223 "Deux cent vingt-trois mille deux cent vingt-trois" -&gt; correct<br />
        <br />
        <br />
        3) Could you explain these:<br />
        <br />
        11-19_EQUAL<br />
        100-900_DIFFERENT<br />
        11-99_HUNDRED<br />
        <br />
        Thanks<br />
        <br />
        evilO/Olive</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">17th March 2004 21:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">I made some changes to it, added a new LangString for your case, and changed the names of other LangStrings to easier to understand... Test it. Same version. (thanks for trying to translate it, so I can make changes depending how the numbers from other languages are).<br />
        <br />
        1) You can set the translation option "1100-9900_ARE_HUNDRED" to 0, so will output right as you need.<br />
        <br />
        2) I added an option to support this, see the new LangStrings inside StrFunc.nsh.<br />
        <br />
        3) I made changes to make things more clear, see the new LangStrings inside StrFunc.nsh.</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">19th March 2004 10:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Hi Deguix :) !<br />
        <br />
        Ok I tested the modifications:<br />
        <br />
        1) Ok, this works fine now, thanks :up:<br />
        <br />
        2) Still does not work: maybe another flag has to be added for that.<br />
        <br />
        In french, if the figure of the hundreds or the thousands is 1, we do *not* write it. Therefore, 123 should give "cent vingt-trois" and not "<font color="red">un</font> cent vingt-trois"<br />
        <br />
        If this figure is &gt; 1, then we do write it. 223 is written "<font color="green">Deux</font> cent vingt-trois"<br />
        <br />
        Same for the thousands:<br />
        1123 should give "Mille cent vingt-trois" and<br />
        2123 should give "<font color="green">Deux</font> mille cent vingt-trois"<br />
        <br />
        <br />
        evilO/Olive<br />
        <br />
        PS: BTW I just had a few compilation problems and had to make changes to<br />
        !define FUNCTION_STRING_UninstSupport<br />
        ...<br />
        <br />
        1) I have replaced:<br />
        <br />
        <font color="red">!define StrNumToStr `!insertmacro FUNCTION_STRING_StrNumToStr`</font><br />
        by:<br />
        <br />
        <font color="green">!define UnStrNumToStr `!insertmacro FUNCTION_STRING_StrNumToStr`</font><br />
        <br />
        <br />
        2) Added:<br />
        <br />
        <font color="green">!define UnStrCase `!insertmacro FUNCTION_STRING_StrCase`</font><br />
        <br />
        and removed:<br />
        <br />
        <font color="red">!define UnStrUpperCase `!insertmacro FUNCTION_STRING_StrUpperCase`<br />
        <br />
        !define UnStrLowerCase `!insertmacro FUNCTION_STRING_StrLowerCase`</font><br />
        <br />
        <br />
        <br />
        I think that's all for now :)</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">25th March 2004 03:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">1) Set "1**_DIFFERENT_SUFIX" LangString to 1 and set "100D" as "hundred (in your language)".<br />
        <br />
        "100" and "100D" have to be the same because Portuguese has a little thing different... (100 = "cem", 101 -&gt; 199 = "cento")<br />
        <br />
        2) I fixed these bugs you said now. Test it.<br />
        <br />
        Oh, thanks for the support, I don't know other languages than English and Portuguese (Brazil) so I don't know what to add besides what I did know.<br />
        <br />
        EDIT: Ops! Thousands are different too! I have to work on it later, this file above doesn't have it. (Oh man, Portuguese has it too, how did I forget that!)</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">25th March 2004 13:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Hi Deguix !<br />
        <br />
        Finally, the forums are back :D ! Well, anyway we release some software at the moment and I won't be able to test the functions for a few days.. :(<br />
        <br />
        Also because writting numbers is more complicated that it looks, at least in french (I had to get a whole web page about writting numbers in french from 1484 to nowadays, with all the variations...).<br />
        <br />
        But don't worry I'll test it ASAP :)<br />
        <br />
        Oh, just two little things :<br />
        <br />
        1) In the macro FUNCTION_STRING_UninstSupport, this define is still there:<br />
        <br />
        !define StrNumToStr `!insertmacro FUNCTION_STRING_StrNumToStr`<br />
        <br />
        and should be replaced by<br />
        <br />
        !define <font color="green">Un</font>StrNumToStr `!insertmacro FUNCTION_STRING_StrNumToStr`<br />
        <br />
        <br />
        2) I've found a (little) bug in the function StrCase :<br />
        <br />
        If you decide to use $R5 to store the function's return value, the return value is appended to the variable's initial value. Just an initialisation problem.<br />
        <br />
        Here is the code to reproduce the bug:<br />
        <br /></p>
        <pre>
<span style="color: #007700">!include</span><span style="color: #0000BB">StrFunc</span><span style="color: #007700">.</span><span style="color: #0000BB">nsh
<br /></span><span style="color: #007700">${</span><span style="color: #0000BB">StrCase</span><span style="color: #007700">}
<br /><br /></span><span style="color: #0000BB">Name</span><span style="color: #DD0000">"Example1"
<br /></span><span style="color: #0000BB">OutFile</span><span style="color: #DD0000">"example1.exe"
<br /></span><span style="color: #0000BB">InstallDir$PROGRAMFILESExample1
<br />Pageinstfiles
<br /><br />Section</span><span style="color: #DD0000">""
<br /></span><span style="color: #0000BB">StrCpy$R5</span><span style="color: #DD0000">"blabla"
<br /></span><span style="color: #0000BB">StrCpy</span><span style="color: #007700">$</span><span style="color: #0000BB">0</span><span style="color: #DD0000">"string"
<br /></span><span style="color: #007700">${</span><span style="color: #0000BB">StrCase</span><span style="color: #007700">}</span><span style="color: #0000BB">$R5</span><span style="color: #DD0000">"$0""UpperCase"
<br /></span><span style="color: #0000BB">MessageBoxMB_OK</span><span style="color: #DD0000">"Res:$R5"</span><span style="color: #007700">;&lt;--</span><span style="color: #0000BB">atthispointtheresultis</span><span style="color: #DD0000">"blablaSTRING"
<br /></span><span style="color: #0000BB">SectionEnd
<br /></span>
</pre><br />
        evilO/Olive
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">25th March 2004 22:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Ahhh... how the old times were good, I had the entire day to test all things I submitted (the computer was too worse you couldn't really play on it). Now with a new computer, the time was shrunken and my brother is liking it because he can now access the internet about everytime, and play his favourite games...<br />
        <br />
        But I'll try to make a file to test this file before launching a new version to test if it works.<br />
        <br />
        Is it really hard to learn how to use French numbers or you're just saying you're not French?</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">26th March 2004 10:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Hi Deguix<br />
        <br />
        Yeah I've seen a few posts about your brother who monopolizes the computer... Erf, the "old times" ... Well, I recall on a 0x86 we could already play at "Double Dragon" or "Xenon 2", but<br />
        you're brother probably doesn't know about these :p<br />
        <br />
        Oh, and I'm french :D... But there a a different rules, especially for big numbers (what they call "short scale" and "long scale"), some variations. So I would like to take some time to make sure the function behave correctly, and to make proper translations...<br />
        <br />
        Have a nice week-end ! :)<br />
        <br />
        evilO/Olive</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">27th March 2004 03:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"><b>Version 1.06:</b><br />
        <br />
        - Added instructions for StrNumToStr translation.<br />
        - Fixed lots of bugs from faulty basic header file structure relating to StrNumToStr command.<br />
        - Fixed the bug where the old string was attached to string returned by StrCase when $R5 variable was used.<br />
        <br />
        I've a new file for <b>testing</b>, which provides all the essential verification system for the header file.<br />
        <br />
        It isn't included with the package because it's just for developer's use now. :(<br />
        <br />
        Fixed bugs all bugs, including the ones you said and ones we didn't discover before. Bugs already fixed will never appear anymore.<br />
        <br />
        And I added a new LangString for StrNumToStr, 1***_DIFFERENT_PREFIX which enables thousands to be w/o the number on the left.<br />
        <br />
        <b>Test drive it now!</b></p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
        <span class="post-time small text-muted">6th April 2004 16:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Hi deguix !<br />
        <br />
        Well, I'm really sorry about the delay but as I told you we had<br />
        some piece of software to release, deadlines, etc. :(<br />
        I really had no time, I'm glad it's over for now... :)<br />
        <br />
        <br />
        So I have tested the function, and my conclusion is that it's definitely complicated to create such a function with the support of several languages... :D<br />
        <br />
        <br />
        Correct strings are in <font color="green">green</font>, "errors" are in <font color="red">red</font>.<br />
        <br />
        <br />
        <font color="blue">1) About the hundreds and the thousands without the prefix:</font><br />
        <br />
        It's working perfectly :up:<br />
        <br />
        <br />
        <font color="blue">2) About the numbers from 21 to 69:</font><br />
        <br />
        The separator changes, it's a special case for 21, 31, 41, 51, 61.<br />
        Another flag might have to be added (!!)<br />
        <br />
        - If I set "Sep*0-*9" to " et ", I get this:<br />
        <br />
        20 -&gt; vingt<br />
        21 -&gt; vingt <font color="green">et</font> un<br />
        22 -&gt; vingt <font color="red">et</font> deux<br />
        23 -&gt; vingt <font color="red">et</font> trois<br />
        <br />
        - If I set "Sep*0-*9" to "-", I get this:<br />
        <br />
        20 -&gt; vingt<br />
        21 -&gt; vingt<b><font color="red">-</font></b>un<br />
        22 -&gt; vingt<b><font color="green">-</font></b>deux<br />
        23 -&gt; vingt<b><font color="green">-</font></b>trois<br />
        <br />
        - And it should be:<br />
        <br />
        20 -&gt; vingt<br />
        21 -&gt; vingt <b><font color="green">et</font></b> un<br />
        22 -&gt; vingtt<b><font color="green">-</font></b>deux<br />
        23 -&gt; vingtt<b><font color="green">-</font></b>trois<br />
        ...<br />
        <br />
        <br />
        <br />
        <font color="blue">3) About the numbers from 70 to 79:</font><br />
        <br />
        Instead of having the figure of the tens for "seventy" + 1, 2, 3 ..,<br />
        we use the figure of the tens for "sixty": + 11, 12, 13, ...<br />
        <br />
        - I get:<br />
        <br />
        70 -&gt; soixante-dix (60-10)<br />
        71 -&gt; soixante-<font color="red">dix et un</font> (60-10 et 1)<br />
        72 -&gt; soixante-<font color="red">dix et deux</font> (60-10 et 2)<br />
        73 -&gt; soixante-<font color="red">dix et trois</font> (60-10 et 3)<br />
        <br />
        - Instead of:<br />
        <br />
        70 -&gt; soixante-dix (60-10)<br />
        71 -&gt; soixante <font color="green">et onze</font> (60 et 11)<br />
        72 -&gt; soixante<font color="green">-douze</font> (60-12)<br />
        73 -&gt; soixante<font color="green">-treize</font> (60-13)<br />
        ...<br />
        <br />
        <br />
        <br />
        <font color="blue">4) Same for the numbers from 90 to 99:</font><br />
        <br />
        Instead of having the figure of the tens for "ninety" + 1, 2, 3 ..,<br />
        we use the figure of the tens for "eighty": + 11, 12, 13, ...<br />
        <br />
        - I get:<br />
        <br />
        90 -&gt; quatre-vingt-dix (4-20-10)<br />
        91 -&gt; quatre-vingt-<font color="red">dix et un</font> (4-20-10 et 1)<br />
        92 -&gt; quatre-vingt-<font color="red">dix et deux</font> (4-20-10 et 2)<br />
        93 -&gt; quatre-vingt-<font color="red">dix et trois</font> (4-20-10 et 3)<br />
        ...<br />
        <br />
        - Instead of<br />
        <br />
        90 -&gt; quatre-vingt-dix (4-20-10)<br />
        91 -&gt; quatre-vingt-<font color="green">onze</font> (4-20-11)<br />
        92 -&gt; quatre-vingt-<font color="green">douze</font> (4-20-12)<br />
        93 -&gt; quatre-vingt-<font color="green">treize</font> (4-20-13)<br />
        ...<br />
        <br />
        Now it starts to get complicated...<br />
        <br />
        <br />
        <br />
        <font color="blue">5) For the numbers from 80 to 89:</font><br />
        <br />
        <font color="blue">5a:</font> Here we use the figure of the tens for "eighty" + 1, 2, 3 ..<br />
        <font color="blue">5b:</font> it's the same separator for all the numbers<br />
        <font color="blue">5c:</font> there is a special rule for the plural, as for the hundreds (see point 6)<br />
        <br />
        Therefore we should have:<br />
        <br />
        80 -&gt; quatre-vingts (4-20)<br />
        81 -&gt; quatre-vingt-un (4-20-1)<br />
        82 -&gt; quatre-vingt-deux (4-20-2)<br />
        83 -&gt; quatre-vingt-trois (4-20-3)<br />
        ...<br />
        <br />
        <br />
        <br />
        <font color="blue">6) For the hundreds:</font><br />
        <br />
        The word "cent" (hundred) <b>does</b> vary when there is a digit that <b>multiplies</b> it just before,<br />
        and when it's <b>not</b> followed by a cardinal number.<br />
        <br />
        <font color="blue">6a:</font> if there are no digits after the hundreds<br />
        <br />
        For instance:<br />
        100 -&gt; cent<br />
        200 -&gt; deux cent<b><font color="green">s</font></b> (2 * 100)<br />
        300 -&gt; trois cent<b><font color="green">s</font></b> (3 * 100)<br />
        400 -&gt; quatre cent<b><font color="green">s</font></b> (4 * 100)<br />
        ...<br />
        <br />
        BUT:<br />
        1100 -&gt; mille cent (1000 + 100, does NOT multiply)<br />
        <br />
        <br />
        <font color="blue">6b:</font> if there are digits after the hundreds<br />
        <br />
        201 -&gt; deux cent un<br />
        202 -&gt; deux cent deux<br />
        203 -&gt; deux cent trois<br />
        ...<br />
        200 000 -&gt; deux cent mille<br />
        <br />
        BUT:<br />
        200 000 000 -&gt; deux cent<b><font color="green">s</font></b> millions<br />
        200 000 000 000 -&gt; deux cent<b><font color="green">s</font></b> milliards<br />
        ...<br />
        <br />
        As millions, milliards and so on are not "cardinal number" but "names".<br />
        <br />
        Exactly the same rule applies for the word "vingt" in "quatre-vingt<b><font color="green">s</font></b>".<br />
        <br />
        81 -&gt; quatre-vingt-un<br />
        82 -&gt; quatre-vingt-deux<br />
        83 -&gt; quatre-vingt-trois<br />
        ...<br />
        80 000 -&gt; quatre-vingt mille<br />
        <br />
        BUT:<br />
        80 000 000 -&gt; quatre-vingt<b><font color="green">s</font></b> millions<br />
        80 000 000 000 -&gt; quatre-vingt<b><font color="green">s</font></b> milliards<br />
        <br />
        <br />
        <br />
        Ok I think that's all for now. I just hope that it was clear, don't hesitate to ask if you've got any question.. :)<br />
        <br />
        <br />
        <br />
        evilO/Olive</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
        <span class="post-time small text-muted">6th April 2004 21:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">What is that? Oh man, this will be more complicated than I ever imagined... OK, it won't be done so fast...</p>
      </div>
      <hr />

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
        <span class="post-time small text-muted">6th April 2004 21:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">How about a version without that function for now?</p>
      </div>
      <hr />
      <!-- Bootstrap core CSS -->
      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

      <div class="container">
        <!-- Put navigation bar here -->

        <ol class="breadcrumb">
          <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

          <li><a href="f-65.html">NSIS Discussion</a></li>

          <li class="active">string functions</li>
        </ol>

        <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=165779">string functions</a></p><br />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">7th April 2004 02:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">As you wish, removed all info about this function for now, until I get it done (won't be so soon :():</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
          <span class="post-time small text-muted">7th April 2004 16:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Hi Deguix !<br />
          <br />
          I'm sorry to have discouraged you, I just wanted to help... :(<br />
          But, as I told you in a previous post, it's quite complicated to write<br />
          numbers in french (I think you have noticed :D).<br />
          And I tried to make it as simple and structured as possible...<br />
          <br />
          Well, it's not an easy job, I understand you don't want to program that now.<br />
          Just let me know when something is done if you want me to do some tests.. :)<br />
          <br />
          evilO/Olive</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">7th April 2004 23:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">I don't want to do that now because I working on several projects for some other programs. Just to prevent "overload". :D But when everything is clear I'll work again on it.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">5th June 2004 01:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">I just uploaded the new version of StrFunc.nsh test. Is to replace the older one (which doesn't compile now). It tests all commands when installing and uninstalling.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">25th June 2004 12:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">So which one is it going to be for 2.01?</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">25th June 2004 18:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">1) The last zip file.<br />
          <br />
          2) This last file which is the test of StrFunc (as you or Joost requested in PM, replacing the example coming with NSIS which has problems).<br />
          <br />
          3) The updated documentation below. I fixed only the mention of StrNumToStr on the <i>Comments about functions included and not included</i>, <i>Version History</i> and <i>Functions Credits</i>. Same version.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">17th September 2004 01:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"><strong>String Functions Header File 1.07</strong><br />
          As kichik slowed so much the release of NSIS 2.01 (see previous posts) I could have some time off to do the new String Functions Header File. Give a look on these changes below:<br />
          <br />
          <b>1.07</b> - <i>09/16/2004</i><br />
          <br />
          - StrStrAdv and StrCase have their functions remodeled with LogicLib.<br />
          Functions have a lesser chance to have bugs.<br />
          - Added case-sensitive comparation option for StrStrAdv.<br />
          - StrCase now uses System.dll which makes case convertions effective with<br />
          all latin letters (i.e. ê).<br />
          - StrClbSet and StrClbGet removed, added StrClb.<br />
          - Made compact the most usual operations inside the header file. File size<br />
          reduced.<br />
          - Added "!verbose" to header file -&gt; faster compilation and header file<br />
          output organized (code borrowed from LogicLib.nsh).<br />
          <br />
          Kichik, as you plan to release NSIS 2.01 (for real this time) you can put the StrFunc test example on NSIS for now (just to update). Then afterwards, I'll create a better example like the one from Word Functions Header File (but better, hehe :) what am I planning now?)<br />
          <br />
          Thank you dselkirk and eccles for LogicLib. That tool made everything easier for me this version...<br />
          <br />
          This file below contains:<br />
          <br />
          - StrFunc.nsh (header)<br />
          - StrFunc.txt (manual)<br />
          - StrFunc.nsi (example)</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">17th September 2004 11:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <ul>
            <li>The example fails on StrClb</li>

            <li>If you're already using System.dll, why not use IsCharAlpha or even GetStringType instead of lots of comprasions?</li>

            <li>You don't have to make two copies of the code, you can assume the LogicLib is present. It is installed a line after StrFunc.nsh in makensis.nsi</li>
          </ul>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">17th September 2004 12:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Updated documentation because I forgot to remove a feature from ${StrCase}. (not again):(<br />
          <br /></p>

          <blockquote>
            The example fails on StrClb
          </blockquote>This was not expected by me, where did you find the failure?<br />
          <br />

          <blockquote>
            If you're already using System.dll, why not use IsCharAlpha or even GetStringType instead of lots of comprasions?
          </blockquote>Maybe you should give me "IsCharAlpha" code, because I couldn't get it to work at any costs.<br />
          <br />

          <blockquote>
            You don't have to make two copies of the code, you can assume the LogicLib is present. It is installed a line after StrFunc.nsh in makensis.nsi
          </blockquote>The real thing is that the LogicLib version is (probably) the same as the converted to normal one. Commenting one of them makes no difference. If you want me to do so I can comment the LogicLib one and just include the original in the distribution.
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">17th September 2004 12:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">The failure is in Examples\StrFunc.nsi.<br />
          <br />
          IsCharAlpha needs a char. For this, you can treat the string a struct of some bytes and get the first byte.<br />
          <br />
          If I were you, I'd prefer keeping the LogicLib code. It's simpler. Why keep two versions? It's more work.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">17th September 2004 12:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            The failure is in Examples\StrFunc.nsi.
          </blockquote>But where in the file? I tested and everything passed...<br />
          <br />

          <blockquote>
            IsCharAlpha needs a char. For this, you can treat the string a struct of some bytes and get the first byte.
          </blockquote>I'm not getting this code to work for days. And I already tried that without any luck.<br />
          <br />

          <blockquote>
            If I were you, I'd prefer keeping the LogicLib code. It's simpler. Why keep two versions? It's more work.
          </blockquote>Ok, at least you know how difficult is to create one... I just wanted to keep the original because it doesn't require LogicLib, but if you think so, I'll fix that at night.
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">17th September 2004 13:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">With the files you've attached, it fails in the uninstaller. I haven't gotten into it to see which line exactly.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">17th September 2004 22:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">I attached the example again. It's still working for me normally.<br />
          <br />
          (I should add another thing to the documentation about the "${UnStrFunc}" which was removed)</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">17th September 2004 22:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">I managed to solve it by passing OpenClipboard the window handle (was giving errors about the thread not having an open clipboard associated with it) and by locking and unlocking the handle returned by GetClipboardData (like in the MSDN example).</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">17th September 2004 23:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            I managed to solve it by passing OpenClipboard the window handle (was giving errors about the thread not having an open clipboard associated with it) and by locking and unlocking the handle returned by GetClipboardData (like in the MSDN example).
          </blockquote>The code I used was mostly copied (only with added comments and united options) from the separated old ${StrClbSet} and ${StrClbGet}. The older versions didn't have the window handle set.<br />
          <br />
          If you are getting errors now, you never tested those before (I think). Can you test if the older StrFunc.nsh version ${StrClbSet} and ${StrClbGet} have this problem?
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">18th September 2004 01:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Posted version requiring LogicLib.nsh to be included before including StrFunc.nsh. But there is still the problems about "IsCharAlpha" API and "${StrClb}" with that issue you said. Maybe is better you to fix the issues above as I don't know how to fix them :(...</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">18th September 2004 11:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">The original example had just one test. The new example has many and it usually doesn't fail in the first one. If I add more tests to the original example, it fails too.<br />
          <br />
          Here's an example for IsCharAlpha:</p>
          <pre>
<code>StrCpy $0 "testing... testing... 1 2 3"<br /><br />System::Call "*(&amp;t${NSIS_MAX_STRLEN} r0) i .r1"<br />StrCpy $2 $1<br />loop:<br />System::Call "*$2(&amp;i1 .r4)"<br />StrCmp $4 0 done<br />System::Call "user32::IsCharAlpha(i r4) i .r4"<br />StrCmp $4 0 0 +3<br />DetailPrint "$4 - not alpha"<br />Goto +2<br />DetailPrint "$4 - alpha"<br />IntOp $2 $2 + 1<br />Goto loop<br />done:<br />System::Free $1</code>
</pre>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">21st September 2004 04:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">I'm going to fix tomorrow morning or night (depending if I have time). But what did you do to result in that code so fast? I think only you and brainsucker (and some other people) knows how to do everything with System plugin.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">21st September 2004 23:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Ok, I've done what you told me. However maybe you should give the code of ${StrClb} that worked with you so I can implement it to the header file. I can't do anything else because on my computer the old example (first published 1.07 example) runs perfectly.<br />
          <br />
          I re-added "&lt;&gt;" (switch) case for ${StrCase} because of the code you gave me on your last post.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">22nd September 2004 17:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">It would be nicer if you include LogicLib.nsh yourself and not ask the user to do it. There will be no errors if it's included more than once.<br />
          <br />
          You forgot to System::Free call for the allocated buffers in StrCase.<br />
          <br />
          StrClb changes are really simple. Lock and unlock what you get from GetClipboardData and pass $HWNDPARENT and not 0 to OpenClipboard.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">22nd September 2004 20:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            StrClb changes are really simple. Lock and unlock what you get from GetClipboardData and pass $HWNDPARENT and not 0 to OpenClipboard.
          </blockquote>I'm not totally experienced on System plugin (as I implicitly said with "IsCharAlpha"). I think this discussion could be shortned by just posting a simple code like that one you posted for "IsCharAlpha" (as you said it's simple for you and that you done it already).<br />
          <br />
          If I would do the code, then probably in the future I would need to fix something on this code as it could not continue to work on your computer... Sorry if I'm so dumb to understand it completely. ;)
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">27th September 2004 10:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Thanks kichik for including your changes to StrFunc.nsh on NSIS 2.01. Everything is working perfectly.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">12th October 2004 23:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">New version of StrFunc. The biggest change: all functions from StrFunc are now on LogicLib coding, and comments added on most parts of functions. Second biggest change: StrSort has been changed and can break old scripts. See its documentation. List of changes:<br />
          <br />
          <b>1.08</b> - <i>10/12/2004</i><br />
          <br />
          - Converted all the functions to LogicLib.<br />
          - StrSort: Totally remade and it can break old scripts. See documentation for details.<br />
          - Added defines: StrFunc_List, *_List and *_TypeList.<br />
          - Fixed StrStrAdv: Variables $R0-$R3 couldn't be used on scripts before calling.<br />
          - StrRep: Cut down some variables.<br />
          - Arranged correctly the order of StrSort on the documentation.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
          <span class="post-time small text-muted">20th October 2004 17:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Hi Deguix :)<br />
          <br />
          I know I haven't been on the forum for a while, I just had tons of work to do (and still no Internet connection at home..).<br />
          But I was keeping an eye on your String functions header.. I downloaded the last version... Really nice job :up: !<br />
          <br />
          Well, I just had 2 problems using the new functions header file (but I didn't test all the functions):<br />
          - I had to fix all the "StrTok" calls in my scripts as you decreased the starting index for the "ResultPart" (and to re-test and validate everything :()<br />
          - You forgot a "Push $R0 / Pop $R0" in the function "StrTok", the content of $R0 is lost when the function exits<br />
          <br />
          That's all for now.. bye :)<br />
          <br />
          <br />
          evilO/Olive</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">20th October 2004 19:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            You forgot a "Push $R0 / Pop $R0" in the function "StrTok", the content of $R0 is lost when the function exits
          </blockquote>It's even worse than I thought, $9 contents are lost also. Thanks for the information.
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
          <span class="post-time small text-muted">21st October 2004 17:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">So what goes into 2.02?</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">22nd October 2004 03:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">I didn't even start to work on it. I totally forgot about NSIS 2.02. As there are only small fixes requested this should be completed tomorrow evening or even sooner.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
          <span class="post-time small text-muted">22nd October 2004 10:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Hi Deguix :)<br />
          <br />
          Hum I noticed some other small problems with the new version of StrFunc.nsh while I was doing some further testing:<br />
          <br />
          <br />
          ------- <b><font color="green">StrCase:</font></b><br />
          An instruction is missing at the beginning of the function (<b>Exch</b>), the contents of $0 and $1 are swapped when the function exits<br />
          <br />
          <br />
          ------- <b><font color="green">StrClb:</font></b><br />
          - I couldn't manage to swap strings using "&lt;&gt;", so I modified the function, but you'll probably find a better fix :D<br />
          <br />
          One thing I didn't understand:<br />
          For the operation "&lt;", after the call to "GetClipboardData" there is the <i>handle</i> in $2<br />
          For the operation "&lt;&gt;", after the call to "GetClipboardData" there is the <i>string</i> in $2<br />
          Why?<br />
          <br />
          - There is a typo in the function's comments:<br />
          <br />
          $0 = Action (input)<br />
          $1 = String (input)<br />
          <br />
          should be<br />
          <br />
          $0 = String (input)<br />
          $1 = Action (input)<br />
          <br />
          ------- <b><font color="green">StrRep:</font></b><br />
          An instruction is missing at the end of the function (<b>Pop $R3</b>), the content of $R3 is lost<br />
          <br />
          <br />
          ------- <b><font color="green">StrSort:</font></b><br />
          There is a parameter missing in the doc's example<br />
          <br />
          <br />
          ------- <b><font color="green">StrStrAdv:</font></b><br />
          The example in the doc is slightly wrong:<br /></p>
          <pre>
<span style="color: #007700">${</span><span style="color: #0000BB">StrStrAdv</span><span style="color: #007700">}$</span><span style="color: #0000BB">0</span><span style="color: #DD0000">"ThisISreallyjustanexample""IS""&gt;""&gt;""1""0""1"
</span>
</pre>returns <b>"IS really just an example"</b> (and not <b>"really just an example"</b> as stated in the doc)<br />
          <br />
          To get the string <b>"really just an example"</b>, the example should be
          <pre>
<span style="color: #007700">${</span><span style="color: #0000BB">StrStrAdv</span><span style="color: #007700">}$</span><span style="color: #0000BB">0</span><span style="color: #DD0000">"ThisISreallyjustanexample""IS""&gt;""&gt;""0""0""1"
</span>
</pre><br />
          Hum I think that's all I found..<br />
          Have a nice day :)<br />
          <br />
          <br />
          evilO/Olive
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">22nd October 2004 12:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">OK, I expected those functions to have bugs, but I didn't think they contained so many of them.<br />
          <br />
          I can see that those are mainly from stack, so I should add to the StrFunc.nsi StrCpy's for each variable, and see if they are swaped when they shouldn't be.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
          <span class="post-time small text-muted">22nd October 2004 13:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Well they didn't contain that much bugs since you rewrote a lot of the code.. :) Moreover, the functions *do* work, as you said it's mainly stack problems..<br />
          Well, I spoted them because I had strange behaviors in my installers all of a sudden..<br /></p>

          <blockquote>
            I can see that those are mainly from stack, so I should add to the StrFunc.nsi StrCpy's for each variable, and see if they are swaped when they shouldn't be.
          </blockquote>Hum I used a user-defined variable and the "dumpstate" plugin to check the content of the variables, you could do that in a shortened version of StrFunc.nsi to test..<br />
          <br />
          Ah, and have you an answer for my question about "GetClipboardData" ?<br />
          <br />
          Thanks, bye ! :)<br />
          <br />
          evilO/Olive<br />
          <br />
          PS: sorry I should have attached the 'nsh' file in the previous post..
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">IronFist</span><br />
          <span class="post-time small text-muted">22nd October 2004 15:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"><strong>IRON JUSTICE</strong><br />
          *removed*</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">22nd October 2004 19:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            Well they didn't contain that much bugs since you rewrote a lot of the code...
          </blockquote>For me one bug is enough to make me fix it, so I say one is a lot.<br />
          <br />

          <blockquote>
            Hum I used a user-defined variable and the "dumpstate" plugin to check the content of the variables, you could do that in a shortened version of StrFunc.nsi to test..
          </blockquote>I'm going to do that because that way it is automatic. This means (about) never this bug will appear again when scripting.<br />
          <br />
          About the documentation, as it is not done automatically, it will probably have typos.<br />
          <br />

          <blockquote>
            Ah, and have you an answer for my question about "GetClipboardData" ?
          </blockquote>Not yet, I have to share the computer with 3 more people so my time is restricted.<br />
          <br />
          (next time attach .nsh files as they are, don't use the extention .txt at the end)
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">23rd October 2004 00:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"><strong>String Functions Header File 1.09</strong><br />
          I fixed those bugs and some others from other topics posts:<br />
          <br />
          <b>1.09</b> - <i>10/22/2004</i><br />
          <br />
          - Fixed stack problems involving: StrCase, StrRep, StrSort, StrTok.<br />
          - Fixed StrClb: When "Action" = "&lt;&gt;", handle was wrongly outputed as text.<br />
          - Fixed StrSort, StrStrAdv documentation examples.<br />
          - Fixed StrIOToNSIS, StrLoc, StrNSISToIO, StrRep, StrStr: sometimes didn't find "StrToSearch" at all.</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">evilO</span><br />
          <span class="post-time small text-muted">25th October 2004 10:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content"></p>

          <blockquote>
            For me one bug is enough to make me fix it, so I say one is a lot
          </blockquote>Well from that point of view of course..<br />

          <blockquote>
            I'm going to do that because that way it is automatic
          </blockquote>Ok I didn't understand exactly what you intended to do in the first place..<br />

          <blockquote>
            About the documentation, as it is not done automatically, it will probably have typos
          </blockquote>Hum yes just another typo: for the example of "StrSort" I think that<br />
          <pre>
<span style="color: #007700">${</span><span style="color: #0000BB">StrSort</span><span style="color: #007700">}$</span><span style="color: #0000BB">0</span><span style="color: #DD0000">"Thisisjustanexample""just""""ple""0""0""0"
</span>
</pre>should be
          <pre>
<span style="color: #007700">${</span><span style="color: #0000BB">StrSort</span><span style="color: #007700">}$</span><span style="color: #0000BB">0</span><span style="color: #DD0000">"Thisisjustanexample""""just""ple""0""0""0"
</span>
</pre>

          <blockquote>
            next time attach .nsh files as they are, don't use the extention .txt at the end
          </blockquote>Oops I wasn't awake this day, I missed "nsh" in the valid file extensions.. :D<br />
          <br />
          Bye :) !<br />
          <br />
          evilO/Olive
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
          <span class="post-time small text-muted">10th January 2005 00:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">This alternative version has a more compressed code on the header file than this current version. A drawback is the slower speed of compilation for the user. (That's why it's alternative from the current version).<br />
          <br />
          It shows how to make the use of "!system" compile time instruction to bypass the limitation of inclusion of macros inside macros by using the inclusion of external files. (macros can include macros from other files only)<br />
          <br />
          The resulted executable will have the exact size as using the default one.<br />
          <br />
          I'm sad that this approach didn't make my code smaller w/ a decent speed. :(</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">congtak</span><br />
          <span class="post-time small text-muted">7th November 2007 04:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">Hi,<br />
          i have this problem to solve,<br />
          I want to remove the very last "\" from a string<br />
          example : "C:\abcd\abcd\"<br />
          I want to convert this string to "C:\abcd\abcd"<br />
          <br />
          I tried to use<br />
          <br />
          StrLoc $0 "C:\abcd\abcd\" "\" "&lt;"<br />
          <br />
          but $0 = 11 instead of 1<br />
          so StrLoc counts the location from the end of string but doesnt start the search from the end of the String so it still gives the first "\" found. Is there any way to solve my problem?<br />
          <br />
          Thanks</p>
        </div>
        <hr />

        <div class="post">
          <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
          <span class="post-time small text-muted">7th November 2007 10:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

          <p class="post-content">StrCpy $0 `C:\abcd\abcd\` 1 -1<br />
          StrCmp $0 `\` 0 +2<br />
          StrCpy $0 $0 -1<br />
          <br />
          Stu</p>
        </div>
        <hr />

        <div class="footer">
          <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
        </div>
      </div><script src="../js/highlight.pack.js" type="text/javascript">
</script> <script type="text/javascript">
//<![CDATA[
      hljs.initHighlightingOnLoad();
      //]]>
      </script>
    </div>
  </div>
</body>
</html>
