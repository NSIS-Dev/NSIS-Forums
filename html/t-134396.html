<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Username Password +More"><title>Username Password +More - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Username Password +More</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=134396">Username Password +More</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">KHolmes</span><br><span class="post-time small text-muted">5th May 2003 16:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Username Password +More</strong><br>Hello,<br><br>I know there is code out there for a username and password.. I have found a few on this board.<br>Is this possible. I have 3 different programs I want installed. User1 enters username1 password1 can then proceed to install program1, user2 enters username2 and password2 can install program2, user3 enters username3 and password3 can then proceed to install program3. I could make 3 different installers and 3 different discs, but that's not what I really want. If someoen could modify the code below and repost it. That would be greatly appreciated by myself and anyone else who can use it<br><br>Thanks in advance<br><br><font size="1">[edit]edited by kichik. please don't paste in huge scripts. script in question can be found @ <a href="http://nsis.sourceforge.net/archive/nsisweb.php?page=77&amp;instances=0,64" target="_blank">http://nsis.sourceforge.net/archive/...instances=0,64</a>[/edit]</font></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">5th May 2003 19:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Why can't you just do what you have there, but just extract different files depending on the entered password / user name.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">5th May 2003 20:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can save a value to a variable and use it to install different files in the section.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">KHolmes</span><br><span class="post-time small text-muted">6th May 2003 01:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Can you do this?</strong><br>Joost could you modify your code so it would do this? I am not that well versed in nsi scripts.<br><br><br>Please and Thank You</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">6th May 2003 12:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Just what you did in the page function, you can also put that in a section (read the INI file again or store the values in a variable).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">KHolmes</span><br><span class="post-time small text-muted">7th May 2003 22:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Joost I need your help</strong><br>Joost I am really new to programming and scripting.. I could really use your help on howto figure out how to get these into a variable and how each can call their own files to install... I am hoping to study and learn off what you have done, but I just don't have the knowledge to continue from here..<br><br>Can you please help me...<br><br><br>Thanks<br><br><br>Ken</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">KHolmes</span><br><span class="post-time small text-muted">9th May 2003 02:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Can anyone help me!</strong><br>Can someone please help me. I am new to programming and scripting.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">9th May 2003 09:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Check 'Examples\Modern UI\InstallOptions.nsi' or 'Contrib\InstallOptions\test.nsi', they use the input of a custom page.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br><span class="post-time small text-muted">9th May 2003 09:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Here's a way of doing it, but I'd prefer being able to do it by turning sections on and off (yet still have them invisible) rather than testing a variable in each section. Still, it seems to work okay.<br><br>(Note: it's a variation on the script KiCHiK linked to at the top of this page, so it needs the .ini file that goes with that script, follow his link to find the ini file)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th May 2003 13:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sunjammer, in the latest CVS version (maybe even b3, I don't remember right now) you can unselect hidden sections so they won't get executed. I have attached a small example script.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br><span class="post-time small text-muted">9th May 2003 13:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yeah, I've just never played with that stuff, and figured any kind of solution would be of interest to KHolmes. I was actually going to hold back but then thought "hmm he/she's been waiting for a while already" ... :D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">KHolmes</span><br><span class="post-time small text-muted">10th May 2003 02:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Works, but doesn't do what I want</strong><br>I can get it to run, but it let's user2 install user1's file etc... I don't want user2 to be able to choose user1's file just their own file.<br>This is what I have.. Is what I am asking possible?<br><br>Section "user1" user1<br>DetailPrint "user1 section"<br>StrCmp $R9 "user1" 0<br>DetailPrint "install files"<br>SetOutPath "$INSTDIR"<br>File /r "file1.exe"<br>CreateShortCut "$DESKTOP\$File.lnk" "$INSTDIR\$File.*" ""<br>skip:<br>SectionEnd<br><br>Section "user2" user2<br>DetailPrint "user2 section"<br>StrCmp $R9 "user2" 0 skip<br>DetailPrint "install files"<br>SetOutPath "$INSTDIR"<br>File /r "user2.exe"<br>CreateShortCut "$DESKTOP\$File.lnk" "$INSTDIR\$File.*" ""<br>skip:<br>SectionEnd<br><br>Section "user3" user3<br>DetailPrint "user3 section"<br>StrCmp $R9 "user3" 0 skip<br>DetailPrint "install files"<br>SetOutPath "$INSTDIR"<br>File /r "user3.exe"<br>CreateShortCut "$DESKTOP\$File.lnk" "$INSTDIR\$File.*" ""<br>skip:<br>SectionEnd<br><br><br>Anyone got any ideas?<br><br>Thanks</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br><span class="post-time small text-muted">10th May 2003 11:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't understand, it works fine for me. If I "login" as user2 then the only files it installs are the files in the section for user2. The DetailPrint output shows on my screen :-</p><pre>
<code>User name: user2<br>Password: user2 password<br>user1 section<br>user2 section<br>install files<br>Extract: NSIS.exe<br>user3 section<br>Completed</code>
</pre><br>
      Now obviously I just set some arbitrary files to install but nsis.exe was the file for user2, it didn't install any of the files I had in the other sections so what is it that doesn't work for you?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">10th May 2003 11:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Put back the minuses before the section name. If the name is "-user1" the section won't show as a component on the components page and the user won't be able to deselect it, although it will still not install because of the check.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br>
      <span class="post-time small text-muted">10th May 2003 11:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ahha I didn't spot that, nice one KiCHiK.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHolmes</span><br>
      <span class="post-time small text-muted">10th May 2003 12:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Got it to work</strong><br>
      OK I got it to work...<br>
      Thanks for all your guys' help.. I really appreciate it..<br>
      <br>
      Here is the modified version for anyone who is new to NSI. I added a few more comments for the ultra newb like myself..<br>
      <br>
      The up.ini file can be found at the link that Kichik added above.<br>
      <br>
      <br>
      Thanks again everyone</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHolmes</span><br>
      <span class="post-time small text-muted">10th May 2003 12:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>P.S. If you use this</strong><br>
      If you use this script post a reply here. It's always nice to give a kudos to the people who wrote it.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KHolmes</span><br>
      <span class="post-time small text-muted">11th May 2003 02:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Just a quick question. How do you get rid of the prompt that comes up that gives you the username and password?<br>
      <br>
      Never mind.. I opened my eyes and saw this<br>
      MessageBox MB_OK "user [$0] pass [$1]"</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">11th May 2003 03:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think because is:<br></p>
      <pre>
<code><br>MessageBox MB_OK "user $0 pass $1"<br>; change this line in your script<br></code>
</pre>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>