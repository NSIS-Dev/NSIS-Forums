<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Label transparency display/overlapping"><title>Label transparency display/overlapping - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Label transparency display/overlapping</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316026">Label transparency display/overlapping</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Lodester</span><br><span class="post-time small text-muted">5th January 2010 18:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Label transparency display/overlapping</strong><br>Hi all. A little new to NSIS so, hopefully this is an easy answer - couldn't find one elsewhere.<br><br>I'd been using NSD_SetText in my script to update labels based on workflow/states. I started using transparency for the background instead of a bg color, but now whenever a label is updated with NSD_SetText it displays both the new and the old label "on top of each other".<br><br>This appears to be a refresh issue, because if I slide the window off frame and back the correct text only appears.<br><br>How to best resolve this? Is there a better instruction to use for this other than NSD_SetText or must I do something to force a refresh? The latter would be discouraging...lots of lines to add --&gt; insert sadface.<br><br>Thanks very much for your help</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Lodester</span><br><span class="post-time small text-muted">6th January 2010 02:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">So a very unwelcome and undesirable workaround is to issue<br><br>ShowWindow $Label ${SW_HIDE}<br>ShowWindow $Label ${SW_SHOW}<br><br><b>Every</b> time after I send NSD_SetText to $Label that already has text in it.<br><br>This can't be the typical way everyone updates transparent background labels, or is a bug in NSD? or I'm just not doing something right/using a better command or method ?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Lodester</span><br><span class="post-time small text-muted">6th January 2010 18:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Anyone? Is this a bug in nsDialogs with SetText? If so I'd be happy to file a bug report</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">17th January 2010 10:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">That's the way to go. Transparent labels have no background to erase themselves with because you want to see what's behind them. Therefore, to delete them, you have to restore to trickery like this.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>