<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="RMDir switches"><title>RMDir switches - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">RMDir switches</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=317681">RMDir switches</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br><span class="post-time small text-muted">13th March 2010 03:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>RMDir switches</strong><br>I'm trying to discern the drawbacks of using /r and /REBOOTOK with RMDir. I haven't gotten very far, even after reading some older posts and concerns.<br><br>Could someone please advise me on how to decide on whether to use these switches in my installers?<br><br>Thank you very much.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">14th March 2010 11:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Not much of a problem with using rebootok, except maybe that it'll pop up a 'reboot?' question on the finish page. /r however is EXTREMELY dangerous. It will delete any files, even if they don't belong to your software. Let's say your uninstaller.exe is moved from your application's directory to c:\windows. The $instdir variable will then be C:\windows as far as your uninstaller is concerned. So the command 'RmDir $INSTDIR /r' will delete ALL files and subfolders of C:\windows. You do not want this to be possible, not even in a very unlikely scenario.<br><br>Even if you add a verification for the value of $instdir, /r is dangerous. If a user installs/copies something to your installation directory, they do not expect that to be deleted automatically when they uninstall your product. Same problem if some idiot installs your software to an already existing directory (like C:\Program Files).</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>