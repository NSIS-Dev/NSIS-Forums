<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="GetCurInstType get 0 not 32"><title>GetCurInstType get 0 not 32 - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">GetCurInstType get 0 not 32</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=277035">GetCurInstType get 0 not 32</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">pozbremser</span><br><span class="post-time small text-muted">7th September 2007 08:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>GetCurInstType get 0 not 32</strong><br>hi,<br><br>GetCurInstType must get 32 if InstType Custom is choosen.<br>The function get 0 if only one section choosen.<br>The function get 32 if more as one section choosen.<br><br>!include "MUI.nsh"<br><br>Name "test"<br>OutFile "test.exe"<br>XPStyle on<br>ShowInstDetails show<br><br>InstType "Point1"<br>InstType "/CUSTOMSTRING=Point2"<br><br>!insertmacro MUI_PAGE_COMPONENTS<br>!insertmacro MUI_PAGE_INSTFILES<br><br>!insertmacro MUI_LANGUAGE "English"<br><br>Section "Sec1" test_section_id<br>SectionIn 1<br>GetCurInstType $0<br>MessageBox MB_OK $0<br>SectionEnd<br><br>Section /o "Sec2"<br>SectionIn 32<br>SectionEnd<br><br>Section /o "Sec3"<br>SectionIn 32<br>SectionEnd<br><br>Section /o "Sec4"<br>SectionIn 32<br>SectionEnd<br><br>Thanks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">7th September 2007 17:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">32 is still an installation type for the one-based SectionIn count. If you want the three last sections to not be in the first installation type, don't use SectionIn at all.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pozbremser</span><br><span class="post-time small text-muted">7th September 2007 19:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">OK!<br><br>docu: .onSelChange<br>Selection changes include both section selection and installation type change.<br><br>does Selection change mean only manualy change of checkboxes in the list with sections, and not manually change of dropdown wiht InstType?<br><br>I'v thought, GetCurInstType get 32 in both cases:<br>if I choose custom InstType in the dropdown or<br>if I change selection by section and dropdown changes<br>to custom InstType on the basis of SectionIn.<br><br>!include "MUI.nsh"<br><br>Name "test"<br>OutFile "test.exe"<br>XPStyle on<br>ShowInstDetails show<br><br>InstType "Point1"<br>InstType "/CUSTOMSTRING=Point2"<br><br>!insertmacro MUI_PAGE_COMPONENTS<br>!insertmacro MUI_PAGE_INSTFILES<br><br>!insertmacro MUI_LANGUAGE "English"<br><br>Section "sec1_id" sec1_id<br>SectionEnd<br><br>Section "sec2_id" sec2_id<br>SectionEnd<br><br>Section "sec3_id" sec3_id<br>SectionEnd<br><br>Section "sec4_id" sec4_id<br>SectionEnd<br><br>Function .onSelChange<br>GetCurInstType $0<br>MessageBox MB_OK $0<br>FunctionEnd<br><br><br>Thank You!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">8th September 2007 07:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">"Selection change" doesn't mean change with the drop-down list. "Installation type change", on the other hand, does refer to the drop-down list.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deena.w</span><br><span class="post-time small text-muted">17th December 2010 06:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>The GetCurInstType returns only 0 when select "custom" from dropdown menu</strong><br>I am still confused about the function GetCurInstType, it seems the return value of it changed to 32 only when any of the checkbox of section has been changed, not by selecting the “custom” from the dropdown list of insttype. But in users manual, it says: “The value of ${NSIS_MAX_INST_TYPES} (32 by default) means that the custom install type was selected.” Doesn’t it mean that the custom insttype was selected from the dropdown menu?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deena.w</span><br><span class="post-time small text-muted">17th December 2010 06:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>find answer to my question in another post</strong><br>Kichik said:GetCurInstType returns the installation type according to the selection. If the user selected Custom but selected the same components that would be selected for another installation type, GetCurInstType will not return Custom.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>