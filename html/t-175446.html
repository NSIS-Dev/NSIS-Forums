<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Way to include path in clients while installing server."><title>Way to include path in clients while installing server. - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Way to include path in clients while installing server.</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=175446">Way to include path in clients while installing server.</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">scully13</span><br><span class="post-time small text-muted">5th April 2004 19:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Way to include path in clients while installing server.</strong><br>I have a product that installs a server with some data that the clients access. The client files are installed at the same time the server is set up. The clients need to have an HTTP path embedded in them somehow so that when a user downloads the client it will point back to the server. I'll be asking the user for the URL during the server install but I don't want to have to ask the clients. So, are any of the ideas below possible? Also, if somebody has any other ideas of how to do this...<br><br>A. Have the client installs prebuilt and then append a URL to the end of the file during the serer install that NSIS would read whenever a client installs.<br><br>B. Have the client install script created during the server install and then also compile that script so that it will already have the URL in it when it's built. If yes, would it be legal to distribute parts of NSIS to do this and which files would I need?<br><br>C. Build the client install with a bogus URL that could be modified during the server install.<br><br>Thanks,</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">5th April 2004 19:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">A is possible if you append data to the end so it won't make the installer verification fail (unless you have recompiled NSIS to make installer verification very strict). You can read the data using script code.<br><br>B is possible too and legal. You only need the makensis compiler and plug-in/header files you are using.<br><br>A is faster than B, B is useful if you want to change other things too.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">scully13</span><br><span class="post-time small text-muted">5th April 2004 20:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ok, I wrote a script to write the URL to the end of my client install. Something like:<br>FileOpen $0 C:\Temp\setup32.exe a<br>FileSeek $0 0 END<br>FileWrite $0 "$\r$\nhttp://www.something.com/data$\r$\n"<br>FileClose $0<br>Now, I'm trying to read it in but the only way I can get that to work is if I know exactly how long the URL is which I won't have any way of knowing:<br>FileOpen $0 C:\Temp\setup32.exe r<br>FileSeek $0 -42 END<br>FileRead $0 $1<br>FileClose $0<br>MessageBox MB_OK "$1"<br>How can I modify the code above to seek to the last line?<br><br>Thanks,</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">5th April 2004 22:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Reserve a certain space for the URL and fill the rest of it with null characters.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>