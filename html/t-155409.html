<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="MUI language strings in latest development snapshot" />

  <title>MUI language strings in latest development snapshot - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.2/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">MUI language strings in latest development snapshot</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=155409">MUI language strings in latest development snapshot</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rsegal</span><br />
      <span class="post-time small text-muted">7th November 2003 04:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>MUI language strings in latest development snapshot</strong><br />
      &nbsp; Is it possible to define multi-language strings for MUI strings such as MUI_INNERTEXT_LICENSE_TOP, MUI_INNERTEXT_LICENSE_BOTTOM which aren't detailed in the latest MUI snapshot documentation.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Vytautas</span><br />
      <span class="post-time small text-muted">7th November 2003 04:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You should be able to by using the 'LangString' command.<br />
      <br />
      Vytautas</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rsegal</span><br />
      <span class="post-time small text-muted">7th November 2003 06:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Using LangString seems to work however when I declare a language string such as,<br /></p>
      <pre>
<code>LangString MUI_TEXT_WELCOME_INFO_TEXT "${LANG_JAPANESE}" "Japanese Welcome Text" 
</code>
</pre>I get the following warning message.<br />
      <pre>
<code>LangString"MUI_INNERTEXT_LICENSE_TOP" set multiple times for 1033, wasting space (macro:LANG_STRING:1) 
</code>
</pre>It works and as long as there's no ill side effects I'm fine with this.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Vytautas</span><br />
      <span class="post-time small text-muted">7th November 2003 06:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I believe that this warning message is produced if the LangString command is in the wrong place. (I think that you have to define the Language string before you insert that particular page to prevent the warning from displaying, though I could be wrong, kichik or joost will know for sure.<br />
      <br />
      Vytautas</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">7th November 2003 13:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's not true. Please check the Readme, all settings are there (such as MUI_LICENSEPAGE_TEXT_TOP)<br /></p>
      <pre>
<code>LangString MYTEXT ${LANG_ENGLISH} "English text"<br />LangString MYTEXT ${LANG_GERMAN} "German text"<br /><br />!define MUI_LICENSEPAGE_TEXT_TOP "$(MYTEXT)"<br /><br />!insertmacro MUI_PAGE_LICENSE</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rsegal</span><br />
      <span class="post-time small text-muted">7th November 2003 15:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes MUI_LICENSEPAGE_TEXT_TOP is there but MUI_INNERTEXT_LICENSE_TOP is not.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">7th November 2003 17:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">MUI_INNERTEXT_LICENSE_TOP is a langauge file string.<br />
      <br />
      To change this text, use the MUI_LICENSEPAGE_TEXT_TOP setting.<br />
      <br />
      This is the same text (top text of license page, not the header text).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rsegal</span><br />
      <span class="post-time small text-muted">8th November 2003 19:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">How about MUI_INNERTEXT_LICENSE_BOTTOM? I can't modify it without getting compiler errors saying it's already defined.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rsegal</span><br />
      <span class="post-time small text-muted">8th November 2003 19:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">After some investigation I was able to modify MUI_LICENSEPAGE_TEXT_BOTTOM by switching this section in System.nsh for the Modern UI....<br /></p>
      <pre>
!macro MUI_FUNCTION_LICENSEPAGE PRE SHOW LEAVE
<br /><br /> Function "${PRE}"
<br />  
<br />   !insertmacro MUI_FUNCTION_CUSTOM PRE
<br />   !insertmacro MUI_HEADER_TEXT_PAGE $(MUI_${MUI_PAGE_UNINSTALLER}TEXT_LICENSE_TITLE) $(MUI_${MUI_PAGE_UNINSTALLER}TEXT_LICENSE_SUBTITLE)
<br />    
<br />  FunctionEnd
<br /><br /> Function "${SHOW}"
<br />  
<br />   !ifndef MUI_LICENSEPAGE_TEXT_TOP
<br />     !insertmacro MUI_INNERDIALOG_TEXT 1040 $(MUI_INNERTEXT_LICENSE_TOP)
<br />    !else
<br />      !insertmacro MUI_INNERDIALOG_TEXT 1040 "${MUI_LICENSEPAGE_TEXT_TOP}"
<br />     !undef MUI_LICENSEPAGE_TEXT_TOP
<br />    !endif
<br /><br />    !insertmacro MUI_FUNCTION_CUSTOM SHOW
<br />    
<br />  FunctionEnd
<br />  
<br /> Function "${LEAVE}"
<br />  
<br />   !insertmacro MUI_FUNCTION_CUSTOM LEAVE
<br />    
<br />  FunctionEnd
<br /><br />&gt;!macroend 
<br />&gt;

</pre>to this.<br />
      <pre>
<code>
macro MUI_FUNCTION_LICENSEPAGE PRE SHOW LEAVE
<br /><br /> Function "${PRE}"
<br />  
<br />   !insertmacro MUI_FUNCTION_CUSTOM PRE
<br />   !insertmacro MUI_HEADER_TEXT_PAGE $(MUI_${MUI_PAGE_UNINSTALLER}TEXT_LICENSE_TITLE) $(MUI_${MUI_PAGE_UNINSTALLER}TEXT_LICENSE_SUBTITLE)
<br />    
<br />  FunctionEnd
<br /><br /> Function "${SHOW}"
<br />  
<br />   !ifndef MUI_LICENSEPAGE_TEXT_TOP
<br />     !insertmacro MUI_INNERDIALOG_TEXT 1040 $(MUI_INNERTEXT_LICENSE_TOP)
<br />    !else
<br />      !</code>insertmacro MUI_INNERDIALOG_TEXT 1040 "${MUI_LICENSEPAGE_TEXT_TOP}"
<br />     !undef MUI_LICENSEPAGE_TEXT_TOP
<br />    !endif
<br /><br />    !ifndef MUI_LICENSEPAGE_TEXT_BOTTOM
<br />     !insertmacro MUI_INNERDIALOG_TEXT 1006 $(MUI_INNERTEXT_LICENSE_BOTTOM)
<br />    !else
<br />      !insertmacro MUI_INNERDIALOG_TEXT 1006 "${MUI_LICENSEPAGE_TEXT_BOTTOM}"
<br />     !undef MUI_LICENSEPAGE_TEXT_BOTTOM
<br />    !endif
<br /><br />    !insertmacro MUI_FUNCTION_CUSTOM SHOW
<br />    
<br />  FunctionEnd
<br />  
<br /> Function "${LEAVE}"
<br />  
<br />   !insertmacro MUI_FUNCTION_CUSTOM LEAVE
<br />    
<br />  FunctionEnd
<br /><br />&gt;!macroend 
<br />&gt;

</pre>Then use it in your script like<br />
      !define MUI_LICENSEPAGE_TEXT_BOTTOM "My license page bottom text"
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">8th November 2003 21:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No need to modify any files, there is a normal setting available (see Readme).<br />
      <br />
      !define MUI_LICENSEPAGE_TEXT '"My text for the license page"'</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rsegal</span><br />
      <span class="post-time small text-muted">8th November 2003 23:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Joost Verburg</i><br />
        <b>No need to modify any files, there is a normal setting available (see Readme).<br />
        <br />
        !define MUI_LICENSEPAGE_TEXT '"My text for the license page"'</b>
      </blockquote>Ok that makes sense. However when I try to use,<br />
      <pre>
<code>
'"My licensepage text"' 
</code>
</pre>It doesn't even show up on the license page. If I use<br />
      <pre>
!define MUI_LICENSEPAGE_TEXT '"My license page text" "My license page button"' 
</pre>it works for the button text and thats it. "My license page text" appears nowhere on the license page.
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>