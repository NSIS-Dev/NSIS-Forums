<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content=".onNextPage function ???"><title>.onNextPage function ??? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">.onNextPage function ???</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=123742">.onNextPage function ???</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">david33470</span><br><span class="post-time small text-muted">3rd February 2003 08:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>.onNextPage function ???</strong><br>&nbsp; Hello!<br><br>I develop an NSIS installation program and I have not use NSIS for two month and I don't understand why the function .onNextPage and .onPrevPage doesn't work anymore since the Version 2.0.B.0 beacause it's work on the 2.0.a7 ? If those function are realy not usable, could you explain me, please, how can I insert a window (using installOption) between the first and the second windows ?<br>Thank you in advance for your answere.<br><br>I have another question, is somebody can tell me how can I add a "path" in the windows path (for win 98 and win 2000/XP)?<br><br>Thank you!!!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br><span class="post-time small text-muted">3rd February 2003 08:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">There's now a new Page command which controls custom page insertion. Please <a href="http://nsis.sourceforge.net/Docs/Chapter3.html#3.5.3" target="_blank">RTFM</a>.<br><br>For your second point please look in the Archive, a <a href="http://nsis.sourceforge.net/archive/search.php" target="_blank">simple search for "path"</a> turned <a href="http://nsis.sourceforge.net/archive/viewpage.php?pageid=91" target="_blank">this page</a> up.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">david33470</span><br><span class="post-time small text-muted">3rd February 2003 16:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you for your answere!<br>for the second point it is good, but for the first ihave to test it but it seems to be good too! So thank You!<br><br>I have another problem whit the user variable on the function .onInit??<br>you can see a simplified part of My script behind:<br><br>StrCpy $1 "Section 1"<br>SectionSetText 1 "$1"<br>StrCpy $1 "Section 2"<br>SectionSetText 2 "$1"<br>StrCpy $1 "Section 3"<br>SectionSetText 3 "$1"<br><br>those lines doesn't work because the user variable $1 keep the last value affected. I explain: All the 3 section appears with "Section3"??? this is like the command SectionSetText take effect at the end of the function??? Somebody can explain me and perhaps help me to find a solution??? This is a bug? or is it normal??<br><br>Thank you in advance for your help.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">3rd February 2003 16:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Section text is only processed right before the components page is shown. Therefore it's a bit of a pain to use variables in it. If you set the text right before the components page is shown (components page pre function) then you won't have to worry about variables changing, but you will have to use a different variable for every section text.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">david33470</span><br><span class="post-time small text-muted">3rd February 2003 16:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you for your quick reply!<br>I know that but I have 16 section and sudsection so it's means to use 16 Variable only for that. And the problem is that in fact (it is not a simply strcpy) but I use a function that call a dll, pop the top stack value on $1 and do a SectionSetText $2 "$1" (where $2 is the curent section). This function permit to me not to retype those ligne 16 time (and perhaps more!)!!!<br>If there is no solution i have to supress my function and to write the line 16 Time whith 16 diferents variable? that's right?<br>ok! Thanks you!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">3rd February 2003 17:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I knew I remembered this question from somewhere... <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=105486&amp;highlight=SectionSetText" target="_blank">http://forums.winamp.com/showthread....SectionSetText</a><br><br>:D<br><br>Anyway, a new idea! You can wait for the components page to show and then set the text (the page's show function). When you set the name when the page is already created the name will be processed immediately (don't worry about the user seeing the change, the show function is called right before the page is shown but after it's created). You will, however, still have to set this everytime the page shows because the section name will be reprocessed when the page is about to show again and then the name will be wrong.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">david33470</span><br><span class="post-time small text-muted">4th February 2003 10:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">thank a lot for your reply!<br><br>It's a good news!!! I know that I have already ask the question but now the function .onNextPage doesn't work so ...<br>Your suggest seems to be good but I don't find the page's show function on the help? there are the function_Before and Function_After but no Show function??? explain me please because on the function_Before it's doesn't work and on the Function_After it's only work when I click Next and Then I click Back (so it is no usable)?<br><br>My new problem (perhaps a bug)is that i try to use the new syntax to call DLL function but it's doesn't work??? In fact I have created a DLL whit some function and when I compile the script there is an error because the compiler doesn't find the function?<br>During I write this message I test it better and I've sow that it's work properly with the Version 2 b0 but it doesn't work with the 2 b1 CVS Version (updated yesterday) ??? There is some change? (I have already put My DLL on the NSIS plugin directory).<br><br>thank you!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">4th February 2003 10:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It should look something like this:<br></p><pre>
<code>
Page components "" changeNames
<br>&gt;Function changeNames
<br>    StrCpy$1 "bla bla"
<br>   SectionSetText 0 $1
<br>    StrCpy$1 "kasdjlksadjas"
<br>   SectionSetText 1 $1
<br>FunctionEnd 
<br>&gt;
</code>
</pre>If you are using the MUI, get the latest CVS version and read the MUI readme to know how to add the show function.<br>
      <br>
      Now for the plug-in. Does the function name appear in the list makensis gives on the top of its output?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br>
      <span class="post-time small text-muted">4th February 2003 10:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">At some point in time the order of plugin arguments was reversed... I doubt it but this *might* be something to do with it.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">david33470</span><br>
      <span class="post-time small text-muted">4th February 2003 11:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry KICHIK but your suggest it's what I explain in my last post, it's "work" but I have to click on next to go on the folowing page and to click on Back to display corretly the componant page?<br>
      <br>
      For the plug-in I'm sorry but it normal i'm silly!!! In fact I have put my dll on the plugin directory of NSIS 2 b 0 but not on the plugin directory of the CVS version!!!<br>
      <br>
      I'm going to try to use MUI but there is a lot of change to do in my script so i'm not sure to do that without any error!<br>
      <br>
      thank you!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">4th February 2003 11:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It works for me without going to the next page and back to the components page. Can you please attach the script?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">david33470</span><br>
      <span class="post-time small text-muted">4th February 2003 12:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>the script</strong><br>
      &nbsp; I send a simplify script which doesn't work (whitout next and back)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">4th February 2003 12:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The problem is that when the components page is created if the section doesn't have a name it won't create a tree item for it. You see, it thinks it is a hidden section so it doesn't think it should be shown in the components page. Later when you give it a name and it creates the tree again it knows it should be in the tree and there are no problems.<br>
      <br>
      To work this out give all of your dynamically named sections a starting point such as " " (a space) and it will work.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">david33470</span><br>
      <span class="post-time small text-muted">4th February 2003 14:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok thank a lot KICHIK!<br>
      I understand what you say and finaly it's normal!!!<br>
      Thank you for your help!!!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">4th February 2003 15:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No problem :D</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>