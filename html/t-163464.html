<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="how to less size of NSIS file?"><title>how to less size of NSIS file? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">how to less size of NSIS file?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=163464">how to less size of NSIS file?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">XNeo</span><br><span class="post-time small text-muted">6th January 2004 01:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>how to less size of NSIS file?</strong><br>i already compress files by UPX.<br>and but, how to more less size of nsis installer file?<br>NSIS exe -&gt; SFX ?<br>or using tools like zipdll?<br>i saw a file which make by NSIS.<br>this file size is 7MB, but execute file, and check all sectionm, required HDD size is 50MB!!!<br>how to less size like this?<br>i really want know.<br><br>###see attached file</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">myne</span><br><span class="post-time small text-muted">6th January 2004 02:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">NSIS compression works best on files that are not already compressed.<br><br>Example : If nsis compresses a 5mb .zip file full of 10mb .txt it wont go much smaller than 5mb.<br><br>Example : If nsis compresses the 10mb .txt's it should go lower than 5mb - maybe as low as 2 - 3mb.<br><br>So dont compress with UPX.<br><br><br>Sorry, I've tried to make this as simple as possible. I hope you understand it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">6th January 2004 13:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Always compress files only once.<br><br>The latest NSIS 2 version support LZMA compression, which performs very well.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n0On3</span><br><span class="post-time small text-muted">7th January 2004 19:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">afaik, upx doesn't compress txt files, only exes.<br><br>I just tested with the program DC++ and using UPX made the installer 21kB smaller, always with LZMA.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">7th January 2004 19:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">UPX should only be used to compress the exehead (use !packhdr), it will save a few KB's.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n0On3</span><br><span class="post-time small text-muted">7th January 2004 20:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">the 21kB I said was for the exe *in* the installer, nothing to do with the header.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">7th January 2004 20:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The whole point of UPX is that it can be used to compress executables files and keep them executable. If you add files to an archive UPX won't be an efficient method.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n0On3</span><br><span class="post-time small text-muted">7th January 2004 23:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't know what you mean for eficient, but if you mean 'smaller', then, it can be more eficient to compress with upx first.<br><br>UPX is designed to compress exes, LZMA is designed to compress anything. UPX can therefore be optimized for some things lzma is not.<br><br>I don't want to insist on this, but I've done various installers and upxing the exe before building the installer always gave better results.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">hotice</span><br><span class="post-time small text-muted">8th January 2004 10:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by n0On3</i><br><b>I don't know what you mean for eficient, but if you mean 'smaller', then, it can be more eficient to compress with upx first.<br><br>UPX is designed to compress exes, LZMA is designed to compress anything. UPX can therefore be optimized for some things lzma is not.<br><br>I don't want to insist on this, but I've done various installers and upxing the exe before building the installer always gave better results.</b></blockquote>you are right in nsis zlib/lzma<br>not sure in bzip2<br>not in ms's makecab,you can find in ms's ieak</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">8th January 2004 14:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">But you still end up with a compressed exe file that will start slower and use more memory.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n0On3</span><br><span class="post-time small text-muted">8th January 2004 16:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Joost Verburg</i><br><b>But you still end up with a compressed exe file that will start slower and use more memory.</b></blockquote>yeah, miracles do not exist ;)<br><br>anyway, what does this mean?<br><br><blockquote>UPX is a free, portable, extendable, high-performance executable packer for several different executable formats. It achieves an excellent compression ratio and offers very fast decompression. Your executables suffer no memory overhead or other drawbacks because of in-place decompression.</blockquote>the "no memory overhead" part. I thought it *had* overhead :eek:</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">8th January 2004 16:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you only start one instance it won't be such a problem, but with multiple instances it will definately use more memory.<br><br>LZMA works fine for EXE files too. Because it doesn't have to create executables, the compression is usually better.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>