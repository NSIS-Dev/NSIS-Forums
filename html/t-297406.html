<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Distributing large (&gt;2GB) files" />

  <title>Distributing large (&gt;2GB) files - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Distributing large (&gt;2GB) files</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=297406">Distributing large (&gt;2GB) files</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">atomjack</span><br />
      <span class="post-time small text-muted">15th September 2008 10:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Distributing large (&gt;2GB) files</strong><br />
      I'm trying to work out a way to sensibly distribute a software package containing 3 files each of which is between 2 and 3GB. These files compress to around 50% of their original size.<br />
      <br />
      Obviously they won't fit in the installer itself. I don't want to just use the "Copy Files" solution, as that would entail distributing the files uncompressed and then they wouldn't all fit on a DVD. I can't distribute them as CAB files as CAB files have a 2GB limit. The various zip and self-extracting zip plugins that I have tried (such as ckvse) all seem to have a 2GB limit as well.<br />
      <br />
      The only thing that I have been able to get working is to compress each file to a .tbz2, and then use the "untgz" plugin to decompress these to their final location. The problem with this is that the decompression provides no progress indicator, so it looks like the installer has hung during the 15 minutes it takes to decompress and copy each file.<br />
      <br />
      Does anyone have any other suggestions?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Wildrose-Wally</span><br />
      <span class="post-time small text-muted">15th September 2008 11:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Not in Winamp Technical Support, you are really in the wrong forum.<br />
      <br />
      This board is ONLY for Winamp Tech suppot.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">J_Darnley</span><br />
      <span class="post-time small text-muted">15th September 2008 12:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use a better archiver, 7-zip for example.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">atomjack</span><br />
      <span class="post-time small text-muted">24th September 2008 12:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>No solution?</strong><br />
      Using 7-zip instead of bzip2 makes a few percent difference: I'm still left with &gt;2GB in total. In addition, the decompression plugins that I have tried that handle 7-zip all fail if the <b>uncompressed</b> size is &gt;2GB, so increasing the compression ratio doesn't help.<br />
      <br />
      Does anyone have any other suggestions? All I really need is a decompressor that (a) won't choke on &gt;2GB files, and (b) provides a progress bar on decompression.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">24th September 2008 16:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">the 2gb-limit does not only apply to those formats mentioned, but lies in the file-system. what you can do is compress your files in a format that allows splitting up archives. there are MANY postings regarding this matter in this forum and probably in the nsis wiki aswell.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pbingel</span><br />
      <span class="post-time small text-muted">24th September 2008 18:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can use 7-Zip to split up your archives. The should be an option "Split into volume, bytes:" However you will need a decompressor that can handle split 7z files. Also you can consider using WinRAR though its not free. .rar files decompress significantly faster than .7z files regardless of decompresser (however 7-Zip offers more compression).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">atomjack</span><br />
      <span class="post-time small text-muted">25th September 2008 12:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for the suggestions, but you've misunderstood.<br />
      <br />
      1) The size limit isn't a filesystem one. FAT32 has a 4GB limit and NTFS allows files up to 2TB. Instead, it's a limit of many of the decompression tools: in particular the various unzip plugins all seem to fail to work on files larger than 2GB (2^31 bytes). The 7-zip split suggestion will help for distribution on an ISO9660 DVD, however, so thanks for that.<br />
      <br />
      2) I have a solution (using the untgz plugin) which works fine. The files are compressed perfectly adequately, and the decompression works beautifully. The only problem is that there's no progress feedback. Decompressing a 2GB file can take ten or fifteen minutes, and the installer just sits there and looks like it has hung. This will confuse users.<br />
      <br />
      3) 7-zip is a fine program, but it has *no* progress indicator on decompression. When you un-7-zip a large file, it just sits there printing nothing until it's done. Even if the file is split into ten pieces, you get no feedback until the whole of the file has decompressed.<br />
      <br />
      To reiterate, the problem is the lack of progress indicator, not that I can't get it to work. Are there any other compression/decompression progs out these that I might have missed?</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
