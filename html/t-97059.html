<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="How to use /D switch" />

  <title>How to use /D switch - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">How to use /D switch</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=97059">How to use /D switch</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Zaraza</span><br />
      <span class="post-time small text-muted">6th August 2002 20:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>How to use /D switch</strong><br />
      I'm racking my brain trying to pass variables dynamically to my script at compile time using the /D switch, but it does not seem to work at all,<br />
      <br />
      e.g.<br />
      <br />
      "C:\Program Files\NSIS\makensis.exe" Sales_Audit_02.50-Latest_CD_Image.nsi /DROOT_DIRECTORY="C:\TEMP" /DSALES_AUDIT_VERSION="02.50-Latest"<br />
      <br />
      If my script I have references to those 2 variables (ROOT_DIRECTORY, SALES_AUDIT_VERSION) but they never seem to be picking up those values, e.g.<br />
      <br />
      OutFile "Sales_Audit_${SALES_AUDIT_VERSION}_CD_Image.exe"<br />
      File /r "${ROOT_DIRECTORY}\*.*"<br />
      <br />
      It only works if I hardcode those variables in the script, e.g.<br />
      <br />
      !define ROOT_DIRECTORY "E:\CD-ROM Images\02.50_LATEST"<br />
      !define SALES_AUDIT_VERSION "02.50-Latest"<br />
      <br />
      ...but that is exactly what I want to avoid, as I have the same script that needs to be repeatedly run against different directories.<br />
      <br />
      help! what am I doing wrong here?<br />
      <br />
      I'm on 2.0a2<br />
      <br />
      Thx</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">6th August 2002 22:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Put the /D switch before the script name to compile.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Zaraza</span><br />
      <span class="post-time small text-muted">6th August 2002 22:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">D'oh! :eek:<br />
      <br />
      Sorry about that...I spent hours reading the docs and testing different combos and sometimes you just miss the simplest things.... (although an actual example in the NSIS docs would have helped a lot)</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
