<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Dynamic Section Name...Possible?"><title>Dynamic Section Name...Possible? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Dynamic Section Name...Possible?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=278327">Dynamic Section Name...Possible?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Jobol</span><br><span class="post-time small text-muted">5th October 2007 04:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Dynamic Section Name...Possible?</strong><br>Hi folks,<br><br>2 questions.<br><br>1. Is it possible to change the section name dynamically? NSIS seems only to accept const and not vars.<br><br>I tried:<br><br>Var sectionName "mySectionName"<br>...<br># Installer sections<br>Section $sectionName SEC0000<br>...<br>SectionEnd<br><br>and the whole section dissapears!<br><br><br>2. Is it possible to add a custom button to the components page? (MUI)<br><br><br>What I want to do is basically have a custom button on the components selection page then when you click on, it searches for files on the filesystem, and then based on the results of that search, updates the title of the section to "[previous section name] (found)".<br><br>Thanks for any help you can give me.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">demiller9</span><br><span class="post-time small text-muted">5th October 2007 07:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Try using <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.13.3" target="_blank">SectionSetText</a> (with SectionGetText).<br><br>Don</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">5th October 2007 10:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Setting the section's name to a variable will work as long as you remember to set $sectionName before the components page is displayed. Passing another parameter to Var will not set the default value of $sectionName. It is in fact a bug that makensis.exe even accepts that syntax. I've fixed this for the next version.<br><br>To add a button, you can use one of the following plug-ins.<br><br><a href="http://nsis.sourceforge.net/HelpButton_plug-in" target="_blank">http://nsis.sourceforge.net/HelpButton_plug-in</a><br><a href="http://nsis.sourceforge.net/ButtonEvent_plug-in" target="_blank">http://nsis.sourceforge.net/ButtonEvent_plug-in</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Jobol</span><br><span class="post-time small text-muted">7th October 2007 02:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">OK, so that's the catch. Is it possible to rename it after the components dialog is shown?<br><br>Like one would hot the search button, and that function updates the section's name.<br><br>Thanks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">7th October 2007 19:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, you can rename a section while the components page is showing. Simply use SectionSetText in .onSelChange. You can also set the text and then send WM_IN_UPDATEMSG (0x40f) to the components dialog. But don't do that inside of .onSelChange.</p><pre>
<code>FindWindow $0 "#32770" "" $HWNDPARENT<br>SendMessage $0 0x40f 0 0</code>
</pre>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>