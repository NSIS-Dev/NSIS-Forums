<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="NSIS 2.0 and DirShow for gamedev.sf.net"><title>NSIS 2.0 and DirShow for gamedev.sf.net - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">NSIS 2.0 and DirShow for gamedev.sf.net</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=164490">NSIS 2.0 and DirShow for gamedev.sf.net</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">bluemonkmn</span><br><span class="post-time small text-muted">12th January 2004 12:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>NSIS 2.0 and DirShow for gamedev.sf.net</strong><br>I working on a new release of the <a href="http://gamedev.sf.net/" target="_blank">Scrolling Game Development Kit</a> which has an "Install Packager" component that creates an NSIS script to help the user create an installer for their game. I notice a few newer versions of NSIS have been released since I last visited this component of the program. I decided to try NSIS 2.0 RC2. I notice in reviewing the NSIS CVS log that DirShow has been "temporarily" disabled because it wasn't working. I would like to confirm that scripts designed for NSIS 1.96 will work as they used to when used in NSIS 2.0, at least with respect to the use of DirShow. I see it on the TODO list, but I'm still uneasy about it. Can anybody confirm this?<br><br>If not, I have another question. I notice that in version 2.0, if I simply remove the DirShow line, I get a nice installer with a default set of pages being displayed, I guess. Would such a script carry back to any pre-2.0 releases, or would the absence of a "DirShow" result in a non-functional installer or an un-compilable script? I would rather not go downloading older versions just to try it if someone can give me a tip here.<br><br>Basically, what are your recommendations for updating an NSIS script-generating wizard for a piece of software whose release (probably final release, as in no more updates) is coming up this week? It's currently labeled as "designed for NSIS 1.96". It would be nice if it could be compatible with all versions from 1.96 to 2.0.<br><br>Ooh, you can attach files in this forum... attached is a sample script, very similar to all scripts generated by this wizard. I have put in some tentative code for the next release with comments about using the script with NSIS 2.0.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">12th January 2004 15:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">'DirShow show' has always been the default behavior, you can safely remove it.<br><br>(The only "removed" feature is 'DirShow hide', because it does not easily fit in the new page system. However you can get the same behavior using a few lines of code in a page function.)<br><br>Most NSIS 2 features are backwards compatible, however some functions are deprecated. I recommend you to update your script to the NSIS 2 standards. That means that you should add page commands (Page directory, Page instfiles, UninstPage uninstConfirm and UninstPage instfiles) and<br>remove the text commands (DirText and UninstallText). You will automatically get good standard texts.<br><br>If you want you can make it support multiple langauges (using the provided language files) or include the modern user interface to get a wizard style like recent Windows versions.<br><br>Second: For a better way of installing the VB6 run-times see the NSIS Users Manual.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">bluemonkmn</span><br><span class="post-time small text-muted">13th January 2004 01:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Compatibility level?</strong><br>Attached is a script in which I think I took all your suggestions (Thank you, BTW). However, I'm still not entirely clear on the compatibility level of this script. If I'm using the include for UpgradeDLL to install the VB runtime files, and using the "Page" directive, are those new with NSIS 2.0? Will I now have to put "Designed for NSIS 2.0" and hope that people don't mind downloading a release candidate until the official 2.0 is ready? If that's the case, I might as well use the modern UI too instead of preceeding my reboot request with an old fashioned message box, right? (...assuming I can find the docs on adding that modern UI's finish dialog) Any further comments before I release the new version of GameDev with the new install script generator? Your detailed advice has been much appreciated.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">13th January 2004 15:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The Modern UI automatically displays a finish page with radio buttons if the reboot flag is set.<br><br>You will indeed have to use NSIS 2, NSIS 1 doesn't support these features. The final release should be available within a few weeks.<br><br>If you want to use a components page you don't have to set ComponentText but just add "Page components", like the others. However, you have only one Section so there is no need to use it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">bluemonkmn</span><br><span class="post-time small text-muted">14th January 2004 13:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't know if looking at my scripts is more of a nuisance or a pleasure for you, but in case you're interested, I will attach my (probably) final version of a sample script generated from this utility. If you have any last comments, they are welcome. Otherwise, I think this is how the script generator will be released. I like the modern UI! It's worth switching to 2.0. Thanks again for your assistance.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>