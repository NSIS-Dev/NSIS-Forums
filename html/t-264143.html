<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Program structure" />

  <title>Program structure - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Program structure</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264143">Program structure</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">torpark</span><br />
      <span class="post-time small text-muted">22nd January 2007 00:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Program structure</strong><br />
      I want to write my installer so that it executes a section "main" and if the user gave the right input then it can bring up a page, and continue on. Well the compiler tells me I can't put a page in a section. Does that mean i need to break the sections apart and put the page in the middle? How should you structure this?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">22nd January 2007 06:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I don't know what the right user's input is, probably this interaction could be performed within a function before the main installation (extract files) begins, instead of a section.<br />
      Pages executed in the order they appear on the script, sections executed within InstFiles page, so it's obvious that the preferable usage of sections is to have them perform the main installation's activities, and use functions for all other.<br />
      Especially user's interaction activities, and dependences on when to display or skip a page, should be performed within page's custom functions pre show leave.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">torpark</span><br />
      <span class="post-time small text-muted">22nd January 2007 13:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This function is the calling of a password dialog box. It is incase the user has a proxy or firewall or nat service which requires a login. My installation can detect such a requirement, but that code is in a section which reads an INI file. If it reads the INI file and finds case of a login needed, i want to popup such a box. If not, I don't want to use one at all.<br />
      <br />
      And I have tried to call the page from a function, but of course the function is called from a section so that doesn't compile.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">22nd January 2007 16:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        My installation can detect such a requirement, but that code is in a section which reads an INI file. If it reads the INI file and finds case of a login needed...
      </blockquote>You'd need to perform this operation in a custom page's create_function, and in case login needed continue to show the page, else skip the page.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">22nd January 2007 18:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://nsis.sourceforge.net/File:Auth.zip" target="_blank">http://nsis.sourceforge.net/File:Auth.zip</a><br />
      <a href="http://nsis.sourceforge.net/PassDialog_plug-in" target="_blank">http://nsis.sourceforge.net/PassDialog_plug-in</a><br />
      - simple auth plug-ins you can use in sections. Inetc/InetLoad also can popup IE auth. dialog if authorization request comes from proxy|server and login/apssword not encoded in URL.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
