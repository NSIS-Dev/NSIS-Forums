<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Components page accessibility" />

  <title>Components page accessibility - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Components page accessibility</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=249001">Components page accessibility</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">RobertStrong</span><br />
      <span class="post-time small text-muted">18th June 2006 02:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Components page accessibility</strong><br />
      The treeview doesn't send accessibility events for checked / unchecked which I believe is due to it not having the TVS_CHECKBOXES style. I've set this in the ui resource for the treeview in order to get the events but then the checkbox images are incorrect when clicking on the checkbox itself though it does work fine when clicking on the text, etc. I'd just use checkboxes but I'd like to keep the selected item description functionality. Any help with this would be appreciated.<br />
      <br />
      Thanks,<br />
      Ronert</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">18th June 2006 10:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">.onSelChanged function is called when a checkbox is checked or unchecked.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">RobertStrong</span><br />
      <span class="post-time small text-muted">18th June 2006 11:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I tried using .onSelChange along with SectionSetFlags, SectionGetFlags, etc. to come up with a workaround without any joy. I also tried using WM_KEYDOWN 32 to send a spacebar keypress along with a few other methods. SectionGetFlags returns unselected while the checkbox displays the selected image and the dark gray selected image when it is selected.<br />
      <br />
      One option may be to force the correct image for the TVITEM in .onSelChange but I'm not sure if I should even go down that path... seems a bit painful and may just not be possible. Any ideas of which route would be simplest to take?<br />
      <br />
      Robert</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">18th June 2006 13:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">As far as I can see you haven't really explained what you want to do.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">RobertStrong</span><br />
      <span class="post-time small text-muted">18th June 2006 21:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hey Stu,<br />
      <br />
      From the original post:<br />
      "The treeview doesn't send accessibility events for checked / unchecked which I believe is due to it not having the TVS_CHECKBOXES style."<br />
      <br />
      I would like the treeview's checkbox state to work with screen readers. Currently a screen reader is unable to tell a visually imparied person whether the checkbox is checked or unchecked or for that matter that there is a checkbox.<br />
      <br />
      I can get the state in a screen reader by modifying the ui resource and adding TVS_CHECKBOXES to the treeview's style. This then breaks the display of the checkbox checked state when clicking on the checkbox itself.<br />
      <br />
      My second post describes some possible hacks to workaround the bug and that I was unable to fix the display of the image by using .onSelChange, etc.<br />
      <br />
      Robert</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">30th June 2006 09:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The problem is that those aren't really checkboxes. Those are just images of checkboxes. TVS_CHECKBOXES is not available on older versions of Windows and so images are used for compatibility. This also allows easily customizing the checkbox image.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">RobertStrong</span><br />
      <span class="post-time small text-muted">30th June 2006 16:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Do you have any pointers as to what would need to be modified in order to use TVS_CHECKBOXES or perhaps a way to work around this?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">30th June 2006 18:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Way too much code in Source\exehead\Ui.c, exec.c and components.c. A workaround would probably be manually implementing IAccessible for the control.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
