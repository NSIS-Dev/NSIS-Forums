<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Inetload bandwidth and latency calculation" />

  <title>Inetload bandwidth and latency calculation - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Inetload bandwidth and latency calculation</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=219269">Inetload bandwidth and latency calculation</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jsbach</span><br />
      <span class="post-time small text-muted">20th June 2005 11:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Inetload bandwidth and latency calculation</strong><br />
      this is for Takhir. i'm wondering if you eventually plan in the future to add bandwidth, latency and speed calculation.<br />
      IMO knowing in advance if those three parameters are good enough to download big files could be usefull at script level (i.e. if any of those parms are not good you can decide to delay script execution later or to abort as well).<br />
      <br />
      thanks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">20th June 2005 13:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can calculate average speed using download start/finish times (time() or GetTickCount() calls using System plug-in) and received file size.<br />
      Current InetLoad implementation is "modal", i.e. it returns control to installer when download finished or failed. And my big :) plan is to add modeless switch to perform background downloads during installation. But I have not time for this right now. And small improvement (soon) - /NOCANCEL switch (while I guess this is not safe). And I still hope to finish /POST mode tests.<br />
      NSIS plug-ins have access to $ variables, so InetLoad can update, for example, $9 with current average speed value, but in "modal" mode this have not sense - script execution will be continued after plug-in have exited only.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jsbach</span><br />
      <span class="post-time small text-muted">20th June 2005 22:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Thanks&amp;thoughts</strong><br />
      thanks Takhir: i'll see if GetTickCount can fit to my needs.<br />
      I also have in mind to convert to nsis a code snipplet i wrote some time ago in a different language to calculate latency and speed; just remind now. i'll post in case of interest.<br />
      About /nocancel that was my need as you know i'm totally with you on saying it can be unsafe. However, you may know sometimes it's not a matter of choosing the best solution (when developing network solutions) but choose the best option with the minor risk... Especially when you've to deal with users (many users) whose actions are often really unpredictable. In my case , for example, with /nocancel i'm quite sure users don't break download of important sw updates, but at the same time it's unsafe even dangerous not to allow stop download in certain cases (i.e. when network speed very slow).<br />
      One possible solution could be to trap a possible Cancel and present the user a Y/N messagebox asking wheter continue or not: if users says 'yes: continue downloading' then restart inetload with /resume flag. Is this possible IYO ?<br />
      thanks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">21st June 2005 07:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks, jsbach, this is possible, but we need to remember - it's logic should be intelligible for developers in all situations (like silent installs - default result for plug-in's message box). Any case I'll include simple /nocancel to the next build.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
