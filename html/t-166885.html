<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Compile script while compiling script :)" />

  <title>Compile script while compiling script :) - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Compile script while compiling script :)</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=166885">Compile script while compiling script :)</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">27th January 2004 13:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Compile script while compiling script :)</strong><br />
      hello.<br />
      <br />
      got another problem. i want to compmile a script. but therefore i need defines, that will be created by another script. this script (after beeing compiled and executed) collects information in silent-installer-mode and writes them down to nsis-header-file.<br />
      the nsis-header-file will be included by the first script, and everything goes on.<br />
      but now, i want to start the compilation of this script by the !system command, then, when the compiler returns 0, execute the file, and at least include the header.<br />
      <br />
      but this code doesn't work:<br /></p>
      <pre>
<code>!system         "${NSISDIR}\makensis.exe '${Source_Files}\maps\mapconfig.nsi'" = 0<br />!system         "${Source_Files}\maps\mapconfig.exe" = 0<br />!include        "${Source_Files}\maps\mapconfig.nsh"<br /></code>
</pre><br />
      <br />
      any solution, or will i have to precompile the config-application, and only launch it at compiletime of the first script?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">27th January 2004 15:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You're not using quotes as should in the !system command. You should use double quotes to quote paths so Windows can distinguish the parameters from the EXE path. See makensis.nsi for an example.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">27th January 2004 17:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">worked!<br />
      thank u very much!<br />
      <br />
      i forgot to say, that i defined ${Source_Files} relative, and i thought that was the fault.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
