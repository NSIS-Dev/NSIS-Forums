<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="NSIS FreeBSD € 1000 to win contest" />

  <title>NSIS FreeBSD € 1000 to win contest - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">NSIS FreeBSD € 1000 to win contest</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=230346">NSIS FreeBSD € 1000 to win contest</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">7th November 2005 15:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>NSIS FreeBSD € 1000 to win contest</strong><br />
      Contest goal:<br />
      Compile a successfully running makensis under FreeBSD.<br />
      <br />
      The prizes to win if the solution and all belonging code is posted in the forum:<br />
      <br />
      Under 3 days € 1000<br />
      Under 7 days € 600<br />
      Under 14 days € 300<br />
      Under 30 days € 200<br />
      <br />
      If the under 7 days term is met, a € 400 bonus goes to the NSIS general development.<br />
      <br />
      Why the contest?<br />
      I want to promote automatic builds with NSIS on open platforms like FreeBSD, and I was not successful so far.<br />
      <br />
      Allowances:<br />
      - Precompiled exeheads are allowed, only makensis needs to be natively an FreeBSD executable.<br />
      - A compile and run also only needs to be successful on the x86 Platform.<br />
      - People contesting must be alread a forum member as of this post timestamp.<br />
      - The solution must compile under GCC 3.4.x or higher.<br />
      - Make and Scons solution allowed<br />
      <br />
      Winner time:<br />
      If there are more forum posting *different* a solution in the same minute, prize will be divided among them.<br />
      <br />
      Q: I'm afraid that if I post my solution, I do not get paid.<br />
      A: Well, don't post it then ;) a little trust one must have.<br />
      <br />
      Good luck!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pabs</span><br />
      <span class="post-time small text-muted">8th November 2005 03:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">WOW! You rock onad! I might just install freebsd on that spare partition. It might take me days to download and install tho :(<br />
      <br />
      Hmm, freebsd doesn't seem to have any way to netinstall it without a floppy or cdrom :S<br />
      <br />
      BTW, is this the CVS version or the latest release?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">8th November 2005 08:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Pabs,<br />
      <br />
      Expecting already a reponse from at least you ;). Don't care which version CVS or 2.10.<br />
      <br />
      BTW I can send you the v4.11 v.5.3 and v6.0 CD's for free if it helps you in the quest. Installs just fine and easy.<br />
      <br />
      Send a private message to me with adress if you want me to send the CD's to which ofcourse you can keep.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">8th November 2005 19:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Compiled using the attached patch, which is already committed to CVS, and:</p>

      <blockquote>
        scons.py SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all LIBPATH=/usr/local/lib CC=gcc30 CXX=g++30
      </blockquote>on:

      <blockquote>
        kichik@x86-freebsd1:~$ uname -a<br />
        FreeBSD x86-freebsd1 4.11-RELEASE FreeBSD 4.11-RELEASE #0: Wed Oct 5 21:16:58 PDT 2005 root@x86-freebsd1:/usr/obj/usr/src/sys/GENERIC i386
      </blockquote>Resulting makensis also <a href="http://stashbox.org/uploads/1131478543/makensis.bz2" target="_blank">uploaded</a>.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">8th November 2005 20:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">REALLY Great!<br />
      <br />
      Well since it is you "kichik", master of NSIS knowledge, to give the patch I assume it works ;) I'll test it on my FreeBSD v6 machine and report back as soon as it runs.<br />
      <br />
      If it works you are the winner! and I will contact you about payment details.<br />
      <br />
      Thanks!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">9th November 2005 16:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">CVS maintanance on sourceforge 20051109 made it impossible today to download the latest source :(<br />
      <br />
      Will try tomorrow again...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">10th November 2005 18:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Still iconv.h build problems</strong><br />
      Compiled CVS of 20051110 on WinXP, no problem.<br />
      Moved files to FreeBSD6<br />
      <br />
      I tried to build with precompiled stubs, removed old files first but still no luck... :(<br />
      <br />
      See included log for all details needed</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">10th November 2005 20:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Do you have iconv.h somewhere in the system? Run `locate iconv.h`, see where it is, and use that path for CPPPATH. It's probably /usr/local/include. So this should do the trick:</p>

      <blockquote>
        scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all LIBPATH=/usr/local/lib CPPPATH=/usr/local/include CC=gcc30 CXX=g++30
      </blockquote>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">11th November 2005 08:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, yes I tried that already ofcourse... but no luck.<br />
      <br />
      Any other hint. e.g. on which path is on your freeBSD PC the iconv.h so I can just make a symboliclink with the same naming as on your machine.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">11th November 2005 10:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">For me it's at:</p>
      <pre>
<code>kichik@x86-freebsd1:~/nsis-2.10-src$ locate iconv.h<br />/usr/X11R6/include/gal/util/e-iconv.h<br />/usr/compat/linux/usr/include/iconv.h<br />/usr/include/sys/iconv.h<br />/usr/local/include/iconv.h<br />/usr/obj/usr/src/sys/GENERIC/libiconv.h<br />/usr/obj/usr/src/sys/GENERIC/opt_libiconv.h<br />/usr/src/sys/sys/iconv.h</code>
</pre>But it doesn't matter where it is as long as CPPPATH points to it, or the compiler searches there automatically.<br />
      <br />
      If you can give me shell access to your machine, it'd be easier to find out exactly what's wrong.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">11th November 2005 12:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">YYYYYYEEEEEESSSSSSSS, kichik, look below, and you know what I mean! :-) Time for me to invite friends for a drink...<br />
      <br />
      g++ -o build/release/makensis/makensis -s -Wl,-Map,build/release/makensis/makensis.map -pthread build/release/makensis/build.o build/release/makensis/clzma.o build/release/makensis/crc32.o build/release/makensis/DialogTemplate.o build/release/makensis/dirreader.o build/release/makensis/growbuf.o build/release/makensis/lang.o build/release/makensis/lineparse.o build/release/makensis/makenssi.o build/release/makensis/mmap.o build/release/makensis/Plugins.o build/release/makensis/ResourceEditor.o build/release/makensis/ResourceVersionInfo.o build/release/makensis/script.o build/release/makensis/ShConstants.o build/release/makensis/strlist.o build/release/makensis/tokens.o build/release/makensis/util.o build/release/makensis/bzip2/blocksort.o build/release/makensis/bzip2/bzlib.o build/release/makensis/bzip2/compress.o build/release/makensis/bzip2/huffman.o build/release/makensis/7zip/7zGuids.o build/release/makensis/7zip/Common/CRC.o build/release/makensis/7zip/7zip/Compress/LZ/LZInWindow.o build/release/makensis/7zip/7zip/Compress/LZMA/LZMAEncoder.o build/release/makensis/7zip/7zip/Common/OutBuffer.o build/release/makensis/7zip/7zip/Compress/RangeCoder/RangeCoderBit.o build/release/makensis/7zip/Common/Alloc.o build/release/makensis/zlib/deflate.o build/release/makensis/zlib/trees.o -L/usr/local/lib -lpthread -lstdc++ -liconv<br />
      scons: done building targets.<br />
      <br />
      File could not be attatched in zip since it is 177KB, anyhow will make a Wiki page of POSIX struggles and explaining how to succeed.<br />
      <br />
      ^^^^^<br />
      ...now in to my so.1 not found, but that is something different...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">11th November 2005 13:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">For people interested, a compiled version can be found on:<br />
      <br />
      <s><a href="http://stashbox.org/uploads/1131714365/makensis_freeBSDv6.zip" target="_blank">http://stashbox.org/uploads/11317143..._freeBSDv6.zip</a></s> (bad version)<br />
      <br />
      Remember that it is ofcourse better to try and make a successfull compiled build on your on FreeBSD system yourself.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">11th November 2005 14:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Basic.nsi example gives ReadVarLenArr error under FreeBSD</strong><br />
      When compiling the Basic.nsi example of ModernUI I get:<br />
      <br />
      "Error while changing UI: ReadVarLenArr - Unicode conversion failed."<br />
      <br />
      This is thrown e.g. from DialogTemplate.cpp?<br />
      <br />
      See included file.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">11th November 2005 14:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It's iconv erroring out with EILSEQ which means:</p>

      <blockquote>
        An invalid multibyte sequence has been encountered in the input.
      </blockquote>I'll take a deeper look.<br />
      <br />
      In the meanwhile, a fresh port of <a href="http://www.freshports.org/converters/iconv/" target="_blank">iconv</a> might do the trick.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">11th November 2005 15:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It defauls to Big Endian Unicode. Simply change both UCS-2 to UCS-2LE in util.cpp. I'll commit the change once CVS is back online.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">11th November 2005 17:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Good, thanks again, that solved it!<br />
      <br />
      Will perform more tests of examples and soon go to test a real big script that I created and works perfectly on Win32.<br />
      <br />
      At the moment cannot yet test on FreeBSD build machine v4.11.<br />
      Btw<br />
      the static lib makensis build you created did solve my lib problem though, but I will need some time to test it all. Have a good weekend.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">11th November 2005 18:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">So far so good, could almost compile all the examples without changeing ANYTHING. Have to take a loo at the gfx.nsi example and beloning code.<br />
      <br />
      Will come back with detailed results and a test shellscript to automate the scripts.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">11th November 2005 18:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">There's no need for a shell script. You can run `scons test-scripts` to test all of the scripts. Use -k to continue even if there are errors.<br />
      <br />
      gfx.nsi can't be compiled on non-Windows platforms because it uses AddBrandingImage.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">11th November 2005 21:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Party at kichik's this weekend. :)<br />
      (Got to help him spend that € 1000)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">3rd April 2006 20:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">After much effort by onad, the money was transferred. Thanks onad for your generous support!<br />
      <br />
      On a side note, the next version will support big-endian platforms. The current CVS version already has this support. This means makensis should be build-able on every platform known to man. Well, maybe not the really weird ones ;) If there are any build problems on a specific platform, please do let me know by submitting a bug report.<br />
      <br />
      iceman, if you manage get anyone to my house, the beer is on me :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">3rd April 2006 22:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The plane fare is probably going to exceed the € 1000, so it will be a very expensive beer. :D</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">coopersss</span><br />
      <span class="post-time small text-muted">9th February 2010 20:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hello all.<br />
      I need help for compile NSIS on freeBSD 6.<br />
      i also have a error with "iconv.h".<br />
      i locate iconv.h. It was usr/local/include<br />
      BTW, dir nsis-2.46 i put in home/user3/data/test2<br />
      Next typed:<br />
      <br />
      root# scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all NSIS_CONFIG_CONST_DATA_PATH=no LIBPATH=/usr/local/lib CPPPATH=/usr/local/include PREFIX=/usr/local install-compiler<br />
      <br />
      and get error with iconv.h<br />
      Without prefix i got error with iconv.h<br />
      without install-compiler, but with CC=gcc30 CXX=g++30<br />
      i got "no such file windows.h"<br />
      i don't know what i must do. help please.<br />
      sorry for bad english.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">coopersss</span><br />
      <span class="post-time small text-muted">10th February 2010 11:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Now i have another problem.<br />
      i need install NSIS on freebsd 6<br />
      typed<br />
      alivelab# scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all NSIS_CONFIG_CONST_DATA_PATH=no APPEND_LIBPATH="/usr/local/lib" APPEND_CPPPATH="/usr/local/include"<br />
      <br />
      and got<br />
      .o -L/usr/local/lib -lpthread -liconv<br />
      scons: done building targets.<br />
      i think it's ok<br />
      then i typed<br />
      alivelab# scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all NSIS_CONFIG_CONST_DATA_PATH=no APPEND_LIBPATH="/usr/local/lib" APPEND_CPPPATH="/usr/local/include" install<br />
      but i got<br />
      scons: done reading SConscript files.<br />
      scons: Building targets ...<br />
      scons: Nothing to be done for `INSTALL'. scons: done building targets.<br />
      and what todo now?<br />
      how i can get exe from nsi?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th February 2010 13:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If it actually complained about "INSTALL", replace it with "install" in all lowercase. If it still doesn't work, try adding PREFIX=something.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
