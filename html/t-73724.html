<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="MakensisW Wrapper Update" />

  <title>MakensisW Wrapper Update - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">MakensisW Wrapper Update</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=73724">MakensisW Wrapper Update</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">28th January 2002 22:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>MakensisW Wrapper Update</strong><br />
      I've updated makensisw again (v0.6). You can get the source <a href="http://prdownloads.sourceforge.net/nsisext/makensisw-0.6-source.zip" target="_blank">here</a>. Just extract the zip to your NSIS contrib directory (it will make a 'makensisw' directory). Most of the changes are minor changes:<br />
      <br />
      - print correct usage if unable to execute compiler<br />
      - removed mingw warnings<br />
      - set title/branding before errors<br />
      - some docs changes<br />
      - Added Edit|Edit Script function<br />
      <br />
      Rob</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">felfert</span><br />
      <span class="post-time small text-muted">29th January 2002 00:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi, Rob.<br />
      <br />
      There's a design flaw with the edit feature:<br />
      The g_input_script variable is set after compilation. At this time the Text "Processing script..." might already be lost in the log buffer and thus no editing is possible. (My scripts here usually produce compiler output far beyond 32k).<br />
      <br />
      I've corrected that (moved the check from EnableItems into LogMessage) and while i've been on it, added code for window-resizing as well as save/restore of window state on exit/startup.<br />
      <br />
      I've attached patches for both issues.<br />
      -Fritz<br />
      <br />
      PS: If you prefer a complete zip arch, drop me a mail.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">29th January 2002 00:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Good call. I'll add the fix for the edit script and post it soon. The only thing i changed was i didnt check for the script once it was found.<br />
      <br />
      I look at the resize code (it may not make it in the next release).<br />
      <br />
      Rob</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">29th January 2002 05:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I've updated makensisw with your changes. I had to make a few resize changes to your patch in order for everything to line up correctly. I also fixed the enabling of some menuitems that shouldnt have been. Here's the changes:<br />
      <br />
      - Edit Script should now work for output&gt;32k<br />
      - Added resize support (thanks to felfert)<br />
      - Added window position saving (thanks to felfert)<br />
      - Disable some items when exec of makensis failed<br />
      <br />
      Download <a href="http://prdownloads.sourceforge.net/nsisext/makensisw-0.7-source.zip" target="_blank">here</a><br />
      <br />
      Rob</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">felfert</span><br />
      <span class="post-time small text-muted">29th January 2002 12:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Cool! :) Works great. ... and thanks for the credits.<br />
      <br />
      Ciao<br />
      -Fritz</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bcheck</span><br />
      <span class="post-time small text-muted">29th January 2002 16:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>min size</strong><br />
      how about enforcing a min size to avoid jerks like me from having an ugly window:<br />
      <br />
      case WM_GETMINMAXINFO:<br />
      {<br />
      ((MINMAXINFO*)lParam)-&gt;ptMinTrackSize.x=350;<br />
      ((MINMAXINFO*)lParam)-&gt;ptMinTrackSize.y=175;<br />
      }<br />
      // fall thru<br />
      case WM_ENTERSIZEMOVE:<br />
      {<br />
      GetClientRect(g_hwnd, &amp;resizeRect);<br />
      return TRUE;<br />
      }</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">29th January 2002 17:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I guess that is pretty ugly. No problem, I'll add it and it will be in the next release.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">29th January 2002 19:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">As usual you can find the updated source <a href="http://prdownloads.sourceforge.net/nsisext/makensisw-0.8-source.zip" target="_blank">here</a>. The latest version has the windows contraints fix.<br />
      <br />
      Rob</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
