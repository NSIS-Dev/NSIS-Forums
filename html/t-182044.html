<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="remaining temp files ($pluginsdir)"><title>remaining temp files ($pluginsdir) - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">remaining temp files ($pluginsdir)</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=182044">remaining temp files ($pluginsdir)</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">stb</span><br><span class="post-time small text-muted">2nd June 2004 22:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>remaining temp files ($pluginsdir)</strong><br>Hi!<br><br>After testing my installers several times I now found many remaining temp files and folders. It seems that the installer does not remove them regardless whether the installer exits via Abort/Quit or "finish". Is this a bug? What am I doing wrong? I even rebooted the machine hoping NSIS would have inserted something into registry to clean temp files at windows startup. It seems NSIS does not remove ANY file (e.g. ioSpecial.ini or modern-wizard.bmp stay there, too).<br><br>btw: What is the behaviour I should get - especially if using "Quit" to abort the installer (e.g. within some custom page leave function)?<br><br>install.log says:<br>RMDir: RemoveDirectory("C:\DOKUME~1\stb\LOKALE~1\Temp\nsr5E.tmp")<br><br>But the dir persists containing multiple dlls, iospecial.ini and two bitmaps. FYI: I don't add manually files into $pluginsdir (just calling some plugins).<br><br>Regards<br>stb</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">iceman_k</span><br><span class="post-time small text-muted">3rd June 2004 00:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The most probable reason why the plugin directory is still there is that one of the plugins you are using did not shutdown before you ended the installer.<br>Make sure you unload all plugins.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">3rd June 2004 02:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Why doesn't NSIS do that automatically before closing the installer?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">3rd June 2004 17:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Unloading a DLL while it might be running code can and probably will result in a crash.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">stb</span><br><span class="post-time small text-muted">6th June 2004 15:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ok, I removed "SetPluginUnload alwaysoff" from my script and now tmp files go away as expected (regardless of using Abort or Quit).<br><br>Thanks for your help :up: :up: :up:</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>