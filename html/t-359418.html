<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="WriteRegDWORD Doesn't Work???"><title>WriteRegDWORD Doesn't Work??? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">WriteRegDWORD Doesn't Work???</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=359418">WriteRegDWORD Doesn't Work???</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">justinswall</span><br><span class="post-time small text-muted">15th April 2013 01:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>WriteRegDWORD Doesn't Work???</strong><br>I am totally lost... I am trying to add a user account into the SpecialAccounts user list in the registry to prevent the user account from showing up at the login screen. I've even went as far to create a script that does nothing but that (see below) to try to troubleshoot but nothing. As far as I can tell, my code is correct, but it doesn't work. It doesn't add the SpecialAccounts key, the UserList key or the DWORD to the registry. Can someone please help me figure out what I'm doing wrong??<br><br>PS: I've tried using 0x00000000, 0 and "0" but none of them has worked.<br><br>PPS: <a href="http://social.technet.microsoft.com/Forums/en-US/w7itproui/thread/16378967-8a39-4aef-85e4-d859a71648d3/" target="_blank">Information on the the SpecialAccounts registry key.</a><br><br>NSIS Script:<br></p><pre>
<code>; Script generated by the HM NIS Edit Script Wizard.<br><br>; HM NIS Edit Wizard helper defines<br>!define PRODUCT_NAME "!Tech Installer"<br>!define PRODUCT_VERSION "1.1"<br>!define PRODUCT_PUBLISHER "Swall's Business Consultants"<br>!define PRODUCT_WEB_SITE "http://www.swallsbc.com"<br><br>Name "${PRODUCT_NAME} ${PRODUCT_VERSION}"<br>OutFile "D:\Temp\TechSetup.exe"<br>RequestExecutionLevel admin<br>InstallDir "C:\"<br>Icon "D:\Temp\SwallsIconDownArrow.ico"<br><br>Section "MainSection" SEC01<br>  WriteRegDWORD HKLM "Software\Microsoft\Windows NT\CurrentVersion\Winlogon\SpecialAccounts\UserList" "ITSupport" 0x00000000<br>SectionEnd<br><br>Section -Post<br>SetAutoClose true<br>SectionEnd</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br>
      <span class="post-time small text-muted">15th April 2013 01:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Is this a 64 bit system?<br>
      <br>
      Try running Process Monitor...</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">justinswall</span><br>
      <span class="post-time small text-muted">15th April 2013 01:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, this is a 64-bit system.<br>
      <br>
      I'm curious though... wouldn't that only matter if I was trying to input a QWORD? Is there something special I need to do to add a DWORD to a 64 bit OS?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br>
      <span class="post-time small text-muted">15th April 2013 04:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">SetRegView</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">justinswall</span><br>
      <span class="post-time small text-muted">15th April 2013 17:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks sooo much! I didn't even know of the existence of that command before. I think my eyes were already crossed by the time I got to that part of the scripting reference :)</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>