<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="WriteRegBin max size?" />

  <title>WriteRegBin max size? - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">WriteRegBin max size?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=245912">WriteRegBin max size?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Goose42</span><br />
      <span class="post-time small text-muted">11th May 2006 00:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>WriteRegBin max size?</strong><br />
      Hello. I'm getting a compilation error on the following line:<br />
      WriteRegBin HKEY_CURRENT_USER "Software\Company\Product 2.0\Coords" "Data" 4543454604f4e470ffffffccffffffccffffffccffffffccffff...<br />
      <br />
      The actual chunk of binary data is fairly large (12945 characters).<br />
      Is there a limit on the size for WriteRegBin??<br />
      Not sure why else I would get this error, I have similar entries, but it only fails on the very large one.<br />
      <br />
      Thanks for any thought or advice.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comperio</span><br />
      <span class="post-time small text-muted">11th May 2006 00:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You probably need to use a <a href="http://nsis.sourceforge.net/Special_Builds" target="_blank">special build</a> that handles large strings.<br />
      <br />
      The default string size is of 1024 bytes. The special build for large string is capable of handling strings up to 8192 bytes.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Goose42</span><br />
      <span class="post-time small text-muted">11th May 2006 01:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks. I tried using the special build for large strings that was on the link you sent me. It solves the large registry problem, but introduces another. Now it won't let me select between two different install features. Only presents one even though two are defined.<br />
      Do you think this is a versioning problem? Is the Large string special build too old of a version to incorporate the two install features?<br />
      Thanks for your help.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comperio</span><br />
      <span class="post-time small text-muted">11th May 2006 01:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">As far as I know, both are compiled/distributed at the same time. Was the NSIS version you were using the same as the special build? If so, I'm not sure what to tell you.<br />
      <br />
      Perhaps someone else might know. (Might also help if you attach an example script to illustrate the problem.)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Goose42</span><br />
      <span class="post-time small text-muted">11th May 2006 01:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmmmm. well I'm using HM Nsis as a tool to build the script. It appears to use a 2.15 compiler. The LargeString special build is using 2.16. So I wouldn't think that should be a problem. It could be the HM nsis script generation is tailored towards 2.15. Hmmmm there doesn't seem to be much of a difference in the release featues/changes though.<br />
      I'll attach a reduced script... if you have time to look it over for anything obvious that would be great. Stripped out all product info and files.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Goose42</span><br />
      <span class="post-time small text-muted">11th May 2006 02:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think I found the problem. I was using the special build large string makensis.exe but I didn't copy over the Stubs folder!! So it was using older versions that came with HM NSIS. Using the correct one is giving the desired results. Thanks a lot for your help Comperio. Really do appreciate it.<br />
      May your feasts be filled with the finest Salted Pork and mounds of longbottom leaf.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comperio</span><br />
      <span class="post-time small text-muted">11th May 2006 02:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hmmm...<br />
      Your example worked fine for me in both the 'stock' 2.15 and the 'special' 2.16. I'm running out of ideas...<br />
      <br />
      <b>Edit</b><br />
      Seem you and I posted at the same time! Sounds like you found the issue. :cool:</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
