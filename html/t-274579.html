<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="two installDirs possible ?"><title>two installDirs possible ? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">two installDirs possible ?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274579">two installDirs possible ?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">peter931</span><br><span class="post-time small text-muted">18th July 2007 20:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>two installDirs possible ?</strong><br>Hello,<br><br>I want have two install-Dirs, that are editable by the user.<br>One part of Software should be installt to<br><br>c:\xxxxxx<br><br>the other part to<br><br>d:\yyyyyy<br><br>Both pathes must be overrideable by the user.<br>Is there any example available?<br><br>Thanks<br>Peter</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sgiusto</span><br><span class="post-time small text-muted">18th July 2007 21:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">simply add a PagEx of type directory to your installer:<br><br>PageEx directory<br>DirText $(EXTRADIR_CAPTION)<br>DirVar $EXTRA_DIR<br>PageExEnd<br><br>then in .onInit you can read the values from previous installations or set to default like these:<br><br>Function .onInit<br>; this is the for the standard dir page<br>StrCpy $INSTDIR "$PROGRAMFILES\Myprg\"<br>; this is for the extra page<br>StrCpy $EXTRA_DIR "$PROGRAMFILES\Extra\"<br>FunctionEnd<br><br>hope this helps</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">19th July 2007 01:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Or if you are using Modern UI, simply add !define MUI_DIRECTORYPAGE_VARIABLE $Var before your second MUI_PAGE_DIRECTORY insertion.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">peter931</span><br><span class="post-time small text-muted">19th July 2007 10:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I would like to use the modern Interface.<br><br>The hint to use a second Page is working well.<br>But is it also possibble to input both<br>directories on ONE page?<br><br>This would be easier for the user.<br><br>Thanks for help<br>Peter</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">19th July 2007 10:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You'd need to build a custom page with 2 DirRequest fields.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DrDan</span><br><span class="post-time small text-muted">1st August 2007 11:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Three directories...</strong><br>I had to do this for our installer too. Except we had three locations.<br><br>It's quite easy if you use Eclipse and the NSIS plug-in for Eclipse - it's very good and lets you draw custom pages (like you might do in MS visual studio).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pchris</span><br><span class="post-time small text-muted">12th August 2007 18:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hello!<br><br>I have a follow-up question:<br><br>I have also two parts of the software which should go in different directories. But one part is optional, so the second DirPage should only be shown when the section is choosen in the ComponentPage.<br><br>How to make that?<br><br>mfg<br>chris</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>