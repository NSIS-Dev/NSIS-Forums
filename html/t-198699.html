<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="2 -&gt; 2.02: 10 kb bigger installer?"><title>2 -&gt; 2.02: 10 kb bigger installer? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">2 -&gt; 2.02: 10 kb bigger installer?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=198699">2 -&gt; 2.02: 10 kb bigger installer?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">xtf</span><br><span class="post-time small text-muted">8th November 2004 18:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>2 -&gt; 2.02: 10 kb bigger installer?</strong><br>Hi,<br><br>I upgraded NSIS from 2 to 2.02 and now the generated installer is 10 kb bigger. I'm using LZMA compression.<br><br>Where did those 10 kb come from?<br>I saw nothing in the FAQ about this.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">8th November 2004 20:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">10 KB is nothing.... :)<br><br>Maybe, source update, plugins update, etc..</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">8th November 2004 20:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yep, 10kb is only an extra 3 seconds even on a 56k :D<br>But it is still a good question worthy of an answer...<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">9th November 2004 09:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have another result: 1 kB less package with lzma. IMHO this is compressor tricks, in most cases NSIS lzma and WinZip give similar results, but sometimes zip has up to 5% less size (and WinZip compression stability looks higher). Compiller window shows some compression results.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">xtf</span><br><span class="post-time small text-muted">9th November 2004 16:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Afrow UK</i><br><b>Yep, 10kb is only an extra 3 seconds even on a 56k :D<br>But it is still a good question worthy of an answer...<br><br>-Stu</b></blockquote>It's still 5 %.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th November 2004 20:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Is it always 10k larger? What if you recompile? When using solid compression, which is turned on by default for lzma, dates are compressed along with everything else. These dates include file's last access date and some other dates I don't quite remember right now. Therefore, at each compile, the size might differ a bit.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">xtf</span><br><span class="post-time small text-muted">10th November 2004 11:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, it's always 10 kb larger.<br>I compiled with the old version, installed the new version, compiled again and it was 10 kb larger while nothing else changed.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">11th November 2004 19:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Can you attach a complete example?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">xtf</span><br><span class="post-time small text-muted">11th November 2004 19:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If the script?<br>Sure: <a href="http://cvs.sourceforge.net/viewcvs.py/xbtt/xbt/XBT%20Client/XBT%20Client.nsi?rev=1.40&amp;view=auto" target="_blank">http://cvs.sourceforge.net/viewcvs.p...1.40&amp;view=auto</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">11th November 2004 20:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have tried compiling the script with 2.0 and 2.02 and got a 10 bytes difference. I have only copied the old makensis.exe, but your script doesn't use anything else. Can you test it again?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">xtf</span><br><span class="post-time small text-muted">11th November 2004 23:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Just switching makensis.exe isn't enough. I installed 2.0 again and the .exe gets 10 kb smaller. I installed 2.02 again and it gets 10 kb larger.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">12th November 2004 11:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ah, I see the change now. It's in UpgradeDLL.nsh. Joost changed it so it'd use a tool from the new Library.nsh. This tool replaces rundll32.exe because it doesn't always exist. If you want a smaller installer, even with this change, you can use lzma:</p><pre>
<code>SetCompressor lzma</code>
</pre></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">xtf</span><br><span class="post-time small text-muted">12th November 2004 21:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I'm already using lzma.<br><br>BTW, why is lzma not the default compressor?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Olaf van der Spek</span><br><span class="post-time small text-muted">13th November 2004 16:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Is that tool/rundll also required if you the DLL doesn't need to be registered?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">15th November 2004 11:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No, it's only for registering DLLs.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Olaf van der Spek</span><br><span class="post-time small text-muted">15th November 2004 11:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">!define UPGRADEDLL_NOREGISTER<br>Isn't that enough to exclude it?</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>