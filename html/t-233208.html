<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Back button and page Leave function" />

  <title>Back button and page Leave function - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Back button and page Leave function</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=233208">Back button and page Leave function</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JimmyJams</span><br />
      <span class="post-time small text-muted">15th December 2005 03:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Back button and page Leave function</strong><br />
      Hi,<br />
      <br />
      I'm assigning a custom leave function to my pages (both standard and custom pages), but the leave function is never called when the user presses the back button to load the previous page ???</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">15th December 2005 09:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nope.<br />
      <br />
      -Stu :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JimmyJams</span><br />
      <span class="post-time small text-muted">15th December 2005 09:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">So there is no way to detect a Back button press at all ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">15th December 2005 17:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If it's a custom page you can by Pop $R0 after the InstallOptions plugin call. $R0 will contain "back" if the user clicks the back button.<br />
      <br />
      As for detecting for other pages, you need to set a temp variable to e.g. "1" in a pages' PRE function, then in the previous pages' PRE function check if that temp variable is "1". This will tell you that the user has clicked back. Obviously you need to reset the value to "0" again in both pages' LEAVE functions.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">josabraham</span><br />
      <span class="post-time small text-muted">13th March 2006 04:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Testing "back button"</strong><br />
      Hi<br />
      <br />
      Can you post the code showing how to detect "Back button" by poping $R0. I am using only a single custom page.<br />
      <br />
      best regrads<br />
      <br />
      Joseph</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
