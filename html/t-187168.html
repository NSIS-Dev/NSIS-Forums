<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Web file install possible?"><title>Web file install possible? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Web file install possible?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=187168">Web file install possible?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">markusha</span><br><span class="post-time small text-muted">20th July 2004 08:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Web file install possible?</strong><br>Hi,<br><br>Is the following scenario possible to author using NSIS?<br><br>User starts an update wizard which first lists available<br>servers. User selects a server and wizard lists available<br>files. User selects files to be downloaded from the server<br>and wizard finishes after that.<br><br>Markus</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">20th July 2004 14:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, it is possible with the combination of NSISdl and InstallOptions.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">markusha</span><br><span class="post-time small text-muted">20th July 2004 17:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for pointing me to right direction. However, after getting to know InstallOptions I don't think it is very suitable for my purpose.<br><br>Offering the list of download servers in a listbox still works but I cannot come up with a way to show the available files in a list so that user can select them (preferably using check boxes) and then install them. Can I create the list of components dynamically for MUI_PAGE_COMPONENTS page? That page pretty much has the functionality but the list of files will be generated dynamically, on the fly.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">20th July 2004 17:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Oh, the TreeView control... I'm trying to add this control to InstallOptionsEx (see the thread with the same name) but it's not available now. I'm doing other changes to this plugin, so it will not be available soon.<br><br>However I would suggest to do that using the combination of DropList and ListBox. You could select a directory in DropList and files in ListBox.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">iceman_k</span><br><span class="post-time small text-muted">20th July 2004 21:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can dynamically generate the list of files using a combination of FindFirst and calling SendMessage to the listbox control on your IO page. Send the LB_ADDSTRING message with the text to be added. The syntax for this message is documented on MSDN.<br><br>I have used this technique with great success to circumvent the default NSIS restriction of 1024 characters for the LISTITEMS field in the IO ini file.<br>(I did not want to download a special build or recompile NSIS.)<br>This allows me to add as many items to a listbox using Windows API.<br><br>[edit]<br>In your case the list of files seems to come from a remote server.<br>What protocol are you using to get the files?<br>[/edit]</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">markusha</span><br><span class="post-time small text-muted">21st July 2004 05:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by iceman_k</i><br><b><br>[edit]<br>In your case the list of files seems to come from a remote server.<br>What protocol are you using to get the files?<br>[/edit]</b></blockquote>Thx for the tip! I will look into it later. I figure that I first use NSISdl to download a text file containing the file names and then parse the file names to InstallOptions page. It is not going to be easy since I am a newbie in NSIS but this is fun to try at least.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">iceman_k</span><br><span class="post-time small text-muted">21st July 2004 14:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">One more tip would be to use the Windows LB_XXXX messages to get the selected items from the listbox.<br>If it is just a few items you can get it from the STATE field in the IO ini file, but that again has a limit of 1024 characters in the default NSIS build.<br>If you need some help with this I can perhaps upload a simple example illustrating these techniques.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">markusha</span><br><span class="post-time small text-muted">21st July 2004 15:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by iceman_k</i><br><b>One more tip would be to use the Windows LB_XXXX messages to get the selected items from the listbox.<br>If it is just a few items you can get it from the STATE field in the IO ini file, but that again has a limit of 1024 characters in the default NSIS build.<br>If you need some help with this I can perhaps upload a simple example illustrating these techniques.</b></blockquote>No, thank you. I am leaning towards custom built MFC app that will do all that and more with great ease.</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>