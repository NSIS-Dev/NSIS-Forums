<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="confused by IfFileExists"><title>confused by IfFileExists - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">confused by IfFileExists</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=329820">confused by IfFileExists</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Safe60</span><br><span class="post-time small text-muted">19th April 2011 15:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>confused by IfFileExists</strong><br>Hi all.<br>I'm having a strange behaviour using IfFfilextist instruction. May be I'm using a wrong syntax, but anyway here is the code :<br><br>IfFileExists P:\spedizi\postallverG\*.MDD 0 +2<br>File p:\spedizi\postallverG\*.MDD<br><br>SetOutPath "$INSTDIR\..\Post"<br><br>The logic would be to check if some file with .mdd extension does exists in a specific directory located on a network disk. If at least one file exists, it should add all of them to the installation file. If not, it should skip the File statement and proceed with the SetOutputPath command.<br><br>Strangely, in any case, the program flow execute the File statement that fails making the compilation process to abort.<br><br>In the documentation the IiFfileExist command is documented this way :<br><br>file_to_check_for jump_if_present [jump_otherwise]<br><br>and the sample code of the statement is<br>IfFileExists $WINDIR\notepad.exe 0 +2<br>MessageBox MB_OK "notepad is installed"<br><br>I'm almost sure that I'm missing something but I can't guess what. May that the wildcards are not allowed ? Or the problem is in the remote path of the file to be checked ?<br><br>Thanks for your opinions.<br><br>Sandro</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Highcoder</span><br><span class="post-time small text-muted">19th April 2011 17:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>...</strong><br>The command explains itself. The name is IfFileExist and not IfExtensionExistInThisFolder. :D<br>You can only specify ONE FILE then it looks for THIS FILE. The command can´t search for fileextensions in specified folder...<br><br>You have to code it your own. But it shouldn´t be so tricky. ;)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">19th April 2011 19:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Not to mention IfFileExists is a run-time instruction. You can't use to to check if a file exists on the build machine.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">19th April 2011 21:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><small>Originally posted by Highcoder</small><br>You can only specify ONE FILE then it looks for THIS FILE. The command can´t search for fileextensions in specified folder...</blockquote>IfFileExists accepts wildcards without any problems.<br><br>As Afrow said, IfFileExists is a runtime command, not compiletime. There are compiletime commands like !system that allow you to do some funky stuff like conditional file compilation. Or you can use a bat file to make a file list and !include that in your script. Or maybe execute a vbscript during compilation (forum search for this).</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">19th April 2011 22:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can of course use wildcards with IfFileExists. As for File, you can use /nonfatal if you don't care whether the file should be included or not.<br><br>Please mind the language MSG.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">20th April 2011 05:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">My bad, won't happen again. Thanks for the correction.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Highcoder</span><br><span class="post-time small text-muted">20th April 2011 06:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>...</strong><br>Oh, really? Sorry. Learning never stops.<br>And never mind MSG. What i wrote was really utter b..... :)<br>I totally overlooked that he used it for compiletime...<br><br>Cheers</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Safe60</span><br><span class="post-time small text-muted">20th April 2011 09:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Many thanks for your opinions guys. I'm just a NSIS beginner and I need to further explore the language and the environment.<br><br>Sandro</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>