<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="VIAddVersionKey and the Uninstaller" />

  <title>VIAddVersionKey and the Uninstaller - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">VIAddVersionKey and the Uninstaller</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=284330">VIAddVersionKey and the Uninstaller</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jmcbns</span><br />
      <span class="post-time small text-muted">3rd January 2008 23:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>VIAddVersionKey and the Uninstaller</strong><br />
      I've looked all over and I can't find any mention of anyone noticing this let alone a fix. If this is something stupid on my part I apologize up front.<br />
      <br />
      Towards the top of my install script I specifiy several VIAddVersionKey calls for the usual suspects (version, description, company, etc.), outside of any function or section. This works fine and the resulting EXE has all this info on the Version tab.<br />
      <br />
      However, when I run the installer it creates an uninstaller (using WriteUninstaller), and annoyingly copies all of this version info on to it.<br />
      <br />
      I've tried to find any way to conditionally compile this code but as far as I know there is no constant that you can test for that says this is the compile of the uninstaller so I could do an !ifdef.<br />
      <br />
      Anyone else come accross this? Is there a way to specify different version info for an uninstaller or simply to get it to NOT have version info?<br />
      <br />
      Thanks in advance for your help.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">4th January 2008 01:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The installer is copied as is to the uninstaller and only the icon and the actual installation data is replaced. If you think there should be special handling for the version information, just like the icons, open a feature request or submit a patch.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">4th January 2008 01:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Because installer writes the uninstaller (copies it self) the only way I could think is to prepare a separate script which would act as uninstaller.<br />
      <br />
      [Edit] sorry kichik I should reload the page before submit.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
