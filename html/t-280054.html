<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Loop an animated gif"><title>Loop an animated gif - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Loop an animated gif</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=280054">Loop an animated gif</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">sharkystar</span><br><span class="post-time small text-muted">26th October 2007 18:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Loop an animated gif</strong><br>Hi guys<br><br>I'm using AnimGif to display a gif on a custom page - no problems. I have a function to start and stop it.<br><br>However, could someone please tell me how to loop the animation as it just plays once then stops.<br><br>There doesn't seem to be any help in the plugin examples files.<br><br>Thanks</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">26th October 2007 19:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">From AnimGIF's description, it sounds like it should display the GIF in an infinite loop until you stop it. Are you sure the GIF itself is built this way? What happens when you display it in a browser?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sharkystar</span><br><span class="post-time small text-muted">26th October 2007 23:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">That's a really good point kichik, and no I hadn't even tested that. However the gif does actually loop in a browser, so I'm still stumped as to how we loop an animated gif.<br><br>Anyone.....??</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pospec</span><br><span class="post-time small text-muted">27th October 2007 11:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Show me that gif</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">CancerFace</span><br><span class="post-time small text-muted">28th October 2007 13:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If I remember correctly there should be a 'loop' flag in the header of the GIF file itself, which turns it on/off. You could try using something like <a href="http://www.mindworkshop.com/alchemy/gifcon.html" target="_blank">GIF Construction Set</a> to set the loop flag.<br>CF<br><br>[Edit] Oups, just saw the second post ... My bad, I didn't realize that it does loop in a browser. The only other thing I can suggest is to check the number of iterations set for the animation, it may be that the plugin does not like both the loop flag on and a number of iterations &gt;0 ?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">29th October 2007 07:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Looks like plug-in not extracts 'loops' parameter from GIF header. For now just add at the end of play() function in the animgif.cpp file (line ~246):</p><pre>
<code><br>   lpWndProcOld = (void *)SetWindowLong(childwnd, GWL_WNDPROC, (long)WndProc);<br>+   imgset.nLoops = 1;<br>   anim.Play (childwnd, r, &amp;imgset, trCol);</code>
</pre>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>