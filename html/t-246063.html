<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="I would like to create a custom page" />

  <title>I would like to create a custom page - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">I would like to create a custom page</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=246063">I would like to create a custom page</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Speedy Gonzales</span><br />
      <span class="post-time small text-muted">12th May 2006 18:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>I would like to create a custom page</strong><br />
      Hi,<br />
      <br />
      I have make a patchinstaller.<br />
      <br />
      In this installer the user should choose one of 3 possibilitys.<br />
      <br />
      When he choose e.g. the 1 in the drop list the files from the folder 1_High should be install. When he choose the 2 in the drop list the files from the folder 2_Middle should be install...<br />
      <br />
      And further when the user chose e.g. 1 the picture 1.jpeg should be view.<br />
      <br />
      I hope you understand what I mean.<br />
      <br />
      Can you help me please and write me the code for this custompage?<br />
      Thank you<br />
      <br />
      Sorry when my english isn't very good.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Speedy Gonzales</span><br />
      <span class="post-time small text-muted">12th May 2006 21:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Understand you my question ?<br />
      <br />
      Please help me</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Speedy Gonzales</span><br />
      <span class="post-time small text-muted">13th May 2006 15:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Could you only say me perhaps how I can make that when the user choose e.g. the 1 in the drop list the files from the folder 1_High would be install...?<br />
      <br />
      The picture isn't so important.<br />
      <br />
      Perhaps you can download my patch.rar there I've build the user page ... but without this function. Could you insert the code for this function in this patch.nsi?<br />
      <br />
      Thank you</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Speedy Gonzales</span><br />
      <span class="post-time small text-muted">13th May 2006 23:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br />
      I have try now a lot of things and I hope that it could be work with the new code in my new Patch.rar.<br />
      <br />
      ..But there must be a problem. Can you say me what's wrong in the code?<br />
      <br />
      Thank you</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">galil</span><br />
      <span class="post-time small text-muted">14th May 2006 04:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Do these 1_High, 2_Middle and 3_Low file folders must be in $INSTDIR? Or do you want them to be inside your Patch.exe? Or do you want them to be outside, in the $EXEDIR of Patch.exe?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Speedy Gonzales</span><br />
      <span class="post-time small text-muted">14th May 2006 12:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br />
      the Folders will be install in the $INSTDIR<br /></p>
      <pre>
<code><br />        SetOutPath "$INSTDIR\1_High"<br />        File "1_High\blood.spr"<br />        SetOutPath "$INSTDIR\2_Middle"<br />        File "2_Middle\blood.spr"<br />        SetOutPath "$INSTDIR\3_Low"<br />        File "3_Low\blood.spr"<br /></code>
</pre><br />
      <br />
      <br />
      Then the user can chose if he want the Files from the folder 1_high, 2_middle or 3_low. If he chose par example the 2_Middle the File blood.spr from the folder 2_Middle should be copy in the new patch folder. If he choose the 1_high the file blood.spr from the folde 1_high should be install.<br />
      <br />
      I've try it to make this with the following code in my custompage.<br />
      ..But it doesn't work. Can anybody say me what i've make wrong:<br />
      <br />
      <pre>
<code><br />; Copy Netsettings<br />Function PatchPage<br /><br />!insertmacro SectionFlagIsSet ${Section1} ${SF_SELECTED} ShowPage SkipPage<br />ShowPage:<br /><br />GetDlgItem $R0 $HWNDPARENT 2<br />EnableWindow $R0 0|1 # 0=hide, 1=show<br />GetDlgItem $R0 $HWNDPARENT 3<br />ShowWindow $R0 ${SW_HIDE}<br />!insertmacro MUI_INSTALLOPTIONS_DISPLAY "patch.ini"<br /><br />SkipPage:<br /><br />FunctionEnd<br /><br />Function .OnGUIEnd<br />Call CopyFiles<br />FunctionEnd<br /><br />; Copy Files<br />!macro COPY_FILES SOURCE<br />CopyFiles /silent "$INSTDIR\${SOURCE}\blood.spr" "$INSTDIR\patch"<br />goto done<br />!macroend<br /><br />; Copy Netsettings<br />Function CopyFiles<br /><br />Push $R0<br />ReadINIStr $R0 "$PLUGINSDIR\patch.ini" "Field 1" "State"<br /><br />StrCmp $R0 "1_High" 0 not1_High<br />!insertmacro COPY_FILES 1_High<br />not1_High:<br /><br />StrCmp $R0 "2_Middle" 0 not2_Middle<br />!insertmacro COPY_FILES 2_Middle<br />not2_Middle:<br /><br />StrCmp $R0 "3_Low" 0 not3_Low<br />!insertmacro COPY_FILES 3_Low<br />not3_Low:<br /><br />done:<br /><br />Pop $R0<br />FunctionEnd<br /><br />Function PageLeavePatch<br /><br />ReadIniStr $0 '$PLUGINSDIR\patch.ini' 'Field 1' 'State'<br />strcmp $0 '' error ok<br />error:<br />MessageBox MB_OK "You haven't chose a Patch!"<br />abort<br />ok:<br /><br />FunctionEnd<br /></code>
</pre><br />
      <br />
      Thank you
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">galil</span><br />
      <span class="post-time small text-muted">14th May 2006 22:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, in the second patch.rar that you attached,<br />
      <br />
      In the Section "Patch"<br />
      replace<br /></p>
      <pre>
<code>        SetOutPath "$INSTDIR\1_High"<br />        File "1_High\blood.spr"<br />        SetOutPath "$INSTDIR\2_Middle"<br />        File "2_Middle\blood.spr"<br />        SetOutPath "$INSTDIR\3_Low"<br />        File "3_Low\blood.spr"</code>
</pre><br />
      with:<br />
      <pre>
<code>      Call CopyFiles</code>
</pre><br />
      <br />
      And fix all the String compares in the CopyFiles function.<br />
      Because you are comparing to "1_High", "2_Middle" etc, but in the patch.ini they are named just "High", "Middle" etc... so the copying can't get executed.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Speedy Gonzales</span><br />
      <span class="post-time small text-muted">15th May 2006 18:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi<br />
      <br />
      THX it works :-).<br />
      <br />
      Is it perhaps possible that when the user choose as example High in the droplist the picture 1.gif/.jpg .. whatever is shown and when he choose Middle in the droplist the picture 2.gif/.jpg.. is shown?<br />
      <br />
      Thank you</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">galil</span><br />
      <span class="post-time small text-muted">15th May 2006 19:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Speedy Gonzales</i><br />
        Is it perhaps possible that when the user choose as example High in the droplist the picture 1.gif/.jpg .. whatever is shown and when he choose Middle in the droplist the picture 2.gif/.jpg.. is shown?
      </blockquote>This thread has a working example of that:<br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=244895" target="_blank">http://forums.winamp.com/showthread....hreadid=244895</a><br />
      <br />
      Although the image must be BMP, not JPG/GIF...
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Speedy Gonzales</span><br />
      <span class="post-time small text-muted">16th May 2006 13:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Galil thank you for your help<br />
      <br />
      I've try no very long to insert the code for the picture in my .nsi but it doesn't work.<br />
      <br />
      Could you perhaps help me an write me the code im my patch.nsi?<br />
      <br />
      It would be very friendly from you.<br />
      <br />
      This is my final patch. In the droplist are three possibilitys<br />
      <br />
      Low<br />
      Middle<br />
      Extrem<br />
      <br />
      It should be that the picture 1.bmp will be shown (the preview should be under the droplist) when the user choose low<br />
      <br />
      The picture 2.bmp when he choose middle in the droplist..<br />
      <br />
      Thank you</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
