<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Built an installer, some questions remain" />

  <title>Built an installer, some questions remain - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Built an installer, some questions remain</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255371">Built an installer, some questions remain</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ChrisHibbert</span><br />
      <span class="post-time small text-muted">12th September 2006 23:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Built an installer, some questions remain</strong><br />
      I'm an experienced (25 years) software engineer, but most of my development and deployements have been unix or linux based. I'm currently developing an open source java-based system. I have previously tested that the system runs under Windows. Some people requested a Windows installer rather than the zip file I had previously used to package for Windows. I looked around, and NSIS seemed the best system to use to build an installer. It works reasonably well. I was able to build a decent installer without asking any questions.<br />
      <br />
      I used the Modern UI. It seemed easier to configure than the other approaches I tried. The installer is visible at <a href="http://svn.sourceforge.net/viewvc/*checkout*/zocalo/trunk/build/installer.nsi?revision=375" target="_blank">http://svn.sourceforge.net/viewvc/*c...i?revision=375</a><br />
      <br />
      Some comments and observations first, then some questions:<br />
      <br />
      My code is released as open-source, so I didn't force people to "accept" the license. This was easy to do.<br />
      <br />
      I wanted to display some instructions before prompting for configuration information, and the best approach I could find was to re-use the MUI_PAGE_LICENSE macro from Modern UI. (If you look in the installer.nsi file above, you'll see that I've copied and edited that macro.) This allows me to insert a file that the user can scroll through. I needed to change the header and top text (since my new page wasn't a license), and the standard macro didn't seem to allow this. Is there a better way to do this?<br />
      <br />
      After displaying the instructions, I prompt for configuration parameters, verify the values, and substitute the values into a config file. ConfigRead and ConfigWrite worked quite well for this. (I verify that two parameters are numeric, and insist that the password that is entered isn't the default one that ships with the system.) Feel free to adapt this example for others to use if it looks like my approach was reasonable.<br />
      <br />
      <br />
      There are a few issues that it would be nice to clean up if anyone can suggest changes I might make.<br />
      <br />
      QUESTION 1: I made a 150x57 BMP files from a .png file for the header image. It displays pretty nicely using the previewer, but NSIS does something ugly with it. Any suggestions?<br />
      <br />
      The BMP I feed to NSIS is <a href="http://svn.sourceforge.net/viewvc/*checkout*/zocalo/trunk/webpages/images/logo.zocalo.BMP" target="_blank">http://svn.sourceforge.net/viewvc/*c...ogo.zocalo.BMP</a> The result looks like the attached image.<br />
      <br />
      QUESTION 2: I used dialogs::InputBox, but couldn't figure out how to wrap long lines (\r\n didn't work). If my lines are longer than a certain length, parts are hidden under the buttons.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ChrisHibbert</span><br />
      <span class="post-time small text-muted">12th September 2006 23:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmmm. Well, that bmp isn't 150x57, it's a little bigger, since that was the best display I could generate. I don't see a 150x57 copy of the image now, but it had worse jaggies. any advice on optimising display of a BMP as header image?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pengyou</span><br />
      <span class="post-time small text-muted">13th September 2006 00:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        any advice on optimising display of a BMP as header image?
      </blockquote>I have found that using the 150 x 57 pixel size recommended in the MUI Readme gives the best results. Here is how I made the header image used in the attached screenshot. (I used the free IrfanView program but other graphics programs have similar capabilities)<br />
      <br />
      (1) Open a copy of the original 200 x 64 pixel logo<br />
      <br />
      (2) Reduce the image width to 150 pixels while maintaining the aspect ratio.<br />
      <br />
      (3) The resized image was 150 x 48 pixels (i.e. it is not high enough)<br />
      <br />
      (4) Resize the canvas by adding a white border with left size width 0 pixels, right size width 0 pixels, top size width 4 pixels, bottom size width 5 pixels.<br />
      <br />
      (5) The resized image is now 150 x 57 (the recommended size) so it was saved.<br />
      <br />
      The attached screenshot shows part of a MUI license page created using the 150 x 57 version of the logo.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br />
      <span class="post-time small text-muted">13th September 2006 13:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by pengyou</i><br />
        <b>(3) The resized image was 150 x 48 pixels (i.e. it is not high enough)</b>
      </blockquote>And 5 minutes with MS paint you can fill the 9 pixel gap to the match with the background. :)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ChrisHibbert</span><br />
      <span class="post-time small text-muted">13th September 2006 19:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry I botched the question about the icon. I started with this (150x57) image. (continued in next comment)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ChrisHibbert</span><br />
      <span class="post-time small text-muted">13th September 2006 19:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">When I ran NSIS, the image displayed, looked like this image. Notice the jaggies? Why doesn't the image display better? I'll try the 150x57 images that were offered, but I know how to build my own. (I cropped and added a white vertical border in order to get to 150x57.)<br />
      <br />
      Thanks for any help.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ChrisHibbert</span><br />
      <span class="post-time small text-muted">13th September 2006 20:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Bizarre! I tried the image trueparuex offered, and it worked fine. It's 150x57, just like the one I posted a little while ago as logo.zocalo-c.bmp. His is about a third the size of mine. Anyone know what I did wrong in editing the bitmap? Why does his produce a better installer logo than mine, when they're both 150x57, and look the same to my eye? For now, I'll use trueparuex's image. Thanks!</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
