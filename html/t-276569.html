<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="how to change it" />

  <title>how to change it - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">how to change it</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=276569">how to change it</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">51819</span><br />
      <span class="post-time small text-muted">28th August 2007 01:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>how to change {SecB}/{SecC} value</strong><br />
      How to Construct components pages before the pre-set components according to the registry tick state?<br />
      <br />
      Why {SecB}/{SecC} is Mistakes? {SecA} is right?<br />
      <br />
      <br />
      {SecA} value is 0<br />
      {SecB} value is 1<br />
      {SecC} value is 5<br />
      <br />
      <br />
      !include "MUI.nsh"<br />
      OutFile "test.exe"<br />
      <br />
      !define MUI_PAGE_CUSTOMFUNCTION_Pre ComponentsPre<br />
      !insertmacro MUI_PAGE_COMPONENTS<br />
      !insertmacro MUI_PAGE_INSTFILES<br />
      <br />
      !insertmacro MUI_LANGUAGE "ENGLISH"<br />
      <br />
      Section "A" SecA<br />
      SectionEnd<br />
      <br />
      Section "B" SecB<br />
      SectionEnd<br />
      <br />
      Section "C" SecC<br />
      SectionEnd<br />
      <br />
      Function ComponentsPre<br />
      ReadRegStr $0 HKCU "Software\Test" "SecA"<br />
      IfErrors +2<br />
      StrCmp $0 0 0 +2<br />
      SectionSetFlags ${SecA} 0<br />
      <br />
      ReadRegStr $0 HKCU "Software\Test" "SecB"<br />
      IfErrors +2<br />
      StrCmp $0 0 0 +2<br />
      SectionSetFlags ${SecB} 0<br />
      <br />
      ReadRegStr $0 HKCU "Software\Test" "SecC"<br />
      IfErrors +2<br />
      StrCmp $0 0 0 +2<br />
      SectionSetFlags ${SecC} 0<br />
      <br />
      Functionend</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">28th August 2007 22:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Why not use Memento.nsh? It does all this automatically for you.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">51819</span><br />
      <span class="post-time small text-muted">29th August 2007 02:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks sir.<br />
      <br />
      I had used Memento.nsh,error.<br />
      <br />
      have Other methods?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">29th August 2007 18:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What error?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">51819</span><br />
      <span class="post-time small text-muted">30th August 2007 12:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Command line:<br />
      "C:\Program Files\NSIS\makensis.exe" /NOTIFYHWND 263518 "D:\07 b1\test.nsi"<br />
      <br />
      MakeNSIS v2.28 - Copyright 1995-2007 Contributors<br />
      See the file COPYING for license details.<br />
      Credits can be found in the Users Manual.<br />
      <br />
      Processing config:<br />
      Processing plugin dlls: "C:\Program Files\NSIS\Plugins\*.dll"<br />
      - AdvSplash::show<br />
      - Banner::destroy<br />
      - Banner::getWindow<br />
      - Banner::show<br />
      - BgImage::AddImage<br />
      - BgImage::AddText<br />
      - BgImage::Clear<br />
      - BgImage::Destroy<br />
      - BgImage::Redraw<br />
      - BgImage::SetBg<br />
      - BgImage::SetReturn<br />
      - BgImage::Sound<br />
      - DcryptDll::Decrypt<br />
      - DcryptDll::HexDecoder<br />
      - DcryptDll::HexEncoder<br />
      - DcryptDll::LoadStr<br />
      - DcryptDll::MD5Hash<br />
      - Dialer::AttemptConnect<br />
      - Dialer::AutodialHangup<br />
      - Dialer::AutodialOnline<br />
      - Dialer::AutodialUnattended<br />
      - Dialer::GetConnectedState<br />
      - ExecDos::exec<br />
      - ExecDos::isdone<br />
      - ExecDos::wait<br />
      - FindProcDLL::FindProc<br />
      - InstallOptions::dialog<br />
      - InstallOptions::initDialog<br />
      - InstallOptions::show<br />
      - InstallOptionsEx::dialog<br />
      - InstallOptionsEx::initDialog<br />
      - InstallOptionsEx::setFocus<br />
      - InstallOptionsEx::show<br />
      - KillProcDLL::KillProc<br />
      - LangDLL::LangDialog<br />
      - Locate::_Close<br />
      - Locate::_Find<br />
      - Locate::_GetSize<br />
      - Locate::_Open<br />
      - Locate::_RMDirEmpty<br />
      - Locate::_Unload<br />
      - Math::Script<br />
      - NSISArray::ArrayCount<br />
      - NSISArray::ArrayExists<br />
      - NSISArray::Clear<br />
      - NSISArray::Concat<br />
      - NSISArray::Copy<br />
      - NSISArray::Cut<br />
      - NSISArray::Debug<br />
      - NSISArray::Delete<br />
      - NSISArray::ErrorStyle<br />
      - NSISArray::Exists<br />
      - NSISArray::ExistsI<br />
      - NSISArray::FreeUnusedMem<br />
      - NSISArray::Join<br />
      - NSISArray::New<br />
      - NSISArray::Pop<br />
      - NSISArray::Push<br />
      - NSISArray::Put<br />
      - NSISArray::ReDim<br />
      - NSISArray::Read<br />
      - NSISArray::ReadToStack<br />
      - NSISArray::Reverse<br />
      - NSISArray::Search<br />
      - NSISArray::SearchI<br />
      - NSISArray::SetSize<br />
      - NSISArray::Shift<br />
      - NSISArray::SizeOf<br />
      - NSISArray::Sort<br />
      - NSISArray::Splice<br />
      - NSISArray::Swap<br />
      - NSISArray::Unload<br />
      - NSISArray::Unshift<br />
      - NSISArray::Write<br />
      - NSISArray::WriteList<br />
      - NSISArray::WriteListC<br />
      - NSISdl::download<br />
      - NSISdl::download_quiet<br />
      - Processes::FindDevice<br />
      - Processes::FindProcess<br />
      - Processes::KillProcess<br />
      - Splash::show<br />
      - StartMenu::Init<br />
      - StartMenu::Select<br />
      - StartMenu::Show<br />
      - System::Alloc<br />
      - System::Call<br />
      - System::Copy<br />
      - System::Free<br />
      - System::Get<br />
      - System::Int64Op<br />
      - System::Store<br />
      - TypeLib::GetLibVersion<br />
      - TypeLib::Register<br />
      - TypeLib::UnRegister<br />
      - UserInfo::GetAccountType<br />
      - UserInfo::GetName<br />
      - UserInfo::GetOriginalAccountType<br />
      - VPatch::vpatchfile<br />
      - WAnsis::config<br />
      - WAnsis::setskin<br />
      - WAnsis::skinit<br />
      - WAnsis::unskinit<br />
      - ZipDLL::extractall<br />
      - ZipDLL::extractfile<br />
      - inetc::get<br />
      - inetc::head<br />
      - inetc::post<br />
      - inetc::put<br />
      - md5dll::GetFileMD5<br />
      - md5dll::GetMD5<br />
      - md5dll::GetMD5File<br />
      - md5dll::GetMD5Random<br />
      - md5dll::GetMD5String<br />
      - newadvsplash::hwnd<br />
      - newadvsplash::play<br />
      - newadvsplash::show<br />
      - newadvsplash::stop<br />
      - newadvsplash::wait<br />
      - nsDialogs::Create<br />
      - nsDialogs::CreateItem<br />
      - nsDialogs::OnBack<br />
      - nsDialogs::OnChange<br />
      - nsDialogs::OnClick<br />
      - nsDialogs::Show<br />
      - nsExec::Exec<br />
      - nsExec::ExecToLog<br />
      - nsExec::ExecToStack<br />
      <br />
      !define: "MUI_INSERT_NSISCONF"=""<br />
      <br />
      Changing directory to: "D:\07 b1"<br />
      <br />
      Processing script file: "D:\07 b1\test.nsi"<br />
      !include: "C:\Program Files\NSIS\Include\LogicLib.nsh"<br />
      !include: closed: "C:\Program Files\NSIS\Include\LogicLib.nsh"<br />
      !include: "C:\Program Files\NSIS\Include\Memento.nsh"<br />
      !include: closed: "C:\Program Files\NSIS\Include\Memento.nsh"<br />
      Name: "Memento"<br />
      OutFile: "Memento.exe"<br />
      XPStyle: on<br />
      ShowInstDetails: show<br />
      Page: components<br />
      Page: instfiles<br />
      !define: "MEMENTO_REGISTRY_ROOT"="HKLM"<br />
      !define: "MEMENTO_REGISTRY_KEY"="SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\KB917953"<br />
      Function: ".onInit"<br />
      !insertmacro: _If<br />
      !insertmacro: end of _If<br />
      Usage: ReadRegStr $(user_var: output) rootkey subkey entry<br />
      root_key=(HKCR|HKLM|HKCU|HKU|HKCC|HKDD|HKPD|SHCTX)<br />
      Error in script "D:\07 b1\test.nsi" on line 26 -- aborting creation process</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">31st August 2007 09:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What's the code you have used?</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
