<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="NSISdl again..."><title>NSISdl again... - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">NSISdl again...</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=188193">NSISdl again...</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">razor_x</span><br><span class="post-time small text-muted">29th July 2004 13:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>NSISdl again...</strong><br>&nbsp; Is there a way to pass username\pass info to NSISdl so it can authenticate on a server?If not this would be a handy feature.This seems like it should be a basic feature.<br><br>the usernamepassword@blahblah<br><br>mentioned in the docs doesnt work.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mumuri</span><br><span class="post-time small text-muted">29th July 2004 14:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can try to download via FTP.<br><br><a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=186466" target="_blank">http://forums.winamp.com/showthread....hreadid=186466</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">razor_x</span><br><span class="post-time small text-muted">29th July 2004 14:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">no im not downloading from an ftp..so this isnt an option.thxz though.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">29th July 2004 14:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">mmm, did you try something like:<br></p><pre>
<code><br>StrCpy $0 "user"<br>StrCpy $1 "pwd"<br><br>NSISdl::download "http://www.server.com/base.php?user=$0&amp;pass=$1" ...<br></code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">razor_x</span><br>
      <span class="post-time small text-muted">29th July 2004 15:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yep thxz though.seems the plugin just cant handle it.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">razor_x</span><br>
      <span class="post-time small text-muted">29th July 2004 18:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">has no one used this tool to download from a server that requires authorization? can ie cookie data be used somehow?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">j27lee</span><br>
      <span class="post-time small text-muted">30th July 2004 00:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here you go:<br>
      <br>
      use NSISdl to download to a file like so:<br>
      NSISdl::download /TIMEOUT=10000 "www.someurl.com?u=$1&amp;p=$2" "$INSTDIR\result.txt"<br>
      <br>
      Pop $0<br>
      #MessageBox MB_OK "result=$0"<br>
      StrCmp $0 success success<br>
      SetDetailsView show<br>
      DetailPrint "download failed: $0"<br>
      # MessageBox MB_ICONEXCLAMATION|MB_OK "download failed: $0"<br>
      MessageBox MB_ICONEXCLAMATION|MB_OK "The installer was not able to register/log you in."<br>
      Pop $1<br>
      Pop $0<br>
      GoTo finished<br>
      #Abort<br>
      <br>
      --then check the result by reading in the file, in this case result.txt -&gt;<br>
      <br>
      success:<br>
      <br>
      FileOpen $2 "$INSTDIR\result.txt" "r"<br>
      FileRead $2 $1 ;read line one into $1<br>
      FileClose $2<br>
      Delete "$INSTDIR\result.txt"<br>
      <br>
      IntCmp $1 0 finished +1 not_authenticated<br>
      MessageBox MB_ICONEXCLAMATION|MB_OK "The username you have chosen is already registered."<br>
      Abort</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">30th July 2004 12:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you're using PHP, I seem to remember you need to specify the <b>Content header length</b> for it to work.<br>
      <br>
      This should help you:<br>
      <br></p>
      <pre>
<code>
&lt;?php
<br>ob_start();
<br>&gt;?&gt;
<br>&gt;
<br>...output page contents as usual...
<br><br>&lt;?php
<br>&gt;# Make a Content-Length: header
<br>&gt;header('Content-Length: ' . ob_get_length());
<br><br>&gt;ob_end_flush();
<br>&gt;?&gt;
</code>
</pre>-Stu
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">razor_x</span><br>
      <span class="post-time small text-muted">31st July 2004 08:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ah thxz but "content header length" isnt the problem.I just need to be able to get it to authorize at the server...would be nice if cookie data could be used somehow...or if user\pass data could be sent in the url which it cant be it seems.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">31st July 2004 11:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Downloading http://user:password@server/file works fine for me.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">razor_x</span><br>
      <span class="post-time small text-muted">31st July 2004 12:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">what if server requires something other than "user" "pass".<br>
      <br>
      if it requires "username" password" or some other VARIABLE then what?<br>
      <br>
      some versatallity would be nice to add maybe.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">31st July 2004 12:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Huh? Do you have an example? I don't understand what you want.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">razor_x</span><br>
      <span class="post-time small text-muted">31st July 2004 13:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">my point is can we use IE cookie data since user/pass doesnt work on all servers...which it does not.Period.otherwise i wouldnt be here.ive used NSISdl for quite some time with success except for this.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">31st July 2004 13:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I still don't understand which kind of authorization you want. I need an example. I can't help you without knowing the authorization method you're looking for. From your first message it looked like you wanted what I've first suggested, but then you started talking about variables which seems to suggest you're looking for what Lobo, j27lee and Afrow suggested. Can you specify exactly what you're looking for? An example will be most helpful.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">razor_x</span><br>
      <span class="post-time small text-muted">31st July 2004 13:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hmm i dont know how i can make this clearer...user\pass doesnt work for me because the server im dl from doesnt request "user"\"pass".It requires data availiable from cookies(which we seem to be avoiding)or other things such as "blahblahmember"/"blahblahpass" which i cant seem to send in a url.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">31st July 2004 13:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">OK, so it's cookies you want. NSISdl doesn't support cookies nor does it use Internet Explorer's cookies data. NSISdl only uses proxy information from Internet Explorer's registry key.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">razor_x</span><br>
      <span class="post-time small text-muted">31st July 2004 14:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok well i guess ill just have to fix the plugin again(like i did for the content header length)thxz anyways..but just as a suggestion,the plugin should be more versatile.In it's current state it's very limited.1) you shouldnt get a failed dl just because the plugin cant get the size of the file for "dialogs".<br>
      2)It should be more versatile to dl from more than just the simplest server set-ups.NSIS is an awesome tool,too bad it's hobbled by a weak dl plugin.thxz anyways.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>