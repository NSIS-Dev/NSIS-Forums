<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Transparency in BgImage"><title>Transparency in BgImage - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Transparency in BgImage</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=233689">Transparency in BgImage</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">SeanB</span><br><span class="post-time small text-muted">21st December 2005 11:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Transparency in BgImage</strong><br>I am trying to use BgImage to display background images. It's working fine, except the /TRANSPARENT switch doesn't seem to be working... my bmp's have a black background and I am using the command<br><br>BgImage::AddImage /NOUNLOAD /TRANSPARENT 0 0 0 $PLUGINSDIR\1.bmp<br><br>And then to display the image I use<br><br>BgImage::SetBg /NOUNLOAD $PLUGINSDIR\1.bmp<br>BgImage:Redraw /NOUNLOAD<br><br>However the image still displays with a black background. What am I doing wrong?<br><br>As an aside - what is the issue with using BgImage::SetBG in a section? I noticed in the readme it says not to do this, I was just wondering why...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">21st December 2005 12:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Check color on your image is really black.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">SeanB</span><br><span class="post-time small text-muted">21st December 2005 12:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I already did - it is definitely black (RGB = 000)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">21st December 2005 12:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Works correct on my comp with attached bitmap, black corners (both 256 and true color). Line in BgImage Example.nsi</p><pre>
<code><br>BgImage::AddImage /NOUNLOAD /TRANSPARENT 0 0 0 "$EXEDIR\sw_off.bmp" 150 16</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SeanB</span><br>
      <span class="post-time small text-muted">21st December 2005 13:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That image didn't work for me...it still had black corners...</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">21st December 2005 13:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What Windows are you running?<br>
      <br>
      -Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SeanB</span><br>
      <span class="post-time small text-muted">21st December 2005 15:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm testing on XP SP2, but will be distributing a CD that will run on Win 2K upwards.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">21st December 2005 17:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Just tested it on Windows XP Pro SP2 and I also have black around the picture.<br>
      <br>
      -Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SeanB</span><br>
      <span class="post-time small text-muted">21st December 2005 18:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Bummer dude :(<br>
      <br>
      Never mind - I'll just have to use solid bitmaps and work the colours so it looks OK.<br>
      <br>
      I've managed to produce an install which does everything I need - something which many other (often expensive) packages didn't. So I don't think this matters all that much!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br>
      <span class="post-time small text-muted">21st December 2005 19:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It works correct both on XP with SP1 and SP2. But NOT displays image at all with RLE compressed BMP (probably Wins bug).<br>
      May be it's time to re-work BgImage plug-in ? ;)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">22nd December 2005 17:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Seems like you're using the same image for both AddImage and SetBg. The background itself can not have transparent colors, only images drawn on it. Passing the /TRANSPARENT switch to AddImage will not affect the background set using SetBg.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>