<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Section devision" />

  <title>Section devision - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Section devision</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=273291">Section devision</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mmleyr</span><br />
      <span class="post-time small text-muted">23rd June 2007 14:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Section devision</strong><br />
      And once again - hello. =)<br />
      Got another question. I need during the installation to ask user about different parameters. It's done but now i need to separate each selection.<br />
      Please look at the gif that is attached.<br />
      It's realized now. And i need it the installator to ask about each selection on separate page. How can i do it?<br />
      <br />
      Thx.<br />
      <br />
      Best regards.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">23rd June 2007 18:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please elaborate more.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mmleyr</span><br />
      <span class="post-time small text-muted">25th June 2007 07:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok.<br />
      <br />
      At the moment i've made all selections at one window (as shown in GIF)<br />
      There you see Math coprocessor and MLX4 code selection in one window. And i need those selections to be done consecutive i.e. First user selects Math coprocessor, then pushes Next&gt; and then chooses MLX4 and so on.<br />
      I hope you understand me.<br />
      <br />
      P.S. Oh, and one more question. It would be pretty nice if i could replace the checkboxes by radiobuttons. How can it be done.<br />
      <br />
      Many thanks.<br />
      <br />
      Best regards.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2007 10:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Oh I see. This may be exactly what you need.<br />
      <a href="http://nsis.sourceforge.net/Two_installations_in_one_installer" target="_blank">http://nsis.sourceforge.net/Two_inst..._one_installer</a><br />
      <br />
      Edit: The check bitmaps are in Contrib\Graphics\Checks.<br />
      To set the check bitmap use !define MUI_COMPONENTSPAGE_CHECKBITMAP bitmap_file.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mmleyr</span><br />
      <span class="post-time small text-muted">25th June 2007 11:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">2 Afrow UK<br />
      Erm. Nope, thats not what i need.<br />
      Math coprocessor and MLX4 code selection are made to modify the file. It's not the different installers. In dependence of 1-t option or 2-d option is selected, the installer writes different info in variable from where it is written into a file. Clumsy explanation.. :(<br />
      <br />
      At this time i have the code like (the result you can see at GIF):<br />
      <br />
      Function .onSelChange<br />
      !insertmacro StartRadioButtons $RevS<br />
      !insertmacro RadioButton ${Rev1}<br />
      !insertmacro RadioButton ${Rev2}<br />
      !insertmacro EndRadioButtons<br />
      <br />
      !insertmacro StartRadioButtons $MathCoS<br />
      !insertmacro RadioButton ${MathCo1}<br />
      !insertmacro RadioButton ${MathCo2}<br />
      !insertmacro EndRadioButtons<br />
      <br />
      !insertmacro StartRadioButtons $CoprS<br />
      !insertmacro RadioButton ${Copr1}<br />
      !insertmacro RadioButton ${Copr2}<br />
      !insertmacro EndRadioButtons<br />
      ..................<br />
      FunctionEnd<br />
      <br />
      And it's needed to be done not on one page but on different.<br />
      Like i said.<br />
      At first page you choose Rev1 or Rev2<br />
      Next&gt;<br />
      At second page you choose MathCo1 or MathCo3<br />
      Next&gt;<br />
      At third page you choose Copr1 or Copr2.<br />
      <br />
      I hope you'll understand me now. :rolleyes:<br />
      <br />
      PS About NSIS\Contrib\Graphics\Checks - yep they are here but i have one stupid question: where can i get the image of radiobuttons cause i have there only checkboxes stored. :hang:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2007 12:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You have to make your own check bitmap of course!<br />
      <br />
      Have multiple components pages and before showing the first page, hide the last 4 sections (by settings the section text to ""). Before showing the second page, hide the first 2 and the last 2 sections. Finally for the last page hide the first 4 sections.<br />
      <br />
      To show sections again you need to set their section text back.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mmleyr</span><br />
      <span class="post-time small text-muted">25th June 2007 12:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Am i stupid? 0_o<br />
      <br />
      Afrow UK, i don't understand what you've said. =))<br />
      Any example? ;)<br />
      <br />
      Thx<br />
      <br />
      PS Can i manage the size of window in which selection is (i.e. enlarge it's width?)<br />
      <br />
      Best regards.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2007 12:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Like this:<br /></p>
      <pre>
<code><br />!define MUI_PAGE_CUSTOMFUNCTION_PRE ComponentsPage1Pre<br />!insertmacro MUI_PAGE_COMPONENTS<br />!define MUI_PAGE_CUSTOMFUNCTION_PRE ComponentsPage2Pre<br />!insertmacro MUI_PAGE_COMPONENTS<br />!define MUI_PAGE_CUSTOMFUNCTION_PRE ComponentsPage3Pre<br />!insertmacro MUI_PAGE_COMPONENTS<br /><br />... LANGUAGES ...<br /><br />Section "" Rev1<br />SectionEnd<br /><br />Section "" Rev2<br />SectionEnd<br /><br />Section "" MathCo1<br />SectionEnd<br /><br />Section "" MathCo2<br />SectionEnd<br /><br />Section "" Copr1<br />SectionEnd<br /><br />Section "" Copr2<br />SectionEnd<br /><br />Function ComponentsPage1Pre<br />  SectionSetText ${Rev1} "Rev1"<br />  SectionSetText ${Rev2} "Rev2"<br />  SectionSetText ${MathCo1} ""<br />  SectionSetText ${MathCo2} ""<br />  SectionSetText ${Copr1} ""<br />  SectionSetText ${Copr2} ""<br />FunctionEnd<br /><br />Function ComponentsPage2Pre<br />  SectionSetText ${Rev1} ""<br />  SectionSetText ${Rev2} ""<br />  SectionSetText ${MathCo1} "MathCo1"<br />  SectionSetText ${MathCo2} "MathCo2"<br />  SectionSetText ${Copr1} ""<br />  SectionSetText ${Copr2} ""<br />FunctionEnd<br /><br />Function ComponentsPage3Pre<br />  SectionSetText ${Rev1} ""<br />  SectionSetText ${Rev2} ""<br />  SectionSetText ${MathCo1} ""<br />  SectionSetText ${MathCo2} ""<br />  SectionSetText ${Copr1} "Copr1"<br />  SectionSetText ${Copr2} "Copr2"<br />FunctionEnd<br /></code>
</pre><br />
      <br />
      Stu
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mmleyr</span><br />
      <span class="post-time small text-muted">25th June 2007 14:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">:( Damn. I'm realy stupid. :((<br />
      <br />
      <br />
      Afrow UK, if it wont trouble you much - can you take a look at that piece of code i've attached, please. And tell me where is mistake there....<br />
      <br />
      Many thx.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2007 15:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You forgot to put {} (curly braces) when setting the section group texts.<br />
      <br />
      E.g.<br />
      SectionSetText $REV_GRP ""<br />
      -&gt;<br />
      SectionSetText ${REV_GRP} ""<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2007 15:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Another problem is you haven't set any sections to visible on your first page (DUH!)<br />
      <br />
      Also, you could cut down on script and installer overhead by just hiding the previously visible sections:<br />
      <br /></p>
      <pre>
<code>Function ComponentsPage1Pre<br />  SectionSetText ${REV_GRP} "blah1"<br />  SectionSetText ${Rev1} "b"<br />  SectionSetText ${Rev2} "b"<br />FunctionEnd<br /><br />Function ComponentsPage2Pre<br />  SectionSetText ${REV_GRP} ""<br />  SectionSetText ${Rev1} ""<br />  SectionSetText ${Rev2} ""<br />  SectionSetText ${MATHCO_GRP} "blah2"<br />  SectionSetText ${MathCo1} "b"<br />  SectionSetText ${MathCo2} "b"<br />FunctionEnd<br /><br />Function ComponentsPage3Pre<br />  SectionSetText ${MATHCO_GRP} ""<br />  SectionSetText ${MathCo1} ""<br />  SectionSetText ${MathCo2} ""<br />  SectionSetText $COPR_GRP "blah3"<br />  SectionSetText ${Copr1} "b"<br />  SectionSetText ${Copr2} "b"<br />FunctionEnd</code>
</pre><br />
      <br />
      Just make sure that all your sections and section groups have no texts initially.<br />
      <br />
      Stu
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mmleyr</span><br />
      <span class="post-time small text-muted">25th June 2007 16:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">2 Afrow UK<br />
      about<br />
      E.g.<br />
      SectionSetText $REV_GRP ""<br />
      -&gt;<br />
      SectionSetText ${REV_GRP} ""<br />
      with those braces it didn't work... strange. Need to try again... 0_o<br />
      <br />
      About cutting the script - yep, i'll do it. :)<br />
      <br />
      Ok i'll try.<br />
      <br />
      Thanks. I appreciate your help. ;)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2007 17:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You'll have to remove the SectionGroups then because they don't become hidden like normal sections when setting the text to empty. Besides, you don't really need them if you have multiple components pages.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mmleyr</span><br />
      <span class="post-time small text-muted">26th June 2007 08:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Finaly it woks. =))<br />
      <br />
      One more question :<br />
      To make section's text bold you need to put ! before it's name but in SectionSetText ${Copr1} "b" it doesn't work. :( It's just displayed as !b. How can i make this text bold?<br />
      <br />
      Afrow UK, many thanks for the help. c(_)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mmleyr</span><br />
      <span class="post-time small text-muted">26th June 2007 12:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nevermind about the last post. Found the answer here <a href="http://forums.winamp.com/showthread.php?threadid=272142&amp;highlight=bold+text" target="_blank">http://forums.winamp.com/showthread....ight=bold+text</a></p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
