<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="vista uac prompt displays random file name" />

  <title>vista uac prompt displays random file name - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">vista uac prompt displays random file name</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=278784">vista uac prompt displays random file name</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">faxedhead</span><br />
      <span class="post-time small text-muted">12th October 2007 08:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>vista uac prompt displays random file name</strong><br />
      Using the Basic.nsi from the ModernUI examples, if you sign this using a verisign certificate (required for compatability with Vista), when launched, the Vista UAC prompt displays a random file name as the application name. E.g. Bas73D1.tmp. The random part is the four characters after Bas.<br />
      <br />
      If the EXE is not signed, the "An unidentified program wants access to your computer" prompt is displayed, but the file name is correct: Basic.exe.<br />
      <br />
      Does anyone know why signing a file causes this behaviour?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">14th October 2007 22:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sounds like the program you're using to sign the installer creates this affect. It might be wrapping the installer with a signed stub that just extracts the original executable to the temporary directory and executes it from there. Try using a different signature tool.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">faxedhead</span><br />
      <span class="post-time small text-muted">15th October 2007 09:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm using Microsoft's signcode.exe v5.131.1863.1. It looks like the problem is caused by the 'File Description' field of the setup EXE (generated by NSIS) being blank. It appears Vista uses this field to display the name of the program that is requesting elevation. So the question becomes, is there any way to have NSIS write a text string into the 'File Description' field of the setup EXE it creates?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th October 2007 19:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>
      <pre>
<code>VIAddVersionKey "FileDescription" "Some lie"</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">faxedhead</span><br />
      <span class="post-time small text-muted">16th October 2007 00:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Fantastic - thanks kichik - worked perfectly. I did RTFM, but didn't find this info :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">16th October 2007 00:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It's documented under Version Information and demonstrated in Examples\VersionInfo.nsi in case you need to know more about it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">faxedhead</span><br />
      <span class="post-time small text-muted">16th October 2007 00:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Found it. Thanks again. NSIS ROCKS.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
