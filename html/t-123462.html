<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Change the component Background color"><title>Change the component Background color - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Change the component Background color</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=123462">Change the component Background color</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">31st January 2003 22:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Change the component Background color</strong><br>&nbsp; Is there a way to change the Background color of the component list,<br>Change the "white" block with, for example, the customize color define in BGColor :igor:?<br><br>If not, that would be a cool new feature for next release....<br><br>:up:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">1st February 2003 11:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">TVM_SETBKCOLOR should do the trick:<br><br></p><pre>
<code>
define TVM_SETBKCOLOR 0x111D
<br><br>FindWindow$0 "#32770" "" $HWNDPARENT
<br>GetDlgItem$0 $0 1032
<br>SendMessage$0 ${TVM_SETBKCOLOR} 0 0xFF00FF 
<br>&gt;
</code>
</pre>Put this in the post creation function of the components page.<br>
      <br>
      This will work on:<br>

      <blockquote>
        Windows 2000, Windows NT 4.0 with Internet Explorer 4.0, Windows 98, Windows 95 with Internet Explorer 4.0
      </blockquote>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">virtlink</span><br>
      <span class="post-time small text-muted">1st February 2003 14:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Not Windows XP? Or does it only work in Windows XP when the XP-themes are off?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">1st February 2003 14:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Whoops, sorry. That's the minimum.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">virtlink</span><br>
      <span class="post-time small text-muted">1st February 2003 14:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">So it should be:<br></p>

      <blockquote>
        Windows 2000 and above, Windows NT 4.0 and above with Internet Explorer 4.0 and above, Windows 98 and above, Windows 95 with Internet Explorer 4.0 and above, Windows XP and above
      </blockquote>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">1st February 2003 15:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Cool, thanks guys.... but how about this:<br></p>

      <blockquote>
        Windows 95/NT 4.0 or above with IE 4
      </blockquote>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">1st February 2003 15:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok, I try it, no error...that's good :), but is still showing the white color :(, put this... (may be I'm wrong)...<br>
      <br>
      Function PaintComp<br>
      FindWindow $0 "#32770" "" $HWNDPARENT<br>
      GetDlgItem $0 $0 1032<br>
      SendMessage $0 ${TVM_SETBKCOLOR} 0 FF00FF<br>
      FunctionEnd<br>
      <br>
      Page components PaintComp</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">1st February 2003 17:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's almost right. You need to make this function the post creationg function. That means:<br>
      <br>
      Page components "" PaintComp</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">1st February 2003 20:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nothing dude :(</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">1st February 2003 20:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nothing dude... :(</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
      <span class="post-time small text-muted">1st February 2003 21:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This line is wrong:<br>
      <br></p>
      <pre>
<code>
SendMessage $0 ${TVM_SETBKCOLOR} 0 FF00FF 
<br>&gt;
</code>
</pre>So try this code:<br>
      <br>
      <pre>
<code>
define TVM_SETBKCOLOR 0x111D
<br><br>Page components"" PaintComp
<br><br>&gt;Function PaintComp 
<br>FindWindow$0 "#32770" "" $HWNDPARENT
<br>GetDlgItem$0 $0 1032
<br>SendMessage$0 ${TVM_SETBKCOLOR} 0 0xFF00FF
<br>FunctionEnd 
<br>&gt;
</code>
</pre>It works fine for me!:)
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">1st February 2003 21:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Nothing</strong><br>
      &nbsp; no, :(<br>
      <br>
      here is my script</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
      <span class="post-time small text-muted">1st February 2003 22:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmmm... Have to be a modification in "{NSISDIR}\Contrib\Modern UI\System.nsh" to easy this work to change components box color. Now it's impossible to use !define MUI_COMPONENTSPAGE and change this in the same time. Maybe a !define_COMPONENTSPAGE_COLOR should be added.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">2nd February 2003 01:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yeah, !define_COMPONENTSPAGE_COLOR should be added to match the set of BGCOLOR and Installcolors... hope Nsis creators take this as a feature in next CVS<br>
      <br>
      :thumbsup:</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">2nd February 2003 16:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">A nicer way to change this color will be added in version b2. For b1, Joost is working on an easier way to change page functions (pre, show and leave) in the MUI.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">2nd February 2003 18:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Ok, thanks !!!</strong><br>
      &nbsp; Ok, I'll just wait for B2... thanks :D</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">2nd February 2003 18:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I added a new way of customizing the Modern UI Functions. Example:<br>
      <br>
      !define MUI_CUSTOMFUNCTION_COMPONENTS_SHOW changeCompColor<br>
      <br>
      Function changeCompColor<br>
      ...change the color...<br>
      FunctionEnd</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">3rd February 2003 00:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>wow</strong><br>
      &nbsp; cool, dudes...now works !!!! :up: and works fine :p</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">22nd February 2003 17:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok...Now I have this:<br></p>
      <pre>
<code><br>!define MUI_CUSTOMFUNCTION_DIRECTORY_SHOW "changeTextColor"<br><br>Function changeTextColor<br>FindWindow $0 "#32770" "" $HWNDPARENT<br>GetDlgItem $0 $0 1019<br>SendMessage $0 ${WM_CTLCOLOREDIT} 0 0xFCF1E1<br>FunctionEnd<br></code>
</pre><br>
      <br>
      I try to change the background color of the edit control,<br>
      The textbox, wich contains the Instalation path.<br>
      <br>
      But still showing in white... whats wrong
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">22nd February 2003 17:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You need to receive that message and respond to it, not send it. That is not currently possible with NSIS.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">22nd February 2003 17:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">:( ok... isnÂ´t another way like in the components color?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">22nd February 2003 18:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nope, not without changing the source.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">22nd February 2003 18:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok, thanks</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>