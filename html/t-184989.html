<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="howTo: outfile myApp_patch_${FORMATED_DATE}" />

  <title>howTo: outfile myApp_patch_${FORMATED_DATE} - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">howTo: outfile myApp_patch_${FORMATED_DATE}</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=184989">howTo: outfile myApp_patch_${FORMATED_DATE}</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">slamdunk</span><br />
      <span class="post-time small text-muted">29th June 2004 11:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>howTo: outfile myApp_patch_${FORMATED_DATE}</strong><br />
      &nbsp; I want to have 'outfile' name something like:<br />
      <br />
      myApp_patch_20040628-0319.exe<br />
      that is<br />
      myApp_patch_YearMonthDay-HourMin.exe<br />
      <br />
      I can produce YearMonthDay-HourMin.exe string using nsisdt.dll in Section or in Function, but don't know how to use it as suffix to 'outfile' name. Anyone know how to do it?<br />
      <br />
      outfile myApp_patch_${FORMATED_DATE}<br />
      <br />
      Thanks<br />
      slamdunk</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">29th June 2004 11:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You have to create another program to get the current date and time and input it in the command line of the original installer. Then, this installer receives the date and time as a !define (means "compile time constant") so you can put where you want.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">slamdunk</span><br />
      <span class="post-time small text-muted">1st July 2004 04:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks.<br />
      nsi:<br /></p>
      <pre>
!define PATCH_DATE ${patch_timestamp}
<br />&gt;OutFile "Patch_${PATCH_DATE}.exe" 
</pre>Python code<br />
      <pre>
<code><br />import os<br />import time<br />try:<br />    os.system(r'g:\app\nsis\makensis.exe /Dpatch_timestamp='+time.strftime("%Y%m%d-%H%M", time.localtime())+' .\patch.nsi')<br />except:<br />    print("exception: failed")<br /></code>
</pre>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>