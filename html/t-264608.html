<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Change groupbox color"><title>Change groupbox color - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Change groupbox color</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264608">Change groupbox color</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Takeshi</span><br><span class="post-time small text-muted">29th January 2007 09:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Change groupbox color</strong><br>Hello guys..<br>1st of all, i would like to say thank you very much for always helping me. I started using NSIS with zero knowledge about it, and now i can create good installer with it.<br>I need your help again<br>I am currently using UMUI, i have a custom page, a confirmation page, where it lists all the info and settings that entered by the user (see attachment).<br>I use !define MUI_BGCOLOR D3CDDB to change the background color of the skin, but now, i want to change ONLY the groupbox into white. how could i do that?<br>by the way, this is the confirmation.ini<br><br>[Settings]<br>NumFields=11<br><br>[Field 1]<br>Type=Label<br>Text=Setup has enough information to start copying the program files. If you want to review or change any settings, click Back. If you are statisfied with settings, click Install to begin copying files:<br>Left=0<br>Right=276<br>Top=0<br>Bottom=30<br><br>[Field 2]<br>Type=Label<br>Text=Current Settings<br>Left=0<br>Right=276<br>Top=32<br>Bottom=40<br><br>[Field 3]<br>Type=Groupbox<br>Left=0<br>Right=278<br>Top=40<br>Bottom=160<br><br>[Field 4]<br>Type=Label<br>Text=[Name]<br>Left=5<br>Right=277<br>Top=45<br>Bottom=54<br><br>[Field 5]<br>Type=Label<br>Left=5<br>Right=270<br>Top=56<br>Bottom=64<br><br>[Field 6]<br>Type=Label<br>Text=[Company]<br>Left=5<br>Right=272<br>Top=70<br>Bottom=79<br><br>[Field 7]<br>Type=Label<br>Left=5<br>Right=276<br>Top=80<br>Bottom=88<br><br>[Field 8]<br>Type=Label<br>Text=[Suffix]<br>Left=5<br>Right=274<br>Top=94<br>Bottom=103<br><br>[Field 9]<br>Type=Label<br>Left=5<br>Right=269<br>Top=104<br>Bottom=112<br><br>[Field 10]<br>Type=Label<br>Text=[Program Install Directory]<br>Left=5<br>Right=269<br>Top=118<br>Bottom=127<br><br>[Field 11]<br>Type=Label<br>Left=5<br>Right=265<br>Top=128<br>Bottom=149<br><br>and, another question is, what is the control id for the text field in startmenu page?<br>Thank you in advance!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">30th January 2007 21:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It seems that within the script isn't possible to change the color inside the groupbox frame while the actual space that is added to the groupbox is the space around its label. It might be possible by modifying the recourse ui...<br>Also you may try a trick that it might work, no tested though.<br>You could add a bitmap control covering the entire groupbox frame, with a plain white small bmp and assign on it flags TRANSPARENT|RESIZETOFIT. I guess this trick has some possibilities to work.<br><br>You may find all controls id by opening the recourse ui with Recourse Hacker for instance, or just compile and execute the following script, it will offer you a text file with all ids for standard mui dialogs.<br></p><pre>
<code>name 'Find Control IDs'<br>outfile 'findctlID_MUI.exe'<br>showinstdetails show<br>InstallDir '$EXEDIR'<br><br>var header<br><br>!include mui.nsh<br><br>!define MUI_PAGE_CUSTOMFUNCTION_PRE lic_pre<br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW lic_show<br>!insertmacro MUI_PAGE_LICENSE '${NSISDIR}\License.txt'<br><br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW comp_show<br>!insertmacro MUI_PAGE_COMPONENTS<br><br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW dir_show<br>!insertmacro MUI_PAGE_DIRECTORY<br><br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW smn_show<br>!insertmacro MUI_PAGE_STARTMENU app $R9<br><br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW inst_show<br>!insertmacro MUI_PAGE_INSTFILES<br><br>!insertmacro MUI_LANGUAGE "English"<br><br>section<br>sectionend<br><br>function lic_show<br>strcpy $header "LICENSE PAGE CONTROLS"<br>call findIDs<br>functionend<br><br>function comp_show<br>strcpy $header "COMPONENTS PAGE CONTROLS"<br>call findIDs<br>functionend<br><br>function dir_show<br>strcpy $header "DIRECTORY PAGE CONTROLS"<br>call findIDs<br>functionend<br><br>function smn_show<br>strcpy $header "START MENU PAGE CONTROLS"<br>call findIDs<br>functionend<br><br>function inst_show<br>strcpy $header "INSTALL FILES PAGE CONTROLS"<br>call findIDs<br>functionend<br><br>function lic_pre<br>fileopen $5 '$EXEDIR\ids.txt' a<br>fileseek $5 '' END<br>filewrite $5 "PARENT DIALOG CONTROLS$\r$\n"<br>strcpy $0 0<br>loop:<br>strcmp $0 '2000' end<br>GetDlgItem $R0 $HWNDPARENT $0<br>strcmp $R0 0 +3<br>fileseek $5 '' END<br>filewrite $5 "Control ID == $0$\r$\n"<br>intop $0 $0 + 1<br>goto loop<br>end:<br>filewrite $5 "$\r$\n"<br>fileclose $5<br>functionend<br><br>function findIDs<br>fileopen $5 '$EXEDIR\ids.txt' a<br>fileseek $5 '' END<br>filewrite $5 "$header$\r$\n"<br>strcpy $0 0<br>loop:<br>strcmp $0 '2000' end<br>FindWindow $R5 "#32770" "" $HWNDPARENT<br>GetDlgItem $R0 $R5 $0<br>strcmp $R0 0 +3<br>fileseek $5 '' END<br>filewrite $5 "Control ID == $0$\r$\n"<br>intop $0 $0 + 1<br>goto loop<br>end:<br>filewrite $5 "$\r$\n"<br>fileclose $5<br>functionend<br><br>function .onInit<br>IfFileExists '$EXEDIR\ids.txt' 0 +2<br>delete '$EXEDIR\ids.txt'<br>functionend</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takeshi</span><br>
      <span class="post-time small text-muted">31st January 2007 01:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Red Wine, thanx a lot for your guide..<br>
      I will try!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takeshi</span><br>
      <span class="post-time small text-muted">31st January 2007 07:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Red Wine</i><br>
        <b>You could add a bitmap control covering the entire groupbox frame, with a plain white small bmp and assign on it flags TRANSPARENT|RESIZETOFIT. I guess this trick has some possibilities to work.</b>
      </blockquote>Red Wine, i tried this, but pls see the attachment for the result.<br>
      I think, I can transparent the labels in the groupbox, but how about the area that I show with red arrows?<br>
      I dont think I can paint those areas, since there is no ctrl id for them.<br>
      Do you have any idea?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takeshi</span><br>
      <span class="post-time small text-muted">31st January 2007 07:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">sorry, i forgot the attachment</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">31st January 2007 07:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">try to set backround color for all controls to white instead of transparent, also change the parent dialog's color to white<br></p>
      <pre>
<code>   FindWindow $1 "#32770" "" $HWNDPARENT<br>         SetCtlColors $1 '' '0x000000'<br></code>
</pre><br>
      <br>
      See this wiki page for more details<br>
      <br>
      <a href="http://nsis.sourceforge.net/Demonstrating_Page%27s_Custom_Functions_Pre_Show_Leave" target="_blank">http://nsis.sourceforge.net/Demonstr...Pre_Show_Leave</a>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takeshi</span><br>
      <span class="post-time small text-muted">31st January 2007 09:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Red Wine, thanx a lot for your help<br>
      I did make it.<br>
      1st I followed ur advice, bout the white color bitmap<br>
      then i used 2nd bitmap image with the same color of the backgound, put it on the white bitmap</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">31st January 2007 10:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well...it's been said before!<br>
      With NSIS you can do it the way you like ;) (always)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pospec</span><br>
      <span class="post-time small text-muted">17th August 2008 10:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'd like to change control colors in UMUI. I tried to use <font face="courier new">SetCtlColors</font>, it works. But some controls are drew with system colors (checkbox, listbox...). Can I customize these colors too?</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>