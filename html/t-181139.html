<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="&quot;Remve all files in directory&quot; question"><title>"Remve all files in directory" question - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">"Remve all files in directory" question</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=181139">"Remve all files in directory" question</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">querschlaeger</span><br><span class="post-time small text-muted">25th May 2004 13:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>"Remve all files in directory" question</strong><br>Hi,<br><br>how can I get such a uninstall-question in my uninstaller:<br><br><a href="http://querschlaegerzone.hits4.net/images/winamp_uninstall_question.png" target="_blank">http://querschlaegerzone.hits4.net/i...l_question.png</a><br><br>This question should only appear if there are 'user-created files' (which not includes in the default-installation) in the $INSTDIR.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Davion</span><br><span class="post-time small text-muted">25th May 2004 13:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You just have to define a Message box with a text like this<br>and depending on the Answer you delete the files or not<br><br></p><pre>
<code><br><br>MessageBox MB_YESNO "Would you like to delete all Files in the Folder?" IDNO done<br>delete:<br>RMDir /r "$INSTDIR/Folder"<br>done:<br><br></code>
</pre><br>
      <br>
      hope this helps<br>
      <br>
      greetz, Dave
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">evilO</span><br>
      <span class="post-time small text-muted">25th May 2004 17:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi querschlaeger :)<br>
      <br>
      Well actually the solution posted by Davion does not suit your needs, as "RMDIR /r" will remove *all* the files from the specified directory.<br>
      <br>
      In order to remove specifically the files installed, and not the files created by the user, you'll have to write some code to 'log' the installed files into an 'ini' file, and then a function that go through this list to remove each 'logged' file.<br>
      <br>
      You can check this thread for more info:<br>
      <br>
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=178773" target="_blank">http://forums.winamp.com/showthread....hreadid=178773</a><br>
      <br>
      <br>
      Good luck :)<br>
      <br>
      evilO/Olive</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>