<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="color installoptions"><title>color installoptions - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">color installoptions</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=148657">color installoptions</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">AlexBienheureux</span><br><span class="post-time small text-muted">9th September 2003 15:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>color installoptions</strong><br>I try to put color on the zone of text of a window created with installoption.<br><br>I must have an error because it is necessary to click 2 times to cancel or validate:<br><br>my script:<br><br>Function MaPage<br>!insertmacro MUI_HEADER_TEXT "Test" "Ceci est un essai de couleur"<br><br>!insertmacro MUI_INSTALLOPTIONS_INITDIALOG "mdp.ini"<br>Pop $HWND<br>GetDlgItem $DLGITEM $HWND 1201 ;1200 + Field number - 1<br>SetCtlColors $DLGITEM FFFFFF FF0000<br>!insertmacro MUI_INSTALLOPTIONS_SHOW<br><br>!insertmacro MUI_INSTALLOPTIONS_DISPLAY_RETURN mdp.ini<br>Pop $R0<br>StrCmp $R0 "cancel" Fin<br>StrCmp $R0 "back" Fin<br>StrCmp $R0 "success" ""<br>MessageBox MB_OK 'Vous avez cliquez sur "continuer"'<br>Fin:<br>FunctionEnd<br><br><br><br>thank you to say to me what does not go...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th September 2003 16:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Init + show replace display. If you want to get the return value of IO use MUI_INSTALLOPTIONS_SHOW_RETURN.<br><br>I still don't understand why you don't want to use the leave function, it's so much simpler... It doesn't require you to check the return value, it's only called when the user clicked next and it allows you to stop the user from moving on to the next page.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">AlexBienheureux</span><br><span class="post-time small text-muted">9th September 2003 19:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">thank you to answer also quickly.<br><br>I search how to use the leave function with modern ui, but I did not find for a page created with installoption...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th September 2003 20:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">For custom pages it's the same as installers without the MUI. Use:<br><br>Page custom customFunction leaveFunction</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">AlexBienheureux</span><br><span class="post-time small text-muted">10th September 2003 06:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">1000 thanks you're the best !!!<br><br><br>i look the leave function ;)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">AlexBienheureux</span><br><span class="post-time small text-muted">10th September 2003 08:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>me again</strong><br>hello guy! :D<br><br>that functions parfaitement(without the function leave)<br><br>I tests to make the same thing without modern ui but I do not understand why that does not function.... :(<br><br><br>------------------------------------------------<br>Function MotdePasse<br>InstallOptions::dialog $PLUGINSDIR\mdp.ini<br>Pop $HWND<br>GetDlgItem $DLGITEM $HWND 1201 ;1200 + Field number - 1<br>SetCtlColors $DLGITEM FFFFFF FF0000<br><br><br>Pop $R0<br>StrCmp $R0 "cancel" Fin<br>StrCmp $R0 "back" Fin<br>StrCmp $R0 "success" ""<br>MessageBox MB_OK 'Vous avez cliquez sur "continuer"'<br>Fin:<br>Pop $R0<br>FunctionEnd<br>------------------------------------------------<br><br><br><br>thank you for your patience ;)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">10th September 2003 11:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You have to put the InstallOptions calls in the creator func and the the code that should be executed when Next has been clicked in the leave func.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">AlexBienheureux</span><br><span class="post-time small text-muted">10th September 2003 12:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ok thanks,<br><br>the leave function is ok, but the color in the label doesn't work !<br><br><br>my script : (without modern ui)<br>----------------------------------------------------------<br>...<br><br>Page license<br>page custom test "Validation" "Ceci est un test"<br>Page instfiles<br><br><br>Function test<br>InstallOptions::dialog $PLUGINSDIR\mdp.ini<br><br>Pop $HWND<br>GetDlgItem $DLGITEM $HWND 1201 ;1200 + Field number - 1<br>SetCtlColors $DLGITEM FFFFFF FF0000<br><br>FunctionEnd<br><br><br>Function Validation<br>MessageBox MB_OK 'Vous avez cliquez sur "continuer"'<br>FunctionEnd<br>----------------------------------------------------------<br><br><br>i don't know what is incorrect in my script...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">10th September 2003 12:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can't do that with InstallOptions::dialog, you must use InstallOptions::initDialog and InstallOptions::show to be able to set the colors/fonts.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">AlexBienheureux</span><br><span class="post-time small text-muted">10th September 2003 14:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">thank you very much to have answered all my questions.<br>now, all functions perfectly.<br><br>:up: :D :)</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>