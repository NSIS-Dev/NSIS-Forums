<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Patch Uninstaller Strategy"><title>Patch Uninstaller Strategy - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Patch Uninstaller Strategy</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=278722">Patch Uninstaller Strategy</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">oceanclub</span><br><span class="post-time small text-muted">11th October 2007 17:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Patch Uninstaller Strategy</strong><br>Hi all,<br><br>Thanks for the help I received before; I've written a successful installer for a game patch.<br><br>Now someone has upped the ante and asked that I include an uninstaller. Now, the problem is that the patch installs brand new files, but also overwrites existing files. So my uninstaller would have to delete the former and somehow restore the latter.<br><br>I presume people have written uninstallers like this before; what is the typical strategy? When performing the install, should I copy the files to be overwritten to a backup directory?<br><br>I'd appreciate any pointers as to what is the typical or standard way to write this, and any pitfalls I might encounter.<br><br>Thanks,<br><br>P.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">12th October 2007 08:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">This is the simplest code:<br><a href="http://nsis.sourceforge.net/Backup_files_on_install,_restore_on_uninstall" target="_blank">http://nsis.sourceforge.net/Backup_f...e_on_uninstall</a><br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">oceanclub</span><br><span class="post-time small text-muted">16th October 2007 17:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for that. Do you know if there is a version of those macros that works - or indeed if that one you linked to works - with entire directories?<br><br>The patch I'm working on installs a _lot_ of files, and I'd hate to have to two seperate lines (backup * install) for many of the files.<br><br>(Doing it once would be fine; doing it for each version of the patch would be a nightmare.)<br><br>Regards,<br><br>P.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>