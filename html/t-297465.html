<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="LangString and .onInit"><title>LangString and .onInit - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">LangString and .onInit</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=297465">LangString and .onInit</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">XRaptor</span><br><span class="post-time small text-muted">16th September 2008 14:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>LangString and .onInit</strong><br>Hi, I need to use MessageBox in .onInit part for telling user some information and maybe abort install process. I need to display language specific message. But it not works, it always display the same string, no matter which language is selected. Is there any way without using variables and testing $LANGUAGE?<br><br></p><blockquote><br>LangString MSG1 ${LANG_CZECH} "yyy"<br>LangString MSG1 ${LANG_ENGLISH} "xxx"<br><br>...<br><br>Function .onInit<br><br>!insertmacro MUI_LANGDLL_DISPLAY<br><br>ReadRegStr $R0 HKLM \<br>"SOFTWARE\something" \<br>"something"<br><br>${If} $R0 == ""<br>;MessageBox MB_OK $(MSG1) IDOK<br>Abort<br>${EndIf}<br><br>FunctionEnd</blockquote></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">16th September 2008 17:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Language strings use the first selected language in .onInit. You can either wait for .onGUIInit or use the good old ${Switch} on $LANGUAGE.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>