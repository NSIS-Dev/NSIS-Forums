<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="replacing old nsis.exe with nsis20.exe"><title>replacing old nsis.exe with nsis20.exe - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">replacing old nsis.exe with nsis20.exe</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=177542">replacing old nsis.exe with nsis20.exe</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">mdm</span><br><span class="post-time small text-muted">21st April 2004 22:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>replacing old nsis.exe with nsis20.exe</strong><br>In the previous makensis.exe, I had uncommented NSIS_CONFIG_LOG in config.h and recompiled the makensis.exe and I got my logging and everything. Well, people can't leave things alone so someone wrote more nullsoft stuff and downloaded the new nsis 2.0 and now the makensis.exe doesn't like my old script.<br>Complaints about unused functions (stubs) indicated that maybe we don't like stubs anymore but eliminating them didn't stop the following message when I try to compile my installer:<br><br>"The instruction at "0x0041bb81" referenced memory at 0x00d713f9". The memory could not be "written".<br><br>Click OK to terminate program<br>Click CANCEL to debug the program<br><br>[ok] [cancel]"<br><br>which comes at the following point in the command line compilation:<br><br>"Adding plug-ins initializing function... Done!<br>Processing pages... Done!<br>Removing unused resources... Done!<br>Generating language tables... Done!<br>warning: Variable "MUI_TEMP2" not referenced, wasting memory!<br>Generating uninstaller..."<br><br>I dont have a MUI_TEMP2 variable (that I can find anyway)...any suggestions?<br><br>thanks,<br>mdm</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">21st April 2004 22:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">So you are using an old NSIS 2.0 development version?<br><br>As you might understand, many things change in development versions, so you will have to upgrade your script to be compatible with NSIS 2.0. See the NSIS Users Manaul / Modern UI Readme for details.<br><br>The compiler should not crash on an invalid script, so please attach your script anyway so we can have a look at it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mdm</span><br><span class="post-time small text-muted">27th April 2004 16:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">So I found the error, I think:<br>In Section Uninstall, there is a call for File /r "&lt;directory&gt;\*.*" and once I removed it the compiler error went away.<br><br>My question is why load files to the $OUTDIR in the uninstall section. Makes sense to me that you would only do that if you were using them (copy somewhere, write, etc..). If I am only deleting files in $INSTDIR, decrementing dll counts in the registry, doing ExecWait calls and DeleteRegKey calls, there is no call for loading files to $OUTDIR, right?<br><br>This was coded by someone else and it looks like a mistake, it also reduces the executable's size by 40%.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">27th April 2004 18:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">He probably wanted a recursive directory removal. Use RMDir /r.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>