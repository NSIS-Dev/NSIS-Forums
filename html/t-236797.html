<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="about skinnedbutton plugin"><title>about skinnedbutton plugin - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">about skinnedbutton plugin</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=236797">about skinnedbutton plugin</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">icutei</span><br><span class="post-time small text-muted">31st January 2006 10:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>about skinnedbutton plugin</strong><br>how do i unbold the shield letters and fix the unskinned button?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">icutei</span><br><span class="post-time small text-muted">31st January 2006 10:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">forgot to add that why is the minisise and maximise buttons missing ?_?<br><br>and how do you edit those default messageboxes and text in the installer?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">icutei</span><br><span class="post-time small text-muted">1st February 2006 11:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">nevermind, i already know on how to edit the texts and such.. but still need answers for other questions so for those who know please post!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">onad</span><br><span class="post-time small text-muted">1st February 2006 12:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Use Wansis plugin support to skin buttons.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dandaman32</span><br><span class="post-time small text-muted">1st February 2006 20:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can't unbold the second half of "sheild" without editing the UI file with resource hacker or such. As for the skinned button bug, shows in ExperienceUI/wansis too. Unfortunately saivert stopped developing wansis so you'll need to fix it on your own.<br><br>Then again, why do you want people to think you use installshield?<br><br>-dandaman32</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">onad</span><br><span class="post-time small text-muted">2nd February 2006 12:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi dandaman32, I think the same about the Installshield text, but skinned buttons really make the look better so support for this is very welcomed.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">SuperPat</span><br><span class="post-time small text-muted">3rd February 2006 18:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hello,<br><br>I'm the developer of this plugin.<br><br>I don't found how to fix the bug of the unskinned "Show Detail" Button in the installfile page.<br><br>For the Back Button, I recall which the bug is due to an incompatibility with the plugin StartMenu.<br>For this reason, In the beta2 of UltraModernUI, I will crate a new alternative StartMenu Page but with InstallOption.<br><br>If anybody know how to fix them, I would be him very grateful.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DrO</span><br><span class="post-time small text-muted">4th February 2006 16:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">you probably need to block the bm_setstyle message before the buttons original messageproc handles it since that message will cause a button that's been converted to the ownerdrawn style to revert back to a normal button style. i've found with the winamp plugin i have for skinning it's dialogs, the correct blocking of that message allows apply buttons, etc to remain as ownerdrawn yet still update their state correctly. one for you to look at maybe<br><br>-daz</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">SuperPat</span><br><span class="post-time small text-muted">20th February 2006 12:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have view that the version of the wansis plugin of the ExperienceUI 1.1 has corrected these bugs.<br><br>Unfortunately, its source code is not available :-(</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">onad</span><br><span class="post-time small text-muted">20th February 2006 14:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Wansis source is available.<br><br><a href="http://home.no.net/nxs/home.wiki" target="_blank">http://home.no.net/nxs/home.wiki</a><br><br>Improvement is very appreciated.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">SuperPat</span><br><span class="post-time small text-muted">20th February 2006 18:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, but it is an old version where the problems was not yet solved.<br><br>I made an error on my previous post, the bug with the startmenu plug-in is not corrected.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">OldGrumpy</span><br><span class="post-time small text-muted">5th March 2006 14:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I had a look at the skinnedbutton.dll and found out where it crashes on SendMessage(...), I just have no clue why (at the moment). The problem is that the callback function in the dll gets called over and over again until a stack overflow occurs. I think you will have to add some bits to make windows proceed to the next callback in the queue. I'm not that intimate with Windows GUI programming but I'd really love to get this going.<br><br>Oh, by the way, I compiled bigtest.nsi from the examples that come with the UltraModernUI package. On the "Confirm Installation" page, the "Back" button is not skinned. Any idea on this? :)<br><br>P.S. If someone could provide me with a working sample of the updated skinning functions as used in the ExperienceUI (see above), I can have a look at it and compare the functions' inner working.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">OldGrumpy</span><br><span class="post-time small text-muted">8th March 2006 12:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I was able to partly fix the problem with the skinnedbutton plugin. I simply changed two SendMessage() calls in the exe stub for a test and all buttons got and remained skinned properly - at the expense of losing the "Enter key = Next button" functionality partly. But I think this is a small price to pay, and with some more programming involved, this can be fixed, too. However, I am still looking into the crash on SendMessage to move back to a previous page.<br><br>Edit: Seems I fixed that bug too. But the installer doesn't cleanup its window on finish anymore. Need to look into more details... :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">OldGrumpy</span><br><span class="post-time small text-muted">8th March 2006 14:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>skinnedbutton crash fix</strong><br>Hi there,<br><br>I am attaching an updated skinnedbutton.c which prevents the crash after using the SendMessage trick to move backwards in the installer.<br><br>I was able to get all buttons skinned properly with some additional changes:<br><br>change lines 98 and 553 in ui.c in NSIS source (replace the BS_PUSHBUTTON or BS_DEFPUSHBUTTON with BS_OWNERDRAW) and recompile everything. Then replace the exe stubs with the newly compiled ones.<br><br>After that pick the GUI.exe of your choice, open it with resource hacker, go to dialog 106 and edit the line for the button with ID 1027: Replace BS_PUSHBUTTON with BS_OWNERDRAW again. Click on "Compile" and File/Save to save the modification.<br><br>After these changes, My test installer looks much better :)<br><br>P.S. I know that the changes for NSIS are just hacks. The proper solution would be to get the current button style, check for BS_OWNERDRAW flag and leave the button flags alone if it is set.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>