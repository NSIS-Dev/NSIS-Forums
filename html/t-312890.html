<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Installer made with NSIS?" />

  <title>Installer made with NSIS? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Installer made with NSIS?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=312890">Installer made with NSIS?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">23rd September 2009 11:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Installer made with NSIS?</strong><br />
      is there a way to detect if an installer was made using nsis without running it? i guess i could monitor if the installer creates a pluginsdir, but i don't want to run it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">23rd September 2009 12:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">open in resource hacker and look at the dialogs or search the exe for the string "NullsoftInst"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">23rd September 2009 12:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">the reason why i was asking, an installer of mine calls another one. i'd love that installer to detect if the other is made using nsis (it might differ!), so i can use some default nsis commandline options. hence, reshacker is not a very good option.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jpderuiter</span><br />
      <span class="post-time small text-muted">23rd September 2009 16:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can use reshacker from the commandline.<br />
      You can try something like</p>
      <pre>
<code>ResHacker.exe -extract "installer.exe", assembly.rc,  24,,</code>
</pre>Two files will be created: assembly.rc, which contains the filename of the other file.<br />
      This second file contains the assembly info in xml format. The 'name' value in assembly -&gt; assemblyIdentity of an NSIS installer should be "Nullsoft.NSIS.exehead".<br />
      Hope this helps you, I'm not able test this right now.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ErikET</span><br />
      <span class="post-time small text-muted">28th September 2009 11:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can also use commandline tool sigcheck.exe from Sysinternals to check the manifest of the installer.<br />
      <br />
      Something like:<br />
      <br />
      Sigcheck -i -m -h -a &lt;installer.exe&gt; | find "Nullsoft" /i</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">28th September 2009 12:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">a exe manifest is not required, looking for NullsoftInst after the PE+sections is your best bet</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">28th September 2009 13:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thanks for the help, but i trying to keep my installer's footprints as low as possible. with an average installer size of 100kb, i will not add an extra 230kb (uncompressed) for reshacker. there is no "internal" way to solve this? what about the mighty system plugin?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">28th September 2009 16:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">you can probably do this without the system plugin even, just IntOp + FileOpen/ReadByte/Seek (But using the system plugin to read pointer sized numbers is probably less work than using filereadbyte and intop)<br />
      <br />
      see<br />
      <a href="http://msdn.microsoft.com/en-us/magazine/cc301805.aspx" target="_blank">http://msdn.microsoft.com/en-us/magazine/cc301805.aspx</a><br />
      <a href="http://msdn.microsoft.com/en-us/magazine/cc301808.aspx" target="_blank">http://msdn.microsoft.com/en-us/magazine/cc301808.aspx</a><br />
      <a href="http://msdn.microsoft.com/en-us/library/ms809762.aspx" target="_blank">http://msdn.microsoft.com/en-us/library/ms809762.aspx</a><br />
      and <a href="http://nsis.svn.sourceforge.net/viewvc/nsis/NSIS/trunk/Source/exehead/fileform.h?revision=5958&amp;view=markup" target="_blank">http://nsis.svn.sourceforge.net/view...58&amp;view=markup</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">1st October 2009 15:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">phew, i previously used FileOpen/ReadByte/Seek on relatively small dll files and scanning them takes forever. i take it, the information relevant sits in a specific part (header?) of the file to be scanned? so could i limit my ReadByte/Seek to a portion of the file to get a quicker result?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">1st October 2009 15:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">the nsis header you are looking for (with the NullsoftInst signature) comes after the PE header and its sections, so you need to parse the PE header to figure out where it ends</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
