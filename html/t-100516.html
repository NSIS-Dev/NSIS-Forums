<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Remove all Directories" />

  <title>Remove all Directories - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Remove all Directories</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=100516">Remove all Directories</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">beez</span><br />
      <span class="post-time small text-muted">19th August 2002 20:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Remove all Directories</strong><br />
      I have my install working correctly now and I was testing the un-install. Some of my files go into the $INSTDIR but others go into various directories gathered from the user during the install. These directories are represented by the variables $2, $3, $4, and so on. What I would like to do is to removed each of these directories and the information contained within them on the uninstall using something like RMDir /r $3. I tried this with the install and the directory was not removed. Is there anyway to have the Install store the values of these variables and restore them on uninstall to remove the directories?<br />
      <br />
      Thanks in advance,<br />
      <br />
      Beez</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">19th August 2002 21:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you want to delete the entire directory just use RMDir /r $INSTDIR. If you want to delete just those specific directories stored in $2, $3 and $4, save them to the registry and read them in the uninstaller. Then use what you have read from the registry to delete those specific directories. Don't forget to make sure that you have actually read something from the registry (use IfErrors or StrCmp "" $[reg-value]).</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
