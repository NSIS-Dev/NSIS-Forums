<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Error while applying NLF font/RTL" />

  <title>Error while applying NLF font/RTL - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.2/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Error while applying NLF font/RTL</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=211606">Error while applying NLF font/RTL</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pilm</span><br />
      <span class="post-time small text-muted">28th March 2005 14:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Error while applying NLF font/RTL</strong><br />
      &nbsp; Hi,<br />
      <br />
      I've recently upgraded from NSIS 2.0 to 2.06. I've a script with multiple languages and some Language Strings. Now, when I try to compile a script with RTL/Unicode languages (SimChinese, Japanese, etc), compilation fails after "Generating language table" with this message :<br /></p>
      <pre>
<code>Error while applying NLF font/RTL: ReadVarLenArr - Unicode conversion failed.</code>
</pre><br />
      NSIS compiler from 2.01 to 2.05 just crash at this point. The MUI MultipleLanguage.nsi script doesn't compile too.<br />
      <br />
      I've searched trough the forum and didn't find any answer... Thanks for your help.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">29th March 2005 18:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Are you compiling on Windows or POSIX? Can you include a minimal script reproducing this behavior?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pilm</span><br />
      <span class="post-time small text-muted">29th March 2005 19:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm compiling under Windows XP.<br />
      <br />
      I use, for example :<br />
      <br /></p>
      <pre>
<code>
"MUI.nsh"
<br />&gt;!insertmacro MUI_LANGUAGE "French"
<br />&gt;!insertmacro MUI_LANGUAGE "SimpChinese"
<br /><br />&gt;LangString Name_Section1 ${LANG_FRENCH} "bla bla french"
<br />&gt;LangString Name_Section1 ${LANG_SIMPCHINESE} "bla bla english"
<br /><br />&gt;Function .onInit
<br /> !insertmacro MUI_LANGDLL_DISPLAY
<br />FunctionEnd 
<br />&gt;
</code>
</pre>This script used to work nicely with NSIS 2.0, and doesn't now. However it works if I comment the "!insertmacro MUI_LANGUAGE "SimpChinese"" line...
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">29th March 2005 20:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Aside from the missing OutFile and section, the script works fine for me. Have you changed something in SimpChinese.nlf or SimpChinese.nsh? Can you attach them?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pilm</span><br />
      <span class="post-time small text-muted">30th March 2005 17:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I changed nothing in theses files, here they are.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">31st March 2005 18:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Those files are indeed the same as in the original package.<br />
      <br />
      Can you please try that script on a clean installation of NSIS?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pilm</span><br />
      <span class="post-time small text-muted">1st April 2005 13:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I use already a clean install of NSIS.<br />
      <br />
      But maybe the problem comes from my system : I've installed Windows XP without Asians and RTL languages. I suppose it has an inpact only on executed RTL programs, and not on compilation, but who knows... I've just installed the missing asian and RTL fonts, and have still the same bug.<br />
      <br />
      I going to reinstall a full-language Windows, and I'll tell you if the bug is still there after that.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
