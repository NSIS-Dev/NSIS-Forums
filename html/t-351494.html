<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Change Icon from .exe in $installdir" />

  <title>Change Icon from .exe in $installdir - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Change Icon from .exe in $installdir</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=351494">Change Icon from .exe in $installdir</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">leon_20v</span><br />
      <span class="post-time small text-muted">6th November 2012 11:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Change Icon from .exe in $installdir</strong><br />
      Hello,<br />
      <br />
      i am from germany and i hope you will understand me.<br />
      <br />
      I like to change the ICON from the <b>"application.exe"</b> when i compile the NSIS-Script-File. If the user installs the program he only could see the changed icon in Windows Explorer. That´s what i will do.<br />
      <br />
      I heart, i can include the resource hacker in a nsis script to do this. But i didn´t find a example code for changing an icon.<br />
      <br />
      Thanks a lot :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">6th November 2012 13:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">So you want to take an existing .exe file, and change the icon it shows in Explorer, from inside NSIS?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">leon_20v</span><br />
      <span class="post-time small text-muted">6th November 2012 13:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">if it is possible, yes :)<br />
      <br />
      after that i will compile all in installdir to an nsis-installer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">6th November 2012 19:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Why do this at install-time? Why not change the icon of the EXE <i>before</i> building the installer?<br />
      <br />
      I don't know how you compile the EXE file that you are going to deploy with your NSIS installer, but if you build with Visual Studio, for example, chaining the icon <i>in an automated way</i> should be straight forward by modifying the .RC file before calling MSBuild.<br />
      <br />
      And, if the decision what icon is needed can only be drawn at install time, them simply package several variants of the EXE file (each with different icon) in your installer and then pick/extract the desired one...<br />
      <br />
      (Adding more EXE files to the installer that only differ from the "main" EXE by their icon should compress to ~0 bytes)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">leon_20v</span><br />
      <span class="post-time small text-muted">7th November 2012 07:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">why: the program has more distributions. for each distribution is one xml file which is loaded at lifetime. and each distribution should have a different icon. so i thought the easiest way to do this, is changing the icon with an resource hacker for each installer. but there are many distributions so this should be done automatically.<br />
      <br />
      So i have to move my program in dlls and for each distribution i must make a new project which has only one main and the icon? There is now way to do this with nsis? i thought this could be done becouse nsis can replace the icon from shortcuts.<br />
      <br />
      thanks a lot! :)</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
