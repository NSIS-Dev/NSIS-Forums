<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="IP Address verification" />

  <title>IP Address verification - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">IP Address verification</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=271205">IP Address verification</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Veerugadde</span><br />
      <span class="post-time small text-muted">15th May 2007 21:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>IP Address verification</strong><br />
      Hello everybody,<br />
      <br />
      I have read the validate IP function, usage but i was unable figure out how can installer get the user IP address for validation.<br />
      <br />
      Thanks,<br />
      <br />
      Veeru</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th May 2007 21:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use <a href="http://nsis.sourceforge.net/Validate_IP_function" target="_blank">ValidateIP</a>.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Veerugadde</span><br />
      <span class="post-time small text-muted">15th May 2007 22:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by kichik</i><br />
        <b>Use <a href="http://nsis.sourceforge.net/Validate_IP_function" target="_blank">ValidateIP</a>.</b>
      </blockquote>Thank you.. Actually i am stuck with how we can push the client IP address to start the validation. In the example Validate IP function will go with validation process. Could you please suggest me how we can retrieve client IP address as an input for validation ?<br />
      <br />
      Thanks.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th May 2007 22:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Why would you want to validate the user's IP? It can't be invalid if you get it through the API.<br />
      <br />
      To get the IP, use one of the following:<br />
      <br />
      <a href="http://nsis.sourceforge.net/IP_plug-in" target="_blank">http://nsis.sourceforge.net/IP_plug-in</a><br />
      <a href="http://nsis.sourceforge.net/Internet_plug-in" target="_blank">http://nsis.sourceforge.net/Internet_plug-in</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Veerugadde</span><br />
      <span class="post-time small text-muted">15th May 2007 22:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">[QUOTE]<i>Originally posted by kichik</i><br />
      [B]Why would you want to validate the user's IP?<br />
      <br />
      <br />
      <br />
      Can you please explain me about following statement in depth "It can't be invalid if you get it through the API".<br />
      <br />
      Thanks lot.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Veerugadde</span><br />
      <span class="post-time small text-muted">15th May 2007 22:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">[QUOTE]<i>Originally posted by kichik</i><br />
      [B]Why would you want to validate the user's IP? It can't be invalid if you get it through the API.<br />
      <br />
      Here i am thinking to give access to installers for the users within our domain and to abort the process if user is not within valid domain range. Please present your comments on the above thought.<br />
      <br />
      Thanks..</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th May 2007 22:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The ValidateIP function only checks to make sure a given string is a valid IP. It doesn't check for ranges. If you get the string from a good place (e.g. API), there's no need to validate it.<br />
      <br />
      To make sure the IP is within a given subnet, you'd probably want to split using WordFind, as in ValidateIP, and use IntCmp on each part to make sure it's within the wanted range. You could also convert the IP to a 32-bit integer and use good old masking with IntOp.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
