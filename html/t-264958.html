<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Dynamic &quot;Space required&quot; text" />

  <title>Dynamic "Space required" text - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Dynamic "Space required" text</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264958">Dynamic "Space required" text</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Clammerz</span><br />
      <span class="post-time small text-muted">3rd February 2007 05:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Dynamic "Space required" text</strong><br />
      &nbsp; Is there a way I can change what the "Space required" text is during run-time?<br />
      <br />
      One of the components the user can select will actually free space. I kind of thought that having "Space Required: -xxMB" would be a little odd, (not to mention it seems you can't do it) so I thought about chaning the actual text.<br />
      <br />
      After messing about with SendMessage in .onSelChange, I found out that it changes the whole text area including the numbers (well duh) instead of that specifc text.<br />
      <br />
      Also, as soon as the .onSelChange function ends, the text reverts back to default.<br />
      <br />
      So, my question is, is it possible to change it when someone clicks on a component?<br />
      <br />
      If so, how?<br />
      (Or should I just look into using a custom page with InstallOptions?)<br />
      <br />
      <br />
      Edit: On a non-related note, while I was looking through the documentation I saw this:<br /></p>

      <blockquote>
        Sets the Size of the section specified by section_index. Note that the Index starts with Zero. The Value for Size must be entered in <b>KiloByte</b> and supports only whole numbers.
      </blockquote>Then the example gives:<br />
      <pre>
<code>
onInit
<br />  # set required size of section 'test' to 100 bytes
<br /> SectionSetSize ${test_section_id} 100
<br />FunctionEnd 
<br />&gt;
</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">3rd February 2007 08:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No sure if I got your point, though,<br />
      Open the WelcomeFinish.nsi MUI example, scroll down to the language descriptions area and add the following code:<br /></p>
      <pre>
<code>  LangString ^SpaceRequired ${LANG_ENGLISH} "This text changed: "</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Clammerz</span><br />
      <span class="post-time small text-muted">3rd February 2007 08:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmm, reading your reply made me think of header files... Is the string defined there somewhere?<br />
      <br />
      I'm not sure it will solve my problem though, anyways, here is the problem I face. I need TWO possible texts for that field.<br />
      <br />
      Either:<br />
      "Space Required"<br />
      <br />
      Or:<br />
      "Space Saved"<br />
      <br />
      Thanks for your reply</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">3rd February 2007 09:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        Hmm, reading your reply made me think of header files... Is the string defined there somewhere?
      </blockquote>See the included languages.nsi example, also you may want to open with a text editor the language file english.nlf for more details.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">3rd February 2007 10:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">SpaceTexts sets that text. You could set it to a variable and change the value of that variable at runtime to "Space required: " or "Freed space: ".</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Clammerz</span><br />
      <span class="post-time small text-muted">3rd February 2007 11:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah, thank you for that!<br />
      <br />
      I modified the English.nlf file, and changed the default text into a variable, and that worked perfectly!<br />
      <br />
      I just used some extra steps to calculate the real space that was saved from other installed modules, etc.<br />
      <br />
      Thank you very much for that.<br />
      <br />
      Edit: oops, so there's another method for that? Oh now that you mention it, I remember seeing something like that, but at the time I only tried setting it to a hard value in .onSelChange and it complained saying it had to be used not in a function or section. Hee hee I totally didn't think of using a variable!!<br />
      <br />
      Thank you kichik and Red Wine!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">3rd February 2007 11:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You shouldn't change the NLF. You'll have to distribute the NLF with your script or change the original NLF before compiling your script for every new installation of NSIS. Use SpaceTexts instead.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Clammerz</span><br />
      <span class="post-time small text-muted">3rd February 2007 11:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yeah, I can see the adverse affects in doing that, but until I read your post I couldn't think of going about it another way.<br />
      <br />
      Thank you.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>