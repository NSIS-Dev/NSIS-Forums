<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="MUI_WELCOME_PAGE and icon changing dynamically"><title>MUI_WELCOME_PAGE and icon changing dynamically - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">MUI_WELCOME_PAGE and icon changing dynamically</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=272084">MUI_WELCOME_PAGE and icon changing dynamically</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">luthar</span><br><span class="post-time small text-muted">31st May 2007 17:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>MUI_WELCOME_PAGE and icon changing dynamically</strong><br>Hello,<br><br>I am new to NSIS so it may have been already shown.<br><br>I have a NSIS script that has to be updated. I want to make a generic setup.exe file that will look at a .ini file for information (ie name, product version)<br><br>I want to load data into a variable (PRODUCT NAME)<br><br>var PRODUCT_NAME<br>!define MUI_ICON "Contrib\$PRODUCT_NAME\$PRODUCT_NAME.ico"<br>!insertmacro MUI_PAGE_WELCOME<br>!insertmacro MUI_PAGE_LICENSE "license.txt"<br><br>Product name variable is initialized in the .onGUIInit function. But when trying to compile, it says i have an error when I call this macro:<br>!insertmacro MUI_PAGE_WELCOME<br><br><br>What could be the work around?<br>Only use the Icon function in the .onGUIInit function and take of the !define MUI_ICON?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">31st May 2007 19:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You cannot have a variable in the icon. That's a resource embedded in the installer file itself. Think about it, when you want to see its icon in explorer, how will it be able to read the INI file if it wasn't even executed?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">31st May 2007 23:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think you want to use a !define, like this topic shows:<br><a href="http://forums.winamp.com/showthread.php?threadid=272109" target="_blank">http://forums.winamp.com/showthread.php?threadid=272109</a><br><br>Stu</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>