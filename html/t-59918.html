<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Exec does not work?"><title>Exec does not work? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Exec does not work?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=59918">Exec does not work?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Pardsbane</span><br><span class="post-time small text-muted">13th September 2001 14:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Exec does not work?</strong><br>Hello,<br><br>On Windows XP at least, I am unable to get any of the Exec instructions to work: I setup the installer to extract a program and then execute it immediately (to register some environment variables, see my previous question), anyway, the program doesn't get started. Here are the lines I'm trying to use:<br><br>ExecWait '$INSTDIR\bin\envEdit.exe -a test hello'<br>ExecShell "open" $INSTDIR\bin\envEdit.exe "-a Path $INSTDIR\bin"<br><br>As you can see, I tried to use two different formats (I've tried may others too), but none seem to work.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Gonzotek</span><br><span class="post-time small text-muted">13th September 2001 15:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Can you verify that the examples provided with NSIS are working or are not working (that is, are any of the EXEC statements working or is it only your script)...I've seen someone else having the same problem with either NT4.0 or 2000. And since they are all based on the NT kernel, I suspect it something in there and almost definitely not something you're doing wrong.<br><br>And sorry for leading down a wrong path...my bad :)<br>-=Gonzotek=-</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pardsbane</span><br><span class="post-time small text-muted">13th September 2001 15:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Doh! I messed up, but there is still a problem</strong><br>Hi,<br><br>I realized that I messed up, but that there is still a problem:<br><br>My original problem was that this:<br><br>ExecWait '$INSTDIR\bin\evnEdit.exe -a Path $INSTDIR\bin'<br><br>Should have been this:<br><br>ExecWait '$INSTDIR\bin\envEdit.exe -a Path $INSTDIR\bin'<br><br>Subtle problem yes? In fact, I wrote the entire evnEdit program yesterday, meaning to call it envEdit. So when I came to work today, I coded up the nsi as envEdit... Damn.<br><br>However, there is still a problem. This line does not function properly:<br><br>ExecWait '$INSTDIR\bin\envEdit.exe -a Path $INSTDIR\bin'<br><br>I also tried this line, which didn't work either:<br><br>strcpy $0 $INSTDIR<br>ExecWait '$INSTDIR\bin\envEdit.exe -a Path $0\bin'<br><br>But this one does:<br><br>ExecWait '$INSTDIR\bin\envEdit.exe -a Path INSTDIR\bin'<br><br><br>When I say, "doesn't work", I mean the program is executed, but it doesn't receive the 3rd parameter as would be expected.<br><br>This leads me to believe that only the first variable gets evaluated in ExecWait, or something like that.<br><br>I should point out that envEdit is supposed to set an environment variable, but doesn't do anything if it doesn't get enough parameters. I think what happens is that because the $INSTDIR\bin evaluates to "", envEdit only gets 2 parameters instead of its expected 3, and quits. When I remove the second $, it gets a 3rd parameter, and works correctly.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>