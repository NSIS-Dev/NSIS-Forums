<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Dependency checks"><title>Dependency checks - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Dependency checks</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=205266">Dependency checks</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Correa</span><br><span class="post-time small text-muted">18th January 2005 17:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Dependency checks</strong><br>Hi,<br><br><br>Does anyone know how one could automate a dependency check to make sure all the dlls are included in the installer? Like using the depends.exe that comes with VS.<br><br>This would prevent, say, forgetting to recompile some dll and sending it with a dependency on msvcrtd.dll</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">18th January 2005 20:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think only with third part app for reading dependencies....<br>Although, if you build your app, you sure will know which DLL nor OCX are required...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Correa</span><br><span class="post-time small text-muted">19th January 2005 01:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well, sure I do :P<br><br>The issue is not finding which DLLs it depends on, that can be done only once. The issue is making sure you are not releasing your software with the DLLs compiled *in the wrong way* ;)<br><br>It's not uncommon for someone to forget recompiling a part of the system into release mode after stressfull sessions of bug hunting in the much more friendly debug mode :)<br><br>Then you send the installer to the poor user without the dev environment and it won't work due to those daunting DLL not found messages.<br><br>Including the debug DLLs into the distribution is absolutely wrong, of course. Not only wrong, but potentialy illegal, since in most cases you are not even allowed to redistribute the debug DLLs.<br><br>I just wanted to know if someone knew how I could extract the information, writting a python script or whatever to automate the process before calling makensis would be the easy part after that.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">20th January 2005 18:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">In Source\Plugins.cpp the exports are examined. It uses some macros and definitions from WinNT.h. It shouldn't be too hard to modify it to check the imports. Some useful information can be found at:<br><br><a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dndebug/html/msdn_peeringpe.asp" target="_blank">http://msdn.microsoft.com/library/de..._peeringpe.asp</a><br><a href="http://www.windowsitlibrary.com/Content/356/11/4.html?Ad=1&amp;" target="_blank">http://www.windowsitlibrary.com/Cont...1/4.html?Ad=1&amp;</a></p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>