<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Autorun.inf not functioning properly on XP Prof.?" />

  <title>Autorun.inf not functioning properly on XP Prof.? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Autorun.inf not functioning properly on XP Prof.?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=193009">Autorun.inf not functioning properly on XP Prof.?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br />
      <span class="post-time small text-muted">9th September 2004 19:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Autorun.inf not functioning properly on XP Prof.?</strong><br />
      Hello Everyone,<br />
      <br />
      I know this isn't specifically NSIS related, but it IS installer related. I have an autorun.inf file with the following contents (see below). When I burn the contents to a CD with the proper structure and autorun file, then place the disc in a drive, I don't get the desired or expected results.<br />
      <br />
      My autorun.inf contains:<br />
      <br /></p>
      <pre>
<code><br />[autorun]<br />open=windows\setup.exe<br />icon=myicon.ico,1<br />label="Setup"<br /></code>
</pre><br />
      and my disc has the following structure:<br />
      <pre>
<code><br />windows\Setup.exe<br />windows\readme.txt<br />autorun.inf<br />myicon.ico<br /></code>
</pre><br />
      <br />
      The autorun open portion works fine, but the icon only displays in Windows Explorer IF and only IF the Operating System is 95/98/ME/NT/2K but NOT XP. In XP I get the no icon associated icon. Any ideas?<br />
      <br />
      P.S. I have tried this on 20 different machines, all the XP ones fail, all the others mentioned were tested and passed.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lewellyn</span><br />
      <span class="post-time small text-muted">9th September 2004 21:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You found a Windows bug, have a cookie! ;) I think there's a post around here somewhere about it, but the answer is simple.<br />
      <br />
      You cannot specify both icon and label in the autorun.inf, it produces inconsistent results, usually not showing the icon. Depending on the icon order, you may get other results on older Windows versions, as well.<br />
      <br />
      The best way to do it? Label the disc properly in your burning app and just not use label= in autorun.inf.<br />
      <br />
      --Matt</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br />
      <span class="post-time small text-muted">10th September 2004 15:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks! Removing the "label=" option solved the problem. It's too bad though, now we have to remember to label the disc each time we burn the master cd. Thanks for the quick reply, it was much appreciated.<br />
      <br />
      Cheers,<br />
      <br />
      ZIMSMS</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lewellyn</span><br />
      <span class="post-time small text-muted">10th September 2004 20:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ya, it can be a pain. But take the opportunity to set all the fun fields like Publisher and Data Preparer, as well. :)<br />
      <br />
      On the bright side, setting the label ensures that even users with autorun disabled will be able to see the disc's label. (As well as users not using 32-bit Windows, such as DOS, UNIX, and Linux...) Oh, and keep the label under 16 chars. There's another bug lurking there... :)<br />
      <br />
      Another hint:<br />
      If your burning software lets you set file burning precedence (such as Nero), set the autorun.inf to be low, and whatever program autoruns as well as the installer to high. If the icon is its own .ico file, set that to low. Leave all other files at medium. This has helped me make discs that feel far more responsive on lower-end hardware (i.e. Win98 w/ 4x CD-ROM). Setting the priority to high also helps speed up the CRCCheck slightly.<br />
      <br />
      --Matt</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br />
      <span class="post-time small text-muted">13th September 2004 13:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sweet. Thanks for the tips!</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
