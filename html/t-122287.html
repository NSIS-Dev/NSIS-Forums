<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Crash using latest CVS nightly and InstallOptions DLL" />

  <title>Crash using latest CVS nightly and InstallOptions DLL - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Crash using latest CVS nightly and InstallOptions DLL</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=122287">Crash using latest CVS nightly and InstallOptions DLL</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wonko</span><br />
      <span class="post-time small text-muted">21st January 2003 19:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Crash using latest CVS nightly and InstallOptions DLL</strong><br />
      I've spent the last day or so trying to figure out what's happening here, and I'm not having much luck. At first I experienced this problem with beta 0. I've since upgraded to the January 21st CVS nightly and the problem still exists.<br />
      <br />
      What's happening is this: In my main section, I start by searching for a specific config file on the user's system. If the file is found, I pop up a messagebox asking the user if this is the correct file. If the user clicks "No", I call a function that displays an InstallOptions dialog with a label and a filerequest field.<br />
      <br />
      When the user clicks "Next" after filling in this field, I attempt to validate the data. First I check to see that the field is not empty. Then I check to see that the file exists. If either of these checks fail, a messagebox is displayed and we goto the top of the function again, re-displaying the dialog.<br />
      <br />
      The problem is that after the dialog is redisplayed, clicking "Next" just exits the installer. Kaboom. No errors, no nothing. It just disappears, no matter what the user types in the filerequest field. If the dialog *isn't* redisplayed (i.e., if the user entered a valid filename the first time) then everything works fine.<br />
      <br />
      I've completely run out of ideas for what could be causing this. Could it be a bug?<br />
      <br />
      The script in question is a little long to paste here, but I'd be happy to email it to anyone who thinks they can help. Thanks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">21st January 2003 19:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Are you using it out of a custom page creator funciton? IO was designed to work as a custom page not from within a section or a callback function that is not the custom page callback function.<br />
      <br />
      You can use the MinLen field of IO to make sure the file path is there.<br />
      <br />
      BTW, you can always attach the script if it's too big.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wonko</span><br />
      <span class="post-time small text-muted">21st January 2003 20:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It looks like you're right. When I use a custom page creator function, it seems to work fine. It'll mean restructuring the logic flow a bit, but if it works, it's worth it.<br />
      <br />
      Thanks.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
