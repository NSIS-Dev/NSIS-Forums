<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="reload page from nsdialogs callback" />

  <title>reload page from nsdialogs callback - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">reload page from nsdialogs callback</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=294950">reload page from nsdialogs callback</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">landaquinn</span><br />
      <span class="post-time small text-muted">23rd July 2008 00:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>reload page from nsdialogs callback</strong><br />
      I am using the NSDialogs BrowseButton callback macro ${NSD_OnClick} to get the user's input on Tomcat's root directory for webapps.<br />
      If the user changes this directory, I want other fields to update, and some to disappear. For example, update will no longer be an option if the new directory doesn't have the installation .war file.<br />
      Functionally, I want the entire page to reload as if coming back from its leaving function, or the back button.<br />
      <br />
      any suggestions on how to accomplish this?<br />
      ....<br />
      ${NSD_OnClick} $BrowseButton2 GetwebappHome<br />
      ....<br />
      Function GetwebappHome<br />
      Exch $R0<br />
      ${If} $R0 == $BrowseButton2<br />
      nsDialogs::SelectFolderDialog /NOUNLOAD "open" $webappsdir<br />
      Pop $R0<br />
      ${If} $R0 != error<br />
      StrCpy $webappsdir $R0<br />
      ${NSD_SetText} $Text_3 $webappsdir ; reset text to new dir<br />
      ${EndIf}<br />
      <br />
      ${Endif}<br />
      pop $R0<br />
      FunctionEnd</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">23rd July 2008 18:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Reloading the entire thing is not exactly possible. But you could hide and show everything with ShowWindow. I suggest you create two functions - ShowUpgradeOption and HideUpgradeOption. Those two will set visibility and other variables of the controls. You can then use those two in both the browse button callback and the function that creates the dialog.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">landaquinn</span><br />
      <span class="post-time small text-muted">24th July 2008 17:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I did try putting the display function into a separate function (though I didn't use show window, i just called it from the callback function, trying to overlay new controls)<br />
      It didn't really work that well, and I finally put the control that i wanted to initiate the changes into a previous page.<br />
      However, the ability to delete a control and refresh the page would be nice functionality to have.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">24th July 2008 17:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You don't need to delete it. Simply hide it using ShowWindow.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
