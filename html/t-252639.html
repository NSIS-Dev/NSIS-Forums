<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="How to set enable/disable a Custom Button on a Custom Page?" />

  <title>How to set enable/disable a Custom Button on a Custom Page? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">How to set enable/disable a Custom Button on a Custom Page?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=252639">How to set enable/disable a Custom Button on a Custom Page?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UranusOne</span><br />
      <span class="post-time small text-muted">4th August 2006 15:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>How to set enable/disable a Custom Button on a Custom Page?</strong><br />
      <b>*</b> This commands set <b>enabled</b> or <b>disabled</b> de <font color="blue">next</font> button:<br /></p>

      <ul>
        <li><font size="1"><font color="green">; Disable "Next" button.</font><br />
        GetDlgItem <font color="orange">$1 $HWNDPARENT</font> <font color="red">1</font><br />
        EnableWindow <font color="orange">$1</font> <font color="red">0</font></font></li>
      </ul>

      <ul>
        <li><font size="1"><font color="green">; Enable "Next" button.</font><br />
        GetDlgItem <font color="orange">$1 $HWNDPARENT</font> <font color="red">1</font><br />
        EnableWindow <font color="orange">$1</font> <font color="red">1</font></font></li>
      </ul><br />
      <br />
      <b>*</b> But for example, this commands not work on a <b>Custom Page</b> on a <b><font color="red">Custom Button</font></b>:<br />

      <ul>
        <li><font size="1"><font color="green">; Supposedly Disable "Field 7" . Is a Button of $INI file.</font><br />
        <br />
        GetDlgItem <font color="orange">$1</font> $HWND <font color="red">1206</font> <font color="green">; PathRequest control (1200 + field 7 - 1)</font><br />
        EnableWindow <font color="orange">$1</font> <font color="red">0</font></font></li>
      </ul><br />
      <br />
      <b>* <font color="blue">How</font> <font color="coral">is</font> the suitable <font color="blue">way</font>?</b> :rolleyes:<br />
      ------------------------------------
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">4th August 2006 15:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That will work for Button controls. If you want to disable the button of a DirRequest control, then the control ID is one greater (so it's 1207).<br />
      <br />
      You need to use the code between the InitDialog and Show InstallOptions calls.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UranusOne</span><br />
      <span class="post-time small text-muted">4th August 2006 23:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">These <b>commands</b> are <font color="blue">executed</font> in the <b>Function LeaveCustom</b>, <font color="red">after</font> <b>Function ShowCustom</b> and <font color="blue">Work</font>.<br /></p>

      <blockquote>
        <i>Originally posted by Me</i><br />
        [B]<b>*</b> This commands set <b>enabled</b> or <b>disabled</b> de <font color="blue">next</font> button:<br />

        <ul>
          <li><font size="1"><font color="green">; Disable "Next" button.</font><br />
          GetDlgItem <font color="orange">$1 $HWNDPARENT</font> <font color="red">1</font><br />
          EnableWindow <font color="orange">$1</font> <font color="red">0</font></font></li>
        </ul>

        <ul>
          <li><font size="1"><font color="green">; Enable "Next" button.</font><br />
          GetDlgItem <font color="orange">$1 $HWNDPARENT</font> <font color="red">1</font><br />
          EnableWindow <font color="orange">$1</font> <font color="red">1</font></font></li>
        </ul>
      </blockquote>Depending <b>conditionally</b> of the parameters that are obtained <font color="red">according</font> to two <b>DirRequest fields</b>, <font color="blue">NEXT</font> button is activate or not.<br />
      <br />
      I would like to do the same with the <b>CustomButton</b> <b>ClearFields</b> for the two DirRequest Fields, but I cannot find the way to obtain <font color="orange">$HWND</font> of he himself.<br />
      <br />
      For that reason it asked if it were well before this.<br />
      <br />
      I could not found <b>information</b> as well as either <b>examples</b>, on like the state of a DirRequest Field, do make <font color="blue">enabled</font> or <font color="red">disabled</font> a <b>CustomButton</b>. Single I found information on this for <font color="blue">next</font> Button.<br />
      <br />
      I <b>Attached</b> <font color="red">2</font> <font color="blue">files</font> on a Zip, <b>CopyFolderTo.nsi</b> and <b>CopyFolderTo.ini</b>.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UranusOne</span><br />
      <span class="post-time small text-muted">5th August 2006 00:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry, <b><font color="red">Here</font></b> is <b><font color="blue">Attached</font> <font color="blue">File</font></b>...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">engine</span><br />
      <span class="post-time small text-muted">5th August 2006 00:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try:<br />
      ReadINIStr $1 "$INI" "Field 3" <font color="red">HWND2</font><br />
      <br />
      If it does work,View "yournsisdir\Docs\InstallOptions\readme.htm" for detail.<br /></p>

      <blockquote>
        Note in IO Plug-in's Changelog.txt:<br />
        DLL version 2.44 (10/11/2005)<br />
        * Added HWND and HWND2 entries to the INI file to avoid messy calculations of the correct control id
      </blockquote>Watch the $INI file while your installer is running to make it lucid.<br />
      <br />
      Hope it helps.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UranusOne</span><br />
      <span class="post-time small text-muted">6th August 2006 06:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I found the solution read <a href="http://forums.winamp.com/showthread.php?threadid=252544&amp;highlight=GetDlgItem#post2000565" target="_blank">This Topic</a>.<br />
      <br />
      The penultimate post of <b>Afrow UK</b> containing the real solution...<br />
      <br /></p>

      <ul>
        <li><font size="1"><font color="green">; * Disable item *</font><br />
        <font color="blue">ReadINIStr</font> <font color="orange">$R7</font> "$INI" "Field 7" "HWND"<br />
        EnableWindow <font color="orange">$R7</font> <font color="red">0</font><br />
        <br />
        <br />
        <font color="green">; * Enable item *</font><br />
        <font color="blue">ReadINIStr</font> <font color="orange">$R7</font> "$INI" "Field 7" "HWND"<br />
        EnableWindow <font color="orange">$R7</font> <font color="red">1</font></font></li>
      </ul><br />
      <br />
      Thank you very much by everything...
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
