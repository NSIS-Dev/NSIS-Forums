<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Use of Registers" />

  <title>Use of Registers - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Use of Registers</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255562">Use of Registers</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rajiv naravane</span><br />
      <span class="post-time small text-muted">15th September 2006 20:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Use of Registers</strong><br />
      I have a general question about the usage of registers when I call a system function. To make it specific, here is a snipped of code:<br />
      ;GetIndexName is my function that returns a string<br />
      ; in $R0, so I pop it from $R0<br />
      Call GetIndexName<br />
      Pop $R0<br />
      ; Asumme everything worked<br />
      ;<br />
      <br />
      ;Now I copy this string to $1<br />
      StrCpy $1 $R0<br />
      <br />
      ;And pass it to WordFind library function,<br />
      ;which gives me results in $0 (last argument)<br />
      ${WordFind} $1 "-" "+1" $0<br />
      DetailPrint "After WordFind $0"<br />
      <br />
      Here is the question: If WordFind function is internally using $R0, would the value I stored there originally get overwritten?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th September 2006 21:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Functions should and usually retain register values. It's done by keeping old values on the stack and popping them back when the function ends. All of the function in the header files, including WordFind do that. If they don't, it's a bug and you should report it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rajiv naravane</span><br />
      <span class="post-time small text-muted">15th September 2006 21:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks, sir, appreciate your help</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rajiv naravane</span><br />
      <span class="post-time small text-muted">15th September 2006 21:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank your sir, for your prompt reply</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rajiv naravane</span><br />
      <span class="post-time small text-muted">15th September 2006 22:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">So what you are saying is, I do not have to worry about what registers these functions are using. They SHOULD do the right thing and when they retun, my old value in the register should be intact, right?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">16th September 2006 07:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">correct<br />
      <br />
      and if they don't, report it as a bug to the author of the function / in the wiki page of the function / wherever is appropriate :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rajiv naravane</span><br />
      <span class="post-time small text-muted">16th September 2006 14:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you, appreciate your help</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
