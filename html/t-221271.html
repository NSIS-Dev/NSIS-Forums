<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Delete and file access rights"><title>Delete and file access rights - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Delete and file access rights</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=221271">Delete and file access rights</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">nduboc</span><br><span class="post-time small text-muted">12th July 2005 09:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Delete and file access rights</strong><br>The doc about Delete says "The error flag is not set from trying to delete a file that does not exist."<br><br>But what about Delete on files which are inaccessible ?<br><br>For instance, suppose the the C:\foo directory is completely inaccessible (read, write, listing forbidden) and that you try<br>to "Delete c:\foo\bar.txt".<br><br>I think Delete should then set the error flag on this case, but it does not.<br><br>Is it by design or is it a bug ?<br><br>Thanks,</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">12th July 2005 13:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Not sure, but would IfFileExists work here?<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">nduboc</span><br><span class="post-time small text-muted">19th July 2005 14:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Afrow UK</i><br><b>Not sure, but would IfFileExists work here?<br><br>-Stu</b></blockquote>IfFileExists acts as if the file does not exist. But I think this is also a bad NSIS behavior. Being unable to know if the file exists does not imply that the file does not exists. Only the final application may choose to consider these two cases as equivalent.<br><br>Shouldn't an uninstaller fail if it is asked to remove a file it has no access to ?</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>