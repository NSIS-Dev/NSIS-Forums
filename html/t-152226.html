<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="color examples?" />

  <title>color examples? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.2/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">color examples?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=152226">color examples?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">billym</span><br />
      <span class="post-time small text-muted">11th October 2003 01:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>color examples?</strong><br />
      &nbsp; Could I please get some complete examples on how to color the dialogs and controls using nsis. I know I have had responses to my postings but have not once received a complete example and I cannot get the pieces to work. I searched the forums for examples but only found pieces of script related to color changing. Thanks in advance for the assistance. My goal is to get the background of all of the controls and dialogs colored white. I am using custom pages as well as the defaults with the modern UI.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">11th October 2003 13:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It has been explained how you can change these colors. Please take some time to read the documentation / Modern UI Readme. If you have created a script and still have problems, attach it so people can have a look at it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">billym</span><br />
      <span class="post-time small text-muted">12th October 2003 19:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here is an example script that does not seem to work for me....<br />
      <br />
      !include "MUI.nsh"<br />
      <br />
      Name "Color Test 1.0"<br />
      OutFile "colortest.exe"<br />
      <br />
      Var HWND<br />
      Var DLGITEM<br />
      <br />
      Page custom CustomPageA<br />
      !insertmacro MUI_PAGE_FINISH<br />
      <br />
      !insertmacro MUI_LANGUAGE "English"<br />
      <br />
      ReserveFile "ioA.ini"<br />
      !insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
      <br />
      Section test<br />
      <br />
      SectionEnd<br />
      <br />
      Function .onInit<br />
      <br />
      !insertmacro MUI_INSTALLOPTIONS_EXTRACT "ioA.ini"<br />
      <br />
      FunctionEnd<br />
      <br />
      Function CustomPageA<br />
      <br />
      !insertmacro MUI_HEADER_TEXT "text1" "text2"<br />
      !insertmacro MUI_INSTALLOPTIONS_DISPLAY "ioA.ini"<br />
      Pop $HWND<br />
      <br />
      GetDlgItem $DLGITEM $HWND 1078<br />
      SetCtlColors $DLGITEM FFFFFF FF0000<br />
      !insertmacro MUI_INSTALLOPTIONS_SHOW<br />
      <br />
      FunctionEnd<br />
      <br />
      <br />
      How do you determine the dialog id number? I have tried several and still does not color anything?<br />
      <br />
      ioA.ini ...<br />
      <br />
      <br />
      [Settings]<br />
      NumFields=2<br />
      <br />
      [Field 1]<br />
      Type=label<br />
      Text=Install Options Page A<br />
      Left=0<br />
      Right=-1<br />
      Top=0<br />
      Bottom=10<br />
      <br />
      [Field 2]<br />
      Type=label<br />
      Text=test text<br />
      Left=0<br />
      Right=-1<br />
      Top=20<br />
      Bottom=30</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">12th October 2003 19:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please read the "Call InstallOptions" section in the Modern UI documentation. You have to use the InstallOptions initdialog/show macros.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">billym</span><br />
      <span class="post-time small text-muted">13th October 2003 21:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok, have everythign working except the background color of the inner dialogs. what is the appropriate way to do this for the license page and custom pages. I also seem to have a problem with my header text not refreshing when I change pages. It just writes over the previous text.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">14th October 2003 13:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can find the inner dialog using:<br />
      <br />
      FindWindow $R0 "#32770" "" $HWNDPARENT</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">billym</span><br />
      <span class="post-time small text-muted">14th October 2003 23:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have everything working except I cannot figure out how to get the inner dialog of the license page to change color. Can someone please point me in the right direction. Where does it belong?<br />
      <br />
      <br />
      FindWindow $HWND "#32770" "" $HWNDPARENT<br />
      Pop $HWND<br />
      <br />
      GetDlgItem $DLGITEM $HWND 102<br />
      SetCtlColors $DLGITEM 000000 FFFFFF</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">15th October 2003 01:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try this (to work with custom pages):<br />
      <br /></p>
      <pre>
<code>
"text1" "text2" 
<br />&gt;!insertmacro MUI_INSTALLOPTIONS_INITDIALOG "ioA.ini" 
<br />&gt;Pop $HWND 
<br /><br />GetDlgItem $DLGITEM $HWND 1201;1201 is 1200 + Field Number - 1
<br />SetCtlColors $DLGITEM FFFFFF FF0000
<br />&gt;!insertmacro MUI_INSTALLOPTIONS_SHOW 
<br />&gt;
</code>
</pre>And to use with the license page, is complicated to explain in 30 minutes! Someone can answer it.<br />
      <br />
      A suggestion:<br />
      <br />
      Have a command to paint all the dialog background to a color (including external parts of controls).
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">billym</span><br />
      <span class="post-time small text-muted">15th October 2003 14:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">All of this has worked but still unable to get the inner dialog of the license page to change color.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">15th October 2003 16:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Which version of NSIS are you using?<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">15th October 2003 22:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If SetCtlControls works, is using about the latest development snapshot. If someone don't answer first (that will occur), I will say all the controls to color (the external part of them) and how to paint the rest.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th October 2003 22:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by billym</i><br />
        <b>All of this has worked but still unable to get the inner dialog of the license page to change color.</b>
      </blockquote>By the fact that you have mentioned only the license page I assume you're talking about the license data itself. This is set using <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.8.1.24" target="_blank">LicenseBkColor</a>.
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
