<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="&amp; Character replacement bug"><title>&amp; Character replacement bug - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">&amp; Character replacement bug</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=148631">&amp; Character replacement bug</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">9th September 2003 08:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>&amp; Character replacement bug</strong><br>When I define MUI_PRODUCT with an '&amp;' symbol it dows not display correctly in the dialog texts of MUI. However if I define it as '&amp;&amp;' it works correctly except in the title bar of the program.<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">9th September 2003 09:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">GM.<br><br>not unusual - &amp; marks the hotkey (ALT + key). i case i need a '&amp;' in some ressources i also have to put a '&amp;&amp;' (also in strings)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">9th September 2003 13:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I did realize that, however how do I get rid of the double '&amp;&amp;' in the title bar of the installer?<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">9th September 2003 14:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hmm - does "\$&amp;" help?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th September 2003 14:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No, there is no current solution I know of. Joost was going to add a solution, but I'm not sure if he did... You'll have to wait for his answer.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mrtech</span><br><span class="post-time small text-muted">6th November 2003 17:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Can this be achieved by modifying the language or system.nsh script temporarily?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">6th November 2003 21:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't think so. I think that the problem is related to windows itself handling '&amp;' characters differently depending on the control type. Thus to fix this problem we would need to modify the string depending on the control type.<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">6th November 2003 23:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Indeed Vytautas. That will be done in NSIS (not just MUI) soon, hopefully.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">lewellyn</span><br><span class="post-time small text-muted">7th November 2003 20:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">How long will it be before it may be solved? I was noticing this myself...<br><br>I'm going to have to make installers for about 2 dozen different products in the next week or two that all have "&amp;" in either their title, or in an installed file name. (The file is a number of megs , so it will be on-screen for long enough to notice. And, no, I can't change the filename at this point in time...)<br><br>Is there any workaround that may work? If nothing else, I'll just not say anything and hope no one notices... ;)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">7th November 2003 20:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can use &amp;&amp; in the name and manually use &amp; in the places that will show &amp;&amp; which are the caption and the abort warning message box. To set the caption use Caption and UninstCaption (or whatever the MUI uses, if using the MUI) and the MUI define that sets the abort warning message.<br><br>I don't know exactly when I or someone else will to fully implementing the workaround for it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">lewellyn</span><br><span class="post-time small text-muted">7th November 2003 20:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">But how do I do this for the files being installed? As I said, I can't rename them at this stage.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">7th November 2003 20:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hmm... Right, there is the log too :(<br><br>You will have to use DetailPrint for now, one for the text and one for the list.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">lewellyn</span><br><span class="post-time small text-muted">7th November 2003 20:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hm. I'll look into it. I think I'll just take the lazy way out and leave it stock (as much as possible) unless someone says something before the masters are sent off. If no one here notices, then we should be fine. ;)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">17th December 2003 23:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">OK... In the latest CVS version I have added another parameter for Name that allows you to specify a name that will be used where double ampersands are required. From the updated documentation:</p><blockquote>If you have one or more ampersands (&amp;) in the name, set the second parameter to the same name, only with doubled ampersands. For example, if your product's name is "Foo &amp; Bar", use:<pre>
<code>Name "Foo &amp; Bar" "Foo &amp;&amp; Bar"</code>
</pre>If you have ampersands in the name and use a LangString for the name, you will have to create another one with doubled ampersands to use as the second parameter.</blockquote>I have also added the SS_NOPREFIX style to the static control above the install log to solve lewellyn's issue.<br><br>I have tested it with ClearType and didn't notice any problems like last time. But I am not sure I followed the right steps so I'll check it again with Joost tomorrow. Let me know if texts are drawn on pages they shouldn't in weird places because of this update.<br><br>BTW, if you're wondering why the Name conversion is not automatic drop by the IRC channel for a possibly long explanation.</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>