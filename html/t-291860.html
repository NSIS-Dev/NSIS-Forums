<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="How to pop up a page if a section in component page is selected?" />

  <title>How to pop up a page if a section in component page is selected? - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">How to pop up a page if a section in component page is selected?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=291860">How to pop up a page if a section in component page is selected?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tmxk</span><br />
      <span class="post-time small text-muted">15th May 2008 22:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>How to pop up a page if a section in component page is selected?</strong><br />
      Hi all,<br />
      <br />
      I am new to NSIS.<br />
      Can anybody tell me how to pop up a page if a section in component page is selected? This page should not show up in the main script, otherwise it always pops up no mater the related section is selected or not.<br />
      Thanks in advance.<br />
      <br />
      Jue</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jiake</span><br />
      <span class="post-time small text-muted">16th May 2008 07:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can see the example "makensis.nsi"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">16th May 2008 07:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>
      <pre>
<code>outfile test.exe<br />ShowInstDetails show<br />InstallDir "$PROGRAMFILES\My Application"<br /><br />!include logiclib.nsh<br /><br />page components<br />page directory pre_func<br />page instfiles<br /><br />Section "Main Application" sec1<br />       detailprint "installing Main pplication"<br />SectionEnd<br /><br />Section /o "!When checked enables the directory page" sec2<br />       detailprint "Installing..."<br />Sectionend<br /><br />Function pre_func<br />      SectionGetFlags ${sec2} $R0<br />      Intop $R1 $R0 | 1<br />      ${Unless} $R0 = $R1<br />           Abort<br />      ${EndUnless}<br />FunctionEnd</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tmxk</span><br />
      <span class="post-time small text-muted">16th May 2008 12:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank both you experts. It works.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tmxk</span><br />
      <span class="post-time small text-muted">16th May 2008 13:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi, can I have another question?<br />
      <br />
      I have a custom page on which there are 2 Radiobuttons, after the selection of the 2 Radiobuttons, a component page shows up, some of the sections will be disabled or enabled based on the Radiobutton selection. How can I set the sections?<br />
      From my understanding, there is one way, such as "SectionIn RO", but it is only for compile time but runtime.<br />
      And there is another way to do it for runtime, "SetSectionFlag ${SEC_NAM} ${SF_RO}", but I tried to set it either in RadioButton page function (PageLeave) or in the relative section.<br />
      Can you experts help?<br />
      Thanks in advance.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">16th May 2008 16:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">2 examples, first is to keep sections in tact when back button is pressed and second simply disables back button.<br /></p>
      <pre>
<code>!define CUST_INI "$PLUGINSDIR\custom.ini"<br />!include Logiclib.nsh<br />!include Sections.nsh<br /><br />!define SEC1_TEXT "Section One"<br />!define SEC2_TEXT "Section Two"<br />!define SEC3_TEXT "Section Three"<br /><br />outfile "test.exe"<br />showinstdetails show<br />Installdir "$PROGRAMFILES\My App"<br /><br />page custom CreateCustom<br />page components func_pre<br />page directory<br />page instfiles<br /><br />section "${SEC1_TEXT}" sec1<br />detailprint "section 1 selected"<br />sectionend<br /><br />section "${SEC2_TEXT}" sec2<br />detailprint "section 2 selected"<br />sectionend<br /><br />section "${SEC3_TEXT}" sec3<br />detailprint "section 3 selected"<br />sectionend<br /><br />Function .onInit<br />    InitPluginsDir<br /><br />      WriteINIStr "${CUST_INI}" "Settings" "NumFields" "3"<br /><br />      WriteINIStr "${CUST_INI}" "field 1" "type" "radiobutton"<br />      WriteINIStr "${CUST_INI}" "field 1" "left" "30"<br />      WriteINIStr "${CUST_INI}" "field 1" "right" "-30"<br />      WriteINIStr "${CUST_INI}" "field 1" "top" "40"<br />      WriteINIStr "${CUST_INI}" "field 1" "bottom" "52"<br />      WriteINIStr "${CUST_INI}" "field 1" "Text" "Unselect and hide section 1"<br />      WriteINIStr "${CUST_INI}" "field 1" "state" "1"<br />      WriteINIStr "${CUST_INI}" "field 1" "flags" "GROUP"<br /><br />      WriteINIStr "${CUST_INI}" "field 2" "type" "radiobutton"<br />      WriteINIStr "${CUST_INI}" "field 2" "left" "30"<br />      WriteINIStr "${CUST_INI}" "field 2" "right" "-30"<br />      WriteINIStr "${CUST_INI}" "field 2" "top" "60"<br />      WriteINIStr "${CUST_INI}" "field 2" "bottom" "72"<br />      WriteINIStr "${CUST_INI}" "field 2" "Text" "Unselect and hide section 2"<br />      WriteINIStr "${CUST_INI}" "field 2" "state" "0"<br /><br />      WriteINIStr "${CUST_INI}" "field 3" "type" "radiobutton"<br />      WriteINIStr "${CUST_INI}" "field 3" "left" "30"<br />      WriteINIStr "${CUST_INI}" "field 3" "right" "-30"<br />      WriteINIStr "${CUST_INI}" "field 3" "top" "80"<br />      WriteINIStr "${CUST_INI}" "field 3" "bottom" "92"<br />      WriteINIStr "${CUST_INI}" "field 3" "Text" "Unselect and hide section 3"<br />      WriteINIStr "${CUST_INI}" "field 3" "state" "0"<br />FunctionEnd<br /><br />Function CreateCustom<br />        InstallOptions::Dialog "${CUST_INI}"<br />   pop $0<br />FunctionEnd<br /><br />Function func_pre<br />       ReadINIStr $0  "${CUST_INI}" "field 1" "state"<br />       ${If} $0 = 1<br />            !insertmacro UnselectSection ${sec1}<br />            SectionSetText ${sec1} ""<br />            !insertmacro SelectSection ${sec2}<br />            SectionSetText ${sec2} "${SEC2_TEXT}"<br />            !insertmacro SelectSection ${sec3}<br />            SectionSetText ${sec3} "${SEC3_TEXT}"<br />       ${ElseIf} $0 = 0<br />        ReadINIStr $1  "${CUST_INI}" "field 2" "state"<br />        ${AndIf} $1 = 1<br />            !insertmacro UnselectSection ${sec2}<br />            SectionSetText ${sec2} ""<br />            !insertmacro SelectSection ${sec1}<br />            SectionSetText ${sec1} "${SEC1_TEXT}"<br />            !insertmacro SelectSection ${sec3}<br />            SectionSetText ${sec3} "${SEC3_TEXT}"<br />       ${Else}<br />            !insertmacro UnselectSection ${sec3}<br />            SectionSetText ${sec3} ""<br />            !insertmacro SelectSection ${sec2}<br />            SectionSetText ${sec2} "${SEC2_TEXT}"<br />            !insertmacro SelectSection ${sec1}<br />            SectionSetText ${sec1} "${SEC1_TEXT}"<br />       ${EndIf}<br />FunctionEnd<br /><br />/*<br />Function func_pre<br />       GetDlgItem $R0 $HWNDPARENT 3<br />       EnableWindow $R0 0<br /><br />       ReadINIStr $0  "${CUST_INI}" "field 1" "state"<br />       ${If} $0 = 1<br />            !insertmacro UnselectSection ${sec1}<br />            SectionSetText ${sec1} ""<br />       ${ElseIf} $0 = 0<br />        ReadINIStr $1  "${CUST_INI}" "field 2" "state"<br />        ${AndIf} $1 = 1<br />            !insertmacro UnselectSection ${sec2}<br />            SectionSetText ${sec2} ""<br />       ${Else}<br />            !insertmacro UnselectSection ${sec3}<br />            SectionSetText ${sec3} ""<br />       ${EndIf}<br />FunctionEnd</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tmxk</span><br />
      <span class="post-time small text-muted">16th May 2008 20:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you very much, Red Wine. It works.<br />
      <br />
      Cheers!</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
