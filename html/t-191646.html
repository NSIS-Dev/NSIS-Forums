<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Create language file with user defined messages"><title>Create language file with user defined messages - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Create language file with user defined messages</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=191646">Create language file with user defined messages</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">VCR</span><br><span class="post-time small text-muted">28th August 2004 10:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Create language file with user defined messages</strong><br>Hi all,<br><br>As I want to create a installer with 15 languages support, and there are almost 100 user defined messages for each language. How do I create variables for these string and call themm appropriately in different languages.<br><br>I thought of creating my own .nlf file for each languages containing all the messages, but I don't know the predefined variable name to be used.<br><br>Thanks in advance.<br><br>Regards<br>VCR</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">razor_x</span><br><span class="post-time small text-muted">28th August 2004 10:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">if you are talking about "custom" strings ...then this is a HUGE undertaking as each string has to be defined seperately in each language,If you are talking about the MUI strings then there are .nsh files you can include.you will have to use langstring for each custom string like this...</p><pre>
<code>LangStringmessage</code><span style="color: #007700">${</span><span style="color: #0000BB">LANG_ENGLISH</span><span style="color: #007700">}</span><span style="color: #DD0000">"Englishmessage"
</span>
</pre></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">28th August 2004 11:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">See:<br><br><a href="http://nsis.sourceforge.net/archive/viewpage.php?pageid=120" target="_blank">http://nsis.sourceforge.net/archive/...php?pageid=120</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">VCR</span><br><span class="post-time small text-muted">28th August 2004 12:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for your help.<br>I need the "custom" strings support as each string has to be defined seperately in each language.<br>Can anyone tell me the complexity and tell me how can we do this?<br>Thanks again.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">razor_x</span><br><span class="post-time small text-muted">28th August 2004 14:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">look at langstring in the docs..and I hope you dont have alot of them you will have to convert all of them from english to all 15 languages.Each string :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">28th August 2004 14:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">In my program I use the a language system that the user can customize the language files as they wish, contributing to the project (like we do for NSIS). To work, this language system needs:<br><br><b>1) Language INI files</b>. Format:<br><br></p><pre>
<code>[Program Page or Section]<br>ValueName=Value</code>
</pre><b>2) Variable</b> to store what language file the user chose:<br>
      <br>
      <pre>
<code>Var LangFile</code>
</pre><b>3)</b> Multilanguage support <b>macros</b>:<br>
      <br>
      <pre>
<code># Multilanguage Support Macros<br><br>!define PageName '!insertmacro PageName'<br>!define ReadString '!insertmacro ReadString'<br><br>!macro PageName PAGE<br>  !ifdef PageName<br>    !undef PageName<br>  !endif<br>  !define PageName `${PAGE}`<br>!macroend<br><br>!macro ReadString OUTVAR NAME<br>  ReadINIStr ${OUTVAR} `$LangFile` `${PAGENAME}` `${NAME}`<br>!macroend</code>
</pre><b>4)</b> To create a <b>language selector</b> inside your program that changes the variable <i>$LangFile</i> when the user selects another language file.<br>
      <br>
      <b>5)</b> To <b>read a string</b> from the language selected file:<br>
      <br>
      - First, you need to define the page name or section of a part of your program using the macro:<br>
      <br>
      <pre>
<code>${PageName} "Program Page or Section"</code>
</pre>- Then to read from a value name of this page or section:<br>
      <br>
      <pre>
<code>${ReadString} $var "ValueName"</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">VCR</span><br>
      <span class="post-time small text-muted">30th August 2004 07:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for ur support.<br>
      Can u please give me one example source code.<br>
      <br>
      Lets suppose my custom string in english is<br>
      <br>
      RMV_STRING Remove Complete<br>
      RMV_STRING1 Remove in progress<br>
      ....<br>
      .....<br>
      ..... almost 100 messages<br>
      <br>
      and the corresponding string in French is as<br>
      <br>
      RMV_STRING Désinstallation terminée<br>
      ........<br>
      <br>
      like wise the string in 15 other languages are also available.<br>
      <br>
      Now as these are my custom messages, I want these to be displayed as a message box in the language, the user has choosen the language of installation.<br>
      <br>
      So can any one give me full guide for this.<br>
      <br>
      Thanks in advance<br>
      VCR</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
      <span class="post-time small text-muted">30th August 2004 13:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Generally when you get a string from an INI file, NSIS doesn't convert it to support $\t, $\r and $\n (you have the text but NSIS doesn't see the characters as escape characters). I'll create for you a code for this when I come back here. Or maybe someone wants to do it for me first...</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br>
      <span class="post-time small text-muted">30th August 2004 14:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">See my example (link below).</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">VCR</span><br>
      <span class="post-time small text-muted">30th August 2004 16:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for providing the sources. I wil go through it.<br>
      <br>
      Thanks and Regards<br>
      VCR</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>