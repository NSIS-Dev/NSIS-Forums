<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Reinstall section doubt" />

  <title>Reinstall section doubt - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Reinstall section doubt</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=300265">Reinstall section doubt</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">atrockz</span><br />
      <span class="post-time small text-muted">24th November 2008 09:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Reinstall section doubt</strong><br />
      Hi all,<br />
      I am a newbie. I am developing an installer and i have a doubt.<br />
      When someone tries to reinstall my installer, in my installer script how can i know that my installer is already being installed and someone is trying to reinstall it again ? Is there any facilities already available in NSIS or i have to do it myself by checking registery entry that i made, etc?<br />
      Sorry if this topic is already discuss in forum, i searched but i only got what to do while reinstalling.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">24th November 2008 11:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You may use InstallDirRegKey for this...<br />
      <br />
      <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.8.1.22" target="_blank">http://nsis.sourceforge.net/Docs/Chapter4.html#4.8.1.22</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">atrockz</span><br />
      <span class="post-time small text-muted">24th November 2008 12:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The problem is that, i am not making a registry key entry while installation because i don't want to touch registry.<br />
      So is there anyway that i can find out that my product is already installed without reading the registry ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comperio</span><br />
      <span class="post-time small text-muted">24th November 2008 15:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">All good windows applications are SUPPOSED to be registered under the windows add/remove programs section of the registry. But, if you're not using that, then I guess you'll either have to use your own data file (usually the local app data folder--$LOCALAPPDATA within NSIS) or look for something specific to your program (like maybe a file that your application installs.)<br />
      <br />
      My suggestion (if you aren't going to use the Windows add/remove programs control panel) would be to write an INI file of some type to somewhere under $LOCALAPPDATA during the initial installation. Include the version of the application too. This will allow a quick version check for future upgrade installs. (And don't forget to delete this file when you uninstall the app.)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">atrockz</span><br />
      <span class="post-time small text-muted">26th November 2008 06:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for the info. Either i have to make a registry entry or i have to store the information myself. I was thinking maybe there is some functionality in NSIS which tells that the particular installer is already installed or not.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">26th November 2008 16:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That is completely down to you. There is no install database like Windows Installer. You can store information in the registry or in INI files or just check if some files exist to determine if something is already installed.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">atrockz</span><br />
      <span class="post-time small text-muted">10th December 2008 09:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Can i directly call Uninstall section from .onInit Function? How do i do that? Actually i am checking if the product is already installed in .onInit Function and want to call Uninstall section if its already install. I tried with copying uninstall section code to .onInit Function and run it if the product is already install, in this case it uninstalls the product but it does not shows any screen(like screen with progress bar. please help...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">10th December 2008 17:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://nsis.sourceforge.net/Auto-uninstall_old_before_installing_new" target="_blank">http://nsis.sourceforge.net/Auto-uni...installing_new</a></p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
