<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="backgroundcolor in every Dialog"><title>backgroundcolor in every Dialog - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">backgroundcolor in every Dialog</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=303752">backgroundcolor in every Dialog</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Fred4711</span><br><span class="post-time small text-muted">4th March 2009 10:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>backgroundcolor in every Dialog</strong><br>hi,<br>sorry for the newbie question, but i want to set the backgroundcolor in every Dialog. and i cant do that.<br>I read the manuel and try this one<br><br>FindWindow $0 "#32770" "" $HWNDPARENT<br>GetDlgItem $0 $0 1006<br>SetCtlColors $0 0xFF0000 0x00FF00<br><br>in the oninit Sequence. But the Licence Page still the normal Windows Dialog Colors. I dont know howto use this.<br>Can Someone Help ? Or give me some example ?<br>Greets<br>Fred</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Animaether</span><br><span class="post-time small text-muted">4th March 2009 10:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">For any of the dialogs/controls that don't conform, adjust the colors separately. Note that, depending on the control, this could be quite a few :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Fred4711</span><br><span class="post-time small text-muted">4th March 2009 10:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Animaether</i><br><b>For any of the dialogs/controls that don't conform, adjust the colors separately. Note that, depending on the control, this could be quite a few :)</b></blockquote>So know i can change the Color from the Header with<br>!define MUI_BGCOLOR "FF0000"<br>in the Example to red. Thats great ( for me ! )<br>But know i down know how to set the Color of the Text from the header :-(<br>And i alsaw doesnt know how i can change the Body Background Color. At this Time i try to change the Color from the Licence Page.<br>I realy dont know how :-(</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Animaether</span><br><span class="post-time small text-muted">4th March 2009 12:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You mean for the EULA text itself?<br><br>If so - I'm afraid you may be SOL there (would have to review some plugins or so). The richedit control used doesn't respect background color codes in the RTF file you'd feed it (the colors come from the RTF, so you can't set it with SetCtlColors).<br><br>If you mean any of the other bits...<br></p><pre>
<code><br>!include "winmessages.nsh"<br>!include "MUI2.NSH"<br><br>BrandingText " "<br><br>!define MUI_LICENSEPAGE_TEXT_TOP "EULA Top Text"<br>!define MUI_LICENSEPAGE_TEXT_BOTTOM "EULA Bottom Text"<br>; !define MUI_LICENSEPAGE_CHECKBOX<br>; !define MUI_LICENSEPAGE_CHECKBOX_TEXT "EULA Checkbox"<br><br>!define MUI_LICENSEPAGE_RADIOBUTTONS<br>!define MUI_LICENSEPAGE_RADIOBUTTONS_TEXT_ACCEPT "EULA Accept"<br>!define MUI_LICENSEPAGE_RADIOBUTTONS_TEXT_DECLINE "EULA Decline"<br><br>!define MUI_PAGE_CUSTOMFUNCTION_PRE LicensePre<br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW LicenseShow<br>!insertmacro MUI_PAGE_LICENSE "eula.rtf"<br>; Page License LicensePre LicenseShow<br><br>Function LicensePre<br>        !insertmacro MUI_HEADER_TEXT "This is the title" "This is the subtitle"<br>FunctionEnd<br><br>Function LicenseShow<br>        SetCtlColors $HWNDPARENT 0x220000 0x000000  ; Main dialog<br><br>        FindWindow $1 "#32770" "" $HWNDPARENT       ; Inner dialog<br>        SetCtlColors $1 0x440000 0x220000<br><br>        GetDlgItem $0 $HWNDPARENT 0x40A             ; MUI2 header background<br>        SetCtlColors $0 0x660000 0x440000<br><br>        GetDlgItem $0 $HWNDPARENT 0x40D             ; MUI2 header title<br>        SetCtlColors $0 0x880000 0x660000<br><br>        GetDlgItem $0 $HWNDPARENT 0x40E             ; MUI2 header subtitle<br>        SetCtlColors $0 0xaa0000 0x880000<br><br>        GetDlgItem $0 $HWNDPARENT 0x4E8             ; Branding Text<br>        SendMessage $0 ${WM_SETTEXT} 0 "STR:Hello World"<br>        SetCtlColors $0 0xcc0000 0xaa0000<br><br>        GetDlgItem $0 $1 0x410             ; Text above eula<br>        SetCtlColors $0 0x008800 0x006600<br><br>        GetDlgItem $0 $1 0x3EE             ; Text below eula<br>        SetCtlColors $0 0x00aa00 0x008800<br><br>        GetDlgItem $0 $1 0x40A             ; Eula checkbox / Accept radiobutton<br>        SetCtlColors $0 0x00cc00 0x00aa00<br><br>        GetDlgItem $0 $1 0x40B             ; Eula Decline radiobutton<br>        SetCtlColors $0 0x00ee00 0x00cc00<br><br>        GetDlgItem $0 $1 0x3E8             ; Eula body; can't change colors, they're defined by the Rich Text content.<br>                                                                                ; Note that the control used ignores background colors specified in the RTF - sorry :\<br>                                                                                <br>        GetDlgItem $0 $HWNDPARENT 0x1   ; Close/Next Button<br>        EnableWindow $0 1<br>        SetCtlColors $0 0x0000aa 0x000088<br><br>        GetDlgItem $0 $HWNDPARENT 0x2   ; Cancel Button<br>        EnableWindow $0 1<br>        SetCtlColors $0 0x0000cc 0x0000aa<br><br>        GetDlgItem $0 $HWNDPARENT 0x3   ; Back Button<br>        SendMessage $0 ${WM_SETTEXT} 0 "STR: Back"<br>        ShowWindow $0 ${SW_SHOW}<br>        EnableWindow $0 1<br>        SetCtlColors $0 0x0000ee 0x0000cc<br>FunctionEnd<br><br>Outfile "test.exe"<br>Section<br>SectionEnd<br>!insertmacro MUI_LANGUAGE "English"<br></code>
</pre><br>
      <br>
      Note that with most windows styles, the button faces will mostly ignore the colors set (only the 'shaded' edges will get the colors).
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br>
      <span class="post-time small text-muted">4th March 2009 13:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">presumably this might help...<br>
      <a href="http://msdn.microsoft.com/en-us/library/bb774228" target="_blank">http://msdn.microsoft.com/en-us/library/bb774228</a>(VS.85).aspx<br>
      ...but I can't get it to work.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fred4711</span><br>
      <span class="post-time small text-muted">4th March 2009 13:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hi thanks !<br>
      I try it ...</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>