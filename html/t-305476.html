<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Best Way to rewrite the Dev-C++ installer?"><title>Best Way to rewrite the Dev-C++ installer? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Best Way to rewrite the Dev-C++ installer?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305476">Best Way to rewrite the Dev-C++ installer?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Panarchy</span><br><span class="post-time small text-muted">18th April 2009 05:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Best Way to rewrite the Dev-C++ installer?</strong><br>Hello<br><br>I am trying to make a new Dev-C++ package. The first new feature included will be updated MinGW. After that, other features can be added, but first I want to get everything working properly.<br><br>So here's what needs to be done;<br></p><ul><li>Install the program to the Program Files directory (user interaction here, so can change if wanted).<br><br>Install MinGW Libraries (this option can be deselected<br><br>Create file associations<br><br>Create uninstaller</li></ul>Here is my [incomplete] idea on the best style of writing this;<br><br><pre>
<code><br>!include MUI2.nsh<br><br>!define PRODUCT_NAME "Dev-C++" <br>!define PRODUCT_VERSION "5"<br><br>!insertmacro MUI_PAGE_WELCOME<br>!insertmacro MUI_PAGE_LICENSE license.txt<br>!insertmacro MUI_PAGE_INSTFILES<br>!insertmacro MUI_PAGE_FINISH<br><br>!insertmacro MUI_LANGUAGE English<br><br>  WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Dev-C++" "DisplayName" "${DISPLAY_NAME}"<br>  WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Dev-C++" "UninstallString" '"$INSTDIR\uninstall.exe"'<br>  WriteRegDWORD HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Dev-C++" "NoModify" 1<br>  WriteRegDWORD HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Dev-C++" "NoRepair" 1<br>  WriteUninstaller "$INSTDIR\uninstall.exe"<br><br>SubSectionEnd<br><br>BrandingText `Installer created by Chip D. Panarchy`<br><br>Section "MainSection" SEC01 <br>  SetOutPath "$INSTDIR" <br>  SetOverwrite ifnewer <br>  File "UNDEFINED" <br>  SetOutPath "$SYSDIR" <br>  SetOutPath "$SMPROGRAMS\Dev-C++\" <br>  CreateShortCut "$SMPROGRAMS\Dev-C++\Dev-C++.lnk" \<br>    "$PROGRAMFILES\Dev-C++\UNDEFINED" <br>SectionEnd <br></code>
</pre><br>
      <br>
      How is it so far?<br>
      <br>
      Also, File "UNDEFINED"... does that mean it will install all files from the directory I run the script?<br>
      <br>
      Please tell me the best way to rewrite the .nsi script.<br>
      <br>
      Thanks in advance,<br>
      <br>
      Panarchy<br>
      <br>
      PS: Instead of using the original .nsi included with Dev-C++ (source) I think it best to rewrite it. As it currently seems more complicated then it should be.<br>
      <br>
      Here is the original .nsi: pastebin.com/f6a705da9
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Panarchy</span><br>
      <span class="post-time small text-muted">9th May 2009 07:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Not to worry, found wxDev-C++, it's missing a few features, well not exactly missing, but replaced with wxWidgets equivalents, however it is still updated... so yeah.<br>
      <br>
      :eek:<br>
      <br>
      And not just MinGW (and wxWidgets) but it also has new icons! :cool:<br>
      <br>
      Panarchy<br>
      <br>
      :p</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>