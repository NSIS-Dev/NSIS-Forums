<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Using macro to define a custom Page" />

  <title>Using macro to define a custom Page - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Using macro to define a custom Page</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318444">Using macro to define a custom Page</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">isawen</span><br />
      <span class="post-time small text-muted">15th April 2010 21:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Using macro to define a custom Page</strong><br />
      First of all let me explain my idea (bad or good, we will see). I have a main script and a secondary script. The secondary script definies all the neccessary things for a custom page to be displayed (the create and leave callbacks and some aditional validations).<br />
      <br />
      I want to know if it's possible (or not) to define a macro that includes<br />
      <font color="red">Page custom MyCustomPageCreate MyCustomPageLeave</font><br />
      in order for me to use that macro in the main script. This is helpful for the main script usage that doesn't needs to be updated in case when inside the second script I will like to include other pages.<br />
      <br />
      I've searched about macro definitions but I didn't see something that involves pages.<br />
      <br />
      My quess was:<br />
      <font color="red">!macro MY_CUSTOM_PAGE<br />
      PageEx custom<br />
      PageCallbacks MyCustomPageCreate MyCustomPageLeave<br />
      PageExEnd<br />
      !macroend</font><br />
      <br />
      and it's usage in the main script could be like:<br />
      <font color="red"><br />
      !include "SecondScript.nsh"<br />
      ...<br />
      !insertmacro MUI_PAGE_WELCOME<br />
      !insertmacro MY_CUSTOM_PAGE<br />
      !insertmacro MUI_PAGE_INSTFILES<br />
      ...</font><br />
      <br />
      Thank in advance for those who will keep me on the good track<br />
      /isawen</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">isawen</span><br />
      <span class="post-time small text-muted">15th April 2010 22:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>It's working !</strong><br />
      Yes, it works ...<br />
      <br />
      On my side the problem was that the compiler displayed me a strange error after I have definied the macro for the custom Page. I've successfully manage to find the error and now it works.<br />
      <br />
      /isawen</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
