<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Compile install script inside another installer" />

  <title>Compile install script inside another installer - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Compile install script inside another installer</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290222">Compile install script inside another installer</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bowlermonk</span><br />
      <span class="post-time small text-muted">14th April 2008 18:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Compile install script inside another installer</strong><br />
      I have a client/server product I am trying to generate installers for. I would like to be able to do one of two things:<br />
      <br />
      1. Have the server installer compile the client installer during installation. The user would select some options, click Install, and during the server installation it would use those options to build the client installer. The key to this is to not need NSIS installed at any location we try to install the server.<br />
      <br />
      2. Be able to update an existing NSIS *.EXE package once it has been created. The server would perform as before, though it would have a pre-compiled client package. It would edit values in that package and write it to disk.<br />
      <br />
      If anyone has another idea, I am open to suggestions.<br />
      <br />
      Thanks</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AaronLS</span><br />
      <span class="post-time small text-muted">14th April 2008 22:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am not familiar enough with NSIS compiler to know what all you would need to include to do on the fly compiles without actually installer NSIS. However, it sounds like you needed something similar to what I needed. We have many sites who each have a server and many clients. Each client has certain settings and files which make it aware of the server and further customize the client for that site. I use a modification of the "Update an existing INI file with values from an updated INI file" from the nsis wiki:<br />
      <a href="http://nsis.sourceforge.net/Update_an_existing_INI_file_with_values_from_an_updated_INI_file" target="_blank">http://nsis.sourceforge.net/Update_a...dated_INI_file</a><br />
      <br />
      Even if you are not using ini files in your application, if your goal is to customize what components get installed by the client and include connection information or anything settings like that. You could have your server installer simply write that all out to ini files which go in the $EXEDIR\Custimizations\ directory of the premade client installer. The client isntaller would be designed to check that directory for certain ini files and read them to determine how it should behave.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
