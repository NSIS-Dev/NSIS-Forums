<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Modifying a bat file" />

  <title>Modifying a bat file - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Modifying a bat file</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=238297">Modifying a bat file</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sam20_78</span><br />
      <span class="post-time small text-muted">17th February 2006 15:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Modifying a bat file</strong><br />
      Hey Guys,<br />
      <br />
      This is what I plan to do. We have a product which is already installed on the client machines. Its a java based client which runs through a bat file. now We need to send more updates to the Clients and We also need to make the changes in the bat file that is used to run the client program. I want to add REM in front of few lines and at the end of bat file i want to add few lines.<br />
      <br />
      Now my question is how to achive this. I've seen various functions which will replace the text in a bat file. Can anyone please tell me how should i proceed.<br />
      <br />
      Any help would be highly appreciated.<br />
      <br />
      Thanks in advance.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sam20_78</span><br />
      <span class="post-time small text-muted">17th February 2006 16:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No response :(<br />
      <br />
      i'm able to add the REM comments in the bat file using one of the functions that i found here<br />
      <a href="http://nsis.sourceforge.net/More_advanced_replace_text_in_file" target="_blank">http://nsis.sourceforge.net/More_adv...e_text_in_file</a><br />
      <br />
      now my question is how do i add some text at the end of the bat file. please help me.<br />
      <br />
      Thanks in advance.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dienjd</span><br />
      <span class="post-time small text-muted">17th February 2006 16:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This covers it:<br />
      <a href="http://forums.winamp.com/showthread.php?postid=1749639#post1749639" target="_blank">http://forums.winamp.com/showthread....39#post1749639</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sam20_78</span><br />
      <span class="post-time small text-muted">17th February 2006 17:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">dienjd,<br />
      <br />
      Thanks a lot for showing me the way to do it.<br />
      <br />
      Following code worked like a charm.<br />
      <br />
      FileOpen $0 "path\to\file.txt" a<br />
      FileSeek $0 0 END<br />
      FileWrite $0 $1<br />
      FileClose $0<br />
      <br />
      One more question. above code all adds the to a single line(i'm writing multiple lines using the File write.<br />
      <br />
      it starts writing where the line ends not from the newline how do i write to the newline. Sorry if you find this a dumb question. i'm totally new to NSIS and have started playing with only yesterday.<br />
      <br />
      Thanks again for you help</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dienjd</span><br />
      <span class="post-time small text-muted">17th February 2006 17:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I was just the messenger on that one; it was Afrow_UK's code :)<br />
      <br />
      To create a new line put a "$\r$\n" before each new line of text you want in your file.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sam20_78</span><br />
      <span class="post-time small text-muted">17th February 2006 17:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks a lot man. You saved my day. Appreciate your help :)</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
