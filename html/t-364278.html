<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="AccessControl: inheritance of permissions" />

  <title>AccessControl: inheritance of permissions - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">AccessControl: inheritance of permissions</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=364278">AccessControl: inheritance of permissions</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sazonov</span><br />
      <span class="post-time small text-muted">19th June 2013 15:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>AccessControl: inheritance of permissions</strong><br />
      Dear NSIS users, during my installation to the root directory I need to create several folders, copu files there and set full access to all child objects (subdirectories, folders, files and so on) of the root folder. I supposed "AccessControl plugin" could help me and decided to solve this task next way. I set "full access to the root directory" calling "AccessControl::GrantOnFile "$INSTDIR" "(S-1-5-32-545)" "FullAccess"". Then try to inherit properties implementing "AccessControl::EnableFileInheritance "$INSTDIR"". As result I saw that the root directory and new file objects had "full access" but ones that had existed before the installation had no changes in their permission. My OS Win 7 x 64. Of course I can do it manually but I would like installation process does it. Will be glad to see your opinions. Dmitriy.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">demiller9</span><br />
      <span class="post-time small text-muted">19th June 2013 19:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Wow! That sounds really unsafe. Do your users know that you are (trying to) enable full write and delete access to everything on their drive? Any passing malware could find an easy home there.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">19th June 2013 20:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">demiller9 is correct, you are not supposed to allow everyone to write to files in $programfiles. If you need write access to some kind of base/template files you should copy them from the shared location into appdata/localappdata when your application runs for the first time.<br />
      <br />
      A middle ground is using all users appdata for these files but you really should think about what happens when different users on the same machine runs your app (and even multiple users running it at the same time)...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sazonov</span><br />
      <span class="post-time small text-muted">19th June 2013 21:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok. For exmple, I have the next "C:\MyCompanyName\RootFolder". All installation is realised in "RootFolder" and I want make full accses to all childs objects of only "RootFolder", not for "C:\ProgramFiles" or even for "C:\MyCompanyName". I know it is not safe way, but now it is the only way to avoid a software modification.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
