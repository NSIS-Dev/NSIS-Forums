<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Whole game setup (w00t)"><title>Whole game setup (w00t) - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Whole game setup (w00t)</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248323">Whole game setup (w00t)</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">DarK_TaO</span><br><span class="post-time small text-muted">10th June 2006 00:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Whole game setup (w00t)</strong><br>Hi, well I'm new here, as in forums, as in NSIS =P.<br><br>So let me tell you wat's up: I'm trying to make a game Setup.<br><br>It has a lot of files and the Spanish tutorials that I read, only explain how to add the files manualy (File *.ext).<br><br>Is there, anyway to add all files in a directory and sub directories ?<br><br>Other question.<br><br>REgistry stuff.<br><br>LEt's say I want to add this to the windows registry:<br></p><pre>
<code>[HKEY_CURRENT_USER\Software\Valve\Half-Life\Settings]<br>"io"="1148601249"<br>"DELV"=dword:00000002<br>"EngineDLL"="hw.dll"<br>"User Token 2"=""<br>"User Token 3"=""<br>"ScreenWindowed"=dword:00000000<br>"CrashInitializingVideoMode"=dword:00000000<br>"ScreenWidth"=dword:00000400<br>"ScreenHeight"=dword:00000300<br>"ScreenBPP"=dword:00000010<br>"EngineD3D"=dword:00000000<br></code>
</pre><br>
      <br>
      How do I do that,(Just one key example :P) and How do I do to read current values if already installed?<br>
      <br>
      Thanx, I'm just asking because I'ts really hard for me to read english tutorials, and spanish ones are useless (could'nt find anithyng about registry or what I've asked).<br>
      <br>
      If someone is experienced and would like to give me some help by MSN, plz send me an PM with email =).<br>
      <br>
      Thanx, sorry if I to n00b :P, hehe.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">10th June 2006 01:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you see <b>File</b> instruction at the help system, you notice some flag called <i>wildcard</i>.<br>
      <br>
      Good luck! :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mr Inches</span><br>
      <span class="post-time small text-muted">10th June 2006 09:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">From the help files:<br>
      <br>
      1) Use File File*.ext <b>/r</b> to (r)ecurse through subdirectories.<br>
      Look up the File command in the help for more information.<br>
      <br>
      2) Use WriteRegDWord or WriteRegStr to add items to the registry. Look in the help under these items for more information.<br>
      <br>
      Hope this helps.<br>
      <br>
      Duncan</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DarK_TaO</span><br>
      <span class="post-time small text-muted">11th June 2006 00:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thnx, it was hard for me to understand the helpfile, but i finaly got it, thanks for your guide =).<br>
      <br>
      Ok so the installer is ALMOST ready, i have a problem with a registry key.<br>
      <br>
      I'll put it just like windows shows it.<br>
      <br>
      I have spanish windows, so maybe a translation is not good<br>
      <br>
      "name" "tipe" "data(?)"<br>
      <br>
      "EngineDLL" "REG_SZ" "hw.dll"<br>
      <br>
      How do I add that info?. DWORD command worked just fine. but I still can't add that one. =(<br>
      <br>
      I tried:<br>
      <br>
      WriteRegStr HKCU Software\blah\" "ENGINEDLL" "hw.dll"<br>
      <br>
      and<br>
      <br>
      WriteRegStr HKCU Software\blah\" "hw.dll" "ENGINEDLL"<br>
      <br>
      This is what i Have until Now:<br>
      <br></p>
      <pre>
<code>/* Script Hecho por ^DarK_TaO^<br>*<br>* Enjoy!<br>*<br>* Instalador TFC 1.6 Full v23B<br>*<br>*Tipica manera de iniciar una seccion<br>*<br>*;Seccion "Nombre de comentario" (Dejar un ; adelante)<br>*<br>*Section "Nombre de la seccion"<br>*<br>* File archivo.ext<br>*<br>*SectionEnd<br>*/<br>#<br>;//////////////////////////////////////////////////////<br>;*********************** General **********************<br>;<br>;Version<br>!define VERSION "1.0"<br><br><br>;Nombre del Programa<br><br>Name "TFC 1.6 Half-Life 1.6 V23B Nosteam"<br><br><br>;Nombre del archivo<br><br>OutFile "TFC Full.exe"<br><br><br>;Directorio por defecto<br><br>InstallDir C:\Valve<br><br><br>;Texto que se muestra<br><br>DirText "Por favor elegi donde queres instalar todo."<br><br><br>;Icono del Instalador<br><br>Icon "tf.ico"<br><br><br>;Buscar mejor Compresion Automaticamente<br><br>SetCompress Auto<br><br><br>;Guardar Archivos Temporales<br><br>SetDateSave On<br><br><br>;Optimizar archivos Automaticamente<br><br>SetDataBlockOptimize On<br><br><br>;Mostrar Detalles del instalador automaticamente (Letras verdes)<br><br>ShowInstDetails show<br><br><br>;Archivo de licencia<br><br>LicenseData "Lic.txt"<br><br>;******************************************************<br>;//////////////////////////////////////////////////////<br>;*********************** Desinstalar ******************<br>;<br>Section "Uninstall"<br>;<br>  Delete $INSTDIR\Uninst.exe<br>  Delete $INSTDIR\HL.exe<br>  Delete $INSTDIR\HLDS.exe<br>  Delete $INSTDIR\HLTV.exe<br>  RMDir $INSTDIR<br>;<br>SectionEnd<br>;<br>;******************************************************<br>;//////////////////////////////////////////////////////<br>;*********************** Paginas **********************<br>;<br>Page license<br>Page components<br>Page directory<br>Page instfiles<br>UninstPage uninstConfirm<br>UninstPage instfiles<br>;<br>;******************************************************<br>;//////////////////////////////////////////////////////<br>;*********Seccion DLLS de la carpeta principal*********<br>;<br>Section "Registro de Windows"<br>;<br>WriteRegDWORD   HKCU "Software\Valve\Half-Life\Settings"      "DELV"                        0x00000002<br>WriteRegDWORD   HKCU "Software\Valve\Half-Life\Settings"      "ENGINED3D"           0x00000000<br>WriteRegDWORD   HKCU "Software\Valve\Half-Life\Settings"      "ScreenBPP"           0x00000016<br>WriteRegDWORD   HKCU "Software\Valve\Half-Life\Settings"      "ScreenHeight"                0x00000300<br>WriteRegDWORD   HKCU "Software\Valve\Half-Life\Settings"      "ScreenWidth"                 0x00000400<br>WriteRegDWORD   HKCU "Software\Valve\Half-Life\Settings"      "ScreenWindowed"      0x00000000<br>SectionEnd<br>;<br>Section "Engine Principal"<br>;<br> SetOutPath $INSTDIR<br>;<br><br>  File a3dapi.dll<br>  File Core.dll<br>  File dbg.dll<br>  File DemoPlayer.dll<br>  File FileSystem_Stdio.dll<br>  File FileSystem_Steam.dll<br>  File hw.dll<br>  File Mss32.dll<br>  File Steam.dll<br>  File proxy.dll<br>  File steamclient.dll<br>  File sw.dll<br>  File swds.dll<br>  File tier0_s.dll<br>  File vgui2.dll<br>  File vgui.dll<br>  File voice_miles.dll<br>  File voice_speex.dll<br>  File vstdlib_s.dll<br>;<br>;********Carpeta principal********<br>;<br>  File hl.exe<br>  File hlds.exe<br>  File hltv.exe<br>  File Mp3dec.asi<br>  File Mssv12.asi<br>  File Mssv29.asi<br>  File InstallRecord.blob<br>  File hltv.cfg<br>  File kver.kp<br>  File hlds_steamgames.vdf<br>  File language.inf<br>;<br>;********GLDRV********<br>;<br> SetOutPath $INSTDIR\gldrv<br>;<br><br>  File gldrv\3dfxgl.dll<br>  File gldrv\drvmap.txt<br>;<br>SectionEnd<br><br>;Carpeta "Plataform"<br>;<br>Section "Plataforma"<br>;<br>;------------plataform------------<br>;<br>  SetOutPath $INSTDIR\platform<br>;<br> File /r platform\*.*<br>;<br>;------------reslists------------<br>;<br>  SetOutPath $INSTDIR\reslists<br>;<br> File /r reslists\*.*<br>;<br>SectionEnd<br>;<br>;------------tfc------------<br>;Carpeta "tfc"<br>;<br>Section "TFC"<br>;<br>  SetOutPath $INSTDIR\tfc<br>;<br> File /r tfc\*.*<br>;<br>SectionEnd<br><br>;Carpeta "valve"<br>;<br>Section "Half-Life"<br>;<br>;------------valve------------<br>;<br>  SetOutPath $INSTDIR\valve<br>;<br> File /r valve\*.*<br>;<br>SectionEnd</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">11th June 2006 09:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">WriteRegStr HKCU "Software\blah" "ENGINEDLL" "hw.dll"<br>
      <br>
      I'm not sure if that was the exact code you posted, but you were missing a quote (").<br>
      <br>
      -Stu</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>