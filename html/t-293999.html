<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to speed up writing data to ini (or how to read/write from memory)"><title>How to speed up writing data to ini (or how to read/write from memory) - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to speed up writing data to ini (or how to read/write from memory)</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=293999">How to speed up writing data to ini (or how to read/write from memory)</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Pawel</span><br><span class="post-time small text-muted">4th July 2008 21:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to speed up writing data to ini (or how to read/write from memory)</strong><br>Hello,<br>I am using in my NSIS script a custom pages created using InstallOptions plugin.<br>Before the custom page is created and displayed I write to ini file some information, that this page using to display. There is one problem with it. Speed.<br>One of my pages have a treeview component, that have a lot of items (about 700). I use languages in installer. So, to create a page I have to write to ini some informations depending on choosed interface language.<br>Writing this values to ini tooks to long. Is there any way to speed it up? (I use ReserveFile).<br>Is there any possibility to write data to memory? And then read it from there? Is there any plugin that<br>can do it for me? (I mean a lot of text, ini file structure in memory).<br>Thanks,<br>-Pawel</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sheik</span><br><span class="post-time small text-muted">4th July 2008 22:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you are up to it, switch to nsDialogs instead of InstallOptions.<br>It speeds complex dialogs up immensely.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pawel</span><br><span class="post-time small text-muted">5th July 2008 14:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Sheik</i><br><b>If you are up to it, switch to nsDialogs instead of InstallOptions.<br>It speeds complex dialogs up immensely.</b></blockquote>Thanks, I am sure nsDialogs are much faster, but I have to store the data in some place. As I understand nsdialogs lets creating pages, but cant store for example items of treeview.<br>To do it, I need to write/read from file with data (treeview is created by my own plugin) - and it is to slow.<br>So, this is why I am thinking to use memory instead of ini files. But, how can I write to memory large blocks of data (with ini structure) and then read from there by plugin (and vice versa)... Don't know is it possibly.<br>Regards,<br>-Pawel</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br><span class="post-time small text-muted">5th July 2008 15:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can either store the items on the stack (makes it easy to access the items in your plugin) or you could use the NSISArray plugin to store them in an array...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br><span class="post-time small text-muted">13th July 2008 17:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by PepeSoft</i><br><b>So, this is why I am thinking to use memory instead of ini files. But, how can I write to memory large blocks of data (with ini structure) and then read from there by plugin (and vice versa)... Don't know is it possibly.</b></blockquote>You could try my NSISList plugin now to store the items:<br><a href="http://nsis.sourceforge.net/NSISList_plug-in" target="_blank">http://nsis.sourceforge.net/NSISList_plug-in</a><br><br>My test has shown that you can create 100 lists and add 10.000 strings to each list without problem. So you can store 1 million strings (maybe even more) entirely in memory with that plugin. I guess that should be enough for your tree view...</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pawel</span><br><span class="post-time small text-muted">13th July 2008 17:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by LoRd_MuldeR</i><br><b>You could try my NSISList plugin now to store the items:<br><a href="http://nsis.sourceforge.net/NSISList_plug-in" target="_blank">http://nsis.sourceforge.net/NSISList_plug-in</a><br></b></blockquote>Thanks, i will try this. For now, I am trying to work with NSISarray by Stu.<br>Regards</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>