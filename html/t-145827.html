<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Variables" />

  <title>Variables - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Variables</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=145827">Variables</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zip_doo_dah</span><br />
      <span class="post-time small text-muted">14th August 2003 23:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Variables</strong><br />
      Hey everyone.<br />
      Just curious if the only allowed variables are $R0 - $R9 and $0 - $9. Is this correct? If it is, why can't we have more variables to use. I have some complicated logic that requires a few more variables. Thanks for your help.<br />
      -Justin</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">14th August 2003 23:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The latest development version supports user variables, so you can use as much variables as you want (declared with the Var command). For details see <a href="http://nsis.sf.net" target="_blank">http://nsis.sf.net</a>.<br />
      <br />
      There is also the possibility to use the stack.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">15th August 2003 00:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Allowed variables are: $0 - $9, $R0 - $R9, $EXEDIR, $INSTDIR, $LANGUAGE, $OUTDIR ,$CMDLINE, and user variables declared with the Var command.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zip_doo_dah</span><br />
      <span class="post-time small text-muted">15th August 2003 00:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">SWEET!!! Excellent addition to the installer and perfect timing in my case. Thanks a million!<br />
      -Justin</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dabossuk</span><br />
      <span class="post-time small text-muted">15th August 2003 11:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi<br />
      <br />
      Having variables is a GREAT new feature :-) ...<br />
      <br />
      is there any reason why you would still need to use Push, Pop etc anymore ? uhm typing being using brian! ... I assume if you want to take add two Var's together MyValue+MyValue2 you could not do this - so you would need to use the stack ? Is the plan to add extra functions to now deal with the new variables ?<br />
      <br />
      Dabossuk</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th August 2003 11:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Using the stack is still recommended for functions because functions can have conflicting variable names. It's also good practice in general to not waste too much memory and find better algorithms that manage with a minimum amount of memory.<br />
      <br />
      Adding two variables is possible. What new functions are you talking about? StrCpy, IntOp, StrLen and every other instruction already works with user variables.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">15th August 2003 12:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Using registers ($0-$9, $R0-$R9) is especially recommended for shared functions and functions that will be distributed (like NSIS Archive code). This will prevent any naming conflicts and save memory.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zip_doo_dah</span><br />
      <span class="post-time small text-muted">20th August 2003 15:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Wow, I feel pretty stupid. I want to update my nsis install so that I can declare variables with the var command, but my ignorance seems to be blocking my progress. How do I update my nsis to get this to work? I have nsis2.0b3 installed.<br />
      <br />
      - Justin</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zip_doo_dah</span><br />
      <span class="post-time small text-muted">20th August 2003 15:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">forget it. i think i may have figured it out. thanks anyway.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dabossuk</span><br />
      <span class="post-time small text-muted">20th August 2003 15:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hey a question I can answer ;-)<br />
      <br />
      You need NSIS 2 B4 - which for some reason has not been "offically" released yet - but we are now using.<br />
      <br />
      You can get from - the nightly build of NSIS -http://nsis.sourceforge.net/nightly/nsis.zip just unzip over the top of your NSISB3 install.<br />
      <br />
      Be warned though thath the ModernUI has been changed - so read my posts I made with this problem - the others helped me fix it ;-)<br />
      <br />
      Hope that helps ....</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">20th August 2003 15:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I try not to use custom variables, because it uses up more memory on run-time.<br />
      <br />
      I use defines instead like so:<br />
      <br />
      !define ${VAR1} $0<br />
      !define ${INSTDIR2} $1<br />
      <br />
      Function blah<br />
      ReadRegStr ${VAR1} HKLM "Software\Quake II" "Install Location"<br />
      StrCpy ${INSTDIR2} ${VAR1}<br />
      FunctionEnd<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
