<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="MySQL installation"><title>MySQL installation - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">MySQL installation</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=236913">MySQL installation</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">tulp</span><br><span class="post-time small text-muted">1st February 2006 11:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>MySQL installation</strong><br>Hallo,<br><br>I want to make an installation script for MySQL. I use the MySQL noinstall package.<br>What should I have to do, I read the documtentation, but can't find any info about it.<br><br>Kind Regards<br>Tulp</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">3rd February 2006 10:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You should read MySQL's documentation which should explain what goes where. Then, if you have any specific questions about certain steps in the installation which you can't figure out how to perform in NSIS, ask.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">linuxamp2</span><br><span class="post-time small text-muted">24th November 2006 11:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Starting MySQL</strong><br>I'm also having problems installing MySQL. Actually, more like starting mysql during the install.<br>I downloaded the mysql binaries without installer from the website. By command line the following works fine.<br></p><pre>
<code>mysqld-nt.exe --install --defaults-file="&lt;path to my.ini&gt;"<br>net start mysql</code>
</pre><br>
      I tried
      <pre>
<code>ExecWait "mysqld-nt.exe --install --defaults-file=$\"&lt;path to my.ini&gt;$\""<br>ExecWait "net start mysql" </code>
</pre>and
      <pre>
<code>ExecWait "$SYSDIR\net.exe start mysql"</code>
</pre>but neither work.<br>
      If I run
      <pre>
<code>net start mysql</code>
</pre>by cmd after the install it starts fine.<br>
      I also tried nsSCM<br>
      <pre>
<code>nsSCM::Install /NOUNLOAD "MySQL" "MySQL" 16 2 \<br>                        "$INSTDIR\mysql\bin\mysqld-nt.exe --defaults-file=$INSTDIR\mysql\my.ini MySQL" "" "" "" ""<br>                Pop $0 ; return error/success</code>
</pre><br>
      which works then<br>
      <pre>
<code>nsSCM::Start /NOUNLOAD "MySQL"<br>Pop $0 ; return error/success<br>MessageBox MB_OK "start mysql is $0"</code>
</pre>which returns success but the service is not actually running.<br>
      I also tried to query the service using<br>
      <pre>
<code>nsSCM::QueryStatus "MySQL"<br>                Pop $0<br>                Pop $1<br>                MessageBox MB_OK "mysql status is 0 is $0 1 is $1"</code>
</pre>which says $1 is 1. If I comment out the Start line, $1 is -55xxx so it THINKS it's running.<br>
      <br>
      Any suggestions anyone?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">24th November 2006 11:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ExecWait probably doesn't find mysqld.nt.exe. Specify a full path with ExecWait.</p>
      <pre>
<code>ExecWait '"$INSTDIR\mysqld-nt.exe" --install --def...'</code>
</pre>And then start it with nsSCM or any other method.
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>