<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Could i compile an .nsi-file in runtime" />

  <title>Could i compile an .nsi-file in runtime - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Could i compile an .nsi-file in runtime</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=184862">Could i compile an .nsi-file in runtime</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wolf67</span><br />
      <span class="post-time small text-muted">28th June 2004 07:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Could i compile an .nsi-file in runtime</strong><br />
      My thougt is this. I want to compile and create an istallation file from an nsi-file. And i want to start all of that from an C# application and on every time I want to include a new ini-file in the compilation. Is there any way to do this?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wolf67</span><br />
      <span class="post-time small text-muted">28th June 2004 11:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>More questions</strong><br />
      When i compile whith "makensis" i want to set different output library for the installation file and a filepath to an .ini-file in the command line. Could i do that and how to take care of it in my .nsi-file?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br />
      <span class="post-time small text-muted">28th June 2004 13:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I did something similar. The way I set up my build environment allows me to have an nsis make file which builds nsis installers based on information in ini files. You can find an example of my build environment via this <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=181480&amp;highlight=multilingual" target="_blank">thread</a>.<br />
      <br />
      Cheers!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wolf67</span><br />
      <span class="post-time small text-muted">28th June 2004 14:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am new on this, Could you help me a little bit? I have tried to:<br /></p>
      <pre>
<span style="color: #007700">!</span><span style="color: #0000BB">defineFile
<br /></span>

<!-- php buffer end -->
                
                
                
</pre>
      <hr />
      <pre>
        
in my .nsi-file and in makensis<br />        
</pre>
      <pre>
<code>makensis</code><span style="color: #007700">/</span><span style="color: #0000BB">V4</span><span style="color: #007700">/</span><span style="color: #0000BB">Olog</span><span style="color: #007700">.</span><span style="color: #0000BB">txt</span><span style="color: #007700">/</span><span style="color: #0000BB">DFile</span><span style="color: #007700">=</span><span style="color: #0000BB">aku</span><span style="color: #007700">.</span><span style="color: #0000BB">iniaku5</span><span style="color: #007700">.</span><span style="color: #0000BB">nsi
<br /></span>
</pre>
      <pre>

        
and i get the follow error "!define: "File" already defined!". My thougt is this. Every instance of the setup.exe should contain a unique version of the ini-file because i have a serialnumber in it which is unique for every setup.exe. Could i declare a file path to the ini-file and send it in the makensis command and take care of it in the .nsi-file?<br /><br /><br />Sorry for my bad english
                
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br />
      <span class="post-time small text-muted">28th June 2004 15:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well to start off "File" is a reserved word. Try:<br />
      <br /></p>
      <pre>
<span style="color: #007700">!</span><span style="color: #0000BB">defineMyFile
<br /></span>
</pre>or:<br />
      <br />
      <pre>
<code>makensis</code><span style="color: #007700">/</span><span style="color: #0000BB">V4</span><span style="color: #007700">/</span><span style="color: #0000BB">Olog</span><span style="color: #007700">.</span><span style="color: #0000BB">txt</span><span style="color: #007700">/</span><span style="color: #0000BB">DMyFile</span><span style="color: #007700">=</span><span style="color: #0000BB">aku</span><span style="color: #007700">.</span><span style="color: #0000BB">iniaku5</span><span style="color: #007700">.</span><span style="color: #0000BB">nsi
<br /></span>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wolf67</span><br />
      <span class="post-time small text-muted">29th June 2004 07:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">PHP Code:</p>
      <hr />
      <code style="white-space:nowrap"><!-- php buffer start --></code><span style="color: #000000"><span style="color: #DD0000">"makensis/V4/Olog.txt/DMyFile=C:\Program\NSIS\aku.iniaku5.nsi"</span><span style="color: #007700">;</span> this works a bit on the way, How should i take care of it in my .nsi-file? I tried</span>
      <pre>
<code>File</code><span style="color: #DD0000">"MyFile"
</span>
</pre>and
      <pre>
<code>File</code><span style="color: #007700">/</span><span style="color: #0000BB">nonfatal</span><span style="color: #007700">/</span><span style="color: #0000BB">a</span><span style="color: #007700">/</span><span style="color: #0000BB">r</span><span style="color: #DD0000">"MyFile"
</span>
</pre>but i doesnt work:confused:<br />
      <br />
      This displays in the log file for .nsi<br />
      <pre>
<code>Commandlinedefined</code><span style="color: #007700">:</span><span style="color: #DD0000">"MyFile=C:\Program\NSIS\aku.ini"
</span>
</pre>and this<br />
      <pre>
<code>File</code><span style="color: #007700">:</span><span style="color: #DD0000">"MyFile"</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nofilesfound</span><span style="color: #007700">.
</span>
</pre>It should contain the file path so the script knows where to find the .ini-file.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br />
      <span class="post-time small text-muted">29th June 2004 13:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Change:<br /></p>
      <pre>
<code>File</code><span style="color: #007700">/</span><span style="color: #0000BB">nonfatal</span><span style="color: #007700">/</span><span style="color: #0000BB">a</span><span style="color: #007700">/</span><span style="color: #0000BB">r</span><span style="color: #DD0000">"MyFile"
</span>
</pre>to:<br />
      <pre>
<code>File</code><span style="color: #007700">/</span><span style="color: #0000BB">nonfatal</span><span style="color: #007700">/</span><span style="color: #0000BB">a</span><span style="color: #007700">/</span><span style="color: #0000BB">r</span><span style="color: #DD0000">"$MYFILE"
</span>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wolf67</span><br />
      <span class="post-time small text-muted">29th June 2004 14:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Still not working<br /></p>
      <pre>
<code>File</code><span style="color: #007700">:</span><span style="color: #DD0000">"$MYFILE"</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nofilesfound</span><span style="color: #007700">.
</span>
</pre>This drive me crasy i think.<br />
      <br />
      This is how the section looks like:<br />
      Section "MainSection" SEC01<br />
      SetOutPath "$INSTDIR"<br />
      SetOverwrite ifnewer<br />
      ;File "aku.ini"<br />
      File "C:\Akupunktör_klient\Akup.exe"<br />
      CreateDirectory "$SMPROGRAMS\Akupunktör"<br />
      CreateShortCut "$SMPROGRAMS\Akupunktör\Akupunktör.lnk" "$INSTDIR\Akup.exe"<br />
      CreateShortCut "$DESKTOP\Akupunktör.lnk" "$INSTDIR\Akup.exe"<br />
      File "..\..\..\..\Webbserver\ApacheGroup\Apache2\htdocs\Akutest\reg2.php"<br />
      File "..\..\..\..\Webbserver\ApacheGroup\Apache2\htdocs\Akutest\index3.php"<br />
      File "..\..\..\..\Webbserver\ApacheGroup\Apache2\htdocs\Akutest\verreg.php"<br />
      File "..\..\..\..\Webbserver\ApacheGroup\Apache2\htdocs\Akutest\valkomna2.php"<br />
      File /nonfatal /a /r "$MYFILE"<br />
      SectionEnd<br />
      <br />
      any ideas?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br />
      <span class="post-time small text-muted">29th June 2004 14:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">haha, my fault, I forgot the braces.<br />
      <br />
      File /nonfatal /a /r "${MYFILE}"<br />
      <br />
      <br />
      That should do it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wolf67</span><br />
      <span class="post-time small text-muted">29th June 2004 14:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Now it´s work!!!!!!!<br />
      <br />
      Thanks a lot for the help :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zimsms</span><br />
      <span class="post-time small text-muted">29th June 2004 14:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Your quite welcome.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
