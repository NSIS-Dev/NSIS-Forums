<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to create an NSIS Software Updater"><title>How to create an NSIS Software Updater - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to create an NSIS Software Updater</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305540">How to create an NSIS Software Updater</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">bedbuffer</span><br><span class="post-time small text-muted">20th April 2009 06:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to create an NSIS Software Updater</strong><br>Hi All,<br><br>I'm new to NSIS. I just finished creating an installer that works perfectly with Vista and XP. It sets the installation folder depending on the level of priviledge the user has (admin, user, etc...) and it also bypasses the UAC prompt in Vista.<br><br>My other problem though is creating a software updater. I've checked the forums and a lot of guys out there are looking for one good example, which unfortunately I think, there isn't any yet.<br><br>I've read the user guide and have run some of the examples, using the SilentInstall and the /s switch but I can't figure how all works in real world.<br><br>I understand the concept how an updater should work, but I wanna know how it's done. Could anyone please tell me how it's done in NSIS step by step? an updater that silently installs...<br><br>Thanks...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">21st April 2009 02:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Updater via web or desktop application?<br><br>Is very easy:<br>1.- Locate the old app (registry, ini entry, by the user)<br>2.- Replace with new files, delete old stuff.<br>3.- Write things back with the new stuff.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">bedbuffer</span><br><span class="post-time small text-muted">21st April 2009 04:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Via desktop application.<br>Let's say I've got a desktop application installed. When I launch my application, it will check if there are available updates through web service. If there is, it will silently install the updates.<br>How is it done with NSIS?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">teras</span><br><span class="post-time small text-muted">5th May 2009 13:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hello<br><br>did you find a solution to this question?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">5th May 2009 16:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Please, think about it logically! There is no single all-in-one solution for this. How would you go about it?<br><br>1. Get the currently installed version.<br>2. Get the latest version and download URL.<br>3. Compare the versions.<br>4. Download the new version.<br>5. Install it.<br><br>Any good programmer uses 'divide and conquer' which is to split these steps into more smaller steps.<br><br>For 1.<br>a) Get it from the Windows registry, OR<br>b) Get it from an installed dll or exe file using GetDLLVersion (see manual).<br><br>For 2.<br>a) Download an INI/XML file from the internet using the InetC or NSISdl plugins either from a stored file on a web server or from the output of a web script.<br>b) Read the INI file using ReadINIStr or the XML file using one of the XML plugins.<br><br>For 3.<br>a) If the versions are version strings, compare with VersionCompare from the NSIS manual.<br>b) If the versions to compare are UNIX timestamps, compare using the System plugin's Int64Op function (actually, just IntCmp may do).<br>c) If the versions are plain text dates, make do with a StrCmp/${If} a != b.<br><br>For 4.<br>Best to make this a silent NSIS installer which handles all the file replacements. You will already have used the InetC or NSISdl plugins. Use them again to download.<br><br>For 5.<br>Simple. Exec or ExecWait the downloaded NSIS installer. Search the forum for the InstallOnReboot macro if you need to install files on reboot.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">bedbuffer</span><br><span class="post-time small text-muted">14th May 2009 04:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have a local updater that is able to download a mini installer from the web server using the NSISdl plugin.<br><br>Is there also a way for the local installer to check for the latest mini installer available from the web server. I've heard you can do that through a web service. But is it possible with NSIS too?</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>