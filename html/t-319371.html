<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Installer fails on compressed files?"><title>Installer fails on compressed files? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Installer fails on compressed files?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=319371">Installer fails on compressed files?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">riksweeney</span><br><span class="post-time small text-muted">22nd May 2010 16:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Installer fails on compressed files?</strong><br>Hi,<br><br>I recently upgraded from 2.44 to 2.46 and my install script now falls over when extracting the files. The problem I've noticed is that if the file is compressed then the installer fails. I guess the installer is checking if the file is compressed (the extension doesn't matter) and is attempting to decompress it and falling over.<br><br>Has anyone else encountered this problem and know how to fix it?<br><br>(I had a search through the forums but cannot find anything relating to this issue)<br><br>Richard</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">24th May 2010 21:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Is there an error?<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sylvain.mina</span><br><span class="post-time small text-muted">25th May 2010 13:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I use nsis 2.46 on ubuntu 10.04, and I think I have the same problem. The compilation goes right, but when I execute the installer, a file seems to be corrupted (here, it's a jar archive).<br>When I compile the script on Windows and execute the installer (also with nsis 2.46), I have no problem...<br><br>For the moment, I've not found a fix, neither a solution, but I will investigate it...<br><br>Hope this help<br><br>Sylvain<br><br><br>EDIT: after some investigation, if I deactivate the compression, with "SetCompress off", it works now...but it's not compressed...<br>next step: trying others compression algo</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sylvain.mina</span><br><span class="post-time small text-muted">25th May 2010 16:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No problem at all with the other compression methods. I've reported a bug on the ubuntu forum related to nsis package.<br><br>@riksweeney -&gt; you could try with the other compression methods, it worked for me</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">25th May 2010 17:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">What compression are you using that causes the issue? lzma?<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sylvain.mina</span><br><span class="post-time small text-muted">26th May 2010 07:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Oh, sorry, it was the default compression, lzip.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">riksweeney</span><br><span class="post-time small text-muted">28th May 2010 19:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry for the delay in replying. I've set the compressor to bzip2<br><br>SetCompressor bzip2<br><br>and I no longer experience a problem, everything extracts OK. If I remove this line then the installer fails again. Perhaps this is an Ubuntu problem?<br><br>Richard</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">28th May 2010 19:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It does sound like it is Ubuntu, although if it didn't happen with an earlier version of NSIS then you should submit a bug report anyway.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">f0rt</span><br><span class="post-time small text-muted">29th May 2010 17:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I assume it is the same issue as reported on<br>sourceforge.net/support/tracker.php?aid=2998596</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sylvain.mina</span><br><span class="post-time small text-muted">1st June 2010 10:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, it is, and now it's fixed... I hope they will update the nsis version on Lucid distro...<br><br>I've submitted a bug report last week : <a href="https://bugs.launchpad.net/ubuntu/+source/nsis/+bug/585442" target="_blank">https://bugs.launchpad.net/ubuntu/+s...is/+bug/585442</a><br><br>Unfortunately, I've no feedback at all... perhaps it's not the right place to post ?</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>