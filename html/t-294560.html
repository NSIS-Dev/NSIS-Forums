<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Disable the browse button in a &quot;dirrequest&quot; field" />

  <title>Disable the browse button in a "dirrequest" field - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Disable the browse button in a "dirrequest" field</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=294560">Disable the browse button in a "dirrequest" field</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Rivka</span><br />
      <span class="post-time small text-muted">15th July 2008 14:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Disable the browse button in a "dirrequest" field</strong><br />
      Hi all,<br />
      In one of the custom pages in the installer I'm writing, I need the possibility to disable the browse button of a dirrequest control (the text field stays enabled).<br />
      Searching in NSIS examples, I've seen they do something like that in at their filefunc example, (there are more examples, but the difficuly I face is common to them) I see they refer explicit control id.<br />
      My question is "How do I know which id belong to what control" and as I've mentioned, there might be at least 2 control connected to "dirrequest" - the browse button and the text field, and I wish to disable the browse button only.<br />
      Please advice,<br />
      :(<br />
      Thanks,<br />
      Rivka</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comperio</span><br />
      <span class="post-time small text-muted">15th July 2008 16:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you are using InstallOptions, then you just read HWND2 from your page's INI file. For example, if your control is Field 3, then to get the HWND of the button, you would do something like this:</p>
      <pre>
<code>ReadIniStr $1 "$PLUGINSDIR\page.ini" "Field 3" "HWND2" <font color="green">; $1 would now contain the HWND of the button</font></code>
</pre><br />
      <br />
      If you are using nsDialogs for the page, then you'll have the text box and button as separate items, which means, you can just target the button directly. (For an example of using a browse button with nsDialogs, see <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=292738" target="_blank">this post</a>)<br />
      <br />
      Once you obtain the button's HWND, then you just need use the <b>EnableWindow</b> command. For example, if $1 is the HWND of your button, then the command would be:
      <pre>
<code>EnableWindow $1 0 <font color="green">; 0 disables the control, 1 will enable it.</font></code>
</pre>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
