<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Prompt for files to include at compilation" />

  <title>Prompt for files to include at compilation - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Prompt for files to include at compilation</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=193442">Prompt for files to include at compilation</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lostonline</span><br />
      <span class="post-time small text-muted">13th September 2004 17:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Prompt for files to include at compilation</strong><br />
      I've been using NSIS for a while and have created an installer for the application that I work on (before it had to be installed manually copying files, changing registry etc but no one else at the company had been bothered to create an installed) and I find it nice to work with and mostly easy to use.<br />
      <br />
      Now the question: I'm now working on a script to update new files and these are all in the same directory tree format as the installed app but contain only the new files. What I want to be able to do is easily at compile time of the NSIS script to be able to select which directory these files are in (to same other members of the team from having to know how to change the NSIS script). We want to keep archives of the updates so the path containing the files to be packaged will change with each update.<br />
      <br />
      Anyone got any ideas how to do this? Perhaps passing some parameter to compiler (which I could make a little app to do)?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">13th September 2004 18:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">My Zip-To-SE (Zip to Self-Extractor) program does exactly that. It's a program that simply extracts files from the Zip into a temp folder, makes a list of files to compress in a temp Self-Extractor nsi script, then builds the Self-Extractor (Installer) script by calling makensis.exe "script.nsi".<br />
      <br />
      Source file attached (written in NSIS).<br />
      <br />
      You want to look at the WriteScript Function. It calls another custom GetFiles Function which writes all the files and new outpaths to the nsi script for compiling.<br />
      <br />
      If you want to see the Self-Extractor kit, you can grab it at the NSIS Archive under NSIS Software.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lostonline</span><br />
      <span class="post-time small text-muted">14th September 2004 09:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Cheers. I didn't use your script as is but got some ideas from it, seems fairly obvious now that the easiest way to do what I needed was to change values in the script then run makensis on it. I've now got a small NSIS exe which prompts for a path to create patch from and a name for the patch then it changes the appropriate values in a template script before compiling it.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
