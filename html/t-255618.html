<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Installer with no icon" />

  <title>Installer with no icon - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Installer with no icon</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255618">Installer with no icon</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">16th September 2006 18:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Installer with no icon</strong><br />
      Hey all,<br />
      <br />
      How can I make an installer without an icon, because NSIS adds a default icon when the script dont specify one.<br />
      <br />
      I would like no icon at all, just let windows show the default exe icon for the installer.<br />
      <br />
      Thanks :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CrushBug</span><br />
      <span class="post-time small text-muted">16th September 2006 19:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am sorry, you are saying you don't want an icon and then you end the question with 'show the default icon'? Which is it? Do you want an icon or not?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">16th September 2006 20:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I suspect he wants an icon, but he wants it to be the icon as seen for an executable that has no icon resource itself.<br />
      If this is the case, Backland, just get a copy of that icon in .ico format and specify that as the icon.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CrushBug</span><br />
      <span class="post-time small text-muted">17th September 2006 01:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah, yeah, ok, if that is it, do what Animaether says :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">17th September 2006 08:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry, yes I meant the default windows icon for executables which Windows disaplays when there is none set in the actual exe.<br />
      <br />
      I could just copy that icon and set it in my installer, but another user may have specified something different as their exe file icon in Windows settings, any other way to get an icon-less installer?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">17th September 2006 09:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">not seeing any</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br />
      <span class="post-time small text-muted">17th September 2006 10:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Not sure if it will work, but you could try to remove the icon from the installer with tool like <a href="http://www.angusj.com/resourcehacker/" target="_blank">Resource Hacker</a>. Just add "CRCCheck off" in your script so you don't get CRC error when you run the installer.<br />
      <br />
      Edit: I tried it and it works. :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">v-tal</span><br />
      <span class="post-time small text-muted">17th September 2006 11:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Turning CRCCheck off is not good thing.<br />
      Look at <b>!packhdr</b> command. With it you can invoke ResourceHacker whithin your script to remove icon from installer stub.<br />
      Read ResourceHacker help for commandline options.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">17th September 2006 12:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">!packhdr with ResourceHacker should just work well, i'm <a href="http://forums.winamp.com/showthread.php?postid=2004904#post2004904" target="_blank">using</a> it to add a 2nd icon to the installer. i'm wondering though how windows treats an exe without icon. will it display that empty window icon?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">17th September 2006 12:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yes, it displays the empty window icon, flat if it's small, the fancy angled+shaded one if it's big (XP anyway).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br />
      <span class="post-time small text-muted">17th September 2006 12:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes !packhdr is definitely the right way to go. :)<br />
      <br />
      !packhdr "exehead.tmp" '"C:\Program Files\ResHack\ResHacker.exe" -delete exehead.tmp, exehead.tmp, icongroup,103,'<br />
      <br />
      That should do the trick.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">17th September 2006 13:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for the help guys. :)<br />
      <br />
      I was wondering how difficult it would be to add such a functionality to NSIS itself?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">17th September 2006 17:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You just need to put that code into your script.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">17th September 2006 20:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">very nice and clean solution, i like it :)<br />
      thus posted in the wiki:<br />
      <a href="http://nsis.sourceforge.net/Installer_without_Icon_Ressource" target="_blank">http://nsis.sourceforge.net/Installe...Icon_Ressource</a><br />
      :)</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
