<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="License Agreement Add Print Button"><title>License Agreement Add Print Button - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">License Agreement Add Print Button</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274313">License Agreement Add Print Button</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">kallan06</span><br><span class="post-time small text-muted">13th July 2007 13:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>License Agreement Add Print Button</strong><br>Hello,<br><br>i'm novice :(<br>How can put a print button in the license page with EXPERIENCEUI .<br><br>Thx all.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">15th July 2007 17:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You'll have to add your own button to the license page with Resource Hacker (modify UIs\modern.exe).<br>You will then have to use the <a href="http://nsis.sf.net/ButtonEvent_plug-in" target="_blank">ButtonEvent plug-in</a> to execute a function with the code at the bottom of this page:<br><br><a href="http://forums.winamp.com/showthread.php?threadid=228334" target="_blank">http://forums.winamp.com/showthread.php?threadid=228334</a><br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sprinleo</span><br><span class="post-time small text-muted">16th June 2009 12:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi,<br><br>i am new to NSIS. and trying to add a Print button on the license page, but i am not able to identify the License page.<br><br><a href="http://forums.winamp.com/showthread.php?threadid=228334" target="_blank">http://forums.winamp.com/showthread.php?threadid=228334</a><br><br>referring to the above link, says that :<br>[Field 5]<br>Type=Button<br>Flags=NOTIFY<br>Text=&amp;Print License<br>Left=240<br>Right=-10<br>Top=123<br>Bottom=137<br><br>has to be added but where to add ....:confused: ??<br><br>code snippet from setup.nsi is as below:<br>...<br>...<br>Page custom InstallTypePageCreate InstallTypePageLeave<br>!insertmacro MUI_PAGE_LICENSE "$(license_txt)"<br>!insertmacro MUI_PAGE_DIRECTORY<br>!insertmacro MUI_PAGE_INSTFILES<br>...<br>...<br><br>i could also locate License.nsh which actually has MUI_PAGE_LICENSE defined, but nothing like the Button field code. i believe that Button field should be added in a License.ini file but this file non-existing at the moment.<br><br>pls let me know in case you need any other info.<br>kindly advise/help.<br><br>many thanks<br>Manu:up:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">16th June 2009 13:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The license page isn't made with InstallOptions! You need to add a button using Resource Hacker and then you can use the ButtonEvent plugin to assign a function to it. In there you would need to extract the license file and then ExecShell print file.rtf to print it.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sprinleo</span><br><span class="post-time small text-muted">7th July 2009 08:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Stu... sorry for coming back to you so late.<br>forgive my ignorance, but how do i do add a button using resource hacker and use a ButtonEvent plugin thereafter ?<br>could you please be more elaborate?<br><br>many thanks<br>Manohar</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">7th July 2009 11:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Go download Resource Hacker, open up Contrib\UIs\modern.exe and add your button to either dialog 108 or 109 (you should be able to work that one out). Make sure you give it an Id unique to the dialog. Save as a new file in your installer script's folder and add !define MUI_UI file.exe to the script.<br><br>The ButtonEvent plugin has a readme.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sprinleo</span><br><span class="post-time small text-muted">8th July 2009 11:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">i have tried making the change using resource hacker to the NSIS-src\Examples\Modern UI\Basic.exe, added a button in there and compiled, saved as Basic_new.exe<br>However, when i tried opening Basic_new.exe, popped up a error: "Installer integrity check has failed. Common...Blah Blah"<br><br>clues?<br><br>thanks for helping.<br>ManU</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">8th July 2009 12:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No you don't modify the built installer executable. Read my post again!<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sprinleo</span><br><span class="post-time small text-muted">8th July 2009 14:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have done exactly the way explained above, this time changed \NSIS\Contrib\UIs\modern.exe and added button.<br>The resulting .exe was saved as new.exe in the folder where setup.nsi is present. Below is the extract of setup.nsi:<br><br>...<br>...<br>Page custom InstallTypePageCreate InstallTypePageLeave<br>!define MUI_UI new.exe<br>!define MUI_LICENSEPAGE_RADIOBUTTONS<br>!define MUI_LICENSEPAGE_RADIOBUTTONS_TEXT_ACCEPT "I Agree to the license agreement."<br>!define MUI_LICENSEPAGE_RADIOBUTTONS_TEXT_DECLINE "I do not Agree to the license agreement."<br>!insertmacro MUI_PAGE_LICENSE "$(license_txt)"<br>...<br>...<br><br>but with the above code, building it fails with message:<br>!define: "MUI_UI" already defined!<br>Error in script "winst\setup.nsi" on line 60 -- aborting creation process<br>Done Adding Additional Store<br>SignTool Error: ISignedCode::Sign returned error: 0x80070008<br>Not enough storage is available to process this command.<br>SignTool Error: An error occurred while attempting to sign: setup.exe<br><br>pls help.<br>thanks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">8th July 2009 15:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well what does the error say?<br><br>!define: "MUI_UI" already defined!<br>Error in script "winst\setup.nsi" on line 60 -- aborting creation process<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sprinleo</span><br><span class="post-time small text-muted">9th July 2009 06:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">correct, that's the exact error message...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sprinleo</span><br><span class="post-time small text-muted">16th July 2009 13:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi Stu, any luck with this problem? could you offer any expert advice ?<br><br>cheers<br>Manu..</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>