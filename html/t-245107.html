<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="ReadEnvStr doesn't work all the time" />

  <title>ReadEnvStr doesn't work all the time - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">ReadEnvStr doesn't work all the time</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=245107">ReadEnvStr doesn't work all the time</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pisymbol</span><br />
      <span class="post-time small text-muted">1st May 2006 16:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>ReadEnvStr doesn't work all the time</strong><br />
      For some reason in my scripts, ReadEnvStr doesn't work when the variable changes over the course of testing many installations, i.e. I see it in the registry and via System-&gt;Advanced-&gt;Environment but in my script during run-time I get null back.<br />
      <br />
      How does ReadEnvStr work exactly? Shouldn't it just read either out of HLCU Environment of HKLM CurrentSession...blah...blah...Environment and return?<br />
      <br />
      Anybody see this before?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">1st May 2006 19:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It's probably because you're running the installer from MakeNSISw. Unlike Explorer, MakeNSISw doesn't update its environment strings when it gets the message saying it should be updated. You should execute the installer from Explorer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pisymbol</span><br />
      <span class="post-time small text-muted">2nd May 2006 16:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yeah I just realized that. I'm actually doing it from the EclipseNSIS plugin environment (really nice setup). But same issue...<br />
      <br />
      Thanks!</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
