<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="execwait not aware of path?"><title>execwait not aware of path? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">execwait not aware of path?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=246489">execwait not aware of path?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">halfhp</span><br><span class="post-time small text-muted">19th May 2006 04:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>execwait not aware of path?</strong><br>I have an installer that begins by installing a series of 3rd party applications, one of them being ActiveState Perl.<br><br>After the 3rd party applications are installed I then attempt to use the ppm.bat file which is installed as part of ActivePerl. Inside ppm.bat, a call is made to the perl binary that was also installed as part of ActivePerl. When this call is made, I get:<br><br>"'perl' is not recognized as an internal or external command...bla bla...ou do not have Perl in your PATH."<br><br>The exact command I am using to invoke ppm is this:<br><br>ExecWait '$perl_dirbin\ppm.bat install $Temp\perl_modules\Crypt-SSLeay.ppd'<br><br>$perl_dir and $Temp both contain valid paths...(I verified this.)<br><br>What's odd about this is that if I stop the installer after it installs ActivePerl and before it tries to use ppm.bat and then open up a command prompt and type 'perl', it knows where perl is and uses it. So obviously it has been placed in my PATH variable and is useable.<br><br>It gets wierder though...If I re-run the installer after ActivePerl has been installed, the calls to ppm.bat work just fine.<br><br>Obviously the ActivePerl installer modifies the PATH variable during installation, but the modification should be immediately available. So it seems to me that somehow the PATH variable available to anything called by ExecWait is locked into the state it was at before the NSIS installer was ran. Is this correct? If not, where did I go wrong...and if so, what are my options?<br><br>Thanks,<br>Nick</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">RobGrant</span><br><span class="post-time small text-muted">19th May 2006 08:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Perhaps if you're calling these things all in the same ExecWait it's as though you ran them all in the same command window: the path is set when the window is opened. If this is the case, just use multiple ExecWaits.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">19th May 2006 12:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The environment variable modification is immediately available only to Explorer. Every new process that is executed from Explorer will get the new variable, but running processes will keep their old environment block.<br><br>To set environment variables for the running installer, use:<br><br><a href="http://nsis.sourceforge.net/Setting_Environment_Variables_to_Active_Installer_Process" target="_blank">http://nsis.sourceforge.net/Setting_...taller_Process</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">halfhp</span><br><span class="post-time small text-muted">19th May 2006 18:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks very much kichik, that did the trick.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>