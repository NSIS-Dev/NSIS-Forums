<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="NSIS and long pathes?" />

  <title>NSIS and long pathes? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">NSIS and long pathes?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282567">NSIS and long pathes?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Frz</span><br />
      <span class="post-time small text-muted">3rd December 2007 13:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>NSIS and long pathes?</strong><br />
      Hello,<br />
      <br />
      We are providing a nsis installer for our eclipse based product. On uninstallation the uninstaller offers the choice to remove the workspace that eclipse created. This works fine as long as the pathes the user created in eclipse are shorter than 255 (or is it 260?) characters. When the pathes get longer (eclipse 3.3 with java 1.5 or higher works with long pathes) our users face a real problem removing their workspace again as eclipse was alreay uninstalled and you can't remove such pathes with the windows explorer.<br />
      Of course we could try to remove the workspace first and if that fails keep the eclipse intact however that would leave our users with a half deleted workspace which may (or may not) cause problems in our product (and is not desireable in any case).<br />
      <br />
      So my question is: Is there any support for long pathes in nsis? Possibly trough a plug in? Or is it planned in a future version?<br />
      <br />
      Thanks in advance.<br />
      Patrick</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">3rd December 2007 14:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">the normal nsis build has a max string length of 1024, so the limit must be in one of the windows api it calls (I know some api's support a \\?\ prefix for longer paths but NSIS does not support those AFAIK (and it would only work in the unicode build))<br />
      <br />
      As a workaround, you could call DeleteFileW and/or RemoveDirectoryW with a "\\?\" prefix using the system plugin.<br />
      <br />
      Other tricks that MAY possibly work:<br />
      -set the current directory as deep as it will go and delete with a relative path<br />
      -play tricks with subst.exe</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
