<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to create a setup file that just enters registry keys?"><title>How to create a setup file that just enters registry keys? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to create a setup file that just enters registry keys?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=175311">How to create a setup file that just enters registry keys?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">phantomazz</span><br><span class="post-time small text-muted">4th April 2004 17:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to create a setup file that just enters registry keys?</strong><br>I want to create a setup file that just sets some registry keys that are defined by the user. It doesn't have to install any files and it should do the same as this .reg-file:<br><br>---------------------------------------------<br><br>Windows Registry Editor Version 5.00<br><br>[HKEY_LOCAL_MACHINE\SOFTWARE\Electronic Arts]<br><br>[HKEY_LOCAL_MACHINE\SOFTWARE\Electronic Arts\EA Games]<br><br>[HKEY_LOCAL_MACHINE\SOFTWARE\Electronic Arts\EA Games\Generals]<br>"Language"="english"<br>"InstallPath"="&gt;&gt;&gt;&gt;E:\\Generals\\&lt;&lt;&lt;&lt;"<br>"MapPackVersion"=dword:00010000<br>"Version"=dword:00010006<br><br>[HKEY_LOCAL_MACHINE\SOFTWARE\Electronic Arts\EA Games\Generals\ergc]<br>@="&gt;&gt;&gt;&gt;ENTER CD-KEY HERE&lt;&lt;&lt;&lt;"<br><br><br>---------------------------------------------<br><br>The user should change the values that are marked like this &gt;&gt;&gt;&gt;bla&lt;&lt;&lt;&lt;. The rest should just be written in the registry. I don't know how to create a plain registry-installer because NSIS always gives me an error when I try to enter the registry keys with the "WriteRegStr"-command:<br><br>Error: invalid script: never had OutFile command<br>Error - aborting creation process<br><br>And furthermore I have no idea how to create a user-prompt so that the user can change the 2 values I described above...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">VegetaSan</span><br><span class="post-time small text-muted">4th April 2004 18:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">lol ...<br><br>You should place the<br><br>Outfile "Command_and_Conquer_Generals.exe"<br><br>outside a section</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">janedoe2003</span><br><span class="post-time small text-muted">4th April 2004 23:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">As explained by VegetaSan, you need a bit more to have a working NSIS script. Look at example1.nsi under the examples/ sub-directory where NSIS is installed.<br><br>BTW, if you just want to add keys in the Registry, you could just create a .REG file and ask users to double-click it. No need for a full-fledged installer.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">phantomazz</span><br><span class="post-time small text-muted">9th April 2004 00:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">yes i have a plain .reg-file for that (the text is quoted from one) but I want a more userfriendly way. And because two parameters have to be changed, i thought a installer would be nice</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">janedoe2003</span><br><span class="post-time small text-muted">9th April 2004 01:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">In this case, look at Contrib\InstallOptions for more infos on how to build some kind of form that prompts the user for more infos than just an install directory or an on/off choice.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">phantomazz</span><br><span class="post-time small text-muted">12th April 2004 11:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">mmm...<br>I didn't find anything. this is really hard because I know merley nothing about NSIS-scripting. I know a little of Inno-Setup but this is totally new for me...</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>