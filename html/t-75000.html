<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="dir2nsi" />

  <title>dir2nsi - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">dir2nsi</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=75000">dir2nsi</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DragonSoull</span><br />
      <span class="post-time small text-muted">8th February 2002 17:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>dir2nsi</strong><br />
      Hello ppl new guy on the ranks :D<br />
      <br />
      does anybody nows a easy way to add files to a installer with dir structure i made a small app but with lots of files in diferent dirs and adding one by one in the~script is a pain since i'm extremelly lasy :D.<br />
      <br />
      Too the creator of NSIS: (some things I would love to see on NSIS)<br />
      - shortcut destination pane<br />
      - auto unistall (it would remove all the files installed)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">8th February 2002 17:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Read the docs for <a href="http://firehose.net/free/nsis/makensis.htm#File" target="_blank">File</a> . It supports adding directory trees.<br />
      <br />
      The uninstall support in NSIS is more powerful than just removing installed files. If you have a simple install you could remove a whole directory with just one line. But some apps require more steps like removing registry keys and such, and you don't want NSIS guessing which things it should remove.<br />
      <br />
      <i>shortcut destination pane</i><br />
      Whats this?<br />
      <br />
      Rob</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">8th February 2002 22:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Maybe he means a dialog to select a start menu group?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SmartyMan</span><br />
      <span class="post-time small text-muted">11th February 2002 00:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by rainwater</i><br />
        <b>If you have a simple install you could remove a whole directory with just one line. But some apps require more steps like removing registry keys and such, and you don't want NSIS guessing which things it should remove.</b>
      </blockquote>The makeNSIS uninstall functionality is powerfull indeed, but think about installing system DLLs or other stuff that expands other software - how can the author of the uninstall code asure that the uninstall code will remove only those files the installer has really installed ("SetOverwrite ifNewer")?<br />
      So i would like to see some automatic here, too - maybe the installer could log all the things he did in a special file and Justin could add a command reading this file and reversing all the actions.<br />
      That would make the uninstaller just more powerfull, wouldnt it?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">11th February 2002 01:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Removal of dlls has been discussed before. Search the forums for more info on that.<br />
      <br />
      NSIS is a very low-level scriptable installation system. I don't see automatically permorming tasks like these much of a priority as it would add to the overhead of the installer. There's a reason why it has so much functionality, so you can do things like this for yourself.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bballer182</span><br />
      <span class="post-time small text-muted">11th February 2002 01:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">RW is correct</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DragonSoull</span><br />
      <span class="post-time small text-muted">11th February 2002 19:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">shortcut destination pane = dialog to select a start menu group<br />
      <br />
      sorry for my bad english.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">11th February 2002 19:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can use InstallOptions for that.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SmartyMan</span><br />
      <span class="post-time small text-muted">11th February 2002 23:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by rainwater</i><br />
        <b>Removal of dlls has been discussed before. Search the forums for more info on that.</b>
      </blockquote>Thanks for that hint.<br />
      <br />

      <blockquote>
        <b>There's a reason why it has so much functionality, so you can do things like this for yourself.</b>
      </blockquote>OK, mybe you can guide me within the following expample: lets say that i want to write an installer which copys extended versions of the makeNSIS exmaple files in your NSIS folder.<br />
      I would use SetOverwrite ifNewer (of course) and the docs say, that the timestamp of all the files will be adjusted, even if my file was not installed.<br />
      Now: how can my unistaller find out which files are to be deleted (in other words: which of the existing files was installed by my installer)?<br />
      <br />
      BTW: this example can also be an argument for makeNSIS creating a backup folder (dest for all files overwritten during installation):)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">12th February 2002 00:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">There are many ways to do this. You could check if the file is newer, then write to text file the name of file. Then overwrite it. Then your uninstaller just reads the file during the the uninstall and it will no which files to delete.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pjw62</span><br />
      <span class="post-time small text-muted">13th February 2002 20:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Just out of interest for easily selecting files, I wrote a quick little app. a while ago.. NSIS drag drop thing--drop files onto it and it copies the 'File' statements to the clipboard.<br />
      <br />
      <br />
      <a href="http://forums.winamp.com/showthread.php?threadid=66402" target="_blank">http://forums.winamp.com/showthread.php?threadid=66402</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SmartyMan</span><br />
      <span class="post-time small text-muted">13th February 2002 23:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by rainwater</i><br />
        <b>There are many ways to do this. You could check if the file is newer, then write to text file the name of file. Then overwrite it. Then your uninstaller just reads the file during the the uninstall and it will no which files to delete.</b>
      </blockquote>I cant use "file /r" then (until there is a callback function for this purpose)...<br />
      If there are many ways to do what we discuss, then show us another ;)
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
