<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="using MUI_DIRECTORYPAGE for other purposes?"><title>using MUI_DIRECTORYPAGE for other purposes? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">using MUI_DIRECTORYPAGE for other purposes?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=158941">using MUI_DIRECTORYPAGE for other purposes?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">ASterX</span><br><span class="post-time small text-muted">8th December 2003 07:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>using MUI_DIRECTORYPAGE for other purposes?</strong><br>Hi there,<br>could anyone help me perhaps to find the best way to realize following 'problem'?<br>While installing I need to ask the users for an additional folder to store some files in. There is no way to read it from the registry (although I could make a guess where the path could be) or find it otherwise. The simplest thing would be, as far as I see, to use the MUI_DIRECTORYPAGE for my purposes.<br>Unfortunately I have no idea what the simplest way is to change the behaviour of the dialog for my needs. Do I have to recompile or could it be easier with some of theses FindWindow/SendMessage things?<br><br>I would be happy to hear from you,<br>thanks, ASterX</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">8th December 2003 08:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">What exactly is the behavior you're trying to achieve? MUI_DIRECTORYPAGE insterts a page which asks for a directory. What do you want to change in it?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ASterX</span><br><span class="post-time small text-muted">8th December 2003 09:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well, by now I realized at least how to change the text of the dialog - that has been my main problem, I don't know why I had not the idea to change strings like one would do for another language (German.nsh).<br>Three things are still left, I'm sure they also have a simple solution:<br>· I haven't yet figured out how to tell the DirectoryPage the path which should be the standard at startup without changing the $INSTDIR<br>· How do I get the chosen directory after/while closing the dialog ?<br>· Is there a possibility to use the DirectoryPage twice, with different strings ?<br><br>Unfortunately I haven't found anything to these topics in the forums.<br><br>Thnx AsterX</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">8th December 2003 09:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=157405&amp;highlight=%2AVARIABLE" target="_blank">This thread</a> shows what needs to be done.<br><br>BTW, you don't need to change the language files to change certain strings. See the MUI readme for information about changing MUI strings. MUI_DIRECTORYPAGE_TEXT_TOP is probably what you're after.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ASterX</span><br><span class="post-time small text-muted">8th December 2003 09:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks, but that is OK - I found the right parts of the documentation, but the other things - I don't come further with them. The installation directory is changed after the DirectoryPage even when I call a function which changes it back to what it should be in MUI_CUSTOMFUNCTION_DIRECTORY_LEAVE and a MessageBox tells me it would be the right path.<br><br>I just need a possibility to ask the users for two different folders during the installation where none of them is the installation folder (which is fix).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">8th December 2003 09:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The thread I linked to shows you how to ask for two different directories. Once you get the second directory page working you can easily get the "first" one to refer to something else than $INSTDIR too.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ASterX</span><br><span class="post-time small text-muted">8th December 2003 10:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry, for some reason I didn't notice the link.<br>I'll have a try, thank you.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ASterX</span><br><span class="post-time small text-muted">8th December 2003 15:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">After changing to newest NSIS version everything works fantastic, thank you very much.<br><br>ASterX</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>