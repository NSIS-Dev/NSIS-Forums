<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="How to use a default translation when a string isn't yet translated?" />

  <title>How to use a default translation when a string isn't yet translated? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">How to use a default translation when a string isn't yet translated?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=354994">How to use a default translation when a string isn't yet translated?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sledgehammer_999</span><br />
      <span class="post-time small text-muted">23rd January 2013 22:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>How to use a default translation when a string isn't yet translated?</strong><br />
      &nbsp; I am trying to make my installer multi language. I use the langstring functionality. The problem is that although I have enabled all the languages for the installer itself(via the langdll) not all <b>my strings</b> are translated to all available languages. So when a user selects a language that I don't have translations for, the installer is translated but my own strings are appearing empty in that language. Is there any way to make NSIS use a default language (eg english) until I get these strings translated to other languages?<br />
      <br />
      eg<br />
      <br />
      LangString message $(LANG_ENGLISH) "blah"<br />
      LangString message $(LANG_ITALIAN) "blah"<br />
      <br />
      but the user chooses as language Greek. Is there any way to make NSIS display the english version of <b>message</b> since it cannot find the Greek equivalent?<br />
      <br />
      Thanks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br />
      <span class="post-time small text-muted">24th January 2013 06:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I suppose this is already implemented in NSIS.<br />
      The first language used is the default one.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sledgehammer_999</span><br />
      <span class="post-time small text-muted">24th January 2013 13:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am not sure on how to do it. Here is sample NSIS script that displays the problem.<br />
      <br /></p>
      <pre>
<code>
XPStyle on
<br /><br />&gt;!include "MUI.nsh"
<br /><br />&gt;OutFile "setup.exe"
<br /><br />&gt;!define MUI_ABORTWARNING
<br />&gt;!define MUI_HEADERIMAGE
<br />&gt;!define MUI_COMPONENTSPAGE_NODESC
<br />&gt;!define MUI_LICENSEPAGE_CHECKBOX
<br />&gt;!define MUI_LANGDLL_ALLLANGUAGES
<br /><br />&gt;;Installer Pages
<br />&gt;!insertmacro MUI_PAGE_WELCOME
<br />&gt;!insertmacro MUI_PAGE_COMPONENTS
<br />&gt;!insertmacro MUI_PAGE_INSTFILES
<br /><br />&gt;;--------------------------------
<br />;Uninstaller Pages
<br />&gt;!insertmacro MUI_UNPAGE_CONFIRM
<br />&gt;!insertmacro MUI_UNPAGE_COMPONENTS
<br />&gt;!insertmacro MUI_UNPAGE_INSTFILES
<br /><br />&gt;!insertmacro MUI_LANGUAGE "English"
<br />&gt;!insertmacro MUI_LANGUAGE "Afrikaans"
<br />&gt;!insertmacro MUI_LANGUAGE "Albanian"
<br />&gt;!insertmacro MUI_LANGUAGE "Arabic"
<br />&gt;!insertmacro MUI_LANGUAGE "Basque"
<br />&gt;!insertmacro MUI_LANGUAGE "Belarusian"
<br />&gt;!insertmacro MUI_LANGUAGE "Bosnian"
<br />&gt;!insertmacro MUI_LANGUAGE "Breton"
<br />&gt;!insertmacro MUI_LANGUAGE "Bulgarian"
<br />&gt;!insertmacro MUI_LANGUAGE "Catalan"
<br />&gt;!insertmacro MUI_LANGUAGE "Croatian"
<br />&gt;!insertmacro MUI_LANGUAGE "Czech"
<br />&gt;!insertmacro MUI_LANGUAGE "Danish"
<br />&gt;!insertmacro MUI_LANGUAGE "Dutch"
<br />&gt;!insertmacro MUI_LANGUAGE "Esperanto"
<br />&gt;!insertmacro MUI_LANGUAGE "Estonian"
<br />&gt;!insertmacro MUI_LANGUAGE "Farsi"
<br />&gt;!insertmacro MUI_LANGUAGE "Finnish"
<br />&gt;!insertmacro MUI_LANGUAGE "French"
<br />&gt;!insertmacro MUI_LANGUAGE "Galician"
<br />&gt;!insertmacro MUI_LANGUAGE "German"
<br />&gt;!insertmacro MUI_LANGUAGE "Greek"
<br />&gt;!insertmacro MUI_LANGUAGE "Hebrew"
<br />&gt;!insertmacro MUI_LANGUAGE "Hungarian"
<br />&gt;!insertmacro MUI_LANGUAGE "Icelandic"
<br />&gt;!insertmacro MUI_LANGUAGE "Indonesian"
<br />&gt;!insertmacro MUI_LANGUAGE "Irish"
<br />&gt;!insertmacro MUI_LANGUAGE "Italian"
<br />&gt;!insertmacro MUI_LANGUAGE "Japanese"
<br />&gt;!insertmacro MUI_LANGUAGE "Korean"
<br />&gt;!insertmacro MUI_LANGUAGE "Kurdish"
<br />&gt;!insertmacro MUI_LANGUAGE "Latvian"
<br />&gt;!insertmacro MUI_LANGUAGE "Lithuanian"
<br />&gt;!insertmacro MUI_LANGUAGE "Luxembourgish"
<br />&gt;!insertmacro MUI_LANGUAGE "Macedonian"
<br />&gt;!insertmacro MUI_LANGUAGE "Malay"
<br />&gt;!insertmacro MUI_LANGUAGE "Mongolian"
<br />&gt;!insertmacro MUI_LANGUAGE "Norwegian"
<br />&gt;!insertmacro MUI_LANGUAGE "NorwegianNynorsk"
<br />&gt;!insertmacro MUI_LANGUAGE "Polish"
<br />&gt;!insertmacro MUI_LANGUAGE "Portuguese"
<br />&gt;!insertmacro MUI_LANGUAGE "PortugueseBR"
<br />&gt;!insertmacro MUI_LANGUAGE "Romanian"
<br />&gt;!insertmacro MUI_LANGUAGE "Russian"
<br />&gt;!insertmacro MUI_LANGUAGE "Serbian"
<br />&gt;!insertmacro MUI_LANGUAGE "SerbianLatin"
<br />&gt;!insertmacro MUI_LANGUAGE "SimpChinese"
<br />&gt;!insertmacro MUI_LANGUAGE "Slovak"
<br />&gt;!insertmacro MUI_LANGUAGE "Slovenian"
<br />&gt;!insertmacro MUI_LANGUAGE "Spanish"
<br />&gt;!insertmacro MUI_LANGUAGE "SpanishInternational"
<br />&gt;!insertmacro MUI_LANGUAGE "Swedish"
<br />&gt;!insertmacro MUI_LANGUAGE "Thai"
<br />&gt;!insertmacro MUI_LANGUAGE "TradChinese"
<br />&gt;!insertmacro MUI_LANGUAGE "Turkish"
<br />&gt;!insertmacro MUI_LANGUAGE "Ukrainian"
<br />&gt;!insertmacro MUI_LANGUAGE "Uzbek"
<br />&gt;!insertmacro MUI_LANGUAGE "Welsh"
<br /><br />&gt;LangString message ${LANG_ENGLISH} "english"
<br />&gt;LangString message ${LANG_ITALIAN} "italian"
<br /><br /><br />&gt;Section $(message)
<br />&gt;SectionEnd
<br /><br />&gt;Function .onInit       
<br /><br />   !insertmacro MUI_LANGDLL_DISPLAY        
<br />    
<br />FunctionEnd 
<br />&gt;
</code>
</pre>If you choose either english or italian in the langdll the section name appears in the components page. If you choose any other eg greek the section name doesn't appear (not even in english).
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sledgehammer_999</span><br />
      <span class="post-time small text-muted">26th January 2013 12:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Anyone?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br />
      <span class="post-time small text-muted">26th January 2013 15:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The notes for LangString says that you should always set language strings for every language in your script.<br />
      <br />
      Just fill in all the languages and use the english string for the languages you don't have a translation.<br />
      <br />
      PaR</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>