<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="creating a Japanese installer"><title>creating a Japanese installer - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">creating a Japanese installer</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=209761">creating a Japanese installer</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">sfranklin</span><br><span class="post-time small text-muted">7th March 2005 18:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>creating a Japanese installer</strong><br>Ok,<br><br>So for text that is already in the installer i dont have to do anything. But for custom text i have hit a brick wall.<br><br>Obviously these need to be put into a lang string, and the file then has to be saved as unicode or UTF-8. However the nsis compiler wont use this as it has the majic 'im a utf-8' file markers at the start.<br><br>So given this, is there a way to put custom Japanese characters into an installer?<br><br>thanks<br><br>Steve</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br><span class="post-time small text-muted">7th March 2005 19:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Seeing as how the Japanese language file included uses Shift-JIS, I would think you have to save your custom text as Shift-JIS.<br><br>However, I don't think it will work on a system that doesn't have SJIS as its default codepage - at least, it doesn't work on my Danish XP, despite having Japanese fonts and all that installed. It just shows up as the raw SJIS text.<br><br>I've attached a sample script that opens a yes/no dialog box with the word "TESUTO" (SJIS: ƒeƒXƒg) in it, using the Japanese language file. It doesn't really do anything, but you can at least tell if it's possible on your machine.<br><br>On a related note, it would be nice if it was possible to change the charset used by NSIS in the script.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sfranklin</span><br><span class="post-time small text-muted">8th March 2005 09:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks a lot for your help, im trying to get through this at the moment, and its taking me an age, and is quite frustrating.... So thanks.<br><br>I didnt realise you needed to use LoadLanguageFile, not sure what that does really? Ive just been defining japanese as a language using !insertmacro MUI_LANGUAGE "Japanese", maybe that does the same thing?<br><br>Ive tried out your example code, and on my machine UK win XP, it looks like the printed message, however when i tried it on a Japanese windows (still compiled on mine) it looks like Japanese (No idea what it means though). So assuming the text it displayed is correct, how did you get the japanese chars to be like the ones in your script?<br><br>any help would be greatly appreciated.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br><span class="post-time small text-muted">8th March 2005 09:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">LoadLanguageFile is the old way of doing it, and IIRC, the only way for the "classic" UI. If you go to Examples\Modern UI, you can try the MultiLanguage example for Japanese in Modern UI (which, for the record, does the same thing as classic UI - displays raw SJIS on non-Japanese Windows).<br><br>The reason it won't work on your UK XP is most likely because NSIS installers are set to use the default character set. Since the default character set on the system is ISO-8859-1/Windows-1252 (unlike a Japanese system, where they use Shift-JIS by default), Windows will treat it as plain text on the UK system since it doesn't know that it needs to decode the text.<br><br>To actually use it, you need to open the file in a text editor supporting Shift-JIS, enter the Japanese text, and finally save it in the proper format (SJIS). You can use one of several editors, such as Word or <a href="http://www.physics.ucla.edu/~grosenth/jwpce.html" target="_blank">JWPce</a>, or most other editors. To save a little time, you can take your current UTF-8 file and open it in JWPce, then save it as SJIS.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sfranklin</span><br><span class="post-time small text-muted">8th March 2005 11:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">if that is the case, does that mean that i wont be able to have say japanese and another language?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sfranklin</span><br><span class="post-time small text-muted">8th March 2005 12:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think i might have figured out whats going on here.... maybe (youll have to forgive my lack of knowlage with regards this, first time ive had to do anything like it).<br><br>So using JWPce (thanks for the link) i can create the langString statements then save these out in a Shift-JIS file. If i then open this with notepad and paste this into an NSIS script, i can use japanese chars (well at least it appears to be working, please let me know if im setting myself up for a fall though).<br><br>Do you know if an NSIS script can be made to include text from another file (like a jsp include from a web page) to avoid me having to do this copy and paste?<br><br>thanks for your help<br><br>Steve</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br><span class="post-time small text-muted">8th March 2005 14:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can open the NSIS script in JWPce and type it there. When done, select Save As and choose Shift-JIS as the filetype. Then, save on top of the .nsi script (alternatively, save as .sjs and rename to .nsi).<br><br>BTW, you are able to have several languages in one file regardless. You just won't get the Japanese characters shown correctly on computers that don't use Shift-JIS.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>