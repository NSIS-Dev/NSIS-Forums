<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="MUI bitmap resizing" />

  <title>MUI bitmap resizing - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">MUI bitmap resizing</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=199164">MUI bitmap resizing</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">moop</span><br />
      <span class="post-time small text-muted">13th November 2004 17:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>MUI bitmap resizing</strong><br />
      I photoshopped a bitmap for my installer, and used the recommended size (164x314), which should look like this:<br />
      <a href="http://img.photobucket.com/albums/v105/onwardknave/bmpgood.jpg" target="_blank">http://img.photobucket.com/albums/v1...ve/bmpgood.jpg</a><br />
      Yet, when the installer runs, the image is resized, and appears like:<br />
      <a href="http://img.photobucket.com/albums/v105/onwardknave/bmpbad.jpg" target="_blank">http://img.photobucket.com/albums/v1...ave/bmpbad.jpg</a><br />
      <br />
      How can I fix the blurry distorted look? I used<br />
      <font color="blue">!define MUI_WELCOMEFINISHPAGE_BITMAP</font> (path to my bmp file)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">13th November 2004 18:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">!define MUI_WELCOMEFINISHPAGE_BITMAP_NOSTRETCH<br />
      <br />
      It's in the readme :p<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">moop</span><br />
      <span class="post-time small text-muted">13th November 2004 18:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That doesn't work, and the readme talks about images which are smaller. I can send you a screenshot of how it appears when I use the syntax you listed, but it's the default image.<br />
      <br />
      From the readme:<br />
      <font size="1">MUI_HEADERIMAGE_BITMAP_NOSTRETCH<br />
      Do not stretch the installer header bitmap to fit the size of the field. Use this option only if you have an image that does not use the whole space. If you have a full size bitmap that fits exactly, you should not use this option because the size of the field will be different if the user has a custom DPI setting.</font></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pengyou</span><br />
      <span class="post-time small text-muted">13th November 2004 19:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think the answer is at the end of the last sentence of the paragraph you quoted from the MUI ReadMe:</p>

      <blockquote>
        the size of the field will be different if the user has a custom DPI setting.
      </blockquote>My display is set to "Normal size (96 dpi)" and when I build a MUI installer using the default UI the installer window is 503 x 386 pixels and the Welcome page image space is 164 x 314 pixels.<br />
      <br />
      The Welcome page screenshot you supplied is bigger than this (585 x 441 pixels) so the space for image is bigger than 164 x 314 pixels (which is why your image gets stretched).<br />
      <br />
      Check your DPI setting to see if this is why your image is being stretched.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">moop</span><br />
      <span class="post-time small text-muted">13th November 2004 19:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Again, I am <i>not using</i> the NOSTRETCH option (which is what that Readme is for).<br />
      <br />
      :igor:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pengyou</span><br />
      <span class="post-time small text-muted">13th November 2004 20:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        Again, I am not using the NOSTRETCH option (which is what that Readme is for).
      </blockquote>Perhaps I should have quoted the entire sentence?

      <blockquote>
        If you have a full size bitmap that fits exactly, <font color="red">you should not use this option</font> because the size of the field will be different if the user has a custom DPI setting.
      </blockquote>This sentence explains that the 164 x 314 pixel size only applies when the normal DPI setting is used - this happens even if you do not use the option.<br />
      <br />
      If you change the DPI setting the image field size changes.

      <blockquote>
        the size of the field will be different if the user has a custom DPI setting
      </blockquote>The screenshot shows that your installer window is larger than normal, therefore the space for the image is larger than normal so the 164 x 314 image gets stretched to fill the space.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">13th November 2004 21:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I said MUI_WELCOMEFINISHPAGE_BITMAP_NOSTRETCH, <b>not</b> MUI_HEADERIMAGE_BITMAP_NOSTRETCH.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">moop</span><br />
      <span class="post-time small text-muted">13th November 2004 22:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by pengyou</i><br />
        <b>Perhaps I should have quoted the entire sentence?This sentence explains that the 164 x 314 pixel size only applies when the normal DPI setting is used - this happens even if you do not use the option.<br />
        <br />
        If you change the DPI setting the image field size changes.The screenshot shows that your installer window is larger than normal, therefore the space for the image is larger than normal so the 164 x 314 image gets stretched to fill the space.</b>
      </blockquote>This may be out of the realm of NSIS, but I'm not sure... <i>why</i> is my installer showing the wrong size then?<br />
      <br />
      And Afrow, sorry. Also, even though, that still didn't work... I get the default blank again. I'm looking at DPI FAQs and such... I remade my image at 75 dpi... which didn't work.<br />
      <br />
      The trouble with this whole resizing issue is that I'm not sure how to determine whether my installer is causing the problem (e.g. have I used some incorrect setting?) or whether my image that I photoshopped is wrong (72 dpi was the original, default setting Photoshop used to make the bitmap, which I then later re-made from scratch at 75 dpi). I'm looking through the help files, and FAQs, but this seems like it's something that should never go wrong... So if it's an NSIS issue, I'm even more perplexed. Any advice? I just have a feeling I shouldn't need to spend two hours looking through old posts to get my bitmap to work, or more information should exist in the readme (I have been reading and re-reading and re-re-reading it all day)... kinda frustrating.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">13th November 2004 22:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The size also depends on the font. It seems you've changed yours to Comic Sans MS which is probably bigger than the default.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">moop</span><br />
      <span class="post-time small text-muted">13th November 2004 22:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you kichik, that solved it instantly.<br />
      <br />
      And thank you pengyou and Afrow, too, for being patient through my misunderstandings. :)<br />
      <br />
      Is there somewhere in the documentation that could make the association between bitmap distortion and font selection more apparent? I can't see how a neophyte like myself could ever have discovered it without the help of a master.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
