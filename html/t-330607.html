<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="nsis + avg anti-virus = :("><title>nsis + avg anti-virus = :( - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">nsis + avg anti-virus = :(</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=330607">nsis + avg anti-virus = :(</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">coolmeen</span><br><span class="post-time small text-muted">15th May 2011 14:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>nsis registry + avg anti-virus = :(</strong><br>hey guys.<br>after many hours of coding my installer is finished, thx for all the help!<br>1 small problem is that when i m writing to reg(Software\Microsoft\windows\currentVersion\run) the startup with windows path the avg<br>vicious anti virus detects it as a threat...<br>i tried running all of kind of downlded installers(flashget an etc ..) with the same function and the ang havn't responded to those installer as threat.<br>if you would be kind to help it would be great.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Highcoder</span><br><span class="post-time small text-muted">15th May 2011 17:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>...</strong><br>AV engines uses 2 different types to classify a file. The first one is to compare the "fingerprint" of known malware with your file. The other one is the heuristic. It scans the "behavior" of your file and check how many "good" and how many "bad" operations it does. And if the "bad" things reaches a certain percentage than the file get classified as malware.<br><br>Write do the autostart registry key is such "bad" thing. But your installer must do more bad things than that because writing to that key only normally doesn´t trigger the AV alert.<br><br>So for more help we need to see your code...<br><br>cheers</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">15th May 2011 22:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">it's probably unrelated, but i recently noticed that all of my old installers where classified as malware by most antivirus scanners. what made it so bad, was the fact i was using upack header compression. switched to upx and got no more problems.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br><span class="post-time small text-muted">16th May 2011 06:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Don't worry about it...<br>AVG is not good anti-virus, it shows a large of false alarms. try to scan your file with Eset or other tool.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">16th May 2011 08:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">AVG has a huge userbase, so if it flags his installer as a virus that is a genuine problem that must be solved. Not worrying about it is not going to help doing that. Suggesting he just ignore the problem seems a rather pointless thing to do...<br><br>Coolmeen, one thing you could try is submitting a false positive report to grisoft: <a href="http://samplesubmit.avg.com/us-en/false-detection" target="_blank">http://samplesubmit.avg.com/us-en/false-detection</a><br><br>I don't know if they're willing to adjust their heuristics engine to accommodate invasive NSIS installers, but you can give it a try.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">coolmeen</span><br><span class="post-time small text-muted">16th May 2011 09:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">yeah.. i dont think my inst will qualify to "mama tereza's" installer award..<br>with the user's permission it sets a custom home page on the diffrerent browsers as many other installers..<br>and theres the question, all the other "innocent" installers submit there program to the anti-viruses observation for false positive?<br>any way , surprisingly i tried reposition the reg key adding to another function/section and it worked like magic.<br>thx alot.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Highcoder</span><br><span class="post-time small text-muted">16th May 2011 09:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">muhahaha... "mama tereza´s" installer award... :-)<br><br>Yup, sometimes you only need small changes in code. And before you release your installer you should test it with a online malware scanner like jottis or virus total...<br><br>@Yatosho<br><br>Header compression very often causes false positives (UPX too). So i don´t use them...<br>For my interest: Why do you use exe head packer? It can´t be the compression ratio. The filesize decrease is absolutely insignificant (in case you do an installer).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">coolmeen</span><br><span class="post-time small text-muted">17th May 2011 10:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">lol!<br>avast is so stupid that when i defined the installers icon it recognized it as a threat..<br>the sec i change the icon size it cooled down...<br>so idiotic</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>