<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Insert string/text at the bottom of MUI_WELCOME page" />

  <title>Insert string/text at the bottom of MUI_WELCOME page - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Insert string/text at the bottom of MUI_WELCOME page</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=263388">Insert string/text at the bottom of MUI_WELCOME page</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Swapan Das</span><br />
      <span class="post-time small text-muted">10th January 2007 15:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Insert string/text at the bottom of MUI_WELCOME page</strong><br />
      Hello Everybody,<br />
      <br />
      I want a little modification in the MUI_WELCOME page. Everything is fine with the default Welcome page, but<br />
      I'm unable to insert a string/text at the bottom of the<br />
      Welcome Page. I want to use the default MUI_WELCOME page<br />
      with this feature.<br />
      <br />
      I've searched it in the forum, but didn't found. Its urgent, so please help me.<br />
      <br />
      With regards,</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">10th January 2007 15:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The MUI welcome page is just a custom page that you may easily change by modifying the respective MUI_SPECIALINI.<br />
      See MUI documentation chapter Customize standard dialogs.<br />
      <a href="http://nsis.sourceforge.net/Docs/Modern%20UI/Readme.html" target="_blank">http://nsis.sourceforge.net/Docs/Mod...UI/Readme.html</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Swapan Das</span><br />
      <span class="post-time small text-muted">10th January 2007 16:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for the response Red Wine.<br />
      <br />
      Actually I'm running out of time, as I've to despatch the Installer. Can you/somebody please show the coding how to do it - insert one string/text at the bottom of the Welcome page.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">10th January 2007 16:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is a modified version of MUI included example WlcomeFinish.nsi :)<br />
      <br /></p>
      <pre>
<code>;NSIS Modern User Interface<br />;Welcome/Finish Page Example Script<br />;Written by Joost Verburg<br /><br />;--------------------------------<br />;Include Modern UI<br /><br />  !include "MUI.nsh"<br /><br />;--------------------------------<br />;General<br /><br />  ;Name and file<br />  Name "Modern UI Test"<br />  OutFile "WelcomeFinish.exe"<br /><br />  ;Default installation folder<br />  InstallDir "$PROGRAMFILES\Modern UI Test"<br /><br />  ;Get installation folder from registry if available<br />  InstallDirRegKey HKCU "Software\Modern UI Test" ""<br /><br />;--------------------------------<br />;Interface Settings<br /><br />  !define MUI_ABORTWARNING<br /><br />;--------------------------------<br />;Pages<br /><font color="red">  !define MUI_PAGE_CUSTOMFUNCTION_PRE 'WelPre'<br />  !define MUI_PAGE_CUSTOMFUNCTION_SHOW 'WelShow'</font><br />  !insertmacro MUI_PAGE_WELCOME<br />  !insertmacro MUI_PAGE_LICENSE "${NSISDIR}\Docs\Modern UI\License.txt"<br />  !insertmacro MUI_PAGE_COMPONENTS<br />  !insertmacro MUI_PAGE_DIRECTORY<br />  !insertmacro MUI_PAGE_INSTFILES<br />  !insertmacro MUI_PAGE_FINISH<br /><br />  !insertmacro MUI_UNPAGE_WELCOME<br />  !insertmacro MUI_UNPAGE_CONFIRM<br />  !insertmacro MUI_UNPAGE_INSTFILES<br />  !insertmacro MUI_UNPAGE_FINISH<br /><br />;--------------------------------<br />;Languages<br /><br />  !insertmacro MUI_LANGUAGE "English"<br /><font color="red"><br />Function WelPre<br /> WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Settings' 'NumFields' '4'<br /> WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 4' 'Type' 'Link'<br /> WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 4' 'Top' '185'<br /> WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 4' 'Bottom' '195'<br /> WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 4' 'Left' '120'<br /> WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 4' 'Right' '315'<br /> WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 4' 'Text' \<br />'Visit $(^name) on the web'<br /> WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 4' 'State' \<br />'http://nsis.sourceforge.net/Docs/Modern%20UI/Readme.html'<br />FunctionEnd<br /><br />Function WelShow<br /> ReadIniStr $0 '$PLUGINSDIR\iospecial.ini' 'Field 4' 'HWND'<br /> SetCtlColors $0 '0x0000FF' '0xFFFFFF'<br />FunctionEnd<br /></font> <br />;--------------------------------<br />;Installer Sections<br /><br />Section "Dummy Section" SecDummy<br /><br />  SetOutPath "$INSTDIR"<br /><br />  ;ADD YOUR OWN FILES HERE...<br /><br />  ;Store installation folder<br />  WriteRegStr HKCU "Software\Modern UI Test" "" $INSTDIR<br /><br />  ;Create uninstaller<br />  WriteUninstaller "$INSTDIR\Uninstall.exe"<br /><br />SectionEnd<br /><br />;--------------------------------<br />;Descriptions<br /><br />  ;Language strings<br />  LangString DESC_SecDummy ${LANG_ENGLISH} "A test section."<br /><br />  ;Assign language strings to sections<br />  !insertmacro MUI_FUNCTION_DESCRIPTION_BEGIN<br />    !insertmacro MUI_DESCRIPTION_TEXT ${SecDummy} $(DESC_SecDummy)<br />  !insertmacro MUI_FUNCTION_DESCRIPTION_END<br /><br />;--------------------------------<br />;Uninstaller Section<br /><br />Section "Uninstall"<br /><br />  ;ADD YOUR OWN FILES HERE...<br /><br />  Delete "$INSTDIR\Uninstall.exe"<br /><br />  RMDir "$INSTDIR"<br /><br />  DeleteRegKey /ifempty HKCU "Software\Modern UI Test"<br /><br />SectionEnd<br /></code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Swapan Das</span><br />
      <span class="post-time small text-muted">11th January 2007 05:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks a lot Red Wine for your wonderful response. It was beyond my expectation that you supplied the actual coding for the purpose.<br />
      <br />
      Actually, last night after your first response (suggestion for reading docs.), I found one example in the NSIS site to add a link in the welcome page (<a href="http://nsis.sourceforge.net/Add_link_to_welcome_page_%28MUI%29" target="_blank">http://nsis.sourceforge.net/Add_link...page_%28MUI%29</a>). But was already too late at office, and had to return to home. Your example, made me sure that this is the only way to tackle my issue.<br />
      <br />
      I'm yet to finish my issue completely, but with your help I've started it. The first change I've made is:<br />
      <br />
      Function WelPre<br />
      WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 4' 'Type' 'Label'<br />
      <br />
      (I've changed the Type to 'Label' instead of 'Link')</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Swapan Das</span><br />
      <span class="post-time small text-muted">11th January 2007 05:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The background color of the inserted label is not matching with the background color of the rest of the page. How to make it similar?<br />
      <br />
      Thanks!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">11th January 2007 06:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Swapan Das</i><br />
        <b>The background color of the inserted label is not matching with the background color of the rest of the page. How to make it similar?<br />
        <br />
        Thanks!</b>
      </blockquote>It's on the example above. SetCtlColors on Welcome page show function.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Swapan Das</span><br />
      <span class="post-time small text-muted">11th January 2007 07:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks once again. I'll check it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Swapan Das</span><br />
      <span class="post-time small text-muted">11th January 2007 14:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes it has worked Red Wine!<br />
      <br />
      Can I add one more line? Space is there for another line.<br />
      <br />
      With your code and with help from the thread I've mentioned, I've been able to get the desired output.<br />
      I've changed the Type to 'Label'. I think it is actually meant for the website link. Now I can forsee one more requirement from my authority- they will ask now to add website link to it!<br />
      <br />
      Yes how can I insert one more line at the bottom of the Welcome Page? This time it will be a website link.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">11th January 2007 16:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You may add more lines. You need to decrease the height of field 3 so fields would not overlap each other and increase the NumFields to the desired. Of course you should take care of field 3 to be enough space for the welcome/finish text.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Swapan Das</span><br />
      <span class="post-time small text-muted">12th January 2007 05:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Red Wine it was wonderful to have your constant support for this thread as well as for my other posts. I'll try out this one, and will wait for my authority to ask this feature from me!</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
