<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Background Color (MUI + IOEx) of Installer" />

  <title>Background Color (MUI + IOEx) of Installer - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Background Color (MUI + IOEx) of Installer</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=254940">Background Color (MUI + IOEx) of Installer</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">The Glimmerman</span><br />
      <span class="post-time small text-muted">6th September 2006 07:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Background Color (MUI + IOEx) of Installer</strong><br />
      Hey all,<br />
      I figured it out how to change the bgcolor of the installer.<br />
      Including the controls. :)<br />
      But there is one thing I cannot get to work.<br />
      I've got 2 custom pages. In the First I change the color including the section where the buttons are.<br />
      <br /></p>
      <pre>
<code><br />InstallOptionsEx::initDialog /NOUNLOAD "$TEMP\First.ini"<br />FindWindow $R1 "#32770" ""<br />Pop $R1<br />SetCtlColors $R1 0x000000 0x919CA0<br />SetCtlColors $HWNDPARENT 0x000000 0x919CA0<br />InstallOptionsEx::Show<br /></code>
</pre><br />
      <br />
      After leaving the first custompage it loads the second page.<br />
      But with different colors. I want it to load the default colors.<br />
      <br />
      <pre>
<code><br />InstallOptionsEx::initDialog /NOUNLOAD "$TEMP\Second.ini"<br />FindWindow $R1 "#32770" ""<br />Pop $R1<br />SetCtlColors $R1 0x000000 0xD4D0C8<br />SetCtlColors $HWNDPARENT 0x000000 0xD4D0C8<br />InstallOptionsEx::Show<br /></code>
</pre><br />
      <br />
      But this doesn't work. Can it be done? Or am I looking in the wrong direction.<br />
      <br />
      <br />
      Glimmerman
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">The Glimmerman</span><br />
      <span class="post-time small text-muted">7th September 2006 01:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">nobody. :(</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">8th September 2006 16:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you want the custom page to use the default colors, simply don't change its colors. If you're talking about $HWNDPARENT getting back the default Windows color, you could use the /BRANDING switch with no other parameters. It should set the default gray color.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">The Glimmerman</span><br />
      <span class="post-time small text-muted">11th September 2006 11:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">@kichik<br />
      <br />
      If I use the /BRANDING option.<br />
      Like this:<br />
      SetCtlColors $HWNDPARENT /BRANDING<br />
      (Or any other var used in FindWindow.)<br />
      <br />
      It uses the colors I used in my first custom page.<br />
      And it does not change to the default grey color.<br />
      <br />
      A bug maybe? Or My error.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th September 2006 09:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The branding color is the default gray color of Windows. If that's not the default color you're looking for, I don't know which default color you refer to.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">The Glimmerman</span><br />
      <span class="post-time small text-muted">15th September 2006 15:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I know what you mean.<br />
      Thats the color I want.<br />
      But my first custom page is this color (0x919CA0)<br />
      The whole page.<br />
      My second custom page right after clicking the next button.<br />
      Thats the page I want grey (default color).<br />
      But when I use branding I takes the color I use above ( My first custom page color) and not the default grey color I want.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th September 2006 17:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I can't see how this could happen. Attach your script, it might shed some light.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">The Glimmerman</span><br />
      <span class="post-time small text-muted">18th September 2006 07:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here's my script. The part that doesn't work.<br />
      If you want I can pm the whole script to you.<br />
      <br />
      <br />
      thx</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">22nd September 2006 12:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, /BRANDING won't help here because it's transparent and the color "behind" the dialog is still the old color until you move the window.<br />
      <br />
      Since SetCtlColors doesn't accept variables, you can't call GetSysColor yourself and set that color as the background. You can, however, add another label to the main dialog. You can then set a color to that label and hide it using ShowWindow when you want the original color.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">The Glimmerman</span><br />
      <span class="post-time small text-muted">25th September 2006 11:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">mmm I will try this out.<br />
      <br />
      Thx kichik</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
