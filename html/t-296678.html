<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="uninstaller doesn't self-delete" />

  <title>uninstaller doesn't self-delete - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">uninstaller doesn't self-delete</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=296678">uninstaller doesn't self-delete</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">yuriythebest</span><br />
      <span class="post-time small text-muted">30th August 2008 17:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>uninstaller doesn't self-delete</strong><br />
      right, I've been doing the basic tutorials, and apart from the very first time the uninstaller won't self delete. I've tried checking my code and also pasting the exact code but that didn't help.<br />
      <br />
      for instance this code:<br />
      <br /></p>

      <blockquote>
        # define installer name<br />
        outFile "installer.exe"<br />
        <br />
        # set desktop as install directory<br />
        installDir $DESKTOP<br />
        <br />
        # default section start<br />
        section<br />
        <br />
        # define output path<br />
        setOutPath $INSTDIR<br />
        <br />
        # specify file to go in output path<br />
        file test.txt<br />
        <br />
        # define uninstaller name<br />
        writeUninstaller $INSTDIR\uninstaller.exe<br />
        <br />
        # default section end<br />
        sectionEnd<br />
        <br />
        # create a section to define what the uninstaller does.<br />
        # the section will always be named "Uninstall"<br />
        section "Uninstall"<br />
        <br />
        # Always delete uninstaller first<br />
        delete $INSTDIR\uninstaller.exe<br />
        <br />
        # now delete installed file<br />
        delete $INSTDIR\test.txt<br />
        <br />
        sectionEnd
      </blockquote>it does remove the test.txt file afterwards, but uninstall.exe remains.<br />
      <br />
      <br />
      <br />
      also, is notepad the only way to edit these scripts or is there a better editor that can highlight the keywords, etc?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fabian.rap.more</span><br />
      <span class="post-time small text-muted">30th August 2008 20:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well how can you delete a file that is currenly executing? It will automatically be deleted the next time Windows starts but if you need to delete it then and there I think there is a how to in the wiki..</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">yuriythebest</span><br />
      <span class="post-time small text-muted">30th August 2008 21:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">cool thanks didn't know that :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">5th September 2008 11:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The uninstaller respawns itself so this won't happen. Also, if you don't use Delete /REBOOTOK, deletion will just fail instead of being queued for reboot.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
