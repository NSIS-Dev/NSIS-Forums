<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Language selection gone!!!"><title>Language selection gone!!! - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Language selection gone!!!</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=230795">Language selection gone!!!</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">cirerita</span><br><span class="post-time small text-muted">12th November 2005 10:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Language selection gone!!!</strong><br>hi,<br>after some changes made to my installation file, the language selection is gone... but I certainly didn't modify this part of the script!!!<br><br>Here it is:<br><br>; Script generated by the HM NIS Edit Script Wizard.<br><br>; HM NIS Edit Wizard helper defines<br>!define PRODUCT_NAME "Codecs"<br>!define PRODUCT_VERSION "1.25"<br>!define PRODUCT_PUBLISHER "cirerita"<br>!define PRODUCT_UNINST_KEY "Software\Microsoft\Windows\CurrentVersion\Uninstall\${PRODUCT_NAME}"<br>!define PRODUCT_UNINST_ROOT_KEY "HKLM"<br>!define PRODUCT_STARTMENU_REGVAL "NSIS:StartMenuDir"<br><br>; MUI 1.67 compatible ------<br>!include "MUI.nsh"<br><br>; MUI Settings<br>!define MUI_ABORTWARNING<br>!define MUI_ICON "burros3b.ico"<br>!define MUI_UNICON "burros3b.ico"<br><br>; Language Selection Dialog Settings<br>!define MUI_LANGDLL_REGISTRY_ROOT "${PRODUCT_UNINST_ROOT_KEY}"<br>!define MUI_LANGDLL_REGISTRY_KEY "${PRODUCT_UNINST_KEY}"<br>!define MUI_LANGDLL_REGISTRY_VALUENAME "NSIS:Language"<br><br>; Welcome page<br>!insertmacro MUI_PAGE_WELCOME<br>; License page<br>!insertmacro MUI_PAGE_LICENSE "contrato-readme.txt"<br>; Components page<br>!insertmacro MUI_PAGE_COMPONENTS<br>; Directory page<br>!insertmacro MUI_PAGE_DIRECTORY<br>; Start menu page<br>var ICONS_GROUP<br>!define MUI_STARTMENUPAGE_NODISABLE<br>!define MUI_STARTMENUPAGE_DEFAULTFOLDER "Codecs"<br>!define MUI_STARTMENUPAGE_REGISTRY_ROOT "${PRODUCT_UNINST_ROOT_KEY}"<br>!define MUI_STARTMENUPAGE_REGISTRY_KEY "${PRODUCT_UNINST_KEY}"<br>!define MUI_STARTMENUPAGE_REGISTRY_VALUENAME "${PRODUCT_STARTMENU_REGVAL}"<br>!insertmacro MUI_PAGE_STARTMENU Application $ICONS_GROUP<br>; Instfiles page<br>!insertmacro MUI_PAGE_INSTFILES<br>; Finish page<br>!insertmacro MUI_PAGE_FINISH<br><br>; Uninstaller pages<br>!insertmacro MUI_UNPAGE_INSTFILES<br><br>; Language files<br>!insertmacro MUI_LANGUAGE "Catalan"<br>!insertmacro MUI_LANGUAGE "Spanish"<br>!insertmacro MUI_LANGUAGE "English"<br><br>; MUI end ------</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">12th November 2005 10:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Delete HKLM\Software\Microsoft\Windows\CurrentVersion\Uninstall\Codecs\NSIS:Language.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">cirerita</span><br><span class="post-time small text-muted">12th November 2005 10:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">can't find that string. is this one:<br><br>!define MUI_LANGDLL_REGISTRY_VALUENAME "NSIS:Language"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">cirerita</span><br><span class="post-time small text-muted">12th November 2005 10:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ooops, you meant delete in Windows registry or in NSIS script???</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">12th November 2005 11:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">In Windows registry.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">cirerita</span><br><span class="post-time small text-muted">12th November 2005 11:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">thanks, it worked! by the way, is that normal? I mean, will it happen again whenever I modify the NSIS script?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">12th November 2005 11:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It will happen again once you install your program again. That's what MUI_LANGDLL_REGISTRY_* are for. From the documentation:</p><blockquote>The registry key to store the language. The users preference will be remembered. You can also use it for the uninstaller to display the right language. Don't forget to remove this key in the uninstaller.</blockquote></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">cirerita</span><br><span class="post-time small text-muted">12th November 2005 11:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">so, is it any better to simply delete this:<br><br>!define MUI_LANGDLL_REGISTRY_VALUENAME "NSIS:Language"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">12th November 2005 12:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Might be better to use</p><pre>
<code><br>!define MUI_LANGDLL_ALWAYSSHOW</code>
</pre><br>
      Always show the language selection dialog, even if a language has been stored in the registry. The language stored in the registry will be selected by default. (MUI Readme)
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cirerita</span><br>
      <span class="post-time small text-muted">12th November 2005 12:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok, thanks, I'll add that entry...</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>