<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to build nsis source code"><title>How to build nsis source code - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to build nsis source code</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318920">How to build nsis source code</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">dhiraj3301</span><br><span class="post-time small text-muted">4th May 2010 11:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to build nsis source code</strong><br>I want to change message "unpacking data" ,for that i have downloaded nsis source code and changd file Source\exehead\lang.h,for the compilation of nsis source code i refer following link <a href="http://nsis.sourceforge.net/Docs/AppendixG.html" target="_blank">http://nsis.sourceforge.net/Docs/AppendixG.html</a><br><br>I have installed python-2.5.1.msi, scons-0.97.win32.exe ,Microsoft visual tooltip 2003,microsoft visual c++ 2006,<br><br>but when i run "scons MSTOOLKIT=yes" command prompt it gives error "Scons is not recognised as an internal or external command,operable program or batch file"<br><br>Please tell me how to build nsis source code,give me exact steps what to do to compile nsis source code.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">4th May 2010 17:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">you need scons 1.x now if you are compiling code from svn, but the "Scons is not recognised as an internal or external command,operable program or batch file" command is a cmd.exe error message, meaning it can't find scons. the scons batch file is in the scripts subfolder (where you installed python) so run it with full path or add it to your path env</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dhiraj3301</span><br><span class="post-time small text-muted">10th May 2010 08:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">is it posible to show some other window above "unpacking data" window?<br><br>Thanks,<br>Dhiraj</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dhiraj3301</span><br><span class="post-time small text-muted">13th May 2010 11:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hi,<br><br>i am tryed very much but i am not able to recompile nsis,i have follow th e steps given in <a href="http://nsis.sourceforge.net/Docs/AppendixG.html" target="_blank">http://nsis.sourceforge.net/Docs/AppendixG.html</a><br><br>I have installed python-2.5.1.msi, scons-1.3.0.win32.exe but ,still same error is coming<br>"Scons is not recognised as an internal or external command,operable program or batch file"<br><br>Please someone tell me,what i have to do to recompile nsis source code,<br><br>Thanks,<br>Dhiraj</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">13th May 2010 11:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">i already told you</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dhiraj3301</span><br><span class="post-time small text-muted">13th May 2010 12:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hi Anders,<br><br>I have do as you tell i have executed scons-1.3.0.bat present in script folder,but same error reproduced then also i try second case,added that path to environment path but still same "Scons is not recognised as an internal or external command,operable program or batch file" error is coming,<br><br>Please,tell me if you have another solution,<br><br>Thanks,<br>Dhiraj</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dhiraj3301</span><br><span class="post-time small text-muted">14th May 2010 06:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi,<br><br>i have executed following<br><br>set MSSDK=C:\Path\To\Platform SDK<br>set VCToolkitInstallDir=C:\Path\To\VCToolkit<br>scons MSTOOLKIT=yes<br><br>now ,i got new error<br><br>C:\dev\nsis\nsis-2.45-src&gt;scons MSTOOLKIT=yes<br>scons: Reading SConscript files ...<br>Mkdir("build\release\config")<br>Delete("nsis-14-May-2010.cvs")<br>Delete(".instdist")<br>Delete(".test")<br>Using Microsoft tools configuration<br>Checking for memset requirement... no<br>Checking for C library gdi32... yes<br>Checking for C library user32... yes<br>Checking for C library pthread... no<br>Checking for C library iconv... no<br>Checking for C library version... yes<br>Checking for C library dl... no<br>Checking for C library gdi32... yes<br>Checking for C library iconv... no<br>Checking for C library pthread... no<br>Checking for C library user32... yes<br>Checking for C library version... yes<br>Checking for C++ library cppunit... no<br>scons: done reading SConscript files.<br>scons: Building targets ...<br>scons: *** [build\release\AdvSplash\AdvSplash.dll] AttributeError : 'NoneType' o<br>bject has no attribute '__dict__'<br>scons: building terminated because of errors.<br><br>please ,any one please suggest what to do to remove this error?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">14th May 2010 13:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You probably don't want to build all the plug-ins so add the SKIPPLUGINS=all to the scons command line.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dhiraj3301</span><br><span class="post-time small text-muted">17th May 2010 05:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hi,<br>i run scons MSTOOLKIT=yes SKIPPLUGINS=all but following error comes:<br><br><br>scons: Building targets ...<br>"C:\Program Files\Microsoft Platform SDK\\bin\Win64\link.exe" /nologo /opt:nowin<br>98 /map /OUT:build\release\Library\LibraryLocal\LibraryLocal.exe oleaut32.lib ve<br>rsion.lib build\release\Library\LibraryLocal\LibraryLocal.obj build\release\Libr<br>ary\LibraryLocal\ResourceEditor.obj build\release\Library\LibraryLocal\util.obj<br>build\release\Library\LibraryLocal\winchar.obj<br>LibraryLocal.obj : error LNK2019: unresolved external symbol "__int64 std::_Fpz"<br>(?_Fpz@std@@3_JA) referenced in function "protected: virtual class std::fpos&lt;in<br>t&gt; __thiscall std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;::seekoff<br>(long,int,int)" (?seekoff@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MAE?AV?<br>$fpos@H@2@JHH@Z)<br>LibraryLocal.obj : error LNK2019: unresolved external symbol "long const std::_B<br>ADOFF" (?_BADOFF@std@@3JB) referenced in function "protected: virtual class std:<br>:fpos&lt;int&gt; __thiscall std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;:<br>:seekoff(long,int,int)" (?seekoff@?$basic_streambuf@DU?$char_traits@D@std@@@std@<br>@MAE?AV?$fpos@H@2@JHH@Z)<br>LibraryLocal.obj : error LNK2019: unresolved external symbol "public: void __thi<br>scall std::_String_base::_Xran(void)const " (?_Xran@_String_base@std@@QBEXXZ) re<br>ferenced in function "public: int __thiscall std::basic_string&lt;char,struct std::<br>char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::compare(unsigned int,unsigned in<br>t,char const *,unsigned int)const " (?compare@?$basic_string@DU?$char_traits@D@s<br>td@@V?$allocator@D@2@@std@@QBEHIIPBDI@Z)<br>ResourceEditor.obj : error LNK2001: unresolved external symbol "public: void __t<br>hiscall std::_String_base::_Xran(void)const " (?_Xran@_String_base@std@@QBEXXZ)<br>util.obj : error LNK2001: unresolved external symbol "public: void __thiscall st<br>d::_String_base::_Xran(void)const " (?_Xran@_String_base@std@@QBEXXZ)<br>winchar.obj : error LNK2001: unresolved external symbol "public: void __thiscall<br>std::_String_base::_Xran(void)const " (?_Xran@_String_base@std@@QBEXXZ)<br>LibraryLocal.obj : error LNK2019: unresolved external symbol "public: void __thi<br>scall std::locale::facet::_Register(void)" (?_Register@facet@locale@std@@QAEXXZ)<br>referenced in function "class std::ctype&lt;char&gt; const &amp; __cdecl std::use_facet&lt;c<br>lass std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)" (??$use_facet@V?$ctype@D@std<br>@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br>LibraryLocal.obj : error LNK2019: unresolved external symbol "public: class std:<br>:locale::facet const * __thiscall std::locale::_Getfacet(unsigned int)const " (?<br>_Getfacet@locale@std@@QBEPBVfacet@12@I@Z) referenced in function "class std::cty<br>pe&lt;char&gt; const &amp; __cdecl std::use_facet&lt;class std::ctype&lt;char&gt; &gt;(class std::loca<br>le const &amp;)" (??$use_facet@V?$ctype@D@std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z<br>)<br>LibraryLocal.obj : error LNK2019: unresolved external symbol "public: void __thi<br>scall std::_String_base::_Xlen(void)const " (?_Xlen@_String_base@std@@QBEXXZ) re<br>ferenced in function "protected: bool __thiscall std::basic_string&lt;char,struct s<br>td::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt;::_Grow(unsigned int,bool)" (?<br>_Grow@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@IAE_NI_N@Z)<br>ResourceEditor.obj : error LNK2001: unresolved external symbol "public: void __t<br>hiscall std::_String_base::_Xlen(void)const " (?_Xlen@_String_base@std@@QBEXXZ)<br>util.obj : error LNK2001: unresolved external symbol "public: void __thiscall st<br>d::_String_base::_Xlen(void)const " (?_Xlen@_String_base@std@@QBEXXZ)<br>winchar.obj : error LNK2001: unresolved external symbol "public: void __thiscall<br>std::_String_base::_Xlen(void)const " (?_Xlen@_String_base@std@@QBEXXZ)<br>LibraryLocal.obj : error LNK2019: unresolved external symbol "public: void __thi<br>scall std::ios_base::_Addstd(void)" (?_Addstd@ios_base@std@@QAEXXZ) referenced i<br>n function "protected: void __thiscall std::basic_ios&lt;char,struct std::char_trai<br>ts&lt;char&gt; &gt;::init(class std::basic_streambuf&lt;char,struct std::char_traits&lt;char&gt; &gt;<br>*,bool)" (?init@?$basic_ios@DU?$char_traits@D@std@@@std@@IAEXPAV?$basic_streamb<br>uf@DU?$char_traits@D@std@@@2@_N@Z)<br>LibraryLocal.obj : error LNK2019: unresolved external symbol "struct _iobuf * __<br>cdecl std::_Fiopen(char const *,int,int)" (?_Fiopen@std@@YAPAU_iobuf@@PBDHH@Z) r<br>eferenced in function "public: class std::basic_filebuf&lt;char,struct std::char_tr<br>aits&lt;char&gt; &gt; * __thiscall std::basic_filebuf&lt;char,struct std::char_traits&lt;char&gt;<br>&gt;::open(char const *,int,int)" (?open@?$basic_filebuf@DU?$char_traits@D@std@@@st<br>d@@QAEPAV12@PBDHH@Z)<br>build\release\Library\LibraryLocal\LibraryLocal.exe : fatal error LNK1120: 8 unr<br>esolved externals<br>scons: *** [build\release\Library\LibraryLocal\LibraryLocal.exe] Error 1120<br>scons: building terminated because of errors.<br><br>after that i have tried<br><br>C:\dev\nsis\nsis-2.45-src&gt;scons MSTOOLKIT=yes SKIPPLUGINS=all -c LibraryLocal<br>i have also refered <a href="http://forums.winamp.com/showthread.php?postid=1787297" target="_blank">http://forums.winamp.com/showthread.php?postid=1787297</a> link but it still not works<br>then again execute scons MSTOOLKIT=yes SKIPPLUGINS=all ,but same error comes,<br><br>Please suggest a solution for this problem,<br><br>Thanks,<br>Dhiraj</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>