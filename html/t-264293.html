<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="changing the version number via command line"><title>changing the version number via command line - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">changing the version number via command line</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264293">changing the version number via command line</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Fuzzybunny</span><br><span class="post-time small text-muted">24th January 2007 20:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>changing the version number via command line</strong><br>Hi all, I've only looked at this install program for a couple days. I'd like to be able to modify the parameters VIProductVersion and VIAddVersionKey via the command line when we build an install. I've looked through the forums and help files but I haven't found anything yet. Any help would be greatly appreciated.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">24th January 2007 20:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can pass VIProductVersion and VIAddVersionKey on the command line using the /X command line parameter. You could also define a constant using /D and use its value in either of those.</p><pre>
<code>makensis /X"VIProductVersion 1.2.3.4"</code>
</pre><br><pre>
<code>makensis /DVERSION=1.2.3.4<br># in script<br>VIProductVersion ${VERSION}</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fuzzybunny</span><br>
      <span class="post-time small text-muted">24th January 2007 21:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi! thanks for the really quick response. :D<br>
      When I try that i get an error saying:<br>
      "invalid VIProductVersion format, should be X.X.X.X"</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fuzzybunny</span><br>
      <span class="post-time small text-muted">24th January 2007 21:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">sorry just to clarify, in the dos window when i try<br>
      makensis /X"VIProductVersion 1.2.3.4"<br>
      <br>
      I get Invalid command: VERSION<br>
      <br>
      when I try<br>
      makensis /DVERSION=1.2.3.4<br>
      <br>
      I get invalid VIProductVersion format, shoudl be X.X.X.X</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fuzzybunny</span><br>
      <span class="post-time small text-muted">24th January 2007 21:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ah i got it, I can't have the script say VIProductVersion $(VERSION). If I comment or remove the line and use:<br>
      makensis /X"VIProductVersion X.X.X.X path<br>
      that works.<br>
      <br>
      Thanks for the help!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br>
      <span class="post-time small text-muted">25th January 2007 12:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">you got a typo:<br>
      <br>
      VIProductVersion $(VERSION) is wrong<br>
      VIProductVersion ${VERSION} is correct.<br>
      <br>
      with the last one you can use the /D switch.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fuzzybunny</span><br>
      <span class="post-time small text-muted">25th January 2007 15:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ahh thats why, silly typo. Thanks!</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>