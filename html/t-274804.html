<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Dialog elements not mirrored on RTL system" />

  <title>Dialog elements not mirrored on RTL system - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Dialog elements not mirrored on RTL system</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274804">Dialog elements not mirrored on RTL system</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AxelMock</span><br />
      <span class="post-time small text-muted">23rd July 2007 15:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Dialog elements not mirrored on RTL system</strong><br />
      Hi,<br />
      <br />
      my installer has support for several languages. Among them Hebrew and Arabic (U.A.E.).<br />
      And it's using MUI.<br />
      <br />
      We found that everything is neatly adjusted right to left except for the dialog elements in the dialog header (Mini-Icon, Close icon...) in all dialogs (Welcome, Start, etc). This became apparent, when we pressed the Cancel button: The popup Abort-dialog is correctly aligned with the application mini-icon on the left and the window close icon on the right.<br />
      I suppose, that the latter is a System MessageBox whereas all other dialogs are from NSIS.<br />
      <br />
      I've searched the forum but all topics concerning RTL (Hebrew, Arab) I found was at least 2 years old.<br />
      <br />
      Here are my MUI defines:<br /></p>
      <pre>
<code><br /> !define MUI_ABORTWARNING<br /><br />;  The text in the next two defines would have to be translated / taken from InstallShield<br /> !define MUI_HEADERIMAGE<br /> !define MUI_HEADERIMAGE_RIGHT<br /> !define MUI_WELCOMEPAGE_TITLE_3LINES<br /> !define MUI_ICON "${MYICON}"<br /> !define MUI_UNICON "${MYICON}"<br /> !define MUI_HEADERIMAGE_BITMAP "${PROJECTDIR}Graphics\MYCOMPANY\company_logo.bmp" ; optional<br /> !define MUI_HEADERIMAGE_UNBITMAP "${PROJECTDIR}Graphics\MYCOMPANY\company_logo.bmp"<br /> !define MUI_HEADERIMAGE_BITMAP_RTL "${PROJECTDIR}Graphics\MYCOMPANY\company_logo.bmp" ; optional<br /> !define MUI_HEADERIMAGE_UNBITMAP_RTL "${PROJECTDIR}Graphics\MYCOMPANY\company_logo.bmp"<br /> !define MUI_CUSTOMFUNCTION_ABORT "myUserAbort"<br /> !define MUI_WELCOMEFINISHPAGE_BITMAP "${PROJECTDIR}Graphics\MYCOMPANY\product.bmp"<br /> !define MUI_UNWELCOMEFINISHPAGE_BITMAP "${PROJECTDIR}Graphics\MYCOMPANY\product.bmp"<br /> !define MUI_NO_INNERTEXT_LICENSE_BOTTOM_CHECKBOX<br /> !define MUI_NO_INNERTEXT_LICENSE_BOTTOM_RADIOBUTTONS<br /> !define MUI_LICENSEPAGE_RADIOBUTTONS<br /><br /></code>
</pre><br />
      <br />
      I've already altered (commented) !define MUI_HEADERIMAGE_RIGHT but that doesn't help.<br />
      <br />
      Any hints how to get the dialogs fully mirrored?<br />
      <br />
      Regards,<br />
      Axel
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">23rd July 2007 19:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The problem with the style that moves the window controls to the right is that it also moves everything to the right. That'd be nice if it worked on every platform. However, it doesn't work on non-localized versions of 9x and if I recall correctly, only works on XP and above. The style is WS_EX_LAYOUTRTL.<br />
      <br />
      To make RTL work on every version of Windows and look reasonable, I chose to skip WS_EX_LAYOUTRTL and layout the dialog manually.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AxelMock</span><br />
      <span class="post-time small text-muted">24th July 2007 08:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Kichik,<br />
      <br />
      thanks for the fast answer.<br />
      I've looked up WS_EX_LAYOUTRTL in msdn Library and did NOT find it. So this really seems special to some Windows Editions.<br />
      <br />
      You say, that you chose to layout the dialog manually.<br />
      Does this mean that when using a non WS_EX_LAYOUTRTL system, the default/standard dialogs that are produced/defined by NSIS have NON-mirrored title elements and one had to modify the dialogs using that weird custom dialog scheme?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">24th July 2007 20:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can find its description under <a href="http://msdn2.microsoft.com/en-us/library/ms632680.aspx" target="_blank">CreateWindowEx</a>.<br />
      <br />
      By manually I mean that our dialog editor moves everything to the right instead of letting Windows doing it with WS_EX_LAYOUTRTL. It calculates the proper coordinates and sets the proper styles. However, it can't touch the title bar. This way, when no special styles are used, it works on both RTL and non-RTL versions of Windows.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AxelMock</span><br />
      <span class="post-time small text-muted">22nd April 2009 10:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by kichik</i><br />
        By manually I mean that our dialog editor moves everything to the right instead of letting Windows doing it with WS_EX_LAYOUTRTL.
      </blockquote>Hi kichik,<br />
      <br />
      returning to the same issue, now that nsDialogs is available,<br />
      would it possible to adjust the dialog title bar by adding the WS_EX_LAYOUTRTL property vi nsDialogs??<br />
      <br />
      If yes, how?<br />
      <br />
      Thanx,<br />
      Axel
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">10th May 2009 14:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">nsDialogs doesn't create the main dialog, but only the inner dialog. So you can't use it to set the main dialog's style.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
