<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="User Input Help"><title>User Input Help - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">User Input Help</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=120671">User Input Help</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">treaz</span><br><span class="post-time small text-muted">8th January 2003 22:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>User Input Help</strong><br>Hi,<br><br>I have read through several examples in the forum, however, I still dont seem to be able to apply to my case.<br><br>I have been able to create a new dialog box with textboxes for the user to input. However, I do not know how to get the user's input and write it into another file (which will be installed/copied by the installer into the target machine).<br><br>I would be great if there is a short and sweet example. Thanks!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rainwater</span><br><span class="post-time small text-muted">8th January 2003 23:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you are using install options, just read the "Text" field from field in ini file. The text field in the ini file will automatically updated after the user hits the next button.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th January 2003 12:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">IO changes the State field, not the Text field.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">treaz</span><br><span class="post-time small text-muted">9th January 2003 15:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If this is the case may I know if there is any way I could read the user's text input?<br><br>Thanks!<br><br></p><blockquote><i>Originally posted by kichik</i><br><b>IO changes the State field, not the Text field.</b></blockquote></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th January 2003 15:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, with ReadIniStr.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">treaz</span><br><span class="post-time small text-muted">9th January 2003 21:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Could anyone please point out to me where I could have gone wrong?<br><br>Basically I am trying to read a user input and then write it to a file. BUT after the installation if complete, the file that I write to just has <font color="orange">my variable =</font> instead of <font color="orange">my variable = myList</font>. Can anyone help? Thanks!<br><br>This is part of my code:<br><font color="blue"><br>!define TEMP2 $R1<br><br>Section -open<br>FileOpen $0 $INSTDIR\myfile.txt w<br>ReadINIStr ${TEMP2} test.ini "Field 2" "State"<br>FileWrite $0 "my variable = ${TEMP2} $\r$\n"<br>FileClose $0<br>SectionEnd<br></font><br><br>This is part of my test.ini file:<br><i><br>[Field 2]<br>Type=droplist<br>ListItems=myList<br>State=myList<br>MinLen=1<br>Left=30<br>Right=300<br>Top=80<br>Bottom=300<br></i></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th January 2003 21:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Are you sure you got the real path to test.ini? I think it's in $PLUGINGSDIR, it must be if you are using it right. Give it a full path ($PLUGINSDIR\test.ini) and it should work.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">treaz</span><br><span class="post-time small text-muted">9th January 2003 21:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">thanks!! it helped! :)</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>