<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Dynamic OutFile based on GetDllVersionLocal" />

  <title>Dynamic OutFile based on GetDllVersionLocal - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Dynamic OutFile based on GetDllVersionLocal</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=302973">Dynamic OutFile based on GetDllVersionLocal</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jhunt</span><br />
      <span class="post-time small text-muted">10th February 2009 14:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Dynamic OutFile based on GetDllVersionLocal</strong><br />
      Hi, I'm looking to generate the OutFile name based on the result of a GetDllVersionLocal call, I've made a function that gets the version fomated how I want and places it in $0, but it doesn't seem I can call functions outside sections, and this wouldn't be done on the remote system, its only local.<br />
      <br />
      The logic is that I want the OutFile to be named "Setup App 1.0.0.exe", but want to automate this. I saw an example on the wiki on how to specify it externally on the command line, but that would still require me getting the version number from somewhere else.<br />
      <br />
      Any ideas? Thanks!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">10th February 2009 15:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">you can't generally mix runtime and compile time commands.<br />
      <br />
      Your best bet - short of a third party utility - is to (compile and) run one installer that uses GetDllVersionLocal on the file you need, and writes out the single line:<br />
      'OutFile &lt;result of that GetDllVersionLocal call&gt;' to, say 'outfile.nsc' ('c' for 'clipping' - I dunno, you pick something).<br />
      <br />
      Then in your main installer script, include that file where you would otherwise have the 'OutFile' instruction.<br />
      <br />
      Done! Have coffee :)<br />
      <br />
      You can launch that first 'installer' (that does nothing more than get the version and writes out the little file for inclusion) from the first installer using !execute or !system, so you wouldn't have to worry about running that manually.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
