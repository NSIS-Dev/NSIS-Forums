<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Password" />

  <title>Password - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Password</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=118942">Password</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">NsisMan</span><br />
      <span class="post-time small text-muted">24th December 2002 13:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Password</strong><br />
      &nbsp; Can anyone help me to make a script<br />
      <br />
      "when executing the compiled exe he ask for a pasword and only after the right password executes the installing after 3 times try it quits"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">24th December 2002 14:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You should use Install Options to create a custom dialog to ask the user for a password. There is a readme for IO in Contrib\InstallOptions\Readme.html. If the user got the password wrong, create the page again and a label to the INI file saying the password was wrong. If the user gets it wrong the third time use Quit to quit the installer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">NsisMan</span><br />
      <span class="post-time small text-muted">30th December 2002 08:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Can you help me write a script, not yet versed with nsis script yet.<br />
      If possible comment the example script.<br />
      <br />
      * - Is this the only option to do it Install Options.<br />
      * - Are there online(live)websites for example scripts if not i am in<br />
      the process of setting up a site with examples scripts, do you<br />
      know any sites were i can setup a link to scripts.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">30th December 2002 15:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can either use InstallOptions or write your own plug-in. I think using InstallOptions is much easier don't you agree? :P<br />
      <br />
      There is an example script that shows an InstallOptions page in Contrib\InstallOptions and Examples\Modern UI\InstallOptions.nsi for InstallOptions with the Modern UI. All you need to change is the INI file from TYPE=Text to TYPE=Password.<br />
      <br />
      The old examples page was Sunjammer's NSIS Archive, it was closed but we (mostly Sunjammer) are working on a new archive that will be much more easier to use, contribute to and maintain. There will be a message on the forums when it's ready and probably on <a href="http://nsis.sf.net/" target="_blank">http://nsis.sf.net/</a> too.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br />
      <span class="post-time small text-muted">30th December 2002 17:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>The Archive</strong><br />
      &nbsp; I'm putting starting content together for it at the moment (and continuing to add features and get it working properly) ... I'm weeding through the old Sunjammer's NSIS Archive content trying to determine what's worth keeping as we speak (or write).<br />
      <br />
      I'll try and see what I can find that is good for InstallOptions, maybe I'll just write some new content for that :)<br />
      <br />
      Hopefully the archive will be active soon and then the more contributors the merrier, especially since I'll be back at work as of Thursday this week and we've got New Year before then too!!!<br />
      <br />
      X</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">NsisMan</span><br />
      <span class="post-time small text-muted">6th January 2003 14:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">There is an example script that shows an InstallOptions page in Contrib\InstallOptions and Examples\Modern UI\InstallOptions.nsi for InstallOptions with the Modern UI. All you need to change is the INI file from TYPE=Text to TYPE=Password.<br />
      <br />
      Still not understanding this. please please pretty please help me with an example script.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">6th January 2003 15:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Enjoy.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">NsisMan</span><br />
      <span class="post-time small text-muted">7th January 2003 12:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Variables</strong><br />
      &nbsp; Can you make it so that i just have to change these lines<br />
      <br />
      user = nsis<br />
      pass = kickass<br />
      <br />
      where by i only have to change variables user and pass, i tried did not find variable for the password.<br />
      <br />
      Thanx</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th January 2003 14:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>
      <pre>
<code>
  StrCmp $0 "user1" 0 +2
<br />    StrCmp$1 "user1 password" continue wrong
<br />  StrCmp$0 "user2" 0 +2
<br />    StrCmp$1 "user2 password" continue wrong
<br />  StrCmp$0 "user3" 0 +2
<br />    StrCmp$1 "user3 password" continue wrong 
<br />&gt;
</code>
</pre>That's all you need to change. Every two lines represent the user name (user1, user2, user3) and the password (user1 password, etc.).
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">NsisMan</span><br />
      <span class="post-time small text-muted">7th January 2003 15:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Why the line "Read INI file"</strong><br />
      &nbsp; After compiling i see by component install a checkbox with line "Read INI file" i send the script with exe along.<br />
      <br />
      Tankx</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th January 2003 15:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's the section name...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">NsisMan</span><br />
      <span class="post-time small text-muted">7th January 2003 16:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>i know</strong><br />
      &nbsp; can i put these lines<br />
      <br />
      Section "Read INI file"<br />
      ReadINIStr ${TEMP1} "$TEMP\temp.ini" "Field 1" "State"<br />
      DetailPrint "User name: ${TEMP1}"<br />
      ReadINIStr ${TEMP1} "$TEMP\temp.ini" "Field 2" "State"<br />
      DetailPrint "Password: ${TEMP1}"<br />
      SectionEnd<br />
      <br />
      in this<br />
      <br />
      Function .onInit<br />
      ReadINIStr ${TEMP1} "$TEMP\temp.ini" "Field 1" "State"<br />
      DetailPrint "User name: ${TEMP1}"<br />
      ReadINIStr ${TEMP1} "$TEMP\temp.ini" "Field 2" "State"<br />
      DetailPrint "Password: ${TEMP1}"<br />
      StrCpy $2 0<br />
      InitPluginsDir<br />
      File /oname=$TEMP\temp.ini "temp.ini"<br />
      FunctionEnd</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th January 2003 16:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No, you can't put it in .onInit because the user hasn't entered the data yet... .onInit is called when the installer just starts, before any page is shown.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">NsisMan</span><br />
      <span class="post-time small text-muted">7th January 2003 16:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>i did</strong><br />
      &nbsp; and try it works, why</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th January 2003 16:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Then you must have left some code behind. You can't check the password before the user entered it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">NsisMan</span><br />
      <span class="post-time small text-muted">7th January 2003 16:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Nope</strong><br />
      &nbsp; You try it, attach all files</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th January 2003 21:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Why did you move the INI file to $TEMP? It's supposed to be in $PLUGINSDIR or else it won't be deleted. When you read the username and password from $TEMP you read the username and password from the last installer. You simply can't read the username and password before the user entered them, that's impossible.<br />
      <br />
      The code I gave you already checks if the username and password match according to those StrCmp's you need to change. If you want to later get the username and info you must get it from the INI file AFTER the user has entered them which is impossible in .onInit.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>