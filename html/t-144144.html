<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Custom Icon" />

  <title>Custom Icon - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Custom Icon</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=144144">Custom Icon</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">suzanneh</span><br />
      <span class="post-time small text-muted">30th July 2003 19:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Custom Icon</strong><br />
      Does anyone know if a custom icon can be set anywhere in NSIS? My program, Firebird, has a bug and an icon cannot be set on the .exe, even by using programs such as resHack so I'm hoping I can tell it to use a custom icon.<br />
      <br />
      Thanks for your help.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SGI</span><br />
      <span class="post-time small text-muted">30th July 2003 19:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">!define MUI_ICON "${NSISDIR}\Contrib\Icons\Youriconname.ico"<br />
      !define MUI_UNICON "${NSISDIR}\Contrib\Icons\YourIconname.ico"<br />
      <br />
      Copy your Icons in the folder</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">30th July 2003 20:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">the previous example applies to installers with modern interface. if you use the standard interface use<br />
      <br />
      Icon [path\]icon.ico<br />
      UninstallIcon [path\]icon.ico<br />
      <br />
      you can find this in the <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#" target="_blank">documentation</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">suzanneh</span><br />
      <span class="post-time small text-muted">30th July 2003 23:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for your reply but I want to set the icon for the program itself. ie: MozillaFirebird.exe. When compiling this program, it won't create the program icon and I was hoping I would be able to set it with the installer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">suzanneh</span><br />
      <span class="post-time small text-muted">31st July 2003 00:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">In reading over my post, I did not make it clear. Here is a portion of my script:<br />
      <br />
      ; Subsection about shortcuts (desktop, startmenu, quicklaunch)<br />
      ;<br />
      <br />
      SubSection /e "${NAME_SecAddShortcuts}" SecAddShortcuts<br />
      <br />
      Section "${NAME_SecAddDesktopShortcut}" SecAddDesktopShortcut<br />
      CreateShortCut "$DESKTOP\${DESC_DesktopShortcut}.lnk" \<br />
      "$INSTDIR\${EXE}" "" "$INSTDIR\${EXE}" 0<br />
      SectionEnd<br />
      <br />
      Section "${NAME_SecAddStartShortcuts}" SecAddStartShortcuts<br />
      CreateDirectory "$SMPROGRAMS\${DESC_StartDir}"<br />
      CreateShortCut "$SMPROGRAMS\${DESC_StartDir}\${DESC_StartUninst}.lnk" \<br />
      "$INSTDIR\${UNINSTALLER}" "" "$INSTDIR\${UNINSTALLER}" 0<br />
      CreateShortCut "$SMPROGRAMS\${DESC_StartDir}\${DESC_StartProg}.lnk" \<br />
      "$INSTDIR\${EXE}" "" "$INSTDIR\${EXE}" 0<br />
      SectionEnd<br />
      <br />
      Section "${NAME_SecAddQuicklaunchShortcut}" SecAddQuicklaunchShortcut<br />
      CreateShortCut "$QUICKLAUNCH\${DESC_Quicklaunch}.lnk" \<br />
      "$INSTDIR\${EXE}" "" "$INSTDIR\${EXE}" 0<br />
      SectionEnd<br />
      <br />
      SubSectionEnd<br />
      <br />
      I need to tell the installer to use my icon located here: [D:\!Browsers\InTouch\intouch\32i.ico]</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">31st July 2003 00:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok... sinxe your icon for the shorcut isn't the same of the installer or the uninstaller...<br />
      Try this:<br /></p>
      <pre>
<code><br />CreateShortCut "short.lnk" "$INSTDIR\${exe}.exe" "" \ <br />"$INSTDIR\theico.ico" 0 "SW_SHOWNORMAL" "" "Hi. I'm a shortcut"<br /></code>
</pre><br />
      <br />
      Where <b>"$INSTDIR\theico.ico"</b> is the installed path of the icon...
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">suzanneh</span><br />
      <span class="post-time small text-muted">31st July 2003 01:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please forgive me as I am a noobie. I tried entering the lines you suggested and I get an error. Do I replace<br />
      <br />
      CreateShortCut "$DESKTOP\${DESC_DesktopShortcut}.lnk" \<br />
      "$INSTDIR\${EXE}" "" "$INSTDIR\${EXE}" 0<br />
      <br />
      with<br />
      <br />
      CreateShortCut "short.lnk" "$INSTDIR\${exe}.exe" "" \<br />
      "$INSTDIR\D:\!Browsers\InTouch\intouch\32i.ico" 0 "SW_SHOWNORMAL" "" "Intouch"<br />
      <br />
      If so, I receive the following error:<br />
      <br />
      CreateShortCut: "short.lnk"-&gt;"$INSTDIR\InTouch.exe.exe" icon:$INSTDIR\D:\!Browsers\InTouch\intouch\32i.ico,0, showmode=0x1, hotkey=0x0, comment=Intouch<br />
      Error: Can't add entry, no section or function is open!<br />
      Error in script "D:\!Browsers\InTouch\InTouchinstaller\installer.nsi" on line 216 -- aborting creation process</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">31st July 2003 11:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You must place the code in a Function or section.<br />
      <br />
      Example<br /></p>
      <pre>
<code>Section "Install my program"<br />File "/oname=$INSTDIR\${exe}.exe" "${exe}.exe"<br />CreateShortCut "short.lnk" "$INSTDIR\${exe}.exe" "" \ <br />"$INSTDIR\D:\!Browsers\InTouch\intouch\32i.ico" 0 "SW_SHOWNORMAL" "" "Intouch"<br />SectionEnd</code>
</pre><br />
      <br />
      -Stu
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
