<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="NSIS 2.44 New Plugin API header for Delphi" />

  <title>NSIS 2.44 New Plugin API header for Delphi - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">NSIS 2.44 New Plugin API header for Delphi</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305718">NSIS 2.44 New Plugin API header for Delphi</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Static_VoiD</span><br />
      <span class="post-time small text-muted">25th April 2009 14:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>NSIS 2.44 New Plugin API header for Delphi</strong><br />
      I'm sorry if it has been already discussed and solved.<br />
      I searched forum for the subject now and earlier but hadn't found anything.<br />
      <br />
      Now I was able to make this work and want to share it, because AFAIK there was a discussion thread of NSIS 2.44 New Plugin API and new header for C++. So there was a post about the same thing for Delphi, but the reply was negative.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br />
      <span class="post-time small text-muted">25th April 2009 15:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Taking a quick look at the code, note that you CANNOT use this out of the box for ANSI NSIS plug-ins and D2009, since it uses the "plain" string and PChar types, which map to AnsiString and PAnsiChar in D2007 and prior, but UnicodeString and PWideChar in D2009. The same obviously applies to Unicode NSIS and D2007 or prior.<br />
      <br />
      If you want one of those combinations, you'll have to alter a few minor things here.<br />
      <br />
      I assume Unicode NSIS has not changed this bit drrastically, so I would guess that this work with Unicode NSIS and D2009 (but have not tested it).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Static_VoiD</span><br />
      <span class="post-time small text-muted">25th April 2009 15:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm sorry (again :) ) i forgot to mention - i'm coding in Delphi 7. Thus i was unable to test it on later Delphi releases.<br />
      But, i suppose, it won't be too hard to clange usual PChar and some other stuff so that it could be compatible with delphi 09</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">25th April 2009 18:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have not touched delphi since v3 so I don't remember anything about it, but I'm sure it would be possible to define/typedef your own type, name it NSISChar or whatever and some kind of define that lets you choose unicode or ansi so the same header can support both</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
