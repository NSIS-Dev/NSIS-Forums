<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Embedding some identifier to installer" />

  <title>Embedding some identifier to installer - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Embedding some identifier to installer</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=336868">Embedding some identifier to installer</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">union</span><br />
      <span class="post-time small text-muted">1st November 2011 22:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Embedding some identifier to installer</strong><br />
      Hello!<br />
      <br />
      First of all sorry for my poor English.<br />
      <br />
      I need some identifier in the installer, which can be changed directly by editing the exe-file (as it will occur on the server).<br />
      <br />
      I tried to add in installer text file containing a string of "XXXXXXXXXXX" pointing to his "SetCompress off". When I open the installer in the hex-editor, I find this line in it, but if I change it, the installer will not run.<br />
      <br />
      Anybody can help me?<br />
      <br />
      Thanks in advance</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">1st November 2011 23:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This didn't work, because generally modifications of the installer EXE occur due to download errors. And NSIS uses a CRC check to detect corrupted (modified) installers. You could work around this "problem" by disabling the CRC check, BUT THIS IS A VERY BAD IDEA. Instead you could try to append some additional data to the end of the EXE file, after it has been compiled by MakeNSIS. I would assume this additional data ("overlay") is not covered by the CRC check. You could then open the EXE file for reading via <i>FileOpen</i> and <i>$EXEFILE</i>. As the size of the EXE file is not known beforehand, you don't know the exact seek position where you'll find your data. Instead you will have to add some "magic number" in front of the data. Then you can scan through the file via <i>FileReadByte</i> until you have found the "magic number" (and thus the desired data). Maybe start the search at some offset in order to speed-up the process...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">2nd November 2011 00:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://nsis.sourceforge.net/ReadCustomerData" target="_blank">http://nsis.sourceforge.net/ReadCustomerData</a><br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">union</span><br />
      <span class="post-time small text-muted">2nd November 2011 06:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you for your answers guys!<br />
      I think my problem is solved. I will use the ReadCustomerData function.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
