<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="How to overcome 2GB-per-file limit" />

  <title>How to overcome 2GB-per-file limit - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">How to overcome 2GB-per-file limit</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=329895">How to overcome 2GB-per-file limit</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">erundil</span><br />
      <span class="post-time small text-muted">21st April 2011 14:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>How to overcome 2GB-per-file limit</strong><br />
      I'm making a big installer this time and I have stumbled upon a ridiculous error:<br /></p>
      <pre>
<code>Internal compiler error #12345</code>
</pre><br />
      <br />
      I did some digging and found out, that max. size of NSIS installer is about 2GB.<br />
      Well, ok, it makes sense for some veeery old OS's, but now-a-days it's a big problem. Why?<br />
      <br />
      First - it's very convenient for the end-user to use a single file instead of keeping lots of smaller ones<br />
      Second - it's much easier to distribute on the web<br />
      <br />
      So my question is - when will that limitation be taken off?<br />
      <br />
      Additionaly I'd like to ask if there is any way to hack those limits somehow. Different compression maybe? Or different compiler? Anything?<br />
      (Multiple-files-installer is not an option!)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Highcoder</span><br />
      <span class="post-time small text-muted">21st April 2011 14:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        ...it makes sense for some veeery old OS's...
      </blockquote>not only. It makes sense on every FAT32 Partition and afaik for normal http downloads too.<br />
      <br />
      Of course a single file is very comfotable but especially on those huge files you should force a crc check. And THIS takes a very long time with this filesize...<br />
      <br />
      If that kind of kingsize installers whould be a practicable way don´t you think some major software labels whould do this already?<br />
      <br />
      To increase compression ratio use LZMA /SOLID compression method. But you should think about multifile installers (one exe &amp; cab´s or 7zip´s). There are NSIS Plugins for this case.<br />
      <br />
      cheers
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">erundil</span><br />
      <span class="post-time small text-muted">21st April 2011 15:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for quick reply, but it wasn't a question of "should I", but "how to".<br />
      <br />
      At the very beginning: you are wrong. 2GB limits are present in FAT16. FAT32 is limited to 4GB. But still that's not good enough, I need something like 5. NTFS drives are good with files bigger than 4GBs.<br />
      <br />
      If you say about "big developers", I'd like to remind, that "big developers" usualy release on DVDs, where multifile installer is not a problem at all.<br />
      <br />
      One file, got it?<br />
      <br />
      But going back to DVD-releases, I was thinking about a multifile installer on ISO image. Gives one file. Still it needs to be mounted, not to mention that I have no idea about AutoRun.<br />
      <br />
      So solution is simple - make new version of NSIS, enabling 2GB+ installers, but to warn programmer, that exe this big might not be supported on some systems. Maybe introduce a trigger that have to be switched, like e.g. !define Over2GB or SetCompressor /2GB+ LZMA...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Highcoder</span><br />
      <span class="post-time small text-muted">21st April 2011 15:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>...</strong><br />
      I understood your question. :)<br />
      I made this suggestions because some people think (you don´t) they have to create 2 or more exe files and the user has to execute it one after another. And that looks not professional.<br />
      <br />
      But in the moment there is no way to create one-file-installers bigger then 2GB with NSIS.<br />
      And you´re right. fat32 supports files with a size one byte less then 4GB. Provide an ISO or compressed file archive is a possible solution.<br />
      <br />
      cheers</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">21st April 2011 19:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://nsis.sourceforge.net/Multi-volume_Distribution" target="_blank">http://nsis.sourceforge.net/Multi-volume_Distribution</a><br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">erundil</span><br />
      <span class="post-time small text-muted">22nd April 2011 02:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yeah, now working on it (on ISO, I mean). It's just there was no new version of NSIS since 6.12.2009 (more than a year, huh?), so I was just curious if we can push on NSIS Devs to extend the abilities of the compiler... But I don't see that coming, so... I'll stick to ISO. Heh.<br />
      Still a dreamer :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">erundil</span><br />
      <span class="post-time small text-muted">9th October 2011 00:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">One more thing. Most installers we find on DVDs are unpacking files from containers like BIN files.<br />
      Are there any NSIS libraries supporting it, or do I have to create my own functions to pack and unpack data?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br />
      <span class="post-time small text-muted">10th October 2011 05:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Those .bins use their own proprietary format. Simply use .zip .cab .7z or other common archive - NSIS has a lot of plug-ins for working with them.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">10th October 2011 10:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If it's an innosetup exe/bin file, you can use innounp to unpack it.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
