<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Close button (X) on instfiles page performs no action" />

  <title>Close button (X) on instfiles page performs no action - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Close button (X) on instfiles page performs no action</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=237049">Close button (X) on instfiles page performs no action</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Ross Bradbury</span><br />
      <span class="post-time small text-muted">3rd February 2006 04:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Close button (X) on instfiles page performs no action</strong><br />
      Using NSIS v2.14 I've noticed this behavior when you make an installer that has a page <i>after</i> the instfiles page in either the Classic and the Modern theme. Once the files are installed and you are still at the instfiles page that now says "Completed" the Windows close button (the X in the corner of the window) and the "x Close Alt+F4" option on the system menu (the Alt+Space menu) are enabled but they do not perform any action when clicked. This has made some users of the installer think that it is hung because it doesn't close when they actually have to click the Next button.<br />
      <br />
      I bet someone has already addressed or answered this question, but I didn't find this discussed anywhere.<br />
      <br />
      There are two obvious work-arounds:<br />
      1) I leave it like it is. Some users will click the X a few times and then try clicking Next and all will be fine.<br />
      2) I AutoClose the instfiles page so they never have a page where the installer is idle and the X button doesn't respond (but the nice log window disappears).<br />
      <br />
      <i>Is there a way to disable Close in this state?</i></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Instructor</span><br />
      <span class="post-time small text-muted">3rd February 2006 05:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Unfortunatelly /ENABLECANCEL flag work only for the last page. I told kichik about this, but I don't remember what he said :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">3rd February 2006 11:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">/ENABLECANCEL is meant only for the last page.<br />
      <br />
      There is some discussion. It's mainly about the cancel button in the finish page. I don't remember if the close button was actually discussed, but they're both related so they will be fixed together.<br />
      <br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=134996&amp;highlight=cancel" target="_blank">http://forums.winamp.com/showthread....ghlight=cancel</a><br />
      <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1267491&amp;group_id=22049&amp;atid=373085" target="_blank">http://sourceforge.net/tracker/index...49&amp;atid=373085</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Ross Bradbury</span><br />
      <span class="post-time small text-muted">8th February 2006 03:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you both for your reply. My question was actually about the displayed <i>state</i> of the the close button. After some confusion and a bit of thought I think I understand how /ENABLECANCEL might relate. The behavior of the close button must be tied to the Cancel button. However we should be able to disable the Close item on the system menu to disable the close button whenever the cancel button is disabled.<br />
      <br />
      I may attempt to execute some API calls myself and see if I can disable the close button before instfiles page using code similar to the code found at <a href="http://addressof.com/blog/articles/232.aspx," target="_blank">http://addressof.com/blog/articles/232.aspx,</a> however I am betting that minimizing and restoring the window will re-enable the close button. If I actually try this I'll post my code and its results.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
