<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to record[store] property values in nsis?"><title>How to record[store] property values in nsis? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to record[store] property values in nsis?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=358141">How to record[store] property values in nsis?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">ilaiyaraja</span><br><span class="post-time small text-muted">26th March 2013 15:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to record[store] property values in nsis?</strong><br>I have created exe file using nsis.Its working fine as expected.Now i'm wondering.<br><br>In my script i have 3 pages of reading and writing configuration property.I have used text box for reading and writing.If the user clicks exe file its installed successfully.<br><br>My problem:<br>If the exe file have any update i need to do the update process using silent installer[No interaction].In that case i have to use same set of conf property values as earlier used.I donot know how to keep or store values something like recording or something else.Also if the user wants to add more property in silent installer that also want to do.<br><br>How to keep[record] configure property values in nsis ?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">26th March 2013 17:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">To save information between two installation sessions, you can either save to a file or save to registry. For the commands to do this, read chapter 4.9.2 of the manual:<br><a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.2" target="_blank">http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.2</a><br><br>To let the user supply info to a silent installer, you can use command line parameters.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ilaiyaraja</span><br><span class="post-time small text-muted">27th March 2013 06:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks @MSG.can you explain more with sample code?<br><br>Function .onInit<br>!ifdef IsSilent<br>SetSilent silent<br>!endif<br>FunctionEnd<br><br>I have use this code for running silent and non-silent mode.<br>First i have run non-silent mode change configuration property values.Next time i have run silent mode the configuration property <b>revert back to default values</b>.so In that case i need to keep the values temporarily and restore values when its needed?<br>I have use below code for reading values from property file.<br>Function settings<br>InstallOptions::dialog "$PLUGINSDIR\Access.ini"<br>ReadINIStr $test "$PLUGINSDIR\Access.ini" "Field 1" "State"<br>ReadINIStr $sample "$PLUGINSDIR\Server.Access.ini" "Field 4" "State"<br>FunctionEnd<br><br>Below code writing the values to the conf property.<br>Function written<br>${ConfigWrite} "$INSTDIR\conf.properties" "Acess" "=$test" $R3<br>;$R3=CHANGED<br>${ConfigWrite} "$INSTDIR\conf.properties" "sampletest" "=$sample" $R4<br>;$R4=CHANGED<br>FunctionEnd<br><br>How to save this values in file or registry?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">27th March 2013 07:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can simply use FileWrite to write one line (setting) to a txtfile. Then use FileRead in a loop to read all written settings.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ilaiyaraja</span><br><span class="post-time small text-muted">27th March 2013 09:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks MSG. i will try.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>