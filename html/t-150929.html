<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="problem with SetOverwrite" />

  <title>problem with SetOverwrite - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">problem with SetOverwrite</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=150929">problem with SetOverwrite</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KLM</span><br />
      <span class="post-time small text-muted">30th September 2003 10:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>problem with SetOverwrite</strong><br />
      Hello,<br />
      <br />
      i need to set the overwrite-flag at runtime. I have readed in the docu (4.4 Realtive Jumps), that this is not possible, because it is a compiler-flag.<br />
      <br />
      I tryed a code alike this:<br />
      <br />
      SetOverwrite On<br />
      <br />
      ReadINIStr $R0 $7 "Field 3" State<br />
      StrCmp $R0 "1" Overwrite_Texte<br />
      <br />
      SetOverwrite Off<br />
      Overwrite_Texte:<br />
      <br />
      <br />
      What can i do ?<br />
      <br />
      <br />
      Thank you very much for your help !</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">30th September 2003 12:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can do something such as this:<br />
      <br />
      StrCmp $R0 1 overwrite<br />
      SetOverwrite off<br />
      File ...<br />
      Goto end<br />
      <br />
      overwrite:<br />
      SetOverwrite on<br />
      File ...<br />
      <br />
      end:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KLM</span><br />
      <span class="post-time small text-muted">30th September 2003 13:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hello kichik,<br />
      <br />
      your tip works !<br />
      <br />
      Why don't grow the size of the installer ?<br />
      <br />
      <br />
      Thank you very much for your fast help !!!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">30th September 2003 13:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Because NSIS has a datablock optimizer. It will not add the same file twice. It does however make the section's required size grow (the one you see on the components page and the directory page). If you want to avoid that, simply put one of the File commands in a function and call that function.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
