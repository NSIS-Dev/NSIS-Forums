<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Several dialogs with Install Options" />

  <title>Several dialogs with Install Options - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Several dialogs with Install Options</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=85673">Several dialogs with Install Options</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Nideco</span><br />
      <span class="post-time small text-muted">23rd April 2002 17:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Several dialogs with Install Options</strong><br />
      I'm trying to put in my installer 2 or more dialogs with Install Options DLL. I've tried everything to integrate them with my nsi but I canÂ´t. Has anybody done something like this? In the Install Options documentation there is an example that works ok, but only with one dialog. I need an example with more than 1 dialog.<br />
      Thanks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">23rd April 2002 18:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Nideco,<br />
      <br />
      take a look here: <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=70530&amp;highlight=RegCode" target="_blank">http://forums.winamp.com/showthread....hlight=RegCode</a><br />
      <br />
      It creates two pages in the installer: one where a user can insert his/her name and code, and one with the result of checking this code.<br />
      <br />
      Good luck, greetz,<br />
      -Hendri.<br />
      <br />
      [Edit]<br />
      Actually, some typos where in the file at the link above. Fixed now. See the attachment. -Hendri.<br />
      [/Edit]</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Nideco</span><br />
      <span class="post-time small text-muted">24th April 2002 09:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank u for the code, Smile2me but it's not exactly what I'm looking for. The problem is that in 'regcode' when you are in the second dialog you disable the back button. I want to go backward and forward whenever I want. And I also want to call different .ini (to configure the dialogs), if it's possible.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">24th April 2002 10:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The disabling of the back-button can be adapted, look at the source for this. It's not necessary to disable the back button. It's necessary in the context of the RegCode but not required.<br />
      <br />
      For the ini thing. You can call as many different ini's as you like. I just made some general function "RunRegged" to call the same ini twice because I modify the ini. It's also possible to use other ini's.<br />
      <br />
      What is important for you to know when using InstOpts for inserting pages is the construction in .onNextPage and in .OnPrevPage where the new pages are contructed. This is done using a counter for the page numbers (here $R9). When the page number is what you like it to be, insert a page.<br />
      <br />
      Summary, the things you want to do are all possible!<br />
      <br />
      Good luck,<br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Nideco</span><br />
      <span class="post-time small text-muted">24th April 2002 10:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think the solution it's not so easy. The problem is that when you are in the dialog made with InstOpt you can't trigger the functions .OnPrevPage and .OnNextPage, so you have to capture $0 from the dialogs and simulate this events. Thus you can't call the InsOpt dialogs always from .OnPrevPage or .OnNextPage and this makes the code quite difficult.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">24th April 2002 12:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Nicedo,<br />
      <br />
      here is the source of two examples:<br />
      the first displays two ini's that are not straight after each other;<br />
      the second displays two ini's straight after each other.<br />
      <br />
      It is indeed not straightforward, but still possible...<br />
      <br />
      Good luck, let me know if this helps you out, greetz,<br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Nideco</span><br />
      <span class="post-time small text-muted">24th April 2002 15:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks smile2me, it works!! it's really cool! :up:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">24th April 2002 22:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I struggled with multiple Install Options pages recently too, so I had a go at making the process a little easier to handle.<br />
      <br />
      Here's Hendri's two examples again using this possible method - note the differences between setup1.nsi and setup2.nsi (just 1 line changed, other than comments)!<br />
      <br />
      Hope someone finds this useful... :)<br />
      <br />
      --<br />
      Dave</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">25th April 2002 10:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nice work Dave!<br />
      <br />
      I knew my source was messy, but I got it to work and was happy with that :) Thx for clearing the source up!<br />
      <br />
      Greetz,<br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">25th April 2002 22:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Smile2Me</i><br />
        <b>I knew my source was messy, but I got it to work and was happy with that :) Thx for clearing the source up!<br /></b>
      </blockquote>Heh! I've got nothing against your code :D I just thought there must be a way to generalise the process a little!<br />
      <br />
      Now... how can we make it <i>even more</i> efficient/configurable/etc... ;)<br />
      <br />
      --<br />
      Dave
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">28th April 2002 09:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, here's a <b>little</b> modification of Dave's code. I changed the check for CustomPage. Now it's not necessary anymore to edit the script (add labels and checks for CustomPageD/E/F/...) if you want to add new pages. Just edit the definition of ${PAGES} and the code will do the rest.<br />
      <br />
      [Edit]</p>

      <blockquote>
        Now... how can we make it even more efficient/configurable/etc...
      </blockquote>This modification is a little contribution to achieving this goal, but the major achievement was that of Dave with his multini2.<br />
      [/Edit]<br />
      <br />
      Have fun, greetz,<br />
      -Hendri.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">28th April 2002 23:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Hendri<br />
      <br />
      Aha, I like it ;)<br />
      <br />
      Currently working on multini4... (although a bug with the new !insertmacro has just held me back)...<br />
      <br />
      [edit]<br />
      (<a href="http://forums.winamp.com/showthread.php?s=&amp;postid=547767#post547767" target="_blank">this bug</a>)<br />
      [/edit]<br />
      <br />
      --<br />
      Dave.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">15th May 2002 21:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by eccles</i><br />
        Currently working on multini4...
      </blockquote>Mmm, I got a little sidetracked :hang:<br />
      <br />
      Any interest in me completing this? I started trying to turn it into a macro and more configurable (but hopefully not bringing in too much complexity again...)<br />
      <br />
      --<br />
      Dave.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">16th May 2002 06:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Dave,<br />
      <br />
      I'm certainly interested in nice NSIS scripts! Try to complete your idea!<br />
      <br />
      Good luck,<br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">16th May 2002 08:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok, will do... :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">7th June 2002 00:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok, I can't put this off any longer. You'll just have to have this the way it is :D<br />
      <br />
      Now included is CustomPages.nsh which defines a macro for encapsulating all the page number tracking, plus more. Multini4.nsi uses this.<br />
      <br />
      I had ideas for other examples using the macro, but they'll have to wait :)<br />
      <br />
      Have fun!<br />
      Dave.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">7th June 2002 07:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Good work Dave!<br />
      <br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">11th June 2002 08:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Using MultIni4 I redesigned RegCode for easy implementation. The script only needs an adjustment of the PAGES string if you have other components or if you want the pages to be displayed at another location in the installer.<br />
      <br />
      And of course your custom RegCode checker should be inserted, but that is easy, see the script. Currently the script has a tempentry to test the cases Valid/Invalid regcode. Delete this entry to make it a fully working script.<br />
      <br />
      Have fun,<br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">martijntijn</span><br />
      <span class="post-time small text-muted">5th November 2007 10:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">When i use the multiini4 and compile the nsi, i get the following two warnings:<br /></p>
      <pre>
<code><br />  install function ".onNextPage" not referenced - zeroing code (7-10) out<br /><br />  install function ".onPrevPage" not referenced - zeroing code (10-13) out<br /></code>
</pre><br />
      <br />
      And i don`t see the two options pages...
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">martijntijn</span><br />
      <span class="post-time small text-muted">5th November 2007 10:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">[code]<br />
      Function: ".onUserAbort"<br />
      Error: Function named ".onUserAbort" already exists.<br />
      [\code]<br />
      <br />
      What does it mean? This is functions exist only once in my nsi...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">5th November 2007 10:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">.onUserAbort is used by Modern UI.<br />
      Use !define MUI_CUSTOMFUNCTION_ABORT MyOnUserAbort<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
