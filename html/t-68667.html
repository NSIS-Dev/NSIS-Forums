<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Bug in 1.9a2?" />

  <title>Bug in 1.9a2? - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Bug in 1.9a2?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=68667">Bug in 1.9a2?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">F. Heidenreich</span><br />
      <span class="post-time small text-muted">14th December 2001 11:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Bug in 1.9a2?</strong><br />
      Hi Justin, after defining NSIS_COMPRESS_WHOLE in NSIS 1.9a2 and building some installers, I recognize that there's always the error "error reading installer info block" when executing my installers.<br />
      <br />
      I think the g_db_offset in loadHeaders isn't set properly for #ifdef NSIS_COMPRESS_WHOLE.<br />
      <br />
      ~ Florian</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">justin</span><br />
      <span class="post-time small text-muted">15th December 2001 05:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Is this bug still with you for NSIS 1.9b?<br />
      <br />
      What compiler (and compiler version) are you using?<br />
      <br />
      Are you doing debug or release builds?<br />
      <br />
      Do you have Zlib or Bzip2 enabled?<br />
      <br />
      -Justin</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">F. Heidenreich</span><br />
      <span class="post-time small text-muted">15th December 2001 10:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Justin,<br />
      <br />
      the problem is (sometimes) still in NSIS 1.9b. I use the compiler that ships with MS VC++ 6.0 (CL.EXE). The problem only occurs when using NSIS_COMPRESS_USE_BZIP2 with NSIS_COMPRESS_WHOLE.<br />
      <br />
      I changed the the defines in config.h to NSIS_COMPRESS_USE_BZIP2 and NSIS_COMPRESS_WHOLE - release build - the problem occurs.<br />
      <br />
      Then I changed to NSIS_COMPRESS_USE_BZIP2 without NSIS_COMPRESS_WHOLE - release build - all worked fine.<br />
      <br />
      Then I switched back to NSIS_COMPRESS_USE_BZIP2 <b>with</b> NSIS_COMPRESS_WHOLE - release build - <b>and all worked fine</b>.<br />
      <br />
      Maybe a linker problem? I don't know if it's a bug or a compiler prob ...<br />
      <br />
      ~ Florian</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">F. Heidenreich</span><br />
      <span class="post-time small text-muted">15th December 2001 14:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Justin,<br />
      <br />
      it seems to work now. I recompiled it with the other compression defines and all went fine. I can't reproduce the err ... sorry for the confusion!<br />
      <br />
      ~ Florian</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Schultz</span><br />
      <span class="post-time small text-muted">15th December 2001 14:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i got the same error but the only thing i had to do to fix this was click teh Rebuild All.. it seems like if you Change the compression method.. it hink mine was from using bzip2 back to gzip and just hitting F7 i got this error when i built my installer.. but going back and doing a Rebuild all fixed this.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">FreeNsisTweaker</span><br />
      <span class="post-time small text-muted">17th December 2001 07:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Justin,<br />
      <br />
      I've found a bug in the php-script that generates .nsi-scripts on the nsis webpage.<br />
      The problem is that the script uses the "UninstallExeName"-command, which doesn't exist anymore. Is it possible to change this in WriteUninstaller?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">justin</span><br />
      <span class="post-time small text-muted">17th December 2001 08:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by FreeNsisTweaker</i><br />
        <b>Hi Justin,<br />
        <br />
        I've found a bug in the php-script that generates .nsi-scripts on the nsis webpage.<br />
        The problem is that the script uses the "UninstallExeName"-command, which doesn't exist anymore. Is it possible to change this in WriteUninstaller?</b>
      </blockquote>Thanks for noticing this. Fixed. :)<br />
      <br />
      -Justin
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
