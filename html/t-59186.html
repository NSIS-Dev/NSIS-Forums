<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="nsis/compression/upx/bzip2" />

  <title>nsis/compression/upx/bzip2 - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">nsis/compression/upx/bzip2</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=59186">nsis/compression/upx/bzip2</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zedzed23</span><br />
      <span class="post-time small text-muted">5th September 2001 08:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>nsis/compression/upx/bzip2</strong><br />
      Hey All,<br />
      <br />
      I'm just wondering why nsis installers can't be compressed with upx? I realize you can compress just the header, but with:<br />
      <br />
      SetCompress off<br />
      SetDatablockOptimize off<br />
      <br />
      upx should be able compress it right? Well it gives an "Uncompressable exception". Any ideas why?<br />
      <br />
      On another note, it's probably been discussed before, but are there any plans to move to a different compression algorithm? Bzip2 is released under a BSD-like license and does much better than gzip in 99% of cases. Another thought was to use the UPX compression, which is available under GPL. The upx code would probably do better with binaries, but bzip2 does an excellent job with text.<br />
      <br />
      -zz</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">6th September 2001 03:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It actually does have and use UPX compression. If you look at the makensis.nsi file, there are some lines of code that show this. I cannot find it, however, because I am at another computer. But I'm sure of it. They have UPX compression.<br />
      <br />
      -DJ</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zedzed23</span><br />
      <span class="post-time small text-muted">7th September 2001 03:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's only for the installer's header, I meant for compressing the whole thing.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">7th September 2001 06:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pjw62</span><br />
      <span class="post-time small text-muted">7th September 2001 11:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think the reason that UPX cannot compress the NSIS exe files is that the makensis simply adds the compressed data +code+strings on the end of the file and thus they are not paryt of the exe image that is mapped into memory by windows according to the exe image. If NSIS was rewritten so that the install stuff was in the resource section of the exe, it would work.. but, an installer of 500 mb (for example) would take 500mb of memory (like PIMP).</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
