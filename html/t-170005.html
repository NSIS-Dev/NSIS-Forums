<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Finding the right install directory" />

  <title>Finding the right install directory - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Finding the right install directory</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=170005">Finding the right install directory</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kenk2003</span><br />
      <span class="post-time small text-muted">19th February 2004 05:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Finding the right install directory</strong><br />
      Hi,<br />
      <br />
      In my NSIS script, to install a CGI script, I have:<br />
      <br />
      InstallDir "$PROGRAMFILES\Apache Group\Apache\cgi-bin"<br />
      <br />
      However, some users have Apache2 and the directory name is, therefore, different.<br />
      <br />
      Is there any way to first check if the Apache2 directory exists and then install to it, but if no Apache2 directory exists, install to the regular directed (as shown above)?<br />
      <br />
      Thank you<br />
      <br />
      Ken</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Vytautas</span><br />
      <span class="post-time small text-muted">19th February 2004 05:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I don't have apache so I can't check, but most programs have their installation path recorded in the registry. You could read the registry value for apache2 compare it to an empty string and if it is use the default path otherwise copy the read value to $INSTDIR. All of this should be done in the .onInit function.<br />
      <br />
      Vytautas</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
