<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="3DNA installer"><title>3DNA installer - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">3DNA installer</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=139639">3DNA installer</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">20th June 2003 17:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>3DNA installer</strong><br>&nbsp; If you're interested try out the download on <a href="http://www.3dna.net." target="_blank">www.3dna.net.</a> I built the installer in NSIS using a custom built tool that would generate an install script which could be built by NSIS. I would be happy to answer any questions anyone has about how I've made the installer.<br>Perhaps the most unique page in the installer is a hardware check which checks to see if your system is capable of running our software.<br><br>Thanks to all the NSIS developers and community who took the time to answer my many questions.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">20th June 2003 18:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Maybe you can post some screenshots so people don't have to download these huge files :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">20th June 2003 20:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Indeed I can, here's one</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">20th June 2003 20:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">And here's another,</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">20th June 2003 21:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Can you post the detection function for CPU, RAM, VRAM etc. in the NSIS Archive: <a href="http://nsis.sourceforge.net/archive/nsisweb.php" target="_blank">http://nsis.sourceforge.net/archive/nsisweb.php</a><br><br>I'm sure they can be useful for others.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">21st June 2003 10:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Is it just me or are both of the screenshots identical???<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">21st June 2003 10:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">That sure is a great screenshot, becaus eit shows how NSIS code can do practically anything!<br><br>T'is amazing stuff!<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">22nd June 2003 19:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Doh! You're right they are the same screenshot. Here's the other screenshot I meant to post.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">22nd June 2003 21:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hmmmm... Good Screenshots! NSIS makes more than a simple installer, isn't it?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">24th June 2003 23:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The hardware info plugin is now up for your enjoyment here in the archives. It is located in the "Plugins" area called "System hardware detection"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">25th June 2003 05:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Could you post a copy of your registration form script &amp; ini file?<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">25th June 2003 20:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I've attached the ini and an example custom function which I use to fill in the hardware information in the form before it is displayed. I cut out alot of stuff but it does show how you can work with the HwInfo plugin.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">25th June 2003 20:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ok it might help to actually attach the file. Let's try that again...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">25th June 2003 20:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ok, yes I know I messed up again. I'm going to get it this time for real.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pizzadani</span><br><span class="post-time small text-muted">9th August 2005 13:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Could you post your hardware check script and ini file?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">12th August 2005 19:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Pizzadani</i><br><b>Could you post your hardware check script and ini file?</b></blockquote>Hey sorry there Pizza, here's the function I use for displaying the hardware comparison window as well as determining the capabilities of the users system. I've got comments sprinkled around so hopefully you can get a fair idea of what's going on. The best thing to do is probably to look through the script and ask me any questions you may have. I didn't really clean it up all that much so there is some stuff in there which is not applicable such as the displaying of the banner window at the beginning of the function.<br><br>The basic idea behind the hardware page was too look at each piece of hardware you want to evaluate. Compare it against a set standard which you decide and assign that piece of hardware a score depending on how well it did. Then you add all the scores together to display a message to the user telling them how things are likely to run. Works pretty well. Like I said, ask me any questions you want I'll be happy to answer them.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pizzadani</span><br><span class="post-time small text-muted">25th September 2005 13:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Okay, can you give me still the ini file?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">25th September 2005 13:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">INI file is in the registration.zip attachment isn't it?<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rsegal</span><br><span class="post-time small text-muted">26th September 2005 15:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes it is Afrow. That INI file from the registration.zip should be good to go.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kalverson</span><br><span class="post-time small text-muted">29th April 2010 13:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Would it be possible to get the ini file for hwcompare.nsi ? I really like your screen capture of that panel.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jpderuiter</span><br><span class="post-time small text-muted">29th April 2010 14:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It's in the zipfile:<br><a href="http://forums.winamp.com/showpost.php?p=997636&amp;postcount=14" target="_blank">http://forums.winamp.com/showpost.ph...6&amp;postcount=14</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kalverson</span><br><span class="post-time small text-muted">29th April 2010 16:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The one for registration.jpg is in the zip file, but the one for hardwarecheck.jpg is not. I want to display a panel like hardwarecheck.jpg. I guess I could spend some time and recreate one from scratch. The source code to fill in hardwarecheck panel is included in one of the zip files, but not the ini.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">29th April 2010 16:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You should try to use nsDialogs anyway.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">29th April 2010 16:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Here is an INI file that works with the hwcompare.nsi file and a screenshot showing the result.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pawel</span><br><span class="post-time small text-muted">29th April 2010 17:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi,<br>Doeas this plugin get correctly RAM if it is more then 4GB?<br>Ps: I also recommand nsdialogs.<br>-Pawel</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">29th April 2010 17:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry, I don't know if it can detect more than 4 GB. My computer has 4 GB and that gets reported as 4096 MB.<br><br>The plugin does not seem to detect video RAM correctly: my graphics card has 512 MB but the plugin reports only 256 MB.<br><br>I used the HwInfo plugin from the wiki: <a href="http://nsis.sourceforge.net/HwInfo_plug-in" target="_blank">http://nsis.sourceforge.net/HwInfo_plug-in</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pawel</span><br><span class="post-time small text-muted">29th April 2010 17:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I made quick test.<br>For me this plugin correctly returns CPU speed and VRAM (but it seems I have only 256MB, so I dont know what if it is more installed).<br>RAM function failes. It shows only 4GB. I guess you should use GlobalMemoryStatusEx() instead of GlobalMemoryStatus (if you use it :p)<br><br><a href="http://meggamusic.co.uk/shup/1272558851/hw_test.png" target="_blank">http://meggamusic.co.uk/shup/1272558851/hw_test.png</a><br>-Pawel</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kalverson</span><br><span class="post-time small text-muted">4th May 2010 13:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you. The attached ini file worked perfectly. The only thing that would make this dialog look better is if the first control was displayed with the first field not highlighted. Being in focus is ok, but the highlighted field changes the coloring.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">4th May 2010 14:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can set the focus to another control on the page to avoid this problem.<br><br>Near the end of hwcompare.nsi change</p><pre>
<code>!insertmacro MUI_INSTALLOPTIONS_SHOW</code>
</pre>to<pre>
<code>; Set focus to the "Next" button to avoid having the cursor in the RAM size text box<br>GetDlgItem $R1 $HWNDPARENT 1<br>SendMessage $HWNDPARENT ${WM_NEXTDLGCTL} $R1 1<br>!insertmacro MUI_INSTALLOPTIONS_SHOW</code>
</pre>Although I used the "Next" button here, you can change this code to set the focus to another control.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br>
      <span class="post-time small text-muted">4th May 2010 19:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by pengyou</small><br>
        You can set the focus to another control on the page to avoid this problem.
      </blockquote>Not entirely sure about this specific case, but you could also set focus to the inner dialog;<br>
      <br>
      <pre>
<code>
SendMessage $dialog ${WM_SETFOCUS} $HWNDPARENT 0 
<br>&gt;
</code>
</pre>where $dialog is the hwnd for the inner dialog (as Pop'd from NSDialogs, for example)<br>
      <br>
      That way no specific control has focus, but you can still use keyboard shortcuts (if using any).
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>