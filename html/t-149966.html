<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="setting install directory to exe location" />

  <title>setting install directory to exe location - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">setting install directory to exe location</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=149966">setting install directory to exe location</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">burn_mame</span><br />
      <span class="post-time small text-muted">21st September 2003 18:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>setting install directory to exe location</strong><br />
      Hello again,<br />
      <br />
      I did read about that faxt that one should be able to<br />
      set the default install location to where a specified<br />
      exe file is located. Of course still letting user<br />
      select there own output directory.<br />
      <br />
      I can't figure out how to.<br />
      <br />
      Thanks,<br />
      Ryland</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MathiasSimmack</span><br />
      <span class="post-time small text-muted">21st September 2003 19:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Re: setting install directory to exe location</strong><br />
      You could use <b>InstallDirRegKey</b> with the "UninstallString" value in the registry. But this requires a previous installed version.<br /></p>
      <pre>
<code>InstallDirRegKey HKLM \<br />"Software\Microsoft\Windows\CurrentVersion\Uninstall\YourOldApp" \<br /> "UninstallString"</code>
</pre><br />
      Another way is using <b>FindFirst</b> (and related) to search the file. The best place for this should be the ".onInit" event.<br />
      <br />
      <br />
      Mathias.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">burn_mame</span><br />
      <span class="post-time small text-muted">21st September 2003 19:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thank you but I do not have control over how the .exe is installed.<br />
      Ryland</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">21st September 2003 19:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can set the default folder using InstallDir.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">burn_mame</span><br />
      <span class="post-time small text-muted">21st September 2003 20:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I can do that but I would have to guess as to where the end user has the exe file installed....hoping to run installer and have it search for exe file and set InstallDir to the directory that the specified exe resides in.<br />
      Thanks,<br />
      Ryland</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">21st September 2003 20:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can use the .onVerifyInstDir function to validate.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
