<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Problems with handling the &quot;NEXT&quot; button on Directory page"><title>Problems with handling the "NEXT" button on Directory page - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Problems with handling the "NEXT" button on Directory page</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=256179">Problems with handling the "NEXT" button on Directory page</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">airria</span><br><span class="post-time small text-muted">25th September 2006 14:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Problems with handling the "NEXT" button on Directory page</strong><br>Hello!<br><br>(first post, so I'm a newbie at this) :)<br><br>Anyway, I'm creating an installer, that will "upgrade" a software avaiable on a cd-rom to a folder. Simply, it copies all files that are usable from the earlier version from a cd-rom, and then extract the new files from the installer itself.<br><br>This all works great, but of course, I need to use two directory pages, one for source, and one for destination.<br><br>I have written an "verify" function, that works, and allows users to choose "valid" folders. I'm using "onVerifyInstDir" and ti works, for example the "ok" button in the browse folder dialog is disabled / enabled as it should be.<br><br>The problem however appears, when I use cd-rom as source. If I do not set "MUI_DIRECTORYPAGE_VERIFYONLEAVE" to false (I'm using modern ui), the "next" button will always be disabled when a cd-rom station is chosen. (no matter what I set with enablewindow, it goes back to disabled).<br><br>And, the other way around, If I set verifyonleave, even if I disable the button, it will go back to enabled once I press "cancel" in the "browse folder" window.<br><br>So, is there a way to completly "override" the basic functionality that is enabling/disabling the next button?<br><br>Thanks for a great forum and a great software!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n0On3</span><br><span class="post-time small text-muted">26th September 2006 14:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Re: Problems with handling the "NEXT" button on Directory page</strong><br></p><blockquote><i>Originally posted by airria</i><br><b>I'm creating an installer, that will "upgrade" a software avaiable on a cd-rom to a folder. Simply, it copies all files that are usable from the earlier version from a cd-rom, and then extract the new files from the installer itself.</b></blockquote>I don't know the answer to your problem, but I pressume the installer is also on the CD-ROM, am I right? couldn't you guess the source folder and only ask for destination?<br><br>Are you really, really sure that you can't make the installer look for the source files automatically?</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">26th September 2006 14:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It won't let you use the CD drive, because a CD is read only.<br>Use InstallOptions to create your own Directory page by using the DirRequest control.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">airria</span><br><span class="post-time small text-muted">26th September 2006 15:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Re: Re: Problems with handling the "NEXT" button on Directory page</strong><br></p><blockquote><i>Originally posted by n0On3</i><br><b>I don't know the answer to your problem, but I pressume the installer is also on the CD-ROM, am I right? couldn't you guess the source folder and only ask for destination?<br><br>Are you really, really sure that you can't make the installer look for the source files automatically?</b></blockquote>No. The installer is not on the CD-ROM. It's not possible to guess the source folder, as it can be anywhere (cd-rom or any folder).<br><br>I can make it search for the source files, but running locate to search through an harddrive takes a lot of time.<br><br><br><blockquote><i>Originally posted by Afrow UK</i><br>It won't let you use the CD drive, because a CD is read only.<br>Use InstallOptions to create your own Directory page by using the DirRequest control.</blockquote>Yes, but it does allow me to use the cd-drive if I set:<br>MUI_DIRECTORYPAGE_VERIFYONLEAVE to false. But then it automatically enables the button as soon as I disable it.<br><br>InstallOptions is of course a possibility, but it requires lot of code just to resize the browse button. (saw some example in one of your posts, I think)<br><br><br>Anyway, currently I added the function that verifies the folder on _LEAVE for the page. If the folder is not ok, it gives an error messagebox and runs Abort.<br><br>So, this solved my problem, but not in the way I wanted. :)<br><br>Thanks for both suggestions!</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>