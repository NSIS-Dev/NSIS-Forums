<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Installer pages based on install type"><title>Installer pages based on install type - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Installer pages based on install type</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=110357">Installer pages based on install type</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">sumanto</span><br><span class="post-time small text-muted">18th October 2002 09:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Installer pages based on install type</strong><br>I have to make an installer that shows a custom dialog screen depending on what install type the user selects. Actually the problem is that there are there istall types, lets say A, B and C. C is basically both A and B combined. Now A and B are to be installed in separate directories. And if C is chosen, it needs both these directories.<br><br>Now the install directory page should also be shown based on what install type I have chosen. Also the custom dialog page itself would depend on the install type as information needed depends on the install type chosen.<br><br>There was an option where I could make blank 'Section', which are triggered on which install types I choose, but they are activated only at the file-copy stage. I need some information about the section chosen at the page just after the component install page so that I can build logic there?<br><br>At present I couldn't dig anything like that.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">19th October 2002 13:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have added this to the latest version in the CVS:<br></p><blockquote>Hidden sections can now have SectionIn too. Old behaviour retained (hidden sections without SectionIn are in all install types).</blockquote>This will make the task you are trying to accomplish a lot easier. You can now add hidden sections that are only in one install type, and according to their selection decide what install type was selected. The only problem is with custom install type.<br><br>To show or not show the directory page test for whatever you want to test in .onNextPage and .onPrevPage and use Abort if you need to skip pages.<br><br>Sections are selected/deselected in the component page. Their status, which you can get with SectionGetFlags, is also changed right after you click on them. You can check this status in .onNextPage and .onPrevPage and show/not show as mentioned before.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sumanto</span><br><span class="post-time small text-muted">21st October 2002 05:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi kichik, thanks for the reply.<br><br></p><blockquote>This will make the task you are trying to accomplish a lot easier. You can now add hidden sections that are only in one install type, and according to their selection decide what install type was selected. The only problem is with custom install type.</blockquote>I had already thought of that, but the problem is that the information about which section has been selected needs to be had before the actual install proceeds. We can use this information only at the time of file copy.<br><br><blockquote>Sections are selected/deselected in the component page. Their status, which you can get with SectionGetFlags, is also changed right after you click on them. You can check this status in .onNextPage and .onPrevPage and show/not show as mentioned before.</blockquote>Actually, I haven't been able to figure out how to use SectionGetFlags and SectionSetFlags.<br><br>However, I decided to use my own method here. I use InstallOptions to have an extra page, from where I decide the install type using a listbox. I disable the default install selection box. So we can actually get the install type on .onNextPage. And in the hidden section installs, I use the flag that determines the section that I want installed to choose which files to install.<br><br>Pls advise as to if this method is OK, or I am simply trying to do a simple thing in a very roundabout way.<br><br>Thanks.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">24th October 2002 21:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">To understand how SectionGetFlags works look at one-section.nsi.<br>Instead of using a custom made IO page you can just disable custom selection using InstType /NOCUSTOM.<br>.onNextPage and .onPrevPage are called everytime the user moves to the next/previous page, so you can use them even if you don't use IO. Just count the pages and when you know you are after the components page use SectionGetFlags.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>