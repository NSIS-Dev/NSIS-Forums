<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to use InstallDirRegKey"><title>How to use InstallDirRegKey - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to use InstallDirRegKey</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=135062">How to use InstallDirRegKey</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">rpetges</span><br><span class="post-time small text-muted">11th May 2003 17:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to use InstallDirRegKey</strong><br>Hi,<br><br>I want to store the current installation folder into the registry so it can be reused by upgrades to change the default installation path to the one choosen by the user during a previous installation.<br><br>How can I use InstallDirRegKey to achive this ?<br><br>Many thanks</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">11th May 2003 17:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">In a section use:<br></p><pre>
<code><br>  ; Write the installation path into the registry<br>  WriteRegStr HKLM SOFTWARE\[YOURSOFTWARENAME] "Install_Dir" "$INSTDIR"<br></code>
</pre><br>
      Then use (outside functions/sections):<br>
      <pre>
<code><br>  ; Registry key to check for directory (so if you install again, it will <br>  ; overwrite the old one automatically)<br><br>InstallDirRegKey HKLM SOFTWARE\[YOURSOFTWARENAME] "Install_Dir"<br></code>
</pre><br>
      <br>
      -Stu
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rpetges</span><br>
      <span class="post-time small text-muted">11th May 2003 17:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Stu,<br>
      <br>
      Thanks, quite simple to use.<br>
      <br>
      Romain</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>