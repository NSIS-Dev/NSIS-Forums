<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="compile EXE with installation of main application?" />

  <title>compile EXE with installation of main application? - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">compile EXE with installation of main application?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=174868">compile EXE with installation of main application?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mosestycoon</span><br />
      <span class="post-time small text-muted">31st March 2004 19:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>compile EXE with installation of main application?</strong><br />
      Dear Friends,<br />
      <br />
      is it possible to compile an *.exe with the installation of the main application?<br />
      <br />
      The idea behind is that my application installs several services which I want to uninstall at one time with a small exe.<br />
      <br />
      Thx in advance<br />
      Chris</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">31st March 2004 20:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can extract the executable to a temporary location (the plug-ins folder) and execute it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mosestycoon</span><br />
      <span class="post-time small text-muted">31st March 2004 22:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmmm, think my question was not that clear Joost<br />
      <br />
      I built an application with several services. Everything works fine with NSIS compiling it (FAT tool your NSIS :D).<br />
      <br />
      So as I am developing several versions at once I would like to uninstall just the services (as they always have the same name in every version) <b>at one time</b> to install another version of the application. All services could be stopped with 'net stop &lt;service&gt;' and I could write a small application which is global valid (without pathes), but this won't work for <b>un-installing</b> the services.<br />
      <br />
      My idea (or question?) was to take the installation routine, grep the installation path (from userinput, normally installation directory) for the services and bring them (the pathes) together in another application which is compiled during the installation routine.<br />
      <br />
      The result should be a small exe with some</p>
      <pre>
<code>nsExec</code><span style="color: #007700">::</span><span style="color: #0000BB">Exec</span><span style="color: #DD0000">'"Path\to\service"-uninstall'
</span>
</pre>which could be executed to uninstall all services (just services) at one time.<br />
      <br />
      Can this be achieved?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Shea</span><br />
      <span class="post-time small text-muted">1st April 2004 00:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think Joost was telling you, you could make an individual installer for each service and a main one. When the sselect what services they wnt in the main installer, it extracts the service installers to a temp folder and runs them.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mosestycoon</span><br />
      <span class="post-time small text-muted">1st April 2004 19:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah now....<br />
      (Had a hard day yesterday :igor: )<br />
      I understand, but that wouldn't be a distributable solution as all service binaries would blow up the installer about 20MB (extracted)...<br />
      Chris</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">1st April 2004 19:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What exactly is your question? Do you want your installer to compile another installer?<br />
      <br />
      Why not create one uninstaller that can handle everything?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mosestycoon</span><br />
      <span class="post-time small text-muted">3rd April 2004 15:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Great idea.<br />
      <br />
      Yeah I thought of another installer (or uninstaller) compiled during installation of the application. So the output (the little exe) should be able to uninstall (only!) services installed with the main installation routine.<br />
      <br />
      But the idea of using an uninstaller is great. Can I built two uninstaller? According to this topic a global one and one that *IS* the app I am looking for? This one should not self-delete...<br />
      <br />
      Chris</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">3rd April 2004 18:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Why not create a registry setting and let the uninstaller check the value and uninstall relevant components?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mosestycoon</span><br />
      <span class="post-time small text-muted">3rd April 2004 18:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Because the uninstaller should be left untouched as it has to uninstall sometimes. And the little application I was talking off could be run several times (everytime I need it..)<br />
      :D</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">3rd April 2004 18:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can also use an uninstaller components page, then you can select what components to uninstall.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
