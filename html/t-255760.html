<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="determine license file on runtime?"><title>determine license file on runtime? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">determine license file on runtime?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255760">determine license file on runtime?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">18th September 2006 23:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>determine license file on runtime?</strong><br>is there a way to determine the text-file on runtime? i thought i could include a dummy-text which gets overwritten by a file the installer reads in the onGUIInit function, but i didn't manage to do so. where to does the license get extracted to? is it possible?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">19th September 2006 19:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Do you mean read a license file from external? o.O</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">20th September 2006 06:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">forum search? :) <a href="http://forums.winamp.com/showthread.php?postid=2005177#post2005177" target="_blank">http://forums.winamp.com/showthread....77#post2005177</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">7th October 2006 18:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">any way to make the <a href="http://nsis.sourceforge.net/External_License_file" target="_blank">external license script</a> work using the classic ui?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">9th October 2006 21:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">i guess i just have to change this line<br><br>FindWindow $0 "#32770" "" $HWNDPARENT<br><br>what was that handy little tool that gives me handles (?) of windows?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">JasonFriday13</span><br><span class="post-time small text-muted">10th October 2006 02:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Try my <a href="http://nsis.sourceforge.net/CustomLicense_plug-in" target="_blank">CustomLicense plug-in</a>. It is virtually a plugin version of the 'External License file' wiki page you found.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">16th October 2006 17:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hm, no examples on the wiki? is an io page necessary for this?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">JasonFriday13</span><br><span class="post-time small text-muted">18th October 2006 02:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You could use</p><pre>
<code>FindWindow $0 "#32770" "" $HWNDPARENT<br>GetDlgItem $0 $0 1000<br>CustomLicense::LoadFile "$PLUGINSDIR\yourlicensefile.txt" $0</code>
</pre>in the show function of the license page (if it works). The CustomLicense plugin is identical to the external license file wiki example, but in plugin form (thus removing the need for the system plugin).
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br>
      <span class="post-time small text-muted">19th October 2006 21:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">cheers</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br>
      <span class="post-time small text-muted">2nd December 2006 20:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">so i'm using this code snippet now..<br>
      <br></p>
      <pre>
<code>Page License "" PreLicense<br><br>  Function PreLicense<br>    ReadINIStr $1 "$PLUGINSDIR\pimp.ini" "Installer" "LicenseType"<br>    IfFileExists "$PLUGINSDIR\license.$1" 0 +2<br>    FindWindow $0 "#32770" "" $HWNDPARENT<br>    GetDlgItem $0 $0 1000<br>    CustomLicense::LoadFile "$PLUGINSDIR\license.$1" $0<br>  FunctionEnd</code>
</pre><br>
      <br>
      problem is that it doesn't display the whole license. any ideas?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br>
      <span class="post-time small text-muted">2nd December 2006 21:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">alright, i found the problem: the it only displays as many characters as my dummy license. could you fix your plugin?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br>
      <span class="post-time small text-muted">4th December 2006 18:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Fixing would be good, in the meantime use a bigger dummy file a helpful hint?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br>
      <span class="post-time small text-muted">4th December 2006 19:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>External License Script</strong><br>
      Attached is script for 'basic' GUI.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">5th December 2006 17:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The plug-in needs to send EM_EXLIMITTEXT to the rich edit control to fix this problem.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>