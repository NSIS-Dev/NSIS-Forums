<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Install files directly on a FTP Server" />

  <title>Install files directly on a FTP Server - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Install files directly on a FTP Server</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=258716">Install files directly on a FTP Server</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">1st November 2006 10:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Install files directly on a FTP Server</strong><br />
      Hello,<br />
      is it possible to upload files directly on a FTP Server?<br />
      <br />
      If it is.. is there perhaps anywhere an example?<br />
      <br />
      I've seen this installer but I don't now if that's NSIS:<br />
      <br />
      <a href="http://www.cs-erweiterungen.de/3.jpg" target="_blank">http://www.cs-erweiterungen.de/3.jpg</a><br />
      <br />
      Thank you :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">1st November 2006 10:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">A very quick forum search for "ftp upload" will give your answer:<br />
      <br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=198596&amp;perpage=40&amp;highlight=ftp+upload&amp;pagenumber=4" target="_blank">http://forums.winamp.com/showthread....d&amp;pagenumber=4</a><br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=255424&amp;highlight=ftp+upload" target="_blank">http://forums.winamp.com/showthread....ght=ftp+upload</a><br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=174093&amp;highlight=ftp+upload" target="_blank">http://forums.winamp.com/showthread....ght=ftp+upload</a><br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=218313&amp;highlight=ftp+upload" target="_blank">http://forums.winamp.com/showthread....ght=ftp+upload</a><br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=186466&amp;highlight=ftp+upload" target="_blank">http://forums.winamp.com/showthread....ght=ftp+upload</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">1st November 2006 14:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, I've already used the forum search. I've only found this ftpul-plugin:<br />
      <br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=174093&amp;highlight=ftp+upload" target="_blank">http://forums.winamp.com/showthread....ght=ftp+upload</a><br />
      <br />
      But unfortunately it is unstable.. and in the installation one can't define a host..<br />
      <br />
      The plugin inetc(lient) looks very good but this is only to download from a FTP. Right?<br />
      <br />
      Gives it an other plugin which I've not seen?<br />
      <br />
      Thank you</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">1st November 2006 15:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Sp33dy G0nz4l3s</i><br />
        <b>The plugin inetc(lient) looks very good but this is only to download from a FTP. Right?</b>
      </blockquote>Wrong. According to that specific page of thread that I've linked to, it supports FTP upload. And if it doesn't support, or doesn't work, it still suggests an alternative of using ftp.exe from $SYSDIR with the -s switch for scripting.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">1st November 2006 15:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I remember "put" entry point in Inetc plug-in ;) <a href="http://nsis.sourceforge.net/Inetc_plug-in" target="_blank">http://nsis.sourceforge.net/Inetc_plug-in</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">1st November 2006 15:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah thanks :).. Now I understand these entry points.<br />
      <br />
      But in the example the Username... to the FTP Server are defined in the .nsi:<br />
      <br /></p>
      <pre>
<code>inetc::put /POPUP /CAPTION "my local ftp upload" "ftp://takhir:pwd@p320/m2.bu.jpg" "$EXEDIR\m2.jpg"</code>
</pre><br />
      <br />
      I've no idea how I can make no a custom page like in the picture I posted. So that the user can write the host... in a field and click after this on the connect button and choose the directory.<br />
      <br />
      It would be very friendly if someone could help me.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">1st November 2006 16:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can define user vars and read current values from custom page ini file to vars, then use them in the command line:<br />
      "ftp://$user:$password@$server:$port/$os/$path/$addon"<br />
      (if I added port correct :) ). But 'ls' not supported - cannot browse folders. And 'passive' is always 'on'.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">1st November 2006 21:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you Takhir I will try it :)<br />
      <br />
      But first I've an other question:<br />
      <br />
      My installer consists of a lot of files.<br />
      <br />
      Must I now write to every file the "Upload Code"?<br />
      <br />
      ..or gives it the possibility that I indicate a folder and the uploader upload it with all files and subfolders.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">2nd November 2006 06:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You must define every file you want to upload. I remember a lot of FindFirst-FindNext scripts samples in this forum. You also can use SetPluginUnload alwaysoff option - this makes calls a bit faster. Few url/file pairs supported in the single command line, but this may be not usefull in the dir scan loop, and string length limit 1024 bytes also presents.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">2nd November 2006 10:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Okay.. I've now searched a long time FindFirst-FindNext scripts and I've founded some topics, too. I've also read FindFirst/FindNext in the user manual..<br />
      <br />
      ..but I don't understand for what I can use this that I don't must define every file.<br />
      <br />
      Please help me</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">3rd November 2006 08:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Couldn't anybody explain me please how to use FindFirst/FindNext?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">4th November 2006 20:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Something like this</p>
      <pre>
<code><br />Name "Inetc Dir Scanner Test"<br />OutFile "scanner.exe"<br /><br />!include "MUI.nsh"<br />!insertmacro MUI_PAGE_INSTFILES<br />!insertmacro MUI_LANGUAGE "English"<br />!include "FileFunc.nsh"<br />!insertmacro GetFileAttributes<br /><br /><br />Section "Dummy Section" SecDummy<br /><br />  FindFirst $0 $1 "$EXEDIR\*"<br />loop:<br />  StrCmp $1 "" done<br />  ${GetFileAttributes} "$EXEDIR\$1" DIRECTORY $2<br />  IntCmp $2 1 cont<br />  Inetc::put <a href="ftp://*********.com/" target="_blank">ftp://*********.com/</a>$1 "$EXEDIR\$1"<br />  Pop $3<br />  DetailPrint "$1 $3"<br />cont:<br />  FindNext $0 $1<br />  Goto loop<br />done:<br />  SetDetailsView show<br /><br />SectionEnd</code>
</pre><br />
      If you need recurcive scan - use forum search.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">5th November 2006 09:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks a lot Takhir!<br />
      <br />
      It works fine. I've now only a little problem:<br />
      <br />
      This is my code now:<br />
      <br /></p>
      <pre>
<code><br />;--------------------------------<br />; General Attributes<br /><br />Name "Inetc Test"<br />OutFile "put.exe"<br /><br /><br />;--------------------------------<br />;Interface Settings<br /><br />!include "MUI.nsh"<br />!define MUI_ICON "${NSISDIR}\Contrib\Graphics\Icons\modern-install-colorful.ico"<br />!insertmacro MUI_PAGE_INSTFILES<br />!insertmacro MUI_LANGUAGE "English"<br />!include "FileFunc.nsh"<br />!insertmacro GetFileAttributes<br /><br /><br />;--------------------------------<br />;Installer Sections<br /><br />Section "Dummy Section" SecDummy<br />        <br />        SetOutPath "$PROGRAMFILES\TEST"<br />        File "Test1.txt"<br />        File "Test2.txt"<br />        SetOutPath "$PROGRAMFILES\TEST\TEST"<br />        File "TEST\Test3.txt"<br /><br />  FindFirst $0 $1 "$PROGRAMFILES\TEST\*"<br />loop:<br />  StrCmp $1 "" done<br />  ${GetFileAttributes} "$PROGRAMFILES\TEST\$1" DIRECTORY $2<br />  IntCmp $2 1 cont<br />  Inetc::put /POPUP /CAPTION "my local ftp upload" "ftp://*********.com/html/$1" "$PROGRAMFILES\TEST\$1"<br />cont:<br />  FindNext $0 $1<br />  Goto loop<br />done:<br /><br />        Pop $3 # return value = exit code, "OK" if OK<br />        MessageBox MB_OK "Upload Status: $3"<br /><br />SectionEnd</code>
</pre><br />
      <br />
      The upload is always shown in the popup window. When I close now this popup window (cancel the upload) normally the MessageBox Upload Status: terminated should be shown and the upload should be terminated.<br />
      <br />
      But with this code always a new upload popup windows is shown and the next file would be uploadet. Could you say me how I must change the code that the upload is then completely terminated?<br />
      <br />
      Thank you<br />
      Marc
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">5th November 2006 11:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please note, that in my sample Pop $3 is in loop. This because every Inetc call Pushes one string to stack, so in your variant only last string appears in the MessageBox (all other results remain in stack). So add below plug-in call (not tested)</p>
      <pre>
<code><br />  Pop $3<br />  StrCmp $3 "OK" cont<br />  MessageBox MB_YESNO "Download failed/terminated. Continue?" IDYES cont<br />  Abort "Terminated by user"<br />cont:</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">5th November 2006 16:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks now it works and I understand it!<br />
      <br />
      Only one question:<br />
      With this code now the Installer upload all files from the folder $PROGRAMFILES\TEST:<br />
      <br /></p>
      <pre>
<code>Section "Dummy Section" SecDummy<br />        <br />        SetOutPath "$PROGRAMFILES\TEST"<br />        File "Test1.txt"<br />        File "Test2.txt"<br />        SetOutPath "$PROGRAMFILES\TEST\TEST"<br />        File "TEST\Test3.txt"<br /><br />  FindFirst $0 $1 "$PROGRAMFILES\TEST\*"<br />loop:<br />  StrCmp $1 "" done<br />  ${GetFileAttributes} "$PROGRAMFILES\TEST\$1" DIRECTORY $2<br />  IntCmp $2 1 cont<br />  Inetc::put /POPUP /CAPTION "my local ftp upload" "ftp://*********.com/html/$1" "$PROGRAMFILES\TEST\$1"<br />        Pop $3<br />  StrCmp $3 "OK" cont<br />  MessageBox MB_YESNO "Download failed/terminated. Continue?" IDYES cont<br />  Abort "Terminated by user"<br />cont:<br />  FindNext $0 $1<br />  Goto loop<br />done:<br /><br />SectionEnd</code>
</pre><br />
      <br />
      Now the installer should also upload all files from the folder $PROGRAMFILES\TEST\TEST how must I change/extend the code that he do this? I tried a lot of things but nothing has work:<br />
      <br />
      <pre>
<code>Section "Dummy Section" SecDummy<br />        <br />        SetOutPath "$PROGRAMFILES\TEST"<br />        File "Test1.txt"<br />        File "Test2.txt"<br />        SetOutPath "$PROGRAMFILES\TEST\TEST"<br />        File "TEST\Test3.txt"<br /><br />  FindFirst $0 $1 "$PROGRAMFILES\TEST\*"<br />loop:<br />  StrCmp $1 "" done<br />  ${GetFileAttributes} "$PROGRAMFILES\TEST\$1" DIRECTORY $2<br />  IntCmp $2 1 cont<br />  Inetc::put /POPUP /CAPTION "my local ftp upload" "ftp://*********.com/html/$1" "$PROGRAMFILES\TEST\$1"<br />        Pop $3<br />  StrCmp $3 "OK" cont<br />  MessageBox MB_YESNO "Download failed/terminated. Continue?" IDYES cont<br />  Abort "Terminated by user"<br />cont:<br />  FindNext $0 $1<br />  Goto loop<br />done:<br /><br />FindFirst $4 $5 "$PROGRAMFILES\TEST\TEST\*"<br />loop:<br />  StrCmp $5 "" done<br />  ${GetFileAttributes} "$PROGRAMFILES\TEST\TEST\$5" DIRECTORY $6<br />  IntCmp $6 5 cont<br />  Inetc::put /POPUP /CAPTION "my local ftp upload" "ftp://*********.com/html/TEST/$5" "$PROGRAMFILES\TEST\TEST\$5"<br />        Pop $7<br />  StrCmp $7 "OK" cont<br />  MessageBox MB_YESNO "Download failed/terminated. Continue?" IDYES cont<br />  Abort "Terminated by user"<br />cont:<br />  FindNext $4 $5<br />  Goto loop<br />done:<br /><br />SectionEnd</code>
</pre><br />
      <br />
      Thanks for your help
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">5th November 2006 17:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can use the same variables in the second part ($0 - $3), but need new labels there, for example loop2 instead of loop (compiller probably says about this in error message). Better way - decorate upload code as a function and call it twice with some variable for path (if 2 folders only to be uploaded). If you want to upload all subfolders - you need a recursive call, I am not sure this is possible in script, but forum search gives this thread <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=201394&amp;highlight=recursive+findfirst" target="_blank">http://forums.winamp.com/showthread....sive+findfirst</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">5th November 2006 19:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I understand what you are meaning with call the upload as a function. I've try it but I couldn't create it..<br />
      <br />
      Yes, I would upload all subfolders. I've read so the site from the link you've posted very often but I don't undertstand how i can adapt it in my code.<br />
      <br />
      If someone could help me it would be very friendly.<br />
      <br />
      ..otherwise I must define every folder individually like Takhir writes it. Thanks for the help concerning this problem Takhir :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">5th November 2006 20:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">you're missing two things:<br />
      1. you only can have one label of the same name in a section or function.<br />
      2. you need to close your search after finishing it.<br />
      <br />
      this is the fixed version of your last code listing:<br />
      <br /></p>
      <pre>
<code>Section "Dummy Section" SecDummy<br />        <br />        SetOutPath "$PROGRAMFILES\TEST"<br />        File "Test1.txt"<br />        File "Test2.txt"<br />        SetOutPath "$PROGRAMFILES\TEST\TEST"<br />        File "TEST\Test3.txt"<br /><br />  FindFirst $0 $1 "$PROGRAMFILES\TEST\*"<br />loop:<br />  StrCmp $1 "" done<br />  ${GetFileAttributes} "$PROGRAMFILES\TEST\$1" DIRECTORY $2<br />  IntCmp $2 1 cont<br />  Inetc:ut /POPUP /CAPTION "my local ftp upload" "ftp://*********.com/html/$1" "$PROGRAMFILES\TEST\$1"<br />        Pop $3<br />  StrCmp $3 "OK" cont<br />  MessageBox MB_YESNO "Download failed/terminated. Continue?" IDYES cont<br />  Abort "Terminated by user"<br />cont:<br />  FindNext $0 $1<br />  Goto loop<br />done:<br />  FindClose $0<br /><br />FindFirst $4 $5 "$PROGRAMFILES\TEST\TEST\*"<br />loop2:<br />  StrCmp $5 "" done2<br />  ${GetFileAttributes} "$PROGRAMFILES\TEST\TEST\$5" DIRECTORY $6<br />  IntCmp $6 5 cont2<br />  Inetc:ut /POPUP /CAPTION "my local ftp upload" "ftp://*********.com/html/TEST/$5" "$PROGRAMFILES\TEST\TEST\$5"<br />        Pop $7<br />  StrCmp $7 "OK" cont2<br />  MessageBox MB_YESNO "Download failed/terminated. Continue?" IDYES cont2<br />  Abort "Terminated by user"<br />cont2:<br />  FindNext $4 $5<br />  Goto loop2<br />done2:<br />  FindClose $4<br /><br />SectionEnd<br /></code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">6th November 2006 09:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It was found ( :) ) that recursion works in NSIS script <a href="http://nsis.sourceforge.net/Recursive_Upload" target="_blank">http://nsis.sourceforge.net/Recursive_Upload</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">6th November 2006 16:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">WOW thanks a lot Takhir.<br />
      <br />
      I've now only the problem that I can't upload the files.<br />
      <br />
      I've defined the password, username and server in the variable $url<br />
      <br />
      Example:<br />
      <br /></p>
      <pre>
<code>Section "Dummy Section" SecDummy<br /> <br />  SetDetailsView hide<br />  StrCpy $path "$PROGRAMFILES\TEST"<br />  StrCpy $url <a href="ftp://username:pw@server.com/html" target="_blank">ftp://username:pw@server.com/html</a><br />  Call dirul<br />  SetDetailsView show<br /> <br />SectionEnd</code>
</pre><br />
      <br />
      .. but when I start the installer I get always an error and in the details is the following text:<br />
      <br />
      200 Switching to Binary mode.<br />
      2Unauthorized (401) C:\Programme\TEST\Test1.txt<br />
      terminated by user<br />
      <br />
      Do you know what's wrong?<br />
      Thank you
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">6th November 2006 19:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What means [url] in you script sample? May be simply</p>
      <pre>
<code><br />StrCpy $url <a href="ftp://username:pwd@server.com/html" target="_blank">ftp://username:pwd@server.com/html</a></code>
</pre><br />
      Edited: forum' php added [url] to my script too :) BTW I don't see 401 in the <a href="http://www.coolpagehelp.com/index.html?row2col2=error_codes.html" target="_blank">ftp error codes</a> - please check url correctness, plug-in threats it as http. I can test it again in office tomorrow.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">6th November 2006 20:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes that's right.. it's not a ftp error.<br />
      <br />
      I checked the url now again and it sould be correct. Here the url only with an other password:<br />
      <br /></p>
      <pre>
<code>ftp://web4:pwd@web254.billhost.de/html</code>
</pre><br />
      <br />
      I've try the url with the "original" code and there it works.<br />
      <br />
      Thanks for your help :)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">7th November 2006 07:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I fixed one bug (take new version from wiki), but found the problem - all files appears at the same folder. It is possible to modify script and update url as it was done for local file path</p>
      <pre>
<code><br />  Push $path<br />  Push $url<br />  StrCpy $path "$path\$1"<br />  StrCpy $url "$url/$1"<br />  Call dirul<br />  Pop $url<br />  Pop $path</code>
</pre><br />
      but current plug-in version not creates sub-directories on the ftp server, so folder must exist for this version.<br />
      Also, path from 'ftp root' should be used for server, not relative to the user's home folder, for example <a href="ftp://myftp.com/home/user/uploads" target="_blank">ftp://myftp.com/home/user/uploads</a><br />
      And local archive creation and single zip/7z file upload should work as well :)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sp33dy G0nz4l3s</span><br />
      <span class="post-time small text-muted">7th November 2006 20:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Takhir, thank you for your help :)<br />
      <br />
      It works now without problems. Unfortunately for my installer it's necessary that the sub-directories would be provided.<br />
      <br />
      Perhaps if you've the time and change sometime the plug-in that it creates the sub-directories it would be very friendly if contact me.. about this thread or a pm.<br />
      <br />
      -Marc</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">12th November 2006 12:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">New version uploaded, features:<br />
      - ftp server path creation for 'put' calls;<br />
      - both relative (to user' home dir) and ablolute paths support ("host/path" and "host//path").</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
