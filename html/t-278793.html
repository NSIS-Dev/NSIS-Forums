<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Display Multiple languages in Message Box" />

  <title>Display Multiple languages in Message Box - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Display Multiple languages in Message Box</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=278793">Display Multiple languages in Message Box</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">12th October 2007 11:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Display Multiple languages in Message Box</strong><br />
      I want to display Multiple languages in Message Box based on System default language ,<br />
      Is there any way where in I can create a Resource files for each of the language and fetch the text based on<br />
      system default language?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">12th October 2007 11:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Can't you just use a LangString?<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">12th October 2007 11:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for ur reply :-)<br />
      <br />
      Yes i could do that but m not able to add Japanese Text into NSIS script file, since NSIS doesnt support UNICODE.Is there any way where in I can add Japanese text int NSIS script file ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">14th October 2007 22:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Simply save the file as ANSI. Japanese has a codepage, so Unicode is not required.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">15th October 2007 05:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>saving Japanese text in ANSI</strong><br />
      Thanks for ur reply .....<br />
      well I tried adding Japanese text in NSIS script file and<br />
      saving it in ANSI , later when I opened back the script file<br />
      the japanese text had turned to a question mark " ????????"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">15th October 2007 06:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is how I add Japanese text<br />
      <br />
      Creating a macro<br />
      <br />
      !macro MACRO_INSTALL_PRODUCT prodname<br />
      <br />
      StrCmp $LANGUAGE ${LANG_ENGLISH} 0 +2<br />
      <br />
      MessageBox MB_OKCANCEL|MB_ICONQUESTION "You are about install ${prodname}. Press OK to continue or CANCEL to exit the installation." IDOK NoAbort<br />
      <br />
      StrCmp $LANGUAGE ${LANG_JAPANESE} 0 +2<br />
      MessageBox MB_OK|MB_ICONSTOP 'Japanese text here'<br />
      <br />
      !macroend<br />
      <br />
      <br />
      call it as follows :<br />
      <br />
      !insertmacro MACRO_INSTALL_PRODUCT ${prodname}</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">15th October 2007 08:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">There is no need for that unless you are calling the code in .onInit. As I said, use a LangString:<br />
      <br /></p>
      <pre>
<code>LangString MsgBoxText ${LANG_ENGLISH} "You are about to install ${prodname}. Press OK to continue or CANCEL to exit the installation."<br />LangString MsgBoxText ${LANG_ENGLISH} "Japanese text..."<br /><br />...<br />MessageBox MB_OKCANCEL|MB_ICONQUESTION $(MsgBoxText) IDOK +2<br />Abort</code>
</pre><br />
      <br />
      Stu
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">15th October 2007 10:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for ur reply ,But I m calling this MessageBox from<br />
      Oninit</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jimpark</span><br />
      <span class="post-time small text-muted">15th October 2007 16:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ranu_hai, is the Windows you are running set to use the Japanese codepage? Or are you running using another language (i.e. English) as your codepage and using the IME to type Japanese into the script?<br />
      <br />
      There are two things you could try. Using ANSI NSIS:<br />
      1. Change your codepage to the language you want to use. For example, if you want to type Japanese text, change your Windows setting to use the Japanese codepage. (Control Panel-&gt;Regional and Language Options-&gt;Language for non-Unicode programs-&gt;Japanese.<br />
      2. Reboot.<br />
      3. Type your Japanese text in your NSIS script.<br />
      4. Save as ANSI.<br />
      For each language you want to support, you will need to do this process again. Set the language, reboot, type, save etc. And when you open the file up in a different language, it will look like junk but believe us, it will look right on the right localized Windows.<br />
      <br />
      OR, you can try the Unicode version of NSIS. Look for the thread on the forums and get the files. There is no rebooting involved that one because it supports Unicode.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">galevsky</span><br />
      <span class="post-time small text-muted">16th October 2007 10:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">As for the LangString mechanism ineffective inside .onInit functions, is there any delivery planned to extend LangString abilities everywhere ?<br />
      <br />
      Because it is a bit disappointing to have both a pseudo-global easy-to-maintain multi-languages feature and hard coded management of languages inside some functions.<br />
      <br />
      Gal'</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">16th October 2007 10:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thanks a lot<br />
      <br />
      Setting options in Control Panel -&gt; Regional &amp; Language Options solved my problem .<br />
      <br />
      But still I was not able to implement LangString</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">16th October 2007 12:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you want to show multilingual messages on installer launch put them in .onGUIInit or in the first page's pre function.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">galevsky</span><br />
      <span class="post-time small text-muted">16th October 2007 13:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Many thanks Afrow UK ;)<br />
      <br />
      Gal'</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">galevsky</span><br />
      <span class="post-time small text-muted">16th October 2007 13:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Just one more thing:<br />
      <br />
      I did my customized .onGUIInit function. I can use LangString inside. Good. The first line of my function is<br />
      <br /></p>
      <pre>
<code>!insertmacro MUI_LANGDLL_DISPLAY</code>
</pre><br />
      <br />
      To let the user choose the language. But the language is not taken into account.... so I still have a .onInit which contains this line. Is it normal to have .onGUIInit not able to set the language ?<br />
      <br />
      Thks.<br />
      <br />
      Gal'
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">17th October 2007 06:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Suppose if v select the language( based on system default language),rather then allowing the user ,then will this .onGUIinit works ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">galevsky</span><br />
      <span class="post-time small text-muted">17th October 2007 09:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I advise you to declare your language inside .onInit function, either by <i>!insertmacro MUI_LANGDLL_DISPLAY</i> to let the user choose, or setup manually with <i>StrCpy $LANGUAGE whatuwant</i>.<br />
      <br />
      The tricky part is that MessageBoxes generated in .onInit don't take care of the language you setup. So, define your own .onGUIInit function into which you define your MessageBoxes of the primary checks (OS checks, welcome message and so on). Another way is to use the PRE function of the first page instead of re-defining .onGUIInit. Despite of all, the MUY_PAGES won't face any problem to use the right language, and the problem concerns only the MessageBoxes of the .onInit function.<br />
      <br />
      I hope it is clear for you now.<br />
      <br />
      Gal'</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">17th October 2007 10:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hey Thanks<br />
      <br />
      that solved my problem</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">17th December 2007 06:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi jimpark ,<br />
      As u said i was able to display Japanese Text by using the steps mentioned i.e Setting options in Control Panel -&gt; Regional &amp; Language Options ...<br />
      But when i run the setup in MUI 2000 Server /Professional instead of Japanese text some junk gets displayed ???????<br />
      <br />
      any idea ??? y is this happening</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ranu_hai</span><br />
      <span class="post-time small text-muted">17th December 2007 11:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">solved my problem by downloading and installing Unicode NSIS from <a href="http://www.scratchpaper.com/" target="_blank">http://www.scratchpaper.com/</a></p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
