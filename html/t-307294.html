<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to wait for NSIS-created installer to complete in silent mode?"><title>How to wait for NSIS-created installer to complete in silent mode? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to wait for NSIS-created installer to complete in silent mode?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=307294">How to wait for NSIS-created installer to complete in silent mode?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">greylightning</span><br><span class="post-time small text-muted">11th June 2009 17:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to wait for NSIS-created installer to complete in silent mode?</strong><br>Hi NSIS developers,<br><br>When running an NSIS-created installer in silent mode from the command line, I have found that the shell will return immediately, while the installer continues to run in a separate process.<br><br>Do you know how I can configure my NSIS-created installer so that completion of the install process will be waitable by the shell? The use case here is a third-party scripting system that needs to consume my installer in a way that waits for my installer process to complete before starting the next task. My installer is expected to run in silent mode and then return when it is fully complete.<br><br>I have noted another problem with the SilentInstall command. Perhaps this is related. Setting "SilentInstall silent" does not seem to have any effect. If I call my installer on the command line with "/S" it does launch a silent mode install.<br><br>Do any of you superpimps have advice on how to do this? Or if the answer is just 'no,' then I will groan and go ahead with switching to MSI (oh god MS toolchain why why).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">11th June 2009 19:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">In command prompt/batch files one must use start /wait for non console apps. In C/C++ you'd use WaitForSingleObject() on the process handle and in .NET you'd use process.Wait*****it(). I think you must be mistaken with your findings.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">greylightning</span><br><span class="post-time small text-muted">11th June 2009 19:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for the advice, Stu.<br><br>I was not able to get the desired wait behavior with the following bat file. Do you have any idea what might be wrong?<br><br>I created a bat file containing the following text:<br><br>@echo off<br>start "Installer" /wait /B "Installer.exe" /S<br><br>I then executed the batch file from a cmd.exe prompt. The command prompt still immediately returns from executing the script, while the installer runs in a detached process.<br><br>If I omit the /S, then it waits for the GUI installer to complete, the same as if I executed the installer directly from a command prompt. But the goal of this exercise is to wait for the silent-mode installer to complete. Any ideas?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">11th June 2009 20:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Using /B stops that code working at all as NSIS installers aren't console applications. Either way, with or without /S (and without /B) it waits for me. It never waits when run directly without using start /wait for me.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">greylightning</span><br><span class="post-time small text-muted">11th June 2009 20:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ah, excellent! Removing /B did the trick. Thank you!</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>