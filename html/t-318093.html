<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="/NOUNLOAD question"><title>/NOUNLOAD question - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">/NOUNLOAD question</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318093">/NOUNLOAD question</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">CrushBug</span><br><span class="post-time small text-muted">1st April 2010 00:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>/NOUNLOAD question</strong><br>The NSIS 2.42 release notes state that:<br><br>"Deprecated /NOUNLOAD and SetPluginsUnload to make scripts simpler and safer"<br><br>We are using NSIS 2.45 and I am sure that I am just misunderstanding something. We have a plug-in that we wrote a few years ago under NSIS 2.34 to take control of the installer/uninstaller progress bar and set it to whatever position we want. We have always used the /NOUNLOAD command and upon reading the above release note I tried removing the /NOUNLOAD parameter on our plug-in. This caused the DetailPrint command to crash. I am assuming that it was our plug-in being unloaded and ripping out some pointers. I put the /NOUNLOAD parameter back in and the problem went away.<br><br>Can someone explain the meaning of the 2.42 release note? Do we need to rebuild the plug-in using a more recent version of NSIS? Or am I completely missing something.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Animaether</span><br><span class="post-time small text-muted">1st April 2010 05:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">This thread might be for you:<br><a href="http://forums.winamp.com/showthread.php?t=301320" target="_blank">http://forums.winamp.com/showthread.php?t=301320</a><br><br>In summary:<br>Your plugin will continue to work and installer authors will continue to have to use /NOUNLOAD (and potentially an unload call).<br>If that is something you would like to get rid of, that's when you check out the new API and recompile :)<br><br>By the way, I'm not sure what your plugin does exactly, but you could look at the RealProgress plugin that at least sounds like it does something similar to what your plugin does (control over the (un.)InstFiles progressbar).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">CrushBug</span><br><span class="post-time small text-muted">1st April 2010 20:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><small>Originally posted by Animaether</small><br>This thread might be for you:<br><a href="http://forums.winamp.com/showthread.php?t=301320" target="_blank">http://forums.winamp.com/showthread.php?t=301320</a><br><br>In summary:<br>Your plugin will continue to work and installer authors will continue to have to use /NOUNLOAD (and potentially an unload call).<br>If that is something you would like to get rid of, that's when you check out the new API and recompile :)</blockquote>Thanks a bunch. It does sound like all we need to do us update all of our plug-ins and everything should start working as expected. Thanks for that link as I was having trouble finding related items in the search.<br><blockquote>By the way, I'm not sure what your plugin does exactly, but you could look at the RealProgress plugin that at least sounds like it does something similar to what your plugin does (control over the (un.)InstFiles progressbar).</blockquote>Yes, we were aware of that plug-in and ours does pretty much the exact same thing We cannot use it as the plug-in includes source code which is prohibited by our legal department.<br><br>Thanks again for the help.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Instructor</span><br><span class="post-time small text-muted">31st July 2011 14:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Why in NSIS 2.46 documentation "4.9.3.1 CallInstDLL" and "4.11 Plug-in DLLs" don't mention /NOUNLOAD parameter? /NOUNLOAD parameter is still required to call plugin without unload, but description was removed after 2.42 release.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>