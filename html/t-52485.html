<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Autorun/Install Script" />

  <title>Autorun/Install Script - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Autorun/Install Script</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=52485">Autorun/Install Script</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Gonzotek</span><br />
      <span class="post-time small text-muted">14th June 2001 02:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I was in the DCEMULATION.COM forums earlir today (it's kind of a nasty atmosphere compared to these forums, more on that later), and some created a self-boot tool. They have been doing some amazing stuff with DreamCasts (open-soruce mp3 players among others, check sourceforge). And these emulators and other software can self-boot the Dreamcast (home brewed discs that run the DC unaided). This guy made a really nice GUI for creating the discs (it was difficult before, beleive me!). Anyway, long story short:<br />
      <br />
      I got inspired and whipped up a NSIS installer that can sit on the same disc as the DC Emulator and run/install a PC emulator of the same system to your computer. Stick with me here...This means you can take, say NESticle and NesterDC on one disc with ROMs and be running the emu just by popping the disc in...on either system. Then I realized the script I whipped up was basically good for autorunning/installing any old cd-based game/program. So here it is...use your imagination, or go to <a href="http://members.home.com/cassidyn/download/autorunex.zip" target="_blank">http://members.home.com/cassidyn/download/autorunex.zip</a> .<br />
      <br /></p>
      <pre>
<code><br />;HEADER<br />Name "AutoRunEmu"<br />SilentInstall silent<br />OutFile "AutoRunEmu.exe"<br />InstallDir $TEMP<br />InstType Standard<br />DirShow hide<br />AutoCloseWindow true<br /><br />;COMPONENTS<br /><br />Section -<br />SetCompress auto<br />SetDataBlockOptimize on<br /><br /><br />;THIS SHOULD BE CHANGED FOR EACH INDIVIDUAL EMULATOR<br />ReadRegStr $1 HKLM "software\GONZOTEKEXAMPLE" GNZTKEX<br /><br />IfErrors 0 NoError<br />  SetOutPath $INSTDIR<br /><br />  ;SO SHOULD THIS<br />  FILE NESten061B1.exe<br /><br />  ;AND THIS :)<br />  WriteRegStr HKLM "software\GONZOTEKEXAMPLE" GNZTKEX "stuff"<br /><br /><br />  ;THIS TOO<br />  EXEC $INSTDIR\NESten061B1.exe<br />    Goto ErrorYay<br />NoError:<br /><br />   ;AND FINALLY THIS<br />   EXECSHELL OPEN "c:\NESten\NESten.exe"<br />ErrorYay:<br />SECTIONEND<br /></code>
</pre><br />
      <br />
      <br />
      So when you make your own installers, you wouldn't need to put an installer in another installer, that was just my laziness :) so was hard-coding c:\NES.... Anyway, use a variable for the directory.<br />
      <br />
      -=Gonzotek=-
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
