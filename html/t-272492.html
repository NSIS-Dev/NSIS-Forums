<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="How to stop bypassing CRCCheck?" />

  <title>How to stop bypassing CRCCheck? - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">How to stop bypassing CRCCheck?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=272492">How to stop bypassing CRCCheck?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mtconleyuk</span><br />
      <span class="post-time small text-muted">8th June 2007 08:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>How to stop bypassing CRCCheck?</strong><br />
      This is probably not a NSIS question per se, but it does involve the installer's CRCCheck directive.<br />
      <br />
      If I burn a CD with an installer set up for autoplay, and I insert it in one of my machines, the CRCCheck will run every time I insert the disc.<br />
      <br />
      If I do the same on another one of my machines, the check only runs the first time I insert the disc; on subsequent insertions, the check appears to be bypassed (or occurs so quickly no progress dialog is displayed).<br />
      <br />
      I'm guessing that there is some obscure Windows security setting that's causing this, and that NSIS is making some system call that retrieves cached data after the first disc insertion, so that CRCCheck simply turns around and says 'Done!' far faster on subsequent insertions.<br />
      <br />
      If this is the case, does anyone know how to turn off the caching? I like to verify my discs before shipping, and I can't really test them if the CRCCheck isn't running. Besides that, I'm just curious as to what might be going on.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">8th June 2007 09:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sounds like standard Windows file caching. In this case, not only the CRC is calculated on the cached data, but also the decompression of the data. Windows is simply skipping the CD so it'd run faster. There's nothing to worry about. The CRC is still done but much faster because the data is from the cache.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mtconleyuk</span><br />
      <span class="post-time small text-muted">8th June 2007 09:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks, but the point is I want the CRCCheck done on the copy of the data on the CD I insert. I didn't make it clear in my original post that we're talking about *different* CDs here: I have a stack of CDs I've burned, and I just want to make sure that the data were transferred by the burner app (which has been known to be a bit flakey at times) correctly. If Windows is caching the data from the first disc so that NSIS is not checking the data on the others, then I'm not able to verify that the individual copies of the installers are actually correct.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">8th June 2007 09:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's a bit strange. I'm sure Windows is smart enough to only pull something from the cache if it's the same CD. If not, I guess only decreasing the cache size will help you. There are "tweakers" out there that help you set the cache size.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mtconleyuk</span><br />
      <span class="post-time small text-muted">11th May 2009 08:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I discovered awhile back that the way to work around this is to open the Computer Management dialog (My Computer &gt; Manage, open the Removable Storage item, and click on Media. The caching is then disabled, and Windows scans each CD individually, even though they are all copies.<br />
      <br />
      Just in case anyone else wanted to know.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
