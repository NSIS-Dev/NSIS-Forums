<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Error: could not resolve label &quot;goto&quot; in unnamed install section (1)"><title>Error: could not resolve label "goto" in unnamed install section (1) - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Error: could not resolve label "goto" in unnamed install section (1)</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=291915">Error: could not resolve label "goto" in unnamed install section (1)</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">youngbucks</span><br><span class="post-time small text-muted">16th May 2008 22:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Error: could not resolve label "goto" in unnamed install section (1)</strong><br>I keep on getting this error when i try to compile my finished installer and i don't know why. I searched my file with the use of the notepad "find" function and all the times "goto" is used is only in the one section. Any idea whats going on anyone?<br><br>When i put the goto command in the same line the result is:<br><br>IfFileExists expects 2-3 parameters, got 5.<br>Usage: IfFileExists filename label_to_goto_if_file_exists [label_to_goto_otherwise]</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">16th May 2008 22:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Goto is a command and shouldn't be used with IfFileExists and others. It's a command by its own. When you're asked for a label, just a label is required with no "goto" prefix.<br><br>You should use the LogicLib for easier conditionals.</p><pre>
<code>!include LogicLib.nsh<br>#...<br>${If} ${FileExists} $INSTDIR\Prerequisites\C#.msi<br>  # do something<br>${EndIf}</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">youngbucks</span><br>
      <span class="post-time small text-muted">16th May 2008 22:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok but before i go and do this i need to 100% understand how to put that into my script because i dont want to mess it up. could you show me an example of it being used? preferably with a part of my scipt if its not too much.<br>
      <br>
      Is this the proper use? If the files are not there will they still be downloaded? (See my above post for the new attachment.)<br>
      <br>
      Well new problems have now arose:<br>
      1. Only the first file which is Dark.msi extracts itself and the others don't<br>
      2. The NSISdl is giving me an error and its not downloading the files. (Fixed!)<br>
      3. I don't want my nsis to be showing all the commands i type out if you get what i mean.<br>
      <br>
      Heres some pics to help out:<br>
      <br>
      <a href="http://img529.imageshack.us/img529/3520/78795534ks4.jpg" target="_blank">http://img529.imageshack.us/img529/3520/78795534ks4.jpg</a><br>
      <a href="http://img529.imageshack.us/img529/2711/25574629rf8.jpg" target="_blank">http://img529.imageshack.us/img529/2711/25574629rf8.jpg</a>[B][U]</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">17th May 2008 01:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">try this:</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">youngbucks</span><br>
      <span class="post-time small text-muted">17th May 2008 02:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks, im saving that script to use later on and the part where u used $OUTDIR instead of $INSTDIR helped me out because i couldnt get the installer to execute the file and that worked :) As for the rest of my problems now they are fixed. Im a beginner at this stuff so ill be here quite a bit :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Johnm312</span><br>
      <span class="post-time small text-muted">17th May 2008 20:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Red,<br>
      <br>
      I was looking at that script, It is nice and to the point.<br>
      <br>
      my question to you, is there a way to create an ini file of all of the filenames and links i want to download and have the script go down the list and dynamically get one file at a time until it is out of files. allowing me to add more files to it on the fly to my collection of mods for a game i am working on.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">youngbucks</span><br>
      <span class="post-time small text-muted">17th May 2008 20:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I don't think thats possible but what you can do is in your script file you add the multiple links of all the files you want to download. Look at this link for better usage</p>
      <pre>
<code>http://myweb.tiscali.co.uk/imker/afrowuk/stuff/NSISdl.nsh</code>
</pre>. and your gonna need this file.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Johnm312</span><br>
      <span class="post-time small text-muted">17th May 2008 20:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thank you for the fast reply.<br>
      <br>
      Unfortunately not all of the projects are on the same server. a few are even posted as attachments on a forum.<br>
      <br>
      I was looking at a few sample scripts and it looks like it might be possible to read a set of fields, attach them to a var, Download the var name, then go back to the ini file.<br>
      <br>
      I could be wrong.<br>
      <br>
      right now i have maybe 25 downloads and i keep creating more mods. so, the list will only grow.<br>
      <br>
      perhaps if it works well. maybe allow some people to add their files to the ini for a "community pack".<br>
      <br>
      <br>
      <br>
      Edit. sorry I just looked at the file again. i opened the wrong sample. it could do what i want for myself. but it would remove the option to aloow for 3rd partys to add to the serverlist.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">17th May 2008 20:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can use InetC to push in the stack all the collected links.<br>
      <br>
      <a href="http://nsis.sourceforge.net/Inetc_plug-in" target="_blank">http://nsis.sourceforge.net/Inetc_plug-in</a></p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Johnm312</span><br>
      <span class="post-time small text-muted">17th May 2008 21:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you for the answer,<br>
      <br>
      Unfortunately i am reading though pages and pages and i am lost. unfortunately my scripting is still lacking. I can see the logic in code but trying to recreate it is.. well disaster at the moment<br>
      <br>
      I have created some very complex installers recently, but right now i am just staring at a blank page lost..</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br>
      <span class="post-time small text-muted">17th May 2008 23:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok here's a basic concept with the existing code. It's nothing too fancy but should do the job.<br>
      <br>
      It reads the downloads from CPPackage.ini which should be in the same directory with the installer. The ini file has to be in following format.<br></p>
      <pre>
<code>[downloads]<br>message0=Do you want foo?<br>downloadurl0=http://google.com/foo.exe<br>filename0=foo.exe<br>message1=Do you want bar?<br>downloadurl1=http://google.com/bar.exe<br>filename1=bar.exe<br>...</code>
</pre><br>
      Par
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">youngbucks</span><br>
      <span class="post-time small text-muted">18th May 2008 00:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks alot ^^ ill use this for sure, right now i dont have time to be going to be mailing solutions to customers when now i can host the files with my computer and send all of them at once to them.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Johnm312</span><br>
      <span class="post-time small text-muted">18th May 2008 01:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Par,<br>
      That is pretty much what i had in Mind,<br>
      <br>
      I was going to add directory sorting for different mod types. For example "Maps", "American Style Mods", "German Style Mods", ETC, with Your method that would be easy to variable into it.<br>
      <br>
      Thank You for all for taking the time out to look into this. I really do appreciate it.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">youngbucks</span><br>
      <span class="post-time small text-muted">18th May 2008 02:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Just tested this out and theres one problem i keep on getting. It keeps on "echoing" a command its supposed to be carrying out and i didnt put the message box script infront.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Johnm312</span><br>
      <span class="post-time small text-muted">18th May 2008 02:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I saw that, i rem'd it out. i did not want the files to execute anyways, just gather.<br>
      <br>
      I also moved the "do you want file XXX?" message box to pop up after if it check if the file existed and to just echo the file name back at me.<br>
      <br>
      I also combined:<br>
      <br>
      NSISdl::download $downloadurl$filename "$OUTDIR\$filename"<br>
      <br>
      so that i had less data to fill into my ini.<br>
      <br>
      it is now<br>
      <br></p>
      <pre>
<code><br>downloadurl0=http://google.com/<br>filename0=foo.exe<br></code>
</pre><br>
      <br>
      <br>
      Edit:<br>
      I forgot I also had it grab the INI off the Download server and put it into the plugin folder so you wont have to get a new installer when I add more files to the list.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">youngbucks</span><br>
      <span class="post-time small text-muted">18th May 2008 03:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">After your done could you attach your script so i can see the proper usage?<br>
      <br>
      What im planning to do with this is set up my ini files with all the dl links so that when its run if there is an update it downloads the new ini file if it doesnt detect it and downloads the new files.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>