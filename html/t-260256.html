<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Goto finish when INSTFILES is completed"><title>Goto finish when INSTFILES is completed - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Goto finish when INSTFILES is completed</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=260256">Goto finish when INSTFILES is completed</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">zbd</span><br><span class="post-time small text-muted">24th November 2006 03:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Goto finish when INSTFILES is completed</strong><br>Hi, is there a way to make the INSTFILES page just move on to the finish page instead of declaring a success and then the user having to press 'Next'<br><br>Only reason I want to do this is because I cant work out how to change the text at the top of the INSTFILES page when the installing process has finished.<br><br>Anyway, cheers if u can help.<br>ZBD</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">bholliger</span><br><span class="post-time small text-muted">24th November 2006 03:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi zbd!<br><br>Have you declared MUI_FINISHPAGE_NOAUTOCLOSE somewhere in your script?<br><br>Cheers from Sydney!<br><br>Bruno</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">zbd</span><br><span class="post-time small text-muted">24th November 2006 04:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi Bruno,<br>I haven't got that declared anywhere.<br>I'm relatively new at this.<br>So if i say:<br></p><pre>
<code><br>!define MUI_FINISHPAGE_NOAUTOCLOSE false<br></code>
</pre><br>
      <br>
      that will make the INSTFILES page not stop when it finishes copying the files?<br>
      <br>
      Cheers for your reply
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bholliger</span><br>
      <span class="post-time small text-muted">24th November 2006 04:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi zbd!<br>
      <br>
      Ok, I might have understood something wrong. Try this code and say if this is the behaviour you would like to achieve.<br>
      <br>
      Usually NSIS switches automatically to the finish page when instfiles has finished.<br>
      <br>
      Cheers<br>
      <br>
      Bruno<br>
      <br></p>
      <pre>
<code><br>;--------------------------------<br>;Include Modern UI<br>  !include "MUI.nsh"<br>;--------------------------------<br>;General<br>  Outfile test.exe<br>;--------------------------------<br>;Pages<br>  !insertmacro MUI_PAGE_INSTFILES<br>  !insertmacro MUI_PAGE_FINISH<br><br>Section "secDummy"<br>  Sleep 1000 ; do some really hard work<br>SectionEnd<br><br>;--------------------------------<br>;Languages<br>  !insertmacro MUI_LANGUAGE "English"<br></code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zbd</span><br>
      <span class="post-time small text-muted">24th November 2006 04:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br>
      Yeah thats what I'm wanting it to do.<br>
      I am using the ExperienceUI i dont know if that affects it.<br>
      At the moment it copies 3 components, when it finishes, it DetailPrints "Completed" then waits for the User to click the next button to go to the finishpage.<br>
      Also, I have a custom finish page, with variables to display what was installed.<br>
      <br>
      But yes, your example does exactly what i want to do<br>
      <br>
      thanks</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bholliger</span><br>
      <span class="post-time small text-muted">24th November 2006 04:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok, I'll have a look at ExperienceUI.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zbd</span><br>
      <span class="post-time small text-muted">24th November 2006 04:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for your help.<br>
      The only reason I'm trying to do this is because I couldn't change a line of text in the installer.<br>
      <br>
      i've attached my script<br>
      [as i said i'm quite newb so structure and a lot of other things may be wrong]<br>
      <br>
      The line that i cant get working is on line 100.<br>
      <br>
      But either way would be great.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bholliger</span><br>
      <span class="post-time small text-muted">24th November 2006 04:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Have a look at the manual:<br>
      <br>
      Defines / Page Settings / Files Copy Page<br>
      <br>
      There are a lot of constants which can be set to other values. Is this of any use?<br>
      <br></p>
      <pre>
<code><br>InstFiles Page Settings<br><br>XPUI_INSTFILESPAGE_TITLE "Header Top"<br><br>The top layer of text on the header.<br>Default: "Installing"<br><br>XPUI_INSTFILESPAGE_SUBTITLE "Header Bottom"<br><br>The bottom layer of text on the header.<br>Default: "Please wait while &lt;NAME&gt; is being installed."<br><br>XPUI_INSTFILESPAGE_CAPTION ": Text"<br><br>The text added to the window caption.<br>Default: ": Copying Files"<br></code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zbd</span><br>
      <span class="post-time small text-muted">24th November 2006 04:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi yeah, thats where i got XPUI_INSTSUCCESSPAGE_SUBTITLE from.<br>
      <br>
      I am using a few other custom headers on other pages and they work ok, the default its supposed to beaccording to the documentation isn't what is actually printed either.<br>
      <br>
      Its printing "All of the components of MyApp were successfully copied to your computer"<br>
      But it says the default is meant to be something else in the documentation.<br>
      <br>
      So my last resort is to make it miss the end of the INSTFILES page, but i cant seem to do either at the moment</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bholliger</span><br>
      <span class="post-time small text-muted">24th November 2006 06:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm sure this is not really a good way, but it could work.<br>
      <br>
      Introduce<br></p>
      <pre>
<code><br>  SetAutoClose true<br></code>
</pre><br>
      somewhere in your sections.<br>
      <br>
      Cheers<br>
      <br>
      Bruno
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>