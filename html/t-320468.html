<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Polish characters not displayed in MessageBox" />

  <title>Polish characters not displayed in MessageBox - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Polish characters not displayed in MessageBox</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=320468">Polish characters not displayed in MessageBox</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">smita</span><br />
      <span class="post-time small text-muted">1st July 2010 18:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Polish characters not displayed in MessageBox</strong><br />
      Hi,<br />
      <br />
      I am NSIS newbie. I am facing a problem with the NSIS un-installer. When i install my software using NSIS i give the option to the user to select from 2 languages : English and Polish. Once it is installed by setting the Polish language and then on un-installing the software i need the prompts and messages to come up in Polish. I use the MessageBox in un.oninit method to get confirmation from the user whether he wants to go ahead with the un-installation. But the MessageBox text does display the Polish characters properly if i hardcode the text string in the MessageBox method call or by using the LangString feature. I have changed the default language of my PC to Polish, still it does not display properly.<br />
      <br />
      Secondly, the 'Yes' and 'No' buttons in the MessageBox do not show up in Polish. Is it possible to show it in the same language as that of the OS.<br />
      <br />
      The second approach i tried is to replace the existing text in Polish.nlf and use those strings in the MessageBox. But here again it happens that irrespective of the default OS language these text strings are picked up from English.nlf. Is there are way to indicate to un-installer that if the default language of the OS is polish then pick up text strings from Polish.nlf and if English then from English.nlf.<br />
      <br />
      <b>This is my code :</b><br />
      <br />
      !include "MUI2.nsh"<br />
      var Lang_Installer<br />
      <br />
      !insertmacro MUI_LANGUAGE "English"<br />
      !insertmacro MUI_LANGUAGE "Polish"<br />
      <br />
      Function un.onInit<br />
      <br />
      Call un.IsSilent<br />
      Pop $0<br />
      StrCpy $IsSilentInstall $0<br />
      ReadRegStr $Lang_Installer HKLM Software\Comp\Installer\AppData Language<br />
      ${If} $Lang_Installer == 'pl'<br />
      StrCpy $Language ${POLISH}<br />
      MessageBox MB_YESNO $(^ComponentsSubCaption) /SD IDYES IDYES NoAbort<br />
      ${Else}<br />
      StrCpy $Language ${ENGLISH}<br />
      MessageBox MB_YESNO "@ssm.uninstaller.confirmation.text.en@" /SD IDYES IDYES NoAbort<br />
      ${EndIf}<br />
      <br />
      Abort ; causes uninstaller to quit.<br />
      NoAbort:<br />
      FunctionEnd<br />
      <br />
      Would really appreciate an early reply.<br />
      <br />
      Thanks,<br />
      Smita.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">1st July 2010 20:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://forums.winamp.com/showthread.php?t=301723" target="_blank">http://forums.winamp.com/showthread.php?t=301723</a><br />
      <a href="http://forums.winamp.com/showthread.php?t=246723" target="_blank">http://forums.winamp.com/showthread.php?t=246723</a><br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
