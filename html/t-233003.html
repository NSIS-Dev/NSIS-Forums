<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="2.11 and components problem?" />

  <title>2.11 and components problem? - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">2.11 and components problem?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=233003">2.11 and components problem?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">l_d_allan</span><br />
      <span class="post-time small text-muted">12th December 2005 16:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>2.11 and components problem?</strong><br />
      I've got a script that involves an optional component ... it has stopped working with 2.11. I reverted to 2.10 and it works ok.<br />
      <br />
      Is there a known problem with this, or a work-around, or something changed from 2.10 to 2.11? User error?<br />
      <br />
      If appropriate, I can strip down the script and attach.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">l_d_allan</span><br />
      <span class="post-time small text-muted">12th December 2005 16:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">More info ... this seems to only happen with the 8192 stringlen version of makensis<br />
      <br />
      Here is a sample script ... the optional WEB doesn't show up with 2.11-8192. It does show up with 2.10-8192 and 2.11-1024<br />
      <br />
      Name "MyApp"<br />
      OutFile "MyAppStarterKitSetup_beta.exe"<br />
      SetCompressor lzma<br />
      CRCCheck on<br />
      AutoCloseWindow true<br />
      InstallDir "$PROGRAMFILES\MyApp"<br />
      InstallDirRegKey HKLM SOFTWARE\MyApp "Install_Dir"<br />
      <br />
      ; Pages<br />
      Page components<br />
      Page instfiles<br />
      <br />
      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;<br />
      Section "MyApp (req s/w -- no modules)"<br />
      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;<br />
      SectionIn RO<br />
      SetOutPath $INSTDIR<br />
      File MyApp.exe<br />
      SectionEnd ; end the section<br />
      <br />
      Section "Optional: WEB"<br />
      CreateDirectory $INSTDIR\MyApp\junk<br />
      SectionEnd</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">13th December 2005 17:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I tried compiling this with 2.11-8192 and it worked fine. Do you have anything in nsisconf.nsh? Can you attach a compiled installer as an example?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">l_d_allan</span><br />
      <span class="post-time small text-muted">13th December 2005 23:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for your help on this.<br />
      <br /></p>

      <blockquote>
        Can you attach a compiled installer as an example?
      </blockquote>I'm not sure what you are asking for, but I am attaching:<br />
      MyAppStarterKitSetup_beta.exe<br />
      <br />
      This example doesn't actually use long strings over 1024 length ... the actual installer does, however .... but that doesn't seem to be part of what I am experiencing.<br />
      <br />

      <blockquote>
        Do you have anything in nsisconf.nsh?
      </blockquote>Just the "vanilla" version as installed from Feb, 2005.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th December 2005 17:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm asking for an example installer, compiled with 2.11, where I can see that the component doesn't show up. Your attachment didn't work, please try again.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">l_d_allan</span><br />
      <span class="post-time small text-muted">19th December 2005 21:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ooops.... attachment was too large ... bigger than file size limit of 1 meg. Here is a link:<br />
      <br />
      <a href="http://cleanspeech.sf.net/misc/MyAppStarterKitSetup_beta.zip" target="_blank">http://cleanspeech.sf.net/misc/MyApp...Setup_beta.zip</a><br />
      <br />
      Thanks for your help on this.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">23rd December 2005 13:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Seems like you've mixed and matched makensis.exe and the Stubs folder. The data appended to the stub uses 8192 bytes long strings, but the stub treats them as though they were 1024 bytes long. When using a special build, you must copy over both makensis.exe and the Stubs folder as is.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">l_d_allan</span><br />
      <span class="post-time small text-muted">24th December 2005 13:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I installed ver 2.12 and the script is working ok ... probably operator error on my part. Thanks for you help (and patience)</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
