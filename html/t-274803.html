<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="unzip"><title>unzip - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">unzip</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274803">unzip</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">wheleph</span><br><span class="post-time small text-muted">23rd July 2007 15:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>unzip</strong><br>I need to unpack zip archive during installation. How to reflect the progress of extracting files in progress bar?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">23rd July 2007 17:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Surely there are several ways to do that, one I could think about is by hiding installer window and using nxs plugin.<br><br><a href="http://nsis.sourceforge.net/Nxs_plug-in" target="_blank">http://nsis.sourceforge.net/Nxs_plug-in</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wheleph</span><br><span class="post-time small text-muted">24th July 2007 06:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The problem is not to draw a progress bar but to tie it to unpacking process</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">empezar</span><br><span class="post-time small text-muted">24th July 2007 08:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I'm having this problem as well. My users think the installer has crashed when it unzips large zip files, since nothing really happens until it's done.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wheleph</span><br><span class="post-time small text-muted">24th July 2007 10:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">To emulate the progress I use <a href="http://nsis.sourceforge.net/RealProgress_plug-in" target="_blank">http://nsis.sourceforge.net/RealProgress_plug-in</a> increasing percentage say 1% a second to show that my installer has not crashed. But this is just not very good workaroud</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wheleph</span><br><span class="post-time small text-muted">25th July 2007 14:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">To be short:<br>try File /r.<br><br>The story:<br>I didn't know that File instruction support /r function. NSIS installer is run by ant script automatically in my project. And when I add a new file to it I thought that I need to modify my .nsi file. It's certainly unacceptable. That's why I put .war file in my installer and unpacked it on user's computer. Now I have no need to do this.<br><br>But I still think that in some cases such plugin may be useful.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">25th July 2007 15:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It would be better to write another NSIS installer executable to generate the NSIS code for you. I plan on writing such today if I have time.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pgg1</span><br><span class="post-time small text-muted">2nd August 2007 17:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Installing files</strong><br>Has anybody found a solution yet? I am in the same predicament. I need to unpack a load of stuff and wish to do it within the progress bar of the following page:<br>!insertmacro MUI_UNPAGE_INSTFILES.<br><br>Can it be done?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">2nd August 2007 17:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It can be done, the problem is when unpacking the zip the progress bar does not show any activity which doesn't look nice especially if the zip is big and needs some time to unpack.<br><br>For my opinion a simple solution is to pop up that small banner using banner plugin saying e.g. "Please wait while unpacking data"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pgg1</span><br><span class="post-time small text-muted">3rd August 2007 09:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ok thanks, I'll give that a whirl.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wheleph</span><br><span class="post-time small text-muted">4th July 2008 12:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Another workaround from Nsisunz plugin wiki (<a href="http://nsis.sourceforge.net/Nsisunz_plug-in" target="_blank">http://nsis.sourceforge.net/Nsisunz_plug-in</a>):<br><br></p><pre>
<code><br>InitPluginsDir<br>; Call plug-in. Push filename to ZIP first, and the dest. folder last.<br>nsisunz::UnzipToLog "$PLUGINSDIR\myzipfile.zip" "$INSTDIR"<br> <br>; Always check result on stack<br>Pop $0<br>StrCmp $0 "success" ok<br>  DetailPrint "$0" ;print error message to log<br>ok:<br></code>
</pre><br>
      <br>
      Thus progress bar is still not dirigible but log window lists the files been unpacked and users will not think that installer hangs.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zeeh3</span><br>
      <span class="post-time small text-muted">4th July 2008 13:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Maybe <a href="http://nsis.sourceforge.net/Nwiz_plug-in" target="_blank">Nwiz plug-in</a> is another good option.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>