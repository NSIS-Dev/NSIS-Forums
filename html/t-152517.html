<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Get Installer's filename (archive)" />

  <title>Get Installer's filename (archive) - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Get Installer's filename (archive)</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=152517">Get Installer's filename (archive)</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MathiasSimmack</span><br />
      <span class="post-time small text-muted">13th October 2003 22:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Get Installer's filename (archive)</strong><br />
      I read this <a href="http://nsis.sourceforge.net/archive/viewpage.php?pageid=366" target="_blank">article</a> in the archive. It's okay but maybe it's time for a built-in $EXENAME var or something like this? Could make life easier. ;)<br />
      <br />
      What do you think about?<br />
      <br />
      Mathias.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">13th October 2003 23:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Maybe calling this API using the System plug-in would be the best solution:<br />
      <br />
      <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/base/getmodulefilename.asp" target="_blank">http://msdn.microsoft.com/library/de...lefilename.asp</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MathiasSimmack</span><br />
      <span class="post-time small text-muted">14th October 2003 08:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Maybe it is, Joost. But if that is an argument, you also could remove the other built-in variables. ;) Why should I use $WINDIR (for example) if I could call the API "GetWindowsDirectory"?<br />
      <br />
      I just thought it could be easier. Need your setup's name? Just call $EXENAME in your script.<br />
      <br />
      However, now I'm afraid to ask for shift operators (&lt;&lt; &gt;&gt;) (IntOp). I could use them to get the Windows version and type (s. API "GetVersion") :)<br />
      <br />
      <br />
      Mathias.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">14th October 2003 13:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://nsis.sourceforge.net/site/index.php?id=19&amp;backPID=15&amp;tx_faq_faq=7" target="_blank">http://nsis.sourceforge.net/site/ind...5&amp;tx_faq_faq=7</a><br />
      <br />
      If we add a variable/command for everything that can also be done using plug-ins or the script language, NSIS will become huge.<br />
      <br />
      $WINDIR is something that many people need, getting the filename of the installer not.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MathiasSimmack</span><br />
      <span class="post-time small text-muted">16th October 2003 17:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Joost Verburg</i><br />
        <br />
        If we add a variable/command for everything that can also be done using plug-ins or the script language, NSIS will become huge.
      </blockquote>Yes, you're right.<br />
      <br />

      <blockquote>
        $WINDIR is something that many people need, getting the filename of the installer not. [/B]
      </blockquote>I can accept this statement. :)<br />
      <br />
      I just made a suggestion because I try to work as simple as possible. Do you know what I mean? Maybe I have the knowledge to do some gimmicks with the script language or an external plug-in. But in the most situations I try to avoid it. And the easiest way to use something special is always a built-in feature.<br />
      <br />
      That was the intention. But however, it's okay. :)<br />
      <br />
      Mathias.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">16th October 2003 21:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">But if you only use the same plugin for all, will only add once the plugin size. For Example, using System Plugin do get the current time, and to use the clipboard to get a string.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MathiasSimmack</span><br />
      <span class="post-time small text-muted">16th October 2003 21:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, I know it. But as I said, it was not the reason, I wrote this here.<br />
      <br />
      Mathias.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">n0On3</span><br />
      <span class="post-time small text-muted">19th October 2003 19:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">just for information, how much would nsis grow adding $EXENAME or $SENDTO or whatever?<br />
      <br />
      also, how much size or memory do the new unlimited variables feature take?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">19th October 2003 22:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This new variable feature has been highly optimized and doesn't add more than a few hundred bytes.<br />
      <br />
      Adding once of these not commonly used features would not make a big difference, but there are a lot of things that can also be done using the script language. If we would add 'em all, NSIS would become huge.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">19th October 2003 22:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Can this help you?<br /></p>
      <pre>
<code><br />OutFile "EXEname.exe"<br />Name "Get a Installer's EXE name"<br />Caption "Get a Installer's EXE name"<br />XPStyle "on"<br /><br />Function ".onInit"<br />System::Call 'kernel32::GetModuleFileNameA(i 0, t .r0, i 1024) i r1'<br />MessageBox MB_OK|MB_ICONINFORMATION "$0"<br />Quit<br />FunctionEnd<br /><br />Section "-boo"<br />;<br />SectionEnd<br /></code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">n0On3</span><br />
      <span class="post-time small text-muted">20th October 2003 16:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Joost Verburg, thanks for the explanation :)</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
