<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Change top bitmap in modern ui"><title>Change top bitmap in modern ui - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content=" Change top bitmap in modern ui"><title>Change top bitmap in modern ui - NSIS Forums</title><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Change top bitmap in modern ui</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=127798">Change top bitmap in modern ui</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br><span class="post-time small text-muted">9th March 2003 09:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Change top bitmap in modern ui</strong><br>Hi<br><br>is there a way to change the white bar (with the installer icon) on the top of the modern ui installers to a bitmap like in some installshield setups?<br><br>DOCa Cola<br><br><a href="http://www.borgcore.de/outerspace/norton.png" target="_blank">http://www.borgcore.de/outerspace/norton.png</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">9th March 2003 12:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think I'll add an option for it to the Modern UI :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br><span class="post-time small text-muted">9th March 2003 12:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">cool, thx!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">9th March 2003 14:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Modern UI 1.63 with header bitmap support and some other new features is ready.<br><br>I can't upload it now, because a stupid router somewhere is dead so I can't connect to SourceForge :(</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br><span class="post-time small text-muted">9th March 2003 14:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">yay, can't wait for it</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">9th March 2003 15:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>From Homer Simpson:<br><b>Woohoo</b></blockquote>:up:</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">9th March 2003 15:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Here is a screenshot. Still can't upload :(</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br><span class="post-time small text-muted">9th March 2003 15:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">nice!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">9th March 2003 15:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Cool :up: Can we change the top text alignment? Center, right, left?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br><span class="post-time small text-muted">9th March 2003 15:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">good idea<br>and something like toptext_left=200 (yep, not a very creative name :))</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">9th March 2003 15:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It's not possible to put an image behind the text, but you can put the bitmap on the left or right side.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">9th March 2003 15:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">But It'll be both... Header and SubHeader in modern UI</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">9th March 2003 15:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The header bitmap has a fixed size. With the default DPI, it has a width of 150 pixels, so the text does fit next to the image.<br><br>You can either put the image on the left size (text will be moved a bit to the right side) or on the right side.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Mosestycoon</span><br><span class="post-time small text-muted">9th March 2003 16:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Very cool Joost</strong><br>That's very cool!<br>Can't wait for that<br>:D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">9th March 2003 18:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Uploaded :D Grab the latest CVS version.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br><span class="post-time small text-muted">9th March 2003 18:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">yay!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br><span class="post-time small text-muted">9th March 2003 19:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">wouldn't it be better if the header bitmap can be used this way?<br></p><pre>
<code>!define MUI_HEADERBITMAP "${NSISDIR}\Contrib\Icons\modern-header.bmp"<br>!define MUI_UI "${NSISDIR}\Contrib\UIs\modern_headerbmp.exe"</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">9th March 2003 19:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You don't have to define MUI_UI. The headerbitmap UI is an extension which will be used automatically.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br>
      <span class="post-time small text-muted">9th March 2003 19:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yep, but it's then more complicated to use an custom made UI<br>
      or am i wrong?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">9th March 2003 20:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'll add an option to use a customized header UI with dialog IDD_INST.<br>
      <br>
      edit: Done :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br>
      <span class="post-time small text-muted">9th March 2003 20:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">erm, can you give me an example, pls? :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">9th March 2003 21:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">!define MUI_UI "normal ui"<br>
      !define MUI_UI_HEADERBITMAP "ui with custom IDD_INST resource"</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
      <span class="post-time small text-muted">9th March 2003 21:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">!define MUI_UI_HEADERBITMAP_RIGHT "ui with custom IDD_INST resource"<br>
      <br>
      Use this if you want to use the header bitmap in the right.<br>
      <br>
      (if you edited with the ${NSISDIR}\Contrib\UIs\modern-headerbmpr.exe")<br>
      <br>
      [edit]And how about a option to allow use the icon and the bitmap at same time (and put the icon on the bitmap)?[/edit]</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br>
      <span class="post-time small text-muted">9th March 2003 21:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I know there i a way to make the background of a text label transparent (this is possible in visual basic and is also used in install shield).<br>
      if the bitmap in the dialog ressource is then arranged to be behind the two text labels then we can use bitmaps with the full width of the header and they do not cover the text labels anymore</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br>
      <span class="post-time small text-muted">9th March 2003 21:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Great job Joost!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">9th March 2003 22:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">NSIS does not support transparent labels.<br>
      <br>
      This would be a nice feature for the future, but you would also need a possibility to resize the dialog control.<br>
      <br>
      I think this won't be ready anytime soon, there is still a lot of stuff on the TODO list.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">10th March 2003 03:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nice work dude :up: :D</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mosestycoon</span><br>
      <span class="post-time small text-muted">10th March 2003 08:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Great thing</strong><br>
      Well, well, well<br>
      Great enhancement Major Dude!<br>
      :D Thx again (make things look smoother...)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br>
      <span class="post-time small text-muted">10th March 2003 12:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Joost Verburg</i><br>
        <b>This would be a nice feature for the future, but you would also need a possibility to resize the dialog control.<br></b>
      </blockquote>Sorry, which dialog control?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">10th March 2003 15:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The bitmap control.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br>
      <span class="post-time small text-muted">10th March 2003 15:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">For the beginning it would not be necessary to integrate the custom size feature, because people can make their own custom header UIs with the bitmap size they need and the labels set to foreground through reshacker. Then the transparent label feature would be good for people who really need to customize the ui and can wait for the easier commands in the later builds.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">10th March 2003 15:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Maybe a feature for transparency will be added to NSIS in the future.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br>
      <span class="post-time small text-muted">10th March 2003 16:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Is it not just a matter of calling SetBkMode(dc,TRANSPARENT) ?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">10th March 2003 16:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm not sure. I think you also have to respond to a message.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">10th March 2003 20:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yea, it must be in a message. There is already some partly transparent code for the MUI's branding text, I'll try to get a transparent text option out of it too.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Andrew Francis</span><br>
      <span class="post-time small text-muted">11th March 2003 02:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The message you're thinking of is WM_CTLCOLORSTATIC<br>
      <br>
      You probably want something like this:<br>
      <br>
      case WM_CTLCOLORSTATIC:<br>
      {<br>
      HWND ctl = (HWND)lp;<br>
      HDC hdc = (HDC)wp;<br>
      if(ctl == APPROPRIATE_CONTROL)<br>
      SetBkMode(hdc, TRANSPARENT);<br>
      else<br>
      SetBkMode(hdc, OPAQUE);<br>
      return 0; // we're meant to return a brush, but this should<br>
      // get us a default<br>
      }<br>
      <br>
      This didn't work quite right the one time I tried it, but that was on the PocketPC, where nothing works quite as it should :/</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">raffiX</span><br>
      <span class="post-time small text-muted">16th December 2003 15:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Sorry</strong><br>
      Fist sorry my post.<br>
      <br>
      Second: Cool. The bitmap is COOL.<br>
      <br>
      Third: How I can use my own headbitmap?<br>
      I think, it is better, when I can make an own bitmap, which is right for the program I want to install, am I right?<br>
      <br>
      So long,<br>
      raffiX, 15; Germany, NRW, Cologne</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">16th December 2003 16:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Check the Modern UI Readme:<br>
      <br>
      Use MUI_HEADERIMAGE to enable the image and MUI_HEADERIMAGE_BITMAP to use a custom bitmap.<br>
      <br>
      (Modern UI 1.67/1.68)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LazyBear</span><br>
      <span class="post-time small text-muted">17th December 2003 07:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">As I said, I'm quite to dumb for this :D I had Errors with MUI_HEADERIMAGE_BITMAP but I used a simple way which I used in InstallShield some time ago:<br>
      <br>
      take your bitmap, and save it as<br>
      ...\NSIS\Contrib\Graphics\Header\nsis.bmp<br>
      <br>
      As me and my friends say: if you don't understand how to do it, try to find another way...<br>
      <br>
      I know this isn't the best way and in fact not the way you mentioned, but it works well :)<br>
      <br>
      so long -L-B-</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">17th December 2003 11:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It's a very simple setting:<br>
      <br>
      !define MUI_HEADERIMAGE_BITMAP "yourbitmap.bmp"<br>
      <br>
      No need to overwrite the default image file.</p>
    </div>
    <hr>
    
    
    <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]-->

    <div class="container">
      

      <ol class="breadcrumb">
        <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

        <li><a href="f-65.html">NSIS Discussion</a></li>

        <li class="active">Change top bitmap in modern ui</li>
      </ol>

      <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=127798">Change top bitmap in modern ui</a></p><br>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">bunker</span><br>
        <span class="post-time small text-muted">4th February 2004 19:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Well, I'm trying to add a header bitmap with NSIS 2.0 RC4 and not having much success.<br>
        <br>
        I do not get any bitmap with any of these:<br>
        !define MUI_HEADERIMAGE_BITMAP "${NSISDIR}\Contrib\Graphics\Header\nsis.bmp"<br>
        !define MUI_HEADERIMAGE_BITMAP "nsis.bmp"<br>
        <br>
        But with:<br>
        !define MUI_HEADERIMAGE<br>
        or<br>
        !define MUI_HEADERIMAGE "whatever.bmp"<br>
        I get the default nsis.bmp from the ${NSISDIR}\Contrib\Graphics\Header\ dir.<br>
        <br>
        If I replace the default nsis.bmp with my own bmp my custom bmp works as well.<br>
        <br>
        My custom bmp is 150x57 as required.</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
        <span class="post-time small text-muted">4th February 2004 21:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">!define MUI_HEADERIMAGE<br>
        !define MUI_HEADERIMAGE_BITMAP "whatever.bmp"</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">bunker</span><br>
        <span class="post-time small text-muted">5th February 2004 00:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Oh, you mean I need both? Yup that solved it. But I just couldn't figure that out from the docs.</p>
      </div>
      <hr>

      <div class="footer">
        <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
      </div>
    </div><script src="../js/highlight.pack.js" type="text/javascript">
</script> <script type="text/javascript">
//<![CDATA[
    hljs.initHighlightingOnLoad();
    //]]></script></div></body></html>