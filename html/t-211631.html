<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="SetCompressor problem"><title>SetCompressor problem - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">SetCompressor problem</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=211631">SetCompressor problem</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Arrby</span><br><span class="post-time small text-muted">28th March 2005 21:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>SetCompressor problem</strong><br>NSIS version 2.05:<br><br>From the User Manual:<br><br><font size="3">4.8.2 Compiler Flags</font><br>The following commands change how the compiler generates code and compresses data. These commands are valid ANYWHERE in the script, and effect every line below where each one is placed (until overridden by another command).<br><br>(my emphasis on ANYWHERE)<br><br>Trying to do:<br></p><pre>
<code><br>SetCompressor zlib<br>SetCompress off<br></code>
</pre><br>
      in my main section (i.e. where my File commands are)<br>
      AFTER some file commands, BEFORE some other File commands<br>
      and am getting the following error:<br>
      <br>
      <b>Error: command SetCompressor not valid in section</b><br>
      <br>
      I have some files that have already been compressed and<br>
      dont want to have to wait for the compressor to waste its time trying to compress, how can I accomplish this?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
      <span class="post-time small text-muted">29th March 2005 00:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Put <i>SetCompressor</i> on the beginning of the script, outside <i>Function</i>s or <i>Section</i>s. You can use <i>SetCompress</i> anywhere in the script.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Arrby</span><br>
      <span class="post-time small text-muted">29th March 2005 00:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks deguix! :up:<br>
      <br>
      Docs say Setcompress off has no affect on solid compression which is used by both bzip2 and lzma.<br>
      <br>
      I tried putting:<br>
      <br>
      SetCompressor zlib<br>
      <br>
      before one section and then:<br>
      <br>
      SetCompressor lzma<br>
      <br>
      BETWEEN that section and a following section but get another error:<br>
      <b>Error: can't change compressor after data already got compressed or header already changed!</b><br>
      <br>
      This seems to mean that if I want to selectively control what gets compressed and what doesn't, I can only use zlib?<br>
      :(</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br>
      <span class="post-time small text-muted">29th March 2005 08:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No, it means that you can only use one compression method in your installer. What you're doing is trying to use zlib for one part and LZMA for the rest - this is not possible, as the two formats are different and require seperate methods to unpack.<br>
      <br>
      You CAN, however, use SetCompress to say "this part should be compressed" and "this part should not be compressed".</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">29th March 2005 19:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Documentation updated to make it a bit clearer.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>