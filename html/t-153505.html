<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="MUI: How to override language strings?" />

  <title>MUI: How to override language strings? - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">MUI: How to override language strings?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=153505">MUI: How to override language strings?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">21st October 2003 22:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>MUI: How to override language strings?</strong><br />
      I need to override the default language strings for:<br />
      MUI_TEXT_INSTALLING_TITLE<br />
      MUI_TEXT_INSTALLING_SUBTITLE<br />
      <br />
      There are a couple of ways I have found:<br />
      <br />
      a) The cleaner way is to modify Modern UI\System.nsh so that it accepts a user defined value before using the string from the language.nsh file. I suppose this modification should be made by Joost- since he owns the MUI development- though I can make it as well.<br />
      <br />
      b) The other way is to use LangString to override the language strings, e.g.,<br />
      LangString MUI_TEXT_INSTALLING_TITLE ${LANG_ENGLISH} "Yada Yada Yada"<br />
      This shows the following warning:<br />
      LangString "MUI_TEXT_INSTALLING_TITLE" set multiple times for 1033, wasting space<br />
      Though this is just a warning, I like to be able to compile my scripts without any warnings/errors. Silly, I know, but that's just me.<br />
      <br />
      Any other ideas?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">22nd October 2003 01:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You put this after or before the language call? Maybe modifying System.nsh (NOT TESTED!):<br />
      <br /></p>
      <pre>
<code>!define "STR_$(MUI_TEXT_INSTALLING_TITLE)"<br /><br />!ifdef STR_<br />  LangString MUI_TEXT_INSTALLING_TITLE ${LANG_ENGLISH} "Yada Yada Yada"<br />!endif<br /><br />!undef "STR_$(MUI_TEXT_INSTALLING_TITLE)"</code>
</pre><br />
      <br />
      So will be only used this in System.nsh when don't have that language string or when the value is "".
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">22nd October 2003 02:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is not what I am trying to do. I want System.nsh to use my text instead of what's in the Language.nsh.<br />
      Actually, it is working for me when I use method b) in my original post. What I don't like is the warning about wasted space.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">22nd October 2003 11:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">All Modern UI texts can be customized. Please see the Modern UI Readme for details.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">iceman_k</span><br />
      <span class="post-time small text-muted">22nd October 2003 15:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have the latest version of the ModernUI Readme from CVS.<br />
      I don't see a section in there telling me how to change any text.<br />
      I see the parts which let me customize the title &amp; text for an installer page.<br />
      Specifically, I need to change the following text:<br />
      MUI_TEXT_INSTALLING_TITLE<br />
      MUI_TEXT_INSTALLING_SUBTITLE<br />
      <br />
      Looking at System.nsh, this is what I see:<br />
      <br /></p>
      <pre>
<code><br />!macro MUI_FUNCTION_INSTFILESPAGE PRE SHOW LEAVE<br /><br />  Function "${PRE}"<br />  <br />    !insertmacro MUI_FUNCTION_CUSTOM PRE<br />    !insertmacro MUI_HEADER_TEXT_PAGE $(MUI_TEXT_INSTALLING_TITLE) $(MUI_TEXT_INSTALLING_SUBTITLE)<br />    <br />  FunctionEnd<br />(etc...)<br /></code>
</pre><br />
      <br />
      <br />
      By comparison, for the Welcome page:<br />
      <pre>
<code><br />!macro MUI_FUNCTION_WELCOMEPAGE PRE LEAVE<br /><br />  !ifndef MUI_VAR_HWND<br />    Var MUI_HWND<br />    !define MUI_VAR_HWND<br />  !endif<br /><br />  Function "${PRE}"<br />  <br />    !ifndef MUI_WELCOMEPAGE_TITLE<br />      !insertmacro MUI_INSTALLOPTIONS_WRITE "ioSpecial.ini" "Field 2" "Text" "$(MUI_TEXT_WELCOME_INFO_TITLE)"<br />    !else<br />      !insertmacro MUI_INSTALLOPTIONS_WRITE "ioSpecial.ini" "Field 2" "Text" "${MUI_WELCOMEPAGE_TITLE}"<br />      !undef MUI_WELCOMEPAGE_TITLE<br />    !endif<br />    <br />    !ifndef MUI_WELCOMEPAGE_TEXT<br />      !insertmacro MUI_INSTALLOPTIONS_WRITE "ioSpecial.ini" "Field 3" "Text" "$(MUI_TEXT_WELCOME_INFO_TEXT)"<br />    !else<br />      !insertmacro MUI_INSTALLOPTIONS_WRITE "ioSpecial.ini" "Field 3" "Text" "${MUI_WELCOMEPAGE_TEXT}"<br />      !undef MUI_WELCOMEPAGE_TEXT<br />    !endif<br />(etc...)<br /></code>
</pre><br />
      <br />
      Here I can clearly see that the default text from the Language.nsh file is only inserted when I have not defined an alternate text.<br />
      Similar code is not there in the first case, where there is no option for me to provide an alternate text, since the text from the Language.nsh file is included regardless.<br />
      <br />
      Maybe I am missing something, so I would appreciate you pointing me in the right direction.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">22nd October 2003 15:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The MUI_HEADER_TEXT_PAGE macros handles that. You can find the settings in the Modern UI Readme (MUI_PAGE_HEADER_TEXT/MUI_PAGE_HEADER_SUBTEXT).</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
