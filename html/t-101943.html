<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Determining OS version"><title>Determining OS version - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Determining OS version</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=101943">Determining OS version</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">grisha37</span><br><span class="post-time small text-muted">26th August 2002 07:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Determining OS version</strong><br>Hi,<br><br>I know about NSIS-OS, but after I searched the<br>forum about this subject again, I saw the message<br>about IfOSVersion command. Has it made it into the<br>scripting language? I have v1.98 (downloaded<br>a few weeks ago), and it doesn't appear to be there...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">26th August 2002 07:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">IfOSVersion didn't make it to any version of NSIS. Use an external DLL to do the job. Here is one:<br><a href="http://www.clantpa.co.uk/nsis/x18sysinfoV0.0.zip" target="_blank">http://www.clantpa.co.uk/nsis/x18sysinfoV0.0.zip</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ViperInc</span><br><span class="post-time small text-muted">26th August 2002 08:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">here, this is what i use..<br>work VERY well<br><br>ReadRegStr $8 HKLM "SOFTWARE\Microsoft\Windows NT\CurrentVersion" ProductName<br>StrCmp "Microsoft Windows XP" $8 lbl_xp<br>StrCmp "Microsoft Windows Nt" $8 lbl_nt<br>StrCmp "Microsoft Windows 2000" $8 lbl_2k<br><br>ReadRegStr $8 HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion" ProductName<br>StrCmp "Microsoft Windows ME" $8 lbl_me<br>StrCmp "Microsoft Windows 98" $8 lbl_98<br>StrCmp "Microsoft Windows 95" $8 lbl_win95<br><br><br>then just<br>lbl_xp:<br>goto lbl_end<br><br>lbl_nt:<br>goto lbl_end<br>etc.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">grisha37</span><br><span class="post-time small text-muted">29th August 2002 10:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Re: Determining Win version</strong><br>Any idea why the aforementioned never made<br>it into an [not THE, of course :-] official<br>release? It seems like a very useful feature<br>for an installer such as NSIS.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th August 2002 10:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Because it could be done using a script. There are lots of stuff that never made it into the installer because they can be done in the script. InstallSheild, for example, have a lot of things in the installer, and a lot less in its script and look at its overhead, 2 meag bytes!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">grisha37</span><br><span class="post-time small text-muted">29th August 2002 11:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><b>Because it could be done using a script. [...]</b><br><br>Exactly, there are lots of things that can be done via<br>scripts, but it may serve the users, and thus the cause/project<br>better if they were implemented as a sort of "sugar" to things<br>that can be done otherwise. I realize that there's always a<br>judgment call to that effect; however, determining the version<br>of Windows in use is one of the paramount features of an installer, IMHO.<br><br><b>InstallSheild, for example, have a lot of things in the installer, and a lot less in its script and look at its overhead, 2 meag bytes!</b><br><br>InstallShield, for one, costs too much money :))). Furthermore,<br>NSIS's script capability is superior, but that doesn't mean<br>that sugar is not an option! See what I mean here?<br><br>While functionalities X, Y and Z are possible via<br>15 lines of code, there's nothing conceptually<br>(or in other ways) wrong with providing sugar<br>for functionality XYZ, if that's a very commonly<br>used one.<br><br>Opposition to this, again, IMHO, is largely religious,<br>and leads to forking at best, and people abandoning<br>a great project at worst. Just, again, My Humble Opinion.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">grisha37</span><br><span class="post-time small text-muted">29th August 2002 11:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">To continue my point, if the size of the<br>installer's kernel is a problem, it is<br>certainly possible to split it into<br>"bare functionality" and "full functionality".<br><br>Furthermore, a possibility of easier plugins<br>for new functionality may be a good consideration<br>(I'm willing to participate in it, if that's considered<br>a viable option).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th August 2002 11:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Too much sugar ruins your teeth :D<br>Plugins are easier then ever with Sunjammer's simplified plugin calls. Try it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">grisha37</span><br><span class="post-time small text-muted">29th August 2002 11:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><b>Too much sugar ruins your teeth</b><br><br>Yeah, I know, syntactic sugar causes cancer<br>of the semicolon... But still...<br><br><b>Plugins are easier then ever with Sunjammer's simplified plugin calls. Try it.</b><br><br>Tried Sunjammer's site, couldn't find it. Perhaps<br>its too late (read: early) in the day, but, on the other<br>hand, perhaps you'd provide a link?<br><br>I am a consultant, recently having done work<br>for people who are not as savvy as I am. Shortcuts<br>in the very language of NSIS would be helpful.<br><br>I understand the Unix mentality, but then again,<br>nothing in Unix mentality goes against a shell<br>that would provide often-used sugar,<br>to pull a drawn-out-meaning-not-much<br>metaphor.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th August 2002 11:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sunjammer's plugin stuff is already in NSIS 2 (the unoffical version). Have a look at the NSIS 2 thread.<br><br>Have you looked at Sunjammer's site enough to find this:<br><a href="http://www.clantpa.co.uk/nsis/x18sysinfoV0.1.zip" target="_blank">http://www.clantpa.co.uk/nsis/x18sysinfoV0.1.zip</a><br>?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br><span class="post-time small text-muted">29th August 2002 11:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">My plugin changes are part of NSIS already, no need to look on my site. Instead read the section in the makensis.htm named Plugin DLLs which explains how I made plugins easier to use.<br><br>[Sorry if you have trouble finding stuff, the site needs an overhaul, as already stated I will get time for this soon!!]</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">grisha37</span><br><span class="post-time small text-muted">29th August 2002 11:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hey, let me check out NSIS 2 before I<br>offload bile on this forum... :)<br><br>Incidentally, nothing lead me to go for<br>the NSIS 2 before; is there a fork? Is<br>there a reason for that?<br><br>I checked out X*info; I myself am using<br>nsisos (posted here at some point by<br>Robert Rainwalker. It works fine;<br>although my personal peeve was that it's<br>not a part of NSIS script itself, being<br>such a commonly used thing.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th August 2002 11:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It is a branch. Have a look at the version history <a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/*checkout*/nsis2k/NSIS/makensis.htm?rev=1.16" target="_blank">here</a>.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">grisha37</span><br><span class="post-time small text-muted">29th August 2002 12:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ok; cool; my bad somewhat; any reason<br>though (apologies if this has been<br>rehashed many times over :-)) for this<br>branching? Should I continue to think of<br>the NSIS 2 as the ONE TRUE VERSION?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th August 2002 12:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Just look at the version history and you will see the reason(s). Most of this forum users use NSIS 2, but it is not official yet. Officiality is up to Justin :D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br><span class="post-time small text-muted">29th August 2002 12:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">grisha37, Justin (official developer of NSIS) declared he was going to be away from NSIS for a while, since then mainly KiCHiK and Rainwater, but a few others too, have been continuing to develop NSIS.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>