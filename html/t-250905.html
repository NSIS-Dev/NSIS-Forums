<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Authentication in Installer possible?"><title>Authentication in Installer possible? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Authentication in Installer possible?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=250905">Authentication in Installer possible?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">pedroac</span><br><span class="post-time small text-muted">11th July 2006 22:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Authentication in Installer possible?</strong><br>Hello everyone,<br><br>I'm new with NSIS and I've searched the FAQ's but couldn't find any info regarding this matter:<br>is it possible to make user authentication in an installer? I want to make authentication based on username/password in a remote HTTP server. Is it possible?<br><br>Thanks everyone</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">11th July 2006 22:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sure. Use the <a href="http://nsis.sf.net/File:PassDialog.zip" target="_blank">PassDialog plugin</a> or create a custom NSIS installer page with the InstallOptions plugin.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pedroac</span><br><span class="post-time small text-muted">12th July 2006 09:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for the quick reply<br><br>OK, but how can I add that plugin? I am using EclipseNSIS, and I have just realized that I can make my own custom installer dialogs (INI files, right?).<br>But how can I add actions to the buttons? (example: Next Button moves to next page, a Validate Button will authenticate the provided username/password in a remote server, etc)<br><br>Thank you once more</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">12th July 2006 09:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I wouldn't recommend using a InstallOptions INI files because it means your username and password is stored in the INI file until the installer is closed.<br><br>With PassDialog, just put the dll in the Plugins folder, then read the readme.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pedroac</span><br><span class="post-time small text-muted">12th July 2006 10:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks again, Afrow!<br><br>I managed to make it work, but the usernames and passwords are just placed directly in the code (btw, nsis scripts have their own language, right? Do you know some page where I can learn the basics of Nsis scripting?), but how can I make the validation in a remote HTTP server (something like <a href="http://foo.com/authenticate?username=xxx&amp;passwd=xxx," target="_blank">http://foo.com/authenticate?username=xxx&amp;passwd=xxx,</a> which gives me the result of validation: valid or invalid user)<br><br>Thanks</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pedroac</span><br><span class="post-time small text-muted">12th July 2006 12:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hey, in the meanwhile, I am trying this:<br>I've created a DLL which receives 2 Strings, username and password, and returns a String indicating if the user is valid or not;<br>I've red this: <a href="http://nsis.sourceforge.net/Calling_an_external_DLL_using_the_System.dll_plugin" target="_blank">http://nsis.sourceforge.net/Calling_...tem.dll_plugin</a> but i don't understand where the dll must be placed and how exactly to call the function with the right parameters and to receive the result<br><br>Can anybody help?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">12th July 2006 12:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Use the InetLoad plugin to send a POST request.<br><br>Your DLL must be extracted first, preferably to $PLUGINSDIR and then you need to register it with RegDLL and then unregister it afterwards with UnRegDLL.<br><br>Why would you want to check the username and password in a DLL anyway? What happens when you need to add more usernames and passwords to existing installers? You'd have to rebuild the DLL.<br><br>If you're only going to have one username and one password, you might as well just validate them with StrCmp (or use LStrCmp on the Wiki for case sensitive comparison).<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pedroac</span><br><span class="post-time small text-muted">12th July 2006 12:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No, that's not the idea, the usernames and passwords are not in the DLL file.<br>The DLL has a function which receives 2 strings (username and password) and returns a string indicating that the user is or is not valid.<br><br>All I need to do right now is to call the DLL with the right parameters and to get the answer. How can I do that?<br>What is the syntax of a DLL call with two string inputs and a return string output?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">12th July 2006 13:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">There's dozens of System examples in the Examples\System folder.<br><br>Use t for text (strings).<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pedroac</span><br><span class="post-time small text-muted">12th July 2006 14:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi again<br><br>I've seen the System script you mentioned, but I couldn't find any example in which the function actually returned a value.<br><br>All I need to do is to get the result of<br>System::Call 'Authenticator::ValidateClass.validate($R0, $R1) $R3'<br><br>So that I can print it, like:<br><br>MessageBox MB_OK "Result: $R3"<br><br>But why doesn't appear anything in $R3?<br><br>What am I doing wrong?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">vitoco</span><br><span class="post-time small text-muted">13th July 2006 20:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Just guessing:<br></p><pre>
<code>System::Call 'Authenticator::ValidateClass.validate(t R0,  t R1) t.R3'</code>
</pre></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">13th July 2006 23:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I've already told him that it won't work:<br><a href="http://forums.winamp.com/showthread.php?threadid=250936" target="_blank">http://forums.winamp.com/showthread.php?threadid=250936</a><br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">vitoco</span><br><span class="post-time small text-muted">14th July 2006 15:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">:up:<br><br>My post was about syntax :D<br><br>:rolleyes: I was not aware about the .NET thing...</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>