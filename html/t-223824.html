<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Including and running other installers in NSIS" />

  <title>Including and running other installers in NSIS - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Including and running other installers in NSIS</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=223824">Including and running other installers in NSIS</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wbsmith89</span><br />
      <span class="post-time small text-muted">12th August 2005 04:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Including and running other installers in NSIS</strong><br />
      Hey guys,<br />
      <br />
      I'm fairly new at NSIS and want to use it to create an installer for some software. I was wondering how it would be possible to add another installer inside of mine so when the user starts my installer, they will be prompted to install another piece of software first.<br />
      <br />
      My example: I want to automate an install of some PHP software and wish to automate the install of Apache,PHP, and MySQL for the user as well.<br />
      <br />
      How can I add these installers inside mine and call them?<br />
      Thanks for your help.<br />
      <br />
      Will</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JasonFriday13</span><br />
      <span class="post-time small text-muted">12th August 2005 05:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">One way this can be done is using the .oninit function. I can't explain it so I will write the code out here. See attachment. I suggest saving the attachment before opening it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wbsmith89</span><br />
      <span class="post-time small text-muted">12th August 2005 05:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Seems to work great. However, I could not get the other installer to start up at first because I had to remove $INSTDIR from ExecWait<br />
      <br />
      It didn't work like this:<br />
      <br />
      File "C:\path\to\apachesetup.exe"<br />
      ExecWait "$INSTDIR\apachesetup.exe"<br />
      MessageBox MB_YESNO|MB_ICONQUESTION "Do you want to install PHP?" IDNO +3 ;comment this line out to automate<br />
      <br />
      But did like this:<br />
      <br />
      File "C:\path\to\apachesetup.exe"<br />
      ExecWait "apachesetup.exe" ; notice $INSTDIR is gone<br />
      MessageBox MB_YESNO|MB_ICONQUESTION "Do you want to install PHP?" IDNO +3 ;comment this line out to automate<br />
      <br />
      I hope that's okay.<br />
      Thanks for your help.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JasonFriday13</span><br />
      <span class="post-time small text-muted">12th August 2005 05:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You could try changing $INSTDIR to $TEMP so that it installs into the temp directory and it runs from there.<br />
      <br />
      You could try this example:<br />
      <br />
      file /oname=$TEMP\name_of_apache_setup.exe "C:\path\to\apachesetup.exe"<br />
      ExecWait "$TEMP\name_of_apache_setup.exe"<br />
      Delete "$TEMP\name_of_apache_setup.exe" ;this makes sure you don't waste space on the users computer.<br />
      <br />
      This makes sure the files are extracted to a temporary dir, runs the file and is deleted to recover space.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
