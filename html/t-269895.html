<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Error compiling RegTool" />

  <title>Error compiling RegTool - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Error compiling RegTool</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=269895">Error compiling RegTool</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">21st April 2007 05:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Error compiling RegTool</strong><br />
      When i'm trying to compile nsis with VC2005express i got an error:<br />
      <br /></p>

      <blockquote>
        cl /nologo /O1 /W3 /c Contrib\Library\RegTool\RegTool.c /Fobuild\release\Library<br />
        \RegTool\RegTool.obj<br />
        RegTool.c<br />
        cl /nologo /O1 /W3 /c SCons\Config\memset.c /Fobuild\release\Library\RegTool\PRO<br />
        GEMITTER.obj<br />
        memset.c<br />
        "C:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2\bin\Win64\li<br />
        nk.exe" /nologo /opt:nowin98 /map /entry:WinMain /NODEFAULTLIB /OUT:build\releas<br />
        e\Library\RegTool\RegTool\RegTool.bin kernel32.lib oleaut32.lib advapi32.lib use<br />
        r32.lib ole32.lib build\release\Library\RegTool\RegTool.obj build\release\Librar<br />
        y\RegTool\PROGEMITTER.obj<br />
        RegTool.obj : error LNK2019: unresolved external symbol ___security_cookie refer<br />
        enced in function _RunSelf<br />
        RegTool.obj : error LNK2019: unresolved external symbol @__security_check_cookie<br />
        @4 referenced in function _RunSelf<br />
        build\release\Library\RegTool\RegTool\RegTool.bin : fatal error LNK1120: 2 unres<br />
        olved externals<br />
        scons: *** [build\release\Library\RegTool\RegTool\RegTool.bin] Error 1120<br />
        scons: building terminated because of errors.<br />
        D:\Scripts NSIS\NSIS-20070420&gt;
      </blockquote>If i compile with VC Toolkit 2003 i dont get the error...<br />
      <br />
      hope it helps
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">21st April 2007 09:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Somehow it doesn't know it's working with VC2005. Either MSVS_VERSION isn't set correctly due to some SCons issue or you're using an old version of NSIS.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">21st April 2007 14:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm using the latest cvs files...<br />
      and scons 0.96.93</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">21st April 2007 14:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try scons 0.96.96.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">21st April 2007 18:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">YES!!! With the 0.96.96 version of scons it works, the only problem that remainsis the NSIS Menu Compilation that doesn't work with VC2003 and VC2005, here is the log:<br />
      <br /></p>

      <blockquote>
        cl /nologo /O1 /W3 /MD /GX /TP "/Ibuild\release\NSIS Menu" "/IContrib\NSIS Menu"<br />
        /IC:\wxWidgets-2.8.0\include /IC:\wxWidgets-2.8.0\lib\vc_libnsis\msw /c "Contri<br />
        b\NSIS Menu\nsismenu\nsismenu.cpp" "/Fobuild\release\NSIS Menu\nsismenu\nsismenu<br />
        .obj"<br />
        nsismenu.cpp<br />
        cl /nologo /O1 /W3 /MD /GX /TP "/Ibuild\release\NSIS Menu" "/IContrib\NSIS Menu"<br />
        /IC:\wxWidgets-2.8.0\include /IC:\wxWidgets-2.8.0\lib\vc_libnsis\msw /c "Contri<br />
        b\NSIS Menu\nsismenu\nslinks.cpp" "/Fobuild\release\NSIS Menu\nsismenu\nslinks.o<br />
        bj"<br />
        nslinks.cpp<br />
        rc "/Ibuild\release\NSIS Menu" "/IContrib\NSIS Menu" /IC:\wxWidgets-2.8.0\includ<br />
        e /IC:\wxWidgets-2.8.0\lib\vc_libnsis\msw "/fobuild\release\NSIS Menu\nsismenu-r<br />
        c.res" "Contrib\NSIS Menu\nsismenu\nsismenu.rc"<br />
        "C:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2\bin\Win64\li<br />
        nk.exe" /nologo /opt:nowin98 /map "/OUT:build\release\NSIS Menu\NSIS.exe" "/LIBP<br />
        ATH:build\release\NSIS Menu" "/LIBPATH:Contrib\NSIS Menu" /LIBPATH:C:\wxWidgets-<br />
        2.8.0\lib\vc_libnsis advapi32.lib comctl32.lib gdi32.lib shell32.lib user32.lib<br />
        wxbase28.lib wxmsw28_core.lib wxmsw28_html.lib "build\release\NSIS Menu\nsismenu<br />
        \nsismenu.obj" "build\release\NSIS Menu\nsismenu\nslinks.obj" "build\release\NSI<br />
        S Menu\nsismenu-rc.res"<br />
        wxbase28.lib(baselib_object.obj) : warning LNK4078: multiple '.CRT' sections fou<br />
        nd with different attributes (40300040)<br />
        nsismenu.obj : error LNK2001: unresolved external symbol "public: __thiscall exc<br />
        eption::exception(class exception const &amp;)" (??0exception@@QAE@ABV0@@Z)<br />
        nslinks.obj : error LNK2001: unresolved external symbol "public: __thiscall exce<br />
        ption::exception(class exception const &amp;)" (??0exception@@QAE@ABV0@@Z)<br />
        nsismenu.obj : error LNK2001: unresolved external symbol "public: __thiscall bad<br />
        _cast::bad_cast(class bad_cast const &amp;)" (??0bad_cast@@QAE@ABV0@@Z)<br />
        nslinks.obj : error LNK2001: unresolved external symbol "public: __thiscall bad_<br />
        cast::bad_cast(class bad_cast const &amp;)" (??0bad_cast@@QAE@ABV0@@Z)<br />
        nsismenu.obj : error LNK2001: unresolved external symbol "public: virtual __this<br />
        call bad_cast::~bad_cast(void)" (??1bad_cast@@UAE@XZ)<br />
        nslinks.obj : error LNK2001: unresolved external symbol "public: virtual __thisc<br />
        all bad_cast::~bad_cast(void)" (??1bad_cast@@UAE@XZ)<br />
        nsismenu.obj : error LNK2019: unresolved external symbol "__declspec(dllimport)<br />
        public: __thiscall bad_cast::bad_cast(char const *)" (__imp_??0bad_cast@@QAE@PBD<br />
        @Z) referenced in function "class std::ctype&lt;char&gt; const &amp; __cdecl std::use_face<br />
        t&lt;class std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)" (??$use_facet@V?$ctype@D@<br />
        std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
        nslinks.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) p<br />
        ublic: __thiscall bad_cast::bad_cast(char const *)" (__imp_??0bad_cast@@QAE@PBD@<br />
        Z)<br />
        build\release\NSIS Menu\NSIS.exe : fatal error LNK1120: 4 unresolved externals<br />
        scons: *** [build\release\NSIS Menu\NSIS.exe] Error 1120<br />
        scons: building terminated because of errors.
      </blockquote>Thank you for your help
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">21st April 2007 19:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use the same compiler to build both NSIS Menu and wxWidgets. Rerun Contrib\NSIS Menu\wx\wxbuild.bat with the same compiler you're now using for NSIS Menu.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">21st April 2007 20:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's what i've done, but the error still occurs...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">21st April 2007 20:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Make sure you clean wxWidget's build directories before you rebuild.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">22nd April 2007 05:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I completly reinstalled wxwidgets, but the error still occurs, i also found another problem, when you try to use the dist-installer parameter with scons, the installer isn't compiled because the exdll plugin cannot be copied in the examples directory...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">22nd April 2007 19:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try removing '$EXCEPTION_FLAG' from the call to BuildUtil in Contrib\NSIS Menu\SConscript.<br />
      <br />
      You should also upgrade to wxWidgets 2.8.3, though that shouldn't affect the build.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">23rd April 2007 06:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I tried to remove the exception_flag, but i still get errors:<br />
      <br /></p>

      <blockquote>
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xlocnum<br />
        (1296) : see reference to class template instantiation 'std::numpunct&lt;_Elem&gt;' be<br />
        ing compiled<br />
        with<br />
        [<br />
        _Elem=wchar_t<br />
        ]<br />
        cl /nologo /O1 /W3 /MD /TP "/Ibuild\release\NSIS Menu" "/IContrib\NSIS Menu" /IC<br />
        :\wxWidgets-2.8.0\include /IC:\wxWidgets-2.8.0\lib\vc_libnsis\msw /c "Contrib\NS<br />
        IS Menu\nsismenu\nslinks.cpp" "/Fobuild\release\NSIS Menu\nsismenu\nslinks.obj"<br />
        nslinks.cpp<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\ostream(574) :<br />
        warning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\istream(828) :<br />
        warning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\istream(1064) :<br />
        warning C4530: C++ exception handler used, but unwind semantics are not enabled<br />
        . Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\ostream(479) :<br />
        warning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\ostream<br />
        (471) : while compiling class-template member function 'std::basic_ostream&lt;_Elem<br />
        ,_Traits&gt;::_Myt &amp;std::basic_ostream&lt;_Elem,_Traits&gt;::put(_Elem)'<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\ostream<br />
        (561) : see reference to class template instantiation 'std::basic_ostream&lt;_Elem,<br />
        _Traits&gt;' being compiled<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\ostream(479) :<br />
        warning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\ostream<br />
        (471) : while compiling class-template member function 'std::basic_ostream&lt;_Elem<br />
        ,_Traits&gt;::_Myt &amp;std::basic_ostream&lt;_Elem,_Traits&gt;::put(_Elem)'<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\ostream<br />
        (603) : see reference to class template instantiation 'std::basic_ostream&lt;_Elem,<br />
        _Traits&gt;' being compiled<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\istream(99) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\istream<br />
        (89) : while compiling class-template member function 'bool std::basic_istream&lt;_<br />
        Elem,_Traits&gt;::_Ipfx(bool)'<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\istream<br />
        (816) : see reference to class template instantiation 'std::basic_istream&lt;_Elem,<br />
        _Traits&gt;' being compiled<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\istream(99) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\istream<br />
        (89) : while compiling class-template member function 'bool std::basic_istream&lt;_<br />
        Elem,_Traits&gt;::_Ipfx(bool)'<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\istream<br />
        (844) : see reference to class template instantiation 'std::basic_istream&lt;_Elem,<br />
        _Traits&gt;' being compiled<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xstring(1453) :<br />
        warning C4530: C++ exception handler used, but unwind semantics are not enabled<br />
        . Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xstring<br />
        (1444) : while compiling class-template member function 'void std::basic_string&lt;<br />
        _Elem,_Traits,_Ax&gt;::_Copy(std::basic_string&lt;_Elem,_Traits,_Ax&gt;::size_type,std::b<br />
        asic_string&lt;_Elem,_Traits,_Ax&gt;::size_type)'<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;,<br />
        _Ax=std::allocator&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xstring<br />
        (1569) : see reference to class template instantiation 'std::basic_string&lt;_Elem,<br />
        _Traits,_Ax&gt;' being compiled<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;,<br />
        _Ax=std::allocator&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xstring(1453) :<br />
        warning C4530: C++ exception handler used, but unwind semantics are not enabled<br />
        . Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xstring<br />
        (1444) : while compiling class-template member function 'void std::basic_string&lt;<br />
        _Elem,_Traits,_Ax&gt;::_Copy(std::basic_string&lt;_Elem,_Traits,_Ax&gt;::size_type,std::b<br />
        asic_string&lt;_Elem,_Traits,_Ax&gt;::size_type)'<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;,<br />
        _Ax=std::allocator&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xstring<br />
        (1571) : see reference to class template instantiation 'std::basic_string&lt;_Elem,<br />
        _Traits,_Ax&gt;' being compiled<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;,<br />
        _Ax=std::allocator&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(440) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(<br />
        592) : see reference to function template instantiation 'std::basic_istream&lt;_Ele<br />
        m,_Traits&gt; &amp;std::operator &gt;&gt;&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;_Ty&gt;&gt;(st<br />
        d::basic_istream&lt;_Elem,_Traits&gt; &amp;,std::basic_string&lt;_Elem,_Traits,_Ax&gt; &amp;)' being<br />
        compiled<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;,<br />
        _Ty=char,<br />
        _Ax=std::allocator&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(485) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(<br />
        601) : see reference to function template instantiation 'std::basic_istream&lt;_Ele<br />
        m,_Traits&gt; &amp;std::getline&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;_Ty&gt;&gt;(std::b<br />
        asic_istream&lt;_Elem,_Traits&gt; &amp;,std::basic_string&lt;_Elem,_Traits,_Ax&gt; &amp;,const char)<br />
        ' being compiled<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;,<br />
        _Ty=char,<br />
        _Ax=std::allocator&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(553) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(<br />
        605) : see reference to function template instantiation 'std::basic_ostream&lt;_Ele<br />
        m,_Traits&gt; &amp;std::operator &lt;&lt;&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;_Ty&gt;&gt;(st<br />
        d::basic_ostream&lt;_Elem,_Traits&gt; &amp;,const std::basic_string&lt;_Elem,_Traits,_Ax&gt; &amp;)'<br />
        being compiled<br />
        with<br />
        [<br />
        _Elem=char,<br />
        _Traits=std::char_traits&lt;char&gt;,<br />
        _Ty=char,<br />
        _Ax=std::allocator&lt;char&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(440) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(<br />
        610) : see reference to function template instantiation 'std::basic_istream&lt;_Ele<br />
        m,_Traits&gt; &amp;std::operator &gt;&gt;&lt;wchar_t,std::char_traits&lt;wchar_t&gt;,std::allocator&lt;_T<br />
        y&gt;&gt;(std::basic_istream&lt;_Elem,_Traits&gt; &amp;,std::basic_string&lt;_Elem,_Traits,_Ax&gt; &amp;)'<br />
        being compiled<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;,<br />
        _Ty=wchar_t,<br />
        _Ax=std::allocator&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(485) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(<br />
        619) : see reference to function template instantiation 'std::basic_istream&lt;_Ele<br />
        m,_Traits&gt; &amp;std::getline&lt;wchar_t,std::char_traits&lt;wchar_t&gt;,std::allocator&lt;_Ty&gt;&gt;(<br />
        std::basic_istream&lt;_Elem,_Traits&gt; &amp;,std::basic_string&lt;_Elem,_Traits,_Ax&gt; &amp;,const<br />
        wchar_t)' being compiled<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;,<br />
        _Ty=wchar_t,<br />
        _Ax=std::allocator&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(553) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\string(<br />
        624) : see reference to function template instantiation 'std::basic_ostream&lt;_Ele<br />
        m,_Traits&gt; &amp;std::operator &lt;&lt;&lt;wchar_t,std::char_traits&lt;wchar_t&gt;,std::allocator&lt;_T<br />
        y&gt;&gt;(std::basic_ostream&lt;_Elem,_Traits&gt; &amp;,const std::basic_string&lt;_Elem,_Traits,_A<br />
        x&gt; &amp;)' being compiled<br />
        with<br />
        [<br />
        _Elem=wchar_t,<br />
        _Traits=std::char_traits&lt;wchar_t&gt;,<br />
        _Ty=wchar_t,<br />
        _Ax=std::allocator&lt;wchar_t&gt;<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xlocnum(96) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xlocnum<br />
        (89) : while compiling class-template member function 'void std::numpunct&lt;_Elem&gt;<br />
        ::_Init(const std::_Locinfo &amp;)'<br />
        with<br />
        [<br />
        _Elem=char<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xlocnum<br />
        (1290) : see reference to class template instantiation 'std::numpunct&lt;_Elem&gt;' be<br />
        ing compiled<br />
        with<br />
        [<br />
        _Elem=char<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xlocnum(96) : w<br />
        arning C4530: C++ exception handler used, but unwind semantics are not enabled.<br />
        Specify /EHsc<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xlocnum<br />
        (89) : while compiling class-template member function 'void std::numpunct&lt;_Elem&gt;<br />
        ::_Init(const std::_Locinfo &amp;)'<br />
        with<br />
        [<br />
        _Elem=wchar_t<br />
        ]<br />
        C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\include\xlocnum<br />
        (1296) : see reference to class template instantiation 'std::numpunct&lt;_Elem&gt;' be<br />
        ing compiled<br />
        with<br />
        [<br />
        _Elem=wchar_t<br />
        ]<br />
        rc "/Ibuild\release\NSIS Menu" "/IContrib\NSIS Menu" /IC:\wxWidgets-2.8.0\includ<br />
        e /IC:\wxWidgets-2.8.0\lib\vc_libnsis\msw "/fobuild\release\NSIS Menu\nsismenu-r<br />
        c.res" "Contrib\NSIS Menu\nsismenu\nsismenu.rc"<br />
        "C:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2\bin\Win64\li<br />
        nk.exe" /nologo /opt:nowin98 /map "/OUT:build\release\NSIS Menu\NSIS.exe" "/LIBP<br />
        ATH:build\release\NSIS Menu" "/LIBPATH:Contrib\NSIS Menu" /LIBPATH:C:\wxWidgets-<br />
        2.8.0\lib\vc_libnsis advapi32.lib comctl32.lib gdi32.lib shell32.lib user32.lib<br />
        wxbase28.lib wxmsw28_core.lib wxmsw28_html.lib "build\release\NSIS Menu\nsismenu<br />
        \nsismenu.obj" "build\release\NSIS Menu\nsismenu\nslinks.obj" "build\release\NSI<br />
        S Menu\nsismenu-rc.res"<br />
        wxbase28.lib(baselib_object.obj) : warning LNK4078: multiple '.CRT' sections fou<br />
        nd with different attributes (40300040)<br />
        nsismenu.obj : error LNK2001: unresolved external symbol "public: __thiscall exc<br />
        eption::exception(class exception const &amp;)" (??0exception@@QAE@ABV0@@Z)<br />
        nslinks.obj : error LNK2001: unresolved external symbol "public: __thiscall exce<br />
        ption::exception(class exception const &amp;)" (??0exception@@QAE@ABV0@@Z)<br />
        nsismenu.obj : error LNK2001: unresolved external symbol "public: __thiscall bad<br />
        _cast::bad_cast(class bad_cast const &amp;)" (??0bad_cast@@QAE@ABV0@@Z)<br />
        nslinks.obj : error LNK2001: unresolved external symbol "public: __thiscall bad_<br />
        cast::bad_cast(class bad_cast const &amp;)" (??0bad_cast@@QAE@ABV0@@Z)<br />
        nsismenu.obj : error LNK2001: unresolved external symbol "public: virtual __this<br />
        call bad_cast::~bad_cast(void)" (??1bad_cast@@UAE@XZ)<br />
        nslinks.obj : error LNK2001: unresolved external symbol "public: virtual __thisc<br />
        all bad_cast::~bad_cast(void)" (??1bad_cast@@UAE@XZ)<br />
        nsismenu.obj : error LNK2019: unresolved external symbol "__declspec(dllimport)<br />
        public: __thiscall bad_cast::bad_cast(char const *)" (__imp_??0bad_cast@@QAE@PBD<br />
        @Z) referenced in function "class std::ctype&lt;char&gt; const &amp; __cdecl std::use_face<br />
        t&lt;class std::ctype&lt;char&gt; &gt;(class std::locale const &amp;)" (??$use_facet@V?$ctype@D@<br />
        std@@@std@@YAABV?$ctype@D@0@ABVlocale@0@@Z)<br />
        nslinks.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) p<br />
        ublic: __thiscall bad_cast::bad_cast(char const *)" (__imp_??0bad_cast@@QAE@PBD@<br />
        Z)<br />
        build\release\NSIS Menu\NSIS.exe : fatal error LNK1120: 4 unresolved externals<br />
        scons: *** [build\release\NSIS Menu\NSIS.exe] Error 1120<br />
        scons: building terminated because of errors.<br />
        D:\Scripts NSIS\NSIS-20070421&gt;
      </blockquote>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">23rd April 2007 13:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Right, so that didn't help.<br />
      <br />
      In wxbuild.bat, change SHARED=0 to SHARED=1 and tell what's the link line for the final DLL.<br />
      <br />
      Please attach large logs next time.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">24th April 2007 05:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I tried to uninstall VC2005 and reinstalled VC20003, i get a new error message:<br />
      <br /></p>

      <blockquote>
        LINK : fatal error LNK1104: cannot open file 'msvcprt.lib'<br />
        scons: *** [build\release\NSIS Menu\NSIS.exe] Error 1104<br />
        scons: building terminated because of errors.<br />
        D:\Scripts NSIS\NSIS-20070421&gt;
      </blockquote>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">24th April 2007 09:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try deleting .sconsign.dblite and .sconf_temp. It might have some cached configuration options about the infamous msvcprt.lib. That might explain the earlier errors as well as that lib should have the exceptions code.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">24th April 2007 16:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i did it and got the same result</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">24th April 2007 16:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Then you're probably really missing msvcprt.lib. Make sure it exists.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">WebMatze</span><br />
      <span class="post-time small text-muted">27th April 2007 06:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i ve copied msvcprt.lib and msvcrt.lib to thelib folder of my toolkit and it works fine now...<br />
      <br />
      Thanks for your help</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
