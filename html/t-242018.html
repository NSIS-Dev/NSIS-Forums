<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Wrong Language used" />

  <title>Wrong Language used - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Wrong Language used</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=242018">Wrong Language used</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tieum</span><br />
      <span class="post-time small text-muted">28th March 2006 15:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Wrong Language used</strong><br />
      I have the following code:<br />
      <br />
      LangString AlreadyInstalled ${LANG_ENGLISH} "An installation of ${PRODUCT_NAME} ${PRODUCT_VERSION} has been found.$\nUninstall it before trying to re-install."<br />
      LangString AlreadyInstalled ${LANG_FRENCH} "${PRODUCT_NAME} ${PRODUCT_VERSION} est deja installe.$\nDesinstallez-le avant de le re-installer."<br />
      <br />
      Function .onInit<br />
      <br />
      MessageBox MB_OK "1. ENG ${LANG_ENGLISH} FR ${LANG_FRENCH} CUR $LANGUAGE"<br />
      <br />
      !insertmacro MUI_LANGDLL_DISPLAY<br />
      <br />
      MessageBox MB_OK "2. ENG ${LANG_ENGLISH} FR ${LANG_FRENCH} CUR $LANGUAGE"<br />
      <br />
      ; Prevent re-installing<br />
      ReadRegStr $TMP ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "DisplayName"<br />
      IfErrors NotInstalled Installed<br />
      Installed:<br />
      MessageBox MB_OK "2a. ENG ${LANG_ENGLISH} FR ${LANG_FRENCH} CUR $LANGUAGE"<br />
      MessageBox MB_OK|MB_ICONSTOP "$(AlreadyInstalled)"<br />
      MessageBox MB_OK "2b. ENG ${LANG_ENGLISH} FR ${LANG_FRENCH} CUR $LANGUAGE"<br />
      Abort<br />
      NotInstalled:<br />
      FunctionEnd<br />
      <br />
      The message boxes show<br />
      <br />
      1. ENG 1033 FR 1036 CUR 1033<br />
      2. ENG 1033 FR 1036 CUR 1036<br />
      2a. ENG 1033 FR 1036 CUR 1036<br />
      An installation of MyProduct 1.0 has been found. Uninstall it before trying to re-install.<br />
      2b. ENG 1033 FR 1036 CUR 1036<br />
      <br />
      Why do I get the English message whereas $LANGUAGE is set to French?<br />
      <br />
      Thanks,<br />
      <br />
      Tieum</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">28th March 2006 17:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        The language you set in .onInit isn't really set until .onInit ends. Therefore the language NSIS found most fit would be used for any LangString in .onInit. You can show the message in .onGUIInit or in a custom page.
      </blockquote><b>I searched the forum</b><br />
      <br />
      -Stu
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tieum</span><br />
      <span class="post-time small text-muted">29th March 2006 08:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Would be nice to have this in the doc.<br />
      <br />
      Thanks,<br />
      <br />
      <br />
      Tieum</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">RobGrant</span><br />
      <span class="post-time small text-muted">29th March 2006 12:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://forums.winamp.com/announcement.php?s=&amp;forumid=65" target="_blank">Enjoy :)</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">29th March 2006 13:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">tieum, you have a good point there. Perhaps it would be a good idea to add a feature request on the tracker at <a href="http://www.sf.net/projects/nsis" target="_blank">http://www.sf.net/projects/nsis</a><br />
      <br />
      Edit: Actually, under <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.10.1" target="_blank">Language Selection</a> it does mention this (maybe not in a very obvious way though).<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
