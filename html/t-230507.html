<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="NSIS, Version Control and Package creation"><title>NSIS, Version Control and Package creation - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">NSIS, Version Control and Package creation</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=230507">NSIS, Version Control and Package creation</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">webqs</span><br><span class="post-time small text-muted">9th November 2005 03:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>NSIS, Version Control and Package creation</strong><br>Hi People<br><br>My first post here. I've been reading the NSIS wiki for the past few weeks to determine if it is suitable for my requirements.<br>Basically, I'm looking for a tool that can take a bunch of files exported from Version Control (e.g Subversion) and package those up into a single installer.<br><br>My build system is Linux, so I'm intrigued by the use of NSIS on this system to give me a binary containing all the instructions to install the package but am not sure how to actually do this.<br><br>Currently these files make up modules of various web applications, meaning it's just a simple matter of moving files to the correct location. Other tasks could involve calling external programs, for instance to install a new database schema on a DB server.<br><br>On Linux this is all handled very nicely by RPM and a shell script. The RPM package has a SPEC file that includes all the instructions for installing the various files and calling up other binaries. In the case of NSIS, I guess the .nsi file contains the same info as the RPM .spec file<br><br>At the end of the day, I would like one package that can be handed over to an Ops team and be installed in one action. Given I work with Linux and Windows systems the package needs to be either an RPM or an EXE, respectively.<br><br>I'd also like to build a wrapper (API?) that someone can use to point at a tag in the Subversion tree and say "I want a Windows/Linux/..." package of this source.<br><br>So my questions are:<br>1. Is there an easy to understand tutorial for getting NSIS working under Linux for the creation of Installers?<br>2. Am I on the right track in thinking that NSIS can do the same thing as RPM?<br>3. I believe I need Scons and MinGW for this to happen. Is that right?<br><br>Any help would be appreciated. TIA.<br><br>Cheers<br>James</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th November 2005 08:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><ol style="list-style-type: decimal"><li>There's no need for a tutorial. Simply download the source code and follow the instructions in INSTALL or the more detailed <a href="http://nsis.sourceforge.net/Docs/AppendixG.html" target="_blank">documentation</a>.</li><li>Yes, NSIS can move files around and execute applications. It creates an executable installation package.</li><li>Indeed. Make sure you download SCons 0.96.91 (which is still in beta), and not 0.96.1. MinGW is optional, as you can use the pre-built stubs from the ZIP package.</li></ol></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">webqs</span><br><span class="post-time small text-muted">24th November 2005 02:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Making a simple nsi script to copy files</strong><br>Hey<br><br>Thanks for the info. I successfully installed makensis on Fedora from source using scons. Really easy.<br><br>My text task is to create a really simple .nsi script to:<br>* get files from a source tarball (or maybe a source directory) and place them in the installer package<br>* pass some parameters in from the command line to the nsi script (like version numbers)<br>* install the files to a specified location when the installer is run<br>* uninstall these files when needed<br><br>I've read through the docs on the site and and can see I should start with CopyFiles. I'm still learning the nsi script so if any pointers or example code can be provided on the above script that would be great.<br><br>I can't find where nsi gets the source files from - maybe I am staring at it?<br><br>I am only an egg<br><br>Thanks<br>James</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">24th November 2005 12:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You should actually start with File. CopyFiles copies file on the destination machine. That means you'd have to distribute the files along with the installer, instead of inside it, as with File. The Examples directory has many example that copy files over and uninstall them as well. You can start there.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>