<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="New Compression Results for NSIS ...." />

  <title>New Compression Results for NSIS .... - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">New Compression Results for NSIS ....</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=85236">New Compression Results for NSIS ....</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">19th April 2002 05:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>New Compression Results for NSIS ....</strong><br />
      I decided to do some compression test after I had moved my whole Apache Test Webserver documents from one computer to another. That was a few months ago and now I have more files. Here are the results from a screen shot.<br />
      <br />
      1) The total amount of files ... it took me more than a year to create and gather these. (about 80% of them are text)<br />
      <br />
      <a href="http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/folder-properties.png" target="_blank">http://home.earthlink.net/~duanejeff...properties.png</a><br />
      <br />
      2)Next I zipped them up using <a href="http://www.7-zip.org" target="_blank">7-zip</a>(but using the .zip format)<br />
      <br />
      <a href="http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/ZIP-properties.png" target="_blank">http://home.earthlink.net/~duanejeff...properties.png</a><br />
      <br />
      3) 7-zip (.7z) compression<br />
      <br />
      <a href="http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/7z-properties.png" target="_blank">http://home.earthlink.net/~duanejeff...properties.png</a><br />
      <br />
      4) NSIS-zlib compression (with SetCompress force tag)<br />
      <br />
      <a href="http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/NSISreg-properties.png" target="_blank">http://home.earthlink.net/~duanejeff...properties.png</a><br />
      <br />
      5) NSIS-Bzip2 compression (with SetCompress force tag)<br />
      <br />
      <a href="http://home.earthlink.net/~duanejeffers1/NSIS/compressiontest/NSISbz2-properties.png" target="_blank">http://home.earthlink.net/~duanejeff...properties.png</a><br />
      <br />
      So there you go. You can determine who the Winner is ;) :D<br />
      <br />
      -Duane</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">19th April 2002 09:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Duane,<br />
      <br />
      to confirm your findings: I also noticed that bzip2 does extremely well when it has to compress a lot of files of the same structure, eg: all textfiles or all exe files. On the other hand, zlib can be better with more heterogeneous files.<br />
      <br />
      But this is no strict rule...<br />
      <br />
      Greetz,<br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">veekee</span><br />
      <span class="post-time small text-muted">19th April 2002 17:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi, as i did not really know was bz2 was... now, i know !<br />
      Although i translated the whole c++ files, the bz2 compilation is still with english messages ! Why ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Koen van de Sande</span><br />
      <span class="post-time small text-muted">19th April 2002 18:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Have you tried RAR compression or ACE? I'm guessing these two formats still beat bz2... bot not by much :D</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">19th April 2002 19:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by veekee</i><br />
        <b>Hi, as i did not really know was bz2 was... now, i know !<br />
        Although i translated the whole c++ files, the bz2 compilation is still with english messages ! Why ?</b>
      </blockquote>You have to compile it with the bz2 compression turned on (see config.h).
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">veekee</span><br />
      <span class="post-time small text-muted">19th April 2002 19:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i still do not understand ....<br />
      well, bz2 was not defined, but i was able to use it as compression mode ! Why, if this is disable ?????<br />
      :igor:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">19th April 2002 19:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by veekee</i><br />
        <b>i still do not understand ....<br />
        well, bz2 was not defined, but i was able to use it as compression mode ! Why, if this is disable ?????<br />
        :igor:</b>
      </blockquote>The compression mode is determined by the exe that you are using to compile it. Both zlib and bz2 makensis exes are installed by default. You can't specify the compression mode in your script. If you want to compile the source, you will have to compile it twice to get both exes. Then you would have to replace the 2 exes in the install dir to use them with the extensions.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">veekee</span><br />
      <span class="post-time small text-muted">19th April 2002 19:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">well, i uncomment BZ2 support, try to compile, removed the ZLIB support (;) forgot that one), recompiled, and it passes ! I reinstalled NSIS and try a compile with bz2 ! All strings were the english one, even if all strings in nsis are in french !!!! :cry:<br />
      I don't see any difference bewteen selecting bz2 or zlib in config.h !!!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">veekee</span><br />
      <span class="post-time small text-muted">19th April 2002 19:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">understood =) Okai, thanks a lot .. my mind was so slow :D ! Thank you very much rainwater!!!!!!!!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Repzilon</span><br />
      <span class="post-time small text-muted">20th April 2002 00:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Smile2Me</i><br />
        <b>Duane,<br />
        <br />
        to confirm your findings: I also noticed that bzip2 does extremely well when it has to compress a lot of files of the same structure, eg: all textfiles or all exe files. On the other hand, zlib can be better with more heterogeneous files.<br />
        <br />
        But this is no strict rule...<br />
        <br />
        Greetz,<br />
        -Hendri.</b>
      </blockquote>bzip2 compresses text well. But if makensis-bz2.exe creates smaller installers when there are similar files, this is because NSIS_COMPRESS_WHOLE has been defined.<br />
      <br />
      Koen, RAR and ACE compression algorithms are proprietary. We can't put them in NSIS.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">n0On3</span><br />
      <span class="post-time small text-muted">22nd April 2002 21:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">just a comment:<br />
      <br />
      I am compressing only icons and bz2 produces a bigger file.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">veekee</span><br />
      <span class="post-time small text-muted">22nd April 2002 22:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i get the same result, with nearly 90% of my installers !<br />
      For example, (i'm using the french nsis) compiling NSIS package with bz2 is 4 kb bigger than zlib compression mode.. (without bz2_smallmode and bz2_compress_whole options) !</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
