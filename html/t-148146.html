<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Huge changes in latest CVS version"><title>Huge changes in latest CVS version - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Huge changes in latest CVS version</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=148146">Huge changes in latest CVS version</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">4th September 2003 21:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Huge changes in latest CVS version</strong><br>As can be seen in <a href="http://nsis.sourceforge.net/site/index.php?id=17&amp;backPID=17&amp;tt_news=3" target="_blank">this news item</a> and the tiny change in the <a href="http://nsis.sourceforge.net/site/Changelog.24.0.html" target="_blank">changelog</a>, the latest CVS version of NSIS 2.0b4 contains tons of changes.<br><br>Here are the biggest changes:<br><br><b>General</b><br></p><ul><li>New PageEx command lets you add any type of page, anywhere. It also allows to easily create more than one directory/license page.</li><li>More default strings in the language file. This means there is no more need to defined DirText for Page directory, LicenseText for Page license, etc.</li><li><b>No more /LANG</b> - Everything should be done using LangStrings from now on. This also means you can easily use one LicenseData for all languages, one BrandingText, etc.</li><li>LangStrings are no longer restricted to the installer/uninstaller. Every LangString can be used everywhere.</li><li>Access to NSIS's inner LangStrings - every string from the language files is assigned to a LangString</li><li>Full RTL support</li><li>Extraction progress</li></ul><br><b>Modern UI</b><br><ul><li>Change position of settings (put page settings before inserting a page), see Readme for details.</li><li>The license file is a parameter of the MUI_PAGE_LICENSE macro.</li><li>MUI_FUNCTIONS_* macros have been renamed to MUI_FUNCTION_*</li><li>Cetain texts that could be customized with Modern UI language files defines before are page settings now</li><li>No more <b>MUI_BRANDINGTEXT</b>, use BrandingText instead</li></ul><br>For a complete list see:<br><a href="http://nsis.sourceforge.net/site/index.php?id=17&amp;backPID=17&amp;tt_news=3" target="_blank">http://nsis.sourceforge.net/site/ind...D=17&amp;tt_news=3</a><br><br>If everything turns out right, the latest CVS version is b4 final.<br><br>Enjoy.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mikem4600</span><br><span class="post-time small text-muted">5th September 2003 11:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think I noticed a bug in the latest NSIS version, when displaying the translated "Space available" and "Space required" labels...<br><br>In the first instance you can see the proper translation, from an older installer. In the second you can see the bug with the latest version: Some of the inside characters of the words are missing! I thought that was because I added quotes, like the English language file, but it didn't change when I removed them. I replaced the translation with the original, English, text in the Greek language file and it worked fine. While experimenting, I came across this thing: If I insert the Greek character ý twice (one of the non-displayed characters in the "required" word), as in ýý, then the word "Section" appears (3rd instance) along with some of the missing characters in the Components page, and part of the ^DirText appears in the Dir Selection page (4th instance)! Also, the kind of character doesn't appear to matter: I inserted the chatacter ì (one of the non-displayed chars) at the beggining of the word "Required" and it displayed properly (5th instance).<br><br>This happens when I use Modern UI. You can see the same stuff with the classic UI at the right column. The situation there is a little different... Sometimes (without recompiling the installer!) there is garbage instead of the missing characters when I insert the ý character twice (3rd instace), and in the rest of the cases the inside chars are just omitted. Also, when I inserted the chatacter ì at the beggining, it did not display, as in Modern UI (last instance) although I think it has to do with the fact that it randomly displays garbage or nothing.<br><br>Although I never had to define a code page or anything to get the translated installer display properly (in both W9x and 2000/XP) do you think this may solve the problem? Can you provide an example of how the code page must be inserted in the language file (and what kind of codepage: DOS codepage? Windows codepage? ISO codepage? ...)<br><br>Finally, I wasn't able to find an example that displays the new features of NSIS, so that I could properly test the translation. I just used the older examples.<br><br>Thanks in advance!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">5th September 2003 11:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Fixed in latest CVS version, thanks. I have also manually generated a snapshot so you don't have to wait for sluggish CVS.<br><br>It happened because I've missed a few zeros. When weird characters/strings start appear in other strings it's processed/unprocessed mismatch 99% of time. Had it been codepage problems you'd have seen just garbage, but with the exact number of characters that should have been there.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mgillespie</span><br><span class="post-time small text-muted">6th September 2003 11:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I assume this is the feature set for 2.0B4? so does this mean that after a some bug fixing on the new features, we will be ready for 2.0B4???</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">6th September 2003 12:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">This is a list of the new features which have been added, not a list of all new features for beta 4 (we have added a lot more during the last 6 months). See the changelog for details.<br><br>You can download a development snapshot to test the new features.<br><br>Beta 4 should be released soon. We have to wait for translators updating the language files.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">6th September 2003 20:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It's all in the fine print... ;)<br><br></p><blockquote>If everything turns out right, the latest CVS version is b4 final.</blockquote></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">7th September 2003 17:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Fixed a problem with SetOverwrite. New snapshot created.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Zarik</span><br><span class="post-time small text-muted">8th September 2003 10:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Probably there is an error in macro MUI_PAGE_DIRECTORY.<br>Here is an error from compiler:<br>------------------------------------------<br>!define: "MUI_DIRECTORYPAGE_VARIABLE"="$3"<br>!insertmacro: MUI_PAGE_DIRECTORY<br>!undef: "MUI_DIRECTORYPAGE_VARAIBLE" not defined!<br>Error in macro MUI_PAGE_DIRECTORY on macroline 24<br>------------------------------------------<br><br>Notice that mistype MUI_DIRECTORYPAGE_VAR<b>AI</b>BLE instead of MUI_DIRECTORYPAGE_VAR<b>IA</b>BLE.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">8th September 2003 11:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks, fixed.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">10th September 2003 18:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">!insertmacro: MUI_SECTION_FINISHHEADER<br>!insertmacro: macro named "MUI_SECTION_FINISHHEADER" not found!<br>Error in script<br><br>---<br>another<br><br>There is a problem when enable these languages:<br><br>LANG_FRENCH<br>LANG_JAPANESE<br>LANG_KOREAN<br>LANG_DANISH<br>LANG_PORTUGUESEBR<br>LANG_POLISH<br>LANG_UKRAINIAN<br>LANG_CZECH<br>LANG_SLOVAK<br>LANG_CROATIAN<br>LANG_BULGARIAN<br>LANG_HUNGARIAN<br>LANG_THAI<br>LANG_ROMANIAN<br>LANG_MACEDONIAN<br>LANG_TURKISH</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">10th September 2003 18:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Of course I used a lastest snapshot and try to rewrite the code to run installer perfectly on lastest CVS...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">10th September 2003 18:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">MUI_SECTION_FINISHHEADER has been removed a long time ago. You don't have to add it anymore.<br><br>These language files have to be updated for NSIS NLF v6 / Modern UI 1.66.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">10th September 2003 22:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">OK!<br>I used b3 for today then I downloaded lastest snapshot. I tried to rewrite the code but the complier closed with exception if i compile without bz2.<br>I have got lot of warning but I dot know whats wrong:<br><br>Processing pages... Done!<br>Removing unused resources... Done!<br>Generating language tables... setting 2052 to ËÎÌå<br>setting 1028 to ·s²Ó©úÅé<br>setting 1041 to ‚l‚r ‚oƒSƒVƒbƒN<br>setting 1042 to ±¼¸²<br>warning: unknown variable "{MUI_PRODUCT}" detected, ignoring (LangString MUI_TEXT_ABORTWARNING:1055)<br>warning: LangString "MUI_INNERTEXT_COMPONENTS_DESCRIPTION_INFO" is not set in language table of language 1055<br>.... more of the same<br>warning: LangString "MUI_INNERTEXT_COMPONENTS_DESCRIPTION_INFO" is not set in language table of language 1033<br>Done!<br>Finding icons offsets for uninstaller...<br>Error finding icon resources: installer, uninstaller icon size mismatch - see the Icon instruction's documentation for more information -- failing!<br>Error - aborting creation process<br><br><br>here is the code snippet:<br><br>!define MUI_ICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>!define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-uninstall.ico"<br>!define MUI_FILE "modern.exe"<br>!define MUI_UI "${NSISDIR}\Contrib\UIs\${MUI_FILE}"<br><br>!define MUI_ABORTWARNING<br><br>!define MUI_PAGE_WELCOME<br>!define MUI_PAGE_LICENSE<br>!define MUI_COMPONENTSPAGE_SMALLDESC<br>!define MUI_PAGE_COMPONENTS<br><br>!define MUI_PAGE_DIRECTORY<br>!define MUI_PAGE_STARTMENU<br>!define MUI_PAGE_INSTFILES<br>!define MUI_PAGE_FINISH<br><br><br><br><br>!define MUI_UNPAGE_CONFIRM<br>!define MUI_UNPAGE_LICENSE<br>!define MUI_UNPAGE_COMPONENTS<br>!define MUI_UNPAGE_DIRECTORY<br>!define MUI_UNPAGE_INSTFILES</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">11th September 2003 09:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I tried modern ui's example, but MultiLanguage, witch I used as template doesn't work:<br><br>!insertmacro: MUI_LANGUAGE<br>!undef: "MUI_UNTEXT_CONFIRM_TITLE" not defined!<br>Error in macro MUI_LANGUAGEFILE_LANGSTRING on macroline 3<br>Error in macro MUI_LANGUAGEFILE_END on macroline 103<br>!include: error in script: "C:\Program Files\nsis\Contrib\Modern UI\Language files\French.nsh" on line 80<br>Error in macro MUI_LANGUAGE on macroline 5<br>Error in script "C:\Program Files\nsis\Examples\Modern UI\MultiLanguage.nsi" on line 47 -- aborting creation process<br><br><br>Please, help me!<br><br>Many thanks,<br>ACEMCP</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">11th September 2003 09:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">As Joost said:<br><br></p><blockquote>These language files have to be updated for NSIS NLF v6 / Modern UI 1.66.</blockquote>The language files are out of date, the format has changed. The translators haven't updated them all yet, you'll have to wait.<br><br>I will need some more information about:<br><blockquote>I tried to rewrite the code but the complier closed with exception if i compile without bz2.</blockquote></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">11th September 2003 10:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hehe, I cannot reproduce this problem... Because I modified the code, then I cannot recompile at all... The exception created by the compiler, not the NSIS GUI (MakeNSISW)... But I cannot see any error message or whatever...<br><br>But now I have got a problem:<br>Processing pages... Done!<br>Removing unused resources... Done!<br>Generating language tables... warning: LangString "MUI_INNERTEXT_COMPONENTS_DESCRIPTION_INFO" is not set in language table of language 1033<br>warning: LangString "MUI_INNERTEXT_COMPONENTS_DESCRIPTION_INFO" is not set in language table of language 1033<br>warning: LangString "MUI_INNERTEXT_COMPONENTS_DESCRIPTION_INFO" is not set in language table of language 1033<br>Done!<br>Finding icons offsets for uninstaller...<br>Error finding icon resources: installer, uninstaller icon size mismatch - see the Icon instruction's documentation for more information -- failing!<br>Error - aborting creation process<br><br>I now using 030911 snapshot, and disabled all language except the english... If I define MUI_ICON and MUI_UNICON like<br>!define MUI_ICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>it say already definied, but if not:<br>Error finding icon resources: installer, uninstaller icon size mismatch - see the Icon instruction's documentation for more information -- failing!<br>Error - aborting creation process<br><br>how can I resolve this problem?<br><br>Thanks,<br>ACEMCP</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">11th September 2003 12:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The icon files for the installer and uninstaller must have the same structure.<br><br>For example, if one icon file contains a 32x32 16-colour image and a 16x16 16-colour image then the other file cannot just contain a 32x32 16-colour image, it must also have a 16x16 16-colour image.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">11th September 2003 12:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If I add line:<br>!define MUI_ICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>!define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br><br>it says:<br><br>!define: "MUI_ICON" already defined!<br>Error in script "D:\KAMI\ISOOSI\ACE Mega CoDecS Pack\ACE Mega CoDecS Pack.nsi" on line 87 -- aborting creation process<br><br>I tried to use same icon, but nothing happen...<br><br>It worked in b3 same way to me...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">11th September 2003 15:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Did you put the defines before the MUI_LANGUAGE macros?<br><br>Please try to reproduce the bzip2 crash, we would really appreciate that.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">11th September 2003 19:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I did it in this way:<br><br>!include "Include\Installer.nsi"<br>!include "MUI.nsh"<br><br>!define VERSIONMAIN "6" ;Define your own software version here<br>!define VERSIONMAJOR "00"<br>!define VERSIONMINOR "0205"<br>!define VERSION ${VERSIONMAIN}.${VERSIONMAJOR}.${VERSIONMINOR}<br>!define PRODUCT "ACE Mega CoDecS Pack"<br><br><br>name "${PRODUCT} ${VERSION}" ;Define your own software name here<br>SetCompress force<br>SetCompressor bzip2<br>SetDatablockOptimize on<br>CRCCheck on<br>SetDateSave on<br>SilentInstall normal<br>BGGradient 111133 000080 FFFFFF<br>InstallColors FF8080 000030<br>XPStyle on<br><br>ShowInstDetails "nevershow"<br>ShowUninstDetails "nevershow"<br><br>!verbose 4<br><br>BrandingText $(BrandingBanner)<br>LicenseData $(LicenseFile)<br><br>;--------------------------------<br>;Configuration<br><br>;General<br>OutFile "ACEMCP${VERSIONMAIN}${VERSIONMAJOR}.EXE"<br>;Folder selection page<br>InstallDir "$PROGRAMFILES\${PRODUCT}"<br>;Remember install folder<br>InstallDirRegKey HKCU "Software\${PRODUCT}" ""<br>;Remember the installer language<br>!define MUI_LANGDLL_REGISTRY_ROOT "HKCU"<br>!define MUI_LANGDLL_REGISTRY_KEY "Software\${PRODUCT}"<br>!define MUI_LANGDLL_REGISTRY_VALUENAME "Installer Language"<br><br><br>;--------------------------------<br>;Modern UI Configuration<br><br>!define MUI_HEADERBITMAP "${NSISDIR}\Contrib\Icons\modern-header 2.bmp"<br>!define MUI_ICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>!define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>; !define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-uninstall.ico"<br>!define MUI_FILE "modern.exe"<br>; !define MUI_UI "${NSISDIR}\Contrib\UIs\${MUI_FILE}"<br>!define MUI_ABORTWARNING<br><br>; !define MUI_SPECIALINI "Create\StartFinish.ini"; "${NSISDIR}\Contrib\Modern UI\Kami.ini"<br><br><br><br><br><br>!define MUI_PAGE_WELCOME<br>; !define MUI_PAGE_LICENSE<br>!define MUI_COMPONENTSPAGE_SMALLDESC<br>!define MUI_PAGE_COMPONENTS<br><br>!define MUI_PAGE_DIRECTORY<br>!define MUI_PAGE_STARTMENU<br>!define MUI_PAGE_INSTFILES<br>!define MUI_PAGE_FINISH<br><br><br><br><br>!define MUI_UNPAGE_CONFIRM<br>!define MUI_UNPAGE_LICENSE<br>!define MUI_UNPAGE_COMPONENTS<br>!define MUI_UNPAGE_DIRECTORY<br>!define MUI_UNPAGE_INSTFILES<br><br><br>!include "Language.nsh"<br><br><br><br>;--------------------------------<br>;Reserve Files<br><br>;Things that need to be extracted on first (keep these lines before any File command!)<br>;Only useful for BZIP2 compression<br>!insertmacro MUI_RESERVEFILE_WELCOMEFINISHPAGE ;Welcome- or Finish page<br>!insertmacro MUI_RESERVEFILE_LANGDLL ;LangDLL (language selection dialog)<br>!insertmacro MUI_RESERVEFILE_STARTMENU ;Start Menu Folder page<br><br><br>Language.nsh contains the macros:<br>!insertmacro MUI_LANGUAGE "English"<br><br>LangString BrandingBanner ${LANG_ENGLISH} "Installer"<br>LicenseLangString LicenseFile ${LANG_ENGLISH} "${NSISDIR}\Contrib\Modern UI\License.txt"<br>!include "Language\TITLE.eng"<br>!include "Language\DESC.eng"<br><br><br>TITLE and DESC contains the Sections names like:<br><br>LangString DESC_QuickRemove ${LANG_ENGLISH} "Quick Remove"<br><br>LangString TITLE_QuickRemove ${LANG_ENGLISH} "Quick Remove"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">11th September 2003 19:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hello!<br>I changed from<br>!define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>!define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-uninstall.ico"<br>to<br>Icon "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>UninstallIcon "${NSISDIR}\Contrib\Icons\modern-uninstall.ico"<br><br>and now works perfectly! Please update the Modern UI's reference!<br><br>ACEMCP</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">11th September 2003 20:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">What you are doing is wrong (it will set icons twice etc.).<br><br>Add<br><br>!define MUI_ICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>!define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br><br>before the MUI_LANGUAGE macros.<br><br>In you last example, the defines are wrong (two times MUI_UNICON).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">11th September 2003 22:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ok I mispelled, when I copyed :o((((<br><br>If<br>!define MUI_ICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>!define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br><br>then error...<br><br>My code:<br><br>!include "Include\Installer.nsi"<br>!include "MUI.nsh"<br><br>!define VERSIONMAIN "6" ;Define your own software version here<br>!define VERSIONMAJOR "00"<br>!define VERSIONMINOR "0205"<br>!define VERSION ${VERSIONMAIN}.${VERSIONMAJOR}.${VERSIONMINOR}<br>!define PRODUCT "My sw"<br><br><br>name "${PRODUCT} ${VERSION}" ;Define your own software name here<br>SetCompress force<br>SetCompressor bzip2<br>SetDatablockOptimize on<br>CRCCheck on<br>SetDateSave on<br>SilentInstall normal<br>BGGradient 111133 000080 FFFFFF<br>InstallColors FF8080 000030<br>XPStyle on<br>ShowInstDetails "nevershow"<br>ShowUninstDetails "nevershow"<br><br>!verbose 4<br><br>BrandingText $(BrandingBanner)<br>LicenseData $(LicenseFile)<br><br>;--------------------------------<br>;Configuration<br><br>;General<br>OutFile "MYSW${VERSIONMAIN}${VERSIONMAJOR}.EXE"<br>;Folder selection page<br>InstallDir "$PROGRAMFILES\${PRODUCT}"<br>;Remember install folder<br>InstallDirRegKey HKCU "Software\${PRODUCT}" ""<br>;Remember the installer language<br>!define MUI_LANGDLL_REGISTRY_ROOT "HKCU"<br>!define MUI_LANGDLL_REGISTRY_KEY "Software\${PRODUCT}"<br>!define MUI_LANGDLL_REGISTRY_VALUENAME "Installer Language"<br><br><br><br>;--------------------------------<br>;Modern UI Configuration<br><br>!define MUI_ICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>!define MUI_UNICON "${NSISDIR}\Contrib\Icons\modern-install.ico"<br>!define MUI_HEADERBITMAP "${NSISDIR}\Contrib\Icons\modern-header 2.bmp"<br>!define MUI_FILE "modern.exe"<br>!define MUI_UI "${NSISDIR}\Contrib\UIs\${MUI_FILE}"<br>!define MUI_ABORTWARNING<br><br>!define MUI_PAGE_WELCOME<br>!define MUI_PAGE_LICENSE<br>!define MUI_COMPONENTSPAGE_SMALLDESC<br>!define MUI_PAGE_COMPONENTS<br>!define MUI_PAGE_DIRECTORY<br>!define MUI_PAGE_STARTMENU<br>!define MUI_PAGE_INSTFILES<br>!define MUI_PAGE_FINISH<br><br><br>!define MUI_UNPAGE_CONFIRM<br>!define MUI_UNPAGE_LICENSE<br>!define MUI_UNPAGE_COMPONENTS<br>!define MUI_UNPAGE_DIRECTORY<br>!define MUI_UNPAGE_INSTFILES<br><br><br>!include "Language.nsh" ; License, Brandingtext, MUI_Language Macros</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">11th September 2003 22:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Remove !define MUI_PAGE_*, they have been replaced with macros a long time ago.<br><br>MUI_ICON and MUI_UNICON works fine for me. There is probably something in Installer.nsi... How about you attach the entire script in one zip (including installer.nsi and language.nsh) instead of copying and pasting the same parts again and again (it makes it much harder to read... Please see the forum rules announcements for more information)?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ACEMCP</span><br><span class="post-time small text-muted">12th September 2003 11:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Thanks!</strong><br>Hey! Where my eyes :o) I replaced define MUI_PAGE_* to !insermacro then all of my script (include MUI_ICON and MUI_UNICON )is work perfectly... Many Thanks!<br><br>I started with b3 and I don't know anything about b4 and cvs, so now, I updated, and I see that I cannot compile my scripts... "long time ago" to you is now for me :o) Sorry, I am not so up-to-date, or there was a big changes between b3 and b4...<br><br>Sorry again,<br>and<br>Many Thanks!<br><br>ACEMCP</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">12th September 2003 15:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">There have been quite some changes in the latest version. I recommend you to check the new Modern UI Readme.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>