<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Can anyone make this file a .EXE. I get an error." />

  <title>Can anyone make this file a .EXE. I get an error. - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Can anyone make this file a .EXE. I get an error.</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255306">Can anyone make this file a .EXE. I get an error.</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Bobrick</span><br />
      <span class="post-time small text-muted">12th September 2006 05:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Can anyone make this file a .EXE. I get an error.</strong><br />
      Can anyone make this file a .exe file? Everytime I try and compile I get an error, i'm new to this stuff so it's a wee bit hard.<br />
      <br />
      Thanks in advance mate.<br />
      <br />
      <a href="http://andy.vincent-clan.com/files/gmod/gmi/GarrysMod10ModInstaller.nsi" target="_blank">http://andy.vincent-clan.com/files/g...dInstaller.nsi</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CrushBug</span><br />
      <span class="post-time small text-muted">12th September 2006 06:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Posting the exact error message could be helpful :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Bobrick</span><br />
      <span class="post-time small text-muted">12th September 2006 21:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is the log:<br />
      <br />
      <br />
      MakeNSIS v2.20 - Copyright 1999-2006 Nullsoft, Inc.<br />
      <br />
      Portions Copyright (C) 1995-1998 Jean-loup Gailly and Mark Adler (zlib).<br />
      Portions Copyright (C) 1996-2002 Julian R Seward (bzip2).<br />
      Portions Copyright (C) 1999-2003 Igor Pavlov (lzma).<br />
      <br />
      Contributors: <a href="mailto:nnop@newmail.ru">nnop@newmail.ru</a>, Ryan Geiss, Andras Varga, Drew Davidson, Peter Windridge, Dave Laundon, Robert Rainwater, Yaroslav Faybishenko, Jeff Doozan, Amir Szekely, Ximon Eighteen, et al.<br />
      <br />
      Processing config:<br />
      Processing plugin dlls: "C:\Program Files\NSIS\Plugins\*.dll"<br />
      - AdvSplash::show<br />
      - Banner::destroy<br />
      - Banner::getWindow<br />
      - Banner::show<br />
      - BgImage::AddImage<br />
      - BgImage::AddText<br />
      - BgImage::Clear<br />
      - BgImage::Destroy<br />
      - BgImage::Redraw<br />
      - BgImage::SetBg<br />
      - BgImage::SetReturn<br />
      - BgImage::Sound<br />
      - Dialer::AttemptConnect<br />
      - Dialer::AutodialHangup<br />
      - Dialer::AutodialOnline<br />
      - Dialer::AutodialUnattended<br />
      - Dialer::GetConnectedState<br />
      - InstallOptions::dialog<br />
      - InstallOptions::initDialog<br />
      - InstallOptions::show<br />
      - LangDLL::LangDialog<br />
      - Math::Script<br />
      - NSISdl::download<br />
      - NSISdl::download_quiet<br />
      - Splash::show<br />
      - StartMenu::Init<br />
      - StartMenu::Select<br />
      - StartMenu::Show<br />
      - System::Alloc<br />
      - System::Call<br />
      - System::Copy<br />
      - System::Free<br />
      - System::Get<br />
      - System::Int64Op<br />
      - System::Store<br />
      - TypeLib::GetLibVersion<br />
      - TypeLib::Register<br />
      - TypeLib::UnRegister<br />
      - UserInfo::GetAccountType<br />
      - UserInfo::GetName<br />
      - VPatch::vpatchfile<br />
      - nsExec::Exec<br />
      - nsExec::ExecToLog<br />
      - nsExec::ExecToStack<br />
      <br />
      !define: "MUI_INSERT_NSISCONF"=""<br />
      <br />
      Changing directory to: "C:\Documents and Settings\Dell\Desktop"<br />
      <br />
      Processing script file: "C:\Documents and Settings\Dell\Desktop\GarrysMod10ModInstaller.nsi"<br />
      !define: "PRODUCT_NAME"="MyModName"<br />
      !define: "PRODUCT_VERSION"="MyVersion"<br />
      !define: "PRODUCT_PUBLISHER"="MyName"<br />
      !define: "PRODUCT_WEB_SITE"="MyWebsite"<br />
      !include: "C:\Program Files\NSIS\Include\MUI.nsh"<br />
      !include: "C:\Program Files\NSIS\Contrib\Modern UI\System.nsh"<br />
      NSIS Modern User Interface version 1.75 - Â© 2002-2006 Joost Verburg (C:\Program Files\NSIS\Contrib\Modern UI\System.nsh:11)<br />
      !define: "MUI_VERBOSE"="3"<br />
      !include: closed: "C:\Program Files\NSIS\Contrib\Modern UI\System.nsh"<br />
      !include: closed: "C:\Program Files\NSIS\Include\MUI.nsh"<br />
      !define: "MUI_ABORTWARNING"=""<br />
      !define: "MUI_ICON"="C:\Program Files\NSIS\Contrib\Graphics\Icons\modern-install.ico"<br />
      !insertmacro: MUI_PAGE_WELCOME<br />
      !insertmacro: end of MUI_PAGE_WELCOME<br />
      !insertmacro: MUI_PAGE_DIRECTORY<br />
      !insertmacro: end of MUI_PAGE_DIRECTORY<br />
      !insertmacro: MUI_PAGE_INSTFILES<br />
      !insertmacro: end of MUI_PAGE_INSTFILES<br />
      !insertmacro: MUI_PAGE_FINISH<br />
      !insertmacro: end of MUI_PAGE_FINISH<br />
      !insertmacro: MUI_LANGUAGE<br />
      !insertmacro: end of MUI_LANGUAGE<br />
      Function: "GetSteamAccountName"<br />
      Push: $R0<br />
      Push: $R1<br />
      Push: $R2<br />
      Push: $R3<br />
      ReadRegStr $R0 HKCU\Software\Valve\Steam\SteamExe<br />
      StrCmp "$R0" "" equal=noSteam, nonequal=<br />
      StrCpy $R1 "0" () ()<br />
      IntOp: $R1=$R1-1<br />
      StrCpy $R2 "$R0" (1) ($R1)<br />
      StrCmp "$R2" "" equal=noAccount, nonequal=<br />
      StrCmp "$R2" "/" equal=0, nonequal=-3<br />
      StrCpy $R0 "$R0" ($R1) ()<br />
      StrCpy $R1 "0" () ()<br />
      IntOp: $R1=$R1+1<br />
      StrCpy $R2 "$R0" (1) (-$R1)<br />
      StrCmp "$R2" "" equal=+8, nonequal=<br />
      StrCmp "$R2" "/" equal=0, nonequal=-3<br />
      StrCpy $R2 "$R0" (-$R1) ()<br />
      IntOp: $R1=$R1-1<br />
      StrCpy $R3 "$R0" () (-$R1)<br />
      StrCpy $R0 "$R2\$R3" () ()<br />
      IntOp: $R1=$R1+1<br />
      Goto: -9<br />
      FindFirst: spec="$R0\steamapps\*.*" handle=$R1 output=$R2<br />
      StrCmp "$R2" "media" equal=nextFile, nonequal=<br />
      StrCmp "$R2" "SourceMods" equal=nextFile, nonequal=<br />
      StrCmp "$R2" "." equal=nextFile, nonequal=<br />
      StrCmp "$R2" ".." equal=nextFile, nonequal=<br />
      IfFileExists: "$R0\steamapps\$R2\*.*" ? done :<br />
      ClearErrors<br />
      FindNext: handle=$R1 output=$R2<br />
      IfErrors ?0:loopFile<br />
      FindClose: $R1<br />
      StrCpy $R2 "[ACCOUNT_NAME]" () ()<br />
      StrCpy $R1 "$R0" () ()<br />
      StrCpy $R0 "$R2" () ()<br />
      Goto: +3<br />
      StrCpy $R1 "" () ()<br />
      StrCpy $R0 "" () ()<br />
      Pop: $R3<br />
      Pop: $R2<br />
      Exch($R1,0)<br />
      Exch(st(1),0)<br />
      Exch($R0,0)<br />
      FunctionEnd<br />
      LangString: "SteamNotInstalled" 1033 "Valve's Steam is not installed!<br />
      <br />
      Setup will now exit."<br />
      LangString: "SteamNoAccounts" 1033 "No Steam accounts have been detected!<br />
      <br />
      Setup will now exit."<br />
      LangString: "GarrysModNotInstalled" 1033 "Garry's Mod is not installed!<br />
      <br />
      Setup will now exit."<br />
      !define: "GMOD_MOD"=""<br />
      Function: "GetGmodPath"<br />
      Call "GetSteamAccountName"<br />
      Pop: $R0<br />
      Pop: $R1<br />
      StrCmp "$R0" "" equal=no_steam, nonequal=<br />
      StrCmp "$R0" "[ACCOUNT_NAME]" equal=no_account, nonequal=<br />
      MessageBox: 16: "$R0"<br />
      MessageBox: 16: "$R1"<br />
      IfFileExists: "$R1\steamapps\sourcemods\garrysmod\*.*" ? exists : doesnt_exist<br />
      MessageBox: 16: "$(SteamNoAccounts)"<br />
      Abort: ""<br />
      MessageBox: 16: "$(SteamNotInstalled)"<br />
      Abort: ""<br />
      MessageBox: 16: "$(GarrysModNotInstalled)"<br />
      Abort: ""<br />
      StrCpy $INSTDIR "$R1\steamapps\sourcemods\garrysmod" () ()<br />
      FunctionEnd<br />
      Function: ".onInit"<br />
      Call "GetGmodPath"<br />
      FunctionEnd<br />
      Name: "MyModName MyVersion"<br />
      OutFile: "MyModName-MyVersion Installer.exe"<br />
      InstallDir: "$PROGRAMFILES\MyGmodInstaller"<br />
      InstallRegKey: "HKLM\${PRODUCT_DIR_REGKEY}\"<br />
      ShowInstDetails: show<br />
      Section: "MainSection" -&gt;(SEC01)<br />
      CreateDirectory: "$INSTDIR\addons\MyMod"<br />
      CreateDirectory: "$INSTDIR\addons\MyMod\materials\models\props_c17"<br />
      CreateDirectory: "$INSTDIR\addons\MyMod\materials\mods"<br />
      SetOutPath: "$INSTDIR\addons\MyMod"<br />
      File: ".\info.txt" -&gt; no files found.<br />
      Usage: File [/nonfatal] [/a] ([/r] [/x filespec [...]] filespec [...] |<br />
      /oname=outfile one_file_only)<br />
      Error in script "C:\Documents and Settings\Dell\Desktop\GarrysMod10ModInstaller.nsi" on line 143 -- aborting creation process</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JasonFriday13</span><br />
      <span class="post-time small text-muted">12th September 2006 22:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you want to use the files that are in the same directory as the .nsi, just state the filename:<br /></p>
      <pre>
<code>File "license.txt"</code>
</pre><br />
      [edit]Also, it's better to have absolute paths, because then you can compile from anywhere.[/edit]
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th September 2006 09:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Actually, it's usually better to use relative paths. This way you can move around the script without having to worry about not being able to compile it. It's also easier to make copies of it this way. You won't have to change the paths of the new copy.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
