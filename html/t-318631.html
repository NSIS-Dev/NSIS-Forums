<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="xp sp3 removing .exe from setup.exe" />

  <title>xp sp3 removing .exe from setup.exe - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">xp sp3 removing .exe from setup.exe</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318631">xp sp3 removing .exe from setup.exe</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">BoscoBilly</span><br />
      <span class="post-time small text-muted">23rd April 2010 21:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>xp sp3 removing .exe from setup.exe</strong><br />
      Hi.<br />
      <br />
      My app is sold inet only so the setup file, setup.exe, is downloaded to the users'<br />
      computer via the link I send them.<br />
      With some users on Vista and XP sp3, the EXE extent of my setup.exe file is removed by the OS or the AV or the firewall, I don't know which.<br />
      With some users, they can save the file and add the .exe; with others, there is no such option to save under a different name, it will simply save to desktop as setup, no extent.<br />
      Then, a windows office icon is created which, when dbl-clicked, gives Unknown File Type and asks user to select app to open it.<br />
      I have the same problem with my demo file, demosetup.exe.<br />
      <br />
      How can I create a demo/setup exe file that will work properly on these pesky OS's?<br />
      Thanks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">redxii</span><br />
      <span class="post-time small text-muted">24th April 2010 01:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Windows hides the .exe but it's still there and you can configure Explorer to show it, are you sure this isn't the case?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">BoscoBilly</span><br />
      <span class="post-time small text-muted">24th April 2010 02:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi.<br />
      Thx for responding.<br />
      This info is from a user.<br />
      What he says is the file, setup.exe DL-ed from my site, appears as an icon<br />
      on his desktop with no extent after saving, with no option to "Save As'.<br />
      He says:<br />
      "Going through the process again, when I get to the point of save, I do not see an option to save it as an exe file. The option is; Unknown file type, 1.37 MB, 3.amazonaws.com Save or Cancel And it saves to the desktop if you click save "<br />
      And is saved as setup, no .exe.<br />
      When he dbl clks it, he gets "unknown filetype" and the "open with" dialog.<br />
      <br />
      Note: the 3.amazonaws.com above refers to the DL server, on amazon.<br />
      <br />
      Any help on this would be most appreciated.<br />
      Thx.<br />
      Billy</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">24th April 2010 04:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is likely unrelated to the installer itself.<br />
      <br />
      My guess would be that either the S3 server isn't providing the correct MIME type for the file (application/octet-stream), or the user's browser is ignoring it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">BoscoBilly</span><br />
      <span class="post-time small text-muted">24th April 2010 06:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thx for the suggestion, Anim.<br />
      You have seen this before?<br />
      If so, would you please give some examples?<br />
      <br />
      I'm not sure how to chk the S3 server output MIME setting.<br />
      Is there a way to set a property of a file on S3 to effect this?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">24th April 2010 09:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Search for "MIME types" for your server type (i.e. IIS, Apache etc)<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">24th April 2010 12:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by BoscoBilly</small><br />
        You have seen this before?
      </blockquote>Yes - mostly with FireFox users as Internet Explorer used to (maybe it still does - I hardly use it anymore) determine the file type based on the extension rather than the MIME type.<br />
      <br />

      <blockquote>
        <small>Originally posted by BoscoBilly</small><br />
        If so, would you please give some examples?
      </blockquote>Can't say I know of any currently mis-configured server :)<br />
      <br />
      <br />

      <blockquote>
        <small>Originally posted by BoscoBilly</small><br />
        I'm not sure how to chk the S3 server output MIME setting.
      </blockquote>I'm not sure where you would check in S3 / your server's settings... but if you happen to use FireFox, then the LiveHTTPHeaders add-on ( <a href="https://addons.mozilla.org/en-US/firefox/addon/3829" target="_blank">https://addons.mozilla.org/en-US/firefox/addon/3829</a> ) will at least let you see what a server sends as a response before the browser begins its download.<br />
      <br />
      Example 1 of a correctly configured host (using IIS).<br />
      This uses the generic "application/octet-stream" MIME type.<br />
      <font size="1">GET /dir/file.exe HTTP/1.1<br />
      Host: <a href="http://www.somehost.com" target="_blank">www.somehost.com</a><br />
      User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3 (.NET CLR 3.5.30729)<br />
      Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8<br />
      Accept-Language: en-us,en;q=0.5<br />
      Accept-Encoding: gzip,deflate<br />
      Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7<br />
      Keep-Alive: 115<br />
      Connection: keep-alive<br />
      Referer: <a href="http://www.somehost.com/" target="_blank">http://www.somehost.com/</a><br />
      <br />
      HTTP/1.1 200 OK<br />
      Content-Length: 115712<br />
      <font color="red">Content-Type: application/octet-stream</font><br />
      Last-Modified: Sat, 24 Apr 2010 11:28:47 GMT<br />
      Accept-Ranges: bytes<br />
      Etag: "91c2694ea1e3ca1:44f"<br />
      Server: Microsoft-IIS/6.0<br />
      X-Powered-By: ASP.NET<br />
      Date: Sat, 24 Apr 2010 11:29:09 GMT<br /></font><br />
      <br />
      Example 2 of a correctly configured host (using Apache).<br />
      This uses the more specific "application/x-msdownload" MIME type. It also specifies the Content-Disposition filename parameter which a browser -may- optionally use as the name under which to actually save the file, but can't be relied on - but if the MIME type checks out you could see if this parameter is set (incorrectly).<br />
      <font size="1">GET /dir/file.exe HTTP/1.1<br />
      Host: someotherhost.com<br />
      User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3 (.NET CLR 3.5.30729)<br />
      Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8<br />
      Accept-Language: en-us,en;q=0.5<br />
      Accept-Encoding: gzip,deflate<br />
      Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7<br />
      Keep-Alive: 115<br />
      Connection: keep-alive<br />
      Referer: <a href="http://someotherhost.com/" target="_blank">http://someotherhost.com/</a><br />
      <br />
      HTTP/1.1 200 OK<br />
      Date: Sat, 24 Apr 2010 11:32:02 GMT<br />
      Server: Apache/2.0.61 (FreeBSD) PHP/5.2.5 with Suhosin-Patch mod_ssl/2.0.61 OpenSSL/0.9.7e-p1 mod_apreq2-20051231/2.6.0 mod_perl/2.0.3 Perl/v5.8.8<br />
      <font color="red">Content-Type: application/x-msdownload</font><br />
      Last-Modified: Wed Apr 7 13:32:41 2010<br />
      Content-Transfer-Encoding: chunked<br />
      Cache-Control: no-store, no-cache, must-revalidate, pre-check=0, post-check=0, max-age=0<br />
      <font color="blue">Content-Disposition: attachment; filename="otherfile.exe"</font><br />
      Keep-Alive: timeout=5, max=500<br />
      Connection: Keep-Alive<br />
      Transfer-Encoding: chunked<br /></font>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">BoscoBilly</span><br />
      <span class="post-time small text-muted">24th April 2010 20:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thx Afrow and Anim.<br />
      <br />
      I will try to chk this.<br />
      However, this behavior is not for all Windows boxes.<br />
      For example, I have tested many XP sp2 boxes where the extent is not removed.<br />
      Would this suggest that the MIME encoding is not at fault?<br />
      <br />
      Also, I have never seen the behavior where there is no option to "save as", even if the extent is removed.<br />
      In fact, in my instructions to users, I tell them that if the extent is removed, be sure to save it as setup.exe then dblclk to run.<br />
      <br />
      It seems like an overzealous nanny security setting.<br />
      I'm wondering if there is a way to "cloak" my setup.exe self-extracting install.<br />
      <br />
      Billy</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">24th April 2010 21:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes it could be the users' IE zone settings...<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
