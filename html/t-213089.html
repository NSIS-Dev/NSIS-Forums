<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Oem &lt;-&gt; Ansi"><title>Oem &lt;-&gt; Ansi - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Oem &lt;-&gt; Ansi</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=213089">Oem &lt;-&gt; Ansi</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Instructor</span><br><span class="post-time small text-muted">13th April 2005 16:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Oem &lt;-&gt; Ansi</strong><br>Somebody has a small console program or plugin for converting the text from oem in ansi?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">13th April 2005 17:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I never did this, but MSDN declares:<br>The OemToChar function translates a string from the OEM-defined character set into either an ANSI or a wide-character string. (OEM stands for original equipment manufacturer.)<br><br>BOOL OemToChar(<br>LPCSTR lpszSrc, // pointer to string to translate<br>LPTSTR lpszDst // pointer to buffer for translated string<br>);<br><br>BOOL OemToCharBuff(<br>LPCSTR lpszSrc, // pointer to string to translate<br>LPTSTR lpszDst, // pointer to buffer for translated string<br>DWORD cchDstLength // size of buffer<br>);<br><br>lpszSrc<br>Pointer to a buffer containing one or more characters from the OEM-defined character set.<br>lpszDst<br>Pointer to the buffer for the translated string. If the OemToCharBuff function is being used as an ANSI function, the string can be translated in place by setting the lpszDst parameter to the same address as the lpszSrc parameter. This cannot be done if the OemToCharBuff function is being used as a wide-character function.<br>cchDstLength<br>Specifies the number of characters to translate in the buffer identified by the lpszSrc parameter.<br><br>Import Library: Use user32.lib.<br><br>And I see in the user32.dll<br>OemToCharA<br>OemToCharBuffA<br>OemToCharBuffW<br>OemToCharW<br>entry points.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Comperio</span><br><span class="post-time small text-muted">13th April 2005 18:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Not sure if this helps, but you might be able to use NSIS's built-in IntFmt command on a character-by-character basis. (It uses the wsprintf function at MSDN at <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/wsprintf.asp" target="_blank">http://msdn.microsoft.com/library/de...s/wsprintf.asp</a>).<br><br>I'm just offering this as a possible solution--I've not actually tried it. At least in theory, it looks like it might work...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Instructor</span><br><span class="post-time small text-muted">13th April 2005 19:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks guys!</p><pre>
<code>StrCpy $0 `ãááª¨¥ á¨¬¢®«ë`  ;OEM<br><br>; OEM2ANSI<br>System::Call 'user32::OemToChar(t r0, t .r1)'<br>; $1=`Ðóññêèå ñèìâîëû`       ;ANSI<br><br>; ANSI2OEM<br>System::Call 'user32::CharToOem(t r1, t .r2)'<br>; $2=`ãááª¨¥ á¨¬¢®«ë`       ;OEM</code>
</pre>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>