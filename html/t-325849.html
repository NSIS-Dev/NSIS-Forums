<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="get the size for image files....."><title>get the size for image files..... - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">get the size for image files.....</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=325849">get the size for image files.....</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">manasi1128</span><br><span class="post-time small text-muted">12th January 2011 04:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>get the size for image files.....</strong><br>Hi,<br><br>I want to get the size of .png files..... GetFileSize gives the size of .dll,.exe but gives 0 kb for .png files.....plzz help....<br>thnx in advance..!!!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">12th January 2011 06:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">GetFileSize always gives the file size, no matter what file type it is. If you get zero, then probably the file doesn't exist or it's of zero size. Or maybe it's locked and can't be opened.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">12th January 2011 07:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">This works ok, in my XP box:<br></p><pre>
<code><br>Name "png_size"<br>OutFile "png_size.exe"<br>ShowInstDetails show<br><br>Function FileSizeNew <br> <br>  Exch $0<br>  Push $1<br>  FileOpen $1 $0 "r"<br>  FileSeek $1 0 END $0<br>  FileClose $1<br>  Pop $1<br>  Exch $0<br> <br>FunctionEnd<br><br>Section -<br>Push "C:\joel\sshot-1.png"<br>call FileSizeNew<br>Pop $0<br>DetailPrint "$0 bytes"<br>SectionEnd<br></code>
</pre><br>
      But, I notice when using like this:<br>
      Returns this:<br>
      <pre>
<code><br>Section -<br>Push "C:\joel\Mis imágenes\sshot-1.png"<br>call FileSizeNew<br>Pop $0<br>DetailPrint "$0 bytes"<br>SectionEnd<br></code>
</pre><br>

      <blockquote>
        C:\joel\Mis imÃ¡genes\sshot-1.png bytes<br>
        Completed
      </blockquote>Bug?<br>
      <br>
      <a href="http://nsis.sourceforge.net/Getting_File_Size" target="_blank">FileSizeNew wiki</a>.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br>
      <span class="post-time small text-muted">12th January 2011 08:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmm. I use that function with spaces without trouble. Perhaps the accent on imagines is causing the problem? Try the unicode build.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>