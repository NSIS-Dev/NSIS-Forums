<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Automatic revisoning"><title>Automatic revisoning - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Automatic revisoning</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=141404">Automatic revisoning</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">trankyfunky</span><br><span class="post-time small text-muted">7th July 2003 14:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Automatic revisoning</strong><br>After about one year of developing small and crappy NSIS scripts, I finally started to organize them in a logical structure.<br>The first thing I suppose to deploy is a "EXE versioning system", that could tell me the build number of my script.<br>Actually, I use a very simple build number (it's time-related: CrappyScript v.{YYMMDD}) that I set manually thru a !define directive.<br>It's simple, i know, but for me is enough!<br><br>I wonder if there is a simple method to gain the system date to set automatically the !define parameter (or to launch something via !system and get the output, maybe a NSIS script ;)) )...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">7th July 2003 14:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You should check out this archive <a href="http://nsis.sourceforge.net/archive/nsisweb.php?page=301&amp;instances=0" target="_blank">page</a> and modify the function used there to suit your needs.<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">7th July 2003 15:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It's already possible :D Grab the latest development version and use ${__DATE__}</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">trankyfunky</span><br><span class="post-time small text-muted">7th July 2003 15:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">What do you mean with "latest development version"?<br>Should I use a CVS snapshot or can I use a simple 2.0b3? :confused:<br><br>Thanks a lot, Vytautas. I will try it anyway :up: ....</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">7th July 2003 16:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Vytautas' solution is for getting the date on run-time.<br><br>You need to get the date on compile time, so you should use ${__DATE__}. You have to get the latest CVS version.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">trankyfunky</span><br><span class="post-time small text-muted">7th July 2003 16:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Anyone knows how to compile a CVS snapshot without a C compiler ?:cry:<br>Or, maybe, someome knows where could I download a binary CVS build? :weird:<br><br>(Maybe a sticky topic on the forum "Latest CVS Binaries" will be useful...)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">7th July 2003 16:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The "nightly" CVS snapshot includes the binaries - I am using ${__DATE__} and all the other useful things like it even though I do not have a suitable C compiler. The VersionInformation feature is proving very useful.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">trankyfunky</span><br><span class="post-time small text-muted">7th July 2003 18:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ok... Obtained the "nightly" CVS...<br>Is the ${__DATE__} function already documented? (I cannot find it on the documentation... maybe I'm blind ;) )<br>I never heard/seen anything about "VersionInformation". Maybe I've missed something about it?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">7th July 2003 18:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It has been added a few weeks ago and has not been documented yet.<br><br>With the version information commands, you can add a version info resource (File Properties &gt; Version tab).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">8th July 2003 01:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry for any confusion I caused, it was late and my brain was not functioning very well.<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">trankyfunky</span><br><span class="post-time small text-muted">8th July 2003 07:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You're welcome, Vytautas.<br><br>Seems interesting... The version info commands, I mean.<br><br>The only thing I need is some documentation about ${__DATE__}.<br>I will wait until some documentation will be released.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">trankyfunky</span><br><span class="post-time small text-muted">8th July 2003 08:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Just for information, can I format ${__DATE__} contents to fit my needs (YYMMDD or YY.MM.DD) ?<br>Or maybe there is a method to pass the contents of a $n/$Rn variable to the !define statement (so I will do the dirty job with some crappy script snippet)?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">8th July 2003 10:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">NSIS uses your local date format to set ${__DATE__}. You can't set the format through NSIS. If you want to pass some variables as defines you can create a script that will compile your script calling to makensis with some command line arguments. /Ddefine_name=value will probably be the most useful one for this task.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">8th July 2003 17:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Joost Verburg</i><br><b>It has been added a few weeks ago and has not been documented yet.<br><br>With the version information commands, you can add a version info resource (File Properties &gt; Version tab).</b></blockquote>This would be in resource hacker yes?<br><br>-Stu</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">8th July 2003 17:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No, that's the whole point, you no longer need Resource Hacker to add it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">8th July 2003 18:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hmm, where is this then?<br><br>Edit: ok sorry, I thought that he meant that you need to goto File Properties &gt; Version tab to add one :)<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">iceman_k</span><br><span class="post-time small text-muted">11th July 2003 21:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><a href="http://forums.winamp.com/showthread.php?s=&amp;postid=986502#post986502" target="_blank">Here</a> is some rudimentary documentation on the compile time "standard predefines".<br>I had a programming itch and I scratched it. :)<br>I had considered putting in options for formatting the date, but decided to put it off till later. So, for now you will have to live with it grabbing the date format from the user locale settings.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>