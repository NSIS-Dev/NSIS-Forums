<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Announcement: New branch of NSIS, NSIS(lch), with new functionality!" />

  <title>Announcement: New branch of NSIS, NSIS(lch), with new functionality! - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Announcement: New branch of NSIS, NSIS(lch), with new functionality!</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=60285">Announcement: New branch of NSIS, NSIS(lch), with new functionality!</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">18th September 2001 09:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Announcement: New branch of NSIS, NSIS(lch), with new functionality!</strong><br />
      NSIS(lch) is a variant of the NSIS installer we all know and love. I've hacked in a bunch of new functionality for a project I needed, and because my bosses are swell guys, I've made the changes available to you!<br />
      <br />
      <font color="indigo"><font size="4"><b>Frequently Asked Questions about NSIS(lch):</b></font></font><br />
      <br />
      (Or, questions that <i>would</i> be frequently asked, if anyone cared.)<br />
      <br />
      <font color="indigo"><b>What's different about NSIS(lch)?</b></font><br />
      <br />
      There are a total of ten new script elements.<br />
      <br />
      Two new "attributes": <font face="courier">BrandingText</font> and <font face="courier">ReserveFreeSpace</font>.<br />
      <br />
      Three new callback functions: <font face="courier">.onExit</font>, <font face="courier">.onInsufficientSpaceInstDir</font>, and <font face="courier">.onSufficientSpaceInstDir</font>.<br />
      <br />
      And five new functions: <font face="courier">BroadcastMessage</font>, <font face="courier">CallExtensionDll</font>, <font face="courier">DebugBreak</font>, <font face="courier">ExitWindows</font>, and <font face="courier">SetDialogText</font>.<br />
      <br />
      I put the full documentation up here:<br />
      <br />
      <a href="http://www.midwinter.com/~funkster/nsislch.html" target="_blank">http://www.midwinter.com/~funkster/nsislch.html</a><br />
      <br />
      Of course, it's also included in the installer.<br />
      <br />
      <font color="indigo"><b>What license is NSIS(lch) released under?</b></font><br />
      <br />
      It's licensed under the same license as the original NSIS (the <b>zlib</b> license); however, since I did the work on it on company time, my bosses wanted to retain ownership, so there was a one-line addition to the license to reflect this.<br />
      <br />
      <font color="indigo"><b>Where can I get technical support for NSIS(lch)?</b></font><br />
      <br />
      Ha ha ha! Oh, you kill me. Seriously, post a message on this here Winamp message board, and I (or somebody else) will probably be able to help.<br />
      <br />
      <br />
      <font color="indigo"><b>Where can I get this incredible new thingy, whatever it is? It sounds exciting!</b></font><br />
      <br />
      You bet!<br />
      <br />
      <a href="http://www.midwinter.com/~funkster/nsislch144.exe" target="_blank">http://www.midwinter.com/~funkster/nsislch144.exe</a><br />
      <br />
      :D<br />
      <br />
      <br />
      Seriously, please post here if you find this useful, or whatever. I'm interested in whether or not anybody uses this.<br />
      <br />
      Bon appetit,<br />
      <br />
      <br />
      <i>larry</i></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">18th September 2001 10:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Great, I'm downloadin' now to see what it is like. I hope it is good.<br />
      <br />
      -Duane</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">18th September 2001 10:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Now, after formally downloading it, I have a few questions.<br />
      <br />
      1) I see a DLL file, What is that???<br />
      2) I don't understand the BroadcastMessage tag, what does it do (with out using Programming terms)???<br />
      3) What does LCH mean???<br />
      <br />
      There will be a few more questions when I really get to use the program. But for now, it sounds good.<br />
      <br />
      -Duane</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">18th September 2001 10:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">1) If you're talking about <font face="courier">extdemo.dll</font>, that's a sample "extension DLL" for use with the new <font face="courier">CallExtensionDLL</font> function. It's used in the <b>examplelch.nsi</b> sample NSI script. C programmers can now write DLLs to add new functions to NSIS, without having to hack up the NSIS source.<br />
      <br />
      2) Explaining the <font face="courier">BroadcastMessage</font> function without using programming terms... ain't gonna happen. Don't sweat it, like I said in the documentation, it's not particularly useful for most folks.<br />
      <br />
      3) L C H are my initials.<br />
      <br />
      <br />
      <i>larry</i></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">prodangle</span><br />
      <span class="post-time small text-muted">18th September 2001 17:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Im downloading it now - thanks much ;)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">prodangle</span><br />
      <span class="post-time small text-muted">18th September 2001 17:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">lookin lovely - but the one feature I liked about the Yaga installer was the I agree checkbox. Do you plan to release something that'll let us all use that (or even could you...) if it's difficult making it optional, Id love it even more if it was the only way (although I dont know how others might feel about that :D :D :D )<br />
      <br />
      thanks a lot for releasing what you have anyway</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dTomoyo</span><br />
      <span class="post-time small text-muted">25th September 2001 07:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">:( I can't download it.<br />
      <br />
      DNS error... (at South Korea. Bora.net )<br />
      <br />
      show me the mirror link.<br />
      <br />
      plz...<br />
      <br />
      <br />
      :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Someonebutnotme</span><br />
      <span class="post-time small text-muted">4th October 2001 18:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        my bosses wanted to retain ownership, so there was a one-line addition to the license to reflect this
      </blockquote>Isn't that against the original license agreement?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CraigF</span><br />
      <span class="post-time small text-muted">5th October 2001 00:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">possibly.<br />
      I assume that as the original program is owned by nullsoft, and no agreement has taken place to transfer ownership of said software, then they cannot retain any ownership rights, as they had none in the first place.<br />
      <br />
      Of course, im not one on the legalities of this such stuff.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">5th October 2001 00:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The change to the license is simply the insertion of this line below the existing copyright notice:<br /></p>

      <blockquote>
        Modifications Copyright 2001 Yaga, Inc.
      </blockquote>or words to that effect. I don't have it handy. Anyway, I ran it past our lawyer, and he said it was appropriate and legal and all.<br />
      <br />
      Why sweat it? It's still the zlib license, and you can do with the software whatever you like.<br />
      <br />
      BTW, I know, <a href="http://www.midwinter.com" target="_blank">http://www.midwinter.com</a> is down right now (actually it's up, it's just inaccessible due to a routing scroo-up); I'll get my variant put up somewhere else eventually.<br />
      <br />
      <br />
      <i>larry</i>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">5th October 2001 05:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Are you gonna port the newest version to lch???</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">5th October 2001 07:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">There are exactly two changes from NSIS 1.44 to NSIS 1.45:</p>

      <ul>
        <li>Made exehead explicitly call InitCommonControls() for potential XP bugfix.</li>

        <li>Fixed bug when you hit back and the OK button is disabled.</li>
      </ul>I already found (and fixed) the second one, and the first one is apparently only a "potential" bugfix. But yeah, what the hey, I'll incorporate that fix and kick out a new release in a week or two.<br />
      <br />
      <br />
      <i>larry</i>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Repzilon</span><br />
      <span class="post-time small text-muted">6th October 2001 14:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ExoticMandibles, the InitCommonControls change is just adding #include &lt;commctrl.h&gt; in declarations of exehead\main.c and InitCommonControls(); just after declarations of WinMain function of main.c .<br />
      <br />
      But, NSIS 1.50 released and I will have to update my source code too (based on Edgewize, updated to match 1.45).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">11th October 2001 09:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Since you posted, we got 1.50, and then in quick succession 1.51 - 1.55. I think I'm gonna wait until it's been at lest, oh, two days since a new release before I do my Big Hairy Merge. Besides, the machine I'd post it on has no chance of coming back online 'til next week anyway...<br />
      <br />
      <br />
      <i>larry</i></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">11th October 2001 21:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Once you do your "Big Hairy Merge", Submit it to the NSIS Project House ( I'm the admin :D ). You can read more about it in the thread titled "NSIS Project House Coming Soon..." .<br />
      <br />
      -Duane<br />
      <br />
      P.s. I have to work on the PHP/MySQL Scripting :eek:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">12th October 2001 10:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Updated to 1.55</strong><br />
      I've sync'd up my branch of NSIS to version 1.55. Here's the list of changes from 1.44(lch):</p>

      <ul>
        <li>Removed RequireFreeSpace attribute, as it has been superceded by NSIS's excellent AddSize function.</li>

        <li>Added LicenseExplicitAgree and LicenseAgreeText attributes.</li>

        <li>Added NoSleep attribute/function.</li>
      </ul>Since the <b>www.midwinter.com</b> web server is still down, I've put it up on my personal web server at home. Be kind to my poor DSL line! :) The URL is:

      <blockquote>
        <a href="http://www.funkopolis.com:8080/~lch/nsislch155.exe" target="_blank">http://www.funkopolis.com:8080/~lch/nsislch155.exe</a>
      </blockquote>(You can thank Pacific Bell DSL for that :8080 crap. They've blocked everybody's port 80 following the recent Nimda / CodeRed worms, sigh.)<br />
      <br />
      Oh, and DuaneJeffers: You'll be happy to know that 1.55(lch) has the checkbox for the license agreement. Please feel free to put it on yer <i>Der NSIS Projekt Haus</i> web page thingy.<br />
      <br />
      <br />
      <i>larry</i>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">13th October 2001 02:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Do you have a SourceForge Unix (login) Name??? I can add you to the project.<br />
      <br />
      -Duane</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">13th October 2001 17:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have added NSIS(lch) v. 1.55 to the following page<br />
      <a href="http://sourceforge.net/projects/nsisphouse" target="_blank">http://sourceforge.net/projects/nsisphouse</a> .<br />
      <br />
      -Duane</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">prodangle</span><br />
      <span class="post-time small text-muted">15th October 2001 01:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Re: Updated to 1.55</strong><br /></p>

      <blockquote>
        <i>Originally posted by ExoticMandibles</i><br />
        <b>I've sync'd up my branch of NSIS to version 1.55. ......</b>
      </blockquote>The uninstaller in NSISlch1.55 doesn't seem to work (or at least not on my either my win95, or WinXP system)<br />
      <br />
      Scripts compile fine, as with NSIS 1.55 and 1.57 (official) but when I compile with NSISlch the Uninstaller always crashes with Unhandled exception in blah.exe: 0xC0000005: Access Violation as soon as I run it<br />
      <br />
      I've tried commenting out differant sections of the uninstaller, but I can't narrow it down to a certain command that stops it from working. Can anyone else confirm the Uninstaller NSISlch155 creates doesn't work, or am I just missing something?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">15th October 2001 11:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry to hear it. I haven't seen it go by.<br />
      <br />
      Could you make a tiny test case and send it to me / post it here? My email address is larry at hastings dot org.<br />
      <br />
      <br />
      <i>larry</i></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">15th October 2001 15:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">By the way: another user sent me email directly pointing out that the <b>examplelch.nsi</b> installer crashes immediately with 1.55(lch). That's because I included an older version of <b>extdemo.cpp</b>, which used a prototype extension DLL interface (which was radically different), and that was the version I built <b>extdemo.dll</b> from.<br />
      <br />
      This is fixed, along with the (minor) bug of specifying the now-no-longer-defined <b>ReserveFreeSpace</b>. I was lazy and didn't create a new file, I just called it the same thing: <a href="http://www.funkopolis.com:8080/~lch/nsislch155.exe" target="_blank">http://www.funkopolis.com:8080/~lch/nsislch155.exe</a><br />
      <br />
      If you care about <b>extdemo.dll</b> or <b>examplelch.nsi</b>, you should grab a fresh copy. Apart from that, the distribution is the same, and by not downloading a second copy you spare my poor DSL line :)<br />
      <br />
      Enjoy,<br />
      <br />
      <br />
      <i>larry</i></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">prodangle</span><br />
      <span class="post-time small text-muted">15th October 2001 17:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I've zipped up the files+script, and a copy of the installer created on my machine. It's at <a href="http://septor.screaming.net/massive_nsislch155_testcase.zip" target="_blank">http://septor.screaming.net/massive_...5_testcase.zip</a> if you want to take a look. (It's not that massive, only 223k :) )<br />
      <br />
      Also, I should mention, I haven't tested it with NSIS155 (I thought I had, but I've only got 154, 156 and 157 here). The uninstaller created does work when created by NSIS154, 156 or 157 though.<br />
      <br />
      Thanks a lot.<br />
      <br />
      calum</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ExoticMandibles</span><br />
      <span class="post-time small text-muted">15th October 2001 18:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Fixed it! And, it turns out, the uninstall <i>was</i> broken for everybody. Sigh. Sorry about that.<br />
      <br />
      Once again, in my neglectful slacker ways, I just cut a new installer with the same name and all:</p>

      <blockquote>
        <a href="http://www.funkopolis.com:8080/~lch/nsislch155.exe" target="_blank">http://www.funkopolis.com:8080/~lch/nsislch155.exe</a>
      </blockquote>You can tell the difference, as this one is 1,233,774 bytes, was released today (Oct 15), and doesn't crash 100% of the time in the uninstaller.<br />
      <br />
      For the record: it was my bug, in the quickly-hacked-together <b>SleepBetweenStatements</b> code. When installing, it needs to look in the <i>install</i> header; when <i>uninstalling</i> it needs to look in the <i>uninstall</i> header, as the install header is invalid. My previous code always looked in the install header, and that's why it crashed.<br />
      <br />
      Sheepishly,<br />
      <br />
      <br />
      <i>larry</i>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">prodangle</span><br />
      <span class="post-time small text-muted">15th October 2001 19:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Brilliant - works beautifully now. Thanks :p</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
