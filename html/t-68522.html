<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="suggestion of localization" />

  <title>suggestion of localization - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">suggestion of localization</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=68522">suggestion of localization</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">hotice</span><br />
      <span class="post-time small text-muted">13th December 2001 00:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>suggestion of localization</strong><br />
      I found most of the strings that shown in detail view is in exehead\exec.c<br />
      could you use a xx.h file to define those words that people only need to modify the xx.h to localize makensis.<br />
      for example,<br />
      xx.h<br />
      #define WAITMSG "Wait..."<br />
      .....<br />
      exec.c<br />
      ....<br />
      case EW_SLEEP:<br />
      {<br />
      int x=process_string_fromtab_toint(parms[0]);<br />
      if (x &lt; 1) x=1;<br />
      //update_status_text("Wait...",""); //OLD<br />
      update_status_text(WAITMSG,""); //NEW<br />
      log_printf2("Sleep(%d)",x);<br />
      Sleep(x);<br />
      }<br />
      .....</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">F. Heidenreich</span><br />
      <span class="post-time small text-muted">13th December 2001 10:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hotice, I agree with you - it would be very nice to have an option to localize NSIS :).<br />
      But I think the better way is to build new commands like SetDetailsCompress, SetDetailsExecute, SetDetailsSleep, ... to give the user who is not familiar with compiling his own localized NSIS-version also the chance to build an localized installer.<br />
      With this method you could include a german.nsh, a romania.nsh or a french.nsh to have a fully localized installer :D<br />
      <br />
      Regards,<br />
      ~ Florian</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">hotice</span><br />
      <span class="post-time small text-muted">14th December 2001 00:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>To F. Heidenreich</strong><br />
      I thinak to add new commands will increase the exehead size and need to modify source code much.<br />
      we could add a series of #ifdef/#endif statement in exehead/config.h<br />
      such as<br />
      #ifdef GER_LANG<br />
      #include "german.h"<br />
      #endif<br />
      then add a line<br />
      #define GER_LANG at the top of exehead/config.h<br />
      It's more flexible.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">justin</span><br />
      <span class="post-time small text-muted">14th December 2001 03:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Good idea, I'll do this for 1.9a3 or whatever comes next. And I'll start making it more possible to have multiple languages per installer... i.e.<br />
      <br />
      Language English<br />
      ... define all of the language strings<br />
      ComponentText ...<br />
      LicenseText<br />
      LicenseData<br />
      ButtonText...<br />
      LanguageEnd<br />
      <br />
      <br />
      Language Espanol<br />
      ... define spanish translations<br />
      ComponentText ...<br />
      LanguageEnd<br />
      <br />
      <br />
      <br />
      <br />
      etc. Then have a dialog that comes up at the beginning that prompts the user for which one they want to use. And you could customize your own messages by having a $LANGUAGE variable, that is the name of the current language, that way you could do things like:<br />
      <br />
      <br />
      StrCpy $0 "Do you want to pee?"<br />
      StrCmp $LANGUAGE english notspanish<br />
      StrCpy $0 "Quieres hacer pe?"<br />
      notspanish:<br />
      <br />
      MessageBox MB_YESNO $0 IDNO no<br />
      Pee<br />
      no:<br />
      <br />
      etc.<br />
      The nice thing is that if done right, you could disable multiple language functionality altogether from config.h, without a size penalty. Adding this would increase the exehead size by maybe 2kb at most.<br />
      <br />
      As far as implementation, you could have a language specific string structure that would have all of the strings from the install/uninstall headers and common header that are relevant. I guess making the uninstaller smart would require the installer to save the language from the registry, and allow the uninstaller to query it (as well as allow upgrades of the installer to query it so they don't needlessly prompt the user). Anyhoo....<br />
      <br />
      -Justin</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">F. Heidenreich</span><br />
      <span class="post-time small text-muted">14th December 2001 07:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is what I have always dreamed of. :D<br />
      <br />
      Thanks Justin for this very positive response!<br />
      <br />
      ~ Florian</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
