<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Compression Methods"><title>Compression Methods - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Compression Methods</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=109587">Compression Methods</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Freeman II</span><br><span class="post-time small text-muted">13th October 2002 00:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Compression Methods</strong><br>- Is there any other compression methods available for NSIS besides zlib or bz2?<br><br>- if not how can we add other compression methods? (hope it's not too complicated)<br><br>- my last question is not NSIS related. What is the best compression method out there? personaly i think winace is the smallest.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">13th October 2002 10:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">personally i use <a href="http://www.rarlabs.com" target="_blank">rar</a>. the discussion was on before, rar for instance has to licensed to be integrated into nsis . i guess its a similiar issue with ace.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">13th October 2002 11:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">kichik is working on the integration of LZMA compression (<a href="http://www.7-zip.org" target="_blank">www.7-zip.org</a>), which is about 25% smaller than BZip2 for me.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Koen van de Sande</span><br><span class="post-time small text-muted">13th October 2002 11:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">LZMA sounds cool enough :D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Netsabes</span><br><span class="post-time small text-muted">13th October 2002 13:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Wow, LZMA compression is really good (even if it's a bit slow).<br>Will this be integrated anytime soon in NSIS (say, before beta0 is released)?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">13th October 2002 13:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Netsabes</i><br><b>Wow, LZMA compression is really good (even if it's a bit slow).<br>Will this be integrated anytime soon in NSIS (say, before beta0 is released)?</b></blockquote>Compression is a bit slower of course, but decompression is fast. It won't be integerated in beta 0, but I hope that kichik will have it ready soon. :)</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">13th October 2002 14:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">if i remember correctly, winrar's documentation describes how to compress using the rar-algorithm using winrar's very own .dll. this should at least let registered (and trial) users of winrar use rar compression. i'm not sure about legal issues, but that should be documented aswell. this could leave the option to winrar users to compress using rar.<br><br><a href="http://www.rarlabs.com" target="_blank">(Win)RAR Homepage</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">13th October 2002 14:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you want to use another compression method, it's always possible to use DLL's, but integration in NSIS makes it much easier.<br><br>Integrating RAR won't be very useful, because LZMA compresses much better.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Lion King</span><br><span class="post-time small text-muted">13th October 2002 17:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">rar.dll is only for decompression, you'd have to buy rar to compress the data, not to mention the big overhead in the installer because of that dll<br>using the unrar source code which is available at <a href="http://www.rarlabs.com" target="_blank">www.rarlabs.com</a> would be better, additionally you'd have to build an interface to winrar.exe into makensis<br>unace sources aren't available afaik<br><br>lzma doesn't always compresses better than rar, because rar has special compression schemes for multimedia files, images or text files (ppmd) buildin<br><br>anyway I vote for using only opensource compression algorythms in nsis</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">G3NeRiX</span><br><span class="post-time small text-muted">13th October 2002 17:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">rar is better then zip. Go with rar, my friend.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">13th October 2002 18:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have tested a lot of files (executables, graphics, text etc.), LZMA always gives me better results than RAR.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Lion King</span><br><span class="post-time small text-muted">13th October 2002 22:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">did you test rar 3.0?<br>and 7z? 7-zip also has ppmd implemented which is not part of lzma, ppmd is responsible for good compression of text files<br>7z uses multiple algorithms: <a href="http://www.7-zip.org/7z.html" target="_blank">http://www.7-zip.org/7z.html</a> but it doesn't have special treatment for multimedia files yet<br><br>or did you force 7zip to use only lzma compression?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">13th October 2002 22:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I used only the LZMA compression of 7-zip and RAR 3.0. I didn't use that many text files, maybe PPMD is a little better for 'em, but most software packagers don't have many text files.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Netsabes</span><br><span class="post-time small text-muted">16th October 2002 18:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Speaking of compression:<br><br>If you use the bzip2 compression, you should try to pack your installer with UPX (<a href="http://upx.sf.net/" target="_blank">http://upx.sf.net/</a>). Without it, you have to wait for the installer to have uncompressed the data (it's a bit slow because of bzip2), but with UPX, the installer is shown instantly.<br><br>This is very useful if you have a big installer (and if it takes some time to uncompress) :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">16th October 2002 18:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Huh? What does UPX has to do with bzip2 compression?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Netsabes</span><br><span class="post-time small text-muted">16th October 2002 19:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hmm, I must be dumb, it works without UPX too. Did you update the bzip2 code between a7 and the current cvs? I suppose it must be that.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">16th October 2002 19:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, some bugs have been fixed in the CVS version that caused it to load slower.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">shantanu_gadgil</span><br><span class="post-time small text-muted">17th October 2002 15:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Could we get some method of a "degree of compression" versus "speed" facility.<br><br>Say, if we compress the stuff with a compression level of say 5/9 then we have a trade off between size and speed.<br><br>I don't know whether different levels are possible in zlib2, bzip or lzma, but RAR does, so hey, go RAR ! :D<br><br>- Shantanu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">shantanu_gadgil</span><br><span class="post-time small text-muted">17th October 2002 15:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think decompression speed is also very important. I forgot to mention in the previous post... Why not ZIP ?<br><br>- Shantanu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">17th October 2002 15:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ZIP gives very bad compression ratio's.<br><br>LZMA decompressses fast :D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">17th October 2002 16:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can change BZip2 compression ratio in config.h and recompile.<br><br>LZMA is free, RAR is not. LZMA can be integrated into NSIS, RAR will have to use an external program to compress and decompress (149KB DLL or implemented source). LZMA is already being implemented into NSIS. RAR is not free. Joost have tested a lot and says LZMA compresses better than RAR. To compress with RAR one will have to buy it and install it after he installs NSIS. Have I mentioned RAR is not free?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Freeman II</span><br><span class="post-time small text-muted">17th October 2002 17:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">where can i get NSIS with LZMA intergrated?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">17th October 2002 17:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>LZMA is already <b>being</b> implemented into NSIS.</blockquote>It is not ready yet. I am working on it ;)</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Freeman II</span><br><span class="post-time small text-muted">17th October 2002 17:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n0On3</span><br><span class="post-time small text-muted">17th October 2002 18:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">so, LZMA compresses better than RAR? And ACE?<br><br>I remember I tried 7-zip with disappointing results.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">17th October 2002 19:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Are you sure you compressed using 7z and not Zip?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">17th October 2002 19:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The 7z format (which uses LZMA) is quite new (last version I think).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n0On3</span><br><span class="post-time small text-muted">18th October 2002 01:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I am sure I used 7z format and not zip.<br>The version I used was 7-Zip v2.30 beta 19, from the end of May 2002.<br>Now, I am going to download again and test.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rainwater</span><br><span class="post-time small text-muted">18th October 2002 02:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by n0On3</i><br><b>I am sure I used 7z format and not zip.<br>The version I used was 7-Zip v2.30 beta 19, from the end of May 2002.<br>Now, I am going to download again and test.</b></blockquote>The comparison should be to zlib and bzip2. Rar and Ace are not free therefore are not available. Based on what I've been told, for a larger number of files, lzma is even better than zlib and bzip2.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Player 1</span><br><span class="post-time small text-muted">19th October 2002 04:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">UPX is an EXE compressor<br><a href="http://upx.sourceforge.net/" target="_blank">http://upx.sourceforge.net/</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">shantanu_gadgil</span><br><span class="post-time small text-muted">19th October 2002 13:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">OK, now I understand why NOT RAR... :up:<br><br>What I was saying about the compression level is that, how about an option to set the compression level (say CompressionLevel ?) from within the script<br><br>One more thing..._WHATEVER_ compression algorithm you guys use pleeease use whichever one is FREE :) !!!<br><br>- Shantanu</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>