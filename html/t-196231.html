<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Escaped quotes working inconsistantly" />

  <title>Escaped quotes working inconsistantly - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Escaped quotes working inconsistantly</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=196231">Escaped quotes working inconsistantly</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">BarryB</span><br />
      <span class="post-time small text-muted">10th October 2004 22:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Escaped quotes working inconsistantly</strong><br />
      I had sucessfully used the section description text of:<br />
      <br />
      !insertmacro MUI_DESCRIPTION_TEXT ${Section1} "If $\"GNU tar$\" is checked, the installer for GNU tar (Windows version) will be executed when you click $\"next$\"."<br />
      <br />
      without getting an error, but then I inserted it in a different location, and now the escaped quotes in the line above give me the error:<br />
      <br />
      SendMessage expects 4-6 parameters, got 34.<br />
      Usage: SendMessage hwnd message [wparam|STR:wParam] [lparam|STR:lParam] [$(user_var: return value)] [/TIMEOUT=X]<br />
      Error in macro MUI_DESCRIPTION_TEXT on macroline 8<br />
      Error in script "C:\Program_Files_2\EZ_TAR_INSTALLER.nsi" on line 96 -- aborting creation process<br />
      <br />
      Line 96 is the line with the escaped quotes. If I replace the escaped quotes with single quotes, it works. I don't remember if I used the text with the !insertmacro instruction before, but I know I somehow got the escaped-quotes version to work when hovering over an item in the component menu, with no error.<br />
      <br />
      No big deal to use the single quotes, but it made me waste some time, so incase it's a bug, I figured I'd mention it.<br />
      <br />
      This happened with "Compile and run" in HM NIS Edit, but I'm assuming it's a NSIS problem.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">11th October 2004 09:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I recommend you use e.g. 'hello my name is "bobo"'<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">BarryB</span><br />
      <span class="post-time small text-muted">22nd October 2004 06:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That worked for that case, but needed to use quotes in a different part of the script and the only quoting that worked was the following (I put backslashes between the dollar signs and the single quotes, but they don't show in this post):<br />
      <br />
      !insertmacro MUI_DESCRIPTION_TEXT ${GNU_tar}'Check box next to $'GNU tar and EZ tar$' to install EZ TAR and execute the GNU tar installer. EZ TAR requires a separate, command line tar utility such as GNU tar.'<br />
      <br />
      When I replaced the escaped single quotes with double quotes, I got the following error (whether or not I escaped the double quotes):<br />
      <br /></p>

      <blockquote>
        !insertmacro: MUI_DESCRIPTION_TEXT<br />
        SendMessage expects 4-6 parameters, got 32.<br />
        Usage: SendMessage hwnd message [wparam|STR:wParam] [lparam|STR:lParam] [$(user_var: return value)] [/TIMEOUT=X]<br />
        Error in macro MUI_DESCRIPTION_TEXT on macroline 8<br />
        Error in script "C:\123123123.nsi" on line 77 -- aborting creation process
      </blockquote>I just realized that I put the dollar sign before the backslash instead of after by accident, but that's the only way the quotes don't give me an error! Maybe there's a bug in NSIS due to a backslash being before the dollar sign, allowing my bug to work by accident.<br />
      <br />
      Yikes! The dollar sign does before the backslash to represent characters like newlines, according to 4.2.4 Constants Used in Strings, but the dollar sign goes after the backslash when escaping a quote, according to 2.2 Script Files. Error in the documentation?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">22nd October 2004 12:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by BarryB</i><br />
        <b>Yikes! The dollar sign does before the backslash to represent characters like newlines, according to 4.2.4 Constants Used in Strings, but the dollar sign goes after the backslash when escaping a quote, according to 2.2 Script Files. Error in the documentation?</b>
      </blockquote>Thanks, fixed the error. It should be $\" not \$".
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">22nd October 2004 18:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i'd rather use the following code:<br /></p>
      <pre>
<code>!insertmacro MUI_DESCRIPTION_TEXT ${GNU_tar} <font color="red">'</font>Check box next to <font color="red">"</font>GNU tar and EZ tar<font color="red">"</font> to install EZ TAR and execute the GNU tar installer. EZ TAR requires a separate, command line tar utility such as GNU tar.<font color="red">'</font></code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">BarryB</span><br />
      <span class="post-time small text-muted">22nd October 2004 19:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Comm@nder21, that's the first thing I tried. Same error. Turns out that I won't be quoting anything anyway. I'd like to mention what the description refers to and put it in quotes, but my new description would get truncated because it's too long.<br />
      <br />
      I wish there was a way to resize the description area. Is there?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">24th October 2004 14:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, you can use a custom interface resource file (see MUI_UI in the Modern UI Readme).</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
