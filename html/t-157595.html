<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="can lzma compress files individually rather than compress ALL"><title>can lzma compress files individually rather than compress ALL - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">can lzma compress files individually rather than compress ALL</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=157595">can lzma compress files individually rather than compress ALL</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">myne</span><br><span class="post-time small text-muted">25th November 2003 23:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>can lzma compress files individually rather than compress ALL</strong><br>Basically it comes down to the temp space requirement.<br>bzip requires 2x the output size to install - half of that is used for temp files.<br>lzma is the same.<br><br>The other plain style compression seems to compress and extract each file individually meaning that only the total + the size of the largest file is needed in the worst case.<br>That one is much easier for large installs. There are many users that struggle to find 2gig free which means we ended up having to trade download size for temp usage. 40mb extra to download (540mb) but it didnt require much overhead in temp space.<br><br>I am hoping there's a way to enable lzma to compress each file individually and then add it to the install archive. imho there should be a minimal loss of compression and minimal overheads without the requirement for 2x install size free.<br><br>I'd appreciate you guys consider this.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">26th November 2003 07:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">LZMA gives the best results when using solid compression. However, you can recompile NSIS without solid compression for LZMA (see config.h).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">myne</span><br><span class="post-time small text-muted">26th November 2003 08:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks, however I am not exactly comfortable with recompiling the exe.<br><br>Is there a possibility for a future build to have this function?<br><br>Say :<br>SetCompressor lzmafull ; requires 1x the total output size for temp space - all files are bundled and then compressed as a whole<br>Or,<br>SetCompressor lzmasafe ; loses a bit of compression for lower temp requirements - each file is individually compressed and THEN archived<br><br><br>I'd really appreciate, and I'm sure others would, if you could do something similar to this. I wouldnt expect much more than a 5% loss of compression using the individual option</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">26th November 2003 12:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">That is a planned feature. But you shouldn't worry about recompiling as long as you follow the exact instructions in the documentation.<br><br>As for the %5 precent loss, I wouldn't count on it being that low...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">myne</span><br><span class="post-time small text-muted">26th November 2003 19:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks :)</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>