<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="NSIS - Cookie - inetc ?!"><title>NSIS - Cookie - inetc ?! - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">NSIS - Cookie - inetc ?!</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=327411">NSIS - Cookie - inetc ?!</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">phnz</span><br><span class="post-time small text-muted">16th February 2011 12:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>NSIS - Cookie - inetc ?!</strong><br>Hello<br><br>I would like to set a cookie with NSIS to confirm the installation with a php script.<br><br>I read the wiki, i found a little thread but it's not verry usefull...<br><a href="http://nsis.sourceforge.net/Show_installation_success_on_web_page" target="_blank">http://nsis.sourceforge.net/Show_ins...ss_on_web_page</a><br><br>I try to access to the confirmation page with inetc::get (to be silent)<br><br>My php don't see any cookie...<br>I also track-it with Wireshark and no cookie in the header...<br><br></p><pre>
<code><br>System::Call "wininet::InternetSetCookie("http://app.domain.com/download.php", "title", "aaa=ddd; expires = Wed, 30-May-2012 09:21:15")     <br><br>inetc::get /SILENT "http://app.domain.com/download.php" "$PLUGINSDIR\CORE.exe" /end<br></code>
</pre><br>
      <br>
      Thanks everyone !<br>
      <br>
      Sincerly,<br>
      Dave
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">16th February 2011 13:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Without looking at the code, inetc probably doesn't read the IE cookies (I doubt people would want that by default). I wouldn't be surprised if it doesn't save cookies from requests either. Why do you need to use a cookie? Can't you just use POST?<br>
      <br>
      Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">phnz</span><br>
      <span class="post-time small text-muted">16th February 2011 15:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I need to use a Cookie for validate. It's built-in.<br>
      <br>
      So i'll need to use another way? Build my own installer with VS ?<br>
      <br>
      Thanks</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br>
      <span class="post-time small text-muted">16th February 2011 19:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you do not have control over the php script, you could build your own plugin to handle the cookiejar, I'm sure. Or you let the user download the file to $EXEDIR manually, or something...</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">16th February 2011 22:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Or you could modify inetc to suite. It uses WinInet.<br>
      <br>
      Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br>
      <span class="post-time small text-muted">17th February 2011 17:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try version from 13 July 2010 - JohnTHaller modified Inetc (Disabled cookies and cache for cleanliness). I partly rolled this back for situations with Resume option enabled (because it just not work with flags added by JohnTHaller, but it looks like would be better just to rollback to this version. Afrow, can you remove last 2 versions? <a href="http://nsis.sourceforge.net/File:Inetc.zip" target="_blank">http://nsis.sourceforge.net/File:Inetc.zip</a></p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">17th February 2011 18:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Done.<br>
      <br>
      Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br>
      <span class="post-time small text-muted">18th February 2011 08:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Good version from 13 July 2010 was removed :(. NP, I added /NOCOOKIES option (disabled by default) and only this option does what JohnTHaller wanted to have ;). New version uploaded. By default (no this option defined) our old good inetc will have reget feature and will send cookies as earlier. Again - please note that /NOCOOKIES conflicts with reget!. Wiki page updated.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>