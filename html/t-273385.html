<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="drivers install" />

  <title>drivers install - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">drivers install</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=273385">drivers install</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ramses123</span><br />
      <span class="post-time small text-muted">25th June 2007 15:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>drivers install</strong><br />
      hi,<br />
      <br />
      could anybody please tell me how to proceed if i want to install drivers on e.g. WinXP and i have folowing files available:<br />
      <br />
      - *.cat<br />
      - *.inf<br />
      - *.sys<br />
      <br />
      the drivers should be preinstalled, so when the user attach the hardware to the laptop the drivers should be installed without user interaction. The installation is indicated in the ballon messages in the taskbar. Also the pre-installation procedure should be not visible for the user (only the progress on installation).<br />
      <br />
      the more precise questions are:<br />
      - where to copy this files<br />
      - what registry keys must be set and how<br />
      - any other steps to do...<br />
      <br />
      maybe an plug in that handle these steps automatically ?<br />
      <br />
      thanks a lot !<br />
      <br />
      br<br />
      ramsi</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2007 15:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Have you searched this forum?<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">vc6</span><br />
      <span class="post-time small text-muted">25th June 2007 16:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ramsi, I had a very similar question not long ago. You can read all about it here:<br />
      <br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=273261" target="_blank">http://forums.winamp.com/showthread....hreadid=273261</a><br />
      <br />
      forums.winamp.com/showthread.php?s=&amp;threadid=273261<br />
      <br />
      Basically, it all boils down to using Microsoft's DPInst.<br />
      <br />
      HTH,<br />
      Victor</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">vc6</span><br />
      <span class="post-time small text-muted">25th June 2007 20:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Another possibility, if you're in a hurry, is to use Microsoft's DevCon (devcon.exe).<br />
      <br />
      You can read all about it here (and download it, too):<br />
      <br />
      <a href="http://msdn2.microsoft.com/en-us/library/ms792824.aspx" target="_blank">http://msdn2.microsoft.com/en-us/library/ms792824.aspx</a><br />
      msdn2.microsoft.com/en-us/library/ms792824.aspx<br />
      <br />
      The most useful commands for me are:<br />
      <br />
      devcon install &lt;hardwareid&gt;<br />
      devcon install &lt;.inffile&gt; &lt;hardwareid&gt;<br />
      <br />
      <br />
      Good luck!<br />
      Victor</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ramses123</span><br />
      <span class="post-time small text-muted">26th June 2007 08:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thanks a lot guys !<br />
      i will check this and will come back to you if something is going wrong :up:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ramses123</span><br />
      <span class="post-time small text-muted">29th June 2007 22:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">after reading a lot about devcon and install drivers i assume that this issue is not a easy one.<br />
      it would be very helpful for me if you can post some code examples of how to integrate the devcon in the nsis (special call to @vc6).<br />
      and yes, it must work on W2K, XP and Vista (32/64bit)<br />
      <br />
      thank you!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">demiller9</span><br />
      <span class="post-time small text-muted">29th June 2007 23:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Before you get too deep into using Devcon, please note that Microsoft says it is not redistributable. (First sentence in 'More Information' here <a href="http://support.microsoft.com/kb/311272/" target="_blank">http://support.microsoft.com/kb/311272/</a> )</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ramses123</span><br />
      <span class="post-time small text-muted">29th June 2007 23:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">great news :-(<br />
      and how it is possible then to install drivers with nsis ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ramses123</span><br />
      <span class="post-time small text-muted">29th June 2007 23:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">something found again about SetupCopyOEMInf but no idea how to integrate this into nsis...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CancerFace</span><br />
      <span class="post-time small text-muted">30th June 2007 15:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you got as far as SetupCopyOEMInf you have probably seen <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=269865" target="_blank">this</a> thread and <a href="http://nsis.sourceforge.net/Driver_installation_and_update" target="_blank">this</a> wiki page. Between the two you can get an idea of what you need to come up with using the System plugin to call <a href="http://msdn2.microsoft.com/en-us/library/aa376990.aspx" target="_blank">SetupCopyOEMInf</a> and <a href="http://msdn2.microsoft.com/en-us/library/ms792968.aspx" target="_blank">UpdateDriverForPlugAndPlayDevices</a> to get your driver installed.<br />
      <br />
      If you have an MSDN subscription you can download the windows driver kit (WDK) according to <a href="http://www.microsoft.com/whdc/DevTools/WDK/WDKpkg.mspx" target="_blank">MS</a><br />
      It contains Devcon along with its source code. You can then look at the APIs used and either create a plugin for NSIS or use the System plugin to call those APIs.<br />
      <br />
      Alternatively you can download the <a href="http://www.microsoft.com/whdc/devtools/ddk/default.mspx" target="_blank">DDK</a> (Windows Driver Development Kit) which also includes information about installing devices and drivers.<br />
      <br />
      Also check my post on <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=270024" target="_blank">this</a> thread. The Driver Install Frameworks Tools (which can be downloaded from <a href="http://www.microsoft.com/whdc/driver/install/DIFxtls.mspx" target="_blank">this</a> page) contains detailed description of the APIs needed to go through an installation of a device, but you would still need to translate those API calls to System plugin commands in NSIS (look for the documentation of DIFxAPI within the MSI file).<br />
      <br />
      Hope this helps<br />
      <br />
      CF</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
