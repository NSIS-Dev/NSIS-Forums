<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Download system"><title>Download system - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Download system</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=273904">Download system</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">DBE</span><br><span class="post-time small text-muted">5th July 2007 10:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Download system</strong><br>Hi guys,<br><br>I was wondering if I could use NSIS to create some sort of download-system.<br><br>At this moment, I'm the administrator of a database, 10 GB in size (all PDF documents). This database is very important for certain people in our company.<br><br>Can NSIS do some incremental updates? What I mean is, users launch an .exe-file, which connects over a secure connection towards a File Server, and downloads the files which are connected to this user's profile.<br><br>What I need is:<br>- User authentication<br>- Secure transfer<br>- Incremental updates (if a file is already on the HDD of the employee, it doesn't need to be downloaded again, except if there's an update of this file)<br>- Some sort of logging<br>- The ability to delete files on the HDD of the employee.<br><br>Can anyone give me some answer to this project.<br><br>Thanks in advance.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">5th July 2007 11:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Have you seen InetC plugin?<br><br><a href="http://nsis.sourceforge.net/Inetc_plug-in" target="_blank">http://nsis.sourceforge.net/Inetc_plug-in</a><br><br>That has a lot of advanced abilities and as far I can say you may contact Takhir plugin's author to discuss about it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DBE</span><br><span class="post-time small text-muted">5th July 2007 12:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi m8, thanks for the nice reply...<br>This plugin is really useful.<br><br>I just can't seem to figure out how to work with user profiles considering the download of the files...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">5th July 2007 12:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ftp ls not implemented and I have not plan for this, but http server can send directory listing if path is a dir or script with path parameter (with possible .httaccess RewriteRule tricks). I see following steps:<br>1. configure http server.<br>2. write NSIS script requesting user's dir content and parsing server' reply (html is better for compatibility). May be good to have files versions in this list (or sizes at least). Authentication and https are not a problem, see inetc examples.<br>3. in the same loop compare files in list with local files list and download file/update if need. May be you can use these files http headers first to check version.<br>Unfortunately I have not time to write this, but looks not too complex...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">DBE</span><br><span class="post-time small text-muted">5th July 2007 14:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Takhir,<br><br>Thanks for the quick reply.<br><br>Unfortunately, I'm not a real programming guy... I know something about Web Scripting and a little bit about VB, but that's it.<br><br>Your explanation is helping me a bit, but could you provide me with some more information? I'm currently reading the NSIS documentation to understand the programming a bit more.<br><br>Sorry for being such a n00b, but hey that's where everybody had to start! ;)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">5th July 2007 22:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You'll need to write a PHP/Perl/JSP/ASP/whatever script to generate a list of files and possibly have their MD5 checksums as well. InetC can download the output of server executables just like any old plain text file then you can read from them in your NSIS script.<br><br>Possible ways of reading from them would be using FileOpen, ReadINIStr (INI files) and using one of the XML plugins (XML files).<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">chivalri</span><br><span class="post-time small text-muted">6th July 2007 17:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I maintain an ini file on the server that has all of the file version information in it and have my installer download the ini first to compare with the installed files to determine if an update is necessary.<br>This works out well for me and I did not have to use any code other than NSIS; however, I do need to manually maintain the ini file which for me is not that hard since we don't have more than 2 or 3 changes each week.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>