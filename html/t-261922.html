<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Install Options: Save Question"><title>Install Options: Save Question - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Install Options: Save Question</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=261922">Install Options: Save Question</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Chieftec</span><br><span class="post-time small text-muted">17th December 2006 03:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Install Options: Save Question</strong><br>Hi,<br><br>i am searching for the easiest way to save the data in the Labels and restore them while switching between the boxes.<br>My Custom Page:<br><br><a href="http://img347.imageshack.us/img347/3005/shot00243uj2.jpg" target="_blank">http://img347.imageshack.us/img347/3...ot00243uj2.jpg</a><br><br>Every Checkbox on the left side have their own labels.<br>I hope I have expressed myself clearly enough and you understand what I mean.<br><br>Thanks in advance</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">17th December 2006 16:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I'm not really sure if I got your point.<br>Compile and examine the code below to see if it could help you do what you're looking for.<br></p><pre>
<code><font color="blue">outfile 'CheckboxNotify.exe'<br>showinstdetails show<br>licenseData '${NSISDIR}\License.txt'<br><br>!define NOCHECKED_TEXT 'Please select a checkbox'<br><br>!include WinMessages.nsh<br>!include LogicLib.nsh<br><br>page license<br>page custom CustomCreate CustomLeave<br>page instfiles<br><br>section -<br><br>sectionend<br><br>function .onInit<br>initpluginsdir<br>gettempfilename $0<br>rename $0 '$PLUGINSDIR\custom.ini'<br>call WriteIni<br>functionend<br><br>function CustomCreate<br>push $R1<br>InstallOptions::InitDialog /NOUNLOAD '$PLUGINSDIR\custom.ini'<br>pop $R1<br>GetDlgItem $R0 $HWNDPARENT 1<br>EnableWindow $R0 0<br>InstallOptions::Show '$PLUGINSDIR\custom.ini'<br>pop $R1<br>functionend<br><br>function CustomLeave<br>readinistr $0 '$PLUGINSDIR\custom.ini' 'Settings' 'State'<br>${if} $0 == 1<br>readinistr $1 '$PLUGINSDIR\custom.ini' 'Field 1' 'Text'<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 5' 'HWND'<br>readinistr $3 '$PLUGINSDIR\custom.ini' 'Field 1' 'State'<br>${if} $3 == 1<br>SendMessage $2 ${WM_SETTEXT} 1 'STR:$1'<br>GetDlgItem $R0 $HWNDPARENT 1<br>EnableWindow $R0 1<br>${else}<br>SendMessage $2 ${WM_SETTEXT} 1 'STR:${NOCHECKED_TEXT}'<br>GetDlgItem $R0 $HWNDPARENT 1<br>EnableWindow $R0 0<br>${endif}<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 2' 'HWND'<br>SendMessage $2 ${BM_SETCHECK} 0 0<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 3' 'HWND'<br>SendMessage $2 ${BM_SETCHECK} 0 0<br>abort<br>${elseif} $0 == 2<br>readinistr $1 '$PLUGINSDIR\custom.ini' 'Field 2' 'Text'<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 5' 'HWND'<br>readinistr $3 '$PLUGINSDIR\custom.ini' 'Field 2' 'State'<br>${if} $3 == 1<br>SendMessage $2 ${WM_SETTEXT} 1 'STR:$1'<br>GetDlgItem $R0 $HWNDPARENT 1<br>EnableWindow $R0 1<br>${else}<br>SendMessage $2 ${WM_SETTEXT} 1 'STR:${NOCHECKED_TEXT}'<br>GetDlgItem $R0 $HWNDPARENT 1<br>EnableWindow $R0 0<br>${endif}<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 1' 'HWND'<br>SendMessage $2 ${BM_SETCHECK} 0 0<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 3' 'HWND'<br>SendMessage $2 ${BM_SETCHECK} 0 0<br>abort<br>${elseif} $0 == 3<br>readinistr $1 '$PLUGINSDIR\custom.ini' 'Field 3' 'Text'<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 5' 'HWND'<br>readinistr $3 '$PLUGINSDIR\custom.ini' 'Field 3' 'State'<br>${if} $3 == 1<br>SendMessage $2 ${WM_SETTEXT} 1 'STR:$1'<br>GetDlgItem $R0 $HWNDPARENT 1<br>EnableWindow $R0 1<br>${else}<br>SendMessage $2 ${WM_SETTEXT} 1 'STR:${NOCHECKED_TEXT}'<br>GetDlgItem $R0 $HWNDPARENT 1<br>EnableWindow $R0 0<br>${endif}<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 1' 'HWND'<br>SendMessage $2 ${BM_SETCHECK} 0 0<br>readinistr $2 '$PLUGINSDIR\custom.ini' 'Field 2' 'HWND'<br>SendMessage $2 ${BM_SETCHECK} 0 0<br>abort<br>${endif}<br>functionend<br><br>function WriteIni<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Settings' 'NumFields' '5'<br><br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 1' 'Type' 'Checkbox'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 1' 'Left' '2'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 1' 'Top' '2'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 1' 'Right' '100'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 1' 'Bottom' '14'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 1' 'Text' 'Checkbox one'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 1' 'State' '0'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 1' 'Flags' 'NOTIFY'<br><br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 2' 'Type' 'Checkbox'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 2' 'Left' '2'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 2' 'Top' '18'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 2' 'Right' '100'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 2' 'Bottom' '32'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 2' 'Text' 'Checkbox two'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 2' 'State' '0'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 2' 'Flags' 'NOTIFY'<br><br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 3' 'Type' 'Checkbox'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 3' 'Left' '2'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 3' 'Top' '36'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 3' 'Right' '100'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 3' 'Bottom' '50'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 3' 'Text' 'Checkbox three'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 3' 'State' '0'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 3' 'Flags' 'NOTIFY'<br><br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 4' 'Type' 'GroupBox'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 4' 'Left' '30'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 4' 'Top' '70'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 4' 'Right' '-31'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 4' 'Bottom' '120'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 4' 'Text' 'Select Checkbox'<br><br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 5' 'Type' 'Text'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 5' 'Left' '40'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 5' 'Top' '90'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 5' 'Right' '-41'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 5' 'Bottom' '105'<br>WriteIniStr '$PLUGINSDIR\custom.ini' 'Field 5' 'State' '${NOCHECKED_TEXT}'<br>Functionend<br></font></code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Chieftec</span><br>
      <span class="post-time small text-muted">18th December 2006 00:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">First I want to thank you for writing the code for me.<br>
      But unfortunately this isn't what I want to do. But I think I didn't express myself good enough.<br>
      You're reading the text of the checkbox and send it to the label using SendMessage.<br>
      I want to save the text in the labels separate for every checkboxes. I will try to make an example:<br>
      If I type "This is a test 1" into CB_1_1 and "This is a test 2" into CB_1_2 and I select another CheckBox the labels should disappear empty. Now you type some other text into the labels. If I select CB_1 again the text I type in before ("This is a test 1" &amp; "This is a test 2") should be restored.<br>
      <br>
      I hope you understand me now.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">18th December 2006 08:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I understand you :-)<br>
      I believe the provided above code example would help you understand the NOTIFY flag and therefore manage those things that you're looking for. It's just a few steps forward.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>