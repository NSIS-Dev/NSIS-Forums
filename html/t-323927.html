<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="nsExec::Exec bug with specific location?" />

  <title>nsExec::Exec bug with specific location? - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">nsExec::Exec bug with specific location?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=323927">nsExec::Exec bug with specific location?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">proyb2</span><br />
      <span class="post-time small text-muted">10th November 2010 02:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>nsExec::Exec bug with specific location?</strong><br />
      From my testing, I found something amuse with the location that only affected if I use this location, another possibility might be due to the parameter (-n 0) I've passed into the Java would caught the whole process can launch but not responding.<br />
      <br />
      Meant, I tried Java without parameter, it worked! Now we have a bug.<br />
      <br />
      What is the alternative solution?<br />
      <br />
      C:\Users\Wildfire\Adobe Flash Builder 4\TransmissionDemo\bin-debug\java\dev.exe<br />
      <br /></p>
      <pre>
<code><br />!define S_NAME "dev"<br />Name "${S_NAME}"<br />OutFile "${S_NAME}.exe"<br /><br />#!include FileFunc.nsh<br />#!insertmacro GetParameters<br /><br />#Var CMD_ARGS<br /><br />RequestExecutionLevel user<br /><br /># Installer sections<br />Section -Main SEC0000<br />#${GetParameters} $CMD_ARGS<br /><br />HideWindow<br />nsExec::Exec "cmd /C java -jar D:\MidiInDump.jar -n 0"<br /><br />Quit<br />SectionEnd</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">proyb2</span><br />
      <span class="post-time small text-muted">10th November 2010 07:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Anybody?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">10th November 2010 07:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You are not at all clear about what you want to execute, but you probably need to fix your quotes. Try something like:<br />
      <br />
      nsExec::Exec 'cmd /C "C:\Users\Wildfire\Adobe Flash Builder 4\TransmissionDemo\bin-debug\java\dev.exe" -jar D:\MidiInDump.jar -n 0'</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">proyb2</span><br />
      <span class="post-time small text-muted">10th November 2010 07:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">huh? I think you have the code wrong. The code is referring to dev.exe<br />
      <br />
      I could execute the other exe in the same location but not this, I merely change the filename but it won't work. The jar is in the same location as the exe.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">10th November 2010 14:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">As I said, I don't really understand what it is you want to accomplish. I still don't.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">demiller9</span><br />
      <span class="post-time small text-muted">10th November 2010 15:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm with MSG. I read the original post yesterday and couldn't understand what the code was trying to do, or what wasn't working. The rest of the posts on this thread haven't cleared up anything for me. What is the C:\users\...\dev.exe line before the code listing? What's the call to java in the code supposed to do (and apparently isn't doing)?<br />
      <br />
      Does that code open up java at all? Does it need the current working directory to be set before it calls java (use SetOutPath)? You might need to expand "cmd" to its full name and path (use ExpandEnvStrings on %ComSpec%).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">proyb2</span><br />
      <span class="post-time small text-muted">10th November 2010 16:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am unable to launch the java runtime when place in this location except all others, it doesn't work by double click the installer too.<br />
      <br />
      I sure you are familiar what is nsExec::Exec?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">10th November 2010 20:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by proyb2</small><br />
        I am unable to launch the java runtime when place in this location except all others, it doesn't work by double click the installer too.
      </blockquote>Please explain: What is "This location", you keep mentioning "this location" but I have no idea what location you're talking about.<br />
      Please explain: What are "all other (localtions)"?<br />
      Please explain: Double clicking on WHAT installer?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">proyb2</span><br />
      <span class="post-time small text-muted">11th November 2010 02:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Failed. Nevermind. I get better answer at StackOverflow, they know it by reading code.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">11th November 2010 04:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">For what it's worth, I read your code when you first posted it - but I still don't know what the problem is, exactly, so I stayed out of this thread until now.<br />
      <br />
      The single-most clear piece in your first post was this...<br /></p>

      <blockquote>
        another possibility might be due to the parameter (-n 0) I've passed into the Java would caught the whole process can launch but not responding.<br />
        <br />
        Meant, I tried Java without parameter, it worked! Now we have a bug.
      </blockquote>So if you had no problems without the "-n 0", but are now running into problems -with- the "-n 0".. then what is that "-n 0" supposed to do? As far as I know, the arguments after the jar file specification are what are passed to the main class defined in the jar file. Which means "-n 0" is specific to your "MidiInDump.jar".. so how should we know whether it's doing what it's supposed to - we don't have that file.<br />
      <br />
      And unless they can read minds at StackOverflow, I'd say good luck there..<br />
      <a href="http://stackoverflow.com/questions/4140116/nsis-execute-external-jar-but-not-working" target="_blank">http://stackoverflow.com/questions/4...ut-not-working</a><br />
      <br />
      But then again.. in a second StackOverflow post...<br />
      <a href="http://stackoverflow.com/questions/4150893/the-issue-with-launching-program-in-startup-folder-and-in-regedits-run" target="_blank">http://stackoverflow.com/questions/4...n-regedits-run</a><br />
      ...it seems that suddenly, everything is working just fine, despite there being no change in the code (compared to that in this thread), and the question is suddenly about some xSocket unrelated-to-NSIS stuff.<br />
      <br />
      I'm sure we're all happy to help you... but neither your posts nor your code make particularly clear what the problem appears to be (and the follow-up posts really just confuse me even more). I realize that English may not be your first language - so just for kicks, describe the problem in your native language and run it through translate.google.com ; it might still make no sense to us, or it might give us another clue as to what it is you're trying to say.
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
