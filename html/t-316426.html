<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How do I reset a droplist?"><title>How do I reset a droplist? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How do I reset a droplist?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316426">How do I reset a droplist?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">toddmw</span><br><span class="post-time small text-muted">20th January 2010 17:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>RESOLVED: How do I reset a droplist?</strong><br>I have a droplist in a custom dialog that has several items in ListItems. When the custom dialog is first displayed to the user, nothing is selected in the droplist. This is great and works as designed.<br><br>When the user picks something from the droplist, checkboxes on my custom dialog are checked or unchecked, etc. Sometimes the user might like to reset the form to the default settings. I can reset everything on the form, but the stinking droplist.<br><br>I have a validation section that's run on a custom reset button. I've tried different things but can't seem to make the droplist reset.<br><br>Here's what I've recently tried with the reset button.<br></p><pre>
<code>ReadINIStr $1 "$PLUGINSDIR\setup.ini" "Field ${client_type_picklist}" "HWND"<br>SendMessage $1 ${LB_SETCURSEL} 0 0</code>
</pre><br>
      <br>
      Any ideas?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CrushBug</span><br>
      <span class="post-time small text-muted">20th January 2010 18:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Totally un-researched and off-the-cuff guess:<br>
      <br>
      If one of those zeros is the list index, I think that the unselected list index is -1. Try setting the index value to that.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">toddmw</span><br>
      <span class="post-time small text-muted">20th January 2010 19:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I did a little research and found that I needed to use Combobox controls.<br>
      <br>
      This seems to do the trick.<br></p>
      <pre>
<code>SendMessage $1 ${CB_SETCURSEL} -1 0</code>
</pre>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>