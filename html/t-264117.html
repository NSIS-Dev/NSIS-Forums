<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Installer dirties up the registry. Help"><title>Installer dirties up the registry. Help - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Installer dirties up the registry. Help</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264117">Installer dirties up the registry. Help</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">torpark</span><br><span class="post-time small text-muted">21st January 2007 17:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Installer dirties up the registry. Help</strong><br>I am not using any registry calls, yet I find that after running the NSIS programs, it leaves all kinds of tracks in the registry. There are many plugins that decide to write to the registry and leave info behind. Is there a way to keep my installer program from writing anything to registry at all?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">torpark</span><br><span class="post-time small text-muted">21st January 2007 17:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">And if i can't keep it from writing to the registry, can I find out what it did write (without my permission) and then delete those keys?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br><span class="post-time small text-muted">21st January 2007 21:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by torpark</i><br><b>And if i can't keep it from writing to the registry, can I find out what it did write (without my permission) and then delete those keys?</b></blockquote>If you can't tell that yourself how do you know that it even writes to registry? :p<br><br>Seriously. What exactly you mean by "all kinds of tracks in the registry" and what plugins are you using?</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">torpark</span><br><span class="post-time small text-muted">21st January 2007 22:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I can tell because I ran a registry compare on a clean VM of WinXP before and after. Here are some examples left:<br><br>HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\MountPoints2\A<br>HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\MountPoints2\C<br>HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\MountPoints2\D<br><br>HKLM\System\CurrentControlSet\Control\DeviceClasses<br>HKLM\System\CurrentControlSet\Control\DeviceClasses<br><br>HKLM\System\CurrentControlSet\Control\DeviceClasses\<br>{6994ad04-93ef-11d0-a3cc-00a0c9223196}\##?#ISAPNP#TBA03b0#FFFFFFFF#<br>{6994ad04-93ef-11d0-a3cc-00a0c9223196}\#Wave\Device Parameters<br>HKCU\Software\Microsoft\Multimedia\Audio<br>HKCU\Software\Microsoft\Multimedia\Audio Compression Manager\<br>HKCU\Software\Microsoft\Multimedia\Audio Compression Manager\MSACM<br>HKCU\Software\Microsoft\Multimedia\Audio Compression Manager\<br>HKCU\Software\Microsoft\Multimedia\Audio Compression Manager\Priority v4.00<br><br><br><br>file: WINDOWS/system32: gdiplus.dll<br><br>and all stuff with visible boxes gets sent here:<br>HKCU\Software\Microsoft\Windows\ShellNoRoam\MUICache<br><br><br>plugins used:<br><br>newadvsplash, bass, chngvrbl, createmutex, execdos, findprofdll, inetload, killprocdll, math, messagebox, nxs, passdialog, realprogress, time, nsexec</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">21st January 2007 23:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You don't need to worry about these records, they are all normal windows activities, have nothing to do with nsis.<br>Run any other application that you have e.g. winrar and you'll see similar new records.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">torpark</span><br><span class="post-time small text-muted">22nd January 2007 00:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well I want to make it where my installer leaves no traces behind, as it will be run off of USB. I don't want forensics to come along and say that my program was run on this machine.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br><span class="post-time small text-muted">22nd January 2007 11:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Like Red Wine said those are all normal windows registry activities. And and if you delete those registry keys (writen without your permission) you might wreck your system.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">24th January 2007 06:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">knowing windows will help you.<br><br>If you speak of any TOR-app - it's a bit of paranoia you have.<br>Or you really have suspicious mind.<br><br>examining windows is like a open book to some people - but<br>dont try too fool forensics - they have the better tricks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">CancerFace</span><br><span class="post-time small text-muted">24th January 2007 08:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you are that worried about registry entries you can use <a href="http://regshot.blog.googlepages.com/regshot.html" target="_blank">RegShot</a> to get an image of the registry once you start your program (save it somewhere), then use <a href="http://neutronstar.cjb.net/" target="_blank">UndoReg</a> to undo any registry changes. You may have to use something like <a href="http://www.autoitscript.com/" target="_blank">AutoIt</a> to script the whole process since these tools may not offer an unattended mode. However there will always be volatile cache activity that you won't be able to remove ...<br></p><blockquote>I don't want forensics to come along and say that my program was run on this machine.</blockquote>Does this mean that you are trying to hide something? Are you sure that this is legal? And are you sure that this is the place to ask such questions?<br>CF</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">torpark</span><br><span class="post-time small text-muted">25th January 2007 02:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yeah, this is for a popular tor application. So yes, I don't want to leave tracks in any system if I can manage it. And certainly not anything that would help forensics. You can check out my app Torpark at <a href="http://www.Torrify.com" target="_blank">www.Torrify.com</a><br><br>And obviously the problem with UndoIt is that someone might make legitimate installations or changes with other programs and this would wipe it out.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">25th January 2007 05:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">track registry with regmon<br><a href="http://www.microsoft.com/technet/sysinternals/SystemInformation/Regmon.mspx" target="_blank">http://www.microsoft.com/technet/sys...on/Regmon.mspx</a></p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>