<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Install an included installer" />

  <title>Install an included installer - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Install an included installer</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=185771">Install an included installer</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">marqo</span><br />
      <span class="post-time small text-muted">7th July 2004 12:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Install an included installer</strong><br />
      Hi all!<br />
      My installer is composed of 9 installer, one for each of my sections. That means that I call "InstallerSection1.exe" if the section 1is choosen, etc.<br />
      And "InstallerSectionX.exe" contains files, and the main installer only contains some "InstallerSectionX.exe" files.<br />
      My probleme is this one: when I call "InstallerSectionX.exe"<br />
      with<br />
      nsExec::Exec "$TEMP\${InstallerSectionFile}" /S /D=$INSTDIR<br />
      <br />
      nothing appears in the log windows (Page instfiles) of the main installer...<br />
      I try a lot of solutions but nothing convinced me. I wouldn't like opening another windows for an internal installer, just get the log in the main installer.<br />
      <br />
      Is it possible ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Davion</span><br />
      <span class="post-time small text-muted">7th July 2004 13:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">AfrowUK wrote a function to put the log from the instfiles Page into a file, so you could<br />
      <br />
      -put the log into the file<br />
      -read the file into a variable<br />
      -delete the file<br />
      -print the content with "detailprint"<br />
      in your main installer<br />
      <br />
      I hope you understand what I mean<br />
      and that it fits to your needs</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">marqo</span><br />
      <span class="post-time small text-muted">7th July 2004 13:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you. Yes it could be a way, but if one of the internal installers need 2 minutes to install, nothing appears in the window during that time and users could think that install operation crash... with your method, I doesn't solve the problem. I really need to obtain log "as it comes".</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Davion</span><br />
      <span class="post-time small text-muted">7th July 2004 13:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">what about writing a detailprint ala "installing files, this may take a few minutes"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">marqo</span><br />
      <span class="post-time small text-muted">7th July 2004 13:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, it could be too... but... not exactly what I would...<br />
      <br />
      Is it possible ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pengyou</span><br />
      <span class="post-time small text-muted">7th July 2004 13:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">nsExec::ExecToLog displays output in the log window "as it comes".<br />
      <br />
      For more information see the nsExec.txt file in the Contrib\nsExec folder (the folder also contains a simple script which uses nsExec::ExecToLog).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">marqo</span><br />
      <span class="post-time small text-muted">7th July 2004 13:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm sorry, but ExecToLog give you the possibilites to log a dos command, or a program that run in dos mode (as makensis). You cannot log a windows program, as an exe you made with makensis/makensisw. I am wrong ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pengyou</span><br />
      <span class="post-time small text-muted">7th July 2004 15:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry, I only glanced at the rest of the thread.<br />
      <br />
      Why are you using separate EXE files for each section in the installer?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">marqo</span><br />
      <span class="post-time small text-muted">7th July 2004 15:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Because it's suite of products. Each products could be installed alone, but the most of merket is the suite. There a lot of advantage, the first is that you can make a complete installer (with all "InstallerSectionX.exe" included), and with the same nsi you can make another one wich contains only code, and the "InstallerSectionX.exe" are downloaded :-)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">7th July 2004 15:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Why not do it the normal way with the seperate sections containing the seperate files. If you have loads of files, and you want to break it up in the script, put the sections in different files and then !include the files.<br />
      <br />
      I didn't write the dumplog function, that was written by Kichik for me :)<br />
      I wrote the other one though which dumps only lines containing a certain string.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
