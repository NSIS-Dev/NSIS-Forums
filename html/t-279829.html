<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Custom Page Images"><title>Custom Page Images - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Custom Page Images</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=279829">Custom Page Images</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">wag2639</span><br><span class="post-time small text-muted">24th October 2007 00:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Custom Page Images</strong><br>I was able to make a custom page with using MUI and custom pages. I put an image in it (bmp) and it seemed to work while the compiled installer and the image are in the same directory, but if I move the installer, it no longer shows the image. Any suggestions?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">24th October 2007 00:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Your image needs to be in $pluginsdir (extract it before you create the custom page), so the path to the image should look something like "$pluginsdir\someimage.bmp" and NOT a path on your local machine "c:\myinstaller\someimage.bmp" etc</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wag2639</span><br><span class="post-time small text-muted">24th October 2007 18:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks. It makes sense but where do I acutally put my image file then and where do I define the image path to "$pluginsdir\someimg.bmp", in the MUI_INSTALLOPTIONS_EXTRACT line or in my ini file?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">24th October 2007 18:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Extract the file to $PLUGINSDIR at run time as said and write the exact path into the INI file with MUI_INSTALLOPTIONS_WRITE.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wag2639</span><br><span class="post-time small text-muted">24th October 2007 19:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks guys. I still don't know to do it with the $PLUGINSDIR. This is for others who might read this later. My coworker who did most of the programming for the installer anyway (I'm just skinning it) told me to just put in this:<br>'File "plugins\soldier.bmp"' into the init function. Then you can just say Text=soldier.bmp in your ini file.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">24th October 2007 20:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">that should probably be File "/oName=$pluginsdir\soldier.bmp" "pathonbuildsystem\soldier.bmp"<br><br>and you should also use MUI_INSTALLOPTIONS_WRITE or WriteIniStr to set the full path ("$pluginsdir\soldier.bmp") instead of just soldier.bmp</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wag2639</span><br><span class="post-time small text-muted">6th November 2007 20:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hey guys, I'm back at this and it isn't working. I'm not even sure if it worked last time or if it was just a fluke on my computer.<br><br>Right now, in my function for my custom page, I have:<br>!insertmacro INSTALLOPTIONS_EXTRACT "$PLUGINSDIR\soldier.bmp"<br>!insertmacro INSTALLOPTIONS_WRITE "welcome.ini" "Field 3" "Text" "$PLUGINSDIR\soldier.bmp"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wag2639</span><br><span class="post-time small text-muted">6th November 2007 20:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">i got it to work by replacing $pluginsdir with $TEMP</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">6th November 2007 20:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><pre>
<code><br>ReserveFile `soldier.bmp`<br>File `/oname=$PLUGINSDIR\soldier.bmp` `soldier.bmp`<br>!insertmacro MUI_INSTALLOPTIONS_WRITE "welcome.ini" "Field 3" "Text" "$PLUGINSDIR\soldier.bmp"</code>
</pre><br>
      <br>
      Stu
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>