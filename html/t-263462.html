<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Uninstaller error levels"><title>Uninstaller error levels - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Uninstaller error levels</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=263462">Uninstaller error levels</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Nniol</span><br><span class="post-time small text-muted">11th January 2007 14:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Uninstaller error levels</strong><br>Hi<br><br>I need to get the error levels from an uninstaller...<br><br>I see<br><br>CopyFiles $INSTDIR\uninstaller.exe $TEMP<br>ExecWait '"$TEMP\uninstaller.exe" _?=$INSTDIR' $0<br>DetailPrint "uninstaller set error level $0"<br><br><br>In section D.1 in the manual.... so how does this work?<br><br>Where do I put this??? I have my normal uninstall section does this go in there, if so where does the uninstall code go?<br><br>Nniol</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">11th January 2007 16:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I'm not quite sure what are you trying to achieve. The manual is pretty clear:<br><br><i>Note that uninstallers copy themselves to the temporary directory and execute from there so the original uninstaller can be deleted. This means the error level the uninstaller sets is not available to the executing process, unless it simulates this copy process and executes the copied uninstaller. To simulate this process, use:</i><br></p><pre>
<code>CopyFiles $INSTDIR\uninstaller.exe $TEMP<br>ExecWait '"$TEMP\uninstaller.exe" _?=$INSTDIR' $0<br>DetailPrint "uninstaller set error level $0"</code>
</pre><br>
      Also this code executes the uninstaller of installation A from the installer of installation B. The included in examples makensis.nsi is pretty self explained on that.
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>