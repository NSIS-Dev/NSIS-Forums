<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Updating Files - some with and some without version numebrs"><title>Updating Files - some with and some without version numebrs - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Updating Files - some with and some without version numebrs</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=254004">Updating Files - some with and some without version numebrs</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">TJK</span><br><span class="post-time small text-muted">24th August 2006 13:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Updating Files - some with and some without version numebrs</strong><br>Hi<br><br>First, I am not a professional programmer and this is my first posting, so please forgive me if I ask something simple or I have clicked the wrong options for the posting.<br><br>I'm using NSIS 2.18 at the moment - I see that there is a 2.19 version, but the changes in 2.19 don't appear (as far as I can tell) to relate to my issue...<br><br>I have created an installer which uses the InstallLib macros to install some .DLL and .EXE files (so that I can use the various REG and SHARED options - thanks). I need it to update some existing files, some of which have file version numbers and some of which do not but all of which might be locked open so need to be updated on a Windows restart.<br><br>From what I've seen (and <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=235903" target="_blank">this thread</a> appears to confirm it) InstallLib only looks at the file version number when deciding whether or not a file needs to be copied. Have I understood correctly?<br><br>I see in <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=235903" target="_blank">the tread noted above</a> that kichik wrote "You can use SetOverwrite ifnewer" - does that mean that InstallLib should obey the "SetOverwrite ifnewer" instruction if neither the existing nor potential fils have version numbers, or that when there is no version number I should revert to the use of the basic "File" instruction in which case I guess I loose all the nice functions provided by the InstallLib macros.<br><br>Also in <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=235903" target="_blank">the tread noted above</a> kichik suggested that changes to the InstallLib macro might be required and that if a patch was produced he'd consdier including it - patching the macro file is a bit beyond me, did anyone manage to implement the extension?<br><br>Thanks<br><br>Tim</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">25th August 2006 13:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The Library macros only treat versions. To use SetOverwrite ifnewer, you need to revert to File. The Library macros ignore SetOverwrite.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">TJK</span><br><span class="post-time small text-muted">25th August 2006 13:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks kichik<br><br>Regards<br><br>Tim</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>