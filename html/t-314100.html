<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Help with Java JRE installer as shown online"><title>Help with Java JRE installer as shown online - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Help with Java JRE installer as shown online</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=314100">Help with Java JRE installer as shown online</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">mark.bury</span><br><span class="post-time small text-muted">23rd October 2009 11:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Help with Java JRE installer as shown online</strong><br>Hi,<br><br>I was browsing for a JRE checker/installer and found the one online at:<br><br><a href="http://nsis.sourceforge.net/New_installer_with_JRE_check_%28includes_fixes_from_%27Simple_installer_with_JRE_check%27_and_missing_jre.ini%29" target="_blank">http://nsis.sourceforge.net/New_inst...ing_jre.ini%29</a><br><br>[nsis . sourceforge . net / New_installer_with_JRE_check]<br><br>(I have looked at this forum for similar questions but lots of the links to answers are edited out)<br><br>the thing is in the code it mentions:<br><br>MustInstallJRE:<br>Exch $0 ; $0 now has the installoptions page return value<br>; Do something with return value here<br>Pop $0 ; Restore $0<br>StrCpy $InstallJRE "yes"<br>Return<br><br>obviosly the "do something with return value here" is supposed to call the section to do the install:<br><br>There is a section called:<br><br>Section -installjre jre.<br><br>I have looked online at the documentation and I'm left a bit unsure.<br><br>The doc says that the layout for sections are:<br><br>Section [name] [section_index_output]<br><br>but i have other sections that seem to follow a different layout of:<br><br>Section "Start menu shortcuts" SecCreateShortcut.<br><br>What is the difference with quotes? (it looks like the name is the second value)<br><br>And if possible how do I call the installjre section?<br><br>Many Thanks.<br><br>Mark</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">23rd October 2009 12:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Re: Help with Java JRE installer as shown online</strong><br></p><blockquote>Section "Start menu shortcuts" SecCreateShortcut.<br>What is the difference with quotes? (it looks like the name is the second value)</blockquote>Exactly. Quotes are used to write strings that contain spaces. So everything between the quotes belongs to one string.<br><br><blockquote>And if possible how do I call the installjre section?</blockquote>You can probably use SetSectionFlags?<br><a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.13" target="_blank">http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.13</a><br><br><blockquote>(I have looked at this forum for similar questions but lots of the links to answers are edited out)</blockquote>To read those 'URL submitted by user' links, simply click the Quote button on that post - you'll see the URL in the text field.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mark.bury</span><br><span class="post-time small text-muted">23rd October 2009 13:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Re: Re: Help with Java JRE installer as shown online</strong><br></p><blockquote><i>Originally posted by MSG</i><br><b>Exactly. Quotes are used to write strings that contain spaces. So everything between the quotes belongs to one string.</b></blockquote>Hi, so does that mean that the second parameter is the name of the Section? What is the point of the string?<br><br><blockquote><b><br>You can probably use SetSectionFlags?<br><a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.13" target="_blank">http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.13</a><br></b></blockquote>I'm new to NSIS but have used other programming languages. Can you not call a section without a method instruction (i.e. the SectionSetFlags)? Sorry if this is a stupid question.<br><br><blockquote><b><br>To read those 'URL submitted by user' links, simply click the Quote button on that post - you'll see the URL in the text field.<br></b></blockquote>Thanks, I did find an old post that used the same code I found and had a similar un-answered question but that was last year.<br><a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=298153&amp;highlight=jre" target="_blank">http://forums.winamp.com/showthread....&amp;highlight=jre</a><br><br>I have attached the file i'm working on and the line number i'm having trouble with is 376.<br><br><br>Thanks for the quick responce,<br>Mark</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">23rd October 2009 20:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Re: Re: Re: Help with Java JRE installer as shown online</strong><br></p><blockquote>Hi, so does that mean that the second parameter is the name of the Section? What is the point of the string?</blockquote>You appear to be confused about what the purpose of a section is.<br><br>Sections are the separate components that the user can select or deselect for installation. Like, when you install winamp, you can choose to install CD or wmv support, or various other plugins. Each option on that Components page is a section in the installer script. (In your script there doesn't appear to be a Components page, but this doesn't change the behaviour of sections of course.)<br><br>This is why sections cannot be 'called' manually. They are executed automatically (if they were enabled by the user on the Components page), as soon as the actual installation process begins. So what you need to do is use SectionSetFlags to enable or disable the section, so that it will or will not be installed.<br><br>(note: Because sections are shown on the Components page, they have a name parameter. The name is what the section will be listed as, on the Components page.)</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>