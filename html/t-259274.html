<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Changing install page colors"><title>Changing install page colors - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Changing install page colors</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=259274">Changing install page colors</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">colm</span><br><span class="post-time small text-muted">10th November 2006 15:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Changing install page colors</strong><br>Hi,<br><br>Does anybody know how I can change the grey areas of my install page (attached) to white?<br><br>I seem to have trouble getting the HWND for the progress bar and the tiny little square that appears next to the separator (circled in red).<br><br>Thanks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">11th November 2006 18:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The one the bottom is where the branding text shows. Make sure you set the color for both controls, 1256 and 1028.<br><br>To get the HWND of the internal dialog, use the following in the show callback function of every page.</p><pre>
<code>FindWindow $0 "#32770" "" $HWNDPARENT</code>
</pre></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">colm</span><br><span class="post-time small text-muted">12th November 2006 00:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">1256 works great to make the branding text background white.<br><br>How/where do I use 1028 though? I tried:<br><br>GetDlgItem $R0 $HWNDPARENT 1028<br>SetCtlColors $R0 00000 transparent<br><br>and<br><br>FindWindow $R1 "#32770" "" $HWNDPARENT<br>GetDlgItem $R0 $R1 1028<br>SetCtlColors $R0 FFFFFF transparent<br><br>in the section and in the callback function for the instfiles page.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">colm</span><br><span class="post-time small text-muted">12th November 2006 00:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Ah, I actually meant the grey background the progress bar is on...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">14th November 2006 23:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The FindWindow commands gets you the HWND of the internal dialog. That one has different controls for each pages with different control identifiers. 1028 is on the main dialog, not the inner dialog. The progress bar is in the inner dialog. Edit the resources, find the inner dialog that you wish to change, get the control identifier and use it with GetDlgItem after you use FindWindow.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">colm</span><br><span class="post-time small text-muted">15th November 2006 10:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I placed:<br><br>FindWindow $0 "#32770" "" $HWNDPARENT<br>GetDlgItem $1 $0 1004<br>SetCtlColors $1 FFFFFF FFFFFF<br><br>FindWindow $0 "#32770" "" $HWNDPARENT<br>GetDlgItem $1 $0 1006<br>SetCtlColors $1 FFFFFF FFFFFF<br><br>and<br><br>FindWindow $0 "#32770" "" $HWNDPARENT<br>GetDlgItem $1 $0 1016<br>SetCtlColors $1 FFFFFF FFFFFF<br><br>in the instfiles callback. None of them changed the color.<br><br>If I put in a debug MessageBox statement it does appear all white and after clicking okay the progress bar/grey background appears. Am I calling it from the right place?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">16th November 2006 20:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Attach an example script. I don't understand exactly what you're doing. Which callback have you used? You should be using the show callback.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">colm</span><br><span class="post-time small text-muted">17th November 2006 09:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I did. The code is in this thread:<br><br><a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=259531" target="_blank">http://forums.winamp.com/showthread....hreadid=259531</a><br><br>Thanks for the help. It's working now.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Icks92</span><br><span class="post-time small text-muted">29th June 2009 15:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Same problem but usinf MUI</strong><br>Hello,<br><br>I am trying to do the same thing but I use "!insertmacro MUI_PAGE_INSTFILES" to my install page, so I can't find where I have to put this peace of code to color the background.<br><br>Does anybody can tell me how to proceed ?<br><br>Thank you.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">colm</span><br><span class="post-time small text-muted">29th June 2009 15:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If I recall correctly, I couldn't do it when using MUI. The code that I used was in this thread:<br><br><a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=259531" target="_blank">http://forums.winamp.com/showthread....hreadid=259531</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Icks92</span><br><span class="post-time small text-muted">29th June 2009 16:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you very much for your answer, but it is the code that I am trying, but it doesn't works.<br><br>The strip of color above the progress bar changes color but not the big part down.<br><br>I disperate ...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">colm</span><br><span class="post-time small text-muted">29th June 2009 16:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">yes, you can't use !insertmacro MUI_PAGE_INSTFILES'. you have to use<br><br>Page instfiles "" ShowInst<br><br>instead.<br><br>where the showinst function is in the other thread.<br><br>that worked for me...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Icks92</span><br><span class="post-time small text-muted">29th June 2009 16:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">OK thank you, I replaced MUI_PAGE_INSTFILES and it works.<br><br>But now my branding text appears on a grey background and not a white one ...</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>