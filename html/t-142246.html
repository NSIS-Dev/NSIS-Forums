<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How many variables?"><title>How many variables? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How many variables?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=142246">How many variables?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">15th July 2003 06:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How many variables?</strong><br>i'm having an installer that uses InstallOptions excessively. it will write each value to an ini file.<br><br>nsis offers me the variables $0-$9 and $R0-$R9. i'm not sure how to write more than 20 values to the ini, when i have only 20 variables. i guess it somehow works with pop/push, but i never understood this anyway.<br><br>maybe an example of how to accomplish the task without wasting variables.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ctlajoie</span><br><span class="post-time small text-muted">15th July 2003 06:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't know anything about ini files, but I do understand how pop and push work. Hopefully that will be of some use.<br><br>I believe the function names 'Pop' and 'Push' come from the assembly commands of the same name (I don't know why they were named this way). In NSIS, 'Push' will <i>push</i> a string onto the stack, and 'Pop' will <i>pull</i> it off the stack. You can think of it like a stack of bricks. The more you put on the stack, the more you have to take off to get back to the original brick.<br><br>Something else that might help is to think of it like a backwards queue. A queue is a FIFO (First In First Out) system, whereas a stack is a LIFO (Last In First Out) system.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">bSecRes</span><br><span class="post-time small text-muted">15th July 2003 07:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Great description ctlajoie. I think there are a lot of metaphors that work. I don't know if you buy bread or milk killahbite, but at the grocery store people buy these things. On their packages are expiration dates, usually named "Best by Date x." In general, the deliveries for these items are daily or every other day but the entire stock never sells that fast. The result is that there may be old product on the shelves. The grocery store knows this and because they want to sell it before it goes bad the move the older stuff to the front (First in, first out). Conscientious buyers however, often dig around and look in the back for the newest delivery, the fresher milk or bread, eggs or whatever. The result is that buyers create a LIFO system, last in first out system. The last carton of milk put on the shelf is the first one people try to take off, because it is freshest.<br><br>This is the way the stack works. The last variable you push to the stack is the first one you get when you pop a variable off of the stack. When you look at functions in the archive you will usually see them start off like this:<br>Push $1<br>Push $2<br>Code using $1 and $2<br>Pop $2<br>Pop $1<br><br>This is because the function needs to use variables but doesn’t want to mess up the values that you may have assigned before you called it. One last thing, the word “push” is a bit of a misnomer. You don’t “push” a value to the stack so much as you copy the value there. Push $1 does not in anyway effect the value of $1 it merely copies $1 to the top of the stack. Popping however does not just copy a value from the stack it moves it from the stack to the variable shifting the remaining values up. To see what this looks like, go here: <a href="http://www.sullust.net/sw/dumpstate/" target="_blank">http://www.sullust.net/sw/dumpstate/</a> download the dll and copy and paste the code Dumpstate::debug in various parts of your code to see what the variable assignments and stack look like.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">15th July 2003 07:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">uhm, this is getting a bit apart from the original question (i've read such descriptions so often, with no success - yet).<br><br>just need to know how to get around that 20 variables limitation. basically i've been wondering if i could do the whole thing by using just one variable (if that's possible!), because i don't need the value of the variable once it's written in the ini file.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">15th July 2003 10:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can write other things than variables and the variables can change after you write them. Why do you insist on keeping 20 variables for 20 values in the INI file?</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>