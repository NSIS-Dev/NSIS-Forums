<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="&quot;Next&quot; button"><title>"Next" button - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">"Next" button</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=178466">"Next" button</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">30th April 2004 09:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>"Next" button</strong><br>In one of the custom pages in my installer at the initialization I disable the "Next &gt;" button and then, based on user input I enable it. It's meant to stop the user from keying in rubish and get away with it...<br>The problem is: the stupit button doesn't want to get back to "enabled" state...<br>the code is very simple:<br><br>....<br>page custom java_home java_home_valid<br>....<br><br>Function java_home<br>....<br>GetDlgItem $NEXTWINDOW $HWNDPARENT 1<br>EnableWindow $NEXTWINDOW 0<br>....<br>FunctionEnd<br><br>Function java_home_valid<br>....<br>; search for java.exe<br>JREdll::validate "$JRE_LOCATION" ;my own plugin<br>Pop $valid<br>StrCmp $valid "TRUE" "" "ELSE"<br>GetDlgItem $NEXTWINDOW $HWNDPARENT 1<br>EnableWindow $NEXTWINDOW 1<br>ELSE:<br>....<br>FunctionEnd<br>....<br><br>Thas it... easy, right ? but it doesn't work... it does work for the other 2 buttons, "back" and "cancel"... i can disable and enable them as i wish... but i don't need that! I want my "Next" back !!<br><br>Anyone has ANY idea ?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">evilO</span><br><span class="post-time small text-muted">30th April 2004 13:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi :)<br><br>Instead of disabling the "Next" button you could use the instruction "Abort" in the page's "Leave Function" if the user has typed rubbish... If he did, he'll stay on the page. You can also display a message at this point..<br><br>Explanations about "Callback functions" can be found there:<br><a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.5.3" target="_blank">http://nsis.sourceforge.net/Docs/Chapter4.html#4.5.3</a><br><br>evilO/Olive</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">30th April 2004 14:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I know that... but i prefer not to let them click "next" if the input is not correct...<br>Actually it's a bit different... The "input" is a disabled customized "browse for directory" which has the "OK" button enabled if and only if the selected directory points to a JDK home. Until the user chooses a valid JDK directory the "Next" button is disabled.<br><br>Of course if i will not be able to do it my way, the proposed solution sounds good.<br>It's just a challenge for me and who ever has some free time to think about it ... :D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">30th April 2004 14:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=177208" target="_blank">http://forums.winamp.com/showthread....hreadid=177208</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">30th April 2004 19:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Aha!!! so it's the little sneaky "abort" that causes all the problems... the little bastard...<br>NOw.. how can I go around it.... ??</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">30th April 2004 19:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It has been reported and will be fixed.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">1st May 2004 04:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry, I'm new here... I discovered NSIS one week ago :D How will I know if it has been fixed ? Is there a page that I have to read daily like a ChangeLog or something ?<br><br>Thanks for your help...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">1st May 2004 09:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><a href="http://nsis.sourceforge.net/development/changelog/http://nsis.sourceforge.net/development/changelog/" target="_blank">http://nsis.sourceforge.net/developm...ent/changelog/</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">9th May 2004 13:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Fixed in the latest CVS version.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">11th May 2004 16:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hmm....<br>I've tried the new changes and it seams to me that all the buttons are messed up... Is it just me or someone else had same problem..<br>"Next" doesn't get enabled and "Back" and "Next" (if i do not disable it) have the same effect, "move to next screen" ... I will keep trying to see if it's my error but so far my script seams to be correct...<br><br>P.S.<br>Thanks for the effort!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">15th May 2004 16:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">kichik fixed that in the latest CVS version.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">24th May 2004 03:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Strange... It still behaves the same.... the "next" doesnt get re-enabled...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">26th May 2004 13:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Just curious, is anybody still looking into this error or I should give up the hope and try a different solution?<br><br>Thanks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">26th May 2004 14:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Make sure you have the latest CVS version. It's working for other people and I have just successfully tested it again to make sure.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">26th May 2004 14:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">OK.. I will download it again and test one more time...<br>Fingers crossed!!!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ovidiu</span><br><span class="post-time small text-muted">26th May 2004 16:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It works!!<br><br>What was wrong? kichik forgot to add "InstallOptions.dll" in the modifed files list and I havent update it... :rolleyes:<br><br></p><blockquote>2004-05-15 11:22 Amir Szekely (kichik)<br><br>makensis.exe, Source/exehead/Ui.c: fixed the next/back buttons bug caused by the last fix</blockquote>Now it's PERFECT!!! Thanks alot guys!!! Great job!!!</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>