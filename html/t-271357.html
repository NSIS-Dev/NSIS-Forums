<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="${StrStrAdv} goes in .onInit but not in un.onInit?" />

  <title>${StrStrAdv} goes in .onInit but not in un.onInit? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">${StrStrAdv} goes in .onInit but not in un.onInit?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=271357">${StrStrAdv} goes in .onInit but not in un.onInit?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">phisuio</span><br />
      <span class="post-time small text-muted">18th May 2007 05:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>${StrStrAdv} goes in .onInit but not in un.onInit?</strong><br />
      Hi, I have this command in the .onInit function:<br />
      ${StrStrAdv} $Path $Path "\" "&gt;" "&lt;" "0" "3" "0"<br />
      <br />
      there it works fine, but when put into un.onInit it says:<br />
      Error in macro FUNCTION_STRING_StrStrAdv_Call<br />
      <br />
      Any idea?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">engine</span><br />
      <span class="post-time small text-muted">18th May 2007 06:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use ${UnStrStrAdv} macro in uninstall functions and sections.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">phisuio</span><br />
      <span class="post-time small text-muted">18th May 2007 13:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br />
      thats a strange thing, I need other functions-call in various functions. Hm, strange, but anyway...<br />
      Thanks!!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">phisuio</span><br />
      <span class="post-time small text-muted">23rd May 2007 16:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I tried accomplishing this as you told, my source:<br />
      <br />
      Function un.onInit.<br />
      ...<br />
      ${UnStrStrAdv} $Path $Path "\" "&gt;" "&lt;" "0" "3" "0"<br />
      FunctionEnd<br />
      <br />
      but I get this error:<br />
      !insertmacro: FUNCTION_STRING_UnStrStrAdv<br />
      !insertmacro: macro "FUNCTION_STRING_UnStrStrAdv" requires 0 parameter(s), passed 8!<br />
      Error in script "C:\Windows\Desktop\setup\setup.nsi" on line 96 -- aborting creation process<br />
      <br />
      Any idea?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">23rd May 2007 16:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Put ${UnStrStrAdv} at the top of your script as well like you do with ${StrStrAdv}. The docs specifically tell you to do this!<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">TrifonovS</span><br />
      <span class="post-time small text-muted">28th June 2011 12:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I don't like the idea to put all used macros (for example from StrFunc.nsh) at the top of my script and also to call different function on the installer's or uninstaller's part (without or with prefix Un). I made several specific for my needs function that don't need this. It is enough only to call the macro once in the code that I need it and without any prefixes (by the way I learned this from some examples). So I want to put some kind of shell to StrStrAdv (or similar macros) to be able to work like this too. But I don't know how to make it. Can anybody help me a little bit, please?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">28th June 2011 21:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, i'm sure I made it that way so that you wouldn't need to create an overhead on the uninstaller if you didn't need it on the uninstaller and vice-versa. Before being called outside sections/functions, it doesn't create overhead either.<br />
      <br />
      I'm sure that's still reasonable... anytime you create a function, you are making the (un)installer bigger. Not that it matters now. It used to matter long time ago when I used diskettes.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
