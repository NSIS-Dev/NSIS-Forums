<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Silent Mode Comand Line" />

  <title>Silent Mode Comand Line - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Silent Mode Comand Line</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=83965">Silent Mode Comand Line</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">crisp</span><br />
      <span class="post-time small text-muted">7th April 2002 18:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Silent Mode Comand Line</strong><br />
      Hello<br />
      <br />
      I'm sorry to interrupt this technical discussion about NSIS compiler.<br />
      <br />
      I have a question as a USER of a program distributed using NSIS. (I'm sorry if I am in the writing in the wrong place) .<br />
      <br />
      I want to make a custom CD which will install some applications after the Windows Setup is complete.<br />
      <br />
      So I want to run a kit in silent mode. This works for the Install Shield programs (-r and the -s switch).<br />
      But I cannot get it to work for a NSIS kit. (Ex. Divx412codec)<br />
      <br />
      I've tryied /S and /SILENT, after browsing the compiler documentation but it doesn't run in silent mode.<br />
      <br />
      Thansks for your time,<br />
      <br />
      Crisp</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th April 2002 19:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Crisp!<br />
      <br />
      After looking into the source and testing on some of my installers I have found out that /S <b>does</b> work.<br />
      <br />
      There are two exceptions:<br />
      1) The command line interpretation is case sensitive (/s won't work, only /S)<br />
      2) If the compiler which built the installer was a recompiled version of NSIS, it could have NSIS_CONFIG_SILENT_SUPPORT disabled which means you can not run the installer built by it in silent mode.<br />
      <br />
      If you did use /S and not /s I see no other reason of DivX not running in silent mode but a recompiled compiler.<br />
      <br />
      KiCHiK</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">crisp</span><br />
      <span class="post-time small text-muted">7th April 2002 23:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi kichik!<br />
      <br />
      I do run the installer with /S not /s.<br />
      So I guess SILENT Suport is disabled, or is an OLD version of NSIS (1.44 i think).<br />
      I've also tried the Winamp installation kit and Zoom DVD Player . Still nothing.<br />
      I'm definetly doing something wrong here, I don't think everybody disabled SILENT mode ...<br />
      <br />
      Crisp</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">crisp</span><br />
      <span class="post-time small text-muted">7th April 2002 23:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi kichik again !<br />
      <br />
      I've just tested with PowerDivx312 (NSIS 1.60) and it's working ...<br />
      Thanks for your time !<br />
      So not all the installers that float around support this feature. Too bad.<br />
      <br />
      Anyway, can someone point me to a reference of command-line switches or this is something that depends on how the kit was build ?<br />
      <br />
      Crisp</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">8th April 2002 07:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Crisp,<br />
      <br />
      the reference is:<br />
      <a href="http://www.nullsoft.com/free/nsis/makensis.htm" target="_blank">http://www.nullsoft.com/free/nsis/makensis.htm</a><br />
      <br />
      Since NSIS is OpenSource everyone can rebuild the project to do specific tasks and hence it's possible that in a custom made setup the /S is not supported.<br />
      <br />
      Good luck,<br />
      greetz, Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">8th April 2002 13:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Crisp!<br />
      <br />
      According to the version history (quoted below) commmand line options were added in version 1.42...<br />
      <br /></p>

      <blockquote>
        <b>nsis142.exe (5/6/01)</b><br />
        Made it so that installers can take command line switches: /S (silent), /NCRC (no CRC checking) and /D= (sets output directory). Note that /D= must be the last parameter on the line.<br />
        [...]
      </blockquote>I have also tested the /S silent switch with an installer I built with NSIS 1.44 and it works.<br />
      The only possible reason I can think of is a recompiled NSIS compiler... Sorry.<br />
      <br />
      The only place I know you can find the command line switches in is the source code it self.<br />
      <br />
      KiCHiK
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wilbur</span><br />
      <span class="post-time small text-muted">17th May 2002 22:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>/D command line option doesn't work</strong><br />
      &gt;Made it so that installers can take command line switches: /S (silent), / NCRC (no CRC checking) and /D= (sets output directory). Note that /D= must be the last parameter on the line.<br />
      <br />
      I cannot get /D to work.<br />
      I executed: <i>./setup_debug.exe /S /D=./x</i> from a cygwin shell. The program silently installed into the install directory defined in the .nsi file. I tried several values (x, ./x, and \x) for the value of <i>/D</i>, but they were all ignored. And, directory x did exist.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">18th May 2002 13:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This indeed seems like a bug to me. The /D switch is read and processed before the default installation dir set with InstallDir is read and processed. The later ignores the fact that the first has already set the installation dir.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">19th May 2002 13:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Oops :(<br />
      <br />
      Sorry about that one, my bad... It does ignore it if an installation directory was given in the command line.<br />
      <br />
      I have looked closer into the code and it seems that the directory validating code expects full path, that is C:\cygwin\x and not ./x or other variations.<br />
      <br />
      Again, I am sorry about this confusion.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wilbur</span><br />
      <span class="post-time small text-muted">20th May 2002 23:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I got /D to work using absolute directories. The following commands silently install into c:\x. setup.exe will create x if it doesn't exist.<br />
      <br />
      (From Dos command prompt): setup.exe /S /D=c:\x<br />
      (From cygwin shell): ./setup.exe /S /D=c:\\x</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">timbyrd</span><br />
      <span class="post-time small text-muted">20th September 2003 04:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>/D and quotes</strong><br />
      (Using a dev snapshot from 2003-Sep-17)<br />
      <br />
      I was beating my head about using the /D switch in my installer. I thought that the InstallDir and InstallDirRegKey commands were overriding it. It turns out, though, that the /D switch doesn't work if the specified folder has quotes in it, e.g.:<br />
      <br />
      myinstall.exe /S /D="C:\Program Files\testdir"<br />
      <br />
      does not work, but<br />
      <br />
      myinstall.exe /S /D=C:\Program Files\testdir<br />
      <br />
      does work.<br />
      <br />
      Looking at the code in Source\exehead\Main.c, I understand that the /D switch has to be the last one on the command line. But I would like to understand why it can't deal with quoted paths.<br />
      <br />
      -- Tim</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">20th September 2003 11:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If it has to be last then there is no use of quotes. Nothing can come after it, hence spaces won't matter.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">timbyrd</span><br />
      <span class="post-time small text-muted">22nd September 2003 21:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">loop:<br />
      <br /></p>

      <blockquote>
        <i>Originally posted by kichik</i><br />
        <b>If it has to be last then there is no use of quotes. Nothing can come after it, hence spaces won't matter.</b>
      </blockquote>And of course, since it can't handle a quoted argument, it has to be the last thing on the command line so it can accept paths with embedded spaces.<br />
      <br />
      Goto loop<br />
      <br />
      (I'm afraid this is going to turn into a circular conversation...)<br />
      <br />
      Okay, I'll just have to accept that's the way it is. I, personally, found it confusing, since I quote long file names out of habit. (And I'm not yet familiar enough with the NSIS docs to find a reference that says to avoid using quotes with /D.) I suppose it saves some code space in the installer runtime.<br />
      <br />
      -- Tim
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">22nd September 2003 21:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm afraid that part is not very well documented. But this thread pretty much coveres it all.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
