<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Can't do a FileWrite to a text file"><title>Can't do a FileWrite to a text file - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Can't do a FileWrite to a text file</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=285949">Can't do a FileWrite to a text file</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">kalverson</span><br><span class="post-time small text-muted">30th January 2008 14:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Can't do a FileWrite to a text file</strong><br>I am just trying to append a couple of string lines to a text file. No matter what variables and quotes I use, the file remains unchanged from the original that is extracted on the install. The debug output alway says the filewrites are happening, but the file does not change and has the same number of bytes as the original. What am I doing wrong here?<br><br>Here are the lines in question in from the install section<br><br>File "gui.relmod"<br>ClearErrors<br>FileOpen "$R0" "$INSTDIR\gui.relmod" "A"<br>DetailPrint 'FileOpen handle is $R0 for "$INSTDIR\gui.relmod"'<br>;FileSeek $R0 0 END<br>IfErrors next1<br>FileWrite "$R0" "DownloadFilename = ${PRODUCT_INSTALL_FILE}$\r$\n"<br>DetailPrint "DownloadFilename = ${PRODUCT_INSTALL_FILE}"<br>IfErrors next2<br>FileWrite "$R0" "DownloadFileMD5 = $STR_MD5$\r$\n"<br>DetailPrint "DownloadFileMD5 = $STR_MD5"<br>IfErrors next3<br>FileClose "$R0"<br>DetailPrint "Appends to gui.relmod completed. $R0"<br>goto next4<br>next1:<br>DetailPrint "Error on open gui.relmod $R0"<br>goto next4<br>next2:<br>DetailPrint "Error on FileWrite1 $R0"<br>goto next4<br>next3:<br>DetailPrint "Error on FileWrite2 $R0"<br>next4:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">30th January 2008 17:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Strange... doesn't seem you're doing something wrong.<br>Perhaps it's an issue related to vista account.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>