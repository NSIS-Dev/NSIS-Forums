<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="section,strings and other adventures..." />

  <title>section,strings and other adventures... - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">section,strings and other adventures...</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=156877">section,strings and other adventures...</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pyjamarama</span><br />
      <span class="post-time small text-muted">20th November 2003 07:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>section,strings and other adventures...</strong><br />
      Hi!<br />
      I have created a subsection (SubSection /e "databases" SEC01) which contains 4 sections(section "db1" db1,section "db2" db2 etc etc).<br />
      I used sectionsetflags "db1" 0 to have this section unselected but nothing happens.<br />
      Also I wanted to ask if there is a way to have some sections unselected when I select a certain section.<br />
      Finally (I hope u r not bored by now...) is there a string function equivelant to mid?<br />
      <br />
      Thanx!!!!!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">20th November 2003 09:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">SectionSetFlags doesn't work by the name of the section, its works by its index number. Both Section and SubSection have an extra parameter that allows you to add define with this number so you don't have to remember and change it everytime you add or remove sections. Remember, the compiler doesn't "guess ahead" values of defines, so the section definition must be above the usage of this define in the script.<br />
      <br />
      See one-section.nsi for an example of unselecting sections according to another section's selection.<br />
      <br />
      Use StrCpy and StrLen for all of your string processing needs.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pyjamarama</span><br />
      <span class="post-time small text-muted">20th November 2003 11:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">In the documentation I found this syntax<br />
      section [/e] [section_name] [section index output]<br />
      mine is<br />
      section "db1" db1<br />
      so shouldn't setsectionflags ${db1} 0 work?(make this section unselected I mean...).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">20th November 2003 11:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, SetSectionFlags ${db1} 0 should work, but your earlier post said db1, not ${db1} ;)<br />
      <br />
      If it still doesn't work, make sure the order in the script is right.<br />
      <br />
      Section bla bla<br />
      SetSectionFlags ${bla} 0<br />
      <br />
      should work, but:<br />
      <br />
      SetSectionFlags ${bla} 0<br />
      Section bla bla<br />
      <br />
      will not.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pyjamarama</span><br />
      <span class="post-time small text-muted">20th November 2003 11:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thanx for the answer!!<br />
      But it still does not work.<br />
      sectionsetflags {db1} 0 does not have the section deselected!<br />
      In the section documentation I found something I cannot understand<br />
      <br />
      ...If section index output is specified, the parameter will be !defined with the section index (that can be used for SectionSetText etc)...<br />
      <br />
      Should I do something more than give the section an index (eg db1)?<br />
      <br />
      thanx..</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">20th November 2003 12:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You're missing a dollar in that line.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pyjamarama</span><br />
      <span class="post-time small text-muted">20th November 2003 12:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry,I have include it in my code I just made a typo in the post...<br />
      <br />
      should I define something as the section documentation states?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">20th November 2003 12:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No, it automatically defines it. Attach your script and I'll have a look.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pyjamarama</span><br />
      <span class="post-time small text-muted">20th November 2003 12:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thank u very much Kichik.<br />
      The script was rather large...so I tried to cut it out.<br />
      The problem is in line 99.<br />
      <br />
      i appreciate your concern</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">20th November 2003 12:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Code that is in the section will run when the installation actually begins. This happens after the components page is shown which is probably why you don't see any change. I should have probably put some seperator between the two in my message, sorry.<br />
      <br />
      I am begning to think that SectionSetFlags is not what you need here. Do you want to have all of the sections unselected by default? If that's the case, simply use the /o switch (only available in b4) for each section you don't want selected by default. If not, please explain when exactly you want to unselect it.<br />
      <br />
      If you are still using b3, put the SectionSetFlags call in .onInit. But don't use it on the subsection, use it on every section that you don't want selected.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pyjamarama</span><br />
      <span class="post-time small text-muted">20th November 2003 13:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thanx man!!!!!!<br />
      /o was what I needed.<br />
      I misinterpreted the documentation.sorry...</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
