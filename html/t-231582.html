<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="compilation error of 2.11 on a debian 3.0" />

  <title>compilation error of 2.11 on a debian 3.0 - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">compilation error of 2.11 on a debian 3.0</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=231582">compilation error of 2.11 on a debian 3.0</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">neotwix</span><br />
      <span class="post-time small text-muted">21st November 2005 17:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>compilation error of 2.11 on a debian 3.0</strong><br />
      I have an old debian server 3.0 for a couple of month again :(<br />
      And I want to compile the new 2.11 version. my 2.09 compile without any problems.<br />
      I compile makensis like that:<br />
      <br /></p>

      <blockquote>
        scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all
      </blockquote>I have the following error:<br />
      T_STANDARD_PREDEFINES -DNSIS_LOCKWINDOW_SUPPORT -DNSIS_CONFIG_PLUGIN_SUPPORT -DNSIS_FIX_COMMENT_HANDLING Source/Plugins.cpp<br />
      Source/Plugins.cpp: In function `size_t {anonymous}::file_size(ifstream &amp;)':<br />
      Source/Plugins.cpp:50: parse error before `pos'<br />
      Source/Plugins.cpp:54: `pos_type' is not a member of type `ifstream'<br />
      Source/Plugins.cpp:54: parse error before `='<br />
      Source/Plugins.cpp:55: `result' undeclared (first use this function)<br />
      Source/Plugins.cpp:55: (Each undeclared identifier is reported only once<br />
      Source/Plugins.cpp:55: for each function it appears in.)<br />
      Source/Plugins.cpp:57: `pos' undeclared (first use this function)<br />
      Source/Plugins.cpp:60: warning: control reaches end of non-void function `{anonymous}::file_size(ifstream &amp;)'<br />
      scons: *** [build/release/makensis/Plugins.o] Error 1<br />
      <br />
      thats correspond on PLugins.cpp file to:<br />

      <blockquote>
        namespace {<br />
        size_t file_size(ifstream&amp; file) {<br />
        const ifstream::pos_type pos = file.tellg();
      </blockquote>on this realy old debian, my gcc version is 2.95.3<br />
      It is the problem ?<br />
      Could it be fixed ?<br />
      I maybe could have a 3.04 version, but I can't be my default gcc compiler. So could I can set it with scons ?<br />
      If could be fix, it will be better :)<br />
      Thanks :)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">neotwix</span><br />
      <span class="post-time small text-muted">21st November 2005 17:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I only found it here:<br />
      /usr/include/g++-3/fstream.h<br />
      it maybe only a GGC 3 feature ;(</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pabs</span><br />
      <span class="post-time small text-muted">22nd November 2005 03:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I suggest that you upgrade the server to Debian Sarge (3.1). Debian Woody (3.0) does not have as good security support as sarge, and the upgrade should be mostly painless depending on the server.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">neotwix</span><br />
      <span class="post-time small text-muted">22nd November 2005 09:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Of course, the migration is planned but not for today. It's a dev server of my company, and we can't change quickly (libc and gcc impact on our software), so for the moment, I only have my debian 3.0 :(</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">22nd November 2005 17:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can specify the compiler using CC and CXX:</p>
      <pre>
<code>scons CC=gcc-3.0 CXX=g++-3.0</code>
</pre>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
