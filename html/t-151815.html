<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="How to check if there are spaces in the Installdir" />

  <title>How to check if there are spaces in the Installdir - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">How to check if there are spaces in the Installdir</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=151815">How to check if there are spaces in the Installdir</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">0kermit0</span><br />
      <span class="post-time small text-muted">7th October 2003 08:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>How to check if there are spaces in the Installdir</strong><br />
      1. Problem<br />
      <br />
      How can i check if there are spaces in the $Instdir ?<br />
      <br />
      i.e. i only want to allow $Instdir without any spaces in it. (test is allowed, te st is not allowed)<br />
      <br />
      How can i do this ?<br />
      <br />
      <br />
      <br />
      2. Problem<br />
      <br />
      I have two sections, and i want to allow only one section to be installed. And i want another $Instdir for each section.<br />
      <br />
      i.e:<br />
      <br />
      InstallDir "$PROGRAMFILES\${MUI_PRODUCT}"<br />
      ...<br />
      Section "Update" ; should have $Instdir<br />
      <br />
      ...<br />
      <br />
      Section "Demo-Update" ; should have $Instdir2<br />
      <br />
      <br />
      I know about SetOutPath. but i want the $Instdir(2) to appear in the dest.-dir dialog.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th October 2003 13:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">1. There is a function in the Archive that does exactly this:<br />
      <a href="http://nsis.sourceforge.net/archive/viewpage.php?pageid=179" target="_blank">http://nsis.sourceforge.net/archive/...php?pageid=179</a><br />
      <br />
      2. The best way would probably be deciding which section you wish to install in .onInit, hide the other one using SectionSetText ${secidx} "" and setting $INSTDIR accordingly.<br />
      <br />
      If you want to enable the user to select either one and set $INSTDIR accordingly you should simply set $INSTDIR to the appropriate value in the leave function of the components page according to the selection of the user. To allow the user to select only one section you should use a script similar to the one in the one-section.nsi example (in your Examples directory).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">0kermit0</span><br />
      <span class="post-time small text-muted">7th October 2003 14:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hello again,<br />
      <br />
      thanks, but ...<br />
      <br />
      how can i set the $Instdir in the leave function of the components page according to the selection?<br />
      <br />
      i get an error: "not valid in function"<br />
      <br />
      <br />
      <br />
      thanks in advance</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">7th October 2003 14:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">StrCpy $INSTDIR "C:\new\path"</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
