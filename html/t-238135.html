<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Additional icon in Uninstall.exe" />

  <title>Additional icon in Uninstall.exe - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Additional icon in Uninstall.exe</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=238135">Additional icon in Uninstall.exe</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">babszem</span><br />
      <span class="post-time small text-muted">15th February 2006 20:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Additional icon in Uninstall.exe</strong><br />
      Hi!<br />
      <br />
      I've checked out the documentation and browsed the forums, but I couldn't come up with a solution to the problem below.<br />
      <br />
      I have an installer for an application development kit, which copies (installs) libraries, headers and documentation on the client's machine. It does not install an executable (with an application icon) however.<br />
      Now I'd like to add an uninstall option into "Add/Remove programs". I've created the registry settings suggested in the documentation, and it works fine - except for one tiny detail. I've no way of adding a display icon to the uninstall entry in this list without actually installing an additional .ico file. (I cannot use tha uninstaller icon, since if you check your "Add/Remove programs" list you can see that all those icons are application icons.) Right now I wouldn't like to install the .ico file, so I thought to embed that icon in the generated Uninstall.exe. I grabbed Resource Hacker and used it to add the icon in the icon list, and it looks fine. I think I could even do this from the installer. (Yeah, I know it's an overkill, but let's concentrate on the problem here... :-)) There is still a problem however: if I modify the Uninstall.exe this way, then it starts complaining about a CRC check fail. So now what?<br />
      <br />
      Optimally I'd like to have a way to add additional icons from my NSIS script to the generated uninstaller.exe's resource list. Failing to do that I'd like to know if anyone knows of a way to accomplish this so I can pass the CRC check.<br />
      <br />
      TIA:<br />
      Babszem.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bhaelochon</span><br />
      <span class="post-time small text-muted">15th February 2006 20:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">To specify an icon in Add/Remove Programs, have a look here: <a href="http://nsis.sourceforge.net/wiki/Add_uninstall_information_to_Add/Remove_Programs" target="_blank">http://nsis.sourceforge.net/wiki/Add...emove_Programs</a><br />
      <br />
      Specifically:<br /></p>

      <blockquote>
        <i>DisplayIcon</i> (string) - Path, filename and index of of the icon that will be displayed next to your application name
      </blockquote>Secondly, your statement <i>I cannot use tha uninstaller icon, since if you check your "Add/Remove programs" list you can see that all those icons are application icons</i> is incorrect. You <b>can</b> use the uninstaller program's default icon, but you may choose not to.<br />
      <br />
      Finally, in answer to your actual question, use<br />
      <br />
      <font face="courier new">CRCCheck off</font><br />
      <br />
      to turn off the CRC check.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">babszem</span><br />
      <span class="post-time small text-muted">16th February 2006 12:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by bhaelochon</i><br />
        To specify an icon in Add/Remove Programs, have a look here: <a href="http://nsis.sourceforge.net/wiki/Add_uninstall_information_to_Add/Remove_Programs" target="_blank">http://nsis.sourceforge.net/wiki/Add...emove_Programs</a>
      </blockquote>As I've said<br />

      <blockquote>
        <i>Originally posted by babszem</i><br />
        I've created the registry settings suggested in the documentation
      </blockquote>so I did just what you're trying to remind me.<br />
      <br />

      <blockquote>
        <i>Originally posted by bhaelochon</i><br />
        Secondly, your statement <i>I cannot use tha uninstaller icon, since if you check your "Add/Remove programs" list you can see that all those icons are application icons</i> is incorrect. You <b>can</b> use the uninstaller program's default icon, but you may choose not to.
      </blockquote>That's just what I'm talking about. I choose not to, because it is an uninstaller icon, and would look quite stupid between all the application icons.<br />
      <br />

      <blockquote>
        <i>Originally posted by bhaelochon</i><br />
        Finally, in answer to your actual question, use<br />
        <br />
        <font face="courier new">CRCCheck off</font><br />
        <br />
        to turn off the CRC check. [/B]
      </blockquote>Yes, I've noticed that option, but I'd like to avoid that if possible, as it turns off the check for both the uninstaller AND the installer. A CRC check is a useful thing on it's own, so either I'd need to force the uninstaller to recalculate the checksum somehow, or have an NSIS instruction to add another icon to it's resource list.
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
