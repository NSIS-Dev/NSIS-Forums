<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Needy Newby..." />

  <title>Needy Newby... - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Needy Newby...</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=262210">Needy Newby...</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DJ2006</span><br />
      <span class="post-time small text-muted">21st December 2006 15:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Needy Newby...</strong><br />
      I have NEVER used a scripting language before.<br />
      <br />
      I need to produce an installation package for an executable that will also include transferring text files and installing a font. I'd like to show a licensing agreement. I'd also like to find out if there is some way to add very basic copy protection using the registry. (I'll live without the last if it is too complicated for me to implement.)<br />
      <br />
      I have the NSIS software installed. I was hoping for an interface that would let me check some options, type in names under "Executable", "Text Files", and "Fonts" headings, and, if need be, check a box under "use registry for copyright protection", then push the compile button. I know that's too easy. I've looked through the on-line working files, and find nothing that seems directly relevant. Honestly, they don't even make a lot of sense right now.<br />
      <br />
      When I start something new like this, I usually begin with a file that works and that has a manual that describes each line on a line-by-line basis. That starter file tends to do most of what I need, then I try to modify it to get it to do precisely what I want. When it doesn't, I post it with a question at a forum like this. Once the basic file works, I shouldn't need to be such a pain in the rear in the future, because I'll just change the names of the executables and text files or delete the add font section if I don't need to check for or add a font. (For example, I need to check for the "Courier" font and add it if it's not already there, or at least put up a warning that the user needs to add it or the software won't work if I can't legally distribute Courier, which I probably shouldn't attempt. I know that Courier should be present in Windows, but who knows, perhaps there are Courier font phobics out there who have deleted it...)<br />
      <br />
      I know there probably isn't that check box executable creation option out there. Is there at least a working source file and some instructions on how to make it compile, or whatever is necessary to at least test the installation? The last time I tried this VB came with its own installation wizard that produced the installshield files... So much for the "good old days"...<br />
      <br />
      Thanks for any assistance in advance.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">21st December 2006 15:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">My opinion is start with the basics. :-)<br />
      I can't think of a better way than to start compile and study the included examples.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DJ2006</span><br />
      <span class="post-time small text-muted">21st December 2006 15:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">(USING CAPS JUST TO DIFFERENTIATE FROM SUBSEQUENT TEXT.)<br />
      <br />
      I'VE TAKEN A QUICK LOOK AT THE EXAMPLE TWO. I WOULD MODIFY IT AS FOLLOWS TO ADD COPYING OF "TEXT1.TXT" AND "TEXT2.TXT" TO THE INSTALLATION DIRECTORY. I SAW NO EXAMPLE THAT WOULD SHOW ME HOW TO CHECK FOR A FONT AND INSTALL IF ITS NOT THERE, OR HOW TO ADD A LICENSING AGREEMENT SCREEN. THANKS FOR ANY INPUT:<br />
      <br />
      <br />
      ; example2.nsi<br />
      ;<br />
      ; This script is based on example1.nsi, but it remember the directory,<br />
      ; has uninstall support and (optionally) installs start menu shortcuts.<br />
      ;<br />
      ; It will install example2.nsi into a directory that the user selects,<br />
      <br />
      ;--------------------------------<br />
      <br />
      ; The name of the installer<br />
      Name "Example2"<br />
      <br />
      ; The file to write<br />
      OutFile "example2.exe"<br />
      OutFile "Text2.txt"<br />
      OutFile "Text1.txt"<br />
      <br />
      ; The default installation directory<br />
      InstallDir $PROGRAMFILES\Example2<br />
      <br />
      ; Registry key to check for directory (so if you install again, it will<br />
      ; overwrite the old one automatically)<br />
      InstallDirRegKey HKLM "Software\NSIS_Example2" "Install_Dir"<br />
      <br />
      ;--------------------------------<br />
      <br />
      ; Pages<br />
      <br />
      Page components<br />
      Page directory<br />
      Page instfiles<br />
      <br />
      UninstPage uninstConfirm<br />
      UninstPage instfiles<br />
      <br />
      ;--------------------------------<br />
      <br />
      ; The stuff to install<br />
      Section "Example2 (required)"<br />
      <br />
      SectionIn RO<br />
      <br />
      ; Set output path to the installation directory.<br />
      SetOutPath $INSTDIR<br />
      <br />
      ; Put file there<br />
      File "example2.nsi"<br />
      file "text1.txt"<br />
      file "text2.txt"<br />
      <br />
      ; Write the installation path into the registry<br />
      WriteRegStr HKLM SOFTWARE\NSIS_Example2 "Install_Dir" "$INSTDIR"<br />
      <br />
      ; Write the uninstall keys for Windows<br />
      WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Example2" "DisplayName" "NSIS Example2"<br />
      WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Example2" "UninstallString" '"$INSTDIR\uninstall.exe"'<br />
      WriteRegDWORD HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Example2" "NoModify" 1<br />
      WriteRegDWORD HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Example2" "NoRepair" 1<br />
      WriteUninstaller "uninstall.exe"<br />
      <br />
      SectionEnd<br />
      <br />
      ; Optional section (can be disabled by the user)<br />
      Section "Start Menu Shortcuts"<br />
      <br />
      CreateDirectory "$SMPROGRAMS\Example2"<br />
      CreateShortCut "$SMPROGRAMS\Example2\Uninstall.lnk" "$INSTDIR\uninstall.exe" "" "$INSTDIR\uninstall.exe" 0<br />
      CreateShortCut "$SMPROGRAMS\Example2\Example2 (MakeNSISW).lnk" "$INSTDIR\example2.nsi" "" "$INSTDIR\example2.nsi" 0<br />
      <br />
      SectionEnd<br />
      <br />
      ;--------------------------------<br />
      <br />
      ; Uninstaller<br />
      <br />
      Section "Uninstall"<br />
      <br />
      ; Remove registry keys<br />
      DeleteRegKey HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\Example2"<br />
      DeleteRegKey HKLM SOFTWARE\NSIS_Example2<br />
      <br />
      ; Remove files and uninstaller<br />
      Delete $INSTDIR\example2.nsi<br />
      Delete $INSTDIR\uninstall.exe<br />
      <br />
      ; Remove shortcuts, if any<br />
      Delete "$SMPROGRAMS\Example2\*.*"<br />
      <br />
      ; Remove directories used<br />
      RMDir "$SMPROGRAMS\Example2"<br />
      RMDir "$INSTDIR"<br />
      <br />
      SectionEnd</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">21st December 2006 16:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        I SAW NO EXAMPLE THAT WOULD SHOW ME HOW TO CHECK FOR A FONT AND INSTALL IF ITS NOT THERE...
      </blockquote><a href="http://nsis.sourceforge.net/Register_Fonts" target="_blank">http://nsis.sourceforge.net/Register_Fonts</a><br />
      <a href="http://nsis.sourceforge.net/FontName_plug-in" target="_blank">http://nsis.sourceforge.net/FontName_plug-in</a><br />
      <br />

      <blockquote>
        ...OR HOW TO ADD A LICENSING AGREEMENT SCREEN.
      </blockquote>For a beginning study the example basic.nsi. You'll find it at ${NSISDIR}\Examples\Modern UI.<br />
      ( ${NSISDIR} is the location of NSIS installation on your machine )
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sag47</span><br />
      <span class="post-time small text-muted">21st December 2006 16:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">HM NIS Edit is an AWESOME editor for NSIS. I tried it and was awed with it's ability to generate an easy script to start with. From there I just kept editing the script making it better.<br />
      <br />
      It uses a Wizard to generate a script based on the type of install and files you put into it.<br />
      <br />
      It's pretty cool. I started using it and haven't looked back.<br />
      <a href="http://hmne.sourceforge.net/" target="_blank">http://hmne.sourceforge.net/</a><br />
      <br />
      (If anyone gets mad b/c i'm mentioning it to alot of people then let me know. I really like it but i won't tell ppl about it if it's a problem)<br />
      SAM!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DJ2006</span><br />
      <span class="post-time small text-muted">21st December 2006 18:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The attached two files are named Example2 and license.txt, so don't put the first in your NSIS example's directory, or you'll lose the original.<br />
      <br />
      I've tried to incorporate the show license script from the home page, but I don't seem to have broken it up appropriately to get it to run while adding it to Example2. There must be some order in which the bits and pieces have to go that I don't yet have correct. As I indicated, I've tried to integrate it into Example2 from the examples directory. Can anyone advise how to get this file's contents into the correct order? It does compile, but it won't flash the license text (which is also attached and is merely the example2 file text) with an "I agree" button on the screen. Can anyone help get me get this file's contents straightened out, so I can move on to trying to add some basic "Enter license number" screen and a mathematical test to see if the license number meets the licensing algorithm's requirements, and be done with my not so fancy installation program?<br />
      <br />
      Thank you.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DJ2006</span><br />
      <span class="post-time small text-muted">21st December 2006 18:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I just took sag47's advice. If this tool does what my one time through the menu suggests it can do, I should be all set until the time comes to figure out how to get a user input and perform some mathematical tests to determine if its conforms to a licensing test algorithm.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">22nd December 2006 11:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">DJ2006, you could use [code] to differentiate code from text. There's no need for caps.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DJ2006</span><br />
      <span class="post-time small text-muted">22nd December 2006 14:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah, but that requires internet sophistication, and a specific form of knowledge, which I lack...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">22nd December 2006 15:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Then start reading ;) The bottom of the page has a link to vB code guide which tells you all you need to know.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
