<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="NSIS 2.01 compiling on RH9"><title>NSIS 2.01 compiling on RH9 - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">NSIS 2.01 compiling on RH9</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=194702">NSIS 2.01 compiling on RH9</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">tjyang</span><br><span class="post-time small text-muted">25th September 2004 18:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>NSIS 2.01 compiling on RH9</strong><br>Is there a make file for unix ? Looks like<br>the default one is for win32.<br><br>[root@dual Source]# make<br>make -C exehead<br>make[1]: Entering directory `/export/tmp/Source/exehead'<br>mingw32-gcc -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB bgbg.c -o Release-zlib/bgbg.o<br>make[1]: mingw32-gcc: Command not found<br>make[1]: *** [Release-zlib/bgbg.o] Error 127<br>make[1]: Leaving directory `/export/tmp/Source/exehead'<br>make: *** [exehead] Error 2<br>[root@dual Source]# uname -a<br>Linux dual 2.4.20-8smp #1 SMP Thu Mar 13 17:45:54 EST 2003 i686 i686 i386 GNU/Linux<br>[root@dual Source]#</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">25th September 2004 19:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The documentation states:</p><blockquote>When building with precompiled exehead .h files, you should set the USE_PRECOMPILED_EXEHEADS flag to 1 on the make command line. This forces the makefile to skip the compilation process of the exeheads, even if the .h files seem outdated or if dependencies are missing.<br><br>make USE_PRECOMPILED_EXEHEADS=1</blockquote>Taken from appendix D section 1: Compiling NSIS Sources.<br><br>Since you don't have a cross compiler and using the precompiled exheads is better anyway, you should use that flag.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">tjyang</span><br><span class="post-time small text-muted">26th September 2004 00:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for the reply.<br>1. I instaled the following mingw rpm packages.<br>[root@dual Source]# rpm -qa |grep mingw<br>mingw-runtime-3.2-7hl<br>mingw-w32api-2.5-7hl<br>binutils-mingw-2.15.90-4hl<br>gcc-mingw-3.2.3-7hl<br>[root@dual Source]#<br>2. The compile went smooth<br><br>[root@dual Source]# make<br>make -C exehead<br>make[1]: Entering directory `/export/tmp/Source/exehead'<br>make[1]: Nothing to be done for `all'.<br>make[1]: Leaving directory `/export/tmp/Source/exehead'<br>[root@dual Source]# ls<br>7zGuids.o DialogTemplate.o Plugins.o<br>7zip exedata.cpp RangeCoderBit.o<br>afxres.h exedata.h ResourceEditor.cpp<br>Alloc.o exedata.o ResourceEditor.h<br>blocksort.o exehead ResourceEditor.o<br>build.cpp huffman.o ResourceVersionInfo.cpp<br>build.h lang.cpp ResourceVersionInfo.h<br>build.o lang.h ResourceVersionInfo.o<br>bzip2 lang.o script.cpp<br>bzlib.o lineparse.h script.o<br>cbzip2.h LZInWindow.o ShConstants.h<br>clzma.h LZMAEncoder.o strlist.h<br>compress.o Makefile tokens.cpp<br>compressor.h makenssi.cpp tokens.h<br>crc32.c makenssi.dsp tokens.o<br>crc32.o makenssi.dsw trees.o<br>CRC.o makenssi.o uservars.h<br>czlib.h OutBuffer.o util.cpp<br>deflate.o Platform.h util.h<br>DialogTemplate.cpp Plugins.cpp util.o<br>DialogTemplate.h Plugins.h zlib<br>[root@dual Source]#<br><br>3. Now the question,Aren't they suppost to be "exe" or " linux binary"of makensis generated ?<br><br>[root@dual Source]# find . -type f -name "makenssi*" -print;find . -type f -name "*.exe" -print<br>./makenssi.cpp<br>./makenssi.dsp<br>./makenssi.dsw<br>./makenssi.o<br>./exehead/bin2h.exe<br>./exehead/Release-zlib/exehead_zlib.exe<br>./exehead/Release-bzip2/exehead_bzip2.exe<br>./exehead/Release-lzma/exehead_lzma.exe<br>[root@dual Source]#</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">tjyang</span><br><span class="post-time small text-muted">26th September 2004 01:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Oops, my bad. it is at ../makensis.<br>PS. can someone modify the makefile follow the common<br>practice. like<br>make [all]<br>make install<br><br>Thanks<br><br>&lt;snip&gt;<br>g++ -Wall -O3 -DCOMPRESS_MF_BT -c -o util.o util.cpp<br>gcc -Wall -s -Wl,-Map,../makensis.map -o ../makensis 7zGuids.o blocksort.o build.o bzlib.o compress.o CRC.o crc32.o deflate.o DialogTemplate.o exedata.o huffman.o lang.o LZInWindow.o LZMAEncoder.o Alloc.o makenssi.o OutBuffer.o Plugins.o RangeCoderBit.o ResourceEditor.o ResourceVersionInfo.o script.o tokens.o trees.o util.o -lstdc++ -lpthread<br>[root@dual Source]# ls ../makensis<br>../makensis<br>[root@dual Source]#</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">28th September 2004 19:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">There is an install script called install.sh in the root directory of the NSIS package.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>