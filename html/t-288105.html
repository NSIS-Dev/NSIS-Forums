<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Section" />

  <title>Section - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Section</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=288105">Section</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jfk</span><br />
      <span class="post-time small text-muted">7th March 2008 15:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Section</strong><br />
      Hi,<br />
      <br />
      ..I have some questions....<br />
      <br />
      1.- I have this in my code...<br />
      <br />
      Section "Bmp" scBmp<br />
      .....<br />
      SectionEnd<br />
      <br />
      Section "P" scP<br />
      ......<br />
      SectionEnd<br />
      <br />
      Section "Doc" scDoc<br />
      .....<br />
      SectionEnd<br />
      <br />
      Section "Word" scWord<br />
      .....<br />
      SectionEnd<br />
      <br />
      ...I would like to select in my "page custom" one of these sections......the problem is that no matter which my selection is, the program always execute only the first section, even though this one is not selected...<br />
      <br />
      I have tried several ways:<br />
      - !insertmacro SelectSection ${scDoc}<br />
      - SectionSetFlags ${scDoc} ${SF_SELECTED}<br />
      - !insertmacro MUI_* (in this moment i dont remember that code)<br />
      <br />
      Note: The code for selecting the section is in another .nsh<br />
      <br />
      <br />
      Question 2.- How do I change the watermarked text(Nullsoft Install System v2.35) in the dialogs?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">7th March 2008 15:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">All sections are selected by default. Read up Section again; you need to use the /o switch.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jfk</span><br />
      <span class="post-time small text-muted">7th March 2008 16:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for your answer. I have inserted /o, as explained in documentation, but still doesn't work. Any other suggestion?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">demiller9</span><br />
      <span class="post-time small text-muted">7th March 2008 16:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Make sure that the code to change the section selection is physically below the sections themselves. The section identifiers are actually defines, and if your code to change the selection is too early, the define will have a value of 0, the first section.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">7th March 2008 16:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Seems similar with something I made a couple of days ago.<br />
      Here's an example,<br /></p>
      <pre>
<code>!define CUST_INI "$PLUGINSDIR\custom.ini"<br />!include Logiclib.nsh<br />!include Sections.nsh<br /><br />outfile "test.exe"<br />showinstdetails show<br /><br />page custom CreateCustom LeaveCustom<br />page instfiles<br /><br />section "" sec1<br />detailprint "section 1 selected"<br />sectionend<br /><br />section /o "" sec2<br />detailprint "section 2 selected"<br />sectionend<br /><br />section /o "" sec3<br />detailprint "section 3 selected"<br />sectionend<br /><br />Function .onInit<br />    InitPluginsDir<br /><br />      WriteINIStr "${CUST_INI}" "Settings" "NumFields" "3"<br /><br />      WriteINIStr "${CUST_INI}" "field 1" "type" "radiobutton"<br />      WriteINIStr "${CUST_INI}" "field 1" "left" "30"<br />      WriteINIStr "${CUST_INI}" "field 1" "right" "-30"<br />      WriteINIStr "${CUST_INI}" "field 1" "top" "40"<br />      WriteINIStr "${CUST_INI}" "field 1" "bottom" "52"<br />      WriteINIStr "${CUST_INI}" "field 1" "Text" "section 1"<br />      WriteINIStr "${CUST_INI}" "field 1" "state" "1"<br />      WriteINIStr "${CUST_INI}" "field 1" "flags" "GROUP"<br /><br />      WriteINIStr "${CUST_INI}" "field 2" "type" "radiobutton"<br />      WriteINIStr "${CUST_INI}" "field 2" "left" "30"<br />      WriteINIStr "${CUST_INI}" "field 2" "right" "-30"<br />      WriteINIStr "${CUST_INI}" "field 2" "top" "60"<br />      WriteINIStr "${CUST_INI}" "field 2" "bottom" "72"<br />      WriteINIStr "${CUST_INI}" "field 2" "Text" "section 2"<br />      WriteINIStr "${CUST_INI}" "field 2" "state" "0"<br /><br />      WriteINIStr "${CUST_INI}" "field 3" "type" "radiobutton"<br />      WriteINIStr "${CUST_INI}" "field 3" "left" "30"<br />      WriteINIStr "${CUST_INI}" "field 3" "right" "-30"<br />      WriteINIStr "${CUST_INI}" "field 3" "top" "80"<br />      WriteINIStr "${CUST_INI}" "field 3" "bottom" "92"<br />      WriteINIStr "${CUST_INI}" "field 3" "Text" "section 3"<br />      WriteINIStr "${CUST_INI}" "field 3" "state" "0"<br />FunctionEnd<br /><br />Function CreateCustom<br />   push $0<br />        InstallOptions::Dialog "${CUST_INI}"<br />   pop $0<br />   pop $0   <br />FunctionEnd<br /><br />Function LeaveCustom<br />       ReadINIStr $0  "${CUST_INI}" "field 1" "state"<br />       ${If} $0 = 1<br />         # do nothing<br />       ${ElseIf} $0 = 0<br />        ReadINIStr $1  "${CUST_INI}" "field 2" "state"<br />        ${AndIf} $1 = 1<br />         !insertmacro UnselectSection ${sec1}<br />         !insertmacro SelectSection ${sec2}<br />       ${Else}<br />         !insertmacro UnselectSection ${sec1}<br />         !insertmacro SelectSection ${sec3}<br />       ${EndIf}<br />FunctionEnd</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jfk</span><br />
      <span class="post-time small text-muted">7th March 2008 18:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That worked just fine. Thank you all.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">7th March 2008 22:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by jfk</i><br />
        <b>That worked just fine. Thank you all.</b>
      </blockquote>told you it was something in !include Sections.nsh ;)
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
