<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="&quot;icon size mismatch&quot; again and again..." />

  <title>"icon size mismatch" again and again... - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">"icon size mismatch" again and again...</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=153682">"icon size mismatch" again and again...</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DropF</span><br />
      <span class="post-time small text-muted">23rd October 2003 10:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>"icon size mismatch" again and again...</strong><br />
      Hi,<br />
      <br />
      When I try to compile my installer, I got this error message:</p>

      <blockquote>
        Error finding icon resources: installer, uninstaller icon size mismatch - see the Icon instruction's documentation for more information -- failing!<br />
        Error - aborting creation process
      </blockquote>I've read all the topics I've found about this subject, but no one got my solution. Indeed, my problem is that my installer icon has the same formats of my uninstaller icon, and both got a size of 23,558 bytes.<br />
      <br />
      My uninstaller icon is the file ${NSISDIR}\Contrib\Graphics\Icons\modern-uninstall-full.ico. And here I join my installer icon. And I'm using the latest CVS version of NSIS (updated with the NSIS Update tool).<br />
      <br />
      Thank you for your help ;)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">23rd October 2003 11:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Your installer icon and uninstaller icon doesn't have the same order of internal icons.<br />
      <br />
      I will think about this and see if there is a reason for this requirement. If there isn't, I'll remove it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br />
      <span class="post-time small text-muted">23rd October 2003 11:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">why is this requirement for same icon size in nsis anyway?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">23rd October 2003 11:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Because including a resource editor in the installer is a waste of space and so is including a full exeheader for the uninstaller.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DOCa Cola</span><br />
      <span class="post-time small text-muted">23rd October 2003 19:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ah, good idea, so you are using basicly the same header for the installer and uninstaller, right? :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">23rd October 2003 22:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try with this :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DropF</span><br />
      <span class="post-time small text-muted">23rd October 2003 23:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Works fine with those icons. Thanks.<br />
      But what changes did you do??</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">24th October 2003 00:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Two things:<br />
      1. Same size<br />
      2. Same color depth.<br />
      :D<br />
      BTW: Your welcome ;)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DropF</span><br />
      <span class="post-time small text-muted">24th October 2003 09:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">But that's what I did :eek: : the both icons got the same size and the same color depth. But Kichik said:</p>

      <blockquote>
        Your installer icon and uninstaller icon doesn't have the same order of internal icons.
      </blockquote>So how did you put those icons in the same order?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">24th October 2003 12:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think most icon editors use the same order when resaving the files.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DropF</span><br />
      <span class="post-time small text-muted">24th October 2003 21:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Joost Verburg</i><br />
        <b>I think most icon editors use the same order when resaving the files.</b>
      </blockquote>In fact, I only need to resave each icon to reorder the icons in the .ico files, that's it?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">24th October 2003 22:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I don't know. It probably depends on the icon editor. You will have to try.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">26th October 2003 01:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Joost It's right. You must save your icon structures with the same<br />
      Icon editor. Try to save'em with Microangelo, AW Icons, etc..</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">8th December 2003 09:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Latest CVS version should not care about the order anymore. Note that I have not uploaded a compiled version yet.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lewellyn</span><br />
      <span class="post-time small text-muted">9th December 2003 03:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Keep in mind that the icon order is important if you're including certain icon sizes. Most good icon editors will automatically take care of this for you. (I use IconBuilder from <a href="http://www.iconfactory.com" target="_blank">www.iconfactory.com</a>.)<br />
      <br />
      Of particular note is (if I remember correctly...) 48x48 @ 16 colors. On most versions of Windows, if this icon size isn't in the correct location, no icons will show at all...<br />
      <br />
      Also, if you care about size, proper ordering of the icons will reduce the total size of the icon file. I've never understood this, but have verified it numerous times with various editors. Just find some old, free editor to save a few icons. Then re-save the file with a "good" editor. Sometimes the results are amazing. (But usually nothing to write home about...)<br />
      <br />
      Just my $0.02.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">9th December 2003 19:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">NSIS needs installer and uninstaller icons with the same size because it has to overwrite the installer icon data with the uninstaller data and including a resource editor is a waste of size.<br />
      <br />
      There is no reason for NSIS to care about the order, because it is possible to have totally correct icons with different orders.<br />
      <br />
      The ICO format can contain icon in any order. I don't know about limitations in old Windows versions, but it's up to the user to handle these things.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lewellyn</span><br />
      <span class="post-time small text-muted">9th December 2003 20:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I agree with Joost's assessment. Just wanted to make note of a pitfall that many people come across (even if they don't notice...). In fact, you can go out and buy a few of our CDs and see the effects... :cry:<br />
      <br />
      By forcing the user to keep the order the same makes it more likely that they have re-saved the icons with an editor recently. And most semi-recent editors will save in the proper order. (Even 2000 and XP have issues with out-of-order icons...)<br />
      <br />
      Anyway, the requirement is fairly arbitrary it seems. I, personally, haven't seen that error in quite a while. So it affects me not. Just babbling on... ;)<br />
      <br />
      --Matt</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">9th December 2003 21:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Forcing the user to use icons with the same image order does not guarantee that the order is correct.<br />
      <br />
      The ICO format does not contain any order requirements. Can you provide me with a link about Windows issues with icon order?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lewellyn</span><br />
      <span class="post-time small text-muted">9th December 2003 21:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, aside from the well-known "Don't include 24x24" and "1-bit icons are unnecessary" issues, the only thing I have at-hand is a PDF document that came with IconBuilder... I'll attach it in another message. Unfortunately, when I upgraded to XP, I lost my bookmarks (including all of my icon resources). If someone is suitably bored and ambitious, hopefully they can find the docs on either Google or Microsoft's site. I've found the info in both places... It's just a matter of finding the proper search terms, which I don't have time for at the moment.<br />
      <br />
      --Matt</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lewellyn</span><br />
      <span class="post-time small text-muted">9th December 2003 22:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Bah.</strong><br />
      You can't attach to a previous post... Anyway, attached is the PDF. The note about 48x48x16 is on the last page. It also doesn't affect the newest versions of IconBuilder, so this is primarily of historical interest to me. They had a release note at one point saying that they rearranged the icon order to make it work...</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
