<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="!system not recognizing short file name ?"><title>!system not recognizing short file name ? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">!system not recognizing short file name ?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=232789">!system not recognizing short file name ?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">msdarmawan</span><br><span class="post-time small text-muted">8th December 2005 05:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>!system not recognizing short file name ?</strong><br>I use !system but end up with following error :<br><br>!system: "C:\Program Files\NSIS\Bin\lzma "e" "C:\Program Files\NSIS\Contrib\DcryptDll\Ncrypt\Ncrypt.exe" "C:\Program Files\NSIS\Contrib\DcryptDll\Ncrypt.lza" "<br>'C:\Program' is not recognized as an internal or external command,<br>operable program or batch file.<br>!system: returned 1, aborting<br>Error in script "stdin" on line 214 -- aborting creation process<br><br>The script is :<br>!system '${NSISDIR}\Bin\lzma "e" "${NSISDIR}\Contrib\DcryptDll\Ncrypt\Ncrypt.exe" \<br>"${NSISDIR}\Contrib\DcryptDll\Ncrypt.lza" ' = 0<br><br>Advice carefully please...<br>thanks in advance...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">msdarmawan</span><br><span class="post-time small text-muted">8th December 2005 05:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry wrong title, it should be :<br>!system not recognizing long file name ?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">flyakite</span><br><span class="post-time small text-muted">8th December 2005 06:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You're missing quotes around the first ${NSISDIR} path.<br><br>You have: !system '${NSISDIR}\Bin\lzma "e".....<br><br>And it should be: !system '<font color="crimson">"</font>${NSISDIR}\Bin\lzma<font color="crimson">"</font> "e".....</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">msdarmawan</span><br><span class="post-time small text-muted">8th December 2005 07:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Already fix that...<br>But it still have the same error...<br><br>Advice more please...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">flyakite</span><br><span class="post-time small text-muted">8th December 2005 07:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Oh, probably because you have:<br><br>${NSISDIR}\Bin\lzma<br><br>That's not pointing to an actual file, it's just point to a directory. The errors says mentions it's not a valid internal or external command, OPERABLE PROGRAM or batch file.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">msdarmawan</span><br><span class="post-time small text-muted">8th December 2005 07:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have already change to<br><br>${NSISDIR}\Bin\lzma.exe<br><br>and check that lzma.exe is exist and running well on command prompt.<br><br>Another possibility... ???</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">onad</span><br><span class="post-time small text-muted">11th December 2005 00:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">For debugging e.g. silent installs (or yours) a messagebox with displaying the variables at that moment my come in very handy:<br><br>strcpy $0 "${NSISDIR}\Bin\lzma.exe"<br>MessageBox MB_OK "My value is now: $0"<br><br>BTW you are not confusing INSTALLTIME with BUILDTIME variables and locations are you?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">11th December 2005 12:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">That would require compilation of the installer of course, so I'd recommend using !error "${NSISDIR}\Bin\lzma.exe"<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br><span class="post-time small text-muted">11th December 2005 14:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>BTW you are not confusing INSTALLTIME with BUILDTIME variables and locations are you?</blockquote>nope, he's not, but you are! :)<br>afrow's solution should work.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">shrekkie</span><br><span class="post-time small text-muted">26th January 2006 02:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I am having the same problem here, I am trying to call Cabwiz.exe to create a cab..<br></p><pre>
<code><br>!system '"C:\Program Files\Windows CE Tools\wce420\POCKET PC 2003\Tools\cabwiz.exe" "${APPINF}.inf"'<br></code>
</pre><br>
      APPINF is already defined by the way...<br>
      <pre>
<code><br>'C:\Program' is not recognized as an internal or external command, operable program or batch file.<br></code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">26th January 2006 09:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try:<br>
      !system '"%COMSPEC%" /C "C:\Program Files\Windows CE Tools\wce420\POCKET PC 2003\Tools\cabwiz.exe" "${APPINF}.inf"'<br>
      <br>
      -Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">26th January 2006 18:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use !execute instead. It's some weird fetish of the command line processor to remove the first set of quotes, if the command line contains any other quotes. Alternatively, you can use a short file name for the executable.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">shrekkie</span><br>
      <span class="post-time small text-muted">27th January 2006 02:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Afrow UK</i><br>
        [B]Try:<br>
        !system '"%COMSPEC%" /C "C:\Program Files\Windows CE Tools\wce420\POCKET PC 2003\Tools\cabwiz.exe" "${APPINF}.inf"'
      </blockquote>That worked with a bit of modification...<br>
      <pre>
<code><br>!system '"$%COMSPEC% /C" "C:\Program Files\Windows CE Tools\wce420\POCKET PC 2003\Tools\cabwiz.exe" "${APPINF}.inf"'<br></code>
</pre><br>
      <br>
      So thank you for your efforts everybody :)
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>