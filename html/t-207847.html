<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="About Plugins"><title>About Plugins - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">About Plugins</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=207847">About Plugins</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">kike_velez</span><br><span class="post-time small text-muted">15th February 2005 12:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>About Plugins</strong><br>&nbsp; Hello<br><br>I know that these are questions too generals but ...<br><br>a)Is better to do the plugins with c or with c++ or is indiferent ?<br><br>b)The plugins in plugins/contrib have the files *.dsp and *.dsw . I think that these are files of Visual C++ . Is better to use it?<br><br>c)Whats compiler is better to use ? Dev-c++, lcc32, visual c++ ...?<br><br>Thanks in advance</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">15th February 2005 14:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">a) Whatever, dude :p .... but if you are in c++, remember to add the <b>extern "C"</b> thingy...<br><br>b) Visual Studio 4 and up (even .NET) can handle them... I think Dev-C++ use it as project converter...<br><br>c) Most of the source code are in Visual Studio 6 nor .NET. but you can open the the files (.c, .cpp, .h) in other IDEs and change whatever you need to change.... of course you need to know the syntax of the compiler.... for example MinGW, which comes in DEv-C++,isn't 100% compatible with the Visual C++ syntax.... &lt;_&lt;</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">15th February 2005 19:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The Microsoft compiler produces smaller executables. You can use the <a href="http://msdn.microsoft.com/visualc/vctoolkit2003/" target="_blank">new free toolkit</a> in combination with the <a href="http://www.microsoft.com/msdownload/platformsdk/" target="_blank">Platform SDK</a>.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kike_velez</span><br><span class="post-time small text-muted">16th February 2005 07:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks a lot :up:<br><br>@kichik :: Your second link don´t work :(. Can you attach the link again? Thanks<br><br>BTW , The free toolkit can work with projects ? I thought that it can work only with a simple file (a limitation).<br><br><br>Thanks in advance</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">16th February 2005 07:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Platform SDK - <a href="http://www.microsoft.com/msdownload/platformsdk/sdkupdate/" target="_blank">http://www.microsoft.com/msdownload/...sdk/sdkupdate/</a><br><br>I don't know if the toolkit works with project files, but nothing stops you from calling cl.exe on your own. cl.exe accepts more than one file.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kike_velez</span><br><span class="post-time small text-muted">16th February 2005 07:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks Kichik<br><br>You starts to work early ;)<br><br>Best Regards</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kike_velez</span><br><span class="post-time small text-muted">16th February 2005 08:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hello again<br><br>I see the link and there´s "Windows XP SP2 Platform SDK" but this not talk about win95,win98,.. That would to say that if I do a plugin with this sdk this plugin wouldn´t be compatible with the others operative sistems (win95,win98)?.<br><br>Thanks in advance<br><br>Note :: Sorry if this is an trivial question :(</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">16th February 2005 08:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No, it doesn't mean it won't work on versions other than XP SP2. It simply means it contains the tools required to build applications that take advantage of the new features XP SP2 has to offer.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kike_velez</span><br><span class="post-time small text-muted">16th February 2005 08:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks a lot</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kike_velez</span><br><span class="post-time small text-muted">17th March 2005 12:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hello<br><br>I install the Visual C++ Toolkit 2003 and the SDK.<br>The configuration of the shortcut is:<br></p><pre>
<code>
Set PATH=C:Archivos de programaMicrosoft Visual C++ Toolkit 2003bin;%PATH%
<br>&gt;Set INCLUDE=C:Archivos de programaMicrosoft Visual C++ Toolkit 2003include;%INCLUDE%
<br>&gt;Set INCLUDE=%INCLUDE%;C:Archivos de programaMicrosoft Platform SDK for Windows XP SP2Include
<br>&gt;Set LIB=C:Archivos de programaMicrosoft Visual C++ Toolkit 2003lib;%LIB%
<br>&gt;Set LIB=%LIB%;C:Archivos de programaMicrosoft Platform SDK for Windows XP SP2lib 
<br>&gt;
</code>
</pre>But when I compile the exdll.c (with the exdll.h) I see this error:<br>
      <br>
      With this sentence <b>Cl exdll.c /LD</b><br>
      <br>
      <pre>
<code>
dll
<br>&gt;/dll
<br>&gt;/implib:exdll.lib
<br>exdll</code>.obj
<br>   Creating library exdll.lib and object exdll.exp
<br>exdll.obj : error LNK2019: unresolved external symbol _
<br>renced infunction _myFunction
<br>exdll.obj : error LNK2019: unresolved external symbol _
<br>d infunction _myFunction
<br>exdll.dll : fatal error LNK1120: 2 unresolved externals 
<br>&gt;

</pre>a) What I am doing wrong?<br>
      <br>
      b) The sentence is the correct? What´s the sentence to do the dll more fast, little and good?<br>
      <br>
      The help of cl.exe (cl /?) is (see file attached).<br>
      <br>
      Thanks in advance
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">17th March 2005 17:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The error messages got trimmed, but according to the posted command line you've used, it seems you forgot to include a list of libraries to link to. In ExDLL's case, only kernel32.lib is needed. More complicated plug-ins may require more libraries.<br>
      <br>
      To get the smallest plug-in possible you need some more switches. Below is an example of compiling the UserInfo plug-in with these switches:<br>
      <br>
      cl /O1 UserInfo.c /LD kernel32.lib advapi32.lib /link /OPT:NOWIN98 /NODEFAULTLIB /ENTRY:DllMain</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br>
      <span class="post-time small text-muted">18th March 2005 08:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for your reply but the errors continues .<br>
      With this sentence :<br>
      <br>
      <b>cl /O1 exdll.c /LD kernel32.lib</b><br>
      <br>
      The errors are :<br>
      <br></p>
      <pre>
<code>
dll
<br>&gt;/dll
<br>&gt;/implib:exdll.lib
<br>exdll</code>.obj
<br>kernel32.lib
<br>   Creating library exdll.lib and object exdll.exp
<br>exdll.obj : error LNK2019: unresolved external symbol __imp__MessageBoxA@16 refe
<br>renced infunction _myFunction
<br>exdll.obj : error LNK2019: unresolved external symbol __imp__wsprintfA reference
<br>d infunction _myFunction
<br>exdll.dll : fatal error LNK1120: 2 unresolved externals 
<br>&gt;

</pre>Thanks in advance
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">18th March 2005 11:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use user32.lib too. For each error like that, go to MSDN and look for the "missing" API function. On the very bottom of the MSDN page, it says which library is required.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br>
      <span class="post-time small text-muted">18th March 2005 11:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">:D That works ¡¡¡<br>
      <br>
      The correct sentece is :<br>
      <br>
      <b>cl /O1 exdll.c /LD /link kernel32.lib user32.lib</b><br>
      <br>
      And creates a exdll.dll with 40kb. Is a normal size?<br>
      <br>
      Thanks</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">18th March 2005 12:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No, it's way too big. Use the extra command line options I mentioned above.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br>
      <span class="post-time small text-muted">18th March 2005 12:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This works¡¡¡<br>
      <br>
      <b>cl /O1 exdll.c /LD /link kernel32.lib user32.lib /<br>
      OPT:NOWIN98 /NODEFAULTLIB /ENTRY:DllMain</b><br>
      <br>
      And now have only 3kb¡¡¡<br>
      <br>
      Thanks a lot</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br>
      <span class="post-time small text-muted">18th March 2005 12:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This works¡¡¡<br>
      <br>
      And now have only 3kb¡¡¡<br>
      <br>
      <b>cl /O1 exdll.c /LD /link kernel32.lib user32.lib /<br>
      OPT:NOWIN98 /NODEFAULTLIB /ENTRY:DllMain</b><br>
      <br>
      Thanks a lot</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">14th May 2005 02:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I also recomment <a href="http://www.codeblocks.org/" target="_blank">C::B</a> is an IDE for the Toolkit and is Open Source ;)<br>
      <br>
      I'm testing it know and seems to working OK :up:</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br>
      <span class="post-time small text-muted">17th May 2005 09:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        I also recomment C::B is an IDE for the Toolkit and is Open Source
      </blockquote>I use Eclipse vith the toolkit but i have not a debugger.<br>
      What about with C::B ?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br>
      <span class="post-time small text-muted">17th May 2005 14:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes ;)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br>
      <span class="post-time small text-muted">24th August 2005 12:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>plugins for Windows and Linux</strong><br>
      &nbsp; Hello<br>
      <br>
      I know that the NSIS is port to Linux and BSD (I think).<br>
      Are there <b>recomendations</b> when we do plugins for that these can be useful on Windows or Linux machines ?<br>
      <br>
      Best Regards</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br>
      <span class="post-time small text-muted">24th August 2005 16:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">For your understanding, you can make ,as in produce, a WINDOWS installer (SETUP.EXE) via makensis on a POSIX system, e.g. Linux.<br>
      <br>
      This is very handy if you do a nightly build of a Windows Installer on a POSIX system.<br>
      <br>
      So, NSIS is NOT used for creating runnable installers which target the Linux client PC.<br>
      <br>
      For a working makensis on Linux, see screenshots on Suse 9.3.<br>
      <br>
      Yes, if you look closly the finished build installer runs, but under WINE, that's why ;)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br>
      <span class="post-time small text-muted">25th August 2005 08:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>