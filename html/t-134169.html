<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Bugs with Section management"><title>Bugs with Section management - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Bugs with Section management</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=134169">Bugs with Section management</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">veekee</span><br><span class="post-time small text-muted">3rd May 2003 22:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Bugs with Section management</strong><br>Hi<br><br>I'll take a basic script : one-section.nsi (in Examples folder). I'll use the macros (because it's more simpler to write ;) ) !<br>If i change the<br>!insertmacro SelectSection ${sec1}<br>into<br>!insertmacro UnselectSection ${sec1}<br><br>... the 1st section should normally unselected ! That's what i expected ! That's not what happends...<br>The first section's still selected :(<br><br>I hope you'll fix that soon ;)<br><br>Regards<br><br>Julien</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">3rd May 2003 22:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">What do you mean? It works fine for me. If you want to change the required section, you have to add a define to the Section command.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">veekee</span><br><span class="post-time small text-muted">3rd May 2003 22:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi<br><br>Here is the new .oninit function for the one-section.nsi ...<br>Function .onInit<br>Push $0<br>StrCpy $1 ${sec1} ; Gotta remember which section we are at now...<br>!insertmacro UnselectSection ${sec1}<br>!insertmacro UnselectSection ${sec2}<br>!insertmacro UnselectSection ${sec3}<br>!insertmacro UnselectSection ${sec4}<br>Pop $0<br>FunctionEnd<br><br>As i said, i'm using the macros.. the only change between that script and the original one is that i want that sec1 section is unselected !<br><br>I'm using yestreday's cvs snapshot, and for this do not work !<br>The sec1 section is still selected :( !<br>Do i understand badly the use of these macros ?<br><br>Regards<br><br>Julien</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">4th May 2003 11:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">That's because one-section.nsi always selects one section, that's what .onSelChange does. Remove that function and it works.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">veekee</span><br><span class="post-time small text-muted">4th May 2003 13:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I'm confused.. i tried to get a simple example for my problem and i gave a wrong one !<br>In fact, there's an additionnal parameter, : in my installer i have several install types. The section i want to unselect belongs to the default install type (which is displayed by default). Because of that, my setting is overwritten when the component page is displayed. Raaaaaah, i'll have to find another way to unselectect it (maybe by removing it from all install types....) !<br><br>Thanks for answers !</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>