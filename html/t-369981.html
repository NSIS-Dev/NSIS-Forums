<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Globalization of a NSIS installer"><title>Globalization of a NSIS installer - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Globalization of a NSIS installer</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=369981">Globalization of a NSIS installer</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">tostermann</span><br><span class="post-time small text-muted">30th August 2013 22:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Globalization of a NSIS installer</strong><br>Over the past several years, I have developed a NSIS installer with several custom pages which utilize MUI macros, installOptions, and custom code. Now, I am trying to globalize my installer, but I have not found many good options.<br><br>I would like to find an option that utilizes resource files that can be trigged by a server's default language. I found the below solution, but I have had some problems with it.<br><br><a href="http://nsis.sourceforge.net/Adding_Language_strings_as_resources" target="_blank">http://nsis.sourceforge.net/Adding_L...s_as_resources</a><br><br>Issue1:<br><br>Is there a way to call a macro outside a section or function so that I can load a custom message for items like !define MUI_WELCOMEPAGE_TITLE? I always get the error -- "Can't add entry, No section or function is open!<br><br>Issue2:<br><br>If anyone has used this solution, have you found a way to add more than one .res file to the NSIS header in order to use different message tables based on a server's default language at runtime and not compile time.<br><br>Am I headed down the right path or is there a better solution than the ones that I have found? Basically, I don't want a user to have to choice a language at installation, and I don't want a bunch of different language specific variable strings in my .nsh and nsi files.<br><br>Thanks in advance for any help or advice you can provide.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br><span class="post-time small text-muted">2nd September 2013 08:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Use combination of LangString(s) and !define(s).<br><br>Create all necessary texts somewhere in the beginning of installations - e.g. after .onInit function.<br><br>You can use LangString(s) and !define(s) together to build whole sentences e.g.:<br><br>StrCpy $0 "$(ThisIs_LangString)${APP_NAME}"<br><br>LangString(s) are automatically 'translated' -&gt; the appropriate value is taken by NSIS during runtime - based on the language user selects.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">tostermann</span><br><span class="post-time small text-muted">3rd September 2013 22:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Thanks T. Slappy</strong><br>Thanks for your response to my thread/questions. I was aware of the use of LanguageStrings; however, I don’t want to have the user select a language. I want the language to be driven off the Default Language Id of the server. I also don't want to have different strings for the various languages coded inside my installer files. I have a large installer with several custom pages and many messages to globalize. I am looking for a resource file based solution so that the file(s) can be sent out to be translated, and the translator won't need to modify the source code NSIS (.nsh, nsi, and ini) files).<br><br>Does anyone know of any such option to be used in NSIS?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">tostermann</span><br><span class="post-time small text-muted">3rd September 2013 22:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for your response to my thread/questions. I was aware of the use of LanguageStrings; however, I don’t want to have the user select a language. I want the language to be driven off the Default Language Id of the server. I also don't want to have different strings for the various languages coded inside my installer files. I have a large installer with several custom pages and many messages to globalize. I am looking for a resource file based solution so that the file(s) can be sent out to be translated, and the translator won't need to modify the source code NSIS (.nsh, nsi, and ini) files.<br><br>Does anyone know of any such option to be used in NSIS?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">4th September 2013 02:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can append data to the end of the .exe without breaking the CRC check. Read the data with the NSIS File* instructions...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kcvvel</span><br><span class="post-time small text-muted">4th September 2013 17:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">HTH..!!!<br><br><a href="http://nsis.sourceforge.net/Creating_language_files_and_integrating_with_MUI" target="_blank">http://nsis.sourceforge.net/Creating...ating_with_MUI</a></p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>