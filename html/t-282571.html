<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Username and Password" />

  <title>Username and Password - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Username and Password</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282571">Username and Password</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fightin_Foo</span><br />
      <span class="post-time small text-muted">3rd December 2007 15:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Username and Password</strong><br />
      I am trying to write an installer for a service, and I would like the service to be installed under the current user and not the system user. I've seen several plugins that handle services, and they need to username and password of the account to install the service to. Is there a way to get a user's username and password?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ClayDowling</span><br />
      <span class="post-time small text-muted">3rd December 2007 16:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">nsDialogs would be a good place to start. I wrote my first custom screen last week and fell completely in love with it. Much easier to use than the old InstallOptions.<br />
      <br />
      You'll need to verify that the username and password are valid before you accept them, which you should do on the Leave function of your custom page.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fightin_Foo</span><br />
      <span class="post-time small text-muted">3rd December 2007 16:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I was hoping for a way of just getting them and not prompting the user. Is there a way to just look them up with some system call or registry entry?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Anders</span><br />
      <span class="post-time small text-muted">3rd December 2007 16:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">username:<br />
      System::Call "advapi32::GetUserName(t .r0, *i ${NSIS_MAX_STRLEN} r1) i.r2"<br />
      DetailPrint "User name - $0"<br />
      <br />
      to get the password you would probably have to bruteforce the SAM database lol</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ClayDowling</span><br />
      <span class="post-time small text-muted">3rd December 2007 16:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Not particularly. For one, the installing user probably isn't the one who will be running the service. Having a service run as a user with Administrative privileges is a really bad idea, because any flaw in your program will allow an attacker to smash the stack in your program and run their own code on the machine with administrator rights.<br />
      <br />
      There's a system account with privileges less than an administrator that is a common choice, but I don't know the details of using it. The absolute safest option is to create your own user and run the service as that user. That user has extremely restricted privileges, so that even if miscreants hijack your service they'll be fairly restricted in what they can do.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fightin_Foo</span><br />
      <span class="post-time small text-muted">4th December 2007 14:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for all the info everybody.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
