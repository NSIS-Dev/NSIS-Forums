<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Executing dos command" />

  <title>Executing dos command - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Executing dos command</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=333806">Executing dos command</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ArcSlayer</span><br />
      <span class="post-time small text-muted">19th August 2011 10:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Executing dos command</strong><br />
      is there a way to execute dos command?<br />
      like for installing services: &lt;service name&gt; /install<br />
      or for adding registry: reg add HKEY_CURRENT_USER\... /v &lt;app name&gt; /t REG_SZ /d &lt;path&gt;</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">19th August 2011 11:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">When I google 'NSIS dos command', the third hit gives everything you need... Next time, please bother searching for the answer before asking.<br />
      <br />
      However, I fail to understand how dos commands relate to services and/or registry. NSIS has a big list of registry functions that you can use (see the manual). Services can be installed with a plugin. Again, google is your friend.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ArcSlayer</span><br />
      <span class="post-time small text-muted">22nd August 2011 06:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">sorry may be i search with the wrong keyword.<br />
      and yes there a plugin related to services and registry.<br />
      for the registry it work fine with me(the problem was on windows UAC. when i turn it off, my application work fine).<br />
      but for the services, i try using plugins to install my services. it can install my services but my services cannot run, stopped, or uninstalled even with UAC turned off. when i work on my services application, i install it manualy to test it using dos command and it can start, stop and being uninstalled.<br />
      i don't know what is going wrong, so i try to use dos command.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">22nd August 2011 06:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You probably need admin access in your installer. Add 'requestexecutionlevel admin' and use the UserInfo plugin in .onInit to verify that you got admin access (and throw an error and quit if you didn't).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Roger_wgnr</span><br />
      <span class="post-time small text-muted">23rd August 2011 08:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by MSG</small><br />
        Services can be installed with a plugin.
      </blockquote>This is not always true, I have dealt with several services that had to be self registered by use of a command line switch or they would not operate correctly (do not know if that is his issue or not).<br />
      <br />
      But to answer the question have a look at ExecWait in some cases I have had to use nsexec::exec or nsexec::exectostack.
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
