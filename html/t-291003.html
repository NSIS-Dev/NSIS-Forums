<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Setting a File Security for Vista" />

  <title>Setting a File Security for Vista - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Setting a File Security for Vista</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=291003">Setting a File Security for Vista</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kenmaz</span><br />
      <span class="post-time small text-muted">28th April 2008 21:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Setting a File Security for Vista</strong><br />
      Hi,<br />
      <br />
      My company uses NSIS and made a script that installs fine on WinXP. On Vista however, the program crashes, because a certain file does not have 'Full Control' for the 'Users' group on the file. I changed the file type to normal using FILE_ATTRIBUTE_NORMAL but I can't seem to figure out how to make it so all the users have full control over the file. I've searched google without any luck. Any advice, suggestions, comments would be appreciated. Thanks,<br />
      <br />
      -Ken</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kenmaz</span><br />
      <span class="post-time small text-muted">28th April 2008 21:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think I should add...<br />
      <br />
      If you manually run the exe as an administrator or manually change these files settings the program runs normally.<br />
      <br />
      Thanks,<br />
      <br />
      -Ken</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">28th April 2008 23:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can use the AccessControl plug-in to set the permissions of that file. But you shouldn't. You should fix the program so it doesn't require such a solution as it poses a security risk.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kenmaz</span><br />
      <span class="post-time small text-muted">29th April 2008 00:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for the quick response kichik. I'm all for doing the clean solution, but I'm not exactly sure what it would be.<br />
      <br />
      The file that should be accessible for all users is a database copied to the All Users folder. We want to make it so the changes of the database impact all users, and this seems like the place to put the database. The application requires users have the ability to modify the database.<br />
      <br />
      Are there any other solutions, which I am overlooking? Thanks again,<br />
      <br />
      -Ken</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">29th April 2008 19:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Having the changes affect other users is the security risk itself. You can't solve it without removing this feature.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
