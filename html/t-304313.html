<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to select the installation directory?"><title>How to select the installation directory? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to select the installation directory?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=304313">How to select the installation directory?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">VHLK</span><br><span class="post-time small text-muted">18th March 2009 09:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to select the installation directory?</strong><br>Hi,<br>I'm using NSIS Version 2.44 for compilation. In the script I have added the line 'Page Directory'. So I'm expecting the installer to ask the user for installation directory selection. But this is not happening for me. It is not asking for the directory selection. Only option I have is to go with 'Install' button.<br><br>I have mentioned default output directory as C: . So it is installing in C: drive without asking.<br><br>I have tried with sample code with same 'Page Directory'. But in this case it is promptly asking the user for installation path.<br><br>What could be the problem?.<br><br><br>Regards,<br>VHLK</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Animaether</span><br><span class="post-time small text-muted">18th March 2009 12:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">without seeing your code, I'm not sure what might be the cause.<br><br>Does this code work?<br></p><pre>
<code><br>!include "winmessages.nsh"<br>!include "LogicLib.nsh"<br>!include "nsDialogs.nsh"<br><br>Outfile "test.exe"<br>ShowInstDetails show<br><br>var dialog<br>var hwnd<br>var null<br><br>Page custom customPageA<br>Page directory<br>Page custom customPageB<br>Page Instfiles<br><br>Function customPageA<br>        StrCpy $INSTDIR "c:\"<br>        nsDialogs::Create 1018<br>                Pop $dialog<br><br>        ${NSD_CreateLabel} 37% 8% 61% 30% "Installdir: $INSTDIR"<br>            Pop $null<br><br>        nsDialogs::Show<br>FunctionEnd<br><br>Function customPageB<br>        nsDialogs::Create 1018<br>                Pop $dialog<br><br>        ${NSD_CreateLabel} 37% 8% 61% 30% "Installdir: $INSTDIR"<br>            Pop $null<br><br>        nsDialogs::Show<br>FunctionEnd<br><br>Section ""<br>        DetailPrint "Installing to: $INSTDIR"<br>SectionEnd<br></code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sag47</span><br>
      <span class="post-time small text-muted">18th March 2009 16:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You may find you'll have more luck with an NSIS script installer wizard where your installer script is generated for you. I found HM NIS Edit to have a great wizard and when I was a beginner it helped me to create my first installers.<br>
      <br>
      <a href="http://hmne.sf.net" target="_blank">http://hmne.sf.net</a><br>
      <br>
      ~SAM~</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>