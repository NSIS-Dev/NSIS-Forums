<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="New Plugin API"><title>New Plugin API - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">New Plugin API</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=301320">New Plugin API</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Speed78</span><br><span class="post-time small text-muted">22nd December 2008 18:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>New Plugin API</strong><br>Hello,<br><br>I just saw that the new release brings a modified plug-in api. IÂ´m the developer the Simple Service Plugin and the Simple Firewall Plugin which are written in Delphi. I check the Examples\Plugin Directory, but the delphi "headers" (NSIS.PAS) are not changed. So must I change this or should I change this?<br><br>I tried to create a setup with my current versions of the plugin (old plugin api) and it seemed to be ok! Other plugins I used e.g. "KillProc" or "GetVersion" are running without any problems.<br><br>What is the big change and what exactly should/must I do to rewrite the plugin?<br><br>Kind regards<br><br>Rainer<br><br>BTW: Is there any newletter system to get infos about new releases?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">22nd December 2008 18:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You don't HAVE to do anything, older plugins will continue to work just like they used to, but if you want to get rid of /NOUNLOAD and unloading problems, you could implement the new message callback (the delphi header has not been updated as you said, I don't think any of the devs use delphi)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Speed78</span><br><span class="post-time small text-muted">22nd December 2008 18:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">What exactly are the unloading problems? Are plugins not unloaded after a plugin-function call? What is the default behaviour?<br><br>Kind regards<br><br>Rainer</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">22nd December 2008 19:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">some plugins need to stay loaded after the call returns, /NOUNLOAD does that, but when you do that you have to remember to call the plugin again without that flag so it does not stay in memory when nsis is going to delete $instdir</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>