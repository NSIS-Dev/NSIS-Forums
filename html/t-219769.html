<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Using an external property file at compile time" />

  <title>Using an external property file at compile time - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Using an external property file at compile time</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=219769">Using an external property file at compile time</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">todd_run</span><br />
      <span class="post-time small text-muted">25th June 2005 00:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Using an external property file at compile time</strong><br />
      I swear I saw a quick and easy way to use an external property file to set variables in a .nsh file. Of course, I didn't pay enough attention to really understand it, or to make a note of where I found it.<br />
      <br />
      I already have a property file that I use with an ant script - I'd love to have my nsh script use this same info. Is it possible? If so, how?<br />
      <br />
      Thanks in advance!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2005 10:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What does this property file look like? Can it be read using ReadINIStr?<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">todd_run</span><br />
      <span class="post-time small text-muted">27th June 2005 19:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, that was it. I passed over this time and time again while going through the docs. Thanks!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">saivert</span><br />
      <span class="post-time small text-muted">30th June 2005 06:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ReadINIStr is actually a run-time command so in order to use it at compile time you must write a new "installer" which performs the compile-time tasks and call this using !system in your script. Maybe have the "installer" create a .nsh file.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">todd_run</span><br />
      <span class="post-time small text-muted">30th June 2005 15:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I actually I wrote the NSIS script with placeholders for the variables. I use ant to replace the placeholders and then to call makensis. This ended up being very convenient since it works with other parts of the build as well (no more trying to come up with a single property file with a format that works for multiple purposes).<br />
      <br />
      Thanks all!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">30th June 2005 16:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Rather than use placeholders you could have just written the vars to another file and !include it in the main script.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
