<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Nsis cpack" />

  <title>Nsis cpack - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Nsis cpack</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=327306">Nsis cpack</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mervin</span><br />
      <span class="post-time small text-muted">14th February 2011 16:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Nsis cpack</strong><br />
      I am using CPACK - NSIS to generate my installer.<br />
      When am trying to re-install my app on an existing installation it installs. But, when the app is running am not able to install it (the windows OS gives me some error). To avoid this I want to add a message box which says "The APP is already running, please close it before you install".<br />
      To do that I need to check if the process is running, something like FindProcDLL.<br />
      So is there a way to run the NSIS command in the cpack before the actual installation.<br />
      <br />
      When I use CPACK_NSIS_EXTRA_INSTALL_COMMANDS the windows OS errors come up, but the message box comes up only after the installation.<br />
      <br />
      Please advice<br />
      Thanks!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">15th February 2011 06:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I don't know what CPACK is, but chances are you'll have to write your own script.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mervin</span><br />
      <span class="post-time small text-muted">15th February 2011 15:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Cpack</strong><br />
      Thanks for the reply.<br />
      CPack is a packaging system, it allows us to generate NSIS files.<br />
      <br />
      I have a NSIS script but I dont know where to use it in cpack.<br />
      When I generate the installer using the project.nsi script it works fine.<br />
      <br />
      With CPACK_NSIS_EXTRA_INSTALL_COMMANDS the warning dialog appears but at the end of the installation. I want it to check if the app is running already and abort the installation at the beginning.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">15th February 2011 19:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">My point was: You may have to write your own installer script. Instead of using some automated script generator such as Cpack or the zip2exe wizard. For details on the use of Cpack, you'll have to ask the creators of Cpack.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mervin</span><br />
      <span class="post-time small text-muted">15th February 2011 20:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Okay. Thanks!<br />
      But, there should be a way to do it, since it does run post installation.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
