<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="visible Components depending on InstType"><title>visible Components depending on InstType - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">visible Components depending on InstType</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=160247">visible Components depending on InstType</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">LazyBear</span><br><span class="post-time small text-muted">17th December 2003 10:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>visible Components depending on InstType</strong><br>Yeah...it's going on... I'm learning :D<br><br>well - I've another boring question ;) :<br><br>I Have 3 Install types with very different Sections<br>so I want to show only the Sections of the chosen InstType<br>like this:<br><font color="red"><br>Type 1<br>full Software<br>(Server database used)<br><br>Type 2<br>Software(Serverbased)<br>(Server database used)<br><br>Type 3<br>full Software<br>own Database<br></font><br>It should appear like this^^<br>but I don't know how to :(<br><br>maybe I'm still to silly to find it in the Manual...<br><br>:cry:<br><br>so long -L-B-</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">17th December 2003 12:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can't hide components when the components page is already shown. If you want to not let the user select some sections, you can make them read-only (SectionIn RO).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">LazyBear</span><br><span class="post-time small text-muted">17th December 2003 12:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>hmm</strong><br>is there any other way to let the user choose an Installtype and then show only the components included?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">17th December 2003 13:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well, you can create a custom page for either one. A custom page for selecting the install type or a custom page for showing the selected sections. You can also create one custom page for both using the new NOTIFY code in InstallOptions. Create 3 radio buttons, use the NOTIFY flag for all and change the text on some other control in the page according to the NOTIFY code. See Contrib\InstallOptions\testnotify.nsi for an example.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">17th December 2003 13:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can create a custom InstallOptions page with either 3 radio buttons, one for each install or even a drop-down combobox which will allow the user to chose the install type. Then just display the custom page before the component page and then disable/hide the required sections.<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">LazyBear</span><br><span class="post-time small text-muted">22nd December 2003 10:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>further question</strong><br>Ok, I think I've got it... step by step but with a real success... thats great!<br><br>Well I need to know, how I can choose the Sections with the Script...<br><br>I've built an IO Page with 3 RadioButtons, and give their value to a variable, because I show an info depending on this "Install Type". It looks fine and works good, but there is no real important function because I need to choose the Sections with this RadioButtons...<br><br>k thats it...bad english, I hope you anderstand<br><br>so long -L-B-</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br><span class="post-time small text-muted">22nd December 2003 11:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ok, i'll explain in german, it's easier for me and you:<br><br>definier als erstes ne leave-function für deine custom-page oder ne pre-function für deine componentspage.<br></p><pre>
<code>Page custom prefunction leavefunction<br>Function leavefunction<br>FunctionEnd</code>
</pre><br>
      oder:<br>
      <pre>
<code>!define MUI_PAGE_CUSTOMFUNCTION_PRE prefunction<br>!insertmacro MUI_PAGE_COMPONENTS</code>
</pre><br>
      in der liest du dann die installoptions.ini deiner custompage aus und setzt die entsprechenden section-flags. wenn eine section unsichtbar sein soll, ändere ihren namen mit sectionsettext auf "".
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LazyBear</span><br>
      <span class="post-time small text-muted">23rd December 2003 08:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>another Idea</strong><br>
      Well I have an Idea... I don't know if NSIS is able to handle it...<br>
      <br>
      What about writing the stuff I want to Install into a ini or txt file - just like:<br>
      <br>
      SetOutPath $INSTDIR\Folder1<br>
      <br>
      <br>
      File "C:\File 1.dat"<br>
      File "C:\File 2.mpg"<br>
      File "C:\File 3.exe"<br>
      <br>
      then I write a second file like<br>
      <br>
      File "C:\File 4.dat"<br>
      File "C:\File 5.dat"<br>
      File "C:\File 6.exe"<br>
      <br>
      depending on the selection I use one of this txt/ini files<br>
      as a section or in the section<br>
      <br>
      maybe this Idea is useless... this would be exactly what I need... maybe someone can help me</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">23rd December 2003 12:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmm... I am not sure I understand. If it's depending on the section, why not just put it in the section? The section code will not be executed if the section is not selected.</p>
      <pre>
<code>Section 1<br>File "C:\File 1.dat"<br>File "C:\File 2.mpg"<br>File "C:\File 3.exe"<br>SectionEnd<br><br>Section 2<br>File "C:\File 4.dat"<br>File "C:\File 5.dat"<br>File "C:\File 6.exe"<br>SectionEnd</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LazyBear</span><br>
      <span class="post-time small text-muted">23rd December 2003 13:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>you're right</strong><br>
      yes thats the normal way... but I didn't really understand how to set the section flags... I've read the examples, but anyway I didn't understand... well I haven't the time to learn it consequent... not in the moment... sad but true</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">23rd December 2003 14:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It's just one line:</p>
      <pre>
<code>!insert UnselectSection ${sectionIndexId}</code>
</pre>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>