<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Showing video just after pressing install ?"><title>Showing video just after pressing install ? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Showing video just after pressing install ?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=298969">Showing video just after pressing install ?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br><span class="post-time small text-muted">21st October 2008 15:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Showing video just after pressing install ?</strong><br>Hi again,<br><br>Im wondering if its possible to show the video i created, and extracted before all else faster when pressing install ?<br><br>this is what i did to make it show it after i press install, but on slow systems, the video would be almost 30 sec to start, and installation is half done hehe, though video is 9 Mb only ?<br><br>Function .onInit<br>CreateDirectory "c:\vidtmp8\"<br>file "/oname=c:\vidtmp8\vidtmp8.exe" "G:\Projector.exe"<br>ReadRegStr $R0 HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\GhostRecon.exe" "path"<br>StrCmp $R0 "" NotPresent Present<br>notpresent:<br>MessageBox MB_OK "Welcome To BoB Map Pack installer, browse to your ghostrecon installation folder to install this mod."<br>StrCpy $INSTDIR "$programfiles\Red Storm Entertainment\Ghost Recon\"<br>goto done<br>present:<br>strcpy $instdir $R0<br>done:<br>FunctionEnd<br><br>Function .onVerifyInstDir<br>IfFileExists $INSTDIR\ghostrecon.exe PathGood<br>Abort<br>PathGood:<br>FunctionEnd<br><br>Section "MainSection" SEC01<br><b>Exec "c:\vidtmp8\vidtmp8.exe"</b><br>SetOutPath "$INSTDIR\Mods\Bobs Mappack 1_3"<br>SetOverwrite on<br>File /r "G:\Ghost Recon\mods\Bobs Mappack 1_3\*.*"<br>sectionend<br><br>Function .onInstSuccess<br>Delete "c:\vidtmp8\vidtmp8.exe"<br>RMDIR "c:\vidtmp8\"<br>functionend<br><br>I know execwait will probably do the trix, but i also want the installer to install files in the background.<br><br>I guess there is an command to look for running processes, and continue if vidtmp8.exe is running ?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ZmAn3</span><br><span class="post-time small text-muted">21st October 2008 15:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">you can put your Exec "c:\vidtmp8\vidtmp8.exe" in the onint function</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br><span class="post-time small text-muted">21st October 2008 16:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yea i could, but then when video finish(fullscreen), you still have to press install, and wait some more, its not what i wanted, i wanted to show the video while installing, so to not use more time than possible :-)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br><span class="post-time small text-muted">21st October 2008 18:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I added an exampel of my problem, it only install some files where you want, no registry edit but the uninstall section, so plz try this and see my problem for your self ( files installed is for an mod to the game ghost recon), no exe files, just the projector file, that will be deleted at the end of installation.<br><br>Path to source nsis script : <a href="http://www.mediafire.com/file/nxtoz10mjoi/VideoTest.nsi" target="_blank">http://www.mediafire.com/file/nxtoz10mjoi/VideoTest.nsi</a><br><br>Path to video installer test : <a href="http://www.mediafire.com/?mmjy4ldznjv" target="_blank">http://www.mediafire.com/?mmjy4ldznjv</a> Its about 47.66 MB compressed and 147.7 MB installed</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">ZmAn3</span><br><span class="post-time small text-muted">21st October 2008 21:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">if they dont have to select a directory then why dont you just go strait to the install section with out them pressing install that way they dont have to press anything then after the videos done it will be done you can either close the installer or leave a page saying blah blahs been installed that they will see when the video closes<br><br>edit<br>how come your not showing your page with the links at the end</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br><span class="post-time small text-muted">22nd October 2008 07:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well its not sure the installation path can be found in reg, so ppl may need to locate the right folder.<br><br>And above video test, i made it so it only shows the important test.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br><span class="post-time small text-muted">24th October 2008 20:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well i found a plugin to look for processes, but something must be wrong in my code ? , since installer will wait until video is finish before installing the files.<br><br>Section "MainSection" SEC01<br>Exec "z:\video.exe"<br>videowait:<br>Processes::FindProcess "video"<br>Pop $R0<br>StrCmp $R0 "1" wait nowait<br>wait:<br>goto videowait<br>nowait:<br>SetOutPath "$INSTDIR\Mods\BB_AIO_180"<br>SetOverwrite on<br>File /r "G:\Ghost Recon\mods\BB_AIO_180\*.*"<br>sectionend<br><br>also tried StrCmp $R0 "0" wait nowait<br>that would just be like before, where installation started installing, and then video shows some sec after.<br><br>is there any pause command you could add ? for like 5 sec<br>or another plugin i should try?</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>