<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="ERROR: Illegal Pathname detected! Spaces inside Pathname are not allowed"><title>ERROR: Illegal Pathname detected! Spaces inside Pathname are not allowed - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">ERROR: Illegal Pathname detected! Spaces inside Pathname are not allowed</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=238307">ERROR: Illegal Pathname detected! Spaces inside Pathname are not allowed</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Luni</span><br><span class="post-time small text-muted">17th February 2006 17:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>ERROR: Illegal Pathname detected! Spaces inside Pathname are not allowed</strong><br>Hi!<br><br>After not successfully search the web for view hours I decided to post my problem.<br><br>I'm using MakeNSIS v2.14 (log version). Previously I was using a 1.x Version.<br><br>In the Directory Page, when I push the "browse" button a message box appears (3 times) with following contents:<br><br>ERROR<br>Illegal Pathname detected!<br>Spaces inside Pathname are not allowed<br><br>After confirming that message box three times I can select a path.<br><br>That behavior is only present on Windows 2K and XP but not on NT.<br><br>Previous MakeNSIS Version does not shows such a messagebox.<br><br>What am I doing wrong?<br><br>Does new version handle paths different as the previous version?<br><br>I did not found any flags to tell NSIS to ignore that, nor to specify the rigth path string.<br><br>Help will be appreciated. See attachment for scriptfile.<br><br>Adolfo</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Comperio</span><br><span class="post-time small text-muted">18th February 2006 17:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I didn't see any PAGE commands in your attached NSI file. How were you even getting a directory page? Are you sure this is the right NSI file?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Mr Inches</span><br><span class="post-time small text-muted">19th February 2006 05:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">According to my syntax highlighting editor, single quotes in the !define messes with the rest of the file.<br><br>Try replacing the following line<br><br>!define INSTALLPATH '$PROGRAMFILES\Controlware\Supervisor_${SV_VER}\'<br><br>with<br><br>!define INSTALLPATH "$PROGRAMFILES\Controlware\Supervisor_${SV_VER}\"<br><br>and see if that helps.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">19th February 2006 12:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">IMHO MessageBox in 4.7.2.1.10 .onVerifyInstDir is not good. It's MessageBox may look crazy. And $PROGRAMFILES in your default path includes blank spaces.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Luni</span><br><span class="post-time small text-muted">21st February 2006 08:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">At first, thanks for answers :up: !<br><br>@Mr Inches<br><br>What editor are you using?<br><br>I'm using HM NIS Editor <a href="http://hmne.sourceforge.net/" target="_blank">http://hmne.sourceforge.net/</a> and its coloring is OK.<br><br><br>@Comperio<br><br>I agree, I do not know :confused: way it is working without PAGE commands but it is. That script was written by other peoples not more here. I'm just trying to adapt it to work with the new version of NSIS. Till now it works fine, only the behavior problem with "browse" buttom is wrong.<br><br><br>@Takhir<br><br>I tried to print the $INSTDIR in the MessageBox and it is "C:\Dokumente und Einstellungen\alucha\desktop" (inglish: "C:\documents and settings\alucha\desktop") in the first box. It is "C:\Dokumente und Einstellungen\alucha\Eigene Dateien" in the other three message boxes. But I did not set it to that string. Where is it set to it? And why is it poping up four times, and with different path strings?<br><br>I tried to set $INSTDIR in followiung code<br><br>Function .onInit<br>StrCpy $INSTDIR "${INSTALLPATH}"<br>FunctionEnd<br><br>But it does not change the behavior.<br><br>Why is the behavior other under XP as under NT?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Luni</span><br><span class="post-time small text-muted">21st February 2006 10:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I fixed it with a workaround. I check the Windows Version in the .onVerifyInstDir and allow spaces inside paths when XP.<br><br>Thanks again for all your answers.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Mr Inches</span><br><span class="post-time small text-muted">21st February 2006 21:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Good to hear you managed to sort it out, or at least have the workaround.<br><br>I use UltraEdit-32 with the NSIS wordfile extension for my editor and your file was the first one I have seen in it that marked all of the file after that !define as a string, which I found odd.<br><br>NSIS seemed to compile it OK (except for the obvious missing files!), but it looked unusual enough for me to highlight it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">21st February 2006 22:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">TextPad latest with nsis2 file - i code myself w/o help - only with wiki and chm help :)</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>