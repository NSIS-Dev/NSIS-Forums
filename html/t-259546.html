<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Notice: NOD32 disables nsprocess plugin" />

  <title>Notice: NOD32 disables nsprocess plugin - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Notice: NOD32 disables nsprocess plugin</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=259546">Notice: NOD32 disables nsprocess plugin</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">14th November 2006 18:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Notice: NOD32 disables nsprocess plugin</strong><br />
      As a matter of fact the known antivirus-software NOD32<br />
      from ESET <a href="http://www.eset.com" target="_blank">www.eset.com</a> will treat "nsprocess"<br />
      as "potential malware" from now on. (def 1.1858)<br />
      <br />
      <a href="http://nsis.sourceforge.net/NsProcess_plugin" target="_blank">http://nsis.sourceforge.net/NsProcess_plugin</a><br />
      <a href="http://nsis.sourceforge.net/mediawiki/images/1/18/NsProcess.zip" target="_blank">http://nsis.sourceforge.net/mediawik.../NsProcess.zip</a><br />
      <br /></p>

      <blockquote>
        .... it's intended for killing processes so it must<br />
        be detected as a Potentially unsafe app:<br />
        <br />
        Description<br />
        <br />
        Features:<br />
        Find a process by name<br />
        Kill a process by name<br />
        Kill all processes with specified name (not only one)<br />
        The process name is case-insensitive<br />
        Win95/98/ME/NT/2000/XP support<br />
        Small plugin size (4 Kb)
      </blockquote>To disable this warning disable the option for "Adware/Spyware/Riskware"<br />
      <br />
      From my point of view - no advantage in disabling this option.<br />
      Examples can be downloaded here: <a href="http://www.themexp.org/" target="_blank">http://www.themexp.org/</a><br />
      themesxp.org distributes their content in a package with<br />
      lots of adware/spyware. NOD32 prevents the download.<br />
      <br />
      Cheers
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">14th November 2006 23:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you have experienced this problem and it interrupts your installer, please let NOD32 know that it's unacceptable by you. I'll also have a little chat with them about the consequences of such a false detection, "not a virus" or not.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">15th November 2006 16:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I did - and above you got the answer!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">16th November 2006 20:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I was actually talking to everyone who has this problem. In your case, you should continue and explain how unreasonable it is. You have a very valid installer which is absurdly disturbed because it uses a valid Windows API. If they wish to warn of process termination, they should hook TerminateProcess, warn about its usage only when it's used, and not just block any application that mentions it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">17th November 2006 01:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">omg kichik - <b>it is no longer my problem</b> (i never used nsprocess).<br />
      <br />
      it belongs to those who use it - i just got messages while updating nsis.<br />
      the rest is between you and eset - and they dont change their mind.<br />
      <br />
      so i asked you to put a notice on the wiki page.<br />
      <br />
      but instead you like to discuss what can not be discussed - got it?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">24th January 2007 21:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Update - nsprocess.dll is no longer a bad file.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rxs2k5</span><br />
      <span class="post-time small text-muted">26th January 2007 13:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Brummelchen,<br />
      <br />
      hmm I currently a nod32 user and got attracted by this.... I wish to know more about your last post which says:<br />
      <br /></p>

      <blockquote>
        Update - nsprocess.dll is no longer a bad file.
      </blockquote>Hmm let's see I can identify what you mean<br />
      <br />
      1. Nod32 updated their virus signatures so that nsprocess.dll no longer detected by it as bad ? And it safe to use. It will not affect other nod32 users anymore from now on right ?<br />
      <br />
      2. Or is it I have to redownload nsprocess plugins from nsis wiki development center and patch over the current one I am using, which works before this error cause by nod32 ?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">26th January 2007 14:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">till november i had nsprocess laid in my nsis directory which<br />
      is regularly scanned from nod. after that i removed it.<br />
      But i have a folder to collect new or updates files from nsis<br />
      in which the plugin is stored. the latest (full) scan has<br />
      nothing found. so i assume that eset has refreshed or refined<br />
      the signatures.<br />
      <br />
      nevertheless the potential damage of this file within nsis<br />
      is existant. The best way is FindWindow and to inform user<br />
      to close the applikation</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">29th January 2007 17:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">IMHO the best way is to recompile the Process Plugin yourself and add some extra code and verion data, so checksum will not be the same. Maybe even use UPX or something else.<br />
      <br />
      BTW always tell Symantec that they are cripling great open source software where they can check themselfs if the code is malicious.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">30th January 2007 14:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">afterward packed files (eg with upx) are scanned and detected.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">7th February 2007 14:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">As of now, nsProcess.dll is still listed by more than 10 of the major anti-virus/spyware applications.<br />
      <br />
      Bottom line is, if you want to avoid problems with users due to the false positives, your best bet is to implement the plugin's functionality directly into your installer with the System plugin.<br />
      <br />
      Naturally, a DLL consisting of only functions used to kill processes is going to look suspicious.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">7th February 2007 21:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Backland</i><br />
        <b>As of now, nsProcess.dll is still listed by more than 10 of the major anti-virus/spyware applications.<br />
        <br />
        Bottom line is, if you want to avoid problems with users due to the false positives, your best bet is to implement the plugin's functionality directly into your installer with the System plugin.<br />
        <br />
        Naturally, a DLL consisting of only functions used to kill processes is going to look suspicious.</b>
      </blockquote>I used to use nsProcess plugin and I was desperate with all these annoying AV politics against the plugin instead of hook on TerminateProcess as kichik mentioned above.<br />
      So, Backland please, post an example here or better at <a href="http://nsis.sf.net" target="_blank">wiki</a> on how to accomplish the bottom line you mentioned above!
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">7th February 2007 21:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have so far settled to use the TerminateProcess macro posted in the wiki by Takhir.<br />
      <br />
      I have looked over the code required to correctly terminate a process given its module name (on Win 9x-XP), and the code is fairly large... implementing it using the System plugin is certainly going to be a big job.<br />
      <br />
      Another option is to call the tskill utility, although I'm not sure if it ships/works with Windows 9x.<br />
      <br />
      HTH :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">7th February 2007 21:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Just an example please... I'm not so advanced user to understand without an example!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">8th February 2007 10:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://nsis.sourceforge.net/Find_and_Close_or_Terminate" target="_blank">http://nsis.sourceforge.net/Find_and_Close_or_Terminate</a><br />
      :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">8th February 2007 10:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You're pointing me to Takhir's function, already know this, unfortunately it can't terminate processes without window class/name so it can't replace the functionality of nsProcess plugin.<br />
      <br />
      Probably I misunderstood because I thought you have a way to replace the nsProcess functionality with system plugin and a code example on how to do this, would be very nice and helpful for me.<br />
      <br />
      Apologies...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">8th February 2007 12:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can take a look at that code here:<br />
      <a href="http://www.codeproject.com/threads/killprocess.asp" target="_blank">http://www.codeproject.com/threads/killprocess.asp</a><br />
      <br />
      However, implementing that solution using the System plugin is not an easy on any given day (and inserting it into a plugin will probably meet the same fate as nsProcess) :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">8th February 2007 12:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I repeat, I thought you have some solution using system plugin, it's my mistake that I didn't realize that you were just talking ;)<br />
      <br />
      I have a painful issue with a process that I'm able to terminate only with nsProcess, however, the plugin is blocked in several systems from AVs. That's all, I thought you might have the solution.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">8th February 2007 13:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm working on the solution as I have similar problem ;)<br />
      <br />
      Will post any updates here...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Backland</span><br />
      <span class="post-time small text-muted">8th February 2007 13:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">See here:<br />
      <br />
      <a href="http://www.microsoft.com/technet/sysinternals/utilities/pskill.mspx" target="_blank">http://www.microsoft.com/technet/sys...es/pskill.mspx</a><br />
      <br />
      <br />
      Works well, however it displays an EULA, its 183KB and I haven't looked into redistribution rights either...</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
