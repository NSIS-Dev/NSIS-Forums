<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="basing an If on a file search"><title>basing an If on a file search - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">basing an If on a file search</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=267048">basing an If on a file search</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br><span class="post-time small text-muted">3rd March 2007 20:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>basing an If on a file search</strong><br>I am trying to figure out how to do something which I know very well how to do in C++:<br><br>A collection of up to twenty exe's can be installed in one mother directory. Let's say they are all named 'Collie', followed by consecutive product numbers, e.g., Collie 1.exe, Collie 2.exe, etc.<br><br>In my uninstaller, I would like to base an If condition on whether or not at least one of these files exists, including verifying that the file found in each iteration is not the file asking to be uninstalled. If no other exe is found, then the condition is fulfilled and I will go ahead with comprehensive deletions.<br><br>Could I get some counsel on the best way to do this?<br><br>IfFileExists looks to me to be structured with Gotos, which I definitely do not prefer; furthermore I do not see how I can employ it as stated above.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Comperio</span><br><span class="post-time small text-muted">3rd March 2007 21:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>IfFileExists looks to me to be structured with Gotos, which I definitely do not prefer</blockquote>I'm not sure why you don't prefer, other than it can be a pain to code. But, it might be easier with LogicLib.<br><br>Here's an example that you might try:<br><pre>
<code><br>!include logiclib.nsh<br>...<br>${If} ${FileExists} "Collie 1.exe"<br>${OrIf} ${FileExists} "Collie 2.exe"<br>${OrIf} ${FileExists} "Collie 3.exe"<br>; enter the code here for when one of the files exist<br>${Else}<br>; enter the code here for when none of the files exist<br>${EndIf}<br></code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br>
      <span class="post-time small text-muted">3rd March 2007 23:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, that's more mechanical and wordy than what I'm used to, but it seems I need lots of help with even a simple installer, and I have employed your suggestion successfully. Thank you very much!</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>