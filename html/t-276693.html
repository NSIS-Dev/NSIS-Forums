<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="LangDLL &amp; Japanese non-Unicode settings" />

  <title>LangDLL &amp; Japanese non-Unicode settings - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">LangDLL &amp; Japanese non-Unicode settings</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=276693">LangDLL &amp; Japanese non-Unicode settings</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Wizou</span><br />
      <span class="post-time small text-muted">30th August 2007 11:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>LangDLL &amp; Japanese non-Unicode settings</strong><br />
      Go to Regional Options, Advanced settings and choose Japanese as the language for non-Unicode applications<br />
      (you might need to install east-asian files first)<br />
      <br />
      Then run an NSIS installer with LangDLL that includes English,French,German,Italian,Dutch<br />
      <br />
      The LangDLL dialog will only allow English selection ! The same installer under a "latin"-configured Windows works properly.<br />
      <br />
      I guess it's due to the "Ã§" in "FranÃ§ais" that maybe cannot be expressed under the Japanese ANSI codepage and it prevents to dialog combo-box from loading correctly<br />
      <br />
      Is there any way to fix this ?<br />
      (I might take a look at LangDLL sources to clear this out)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Wizou</span><br />
      <span class="post-time small text-muted">30th August 2007 13:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Additional info:<br />
      The problem appear between releases NSIS 2.25 &amp; NSIS 2.26<br />
      <br />
      Same NSI produce an installer that works correctly with NSIS 2.25, and incorrectly with NSIS 2.26<br />
      <br />
      This new bug must be related to bug fix #1564986</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Wizou</span><br />
      <span class="post-time small text-muted">31st August 2007 09:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This also happens when you set this non-Unicode settings to Greek (and this don't require to install east-asian files so it's easier to reproduce)<br />
      <br />
      That's a big problem if any non-latin computer user can only choose English as the installation language !<br />
      <br />
      Is the bug scheduled for fix in NSIS bug tracker ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">31st August 2007 09:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It's not a bug, it's a feature. If you look closely at the changes done in 2.26, you'll find:</p>

      <blockquote>
        Modern UI: block unsupported languages in the language selection dialog (RFE #1564986)
      </blockquote>And if you look at 2.28's, you'll find:

      <blockquote>
        Modern UI: added MUI_LANGDLL_ALLLANGUAGES that forces the language selection dialog to display all languages (patch #1724876)
      </blockquote>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Wizou</span><br />
      <span class="post-time small text-muted">31st August 2007 10:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Alright.. I guess the words "unsupported languages" meant "languages that the installer will fail to display correctly due to missing characters in the user ACP"<br />
      <br />
      Can we be sure that English will be available for all codepage/user config ?<br />
      <br />
      (I still think it strange to filter this combo-box based on the "non-unicode" setting, because then on a PC with Windows French but Greek/Japanese settings for "non-unicode" app, Installer won't display the French language choice - except if I add MUI_LANGDLL_ALLLANGUAGES)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">31st August 2007 21:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, English is always available.<br />
      <br />
      Languages are filtered according to their codepage. If their codepage doesn't match, they can't be displayed properly. There's no reason to show French when Japanese is selected in non-Unicode because it would display garbage.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">007Gergo</span><br />
      <span class="post-time small text-muted">12th November 2007 15:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">We have the same problem with several languages too (Hungarian, Slovak, Greek, Bulgarian, Macedonian, Russian, Chines and so on)<br />
      <br />
      On an Englisch windows f.e. we can not select hungarian, even if the code page is installed. But it shold be to work.<br />
      <br />
      Is it a way to display all languages in the combo, where we have an installed code page, and not only what can display on the default code page?<br />
      Maybe it can be good to displayy them in a unicode code combo, and after seection switch the installer code_page to this.<br />
      Thanks for help.<br />
      <br />
      The MUI_LANGDLL_ALLLANGUAGES is also not usable because of the numbers.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">12th November 2007 18:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can't switch the installer's codepage, it's the operation system's codepage and replacing it requires a reboot.<br />
      <br />
      I don't understand your comment regarding MUI_LANGDLL_ALLLANGUAGES.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">007Gergo</span><br />
      <span class="post-time small text-muted">13th November 2007 09:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">if the ALl macro defined, in the language combo box I see:<br />
      1026,1028, 1032, 1036, 1040, 1045, 1046, 1049, 1050, 1050, 1050, 1053, ...., CatalÃ¡, Cesky, Deutch, English, Espanol, ..., Magyar, ...<br />
      <br />
      If it is not defined I can't see the numbers, but I also can't see f.e.'Magyar'= Hungaryan, but I have installed codepage for it.<br />
      <br />
      The solution for us will be somting between the two now existing:<br />
      To see in the list all languages, where we have installed codepages, but dont show the numbers (where we have no codepages installed).<br />
      <br />
      <br />
      The installer must work in the following languages:<br />
      !insertmacro MUI_LANGUAGE "English"<br />
      !insertmacro MUI_LANGUAGE "Bulgarian"<br />
      !insertmacro MUI_LANGUAGE "Catalan"<br />
      !insertmacro MUI_LANGUAGE "Croatian"<br />
      !insertmacro MUI_LANGUAGE "Czech"<br />
      !insertmacro MUI_LANGUAGE "Danish"<br />
      !insertmacro MUI_LANGUAGE "Dutch"<br />
      !insertmacro MUI_LANGUAGE "Estonian"<br />
      !insertmacro MUI_LANGUAGE "Finnish"<br />
      !insertmacro MUI_LANGUAGE "French"<br />
      !insertmacro MUI_LANGUAGE "German"<br />
      !insertmacro MUI_LANGUAGE "Greek"<br />
      !insertmacro MUI_LANGUAGE "Hungarian"<br />
      !insertmacro MUI_LANGUAGE "Italian"<br />
      !insertmacro MUI_LANGUAGE "Latvian"<br />
      !insertmacro MUI_LANGUAGE "Lithuanian"<br />
      !insertmacro MUI_LANGUAGE "Norwegian"<br />
      !insertmacro MUI_LANGUAGE "Polish"<br />
      !insertmacro MUI_LANGUAGE "Portuguese"<br />
      !insertmacro MUI_LANGUAGE "PortugueseBR"<br />
      !insertmacro MUI_LANGUAGE "Romanian"<br />
      !insertmacro MUI_LANGUAGE "Russian"<br />
      !insertmacro MUI_LANGUAGE "Serbian"<br />
      !insertmacro MUI_LANGUAGE "SimpChinese"<br />
      !insertmacro MUI_LANGUAGE "Slovak"<br />
      !insertmacro MUI_LANGUAGE "Slovenian"<br />
      !insertmacro MUI_LANGUAGE "Spanish"<br />
      !insertmacro MUI_LANGUAGE "Swedish"<br />
      !insertmacro MUI_LANGUAGE "Thai"<br />
      !insertmacro MUI_LANGUAGE "TradChinese"<br />
      !insertmacro MUI_LANGUAGE "Turkish"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">13th November 2007 20:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Are you sure you've defined MUI_LANGDLL_ALLLANGUAGES prior to inserting the language macros?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">007Gergo</span><br />
      <span class="post-time small text-muted">14th November 2007 09:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks!<br />
      It works now.<br />
      <br />
      Maybe it will be good to add some comment in the maunual that it must be befor the langages.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">14th November 2007 19:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have removed the limitation instead of updating the documentation. It was simpler. Please test:<br />
      <br />
      <a href="http://nsis.svn.sourceforge.net/viewvc/*checkout*/nsis/NSIS/trunk/Contrib/Modern%20UI/System.nsh" target="_blank">http://nsis.svn.sourceforge.net/view...0UI/System.nsh</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jimpark</span><br />
      <span class="post-time small text-muted">21st November 2007 18:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, kichik is right in that you wouldn't want to show everything if your codepage doesn't support it even if you "already installed the language on your windows." The problem is that the current codepage will still show junk. So I'm not sure why you would want to use MUI_LANGDLL_ALLLANGUAGES unless you want it for testing purposes? Even that's dubious.<br />
      <br />
      If you truly want a multi-lingual installer that looks right on any codepage, you have to use the Unicode installer. If you do, you can mix and match whatever you want like this:<br />
      <br />
      <a href="http://www.scratchpaper.com/Unicode-NSIS-Propaganda.gif" target="_blank">http://www.scratchpaper.com/Unicode-NSIS-Propaganda.gif</a></p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
