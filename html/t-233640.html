<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="RadioButton"><title>RadioButton - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">RadioButton</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=233640">RadioButton</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Ilja</span><br><span class="post-time small text-muted">20th December 2005 20:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>RadioButton</strong><br>Hi,<br>I have some Problems with radioButton.<br>I have following idea i will make the SecttionsGroup and allow to select only one. If the group contain two items it's all right, but if I have more Items and try to select/deselect group i get angry effect the selectio will be changed to all except one.<br>Have somebody idea ?<br><br>Thanks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">21st December 2005 09:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">We need more information (like a script to reproduce the problem).<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">KirillKr</span><br><span class="post-time small text-muted">21st December 2005 11:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=173823&amp;highlight=Section" target="_blank">http://forums.winamp.com/showthread....hlight=Section</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Ilja</span><br><span class="post-time small text-muted">21st December 2005 12:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>my Source</strong><br># Auto-generated by EclipseNSIS Script Wizard<br># 21.12.2005 13:32:10<br><br>Name TestApp<br># Defines<br>!define REGKEY "SOFTWARE\$(^Name)"<br><br><br><br># MUI defines<br>!define MUI_ICON "${NSISDIR}\Contrib\Graphics\Icons\modern-install-colorful.ico"<br>!define MUI_FINISHPAGE_NOAUTOCLOSE<br>!define MUI_STARTMENUPAGE_REGISTRY_ROOT HKLM<br>!define MUI_STARTMENUPAGE_NODISABLE<br>!define MUI_STARTMENUPAGE_REGISTRY_KEY Software\TestApp<br>!define MUI_STARTMENUPAGE_REGISTRY_VALUENAME StartMenuGroup<br>!define MUI_STARTMENUPAGE_DEFAULT_FOLDER TestApp<br>!define MUI_UNICON "${NSISDIR}\Contrib\Graphics\Icons\orange-uninstall-nsis.ico"<br><br># Included files<br>!include Sections.nsh<br>!include MUI.nsh<br>!include LogicLib.nsh<br><br># Reserved Files<br><br># Variables<br>Var StartMenuGroup<br><br># macrosdef<br><br>!macro SectionRadioButtons _d _e<br>Push $2<br>Push $3<br>Push $4<br>Push $5<br>Push $6<br>Push $7<br><br>!insertmacro StartRadioButtons ${_d}<br><br>StrCpy $3 0<br>StrLen $5 `${_e}`<br>${For} $2 0 $5<br>StrCpy $4 `${_e}` 1 $2<br>${If} $4 == ","<br>IntOp $3 $3 + 1<br>${EndIf}<br>${Next}<br><br>StrCpy $7 `${_e}`<br>StrCpy $4 0<br>${Do}<br><br>StrLen $5 `$7`<br>${For} $2 0 $5<br>StrCpy $6 `$7` 1 $2<br>${If} $6 == ","<br>StrCpy $6 `$7` $2<br>IntOp $2 $2 + 1<br>StrCpy $7 `$7` "" $2<br>IntOp $4 $4 + 1<br>${Break}<br>${EndIf}<br>${Next}<br><br>${If} $4 &lt;= $3<br>${AndIf} $6 != ""<br>!insertmacro RadioButton $6<br>${If} $4 == $3<br>!insertmacro RadioButton $7<br>${EndIf}<br>${EndIf}<br><br>${LoopUntil} $4 &gt;= $3<br><br>!insertmacro EndRadioButtons<br><br>Pop $7<br>Pop $6<br>Pop $5<br>Pop $4<br>Pop $3<br>Pop $2<br>!macroend<br><br>!macro RadioGetChecked _d _e<br>Push $2<br>Push $3<br>Push $4<br>Push $5<br>Push $6<br>Push $7<br><br>!ifndef _CheckedButton${_d}<br>var /GLOBAL _CheckedButton${_d}<br>!define _CheckedButton${_d}<br>!endif<br><br>StrCpy $3 0<br>StrLen $5 `${_e}`<br>${For} $2 0 $5<br>StrCpy $4 `${_e}` 1 $2<br>${If} $4 == ","<br>IntOp $3 $3 + 1<br>${EndIf}<br>${Next}<br><br>StrCpy $7 `${_e}`<br>StrCpy $4 0<br>${Do}<br><br>StrLen $5 `$7`<br>${For} $2 0 $5<br>StrCpy $6 `$7` 1 $2<br>${If} $6 == ","<br>StrCpy $6 `$7` $2<br>IntOp $2 $2 + 1<br>StrCpy $7 `$7` "" $2<br>IntOp $4 $4 + 1<br>${Break}<br>${EndIf}<br>${Next}<br><br>${If} $4 &lt;= $3<br>${AndIf} $6 != ""<br><br>${If} ${SectionIsSelected} $6<br>StrCpy $_CheckedButton${_d} "$6"<br>${ExitDo}<br>${EndIf}<br><br>${If} $4 == $3<br>${AndIf} ${SectionIsSelected} $7<br>StrCpy $_CheckedButton${_d} "$7"<br>${EndIf}<br>${EndIf}<br><br>${LoopUntil} $4 &gt;= $3<br><br>Pop $7<br>Pop $6<br>Pop $5<br>Pop $4<br>Pop $3<br>Pop $2<br>!macroend<br><br># Installer pages<br>!insertmacro MUI_PAGE_WELCOME<br>!insertmacro MUI_PAGE_COMPONENTS<br>!insertmacro MUI_PAGE_DIRECTORY<br>!insertmacro MUI_PAGE_STARTMENU Application $StartMenuGroup<br>!insertmacro MUI_PAGE_INSTFILES<br>!insertmacro MUI_PAGE_FINISH<br>!insertmacro MUI_UNPAGE_CONFIRM<br>!insertmacro MUI_UNPAGE_INSTFILES<br><br># Installer languages<br>!insertmacro MUI_LANGUAGE English<br>!insertmacro MUI_LANGUAGE German<br><br># Installer attributes<br>OutFile TestAppSetup.exe<br>InstallDir $PROGRAMFILES\TestApp<br>CRCCheck on<br>XPStyle on<br>ShowInstDetails show<br>InstallDirRegKey HKLM "${REGKEY}" Path<br>ShowUninstDetails show<br><br># Installer sections<br>Section -Main SEC0000<br>SetOutPath $INSTDIR<br>SetOverwrite on<br>File ..\..\..\Test\main<br>WriteRegStr HKLM "${REGKEY}\Components" Main 1<br>SectionEnd<br><br>SectionGroup Database SECGRP0000<br>Section DemoDatabase SEC0001<br>SetOutPath $INSTDIR<br>SetOverwrite on<br>File ..\..\..\Test\demo.txt<br>WriteRegStr HKLM "${REGKEY}\Components" DemoDatabase 1<br>SectionEnd<br><br>Section DefaultLocal SEC0002<br>SetOutPath $INSTDIR<br>SetOverwrite on<br>File ..\..\..\Test\default.txt<br>WriteRegStr HKLM "${REGKEY}\Components" DefaultLocal 1<br>SectionEnd<br><br>Section "!No Database" SEC0003<br>SetOutPath $INSTDIR<br>SetOverwrite on<br>File ..\..\..\Test\noDB.txt<br>WriteRegStr HKLM "${REGKEY}\Components" "No Database" 1<br>SectionEnd<br>SectionGroupEnd<br><br>Section -post SEC0004<br>WriteRegStr HKLM "${REGKEY}" Path $INSTDIR<br>WriteUninstaller $INSTDIR\TestAppUninstall.exe<br>!insertmacro MUI_STARTMENU_WRITE_BEGIN Application<br>SetOutPath $SMPROGRAMS\$StartMenuGroup<br>CreateShortCut "$SMPROGRAMS\$StartMenuGroup\$(^UninstallLink).lnk" $INSTDIR\TestAppUninstall.exe<br>!insertmacro MUI_STARTMENU_WRITE_END<br>WriteRegStr HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\$(^Name)" DisplayName "$(^Name)"<br>WriteRegStr HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\$(^Name)" DisplayIcon $INSTDIR\TestAppUninstall.exe<br>WriteRegStr HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\$(^Name)" UninstallString $INSTDIR\TestAppUninstall.exe<br>WriteRegDWORD HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\$(^Name)" NoModify 1<br>WriteRegDWORD HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\$(^Name)" NoRepair 1<br>SectionEnd<br><br># Macro for selecting uninstaller sections<br>!macro SELECT_UNSECTION SECTION_NAME UNSECTION_ID<br>Push $R0<br>ReadRegStr $R0 HKLM "${REGKEY}\Components" "${SECTION_NAME}"<br>StrCmp $R0 1 0 next${UNSECTION_ID}<br>!insertmacro SelectSection "${UNSECTION_ID}"<br>Goto done${UNSECTION_ID}<br>next${UNSECTION_ID}:<br>!insertmacro UnselectSection "${UNSECTION_ID}"<br>done${UNSECTION_ID}:<br>Pop $R0<br>!macroend<br><br># Uninstaller sections<br>Section /o "un.No Database" UNSEC0003<br>Delete /REBOOTOK $INSTDIR\noDB.txt<br>DeleteRegValue HKLM "${REGKEY}\Components" "No Database"<br>SectionEnd<br><br>Section /o un.DefaultLocal UNSEC0002<br>Delete /REBOOTOK $INSTDIR\default.txt<br>DeleteRegValue HKLM "${REGKEY}\Components" DefaultLocal<br>SectionEnd<br><br>Section /o un.DemoDatabase UNSEC0001<br>Delete /REBOOTOK $INSTDIR\demo.txt<br>DeleteRegValue HKLM "${REGKEY}\Components" DemoDatabase<br>SectionEnd<br><br>Section /o un.Main UNSEC0000<br>Delete /REBOOTOK $INSTDIR\main<br>DeleteRegValue HKLM "${REGKEY}\Components" Main<br>SectionEnd<br><br>Section un.post UNSEC0004<br>DeleteRegKey HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\$(^Name)"<br>Delete /REBOOTOK "$SMPROGRAMS\$StartMenuGroup\$(^UninstallLink).lnk"<br>Delete /REBOOTOK $INSTDIR\TestAppUninstall.exe<br>DeleteRegValue HKLM "${REGKEY}" StartMenuGroup<br>DeleteRegValue HKLM "${REGKEY}" Path<br>DeleteRegKey /ifempty HKLM "${REGKEY}\Components"<br>DeleteRegKey /ifempty HKLM "${REGKEY}"<br>RMDir /REBOOTOK $SMPROGRAMS\$StartMenuGroup<br>RMDir /REBOOTOK $INSTDIR<br>SectionEnd<br><br># Installer functions<br>Function .onInit<br>InitPluginsDir<br>FunctionEnd<br><br># Uninstaller functions<br>Function un.onInit<br>SetAutoClose true<br>ReadRegStr $INSTDIR HKLM "${REGKEY}" Path<br>ReadRegStr $StartMenuGroup HKLM "${REGKEY}" StartMenuGroup<br>!insertmacro SELECT_UNSECTION Main ${UNSEC0000}<br>!insertmacro SELECT_UNSECTION DemoDatabase ${UNSEC0001}<br>!insertmacro SELECT_UNSECTION DefaultLocal ${UNSEC0002}<br>!insertmacro SELECT_UNSECTION "No Database" ${UNSEC0003}<br>FunctionEnd<br><br>Function .onSelChange<br>!insertmacro SectionRadioButtons "${SEC0001}" "${SEC0001}, ${SEC0002}, ${SEC0003}"<br>FunctionEnd<br><br># Installer Language Strings<br># TODO Update the Language Strings with the appropriate translations.<br><br>LangString ^UninstallLink ${LANG_ENGLISH} "Uninstall $(^Name)"<br>LangString ^UninstallLink ${LANG_GERMAN} "Uninstall $(^Name)"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">21st December 2005 13:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I'm confused here... what are all these macros for.<br>Check out Examples\one-section.nsi<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Ilja</span><br><span class="post-time small text-muted">21st December 2005 14:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>Check out Examples\one-section.nsi</blockquote>This example allow to use the radiobuttons which are not grouped in the SectionGroup. But I need to group disjunct sections.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">23rd December 2005 12:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Try this:<br><br><a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=189811" target="_blank">http://forums.winamp.com/showthread....hreadid=189811</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Ilja</span><br><span class="post-time small text-muted">2nd January 2006 15:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks.<br>It is exactly what I required.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>