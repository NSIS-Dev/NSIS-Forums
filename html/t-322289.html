<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Who know how to get the current pc language setting by NSIS script?" />

  <title>Who know how to get the current pc language setting by NSIS script? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Who know how to get the current pc language setting by NSIS script?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=322289">Who know how to get the current pc language setting by NSIS script?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">air_circle</span><br />
      <span class="post-time small text-muted">9th September 2010 10:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Who know how to get the current pc language setting by NSIS script?</strong><br />
      Dear all,<br />
      <br />
      Any expert on NSIS script?<br />
      <br />
      I am doing an installation package by NSIS,But Now I fall across a problem.<br />
      I want to make the installation package display the language matched with my pc "setting -&gt;control panel-&gt;Regional and language options-&gt;regional options" language settings.<br />
      Now ,I don't know how to get the pc "setting -&gt;control panel-&gt;Regional and language options-&gt;regional options" language settings by NSIS,Anyone know it ,Any methods ?<br />
      If I can get my loacal language settings,then I can $LANGUAGE to be the local language.<br />
      <br />
      I am anxious about your help.<br />
      <br />
      <br />
      Thanks&amp;Regards,<br />
      Janice</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">9th September 2010 10:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://forums.winamp.com/showthread.php?t=252680" target="_blank">http://forums.winamp.com/showthread.php?t=252680</a> - GetSystemDefaultLangID<br />
      <br />
      From some further googling..<br />
      <a href="http://www.google.com/search?q=site%3Aforums.winamp.com+GetUserDefaultLangID" target="_blank">http://www.google.com/search?q=site%...rDefaultLangID</a><br />
      ..it seems that it should already be using the user's language?<br />
      <a href="http://forums.winamp.com/archive/index.php/t-259017.html" target="_blank">http://forums.winamp.com/archive/ind.../t-259017.html</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">9th September 2010 15:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Long ago NSIS used the regional settings to determine default installer language. Now it uses the host OS UI language instead.<br />
      <br />
      air_circle, please don't set your installer to the regional language. PLEASE. It is a common occurrence to have your Windows set to a locale you don't really want to use. Example: My PCs are all in Japanese locale because the translation projects I work on (often) require it. But that doesn't mean I can read Japanese myself. I do NOT want installers to suddenly switch to Japanese, just because my locale happens to be set to Japanese.<br />
      <br />
      The way NSIS behaves is the proper way. If you must set the default to the locale language, please at least show a selection screen before you start the installer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">air_circle</span><br />
      <span class="post-time small text-muted">13th September 2010 10:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Dear Animaether&amp;MSG,<br />
      <br />
      Thanks for your info ,Now I want to NSIS installation package only display English whatever the OS is which language,How can I do it? Can anyone know the implement of macro "MUI_LANGUAGE" ,because I find some code example have following setting,can anyone explain what is done if execute following code.And which langugage is setted?<br />
      # Installer languages<br />
      !insertmacro MUI_LANGUAGE "English" ;<br />
      !insertmacro MUI_LANGUAGE "French"<br />
      !insertmacro MUI_LANGUAGE "German"<br />
      !insertmacro MUI_LANGUAGE "Spanish"<br />
      <br />
      Thanks&amp;Regards,<br />
      Janice</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">13th September 2010 11:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">To make an English-only installer, simply remove all language macros except English.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">air_circle</span><br />
      <span class="post-time small text-muted">17th September 2010 06:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Dear MSG,<br />
      <br />
      I remember you said that NSIS uses the host OS UI language to determine default installer language,If my os is chinese,only keep english micro there ok? But NSIS installater shall not display chinese first according to my os language chinese.I am confused ,can you explain the truth to me?<br />
      <br />
      As I understand,I think I shall set $LANGUAGE is english as follwoing code here.Why you don't refer this,is this not needed? Whether I have misunderstand?<br />
      Function .onInit<br />
      #!insertmacro MUI_LANGDLL_DISPLAY<br />
      StrCpy $LANGUAGE ${LANG_ENGLISH}<br />
      FunctionEnd<br />
      <br />
      Thanks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">24th September 2010 19:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you only include the English macro, then you're not adding Chinese as an installer language, and naturally your installer will not show in Chinese in that case.<br />
      <br />
      As for your second question, I never use languages in NSIS, all my installers are only in English. So I have no idea. I'm sure it's in the (MUI2) documentation somewhere.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
