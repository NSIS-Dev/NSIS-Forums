<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Delete on reboot, not now."><title>Delete on reboot, not now. - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Delete on reboot, not now.</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=202236">Delete on reboot, not now.</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Hansen</span><br><span class="post-time small text-muted">16th December 2004 14:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Delete on reboot, not now.</strong><br>Hello!<br><br>Is there any way to mark a file to be deleted on reboot without deleting it now? I tried to mark the file as readonly before deleting with the /REBOOTOK parameter. But it got deleted anyway.<br><br>I have the following main reason for wanting to do this:<br>My application has some indexing files which contains lists of the other files installed (these lists change dynamically). Suppose, during uninstallation, that some files cannot be deleted. I then want to mark these files to be deleted on reboot. In this case I also want to mark the indexing files to be deleted on reboot without actually deleting them now. This is for the following reason: Deletion on reboot may not work for various reasons. If it does not work I would rather like the indexing files to remain back together with the undeletable files. Because this allows the undeleteable files to be deleted later, for example if the user reinstalls at the same location.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">16th December 2004 18:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can open the file using FileOpen with "a" mode. That should keep it locked. Just don't forget to close it after you try to delete it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Hansen</span><br><span class="post-time small text-muted">17th December 2004 22:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Okay, thanks. Well I thought about that, but I will not say its very elegant ;-) And I am not sure it will work on win 9x, but maybe it will.. Thanks anyway.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>