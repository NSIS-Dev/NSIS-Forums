<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Activating NEXT depends on RadioButton in custom IO"><title>Activating NEXT depends on RadioButton in custom IO - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Activating NEXT depends on RadioButton in custom IO</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=237011">Activating NEXT depends on RadioButton in custom IO</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">2nd February 2006 18:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Activating NEXT depends on RadioButton in custom IO</strong><br>&nbsp; How can i activate the NEXT button depending on two radiobuttons in a custom IO ?<br>(the RB are off by default)<br><br>i already have<br><font color="green"><br>!insertmacro MUI_INSTALLOPTIONS_INITDIALOG "menu01.ini"<br>Pop $HWND<br><br>!insertmacro MUI_INSTALLOPTIONS_SHOW_RETURN<br>Pop $R9<br></font><br>to get chosen action<br><br>thx</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">goldy1064</span><br><span class="post-time small text-muted">2nd February 2006 22:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you mean go on to the next page, when checking which radio button was selected, if the right one was selected do nothing in the leave function for the custom page.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">3rd February 2006 00:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hmm, leave function - thats not really what i want.<br><br>for now, the NEXT button is active by IO ini.<br>but in future it is disabled and when chosen one RB<br>it gets enabled.<br><br>the "custom" page for the io (menu.ini) contains also<br>the code behind the radio buttons.<br><br>but when i separate code from page - can i use this part further (green part)?<br></p><blockquote>!insertmacro MUI_INSTALLOPTIONS_SHOW_RETURN<br>Pop $R9<br><br><font color="green">StrCmp $R9 "back" method_readme<br>StrCmp $R9 "cancel" method_quit<br>;StrCmp $R9 "success" 0 selectactionend<br></font></blockquote></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br><span class="post-time small text-muted">3rd February 2006 01:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">not really successfully<br><br><br></p><pre>
<code>
  Page custom method method_leave  ;install or deinstall
<br>  Page custom method2;action
<br><br>&gt;Function method
<br>  method_start:
<br>  ;</code>skip if silent
<br>  IfSilent method_quit
<br><br> ;search firefox
<br>  Call find_firefox
<br><br> ;method_start:
<br> WriteIniStr $PLUGINSDIRmenu02.ini "Field 2" State 0
<br>  WriteIniStr $PLUGINSDIRmenu02.ini "Field 4" State 0
<br><br> ;show dialog
<br> !insertmacro MUI_HEADER_TEXT "Take your choice" ""
<br> !insertmacro MUI_INSTALLOPTIONS_INITDIALOG "menu02.ini"
<br>  Pop $HWND
<br>   ;disable next button
<br>    GetDlgItem $R0 $HWNDPARENT 1
<br>    EnableWindow $R0 0 # 0=hide, 1=show
<br> !insertmacro MUI_INSTALLOPTIONS_SHOW_RETURN
<br>  Pop $R9
<br>  messagebox mb_ok "'$R9'"
<br><br> StrCmp $R9 "back" method_readme
<br>  StrCmp $R9"cancel" method_quit
<br> ;StrCmp $R9 "success" 0 selectactionend
<br>    return
<br><br>  ;show readme
<br>  method_readme:
<br>   ExecShell "open" "$PLUGINSDIR\readme.txt"
<br>  Goto method_start
<br><br>  method_quit:
<br>    Quit
<br>FunctionEnd
<br><br>&gt;Function method_leave
<br> ;messagebox mb_ok "'$R9'"
<br> StrCmp $R3 "1" method_leave_ok2
<br><br> ;option chosen ?
<br>  !insertmacro MUI_INSTALLOPTIONS_READ $R1 "menu02.ini" "Field 2" "State"
<br> !insertmacro MUI_INSTALLOPTIONS_READ $R2 "menu02.ini" "Field 4" "State"
<br> IntOp $R3 $R1 + $R2
<br>  StrCmp $R3"1" 0 method_leave_abort
<br>    WriteIniStr $PLUGINSDIRmenu02.ini "Field 2" Flags ""
<br>   WriteIniStr $PLUGINSDIRmenu02.ini "Field 4" Flags ""
<br>    GetDlgItem $R0 $HWNDPARENT 1
<br>    EnableWindow $R0 1 # 0=hide, 1=show
<br><br> method_leave_abort:
<br>    Abort
<br><br>  method_leave_ok2:
<br>&gt;FunctionEnd 
<br>&gt;

</pre><font color="red">$R9 returns always "success" when i click second time on any radio button</font> - thats no good<br>
      <br>

      <blockquote>
        [Field 2]<br>
        Type=RadioButton<br>
        Text=Install<br>
        Left=50<br>
        Right=300<br>
        Top=5<br>
        Bottom=17<br>
        State=0<br>
        Flags=NOTIFY<br>
        <br>
        [Field 4]<br>
        Type=RadioButton<br>
        Text=Deinstall<br>
        Left=50<br>
        Right=300<br>
        Top=35<br>
        Bottom=47<br>
        State=0<br>
        Flags=NOTIFY
      </blockquote>On NOTIFY the page is left to the leave function which enables the NEXT button (BACK is bundled with a readme).
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>