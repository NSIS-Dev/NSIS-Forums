<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Activating NEXT depends on RadioButton in custom IO" />

  <title>Activating NEXT depends on RadioButton in custom IO - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Activating NEXT depends on RadioButton in custom IO</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=237011">Activating NEXT depends on RadioButton in custom IO</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">2nd February 2006 18:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Activating NEXT depends on RadioButton in custom IO</strong><br />
      How can i activate the NEXT button depending on two radiobuttons in a custom IO ?<br />
      (the RB are off by default)<br />
      <br />
      i already have<br />
      <font color="green"><br />
      !insertmacro MUI_INSTALLOPTIONS_INITDIALOG "menu01.ini"<br />
      Pop $HWND<br />
      <br />
      !insertmacro MUI_INSTALLOPTIONS_SHOW_RETURN<br />
      Pop $R9<br /></font><br />
      to get chosen action<br />
      <br />
      thx</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">goldy1064</span><br />
      <span class="post-time small text-muted">2nd February 2006 22:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you mean go on to the next page, when checking which radio button was selected, if the right one was selected do nothing in the leave function for the custom page.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">3rd February 2006 00:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hmm, leave function - thats not really what i want.<br />
      <br />
      for now, the NEXT button is active by IO ini.<br />
      but in future it is disabled and when chosen one RB<br />
      it gets enabled.<br />
      <br />
      the "custom" page for the io (menu.ini) contains also<br />
      the code behind the radio buttons.<br />
      <br />
      but when i separate code from page - can i use this part further (green part)?<br /></p>

      <blockquote>
        !insertmacro MUI_INSTALLOPTIONS_SHOW_RETURN<br />
        Pop $R9<br />
        <br />
        <font color="green">StrCmp $R9 "back" method_readme<br />
        StrCmp $R9 "cancel" method_quit<br />
        ;StrCmp $R9 "success" 0 selectactionend<br /></font>
      </blockquote>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">3rd February 2006 01:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">not really successfully<br />
      <br />
      <br />
      PHP Code:</p>
      <hr />
      <code style="white-space:nowrap"><!-- php buffer start --></code><span style="color: #000000"><span style="color: #0000BB">Pagecustommethodmethod_leave</span><span style="color: #007700">;</span><span style="color: #0000BB">install</span><span style="color: #007700">or</span><span style="color: #0000BB">deinstall<br />
      Pagecustommethod2</span><span style="color: #007700">;</span><span style="color: #0000BB">action<br />
      <br /></span> <span style="color: #007700">Function</span><span style="color: #0000BB">method<br />
      method_start</span><span style="color: #007700">:<br />
      ;</span><span style="color: #0000BB">skip</span><span style="color: #007700">if</span><span style="color: #0000BB">silent<br />
      IfSilentmethod_quit<br />
      <br /></span> <span style="color: #007700">;</span><span style="color: #0000BB">searchfirefox<br />
      Callfind_firefox<br />
      <br /></span> <span style="color: #007700">;</span><span style="color: #0000BB">method_start</span><span style="color: #007700">:<br /></span> <span style="color: #0000BB">WriteIniStr$PLUGINSDIRmenu02</span><span style="color: #007700">.</span><span style="color: #0000BB">ini</span><span style="color: #DD0000">"Field2"</span><span style="color: #0000BB">State0<br />
      WriteIniStr$PLUGINSDIRmenu02</span><span style="color: #007700">.</span><span style="color: #0000BB">ini</span><span style="color: #DD0000">"Field4"</span><span style="color: #0000BB">State0<br />
      <br /></span> <span style="color: #007700">;</span><span style="color: #0000BB">showdialog<br /></span> <span style="color: #007700">!</span><span style="color: #0000BB">insertmacroMUI_HEADER_TEXT</span><span style="color: #DD0000">"Takeyourchoice"""<br /></span> <span style="color: #007700">!</span><span style="color: #0000BB">insertmacroMUI_INSTALLOPTIONS_INITDIALOG</span><span style="color: #DD0000">"menu02.ini"<br /></span> <span style="color: #0000BB">Pop$HWND<br /></span> <span style="color: #007700">;</span><span style="color: #0000BB">disablenextbutton<br />
      GetDlgItem$R0$HWNDPARENT1<br />
      EnableWindow$R00</span><span style="color: #FF8000">#0=hide,1=show<br /></span> <span style="color: #007700">!</span><span style="color: #0000BB">insertmacroMUI_INSTALLOPTIONS_SHOW_RETURN<br />
      Pop$R9<br />
      messageboxmb_ok</span><span style="color: #DD0000">"'$R9'"<br />
      <br /></span> <span style="color: #0000BB">StrCmp$R9</span><span style="color: #DD0000">"back"</span><span style="color: #0000BB">method_readme<br />
      StrCmp$R9</span><span style="color: #DD0000">"cancel"</span><span style="color: #0000BB">method_quit<br /></span> <span style="color: #007700">;</span><span style="color: #0000BB">StrCmp$R9</span><span style="color: #DD0000">"success"</span><span style="color: #0000BB">0selectactionend<br /></span> <span style="color: #007700">return<br />
      <br />
      ;</span><span style="color: #0000BB">showreadme<br />
      method_readme</span><span style="color: #007700">:<br /></span> <span style="color: #0000BB">ExecShell</span><span style="color: #DD0000">"open""$PLUGINSDIR\readme.txt"<br /></span> <span style="color: #0000BB">Gotomethod_start<br />
      <br />
      method_quit</span><span style="color: #007700">:<br /></span> <span style="color: #0000BB">Quit<br />
      FunctionEnd<br />
      <br /></span> <span style="color: #007700">Function</span><span style="color: #0000BB">method_leave<br /></span> <span style="color: #007700">;</span><span style="color: #0000BB">messageboxmb_ok</span><span style="color: #DD0000">"'$R9'"<br /></span> <span style="color: #0000BB">StrCmp$R3</span><span style="color: #DD0000">"1"</span><span style="color: #0000BB">method_leave_ok2<br />
      <br /></span> <span style="color: #007700">;</span><span style="color: #0000BB">optionchosen</span><span style="color: #007700">?<br />
      !</span><span style="color: #0000BB">insertmacroMUI_INSTALLOPTIONS_READ$R1</span><span style="color: #DD0000">"menu02.ini""Field2""State"<br /></span> <span style="color: #007700">!</span><span style="color: #0000BB">insertmacroMUI_INSTALLOPTIONS_READ$R2</span><span style="color: #DD0000">"menu02.ini""Field4""State"<br /></span> <span style="color: #0000BB">IntOp$R3$R1</span><span style="color: #007700">+</span><span style="color: #0000BB">$R2<br />
      StrCmp$R3</span><span style="color: #DD0000">"1"</span><span style="color: #0000BB">0method_leave_abort<br />
      WriteIniStr$PLUGINSDIRmenu02</span><span style="color: #007700">.</span><span style="color: #0000BB">ini</span><span style="color: #DD0000">"Field2"</span><span style="color: #0000BB">Flags</span><span style="color: #DD0000">""<br /></span> <span style="color: #0000BB">WriteIniStr$PLUGINSDIRmenu02</span><span style="color: #007700">.</span><span style="color: #0000BB">ini</span><span style="color: #DD0000">"Field4"</span><span style="color: #0000BB">Flags</span><span style="color: #DD0000">""<br /></span> <span style="color: #0000BB">GetDlgItem$R0$HWNDPARENT1<br />
      EnableWindow$R01</span><span style="color: #FF8000">#0=hide,1=show<br />
      <br /></span> <span style="color: #0000BB">method_leave_abort</span><span style="color: #007700">:<br /></span> <span style="color: #0000BB">Abort<br />
      <br />
      method_leave_ok2</span><span style="color: #007700">:<br /></span> <span style="color: #0000BB">FunctionEnd<br /></span></span> <!-- php buffer end -->
      <hr />
      <font color="red">$R9 returns always "success" when i click second time on any radio button</font> - thats no good<br />
      <br />

      <blockquote>
        [Field 2]<br />
        Type=RadioButton<br />
        Text=Install<br />
        Left=50<br />
        Right=300<br />
        Top=5<br />
        Bottom=17<br />
        State=0<br />
        Flags=NOTIFY<br />
        <br />
        [Field 4]<br />
        Type=RadioButton<br />
        Text=Deinstall<br />
        Left=50<br />
        Right=300<br />
        Top=35<br />
        Bottom=47<br />
        State=0<br />
        Flags=NOTIFY
      </blockquote>On NOTIFY the page is left to the leave function which enables the NEXT button (BACK is bundled with a readme).
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
