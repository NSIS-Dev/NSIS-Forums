<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Problem building the NSIS source"><title>Problem building the NSIS source - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Problem building the NSIS source</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=277283">Problem building the NSIS source</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">HaydenDevlin</span><br><span class="post-time small text-muted">13th September 2007 13:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Problem building the NSIS source</strong><br>Hello,<br><br>I am trying to build the NSIS source and I am having some real problems. I have installed wxWidgets 2.8.4 and scons and python as instructedby the manual, and I have set a WXWIN environmental variable to the wxWidgets install directory, and I have run wxbuild.bat. After doing all that I run scons and get the following... (I don't really know how much output is useful but here's the last few lines)<br><br><br>link /nologo /opt:nowin98 /map /entry:DllMain /NODEFAULTLIB /dll /out:build\rele<br>ase\nsDialogs\nsDialogs.dll kernel32.lib user32.lib gdi32.lib shell32.lib comdlg<br>32.lib ole32.lib build\release\nsDialogs\browse.obj build\release\nsDialogs\inpu<br>t.obj build\release\nsDialogs\nsDialogs.obj build\release\nsDialogs\nsis.obj bui<br>ld\release\nsDialogs\rtl.obj build\release\nsDialogs\dialog-rc.res build\release<br>\nsDialogs\SHLIBEMITTER.obj<br>Creating library build\release\nsDialogs\nsDialogs.lib and object build\relea<br>se\nsDialogs\nsDialogs.exp<br>cl /nologo /GS- /O1 /W3 /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_NO_WARNINGS /c<br>Contrib\nsExec\nsexec.c /Fobuild\release\nsExec\nsexec.obj<br>nsexec.c<br>cl /nologo /GS- /O1 /W3 /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_NO_WARNINGS /c<br>SCons\Config\memset.c /Fobuild\release\nsExec\SHLIBEMITTER.obj<br>memset.c<br>link /nologo /opt:nowin98 /map /entry:DllMain /NODEFAULTLIB /dll /out:build\rele<br>ase\nsExec\nsExec.dll kernel32.lib user32.lib advapi32.lib build\release\nsExec\<br>nsexec.obj build\release\nsExec\SHLIBEMITTER.obj<br>Creating library build\release\nsExec\nsExec.lib and object build\release\nsE<br>xec\nsExec.exp<br>cl /nologo /GS- /O1 /W3 /MD /EHsc /TP /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_N<br>O_WARNINGS /IC:\wxWidgets-2.8.4\include /IC:\wxWidgets-2.8.4\lib\vc_libnsis\msw<br>/c "Contrib\NSIS Menu\nsismenu\nsismenu.cpp" "/Fobuild\release\NSIS Menu\nsismen<br>u\nsismenu.obj"<br>nsismenu.cpp<br>C:\wxWidgets-2.8.4\include\wx/platform.h(196) : fatal error C1083: Cannot open i<br>nclude file: 'wx/setup.h': No such file or directory<br>scons: *** [build\release\NSIS Menu\nsismenu\nsismenu.obj] Error 2<br>scons: building terminated because of errors.<br>C:\Documents and Settings\hdevlin\Desktop\NSIS\nsis-2.30-src&gt;<br><br><br>So it couldn't find the setup.h file, but it it was there in a different folder, so I just copied it over, which worked, but then I got this output and there is still a problem...<br><br><br>C:\Documents and Settings\hdevlin\Desktop\NSIS\nsis-2.30-src&gt;scons<br>scons: Reading SConscript files ...<br>Delete("nsis-13-Sep-2007.cvs")<br>Delete(".instdist")<br>Delete(".test")<br>Using Microsoft tools configuration<br>Checking for memset requirement... (cached) yes<br>Checking for C library gdi32... (cached) yes<br>Checking for C library user32... (cached) yes<br>Checking for C library pthread... (cached) no<br>Checking for C library iconv... (cached) no<br>Checking for C library version... (cached) yes<br>Checking for C library dl... (cached) no<br>Checking for C library gdi32... (cached) yes<br>Checking for C library iconv... (cached) no<br>Checking for C library pthread... (cached) no<br>Checking for C library user32... (cached) yes<br>Checking for C library version... (cached) yes<br>Checking for C++ library cppunit... (cached) no<br>scons: done reading SConscript files.<br>scons: Building targets ...<br>cl /nologo /GS- /O1 /W3 /MD /EHsc /TP /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_N<br>O_WARNINGS /IC:\wxWidgets-2.8.4\include /IC:\wxWidgets-2.8.4\lib\vc_libnsis\msw<br>/c "Contrib\NSIS Menu\nsismenu\nsismenu.cpp" "/Fobuild\release\NSIS Menu\nsismen<br>u\nsismenu.obj"<br>nsismenu.cpp<br>cl /nologo /GS- /O1 /W3 /MD /EHsc /TP /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_N<br>O_WARNINGS /IC:\wxWidgets-2.8.4\include /IC:\wxWidgets-2.8.4\lib\vc_libnsis\msw<br>/c "Contrib\NSIS Menu\nsismenu\nslinks.cpp" "/Fobuild\release\NSIS Menu\nsismenu<br>\nslinks.obj"<br>nslinks.cpp<br>rc /D_CRT_SECURE_NO_WARNINGS /D_CRT_NONSTDC_NO_WARNINGS /IC:\wxWidgets-2.8.4\inc<br>lude /IC:\wxWidgets-2.8.4\lib\vc_libnsis\msw "/fobuild\release\NSIS Menu\nsismen<br>u-rc.res" "Contrib\NSIS Menu\nsismenu\nsismenu.rc"<br>link /nologo /opt:nowin98 /map "/OUT:build\release\NSIS Menu\NSIS.exe" /LIBPATH:<br>C:\wxWidgets-2.8.4\lib\vc_libnsis advapi32.lib comctl32.lib gdi32.lib shell32.li<br>b user32.lib wxbase28.lib wxmsw28_core.lib wxmsw28_html.lib "build\release\NSIS<br>Menu\nsismenu\nsismenu.obj" "build\release\NSIS Menu\nsismenu\nslinks.obj" "buil<br>d\release\NSIS Menu\nsismenu-rc.res"<br>LINK : fatal error LNK1181: cannot open input file 'wxbase28.lib'<br>scons: *** [build\release\NSIS Menu\NSIS.exe] Error 1181<br>scons: building terminated because of errors.<br>C:\Documents and Settings\hdevlin\Desktop\NSIS\nsis-2.30-src&gt;<br><br><br>So it seems to not be able to find wxbase28.lib, which is fair enough because after running a search I found that the file doesn't exist, which is weird. What I have also noticed is I keep seeing the file vc_libnsis mentioned, and vc_mswnsis, both of which again don't exist on my computer. Does anyone have any idea what is going on?<br><br>Thanks in advance for any help!<br><br>Hayden Devlin</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">HaydenDevlin</span><br><span class="post-time small text-muted">14th September 2007 13:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I have solved this problem now.<br><br>For anyone else who experiences this same thing... the problem stems from a problem with the environmental variable, which makes wxbuild.bat not work. To fix the problem you should go into your Visual Studio Command Prompt, which is accessible through the start menu in the Visual Studio group in the tools bit. Open that and run wxbuild.bat from there. This will make wxbuild.bat work fine. Then you can run scons to build NSIS from the normal command line and it will work fine :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">glenncarr</span><br><span class="post-time small text-muted">4th June 2008 18:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Might be a good idea to add Hayden's note to the Wiki (<a href="http://nsis.sourceforge.net/Docs/AppendixG.html" target="_blank">http://nsis.sourceforge.net/Docs/AppendixG.html</a>). For example, change this:<br><br>"To build NSIS Menu, install wxWidgets 2.8, create an environment variable named WXWIN containing the path to the installation directory of wxWidgets, run Contrib\NSIS Menu\wx\wxbuild.bat and build NSIS as usual."<br><br>...to...<br><br>"To build NSIS Menu, install wxWidgets 2.8, create an environment variable named WXWIN containing the path to the installation directory of wxWidgets, run Contrib\NSIS Menu\wx\wxbuild.bat and build NSIS as usual. <font color="red">You will probably need to build using a command shell invoked by starting from 'Visual Studio Command Prompt', typically found under Visual Studio Tools.</font>"<br><br>Anyway, just a suggestion.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>