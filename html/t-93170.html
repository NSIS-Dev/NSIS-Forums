<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Ampersand in Application Name"><title>Ampersand in Application Name - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Ampersand in Application Name</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=93170">Ampersand in Application Name</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">LordKronos</span><br><span class="post-time small text-muted">2nd July 2002 13:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Ampersand in Application Name</strong><br>My application name has an ampersand (&amp;) in the name (such as 'A &amp; Z'). The problem is that some windows controls &amp; labels interpret the ampersand as the hotkey character indicator. The name shows up fine in the caption bars and text boxes, but most or all of the labels are incorrect (there might have been a few labels that displayed properly, I cant remember). As a result, I get an underlined space that look kinda like 'A _B'<br><br>I found out that I could custom specify some of the text for certain strings (ex: using the DirText option) to escape the ampersand (ie: 'A &amp;&amp; Z') . I got everything hacked in like this, except for the text that appears in the background window. I looked at the docs, but I couldnt find any option to specify the text for the background window. I tried looking through the source to see if there was somewhere I could change this behavior, but I couldnt find where in the source code this would need to be done.<br><br>Can anyone suggest a way I could fix this (other than using notext to remove the background text, or changing the name to 'A and B', neither of which I want to do).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">LordKronos</span><br><span class="post-time small text-muted">2nd July 2002 14:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Of course, as soon as I ask, I figure it out myself.<br><br>For the background, I had to modify the bgbg.c file for the exehead project and rebuild. The change I made was to add the DT_NOPREFIX flag to the DrawText call. I also made the same change in ui.c, but I'm not sure what effect that had.<br><br>Also, so that I didnt have to hack it, I went into the resource file (resource.rc) edited all of the dialogs, and made sure the static text labels all had the "No Prefix" option enabled. No more need to use &amp;&amp; to escape it.<br><br>Sorry I posted for nothing, but hopefully this will help someone else.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>