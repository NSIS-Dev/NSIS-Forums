<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to use calculated size from Directory Page?"><title>How to use calculated size from Directory Page? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How to use calculated size from Directory Page?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=340198">How to use calculated size from Directory Page?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">indy31</span><br><span class="post-time small text-muted">3rd January 2012 09:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How to use calculated size from Directory Page?</strong><br>The Modern Interface Directory Page (MUI_PAGE_DIRECTORY) shows the 'Space required' for the total installation. Is there an easy way to get access to this value?<br><br>I want to store this value in the Uninstaller registry key EstimatedSize.<br><br>Now I'm doing:<br><font face="Courier New">!include "FileFunc.nsh"<br><br># Add package size information to Uninstaller registry.<br>${GetSize} "$INSTDIR" "/S=0K" $0 $1 $2<br>IntFmt $0 "0x%08X" $0<br>WriteRegDWORD HKLM "${UninstallRegKey}" "EstimatedSize" "$0"</font><br><br>But seeing the value ready computed makes me wonder if there is an easier way to get to this info.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">3rd January 2012 18:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><a href="http://forums.winamp.com/showthread.php?t=320859" target="_blank">http://forums.winamp.com/showthread.php?t=320859</a><br><br>I think reading the values from the label might be better though but I don't think anyone has written code for that (maybe I will).<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">indy31</span><br><span class="post-time small text-muted">5th January 2012 13:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks.<br>So there is no easy way to get to the info.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">5th January 2012 15:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">See attached. GetSpaceRequired gets the space required and space available values from either the components page (required only) or the directory page (both required and available values). It should only be used in the page leave functions. It should also work for different languages.<br><br>Stu</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>