<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Is it possible not to embed all files in exe" />

  <title>Is it possible not to embed all files in exe - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Is it possible not to embed all files in exe</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=189751">Is it possible not to embed all files in exe</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">vharun</span><br />
      <span class="post-time small text-muted">12th August 2004 13:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Is it possible not to embed all files in exe</strong><br />
      Hello,<br />
      <br />
      I am trying to prepare a setup with nsis. My setup files' total size is nearly 300MB. So I don't want to embed all files in setup exe. Instead I want to call them externally and copy them to the install directory during installation. Is there a way to this in nsis and how?<br />
      <br />
      Thanks in advance.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">scully13</span><br />
      <span class="post-time small text-muted">12th August 2004 13:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use CopyFiles instead of File in your install.<br />
      <br />
      [/SILENT] [/FILESONLY] filespec_on_destsys destination_path [size_of_files_in_kb]</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">vharun</span><br />
      <span class="post-time small text-muted">12th August 2004 14:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks scully :)<br />
      <br />
      I am not so clear how to use this command. My install section is like below. Can you give an example how to I do this?<br />
      <br />
      Section "Main Istall" MainInstall<br />
      <br />
      SetOutPath "$INSTDIR"<br />
      <br />
      ;Copy Project Files<br />
      File "dummy1.exe";<br />
      File "dummy2.exe";<br />
      File "dummy3.txt";<br />
      <br />
      ;Create uninstaller<br />
      WriteUninstaller "$INSTDIR\Uninstall.exe"<br />
      <br />
      ;Create start menu shortcuts<br />
      CreateDirectory "$SMPROGRAMS\MyPrg"<br />
      CreateShortCut "$SMPROGRAMS\MyPrg\Uninstall.lnk" "$INSTDIR\Uninstall.exe"<br />
      CreateShortCut "$SMPROGRAMS\MyPrg\MyPrg.lnk" "$INSTDIR\dummy1.exe"<br />
      <br />
      ;Create desktop shortcuts<br />
      CreateShortCut "$DESKTOP\MyPrg.lnk" "$INSTDIR\dummy1.exe"<br />
      <br />
      SectionEnd</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">scully13</span><br />
      <span class="post-time small text-muted">12th August 2004 14:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Something like this:<br />
      <br />
      SetOutPath "$INSTDIR"<br />
      <br />
      ;Copy Project Files<br />
      CopyFiles "$EXEDIR\dummy1.exe" "$INSTDIR"<br />
      CopyFiles "$EXEDIR\dummy2.exe" "$INSTDIR"<br />
      CopyFiles "$EXEDIR\dummy3.txt" "$INSTDIR"<br />
      <br />
      You should read the paragraph in the documentation though about the /SILENT and /FILESONLY flag because you can also use CopyFiles to just copy an entire directory. So, you may not want the Windows copy dialog popping up on you. You can also put the size on the end of the line.<br />
      <br />
      CopyFiles /SILENT /FILESONLY "$EXEDIR\file.exe" "$INSTDIR" 0</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">vharun</span><br />
      <span class="post-time small text-muted">12th August 2004 14:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks scully13 ;)<br />
      <br />
      It is ok.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
