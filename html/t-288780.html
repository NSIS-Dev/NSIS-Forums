<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Convert GetTempFilename to directory"><title>Convert GetTempFilename to directory - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Convert GetTempFilename to directory</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=288780">Convert GetTempFilename to directory</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">AaronLS</span><br><span class="post-time small text-muted">20th March 2008 15:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Convert GetTempFilename to directory</strong><br>I've seen that NSIS looks like it takes a temp filename and converts it to a directory somehow for use as the PLUGINS directory. I would like to do something similar because I have a utility exe that must be extracted to a temp location and has dependant DLLs. The DLL dependencies just need to be extracted to the same location as the exe, but they must be the same name. So to ensure I don't run into conflicts, I wanted to generate a unique directory name and then place all the files in it. Since GetTempFileName already creates the file, I'm not sure the best way to convert it to a dir. Delete the file and then create the directory of the same name?<br><br>Instead of this:<br><br>Var /GLOBAL _SomeUtilityEXE<br>GetTempFileName $_SomeUtilityEXE<br>File /oname=$_SomeUtilityEXE "..\bin\SomeUtility\SomeUtility.exe"<br>ExeWait "$_SomeUtilityEXE"<br><br>I want something like this:<br><br>Var /GLOBAL _SomeUtilityDir<br>GetTempFileName $_SomeUtilityDir<br>;Somehow convert $_SomeUtilityDir from a file to directory<br>SetOutPath $_SomeUtilityDir<br>File "..\bin\SomeUtility\SomeUtility.exe"<br>File "..\bin\SomeUtility\SomeNeededDll.dll"<br>ExeWait "$_SomeUtilityDir\SomeUtility.exe"<br><br>Thanks</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br><span class="post-time small text-muted">20th March 2008 15:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">There's no special trick to do this... Your guess to delete the file and then create a directory with the same name is exactly what NSIS is doing.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">AaronLS</span><br><span class="post-time small text-muted">20th March 2008 15:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>