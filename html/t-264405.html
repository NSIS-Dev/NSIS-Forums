<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Vista -&gt; Win 2K (icons)" />

  <title>Vista -&gt; Win 2K (icons) - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Vista -&gt; Win 2K (icons)</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264405">Vista -&gt; Win 2K (icons)</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rmayer</span><br />
      <span class="post-time small text-muted">26th January 2007 10:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Vista -&gt; Win 2K (icons)</strong><br />
      OK, as a Mac user/programmer I'm completely new to NSIS and have been thrown in at the deep end at work, with the following task, so please excuse vague or stupid questions - I've done everything you should do before posting questions (at least with Forum etiquette, I'm slightly more experienced :D ) but could still use a bit of guidance, since, for one thing, I don't even know if my line of thinking is correct in the first place.<br />
      <br />
      Well, with that little disclaimer over, I'll get to the point... our NSIS installer has been doing exactly what we need, since being written a couple of years ago. Now enter Vista and it's stupid oversized icons :mad: So, I've googled and searched till blue in the face but all I can find is info about compatability with XP. What about Win 2000, doesn't anybody develop 2k compatible software anymore? It seems Vista icons, whether compressed or not won't show on 2k? So, my line of thinking, we need 2 sets of icons?<br />
      <br />
      uuuurghhh... :eek: i just realised... because the installer itself needs an icon, we need 2 installers anyway - 98/2k and XP/Vista? Well, don't think I need to go on then... but could somebody please confirm that?<br />
      <br />
      TIA (in complete Windows ignorence :hang: )<br />
      <br />
      Rich</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">26th January 2007 12:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can have both BMP and PNG images in the same ICO file. Windows 2000 and XP will simply ignore the newer PNG format and use what it can. So, if you wish to produce backward compatibility icon-wise, you have two options. You can simply not use PNG, or include just the large 128x128 or 256x256 icons in PNG version and keep the rest as BMP. This way, when Vista searches for its big icons, it'll be able to find it and when XP or 2000 search for their icons, they'll find them as well.<br />
      <br />
      This applies to the installer as well. However, note that the installer and uninstaller icon must be identical in structure and size. With BMP images, that's quite easy. With PNG, however, it's a different story. So you might want to skip PNG for the installer, for now.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">26th January 2007 14:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">the right icons are needed - normally 32*32 is usual, but<br />
      48*48 might better - better for creating lowsize.<br />
      the format is the same till win98 except with winxp came<br />
      truecolor/alpha which can not be handled on 2k and lower.<br />
      use a better icon-editor which can handle both.<br />
      idd xp/vista works fine with 256 colors, but the can more.<br />
      <br />
      when i create icons i try the get the greteast picture of it.<br />
      Vista can do 256*256, but 128*128 or 64*64 will do too.<br />
      mostly i work with PNG files (due to real transparency) and<br />
      import them into axialis icon workshop.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rmayer</span><br />
      <span class="post-time small text-muted">26th January 2007 16:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi and thanks for the replies. As you've described it, is pretty well as I've already understood it.<br />
      <br /></p>

      <blockquote>
        <i>Originally posted by Brummelchen</i><br />
        <b>... with winxp came truecolor/alpha which can not be handled on 2k and lower. use a better icon-editor which can handle both.</b>
      </blockquote>I think I know what you mean, but it dependends a lot on what you define as "be handled". My main problem is this... until now we've used pretty much the type of icon you've described, created with IconWorkshop and containing 16, 32, 48 px images in BMP as well as PNG for XP and finally the original 128 px OSX icon image. now, of course, 2k didn't display the XP style icon but instead simply ignored them. However, after adding a further 256 px image (with or without compression), 2k no longer simply "ignores" what it can't use, it renders the whole icon unuseable - generic white file.<br />
      <br />
      Since I wrote this morning we've tested a 128 px icon on Vista, which looks good, even at 256 px. So looks like the answer is dead easy... basically, same icons, no change! I think I was a bit confused because I thought it's not a valid "Vista" icon without the 256 px image.<br />
      <br />
      So I guess that's my original problem solved, but I dare say I'll be back on Monday with more questions because I've still got the task or enhancing the script we've got, to take various variables into account and I'm still a bit confused by some of the syntax.<br />
      <br />
      Cheers,<br />
      Rich
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">27th January 2007 00:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i dont like vista - i wont (never) use vista - astalavista :D<br />
      <br />
      idd - 2k seems to ignore xp-icons (never used 2k, crashes my system)<br />
      <br />
      afaik 256*256 in vista is not the default - many shots shows the normal 32*32</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">29th January 2007 17:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Plz go <a href="http://www.axialis.com/iconworkshop/," target="_blank">http://www.axialis.com/iconworkshop/,</a> I know it is a windos Applications but the tutorials and info on their site will solve some of your misteries you might have about Vista Icons.<br />
      <br />
      Note that if you test your icon on Windows, sometimes the Icon cache of the OS is corrupt or does not get refreshed. This is a know defect in Windows OS's<br />
      <br />
      To solve this use a tool called MS PoverToy ,there is an repair iconc cache.<br />
      <br />
      Note that if you can not see the icon, you do something wrong. Best is to downlaod a valid Vista Icon and compare yours with this icon.<br />
      <br />
      Search the NSIS Wiki, I've added Vista Icons for NSIS there long ago.<br />
      <br />
      Oh AND do always READ what kichik wrote!! about the size of the icons if compiled into an NSIS installer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">30th January 2007 14:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        Oh AND do always READ what kichik wrote!! about the size of the icons if compiled into an NSIS installer.
      </blockquote>huh? it blows the installer? idd it does<br />
      a row from 16*16 to 96*96 (xp only, 7 icons) has additional ~100kb
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">onad</span><br />
      <span class="post-time small text-muted">30th January 2007 15:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Brummelchen, ofcourse my remarks where not directly for you, but for the original poster who needed a little help.<br />
      <br />
      I know you know ;)<br />
      <br />
      And yes IMHO, the icons add a huge amount to the installer, I also do not like this. But if it is someone's wish, lets try to help the NSIS enthousiast out.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
