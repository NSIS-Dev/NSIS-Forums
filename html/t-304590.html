<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Splash screen while unpacking data" />

  <title>Splash screen while unpacking data - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Splash screen while unpacking data</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=304590">Splash screen while unpacking data</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jiaozi</span><br />
      <span class="post-time small text-muted">25th March 2009 12:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Splash screen while unpacking data</strong><br />
      Hello,<br />
      <br />
      I wonder whether we can display a splash screen while the setup is unpacking data - you know the "Setup is unpacking data xx%" dialog. I see that behavior with some games using InstallShield.<br />
      I don't want to show a time-blocking splash but just improve the unpacking dialog.<br />
      <br />
      Can this be achieved with NSIS ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">thek</span><br />
      <span class="post-time small text-muted">25th March 2009 13:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">you normally should never see the "Unpacking" Dialog.<br />
      I had the same problem, but with some thinking and right usage of <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.1" target="_blank">ReserveFile</a> you can minimize this.<br />
      <br />
      The Problem you probably have is that you try to access data/files which are not at the beginning of the Script.<br />
      So NSIS firstly decompress everything to get to this data.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">25th March 2009 14:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm pretty sure the full decompression is always executed for solid compression installers... I could be wrong, but assuming that to be correct: If you really need solid compression, one way to make NSIS execute code before it decompresses the entire archive is manually solid-compressing your files into a rar, 7z or similar archive and compressing that into your installer using non-solid compression. Then unrar the file during installation. Or, similarly, run a silent NSIS installer from inside NSIS.<br />
      <br />
      Note that this will probably increase the total installation time, since you need to unpack the rar file first, then unrar the rar itself.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">thek</span><br />
      <span class="post-time small text-muted">25th March 2009 17:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Solid compression doesn't mean that you only can decompress everything at once.<br />
      <br />
      It means you have to decompress in the order it where compressed. So if you need the latest file of your archive, you have to decompress everything before. If its in the beginning of the archive you don't need to do this.<br />
      <br />
      <a href="http://en.wikipedia.org/wiki/Solid_compression#Costs" target="_blank">wikipedia</a> explains it nicely<br />
      <br />
      Because of this, there is the command "ReserveFile" in NSIS<br />
      in an none solid archiv, this command is quite useless. (probably it will achieve some speedup but it would be marginal)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">25th March 2009 17:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by thek</i><br />
        <b>Solid compression doesn't mean that you only can decompress everything at once.</b>
      </blockquote>Good point. I just seem to remember differently for an NSIS installer... But yeah, on second thought, I'm probably just remembering wrong.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jiaozi</span><br />
      <span class="post-time small text-muted">25th March 2009 22:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes using ReserveFile resolve my problem, thank you.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
