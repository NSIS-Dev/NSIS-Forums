<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Newbie question about sections" />

  <title>Newbie question about sections - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Newbie question about sections</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=188623">Newbie question about sections</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Incognit0</span><br />
      <span class="post-time small text-muted">2nd August 2004 07:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Newbie question about sections</strong><br />
      I think I know the answer but want to make sure.<br />
      <br />
      I just need to "repackage" an installer that doesn't include files needed for 95 and 98 pre SE.<br />
      <br />
      The user doesn't need to choose anything, but it needs to detect OS and if the needed files are there. If need, intall needed files, 95 needs Dcom95 and vcred. 98 just needs vcred. Then reboot (or when machine is rebooted) install the main file.<br />
      <br />
      Using more than one section here would just over complicate things, right?<br />
      <br />
      IE any groups of code I make should be seperated using lables only.<br />
      <br />
      I doubt this matters, but since this will be exectued in a lan environment (mostly logon scripts) I might have files downloaded as needed from a local server.<br />
      <br />
      Thanks</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mumuri</span><br />
      <span class="post-time small text-muted">2nd August 2004 09:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yes it should work with only one section ;)<br />
      <br />
      1 - you detect the OS in the function .onInit<br />
      You stock the name of the OS in a variable ($OS)<br />
      <br />
      2 - you install the file you want in the section<br />
      it should look like this<br />
      <br />
      StrCmp OS "win95" if endif<br />
      if:<br />
      ; install win95 files<br />
      endif:<br />
      <br />
      but you can optimize ;).<br />
      <br />
      3 - you stock the main file(the one when machine is rebooted)<br />
      in the registry 'runonce'<br />
      <br />
      4 - you ask the person to reboot with a message box</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Incognit0</span><br />
      <span class="post-time small text-muted">2nd August 2004 14:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yeah, I know it will work. From what I can tell, you can make any kind of installer with a single section - if you want to do it the hard way.<br />
      <br />
      I'm just making sure I'm not missing something about sections that would give me a need for them. In fact, like I said, in this case it seems like more than one section would get in the way or make it more complicated.<br />
      <br />
      But thanks for the quick reply, and you did confirm what I was thinking about If statements being handled differently than most scripting.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
