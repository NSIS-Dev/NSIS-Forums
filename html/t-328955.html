<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Answer to parameter prompt in console"><title>Answer to parameter prompt in console - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Answer to parameter prompt in console</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=328955">Answer to parameter prompt in console</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">n4fx</span><br><span class="post-time small text-muted">26th March 2011 17:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Answer to parameter prompt in console</strong><br>hello,<br><br>I have very little experience in nsis and my english is not very good (sorry ;-)), bad i'm gona try to explain my doubt.<br><br>I want to execute a command line app. This app ask for some parameter. I'm trying to pass this parameters using ExecDos plugin, bad the app only accept the first parameter.<br><br>I have done some basic example. First i do a bat file:<br><br>@echo off<br>set /p choice1=Entrada 1:<br>set /p choice2=Entrada 2:<br>IF "%choice1%"=="hola1" ( IF "%choice2%"=="hola2" notepad.exe )<br><br>Then i call with:<br><br>ExecDos::exec /DETAILED /TIMEOUT=10000 "$EXEDIR\prueba.bat" "hola1$\r$\nhola2$\r$\n"<br><br>bad don't work.<br><br>If the bat file is:<br><br>@echo off<br>set /p choice1=Entrada 1:<br>IF "%choice1%"=="hola1" notepad.exe<br><br>and i call it with:<br><br>ExecDos::exec /DETAILED /TIMEOUT=10000 "$EXEDIR\prueba.bat" "hola1$\r$\n"<br><br>Then it work fine.<br><br>Can i make what i want?? Can i pass more than one parameter?? how??<br><br>Thanks for any help</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n4fx</span><br><span class="post-time small text-muted">26th March 2011 19:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry!! change "bad" for "but" :-(</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jpderuiter</span><br><span class="post-time small text-muted">27th March 2011 00:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Use stdin_string instead. See:<br><a href="http://nsis.sourceforge.net/ExecDos_plug-in" target="_blank">http://nsis.sourceforge.net/ExecDos_plug-in</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n4fx</span><br><span class="post-time small text-muted">27th March 2011 10:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hello,<br><br>I'm using the first example in this page.<br><br>ExecDos::exec /TIMEOUT=2000 "$EXEDIR\consApp.exe" "test_login$\ntest_pwd$\n" "$EXEDIR\execdos.log"<br>Pop $0 # return value<br>MessageBox MB_OK "Exit code $0"<br><br>I just exchange "test_login$\ntest_pwd$\n" for "hola1$\nhola2$\n".<br><br>The end result is the same. When i test only with one parameter "hola1$\n", adapting the bat file for that, work fine. With two parameter don't work.<br><br>I'm doing something wrong??? I suppose yes :-)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">28th March 2011 16:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">For me this looks like messing of command line parameters and program stdin. Second parameter of ExecDos is program standard input. If you want run bat file with command line parameters just use something like '"$EXEDIR\prueba.bat" hola1 hola2' in ExecDos or nsExec first parameter.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">28th March 2011 18:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't think he is mixing it up. "set /p const=Enter some text: " will prompt the user to enter some text.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n4fx</span><br><span class="post-time small text-muted">28th March 2011 18:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I can't pass the strings to application as parameters in one command line. The .bat i have done is only an example for explain what i want (sorry because probably i have complicated it).<br><br>Really i have a console application that let me change a smartcard pin. The command is "pkcs11-tool --module=aetpkss1.dll --change-pin".<br><br>This application don't accept the old and new pin as parameter. The aplication always shows the messages:<br><br>- Insert the old pin: then i must enter the actual pin<br>- Insert the new pin: Then i must enter the new pin<br>- Confirm the new pin: then i must confirm<br><br>I want to call this command application and send this valors of pins when the application ask for its.<br><br>it is possible???<br><br>Thanks!!!</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>