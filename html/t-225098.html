<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="if installed then custom page with repair or remove" />

  <title>if installed then custom page with repair or remove - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">if installed then custom page with repair or remove</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=225098">if installed then custom page with repair or remove</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lucasx24</span><br />
      <span class="post-time small text-muted">2nd September 2005 14:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>if installed then custom page with repair or remove</strong><br />
      hello.<br />
      <br />
      how to do condition in nsis installer which checking value from registry and after compare(application installed) will run custom page with repair(install once again) and remove(uninstall) options ???<br />
      <br />
      any help appreciated</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">2nd September 2005 15:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">To read a registry string, you can use "ReadRegStr" or "ReadRegDWORD" instructions. If those don't work for you, you can use the <a href="http://nsis.sourceforge.net/wiki/Registry_plugin" target="_blank">Registry plug-in</a> by Instructor.<br />
      <br />
      To compare values, you can use either "StrCmp" or "IntCmp" instructions. If you need to compare versions, you can use one of the functions in the <a href="http://nsis.sourceforge.net/wiki/Category:Version_Manipulation_Functions" target="_blank">Version Manipulation Functions category</a>.<br />
      <br />
      Well, now, to have a page with "re-install" or "repair", and "remove" options, you need to create a new InstallOptions page.<br />
      <br />
      Also, you could use some other UI's available for NSIS, like for example: <a href="http://nsis.sourceforge.net/wiki/Experience_UI" target="_blank">Experience UI</a>.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">lucasx24</span><br />
      <span class="post-time small text-muted">2nd September 2005 17:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thx anyway but i didn't ask about how to read reg values, how to check versions, and how to do page with install options...please any1 read the question 3 times before u write the answer and before u understand the meaning...<br />
      I ask about how to write condition...<br />
      In installer we have some pages...<br />
      in function .onInit I checked the value from reg<br />
      and after compare how to do that thing<br />
      <br />
      1. if reg not found then continue install its done<br />
      2. if reg found then show repair/uninstall page<br />
      <br />
      and if its possible how to maintain further this uninstall page<br />
      <br />
      <br />
      ; PAGES<br />
      !insertmacro MUI_PAGE_WELCOME<br />
      Page custom CustomPageConfig<br />
      !insertmacro MUI_PAGE_COMPONENTS<br />
      !insertmacro MUI_PAGE_DIRECTORY<br />
      !insertmacro MUI_PAGE_FINISH<br />
      <br />
      !insertmacro MUI_UNPAGE_CONFIRM<br />
      !insertmacro MUI_UNPAGE_INSTFILES<br />
      !insertmacro MUI_UNPAGE_FINISH<br />
      <br />
      how to maintain this 2. condition between these pages<br />
      any help appreciated</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">glory_man</span><br />
      <span class="post-time small text-muted">2nd September 2005 18:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">First of all clear your duplicate posts.<br />
      If your reg key was found you can hide installer and run uninstaller. After uninstall bring to front installer. See example folder (makensis.nsi).<br />
      Or you can (if you want) change set of sections with installer's components page. <a href="http://nsis.sourceforge.net/wiki/Add/Remove_Functionality" target="_blank">This</a> script will help you add/remove components.<br />
      Edit:<br />
      To skip repair/uninstall (custom) page - in pre-function use Abort.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
