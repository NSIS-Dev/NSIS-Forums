<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Append file to already created NSIS executable?"><title>Append file to already created NSIS executable? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Append file to already created NSIS executable?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316949">Append file to already created NSIS executable?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">seattledev</span><br><span class="post-time small text-muted">11th February 2010 06:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Append file to already created NSIS executable?</strong><br>Hi all,<br><br>I have tried searching everywhere and have had no luck so far. My problem is that I create a general installer executable with NSIS that contains several megabytes worth of files and directories, then I later have to customize a file for each specific user that must be packaged in with the executable (the users are not known at the time the general executable is created). So, I need to append this new file to the already created executable. Because this file gets customized when the user requests the installer, it would take way too long to recreate the entire executable with this customized file.<br><br>Does anyone know if it is possible to append / package a file to an already created executable?<br><br>I really appreciate your help in advance!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">CG!</span><br><span class="post-time small text-muted">11th February 2010 11:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">if you disable the CRC check for your installer and if you put a dummy file in the script, you can open the installer with 7zip and edit it's contents.<br><br>Never tryed, but should work.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">11th February 2010 15:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The wiki shows how to customize installers by adding some data to the installer after it has been compiled:<br><br><a href="http://nsis.sourceforge.net/ReadCustomerData" target="_blank">http://nsis.sourceforge.net/ReadCustomerData</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">seattledev</span><br><span class="post-time small text-muted">12th February 2010 22:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks a lot of your replies! I'll be trying your suggestions this weekend and will let you know how it goes!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">seattledev</span><br><span class="post-time small text-muted">26th February 2010 19:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi all -- I've been busy with exams and projects, so I finally had some time to work on this more, and unfortunately neither of these solutions have worked for me....<br><br>I tried disabling the CRCCheck (CRCCheck off) and opening the executable with 7zip, but after I modify my dummy file and 7zip tries to update the archive, it says the archive cannot be updated. So, the dummy file never gets changed within the executable. I don't think this has anything to do with CRCCheck because I believe CRCCheck is a runtime check.<br><br>I also tried looking at the tutorial at <a href="http://nsis.sourceforge.net/ReadCustomerData" target="_blank">http://nsis.sourceforge.net/ReadCustomerData</a> , but this is not exactly what I am looking for. ReadCustomerData is for appending data to the end of the executable, whereas I need to modify a file within the executable. Also, ReadCustomerData only seems to demonstrate how to read the appended information without actually demonstrating how to append data to the end of the executable (which isn't what I need anyway).<br><br>I'd appreciate it if you have any more suggestions!<br><br>Thanks-</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">26th February 2010 20:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">How about:<br><br>1) Create your installer, called nsi.exe<br>2) Create a file.list, which contains files to install.<br>3) This files, from what I'm reading, must be outside of nsi.exe<br>4) Add your files in the same folder where is nsi.exe, nsi.exe will read file.list file which contains the files, which are external.<br><br>easy?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">26th February 2010 20:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>I also tried looking at the tutorial at <a href="http://nsis.sourceforge.net/ReadCustomerData" target="_blank">http://nsis.sourceforge.net/ReadCustomerData</a> , but this is not exactly what I am looking for</blockquote>How big is this file which you have to customize for each installer?<br><br>Although the example only shows some text being added at the end of the file, you could modify the code to make your installer extract the customized file from the end of the installer and store it in the required location.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">CG!</span><br><span class="post-time small text-muted">26th February 2010 21:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The file, you need to customize, isn't it in plain text?<br>if yes, there must be a way to edit it after installation using an NSiS plugin.<br>Or maybe one of windows APi's does what you need. Check the MSDN and the NSiS doc's for examples.<br>Or do what i do, if the NSiS solution is more complicated then using another programing language and just use another programing language that fullfills your needs by starting it after an successfull installation.<br>Used such a solution once to alter file dates to create a load order for some FO3 mods and to install them in an eventually existing FOMM installation.<br>Had to alter a plain text file as well, called Archiveinvalidation.txt if another program wasn't installed. in this case, NSiS possibilities was more than enough and easy realized.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>