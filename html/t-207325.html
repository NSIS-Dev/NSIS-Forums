<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Execution Time/Compile Time question" />

  <title>Execution Time/Compile Time question - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Execution Time/Compile Time question</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=207325">Execution Time/Compile Time question</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">geoffrey_4js</span><br />
      <span class="post-time small text-muted">9th February 2005 13:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Execution Time/Compile Time question</strong><br />
      Hi,<br />
      <br />
      I've got a new problem to solve. In the file I have to install, there is one I need to get paramaters to configure shortcuts, services and to modify other files. The problem is that it doesn't compile because the file isn't already here, he will be here only at execution.<br />
      <br />
      Is it a way to get around that ?<br />
      <br />
      Thx for your help.<br />
      <br />
      Geo</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br />
      <span class="post-time small text-muted">9th February 2005 19:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It sounds to me like you have a File command that refers to a file that doesn't exist on your system. You should only use the File command when you have an actual file to be in the installer. If it already exists or your installer generates it during runtime, the File command is not used (there are other functions for that).<br />
      <br />
      I'm a bit unsure if that's what you really mean, however. It would help if you posted your script.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">geoffrey_4js</span><br />
      <span class="post-time small text-muted">10th February 2005 08:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, I have a File command that refer to a file that doesn't already exist. The file is generated during runtime but I've no clue on wich command to use to extract data from it.<br />
      <br />
      For the script, I'm not sure it will be usefull but I attach it to this post</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br />
      <span class="post-time small text-muted">10th February 2005 09:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hello<br />
      <br />
      I think you need something like this :<br />
      <br />
      <br />
      ;Reserve Files<br />
      ;Things that need to be extracted on first (keep these lines before any File command!)<br />
      ;Only useful for BZIP2 compression<br />
      <br />
      ReserveFile "genero.bat"<br />
      <br />
      !insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br />
      <br />
      Function .onInit<br />
      <br />
      !insertmacro MUI_INSTALLOPTIONS_EXTRACT "genero.bat"<br />
      <br />
      FunctionEnd<br />
      <br />
      <br />
      And if you want read something of the genero.bat think that the file is in $PLUGINSDIR\genero.bat<br />
      <br />
      Best regards</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br />
      <span class="post-time small text-muted">10th February 2005 10:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You'll want to use FileRead/FileReadByte, then. Look under 4.9.5 File Instructions in the documentation.<br />
      <br />
      I've attached a (slightly modified) script for an updater I made - a small NSIS app that downloads a text file and checks the content. The text file indicates the latest version ($9) as well as the file size ($8). It compares $9 to the version number in the install script, and, if the two values are different, offers to download and install the new version.<br />
      <br />
      The script won't work, as the files referenced don't exist (that's the part that has been modified), but it will compile and work if the URLs are changed to working ones.<br />
      <br />
      If you need to do complicated calculations on the data, you may want to make a small program that does those calculations and outputs the needed results to a text file.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">geoffrey_4js</span><br />
      <span class="post-time small text-muted">10th February 2005 17:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">@kike_velez<br />
      <br />
      I've try but I get the same error (file not found) :<br /></p>
      <pre>
<code>File: "genero.bat" -&gt; no files found.<br />Usage: File [/nonfatal] [/a] ([/r] [/x filespec [...]] filespec [...] |<br />   /oname=outfile one_file_only)<br />Error in macro MUI_INSTALLOPTIONS_EXTRACT on macroline 7</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Pidgeot</span><br />
      <span class="post-time small text-muted">10th February 2005 17:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The File command is only used to put a file on the end user's computer. Unless you're going to provide a default file (as a fallback), it's not used to access an existing file. Of course, if you ARE going to provide a default file, you have to make it.<br />
      <br />
      If you're trying to copy an existing file, use CopyFiles instead.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br />
      <span class="post-time small text-muted">11th February 2005 09:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry geoffrey_4js i don´t understand the problem.<br />
      The problem is that genero.bat don´t exists and extract works with a file that exists.<br />
      <br />
      Sorry again</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kike_velez</span><br />
      <span class="post-time small text-muted">11th February 2005 09:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hello geoffrey_4js<br />
      <br />
      I saw th scrip but i don´t see where you generate the genero.bat.<br />
      <br />
      Best Regards</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
