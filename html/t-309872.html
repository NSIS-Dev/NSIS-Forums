<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Advanced Logging with Speical Builds"><title>Advanced Logging with Speical Builds - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Advanced Logging with Speical Builds</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=309872">Advanced Logging with Speical Builds</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">pld32</span><br><span class="post-time small text-muted">12th August 2009 15:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Advanced Logging with Speical Builds</strong><br>I have looked at this link and downloaded the software. I see no information on what to expect. Should I see a install.log file? Are there special keywords to use in my script?<br><br><a href="http://nsis.sf.net/Special_Builds" target="_blank">http://nsis.sf.net/Special_Builds</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">demiller9</span><br><span class="post-time small text-muted">12th August 2009 17:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Did you see <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.12" target="_blank">the manual</a> ? Did you include a 'LogSet On' command?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pld32</span><br><span class="post-time small text-muted">12th August 2009 17:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks I did see that I just did not register with me.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">barryseymour</span><br><span class="post-time small text-muted">25th February 2010 00:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Can't find build with advanced logging.</strong><br>I am new to NSIS. I want to enable advanced logging with the hope of reading that log file at uninstall time and using it to only remove files that were installed.<br><br>I tried turning LogSet on and got the error NSIS_CONFIG_LOG not defined.<br><br>I located a thread from 2006 -http://forums.winamp.com/showthread.php?postid=1051549 - that showed where to download special builds, including one with logging on. The Special Builds page is http://nsis.sourceforge.net/Special_Builds.<br><br>However the build with logging enabled is just a ZIP file that only contains MAKENSIS.EXE and a Stubs folder. This does not look like a 'built' program to me.<br><br>Am I missing something? The thread referenced above said I wouldn't have to build this.<br><br>Thanks in advance for your help...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wacaveman</span><br><span class="post-time small text-muted">25th February 2010 16:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, I was quite annoyed that NSIS did not support logging right out of the box, when other installers do. The rationale was that it affected the size of the installer.<br><br>Plus, if you build a script with logging, you have to hack it so that it doesn't explode if you try to build your script on a system which doesn't have the "special logging build".<br><br>Seems to me it should be possible to have a single executable and a checkbox or internal flag to enable logging support such that it wouldn't affect the executable size if logging wasn't enabled. That, and a mechanism for the script to force logging on, if it is needed. For any silent installs, which are common for the work that I do, a log is a necessity.<br><br>Anyway, enough of that rant. Here is the hack in case you want log support, but don't want it to explode if you happen to have a system without the "special logging build".<br><br>!macro Logger What<br>!ifdef NSIS_CONFIG_LOG<br>LogSet "${What}"<br>!endif<br>!macroend<br><br>!macro Log What<br>!ifdef NSIS_CONFIG_LOG<br>LogText "${What}"<br>!endif<br>!macroend<br><br>This allows you to do "Logger On", and LogText "Blah", and it works if you use either build.<br><br>IMHO, I would have pushed to eliminate the special builds, just to avoid maintaining three separate executables (and probably code branches too) for every release.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">barryseymour</span><br><span class="post-time small text-muted">25th February 2010 16:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">WACaveman: I appreciate the error trap, but this still doesn't solve my issue. I can't seem to find the build that enables logging -- and I'm certainly not in the mood to download the source code and rebuild the project. Heck, I've only been at this for four days!<br><br>Does anyone know where I can get this build?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">25th February 2010 17:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>However the build with logging enabled is just a ZIP file that only contains MAKENSIS.EXE and a Stubs folder. This does not look like a 'built' program to me.</blockquote>Those files are <b><font color="red">replacements</font></b> for the files installed by the standard installer. These replacements support logging, unlike the standard files.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">barryseymour</span><br><span class="post-time small text-muted">25th February 2010 18:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I now see what you mean.<br><br>However, as a newbie I'd be reluctant to unzip files over an already-installed package, never mind recompiling the whole darn thing. The hazards of open source, I guess...<br><br>Thankfully I've talked to my boss and we've come up with a simpler way to solve my problem, so I'm abandoning the whole 'log all installed files' issue.<br><br>Thanks for the input, though.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">wacaveman</span><br><span class="post-time small text-muted">25th February 2010 21:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Fear not - it is simple enough. Just make sure the version you are unzipping is the same as the version which is installed, and it is easy enough to rename the original file, and stub directory in case you are worried about screwing things up. The backup is always a good idea anyway.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>