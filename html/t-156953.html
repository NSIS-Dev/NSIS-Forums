<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Congrats and a whinge."><title>Congrats and a whinge. - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Congrats and a whinge.</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=156953">Congrats and a whinge.</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">mgillespie</span><br><span class="post-time small text-muted">20th November 2003 23:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Congrats and a whinge.</strong><br>First off, congratulations on getting B4 out the door. It's working well here.<br><br>Now the whinge.<br><br>Do the developers consider the impact of the language changes? In particular ModernUI. We have big problems here keeping script and NSIS versions in sync. I am forever being called across the office to look at NSIS compile problems, and it's always due to mismatched script and NSIS files.<br><br>Today I checked our stock script against 2.0B4, and low an behold, it no longer compiled (previously using 3 week old CVS). It's all modern UI errors, and most of the problems were down to renamed #defines, that changed their name for no obvious reason.<br><br>I know the product is still beta, and things are subject to change, but please be gentle... I know have 4 versions of NSIS floating around, all versions since 2.0b3, all of which only work with the matching NSIS files.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rainwater</span><br><span class="post-time small text-muted">21st November 2003 00:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, this is becoming a big problem as NSIS gets more popular. I recently had to switch to another installer package due mainly to this reason.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sdbarker</span><br><span class="post-time small text-muted">21st November 2003 06:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I sort of agree.<br><br>Yes, this is a problem, and very inconvenient.<br><br>However...<br><br>This is BETA SOFTWARE! You should expect that things are going to change between a CVS pull and a released build. If you have that much of a problem keeping things updated, then stick to ONE build, be it released, or a nightly, or a random cvs pull, or a beta; just stick to something.<br><br>-Scott</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">21st November 2003 16:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">During the NSIS 2 development a lot of things changed and new features were added.<br><br>With every release, the Modern UI has become more easier and more stable because of new NSIS features and improvements of the Modern UI code itself. NSIS ifself has also been improved and not everything was backwards compatible with previous development versions.<br><br>Remember it was beta software, if we would have chosen not to change anything since the first beta release, we would never have come so far. We could also have chosen not to release the beta versions, but then it would have been impossible to create NSIS 2, because feedback and help from the community is very important. If you would have used only the pre-released, you would only have had to update this script a few times (Beta 3 was released in March). When using CVS version, you can expect that things change.<br><br>The next release will probably be a release candidate and the main changes will be related to compressions methods (LZMA compression support).<br><br>You can except that there won't be any major changes in the script langauge. The release candidate will be ready soon and then there will only be some bugfixes before the final release.<br><br>After the final release, there won't be any major language changes and scripts should be backwards compatible.<br><br>Rob: If you had sent me message I could have updated your script in one minute :) There will be a final version soon, I hope you will switch back to NSIS. Then you won't have an installer that is 200 KB larger than the ZIP file and you can keep it multilingual.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mgillespie</span><br><span class="post-time small text-muted">21st November 2003 17:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">We have no intentions of moving from NSIS, it's too good! We use Installshield for a main install still (as it involves installing drivers, and lots of other stuff, but patches, service packs etc, which were previously done using InstallShield are now all converted to NSIS. Developers now spend minutes making the installs, compared to hours (sometimes days, if Installshield was playing silly buggers).<br><br>When my boss mentioned about the script incompatabilities, I did point out that it's beta software, and also pointed out how much time NSIS is saving us, and he was happy.<br><br>NSIS in our company is still at it's proving stage amonst fellow developers, and when it fails to compile, it does not give a good impressions.<br><br>I have tried to limit the amount of versions, but due to various small niggles with the random CVS versions we used, I have to update a couple of times. The version we now have, we have no issues with, but is a CVS cut from a few weeks ago, and I know that if we want to move to release, there will be more script changes required, so I will try to hold off until 2.0 Final.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">21st November 2003 17:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Or do like me: keep one version or release untill "The One". :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mgillespie</span><br><span class="post-time small text-muted">21st November 2003 17:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">We did try sticking to one cut. The problem was 2.0b3 was missing some functionality we needed (1st script rev), so had to opt for a CVS version (2nd script rev), which had some problems with the extraction progress (from CDROM, extracting a 80Mb install looked like it hung), so progressed to a 2nd CVS cut (3rd script rev), which we are now using, and just tried 2.0b4 (4th script rev).<br><br>As it is, I think we have been unlucky, in timing and randon CVS pulls. we have 3 script versions in curculation, 4, if we move to 2.0b4 (unlikely unless something pops up that's been fixes in the lasr few weeks).<br><br>I originally started this thread, just to highlight these problems to the developers, knowing full well that the comment about beta sw would be thrown back!!! :-) but it did have to be mentioned.<br><br>I also understant that most of these changes have been required to make MUI better. But there are still some #defines macros that have changed their name for no obvious reason, making unnecessary problems, keeping version compatabilities.<br><br><br>How about a alias.nsh to help maintain compatability?<br><br>#define OLDVAR NEWVAR</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">21st November 2003 19:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Keeping everything backwards compatible was not possible without limiting new features.<br><br>Adding an alias file would only maintain compatibility for a few things. When users have to update the script anyway, it's better not to keep these old names.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">22nd November 2003 21:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you're not going to upgrade for a while you should at least comment the following piece of code in Ui.c, DialogProc, WM_COMMAND:</p><pre>
<code>else<br>{<br>  // Forward WM_COMMANDs to inner dialogs, can be custom ones<br>  SendMessage(m_curwnd, uMsg, wParam, lParam);<br>}</code>
</pre><br>
      <br>
      It prevents a crash regarding NSISdl. See <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=143003&amp;highlight=nsisdl" target="_blank">this thread</a> for more information. <s>That specific thread talks about NSISdl but this could happen with InstallOptions and StartMenu too.</s><br>
      <br>
      When recompiling, don't forget to get the latest Platform SDK to avoid a crash with CopyFiles and Processor Pack to get smaller exehead.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">22nd November 2003 22:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Scratch that, it's only NSISdl. Unless you're using NSISdl you should ignore this because removing that piece of code will not allow users to press enter to on buttons in inner dialogs.<br>
      <br>
      <s>OK... Turns out this is a bug with NSISdl. If you want to use NSISdl replace:<br>
      <br></s></p>
      <pre>
<s><code>if (lpWndProcOld)<br>  SetWindowLong(parent,GWL_WNDPROC,(long)lpWndProcOld);<br>if (dlg) DestroyWindow(dlg);</code></s>
</pre><s><br>
      <br>
      with:<br>
      <br></s>
      <pre>
<s><code>if (dlg) DestroyWindow(dlg);<br>if (lpWndProcOld)<br>  SetWindowLong(parent,GWL_WNDPROC,(long)lpWndProcOld);</code></s>
</pre><br>
      <br>
      OK... I need to take a look at this while a bit more awake. Anyway, the WM_COMMAND forwarding removal works, so if using NSISdl you can use that for now.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">n0On3</span><br>
      <span class="post-time small text-muted">23rd November 2003 01:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I was annoyed for those changes, but I try not to be anymore ;) NSIS is progressing very much and I am interested in having the script language as simple as possible.<br>
      <br>
      So, I keep an eye on changes, and download CVS as less as I can.<br>
      <br>
      <br>
      btw, congratulations for v2.0b4! :D :D</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>