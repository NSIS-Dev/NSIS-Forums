<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="File list for installer.."><title>File list for installer.. - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">File list for installer..</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=336302">File list for installer..</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Freddie9000</span><br><span class="post-time small text-muted">20th October 2011 11:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>File list for installer..</strong><br>Hi,<br><br>I want to feed the File command with a txt-File full of files and folders ( with subfolders ) to redirect the file list ( should be out of the nsi - File for better edit ). What it seems that this command doesn't support such a feature. Is there a similar way to define such file list ?<br><br>Thanks for reply,<br>Freddie</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">20th October 2011 11:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can use a file list, if you add this in front of every filename:<br></p><pre>
<code>File "</code>
</pre><br>and add a closing " after every filename. If you then do "!include yourfile.txt" inside your section, it'll just insert those file commands.<br><br>(Note that you'll still need to add SetOutPath commands if you want to extract files to different directories.)</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Freddie9000</span><br><span class="post-time small text-muted">20th October 2011 12:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I can't see this..... "You can use a file list, if you add this in front of every filename:" what does this mean ?<br><br>for example:<br><br>filelist.txt :<br>..\bin\foo.exe<br>..\bin\libs\food.dll<br><br>and I need such a code like<br>File "filelist.txt"<br><br>so I don't need to add anything in this nsi-script, if I have to add a file (only in file list ).<br>Would be cool if there were a way to keep the folder structure automatically ( bin; bin\lib ).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">20th October 2011 12:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Your generated file needs to be NSIS code (File instructions). You then !include that generated file in your main script where you want the File instructions to be.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Freddie9000</span><br><span class="post-time small text-muted">20th October 2011 12:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">"Your generated file needs to be NSIS code (File instructions)."<br><br>What does this mean ? Is an included ascii-txt-file NSIS-Code ? Or do I have to take an other nsi-script that I have to include ?<br><br>So please reply with concrete script code based on my example....</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">20th October 2011 12:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry what's so difficult? As you have already said, the File instruction cannot take a list of files. Therefore your list of files needs to be a <b>list of File instructions</b>.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">20th October 2011 12:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Example contents of your filelist.txt:<br><br>File "..\bin\foo.exe"<br>File "..\bin\libs\food.dll"</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Freddie9000</span><br><span class="post-time small text-muted">20th October 2011 12:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">@Afrow UK:<br>What I want to hear is that there's no way to do this. NSIS is not able to parse a file list given as txt-file.<br><br>Thanks for your efforts.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MSG</span><br><span class="post-time small text-muted">20th October 2011 15:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well, glad to be of service. There's plenty more that could be said about how to parse txt files at compiletime, but don't count on me spending any more time on you anytime soon.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">20th October 2011 15:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Out of the box, NSIS cannot do this, no. However, you can quite easily generate NSIS script from a list of files using a custom script in any language you choose.<br><br>Stu</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>