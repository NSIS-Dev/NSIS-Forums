<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Varibles in File"><title>Varibles in File - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Varibles in File</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=266352">Varibles in File</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">James4563</span><br><span class="post-time small text-muted">22nd February 2007 09:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Varibles in File</strong><br>&nbsp; Hi,<br><br>Just a quick question are you able to use variables in File.<br><br>For example<br><br></p><pre>
<code>

<br>StrCpy $DISTRIBUTION_CD_LOCATION "G:\generic\bbRad distribution CD\bbRad v1.11 ib0\Enterprise\Program Files\bbRad\"
<br>  
<br>SetOutPath "</code>$INSTDIR"
<br>SetOverwrite try
<br>File $DISTRIBUTION_CD_LOCATION"bbRadCLI.exe" 
<br>&gt;

</pre>Using the above I get the following error:<br>
      <br>
      File: "$DISTRIBUTION_CD_LOCATION"bbRadCLI.exe"" -&gt; no files found.<br>
      Usage: File [/nonfatal] [/a] ([/r] [/x filespec [...]] filespec [...] |<br>
      /oname=outfile one_file_only)<br>
      Error in script "C:\Documents and Settings\james\workspace\bbRad installer\setup.nsi" on line<br>
      75 -- aborting creation process<br>
      <br>
      Is it that you must specify the whole dir to the file when using File, or have I just done something wrong with the var side of things....<br>
      <br>
      Thanks<br>
      James
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">22nd February 2007 09:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It is that you can't use variables at compile time, instead try to !define DISTRIBUTION_CD_LOCATION</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">James4563</span><br>
      <span class="post-time small text-muted">22nd February 2007 09:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What just like this,<br>
      <br></p>
      <pre>
<code><br>!define DISTRIBUTION_CD_LOCATION "Path here"<br></code>
</pre><br>
      <br>
      Because if thats correct im still getting the same error :(
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">22nd February 2007 09:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">!define DISTRIBUTION_CD_LOCATION "D:\My Local Path"<br>
      File: "${DISTRIBUTION_CD_LOCATION}\bbRadCLI.exe"</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">James4563</span><br>
      <span class="post-time small text-muted">22nd February 2007 09:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You legend. Thanks a lot :D that works brill</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">James4563</span><br>
      <span class="post-time small text-muted">22nd February 2007 11:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Keeping to a similar topic. Is it possible to use a variable in an unistall part.<br>
      <br>
      For example :<br>
      <br></p>
      <pre>
<code><br>Section Uninstall<br>      Delete "$INSTDIR\config\bbRadGateway$INI_NACS.ini"<br>SectionEnd<br></code>
</pre><br>
      <br>
      Thanks
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">22nd February 2007 12:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes but its value won't be magically copied from the installer to the uninstaller. You need to store its value in the registry or an INI file.<br>
      <br>
      If its value does not change then use a !define instead.<br>
      <br>
      -Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">22nd February 2007 13:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by James4563</i><br>
        <b>You legend. Thanks a lot :D that works brill</b>
      </blockquote>The only legend that I know around here is kichik, I'm just a consistent of...
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">James4563</span><br>
      <span class="post-time small text-muted">22nd February 2007 23:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Afrow UK</i><br>
        <b>Yes but its value won't be magically copied from the installer to the uninstaller. You need to store its value in the registry or an INI file.<br>
        <br>
        If its value does not change then use a !define instead.<br>
        <br>
        -Stu</b>
      </blockquote>Ok thanks. So if I use !define instead will that mean I can just put it into the uninstaller? Or will I still need to store in the reg or an ini file.<br>
      <br>
      Cheers for the help peeps :D
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">22nd February 2007 23:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">!define makes a compile time constant. Once your installer is compiled, it's value is sustained in a static form wherever it's used. Variables on the other hand are used if your value needs to change while the installer is being executed by the end user. If your value will never change, then use a constant (define) and not a variable. Once you've created a constant, you can use it anywhere in your script whether it's inside or outside sections and functions.<br>
      <br>
      -Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">James4563</span><br>
      <span class="post-time small text-muted">22nd February 2007 23:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well the value I want to use is acctually enter by the user in the installation config. So im guessing that I cant used !define.<br>
      <br>
      Is it fairly easy to store the values into the Registry? Or would you recommend storing them in an ini file instead?<br>
      <br>
      James</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">23rd February 2007 00:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        So if I use !define instead will that mean I can just put it into the uninstaller? Or will I still need to store in the reg or an ini file.
      </blockquote>!define is ok while its value is global, hence you can't change it at run time.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">23rd February 2007 00:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The registry is probably your safest bet. Use WriteRegStr and ReadRegStr.<br>
      <br>
      There are pros and cons for using the registry or initialisation files, but most people would rather use the registry simply because you don't need to worry about a particular file on the hard drive.<br>
      <br>
      -Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">James4563</span><br>
      <span class="post-time small text-muted">23rd February 2007 00:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Cheers mate. Ill try it out and see what I can do.<br>
      <br>
      Ill post back if I get anymore problems, which I probably will :D</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>