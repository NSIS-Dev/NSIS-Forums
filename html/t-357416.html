<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Uninstall Directory question"><title>Uninstall Directory question - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Uninstall Directory question</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=357416">Uninstall Directory question</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Ctc1989</span><br><span class="post-time small text-muted">15th March 2013 21:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Uninstall Directory question</strong><br>Is there a way to set the Uninstall Directory? To change the path that comes after "Uninstalling from:" when running an Uninstaller.exe? Something like how you can change $INSTDIR? It appears that the Uninstall Directory automatically takes the directory that Uninstall.exe is in. I want to be able to change that to somewhere else, something to the effect of StrCpy $UNINSTDIR "C:\Example", which unfortunately doesn't work :igor:<br><br>I've done a bunch of searching, and can't seem to get my phrasing correct, as I have not got one hit on this. Is it possible to do? Thanks! :up:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">demiller9</span><br><span class="post-time small text-muted">16th March 2013 00:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The variable that determines the directory is the same for both the installer and the uninstaller: $INSTDIR (although it can have different values for each). See <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.2.2" target="_blank">section 4.2.2</a> in the manual.<br><br>You could also have a page in the uninstaller that lets the user select the directory, if that makes sense. You would certainly need to verify the directory the user selects is valid and contains your application. It would be best to avoid wildcard deletes and to delete just the specific files that you installed.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br><span class="post-time small text-muted">16th March 2013 00:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can call Uninstall.exe with <b>_?</b> parameter!<br><br>For example:<br></p><pre>
<code>Uninstall.exe "_?=C:\Example"</code>
</pre><br><br>Note, however, that Uninstall.exe normally copies itself into the TEMP folder. Then the actuall Uninstall.exe executes the temporary copy (from TEMP folder) and terminates itself. The actual uninstall is then perfromed by the temporary copy, so the Uninstall.exe can be deleted. This does <b>not</b> work if you call Uninstall.exe with "_?" parameter, because then Uninstall.exe will think that it already <i>is</i> the temporary copy.</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>