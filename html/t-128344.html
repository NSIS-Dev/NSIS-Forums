<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Validating User Input"><title>Validating User Input - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Validating User Input</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=128344">Validating User Input</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">viper0179</span><br><span class="post-time small text-muted">13th March 2003 19:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Validating User Input</strong><br>&nbsp; Hello again :)<br><br>I've been trying to determine how I can validate some data entered by the users using the Modern UI to ensure that the user enters something in a required field. I thought about using the .onNextPage event, but it doesn't seem to work. Does the .onNextPage event only work with the normal UI or am I just doing something wrong? When I compiled the script MakeNSIS displayed a warning: install function ".onNextPage" not referenced. I'm sure that this is why it isn't using the function in the script. Anyone have any idea what could be causing this? I've searched thru the examples and haven't found anything that might cause this with my script. Could it be because I'm using custom pages?<br><br>Thanks</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">viper0179</span><br><span class="post-time small text-muted">13th March 2003 20:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hmm, I might have found something that would help me out. I got bored and started aimlessly wandering topics. I managed to find it on something completely irrelevant to it, but oh well.<br><br><a href="http://nsis.sourceforge.net/archive/viewpage.php?pageid=87" target="_blank">http://nsis.sourceforge.net/archive/....php?pageid=87</a></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">viper0179</span><br><span class="post-time small text-muted">13th March 2003 20:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well I couldn't figure it out and I got some other things to do yet. If anyone has anything of a simple validation for custom pages let me know please.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">13th March 2003 23:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Use<br></p><pre>
<code><br>!define MUI_CUSTOMFUNCTION_WELCOME_SHOW "Validate"<br></code>
</pre><br>
      Where "Validate" is your function (which you currently have as .onNextPage)<br>
      If your custom page is before the InstFiles page, then change it to...<br>
      <pre>
<code><br>!define MUI_CUSTOMFUNCTION_INSTFILES_SHOW "Validate"<br></code>
</pre><br>
      etc.<br>
      <br>
      -Stuart
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">viper0179</span><br>
      <span class="post-time small text-muted">14th March 2003 18:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah, thanks for the help Stuart, now I just need to figure out how to stop it from changing pages :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">14th March 2003 19:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That's wrong with the archive page? It shows you how to validate.<br>
      <br>
      After the IO call, validate when the return value is success and go back to the call if the input is wrong.<br>
      <br>
      Use the MUI_INSTALLOPTIONS_DISPLAY_RETURN macro to be able to get the return value from the stack.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">15th March 2003 11:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">.onNextPage and .onPrevPage no longer exist in NSIS 2. According to your original question the answer is very simple, just use MinLen=1 in the INI file. For example:<br>
      <br></p>
      <pre>
<code>
***93;
<br>&gt;Type=Text
<br>Left</code>=10
<br>Right=-10
<br>Top=90
<br>Bottom=98
<br>MinLen=1 
<br>&gt;

</pre>This will cause IO to display an error message if the user is trying to exit the page when this control has less than 1 characters in it, which means zero characters, nothing.<br>
      <br>
      To change the error message use ValidateText in [Field *].
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">15th March 2003 12:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nice one KiCHiK :)<br>
      <br>
      /me goes and adds it to my IO ini files...<br>
      <br>
      <br>
      -Stuart</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">viper0179</span><br>
      <span class="post-time small text-muted">17th March 2003 13:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well that explains quite a bit about why .onNextPage didn't work. And thanks for that tip about MinLen kichik. That should do it :)</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>