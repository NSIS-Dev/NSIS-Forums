<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Get IP" />

  <title>Get IP - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Get IP</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=74526">Get IP</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">5th February 2002 00:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Get IP</strong><br />
      well, i know this might be difficult. i was wondering if it is possible to get the machine's ip connected to the internet (not local ip). you might say that this is unnecessary since many people are on dialup, but the installer i'm working on is targeted for servers with 24/7 connection. so if there's a possibility to get the ip, please let me know!<br />
      <br />
      thanks in advance,<br />
      <br />
      jan</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">petersa</span><br />
      <span class="post-time small text-muted">8th February 2002 13:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm pretty sure NSIS doesn't do anything like that, but you should be able to use NET.EXE or something.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bballer182</span><br />
      <span class="post-time small text-muted">8th February 2002 16:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">if it was a windows based sever with dos or dos support then you could use "ipconfig" or "winipcfg" then once you've got that then output to file or something.<br />
      hope i helped.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">felfert</span><br />
      <span class="post-time small text-muted">8th February 2002 17:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please be more specific. _What_ IP?<br />
      Not local but the IP "coonected to the internet"<br />
      What the hell do you mean?<br />
      <br />
      Probably that:<br />
      <br /></p>
      <pre>
<code><br />Machine--&gt;LAN---&gt;Router/Firewall+-&gt;INET<br />                                ^<br />                                |<br />                       This one ?<br /></code>
</pre><br />
      <br />
      If yes, that's nearly impossible. Some router can be queried via snmp but the MIBS are different models. Probably traceroute with some postprocessing of it's output ..<br />
      <br />
      Or do you mean the default gateway?<br />
      Thats simple, run ipconfig and parse it's<br />
      output.<br />
      <br />
      Ciao<br />
      -Fritz
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">8th February 2002 17:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by bballer182</i><br />
        <b>if it was a windows based sever with dos or dos support then you could use "ipconfig" or "winipcfg" then once you've got that then output to file or something.<br />
        hope i helped.</b>
      </blockquote>i know how to find out my ip dude, but i want NSIS to do that.<br />
      <br />
      let's take my rig as example. i got to NICs in my machine, one for the lan (localhost), the other one is connected to the internet. although i know the ip, i'd like NSIS to query the ip connected to the internet and add it to the .ini of my installer's application.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">rainwater</span><br />
      <span class="post-time small text-muted">8th February 2002 18:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can write a simple plugin for NSIS in c++ to add the users ip address to a register in NSIS. Then you can do whatever you want with the ip. If you want some source code for this, let me know.<br />
      <br />
      Rob</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bballer182</span><br />
      <span class="post-time small text-muted">9th February 2002 04:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">if it was a hop throught the machine then you could use trace route or "tracert".</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">9th February 2002 19:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by bballer182</i><br />
        <b>if it was a hop throught the machine then you could use trace route or "tracert".</b>
      </blockquote>maybe re-read my post... my question was not for a command in windows but for a function within NSIS (guess why i posted it HERE).
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bballer182</span><br />
      <span class="post-time small text-muted">10th February 2002 03:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">sorry just trying to help</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">felfert</span><br />
      <span class="post-time small text-muted">10th February 2002 06:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by killahbite</i><br />
        <b><br />
        <br />
        maybe re-read my post... my question was not for a command in windows but for a function within NSIS (guess why i posted it HERE).</b>
      </blockquote>Maybe you misunderstood my (and other people's) answers, so here some more elaborated:<br />
      <br />
      Run ipconfig <b>from within NSIS</b> by using the ExecWait function of NSIS. Redirect its output to a temporary file. Then read that file by using the FileOpen/FileRead/FileClose functions and filter the lines for the desired value by using String functions. Of course, the filtering is not trivial with NSIS' limited string functions, (hint: use StrStr from the function examles as a start.)<br />
      <br />
      Or you can also use rainwater's approach with an external DLL (i would do that if i had you problem) but i expect, you don't want that, because otherwise you wouldn't have asked and started hacking away a DLL ;-)<br />
      <br />
      Ciao<br />
      -Fritz
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bballer182</span><br />
      <span class="post-time small text-muted">10th February 2002 22:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Quote:</p>
      <hr />
      thats exactly what i was talking about Fritz thanx for the backup

      <table cellpadding="6" cellspacing="0" border="0" width="100%">
        <tr>
          <td class="alt2">
            <hr />
            <i>Originally posted by felfert</i><br />
            <b><br />
            <br />
            Maybe you misunderstood my (and other people's) answers, so here some more elaborated:<br />
            <br />
            Run ipconfig</b> from within NSIS by using the ExecWait function of NSIS. Redirect its output to a temporary file. Then read that file by using the FileOpen/FileRead/FileClose functions and filter the lines for the desired value by using String functions. Of course, the filtering is not trivial with NSIS' limited string functions, (hint: use StrStr from the function examles as a start.)<br />
            <br />
            Or you can also use rainwater's approach with an external DLL (i would do that if i had you problem) but i expect, you don't want that, because otherwise you wouldn't have asked and started hacking away a DLL ;-)<br />
            <br />
            Ciao<br />
            -Fritz
            <hr />
          </td>
        </tr>
      </table><br />

      <div class="footer">
        <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
      </div>
    </div><script src="../js/highlight.pack.js" type="text/javascript">
</script> <script type="text/javascript">
//<![CDATA[
    hljs.initHighlightingOnLoad();
    //]]>
    </script>
  </div>
</body>
</html>
