<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="nsJSON plug-in" />

  <title>nsJSON plug-in - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">nsJSON plug-in</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=345802">nsJSON plug-in</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th June 2012 22:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>nsJSON plug-in</strong><br />
      A JSON (JavaScript Object Notation) parser, manipulator and generator plug-in for NSIS. See the readme file for usage and more information.<br />
      <br />
      <a href="http://nsis.sf.net/File:NsJSON.zip" target="_blank">http://nsis.sf.net/File:NsJSON.zip</a><br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br />
      <span class="post-time small text-muted">26th June 2012 09:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nice work!<br />
      Please write a short article into wiki (or copy from readme): <a href="http://nsis.sourceforge.net/NsJSON_plug-in" target="_blank">http://nsis.sourceforge.net/NsJSON_plug-in</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">26th June 2012 14:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">very nice, especially since none of the xml plugins worked to my satisfaction and i got the option to use json files for the same purpose. thanks stu!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">26th June 2012 18:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">can i use it to parse json backup files from firefox (bookmark backup file/places)?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">26th June 2012 19:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If it is valid JSON then yes.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">1st July 2012 18:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">New version:</p>

      <blockquote>
        1.0.0.1 - 1st July 2012<br />
        * Fixed parsing of single digit numbers.<br />
        * Fixed Serialize not writing the output file when the stack isn't empty.
      </blockquote>I've tested this version on Chrome's Preferences JSON file.<br />
      <br />
      Stu
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">15th August 2012 11:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">New version:</p>

      <blockquote>
        1.0.0.2 - 15th August 2012<br />
        * Fixed Unicode build parsing and serializing.
      </blockquote>Note the Unicode build still expects ASCII encoded JSON files at the moment. I will perhaps add support for UTF-8 encoded JSON in the future.<br />
      <br />
      Stu
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">T.Slappy</span><br />
      <span class="post-time small text-muted">16th August 2012 05:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hey Stu, is it possible to parse floating numbers with comma instead of point?<br />
      Some currencies use it: "1.23" is "1,23"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">16th August 2012 13:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You have to wrap the value in quotes so that it will be treated as a string rather than a float. It is not possible any other way as a comma is used as the delimiter between objects and values (whitespace is ignored).<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">28th August 2012 18:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">New version (with a fair number of changes):</p>

      <blockquote>
        1.0.1.0 - 28th August 2012<br />
        * Added /unicode switch to the Serialize function. Output files for both plug-in builds are now encoded in ANSI by default.<br />
        * Removed the Parse function in favour of Set /file [/unicode].<br />
        * Added /type, /key, /exists, /count, /isempty to the Get function.<br />
        * Added /index switch for referencing nodes by index.
      </blockquote><a href="http://nsis.sourceforge.net/File:NsJSON.zip" target="_blank">http://nsis.sourceforge.net/File:NsJSON.zip</a><br />
      <br />
      Stu
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Marshallx7</span><br />
      <span class="post-time small text-muted">26th April 2013 17:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Awesome plugin Stu. Any chance of extending it to support multiple json instances open at once?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">30th April 2013 10:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">That is already supported kind of. You just need to use Set /file with a node path to load a JSON file into. The only thing you cannot do is serialize a specific node to a file, which is where a change would be necessary. How much do you need multiple instance support (give an example of usage)?<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Marshallx7</span><br />
      <span class="post-time small text-muted">7th May 2013 21:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm using in-memory json to store lots of my own user-specific data rather than tons of global variables.<br />
      Then I want to open up a program's settings file which is also in json, add a value and resave that settings.json.<br />
      <br />
      It's also useful to separate different blocks of data and only serialize the parts I need during debug.<br />
      <br />
      I guess the only thing that's really needed is the ability to serialize a specific node.<br />
      <br />
      Unless I can find a better solution for my in-memory storage... Actually, thinking about it I could probably use your arrays plugin and do arrays of pointers to arrays using a counter or concatenating names like<br />
      CarPark0 = array of license plates (e.g. 0=ABC123, 1=DEF456, 2=GHI789)<br />
      CarPark0_ABC123 = array of that particular car's properties (e.g. Make=ShinyThingsInc, Color=Green)<br />
      <br />
      So yeah, it probably isn't necessary to have the json plugin handle more than 1 root json object at a time. I'll just write my own serializer for the arrays.<br />
      <br />
      Cheers again for your awesome stuff.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">zeeh3</span><br />
      <span class="post-time small text-muted">6th June 2013 12:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am getting truncated string values when they have spaces:<br />
      <br />
      nsJSON::Set `more_stuff` `PSCHED_009_NAME` /value `QoS Packet Scheduler`<br />
      <br />
      Results in:<br />
      <br />
      "more_stuff": { "PSCHED_009_NAME": QoS }</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">6th June 2013 16:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Values are parsed as JSON. If you want quoted strings you must use double quotes around the value:<br />
      <br />
      nsJSON::Set `more_stuff` `PSCHED_009_NAME` /value `"QoS Packet Scheduler"`<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
