<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Installation path control"><title>Installation path control - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Installation path control</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=151476">Installation path control</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">sapha</span><br><span class="post-time small text-muted">4th October 2003 15:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Installation path control</strong><br>Hi, I'm a newbie here...<br>This is my problem:<br><br>I need an installer that can check if the length of the installation path entered by the user is &lt;= of a defined number. Now, this is easy, but how can i permit to the user to repeat the path entry?<br>For now, i use a message box and then i quit the installer...<br><br>Thanks!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">n0On3</span><br><span class="post-time small text-muted">4th October 2003 16:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">you can put the messagebox in a callback.<br><br>from docs:<br><br>4.5.3 Callbacks<br><br>[...] the leave-function is called right after the user has pressed the next button and before the page is left.<br><br><br><br>if that's not enough, post again ;)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">4th October 2003 16:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can use the abort command in the leave function to avoid the user continuing to the next page.<br><br>Also you could use the .onVerifyInstDir function to check the path as the user is selecting it and if it is incorrect automatically disable the next button.<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sapha</span><br><span class="post-time small text-muted">4th October 2003 16:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>i will try</strong><br>Thanks, i will try that!<br>However, i thimk it will be hard cause i've used the MUI and i've not used Pages...<br><br>Bye</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">4th October 2003 16:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You don't need to use MUI, although you can. I will post an example of the .onVerifyInstDir function from the docs. Hope it helps.<br></p><pre>
<code>Function .onVerifyInstDir<br>    IfFileExists $INSTDIR\Winamp.exe PathGood<br>      Abort ; if $INSTDIR is not a winamp directory, don't let us install there<br>    PathGood:<br>  FunctionEnd<br></code>
</pre><br>
      Vytautas
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sapha</span><br>
      <span class="post-time small text-muted">4th October 2003 16:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I feel so little... :)<br>
      <br>
      THANK YOU ALL<br>
      <br>
      Will i need to back? :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Vytautas</span><br>
      <span class="post-time small text-muted">4th October 2003 16:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you use the .onVerifyInstDir function the user will not be able to click next if the path is of wrong length. (The function is called every time the path changes, so as they say in the docs "don't do anything silly in this function, e.g. don't use message boxes, etc.")<br>
      <br>
      So no you will not have to click back.<br>
      <br>
      Vytautas :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sapha</span><br>
      <span class="post-time small text-muted">5th October 2003 15:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>THANKS!!!</strong><br>
      It worked! Thank you!<br>
      <br>
      Bye<br>
      <br>
      PS: sorry if my english :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">n0On3</span><br>
      <span class="post-time small text-muted">5th October 2003 16:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">mmm... I learnt some things today ;)</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>