<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="LockWindow on/off"><title>LockWindow on/off - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">LockWindow on/off</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=192545">LockWindow on/off</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br><span class="post-time small text-muted">5th September 2004 15:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>LockWindow on/off</strong><br>what does this settings do?<br>it's not explained in the docs, but used in modern ui (e.g. system.nsh on line 1147).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">5th September 2004 16:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Perhaps it makes the installation window 'on top' at all times (so other programs cannot hide the window).<br><br>Try the setting and see what happens.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">5th September 2004 17:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><b>E.2.2.1 Changes from 1.98</b><br><br>New commands: [...] LockWindow, [...] SetCompressionLevel [...].</blockquote>Both of them aren't on documentation, used hiddenly by NSIS and naturaly syntax highlighted by HM NIS Edit.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">6th September 2004 02:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">well nsis is open source so just check the src if u want to know what it does (btw, it sends the WM_SETREDRAW msg to the main window)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br><span class="post-time small text-muted">6th September 2004 15:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>well nsis is open source so just check the src if u want to know what it does (btw, it sends the WM_SETREDRAW msg to the main window)</blockquote>the fact that the source is distributed to everyone, doesn't mean, it's READABLE for everyone ...</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">21st March 2005 17:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sorry for bringing up an old post, but I need to explain the use of the commands (which still aren't on the docs):<br><br><b>LockWindow</b> <i>on|<b>off</b></i>:<br><br>LockWindow "on" makes the window not to redraw itself from specified commands sent by user, like showing the window. When LockWindow "off" is used, all controls that weren't redrawn since LockWindow "on" will be redrawn. This makes the pages flickering look nicer because now it flickers a group of controls at the same time, instead of one control at a time. The individual control flickering is more noticiable on older computers...<br><br><b>SetCompressionLevel</b> <i>level_0-9</i>:<br><br>Sets the individual files compression level. Supported by zlib and bzip2 compression methods. The lesser the compression, the faster the compilation will be, but the bigger the installer is. 0 is the minimum (no compression) and 9 is the maximum (maximum compression). Default is 9.<br><br>This command is special because it can be used anywhere (outside or inside Sections or Functions) for zlib.<br><br>For bzip2 compression method, it can only be used 1 time for all files to be compressed but you still can use more than 1 time before including files to installer data.<br><br>This command affects commands that include files to the installer data (File, ReserveFile, DLL calls...).<br><br>Some files gain size by the compression (they're already compressed). With this, they can be ignored for the smallest size possible, without affecting other files that are take advantage of the compression, and making the speed of the compilation and installation faster.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">21st March 2005 17:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks deguix. I can't find ${NSIS_VERSION} in there either.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">21st March 2005 21:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>Thanks deguix. I can't find ${NSIS_VERSION} in there either.</blockquote>If anyone wants to know ALL the other defines the NSIS already defines on start besides those mentioned in docs, just look at the file "Source\exehead\config.h". There are already explainations for them.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">22nd March 2005 18:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">SetCompressionLevel doesn't currently do anything.<br><br>I've added a slightly modified version of deguix's LockWindow description. I've already forgotten why I didn't want to add it to the documentation and it probably wasn't that good of a reason anyway.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">22nd March 2005 23:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>SetCompressionLevel doesn't currently do anything.</blockquote>Hmmmm... I doubt it. Maybe it doesn't do all the things it should do (I didn't think of this before). I've been testing it more and it works only for the levels 0 and 1.<br><br>Try this attachment below (just change the "File" lines to real files). You'll see that the one that follows 'SetCompressionLevel 1' compresses, but the second one followed by 'SetCompressionLevel 0' doesn't. The last 'SetCompressionLevel 1' compresses the rest of the installer data (not only files).<br><br>So this is actually useful. The command just needs improved more to actually support levels 2-9 (which are the same as 1).<br><br>Tested with NSIS 2.06 (no updates).<br>WinXP SP2 w/ all updates available.<br><br>--------------------------------------------<br><br>Maybe I should create a new description for it after this discovery :D (logically, thinking on the future of this command):<br><br><b>SetCompressionLevel</b> <i>level_0-<b>9</b></i><br><br>Sets the installer data compression level. Supported by zlib and bzip2 compression methods. Bzip2 compression only supports the use of this command 1 time in the script. The lesser the compression, the faster the compilation will be, but the bigger the installer is. 0 is no compression, 9 is the best compression.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">24th March 2005 00:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Wow, I discovered another NSIS command, but this one doesn't look too useful:<br><br><b>Nop</b><br><br>Makes relative jumps to be reduced 1 line. For else, it doesn't do anything. Cannot be used outside of Functions or Sections.<br><br>Example:<br><br></p><pre>
<code>  Goto +3<br>  MessageBox MB_OK "This message box will not appear."<br>  Nop<br>  MessageBox MB_OK "This message box will appear."</code>
</pre>Yep! Nop! :)
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DrO</span><br>
      <span class="post-time small text-muted">24th March 2005 01:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">mmm Null OPeration, now that is a bit of the asm style of nsis showing through :)<br>
      <br>
      -daz</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">24th March 2005 15:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok, so SetCompressionLevel 0 works. But it still doesn't do what it's supposed to do. If you want to disable compression, just use SetCompress off. It'll be faster too.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>