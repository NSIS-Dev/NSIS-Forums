<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="First Section always unchecked"><title>First Section always unchecked - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">First Section always unchecked</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=151884">First Section always unchecked</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">sfrank8734</span><br><span class="post-time small text-muted">7th October 2003 22:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>First Section always unchecked</strong><br>I've googled, I've searched, and cannot figure this out. I'm using NSIS 2.0b3 and a modern GUI. My first section is always unchecked, no matter what I seem to do, when doing test runs on my station.<br><br>The section is as follows:<br><br>Section "!${MUI_PRODUCT}" SEC_Exodus<br>SectionIn 1 RO<br><br>It shows up read-only, but not selected.<br><br>I'm basically using the nsi file provided to custom build your own Exodus installer (exodus.jabberstudio.com), a Jabber client. I'm new to NSIS (but painfully did this back in the day with InstallShield 2.0 and 3.0!). Any clues what I am not able to do this?<br><br>If I put another section in front of this one, it's selected, but the one above it is not selected, too.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">pengyou</span><br><span class="post-time small text-muted">8th October 2003 00:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Have you tried using<br><br>SectionIn RO<br><br>instead of<br><br>SectionIn 1 RO<br><br>Are you using more than one install type?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">deguix</span><br><span class="post-time small text-muted">8th October 2003 01:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">When you put the first type of installation, it will be selected (according to your code). If you have Installation Types, the first one will have this section selected, please see it. If not, post again...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sfrank8734</span><br><span class="post-time small text-muted">8th October 2003 16:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Okay, I'm really foreign to this, so forgive me. Hopefully someone can shed light on this, as I don't fully understand types, but I think I'm using multiple installation types based on my interpretation.<br><br>Here's the NSI file that I'm starting from:<br><br><a href="http://www.jabberstudio.org/cgi-bin/viewcvs.cgi/*checkout*/exodus/exodus/exodus.nsi?rev=HEAD&amp;content-type=text/plain" target="_blank">http://www.jabberstudio.org/cgi-bin/...ype=text/plain</a><br><br>There are multiple Sections within this. All it takes for me to lose the initial Section ("Exodus") as being checked is to remove the section coded as follows:<br><br>; BRANDING: Remove this section<br>Section "Daily updates" SEC_Bleed<br>SetOverwrite off<br>File "branding.xml"<br>SetOverwrite on<br>SectionEnd<br><br>Since I'm "branding" the install, I cut that code out. This causes the selected sections to change. I'm guessing there is code elsewhere that defines what is on/off.<br><br>I figured this out from trial &amp; error seeing what changes I make cause the thing to fall apart.<br><br>I'm sure this is all due to a fundamental misunderstanding about installation types in NSIS, but I just started playing with this Monday. :-)<br><br>SF</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">8th October 2003 16:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you are still unable to get this working, then upgrade to latest NSIS CVS (2.0b4), because this could have been an 2.0b3 bug.<br>Or, you could use<br>SectionSetFlags ${SecID} 1<br>in .onInit<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">8th October 2003 16:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It's not a bug in b3, it's something you forgot to remove from the script. In .onInit some sections are unselected by their ID, including SEC_Bleed. Because you removed it, SEC_Bleed is not defined and is therefore treated as 0 which is the index of the first section. When the code tries to unselect SEC_Bleed it unselects the first section instead. Simply remove:<br><br>Push ${SEC_Bleed}<br>Call TurnOff<br><br>and any other instance of SEC_Bleed.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sfrank8734</span><br><span class="post-time small text-muted">8th October 2003 18:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Bingo! :up:<br><br>I got it fixed up due to the references in .oninit. I was removing additional sections and the references in the sections were throwin the index off. Gratz! I was not getting much closer on my own.<br><br>NSIS is pretty cool, I'll be using it for some IT deployments now. Thanks gang!</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>