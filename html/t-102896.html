<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="including just a line ...help !" />

  <title>including just a line ...help ! - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.2/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">including just a line ...help !</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=102896">including just a line ...help !</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">winampfr</span><br />
      <span class="post-time small text-muted">1st September 2002 00:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>including just a line ...help !</strong><br />
      &nbsp; Hello !!<br />
      <br />
      i search to include just this line in my nsi script..for winamp3 of course<br />
      <br />
      &lt;section name="{45F3F7C1-A6F3-4EE6-A15E-125E92FC3F8D}"&gt;<br />
      <b>&lt;entry name="New playlist name" value="nouvelle" /&gt;</b><br />
      <br />
      (the last string)<br />
      <br />
      i try with the script XML ( joined to this post) to write :<br />
      Push "$INSTDIR\studio.xnf"<br />
      Push '&lt;entry name="New playlist name" value="'<br />
      Push 'nouvelle" /&gt;'<br />
      Push '&lt;section name="{45F3F7C1-A6F3-4EE6-A15E-125E92FC3F8D}"&gt;'<br />
      Call XML_Replace<br />
      <br />
      but don't match..<br />
      Do i need the script ..or can i do more easyly...<br />
      <br />
      thanks for you help</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">1st September 2002 00:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What is going wrong? Does it change anything in the file?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">winampfr</span><br />
      <span class="post-time small text-muted">1st September 2002 00:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">no..nothing..no changement ....<br />
      i ask me why he don't make any string changement ...:eek:<br />
      <br />
      Do you have an idea.or perhaps directly the NSI lines ? :p</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">1st September 2002 00:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Is the line you need to replace always at the same location?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">winampfr</span><br />
      <span class="post-time small text-muted">1st September 2002 00:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yes , normaly !<br />
      <br />
      do you ( you or somebodyelse want my studio.xnf ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">1st September 2002 05:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If just want to replace a line have a look here:<br />
      <a href="http://www.clantpa.co.uk/nsis/wiki/index.php/FileRead" target="_blank">http://www.clantpa.co.uk/nsis/wiki/index.php/FileRead</a><br />
      <br />
      If you want to just add a line, just open the file with the 'a' mode, seek to the end, write a line break just to be sure, and then write your line.<br />
      <br />
      There is no need for any XML specific scripts for these two cases.<br />
      If I miss understood your problem, please tell me.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br />
      <span class="post-time small text-muted">1st September 2002 11:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Looks like he wants to change an attribute (value) on a tag (entry) that exists inside another tag (section) so really you'd need to walk the xml properly to reliably change the value.<br />
      <br />
      winampfr, is this what you are trying to do? e.g. change this :-<br />
      <br /></p>
      <pre>
<code>...
<br />&lt;</code>section ...&gt;
<br />&lt;/section&gt;
<br />&lt;section name="{45F3F7C1-A6F3-4EE6-A15E-125E92FC3F8D}"&gt;
<br />  &lt;entry name="New playlist name" value="some value" /&gt;
<br />&lt;/section&gt;
<br />&lt;section ...&gt;
<br />&lt;/section.&gt;
<br />... 
</pre>to this :-
      <pre>
<code>...
<br />&lt;</code>section ...&gt;
<br />&lt;/section&gt;
<br />&lt;section name="{45F3F7C1-A6F3-4EE6-A15E-125E92FC3F8D}"&gt;
<br />  &lt;entry name="New playlist name" value="nouvelle" /&gt;
<br />&lt;/section&gt;
<br />&lt;section ...&gt;
<br />&lt;/section.&gt;
<br />... 
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">winampfr</span><br />
      <span class="post-time small text-muted">1st September 2002 11:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        &lt;section name="{45F3F7C1-A6F3-4EE6-A15E-125E92FC3F8D}"&gt;<br />
        &lt;entry name="New playlist name" value="nouvelle" /&gt;
      </blockquote>yes it's that !<br />
      but don't match in my .nsi script...can i give you my .nsi ? or..<br />
      Push "$INSTDIR\studio.xnf"<br />
      Push '&lt;entry name="New playlist name" value="'<br />
      Push 'nouvelle" /&gt;'<br />
      Push '&lt;section name="{45F3F7C1-A6F3-4EE6-A15E-125E92FC3F8D}"&gt;'<br />
      may be corrected ?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br />
      <span class="post-time small text-muted">1st September 2002 12:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><i>Send me your .xml file you are trying to change please :) (or attach it here)</i><br />
      <br />
      <b>Ignore that</b> - I remembered I have Winamp3 installed so I'm looking at my studio.xnf :)<br />
      <br /></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Sunjammer</span><br />
      <span class="post-time small text-muted">1st September 2002 12:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I just tried an example, changing the nplaylists value from 9 to nouvelle. It worked fine. My code was :-</p>
      <pre>
<code>
Push "$INSTDIR\\studio.xnf" 
<br />&gt;Push '&lt;entry name="nplaylists" value="' 
<br />&gt;Push 'nouvelle" /&gt;' 
<br />&gt;Push '&lt;section name="{45F3F7C1-A6F3-4EE6-A15E-125E92FC3F8D}"&gt;' 
<br />&gt;Call XML_Replace 
<br />&gt;
</code>
</pre>Please send me your .xnf file because mine does not have the "New playlist name" entry in the file so I can't test exactly what you are trying to do.
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>