<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="type of install problem" />

  <title>type of install problem - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">type of install problem</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=240478">type of install problem</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tus01</span><br />
      <span class="post-time small text-muted">10th March 2006 21:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>type of install problem</strong><br />
      I have created 4 sections for my software.<br />
      In each section I have several checkbox to choose which hardware I would like to set up.<br />
      <br />
      The problem is that everytime I check or uncheck something, the type of install becomes "Custom". And this is the problem because for each type of install, I have particular regedit keys that are created, and those keys are specific to each type.<br />
      <br />
      Is there a way to resolve my problem??<br />
      <br />
      Thank you very much...<br />
      <br />
      :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dandaman32</span><br />
      <span class="post-time small text-muted">10th March 2006 22:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">In NSIS, an install "type" is a combination of sections. The "custom" install is just a psuedo-type used for non-standard combinations of sections.<br />
      <br />
      What I'm saying is, don't worry about InstTypes.<br />
      <br />
      In a related note, you can specify:</p>
      <pre>
<code>SectionIn RO</code>
</pre>inside a section to make that section read-only (always checked).<br />
      <br />
      -dandaman32
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tus01</span><br />
      <span class="post-time small text-muted">13th March 2006 13:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well in fact this is not what I really wanted to do.<br />
      I have made an image so that it can be clearer:<br />
      <a href="http://jeje83.free.fr/forum/install_type.png" target="_blank">http://jeje83.free.fr/forum/install_type.png</a><br />
      <br />
      The red square allows me to choose an install type/configuration. A special register key is associated to each configuration.<br />
      After that, if I try to select specific hardware (any hardware is compatible with any configuration), the install type name (configuration) disappears and the "custom" one appears...<br />
      <br />
      I hope it is clearer now...<br />
      <br />
      Thank you for your help...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JasonFriday13</span><br />
      <span class="post-time small text-muted">13th March 2006 21:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You could use an installoptions page with the options on it and either execute or skip the files depending on the type that was selected. Here is an example (assuming you are using MUI).<br /></p>
      <pre>
<code>page custom Prefunc Leavefunc<br /><br />Function .oninit<br />!insertmacro MUI_INSTALLOPTIONS_EXTRACT "installtype.ini"<br />FunctionEnd<br /><br />Function Prefunc<br />!insertmacro MUI_INSTALLOPTIONS_DISPLAY "installtype.ini"<br />FunctionEnd<br /><br />Function Leavefunc<br />ReadINIStr $0 "PLUGINSDIR\installtype.ini" "Field 2" "State"<br />ReadINIStr $1 "PLUGINSDIR\installtype.ini" "Field 3" "State"<br />ReadINIStr $2 "PLUGINSDIR\installtype.ini" "Field 4" "State"<br />ReadINIStr $3 "PLUGINSDIR\installtype.ini" "Field 5" "State"<br />ReadINIStr $4 "PLUGINSDIR\installtype.ini" "Field 6" "State"<br />FunctionEnd<br /><br />Section Files<br />IntCmp $0 0 skip0<br />;Config 1 files and reg keys here<br />skip0:<br />IntCmp $1 0 skip1<br />;Config 2 files and reg keys here<br />skip1:<br />IntCmp $2 0 skip2<br />;Config 3 files and reg keys here<br />skip2:<br />IntCmp $3 0 skip3<br />;Config 4 files and reg keys here<br />skip3:<br />IntCmp $4 0 skip4<br />;Config 5 files and reg keys here<br />skip4:<br />SectionEnd<br /></code>
</pre>And installtype.ini has the first field as a label and the last 5 fields have a checkbox with each of your configurations. Use the installoptions editor in HM NIS Edit to create the file.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">tus01</span><br />
      <span class="post-time small text-muted">14th March 2006 14:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Oh thank you very much for your answer, I am going to study this... thanks again...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JasonFriday13</span><br />
      <span class="post-time small text-muted">14th March 2006 21:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I couldn't resist... Here is an example.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
