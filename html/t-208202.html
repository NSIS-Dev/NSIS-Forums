<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Inetload - Re-Get temp file?"><title>Inetload - Re-Get temp file? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Inetload - Re-Get temp file?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=208202">Inetload - Re-Get temp file?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">azmoviez</span><br><span class="post-time small text-muted">18th February 2005 20:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Inetload - Re-Get temp file?</strong><br>I keep reading that NSIS InetLoad has simple re-get ability. Does it create a temp file or anything. I can't seem to find any documentation about the levels of re-get.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">19th February 2005 06:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">InetLoad re-get is simple - if connection was lost it makes pause, reconnects to server and continue reading from current position. This continues till EOF or 0 bytes received after last connect (or connection attempt failed). No temp files - directly to target file in the single IO thread. It is possible to make more refined algorithm, but I am not sure this is really need here.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">19th February 2005 13:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think azmoviez wants to know if you can resume downloads with it, ie if the internet drops out while downloading a 500mB file.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">19th February 2005 15:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">May be I misunderstood something, but I see 2 common situations - short time server/transfer errors and long time local net/dial-up connection problems. In the first case program can successfully reconnect and resume transfer after short pause (fixed parameter, 5 sec in #define), for long lasting problems this has not sense - user should not wait so long (may be hours) during installation. Finally 500 MB is not a problem to download, I used similar programs for 2-3 GB video clips (it was absolutely impossible for users to download these files without re-get), real problem is to copy big temp file from another drive or combine file from few parts - system may become unavailable for a long time during file operations (on the same drive copy happens faster). And this is why plug-in writes directly to the file user sets in command line.<br>This option is always enabled.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">19th February 2005 17:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">My internet cuts out quite often, and it takes me hours to download 500mB even though I'm on ADSL. I used to be on 56k and it'd take me a day to download just 40mB!<br><br>It would still be a very useful addition if you'd ever feel like adding it. A pause button would also be very handy, but not as much so.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">azmoviez</span><br><span class="post-time small text-muted">19th February 2005 23:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Afro UK has it. Pretty much a resume download button or functionality would be fantastic. We have users that are still on dial up and have 120MB to download. Packets end up getting lost sometimes as well because of the slow connection. Is there any NSIS info on packet loss?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">20th February 2005 00:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If it's just one main file that they're downloading, I recommend that you have a text file on your webserver which contains the file's MD5 value. This file can be downloaded in quite mode and the MD5 is read from it like so:<br><br>Push $R0<br>FileOpen $R0 "$EXEDIR\temp" r<br>FileRead $R0 $R1<br>FileClose $R0<br>Pop $R0<br><br>Just make sure that when you put your MD5 in there check that you don't have a newline character (Enter) on the end.<br><br>You can then use the NSIS MD5 plugin (from the archive); get the downloaded files' MD5 value and compare. Obviously if the files differ, then you'll have to give them a message saying so and a 'would you like to re-download message' along with it.<br><br>I have a simple app to get MD5 value of a selected file if you want it.<br><br>-Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Takhir</span><br><span class="post-time small text-muted">20th February 2005 08:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I am using dial-up at home, so I feel the problem L Even my 8 Mbit office connection sometimes dies. I see following /RESUME feature (auto-disabled in the silent mode): if program cannot connect/reconnect to server, plug-in first asks user (may be He/She forgot to turn on modem). Message box is a decision compatible with all 3 display modes (NSISdl style, msi banner and detailed view), but Message may looks ugly above banner (3-rd level of windows), I’ll test some variants first, may be not right now – I have urgent tasks till the end of month.<br>Regarding lost packets – who can lose them? Server, TCP or plug-in? Few years ago I wrote ftp backup client for ADIC (big tape libs), test sample included 100,000 files, many GB (INT64 any case), but they never asked me to check data integrity – low level protocols should do this (including packets order). If packet was lost tcp should resend it. Otherwise it generates error and program can try to reconnect or exit with "failed" status.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>