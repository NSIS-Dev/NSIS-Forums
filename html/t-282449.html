<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content=".onMouseOverSection with XPUI"><title>.onMouseOverSection with XPUI - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">.onMouseOverSection with XPUI</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282449">.onMouseOverSection with XPUI</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">51819</span><br><span class="post-time small text-muted">1st December 2007 08:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>.onMouseOverSection with XPUI</strong><br></p><pre>
<code><br>OutFile MultiLang.exe<br>Name "$MultiLang"<br><br>SetCompressor /final /solid lzma<br><br>!define XPUI_WANSIS<br>!define XPUI_WANSIS_SKIN LCD<br>!define XPUI_WANSIS_HEADERIMAGE<br><br><br>!include "UsefulLib.nsh"<br>!include "LogicLib.nsh"<br>!include "XPUI.nsh"<br>!verbose 4<br><br>!insertmacro MUI_PAGE_COMPONENTS<br>!insertmacro MUI_PAGE_INSTFILES<br>!insertmacro MUI_PAGE_FINISH<br><br>Section "1600" SEC01<br>SectionEnd<br><br>Section "6310" SEC02<br>SectionEnd<br><br><br>!insertmacro XPUI_FUNCTION_DESCRIPTION_BEGIN<br>!insertmacro XPUI_DESCRIPTION_TEXT ${SEC01} "Description text goes here."<br>!insertmacro XPUI_DESCRIPTION_TEXT ${SEC02} "222"<br>!insertmacro XPUI_FUNCTION_DESCRIPTION_END<br><br>Function .onMouseOverSection<br>    FindWindow $0 "#32770" "" $HWNDPARENT<br>    GetDlgItem $0 $0 1043<br>    CreateFont $1 "Times New Roman" 12 400<br>    SetCtlColors $0 0x000000 0xd4d0c8<br>    SendMessage $0 ${WM_SETFONT} $1 0<br>FunctionEnd </code>
</pre><br>
      <br>
      <br>
      if i used !include "MUI.nsh" , the Script has not any trouble.<br>
      now i must used "!include "XPUI.nsh" ,but the Script Error.<br>
      <br>
      <br>
      Please tall me how to do it ?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">1st December 2007 10:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What error?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">51819</span><br>
      <span class="post-time small text-muted">1st December 2007 11:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Command line:<br>
      "C:\Program Files\NSIS\makensis.exe" /NOTIFYHWND 1048932 "d:\My Documents\Untitled02.nsi"<br>
      <br>
      MakeNSIS v2.28 - Copyright 1995-2007 Contributors<br>
      See the file COPYING for license details.<br>
      Credits can be found in the Users Manual.<br>
      <br>
      Processing config:<br>
      Processing plugin dlls: "C:\Program Files\NSIS\Plugins\*.dll"<br>
      - AdvSplash::show<br>
      - Banner::destroy<br>
      - Banner::getWindow<br>
      - Banner::show<br>
      - BgImage::AddImage<br>
      - BgImage::AddText<br>
      - BgImage::Clear<br>
      - BgImage::Destroy<br>
      - BgImage::Redraw<br>
      - BgImage::SetBg<br>
      - BgImage::SetReturn<br>
      - BgImage::Sound<br>
      - DcryptDll::Decrypt<br>
      - DcryptDll::HexDecoder<br>
      - DcryptDll::HexEncoder<br>
      - DcryptDll::LoadStr<br>
      - DcryptDll::MD5Hash<br>
      - Dialer::AttemptConnect<br>
      - Dialer::AutodialHangup<br>
      - Dialer::AutodialOnline<br>
      - Dialer::AutodialUnattended<br>
      - Dialer::GetConnectedState<br>
      - ExecDos::exec<br>
      - ExecDos::isdone<br>
      - ExecDos::wait<br>
      - FindProcDLL::FindProc<br>
      - InetLoad::load<br>
      - InstallOptions::dialog<br>
      - InstallOptions::initDialog<br>
      - InstallOptions::show<br>
      - InstallOptionsEx::dialog<br>
      - InstallOptionsEx::initDialog<br>
      - InstallOptionsEx::setFocus<br>
      - InstallOptionsEx::show<br>
      - KillProcDLL::KillProc<br>
      - LangDLL::LangDialog<br>
      - Locate::_Close<br>
      - Locate::_Find<br>
      - Locate::_GetSize<br>
      - Locate::_Open<br>
      - Locate::_RMDirEmpty<br>
      - Locate::_Unload<br>
      - Math::Script<br>
      - NSISArray::ArrayCount<br>
      - NSISArray::ArrayExists<br>
      - NSISArray::Clear<br>
      - NSISArray::Concat<br>
      - NSISArray::Copy<br>
      - NSISArray::Cut<br>
      - NSISArray::Debug<br>
      - NSISArray::Delete<br>
      - NSISArray::ErrorStyle<br>
      - NSISArray::Exists<br>
      - NSISArray::ExistsI<br>
      - NSISArray::FreeUnusedMem<br>
      - NSISArray::Join<br>
      - NSISArray::New<br>
      - NSISArray::Pop<br>
      - NSISArray::Push<br>
      - NSISArray::Put<br>
      - NSISArray::ReDim<br>
      - NSISArray::Read<br>
      - NSISArray::ReadToStack<br>
      - NSISArray::Reverse<br>
      - NSISArray::Search<br>
      - NSISArray::SearchI<br>
      - NSISArray::SetSize<br>
      - NSISArray::Shift<br>
      - NSISArray::SizeOf<br>
      - NSISArray::Sort<br>
      - NSISArray::Splice<br>
      - NSISArray::Swap<br>
      - NSISArray::Unload<br>
      - NSISArray::Unshift<br>
      - NSISArray::Write<br>
      - NSISArray::WriteList<br>
      - NSISArray::WriteListC<br>
      - NSISdl::download<br>
      - NSISdl::download_quiet<br>
      - Processes::FindDevice<br>
      - Processes::FindProcess<br>
      - Processes::KillProcess<br>
      - Splash::show<br>
      - StartMenu::Init<br>
      - StartMenu::Select<br>
      - StartMenu::Show<br>
      - System::Alloc<br>
      - System::Call<br>
      - System::Copy<br>
      - System::Free<br>
      - System::Get<br>
      -System::Int64Op<br>
      - System::Store<br>
      - TypeLib::GetLibVersion<br>
      - TypeLib::Register<br>
      - TypeLib::UnRegister<br>
      - UserInfo::GetAccountType<br>
      - UserInfo::GetName<br>
      - UserInfo::GetOriginalAccountType<br>
      - VPatch::vpatchfile<br>
      - WAnsis::config<br>
      - WAnsis::setskin<br>
      - WAnsis::skinit<br>
      - WAnsis::unskinit<br>
      - ZipDLL::extractall<br>
      - ZipDLL::extractfile<br>
      - inetc::get<br>
      - inetc::head<br>
      - inetc::post<br>
      - inetc::put<br>
      - md5dll::GetFileMD5<br>
      - md5dll::GetMD5<br>
      - md5dll::GetMD5File<br>
      - md5dll::GetMD5Random<br>
      - md5dll::GetMD5String<br>
      - newadvsplash::hwnd<br>
      - newadvsplash::play<br>
      - newadvsplash::show<br>
      - newadvsplash::stop<br>
      - newadvsplash::wait<br>
      - nsDialogs::Create<br>
      - nsDialogs::CreateItem<br>
      - nsDialogs::OnBack<br>
      - nsDialogs::OnChange<br>
      - nsDialogs::OnClick<br>
      - nsDialogs::Show<br>
      - nsExec::Exec<br>
      - nsExec::ExecToLog<br>
      - nsExec::ExecToStack<br>
      - nsislog::Log<br>
      - skinnedbutton::setskin<br>
      - skinnedbutton::skinit<br>
      - skinnedbutton::unskinit<br>
      <br>
      !define: "MUI_INSERT_NSISCONF"=""<br>
      <br>
      Changing directory to: "d:\My Documents"<br>
      <br>
      Processing script file: "d:\My Documents\Untitled02.nsi"<br>
      OutFile: "MultiLang.exe"<br>
      Name: "$MultiLang"<br>
      SetCompressor: /FINAL /SOLID lzma<br>
      !define: "XPUI_WANSIS"=""<br>
      !define: "XPUI_WANSIS_SKIN"="LCD"<br>
      !define: "XPUI_WANSIS_HEADERIMAGE"=""<br>
      !include: "C:\Program Files\NSIS\Include\UsefulLib.nsh"<br>
      !define: "USEFUL_FUNC"="å¸¸ç”¨çš„çš„å‡½æ•°å¤´æ–‡ä»¶"<br>
      !include: closed: "C:\Program Files\NSIS\Include\UsefulLib.nsh"<br>
      !include: "C:\Program Files\NSIS\Include\LogicLib.nsh"<br>
      !include: closed: "C:\Program Files\NSIS\Include\LogicLib.nsh"<br>
      !include: "C:\Program Files\NSIS\Include\XPUI.nsh"<br>
      !define: "XPUI_SYSDIR"="C:\Program Files\NSIS\Contrib\ExperienceUI"<br>
      !include: "C:\Program Files\NSIS\Contrib\ExperienceUI\XPUI.nsh"<br>
      !define: "XPUI_VERBOSE"="1"<br>
      +-------------------------------------------------------------------------------------------------+<br>
      | /î‡¤| /î‡¤| /î‡¤| |<br>
      | |î‡¤î‡¤î‡¤ç˜„ _ |ç˜„ |ç˜„ |ç˜„ / / | / / | / / | |<br>
      | | |î‡¤î‡¤? |_| | | | | | | ç˜„ | ç˜„ | ç˜„ | |<br>
      | | î‡¤ç˜„ _ _ ___ ___ _ ___ ____ ____ ___ | | | | | | | | | | | | |<br>
      | | |î‡¤? \\// |î‡¤ç—‹ / __\ | _| | | / __\ | _ \ / __/ / __\| |__| | | | | | | | | | |<br>
      | | î‡¤î‡¤ç˜„ //\\ | __/ \___/ |_| |_| \___/ |_| |_| \___\ \___/\______/ |_| |_| O |_| |_| |<br>
      | î‡¤î‡¤î‡¤? ? ?|_| [ A better installer ] |<br>
      +-------------------------------------------------------------------------------------------------+<br>
      (C:\Program Files\NSIS\Contrib\ExperienceUI\XPUI.nsh:57)<br>
      NSIS ExperienceUI User Interface version 1.11<br>
      Copyright ?2004-2005 Dan Fuhry<br>
      <br>
      Portions written by Joost Verburg<br>
      Copyright ?2002-2004 Joost Verburg<br>
      <br>
      XPUI: Processing XPUI code...<br>
      (C:\Program Files\NSIS\Contrib\ExperienceUI\XPUI.nsh:65)<br>
      XPUI Processing Complete.<br>
      <br>
      (C:\Program Files\NSIS\Contrib\ExperienceUI\XPUI.nsh:3215)<br>
      !include: closed: "C:\Program Files\NSIS\Contrib\ExperienceUI\XPUI.nsh"<br>
      !include: closed: "C:\Program Files\NSIS\Include\XPUI.nsh"<br>
      !insertmacro: MUI_PAGE_COMPONENTS<br>
      !insertmacro: XPUI_PAGE_COMPONENTS<br>
      !insertmacro: XPUI_PAGECHECKS<br>
      !insertmacro: end of XPUI_ENDPAGECHECKS<br>
      !insertmacro: end of XPUI_PAGE_COMPONENTS<br>
      !insertmacro: end of MUI_PAGE_COMPONENTS<br>
      !insertmacro: MUI_PAGE_INSTFILES<br>
      !insertmacro: XPUI_PAGE_INSTFILES<br>
      !insertmacro: XPUI_PAGECHECKS<br>
      !insertmacro: end of XPUI_ENDPAGECHECKS<br>
      !insertmacro: end of XPUI_PAGE_INSTFILES<br>
      !insertmacro: end of MUI_PAGE_INSTFILES<br>
      !insertmacro: MUI_PAGE_FINISH<br>
      !insertmacro: XPUI_PAGE_FINISH<br>
      !insertmacro: XPUI_PAGECHECKS<br>
      !insertmacro: end of XPUI_PAGE_FINISH<br>
      !insertmacro: end of MUI_PAGE_FINISH<br>
      Section: "1600" -&gt;(SEC01)<br>
      SectionEnd<br>
      Section: "6310" -&gt;(SEC02)<br>
      SectionEnd<br>
      !insertmacro: XPUI_FUNCTION_DESCRIPTION_BEGIN<br>
      !insertmacro: XPUI_FUNCTION_DESCRIPTION_BEGIN (Start Description Function) (macro:XPUI_FUNCTION_DESCRIPTION_BEGIN:4)<br>
      !insertmacro: end of XPUI_FUNCTION_DESCRIPTION_BEGIN<br>
      !insertmacro: XPUI_DESCRIPTION_TEXT<br>
      XPUI Section Description Text: Section 0, Text "Description text goes here." (macro:XPUI_DESCRIPTION_TEXT:4)<br>
      !insertmacro: end of XPUI_DESCRIPTION_TEXT<br>
      !insertmacro: XPUI_DESCRIPTION_TEXT<br>
      XPUI Section Description Text: Section 1, Text "222" (macro:XPUI_DESCRIPTION_TEXT:4)<br>
      !insertmacro: end of XPUI_DESCRIPTION_TEXT<br>
      !insertmacro: XPUI_FUNCTION_DESCRIPTION_END<br>
      !insertmacro: XPUI_FUNCTION_DESCRIPTION_END (End Description Function) (macro:XPUI_FUNCTION_DESCRIPTION_END:4)<br>
      !insertmacro: end of XPUI_FUNCTION_DESCRIPTION_END<br>
      Function: ".onMouseOverSection"<br>
      Error: Function named ".onMouseOverSection" already exists.<br>
      Error in script "d:\My Documents\Untitled02.nsi" on line 32 -- aborting creation process</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">1st December 2007 11:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please attach large texts in the future. It makes the topic very hard to read with large pasted blocks.<br>
      <br>
      XPUI already uses .onMouseOverSection and so you must tell it to call your own function as well. Look in the XPUI documentation for the define you need to set in order to tell it to use your function. In the MUI, the same happens with .onGUIInit. There you must define MUI_CUSTOMFUNCTION_GUIINIT.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">51819</span><br>
      <span class="post-time small text-muted">1st December 2007 12:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">if i not use .onMouseOverSection<br>
      when i move the mouse,the info color not black!<br>
      <br></p>
      <pre>
<code>MUI_INNERTEXT_COMPONENTS_DESCRIPTION_INFO<br> "Position your mouse over a component to see its description."</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">1st December 2007 12:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Maybe someone can help you in XPUI forums. I don't know why the text would be black in XPUI.<br>
      <br>
      <a href="http://xpui.sourceforge.net/forum/" target="_blank">http://xpui.sourceforge.net/forum/</a></p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">51819</span><br>
      <span class="post-time small text-muted">1st December 2007 13:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">modify the original macros<br>
      <br>
      Error: Function named ".onMouseOverSection" already exists<br>
      <br>
      1.Open XPUI.nsh<br>
      <br>
      2.Go near line 2987, between '; END SECTION DESCRIPTION CODE''; WRITTEN BY JOOST VERBURG' modify:<br>
      <br></p>
      <pre>
<code><br>!macro XPUI_DESCRIPTION_BEGIN<br>FindWindow $XPUI_TEMP1 `#32770` `` $HWNDPARENT<br>GetDlgItem $XPUI_TEMP1 $XPUI_TEMP1 1043<br>StrCmp $0 -1 0 XPUI.description_begin_done<br>SendMessage $XPUI_TEMP1 0xC 0 `STR:$XPUI_HWND`<br>EnableWindow $XPUI_TEMP1 0<br><br>Goto XPUI.description_done<br>XPUI.description_begin_done:<br>!macroend<br><br>!macro XPUI_DESCRIPTION_TEXT VAR TEXT<br>!verbose push<br>  !verbose 4<br>  !ifndef XPUI_SILENT<br>    !echo `XPUI Section Description Text: Section ${VAR}, Text "${TEXT}"`<br>  !endif<br>  !verbose ${XPUI_VERBOSE}<br>StrCmp $0 ${VAR} 0 XPUI.description_${VAR}_done<br>SendMessage $XPUI_TEMP1 0xC 0 `STR:`<br>EnableWindow $XPUI_TEMP1 1<br>SendMessage $XPUI_TEMP1 0xC 0 `STR:${TEXT}`<br>Goto XPUI.description_done<br>XPUI.description_${VAR}_done:<br>!verbose pop<br>!macroend<br><br>!macro XPUI_DESCRIPTION_END<br>XPUI.description_done:<br>!macroend<br>;==========================================<br>!macro XPUI_FUNCTION_DESCRIPTION_BEGIN <br>!verbose push <br>    !verbose 4 <br>   !ifndef XPUI_SILENT <br>      !echo `!insertmacro: XPUI_FUNCTION_DESCRIPTION_END (End Description Function)` <br>   !endif <br>   !verbose ${XPUI_VERBOSE} <br>Function un.onMouseOverSection <br>FindWindow $XPUI_TEMP1 `#32770` `` $HWNDPARENT <br>GetDlgItem $XPUI_TEMP1 $XPUI_TEMP1 1042 <br>SendMessage $XPUI_TEMP1 0xC 0 `STR:$XPUI_TEMP2` <br>!insertmacro XPUI_DESCRIPTION_BEGIN <br>!verbose pop <br>!macroend <br><br>!macro XPUI_FUNCTION_DESCRIPTION_END <br>!verbose push <br>!verbose 4 <br>!verbose ${XPUI_VERBOSE} <br>  !ifndef XPUI_SILENT <br>    !echo `!insertmacro: XPUI_FUNCTION_DESCRIPTION_END (End Description Function)` <br>  !endif <br>   !verbose ${XPUI_VERBOSE} <br>    !insertmacro XPUI_DESCRIPTION_END <br>FunctionEnd <br>!verbose pop <br>!macroend <br>;===========================================<br>!macro XPUI_UNFUNCTION_DESCRIPTION_BEGIN <br>!verbose push <br>    !verbose 4 <br>   !ifndef XPUI_SILENT <br>      !echo `!insertmacro: XPUI_UNFUNCTION_DESCRIPTION_END (End Description Function)` <br>   !endif <br>   !verbose ${XPUI_VERBOSE} <br>Function un.onMouseOverSection <br>FindWindow $XPUI_TEMP1 `#32770` `` $HWNDPARENT <br>GetDlgItem $XPUI_TEMP1 $XPUI_TEMP1 1042 <br>SendMessage $XPUI_TEMP1 0xC 0 `STR:$XPUI_TEMP2` <br>!insertmacro XPUI_DESCRIPTION_BEGIN <br>!verbose pop <br>!macroend <br><br>!macro XPUI_UNFUNCTION_DESCRIPTION_END <br>!verbose push <br>!verbose 4 <br>!verbose ${XPUI_VERBOSE} <br>  !ifndef XPUI_SILENT <br>    !echo `!insertmacro: XPUI_UNFUNCTION_DESCRIPTION_END (End Description Function)` <br>  !endif <br>   !verbose ${XPUI_VERBOSE} <br>    !insertmacro XPUI_DESCRIPTION_END <br>FunctionEnd <br>!verbose pop <br>!macroend <br><br>; END SECTION DESCRIPTION CODE </code>
</pre>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>