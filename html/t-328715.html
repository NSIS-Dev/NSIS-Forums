<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Sort content of file by string length" />

  <title>Sort content of file by string length - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Sort content of file by string length</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=328715">Sort content of file by string length</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bsul</span><br />
      <span class="post-time small text-muted">21st March 2011 16:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Sort content of file by string length</strong><br />
      Hi,<br />
      <br />
      i am trying to sort a content of a file by string length, for sample:<br />
      unsorted.log<br />
      PHP Code:</p>
      <hr />
      <code style="white-space:nowrap"><!-- php buffer start --></code><span style="color: #000000"><span style="color: #0000BB">123<br />
      1<br />
      12345<br />
      12<br />
      12<br />
      1234<br /></span></span> <!-- php buffer end -->
      <hr />
      to -&gt;<br />
      sorted.log<br />
      PHP Code:
      <hr />
      <code style="white-space:nowrap"><!-- php buffer start --></code><span style="color: #000000"><span style="color: #0000BB">12345<br />
      1234<br />
      12<br />
      12<br />
      1<br /></span></span> <!-- php buffer end -->
      <hr />
      Maybe it helps if i add the strlen to the file on write<br />
      unsorted.log<br />
      PHP Code:
      <hr />
      <code style="white-space:nowrap"><!-- php buffer start --></code><span style="color: #000000"><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">)</span><span style="color: #0000BB">123<br /></span> <span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">)</span><span style="color: #0000BB">1<br /></span> <span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">)</span><span style="color: #0000BB">12345<br /></span> <span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">)</span><span style="color: #0000BB">12<br /></span> <span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">)</span><span style="color: #0000BB">12<br /></span> <span style="color: #007700">(</span><span style="color: #0000BB">4</span><span style="color: #007700">)</span><span style="color: #0000BB">1234<br /></span></span> <!-- php buffer end -->
      <hr />
      Regards,<br />
      <br />
      Bernhard
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">21st March 2011 16:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Read each line and write it to the registry under a key name and value name of:<br />
      <br />
      WriteRegStr HKCU "Software\MyApp\[line length]" "[line #]" "[line text]"<br />
      <br />
      You should be able to use EnumRegKeys and EnumRegValues to enumerate them in order.<br />
      <br />
      If EnumRegKeys/EnumRegValues does not give you back the values in order then you would need to use two counters for the line lengths and line numbers instead and just use ReadRegStr on its own. You would need to keep track of the highest line length and the number of lines so that you know when to stop counting. If you choose this method you could use an INI file instead.<br />
      <br />
      Note that any lines over NSIS_MAX_STRLEN (1024 by default) will be truncated therefore you could instead sort using some code written in C or something which you call in a DLL.<br />
      <br />
      You could also use the NSISArray plug-in but you still hit the 1024 string length limit when you use FileRead.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
