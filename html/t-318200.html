<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="IfFileExists always fails?!"><title>IfFileExists always fails?! - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">IfFileExists always fails?!</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=318200">IfFileExists always fails?!</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">nmartin</span><br><span class="post-time small text-muted">6th April 2010 18:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>IfFileExists always fails?!</strong><br>For some reason the IfFileExists function always evaluates to false.<br><br></p><pre>
<code>IfFileExists $productFile continue<br>        MessageBox MB_OK "Please select a valid product package file. <br>        Abort<br>    continue:<br> MessageBox MB_OK "Found file. </code>
</pre><br>
      <br>
      I have checked and doubled checked and the $productFile path is valid. Does anyone know what's up?<br>
      <br>
      Thanks
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br>
      <span class="post-time small text-muted">6th April 2010 18:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Perhaps there are spaces in your file path?<br>
      <br>
      Use:<br></p>
      <pre>
<code>IfFileExists "$productFile" continue</code>
</pre><br>
      <br>
      Otherwise... have you checked the actual value of that variable, or are you just checking that it is valid by assuming that the value you set it to, is what the value is at that point?<br>
      <br>
      I would add a:<br>
      <pre>
<code>MessageBoxMB_OK</code><span style="color: #DD0000">"***91;$productFile***93;"
</span>
</pre>before the IfFileExists so you can see what the variable value -actually- is (including any leading/trailing spaces).
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ahmett</span><br>
      <span class="post-time small text-muted">6th April 2010 21:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">!include "MUI2.nsh" ( or LogicLib.nsh )<br>
      <br>
      <br>
      ${ifnot} ${FileExists} "$productFile"<br>
      MessageBox MB_OK "Please select a valid product package file.<br>
      Abort<br>
      ${else}<br>
      MessageBox MB_OK "Found file.<br>
      ${endif}<br>
      <br>
      or<br>
      <br>
      ${if} ${FileExists} "$productFile"<br>
      MessageBox MB_OK "Found file.<br>
      ${else}<br>
      MessageBox MB_OK "Please select a valid product package file.<br>
      Abort<br>
      ${endif}</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>