<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="need second checkbox for modern UI license page" />

  <title>need second checkbox for modern UI license page - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">need second checkbox for modern UI license page</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=222286">need second checkbox for modern UI license page</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cyrusazar</span><br />
      <span class="post-time small text-muted">23rd July 2005 19:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>need second checkbox for modern UI license page</strong><br />
      I would like to add a second checkbox to the Modern UI license page to force users to check both boxes before enabling the next button. Anyone know how to do this?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">24th July 2005 01:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No this isn't possible without a plugin or modification to the NSIS source.<br />
      <br />
      Edit: This is an idea for a plugin that I shall write.<br />
      In new installers now, you can only continue by scrolling to the end of the license first.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br />
      <span class="post-time small text-muted">24th July 2005 10:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It's better to add a control RichEdit to InstallOptions than creating useless plugins for just the purpose. It would make much easier to customize license pages.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cyrusazar</span><br />
      <span class="post-time small text-muted">24th July 2005 16:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I don't care how it's written, I just need this functionality to satisfy the attorney. Doing a hack job is just fine for this project.<br />
      <br />
      I was able to create a second checkbox on the license page, but the checkbox caption from the resource file went away. Obviously I need to hack the code even more. Can someone point to where in the source the caption for the checkbox is actually written to the dialog?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">24th July 2005 18:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It's no good adding another check-box with Resource Hacker because you can't apply a notify function on it (so that it actually does something).<br />
      <br />
      You can however do as deguix suggests and create an InstallOptions page. You'd probably have to use InstallOptionsEx which you'll find on this forum to use a RichEdit control.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cyrusazar</span><br />
      <span class="post-time small text-muted">24th July 2005 19:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm working with the sources. No resource hacker needed. I created the second checkbox by making a new Contrib\UIs\modern.exe using the Contrib\UIs\UI Holder project. If I could find out where this gets processed in the source code, I might be able to make the changes I need.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">24th July 2005 19:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What would you need the second check-box to say? Would you want the two side by side? I've finished writing the plugin to disable the next button until the user has finished scrolling, and I thought I could add your feature too if it's worth it (and if other people would benefit?)<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cyrusazar</span><br />
      <span class="post-time small text-muted">24th July 2005 19:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here are my two checkbox statements.<br />
      <br />
      -I have read and do understand the terms and conditions of this EULA.<br />
      -I agree to these terms and conditions.<br />
      <br />
      I thought the second checkbox would be below the first, possibly shortening the height of the license text box to make room for it.<br />
      <br />
      I think this along with the page down requirement on the text would satisfy most attorneys :D</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">24th July 2005 20:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah that makes sense. They have that on a lot of commercial game installers now too. I have nothing else to do now (was headbanging on Friday so I've got a screwed neck) so I'll add this. I'll also add some plugin parameters which allow you to set the check-box text as well.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">24th July 2005 22:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I've got everything to function correctly, except I can't get it to put the new check-box in the right place because GetClientRect returns 0 for x and y coords. I need to get the x and y coords of the old check-box relative to the child window.<br />
      I'll probably end up using some dodgy hack-up job for this.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">24th July 2005 23:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Nearly finished. Modern UI has another label on there which tells you that you need to click the "Agree" check-box. Shall I get rid of it (as we now have two check-boxes)?<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th July 2005 00:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Never mind, I kept the label as it actually still made sense.<br />
      Took longer than I thought it would, because I couldn't find a hard-coded way to get an x and y coor of a control.<br />
      I ended up adding all the heights of the controls down to where I wanted to put my new check-box (not a very clean way to do it).<br />
      <br />
      Anyway, it works for both Modern UI and default UI which is the main thing.<br />
      <br />
      Also works for:<br />
      LicenseForceSelection off<br />
      LicenseForceSelection checkbox<br />
      LicenseForceSelection radiobuttons<br />
      <br />
      <a href="http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip" target="_blank">http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip</a><br />
      <br />
      Readme included and two examples.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cyrusazar</span><br />
      <span class="post-time small text-muted">25th July 2005 03:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I just installed ScrollLicense and it worked like a champ first try! Excellent work!! Thank you very much!!!<br />
      <br />
      One testing note: After I hit next (after scrolling and checking the boxes) if I hit back to go back to the license page, it shows only one checkbox. Not a big deal, but might be an easy fix.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th July 2005 11:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah yes... I'll fix that now.<br />
      This will have to be my last plugin for a while because I've got some work to do on a project of mine.<br />
      <br />
      Edit: Uploaded (v0.2)<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cyrusazar</span><br />
      <span class="post-time small text-muted">25th July 2005 17:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I tested the new version and it works great. I did find another issue that happens if you hit the back button on the license page and then hit the next button to go to the license page again. If the text hasn't scrolled to the bottom, the checkboxes are disabled and you can't set them. If the text did scroll to the bottom, then both checkboxes are set.<br />
      <br />
      This issue is very minor, and the plugin works great as is. Thanks again.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th July 2005 19:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I've fixed that now too.<br />
      Uploaded v0.3<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">20th October 2005 14:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">How can you make sure it unloads and thus gets deleted at the end of the installation ?<br />
      <br />
      I tried just calling it with...<br />
      ScrollLicense::Set /CHECKBOX<br />
      and<br />
      ScrollLicense::Set<br />
      <br />
      ...but both just crash the installer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">27th October 2005 05:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Another thing...<br />
      If you go Back a page and then Next to the License page again, the checkbox(es) never become enabled; i.e. they stay greyed out.<br />
      <br />
      My current work-around involves disabling the Back button on the license page so that a user simply can't do the above.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">27th October 2005 10:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have a fix for the DLL Unloading, but I could not reproduce the second bug that you mentioned. cyrusazar mentioned this in his last post (a few posts up) and I should have fixed this in v0.3<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">27th October 2005 14:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Whoops... I can't read. Or rather, I confused it with his post before that (Next &gt; Back | checkbox disappears). I guess that still means I can't read :)<br />
      <br />
      Is there anything we could do to help find out what's happening with that issue ? Doesn't seem like Sysinternals has a "Call Monitor" ;)<br />
      <br />
      The unload fix would be awesome - though I don't mind the orphan directories *too* much, given that it is in a temp location.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">27th October 2005 16:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Still unable to reproduce.<br />
      Try downloading v0.4 (which has the Unload function added).<br />
      <br />
      <a href="http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip" target="_blank">http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip</a><br />
      <br />
      Try the examples to see if they reproduce the problem (in Contrib\ScrollLicense).<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">27th October 2005 16:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Happens with bot the example scripts as well...<br />
      <br />
      The prerequisite appears to be that you need to be using /CHECKBOX.<br />
      <br />
      E.g.<br /></p>
      <pre>
<code><br />works fine :<br />  ScrollLicense::Set /NOUNLOAD<br /><br />  ScrollLicense::Set /NOUNLOAD /CHECKBOX<br /><br />  LicenseForceSelection radiobuttons<br />  ScrollLicense::Set /NOUNLOAD<br /><br />  LicenseForceSelection radiobuttons<br />  ScrollLicense::Set /NOUNLOAD /CHECKBOX<br /><br />  LicenseForceSelection checkbox<br />  ScrollLicense::Set /NOUNLOAD<br /><br />checkboxes remain disabled after Back &gt; Next :<br />  LicenseForceSelection checkbox<br />  ScrollLicense::Set /NOUNLOAD /CHECKBOX</code>
</pre><br />
      Edit:<br />
      1. code-ified the above<br />
      2. verified UNLOAD working - brilliant :D
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">27th October 2005 17:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ah finally I got the problem too :)<br />
      I'll try and fix it now.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">27th October 2005 17:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Fixed, thanks :)<br />
      <a href="http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip" target="_blank">http://nsis.sourceforge.net/wiki/File:ScrollLicense.zip</a><br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">27th October 2005 18:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Confirmed :) Glad I could help out</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">nco2k</span><br />
      <span class="post-time small text-muted">14th January 2006 16:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hey, this is a really good idea! imho such "feature" should be officially built in. good job! :)<br />
      <br />
      c ya,<br />
      nco2k</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">nco2k</span><br />
      <span class="post-time small text-muted">14th January 2006 17:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">there is only one more thing.<br />
      <br />
      the text "If you accept the terms of the agreement, click I Agree to continue. You must accept the agreement to install XYZ." is a little bit confusing because there is no "I Agree" button.<br />
      <br />
      can i somehow remove the first textpart, so that only "You must accept the agreement to install XYZ." is left or maybe even better, change it to "If you accept the terms of the agreement, click Next to continue. You must accept the agreement to install XYZ." ??<br />
      <br />
      c ya,<br />
      nco2k</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">14th January 2006 17:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks :)<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">14th January 2006 17:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">if you're using MUI:<br />
      <br />
      !define MUI_LICENSEPAGE_TEXT_BOTTOM "If you've read, understood and agree to the terms of the agreement, click the checkboxes below.$\r$\nYou must accept the agreement to continue installation. Click Next to continue."</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">nco2k</span><br />
      <span class="post-time small text-muted">14th January 2006 17:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">great, thanks for your help! :)<br />
      <br />
      c ya,<br />
      nco2k</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
