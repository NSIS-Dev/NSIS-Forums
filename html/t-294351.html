<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Large header image and header text in front." />

  <title>Large header image and header text in front. - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Large header image and header text in front.</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=294351">Large header image and header text in front.</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ezac</span><br />
      <span class="post-time small text-muted">11th July 2008 20:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Large header image and header text in front.</strong><br />
      Hi,<br />
      <br />
      Is it possible to have the header text in front of a large header image and how to do that?.<br />
      <br />
      This is what i have:<br />
      !define MUI_HEADERIMAGE<br />
      !define MUI_HEADERIMAGE_LEFT<br />
      !define MUI_HEADERIMAGE_BITMAP_NOSTRETCH<br />
      !define MUI_HEADERIMAGE_BITMAP "head.bmp"; 250x57<br />
      !define MUI_HEADER_TRANSPARENT_TEXT<br />
      <br />
      Half of the text is hidden behind the image.<br />
      <br />
      Need help on this.<br />
      <br />
      /Ezac</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Berbe</span><br />
      <span class="post-time small text-muted">28th December 2010 04:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br />
      <br />
      I have the exact same problem.<br />
      <br />
      How do you put title in front of header bitmap image?<br />
      <br />
      Thanks a lot!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jiake</span><br />
      <span class="post-time small text-muted">28th December 2010 17:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The easiest way is using a modified ui file, or you can use System::Call user32::SetWindowPos to change the Z-order of the two text control.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Berbe</span><br />
      <span class="post-time small text-muted">29th December 2010 15:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'll try this.<br />
      <br />
      Thanks a lot!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">blh83</span><br />
      <span class="post-time small text-muted">30th December 2010 21:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I had this exact same problem a while back. Here is the macro I wrote in my installer to fix it:<br />
      <br />
      !macro FIXWINDOWHEADER fixHeader<br />
      Function ${fixHeader}fixWindowHeader<br />
      GetDlgItem $0 $HWNDPARENT 1046 ;header image<br />
      GetDlgItem $1 $HWNDPARENT 1037 ;header text<br />
      GetDlgItem $2 $HWNDPARENT 1038 ;header subtext<br />
      System::Call "User32::SetWindowPos(i, i, i, i, i, i, i) b ($1, $0, 30, 15, 497, 57, 0)" ;this also moves the text a little to the left so it doesn't over-write part of the header image<br />
      System::Call "User32::SetWindowPos(i, i, i, i, i, i, i) b ($2, $0, 40, 30, 497, 57, 0)"<br />
      FunctionEnd<br />
      !macroEnd<br />
      <br />
      Basically, the SetWindowPos calls above place the header text and sub-text on top of the header image. Also, note that they slightly changed the position of the text but that is due to my specific header image and may not apply to you. See the help for SetWindowPos here: <a href="http://msdn.microsoft.com/en-us/library/ms633545%28v=vs.85%29.aspx" target="_blank">http://msdn.microsoft.com/en-us/libr...=vs.85%29.aspx</a><br />
      <br />
      Also, I found issues with using '!define MUI_HEADER_TRANSPARENT TEXT' so if things don't work for you, consider getting rid of this as well and see what happens. Hope this helps.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jiake</span><br />
      <span class="post-time small text-muted">31st December 2010 08:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Do not need to modify the size of control:<br />
      <br />
      GetDlgItem $0 $HWNDPARENT 1037<br />
      System::Call "User32::SetWindowPos(ir0,i0,i0,i0,i0,i0,i3)"<br />
      GetDlgItem $0 $HWNDPARENT 1038<br />
      System::Call "User32::SetWindowPos(ir0,i0,i0,i0,i0,i0,i3)"<br />
      <br />
      The 2nd parameter i0 means i${HWND_TOP}, 7th parameter i3 means i${SWP_NOSIZE}|${SWP_NOMOVE}<br />
      Or use like this:<br />
      <br />
      GetDlgItem $0 $HWNDPARENT 1046<br />
      GetDlgItem $1 $HWNDPARENT 1037<br />
      System::Call "User32::SetWindowPos(ir0,ir1,i0,i0,i0,i0,i3)"<br />
      GetDlgItem $1 $HWNDPARENT 1038<br />
      System::Call "User32::SetWindowPos(ir0,ir1,i0,i0,i0,i0,i3)"<br />
      <br />
      Add these to your custom defined "ONGUIINIT" function.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
