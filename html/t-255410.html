<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Problem with NSIS and win-bash."><title>Problem with NSIS and win-bash. - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Problem with NSIS and win-bash.</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=255410">Problem with NSIS and win-bash.</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">websafe</span><br><span class="post-time small text-muted">13th September 2006 12:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Problem with NSIS and win-bash.</strong><br>Hello,<br><br>I'm trying to do a silent installation of 7-Zip. AFAIK 7-Zip uses NSIS installer. I'm trying to do a silent installation, and i notice problems under win-bash.<br><br>On the classic "windows-shell" (cmd.exe):<br><br>7z442.exe /S<br><br>everything works fine... Installs silently. But...<br><br>When I do the same under Bash for Windows (<a href="http://sourceforge.net/projects/win-bash" target="_blank">http://sourceforge.net/projects/win-bash</a>)<br><br>7z442.exe /S<br><br>the installer is NOT SILENT :&gt; Probably the parameter "/S" is not read by the installer... Other software, like the GnuWin32 packages install silently under win-bash without any problems... So it seems to be a NSIS related problem,<br>am I right?<br><br>Is this a known problem? Is there a solution?<br><br><br>TIA for any suggestions :)<br><br>--<br>websafe</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br><span class="post-time small text-muted">13th September 2006 13:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Could you try this simple test file with win-bash. If you can see the text "Installer is silent and you can't see this text. :P" there really is something wrong, but if you don't and the window still appears with /S switch, try to run the test with random parameters and see if those appears in the log window ($CMDLINE)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">websafe</span><br><span class="post-time small text-muted">13th September 2006 14:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">silenttest.exe /S<br>silenttest.exe /S /passive<br>silenttest.exe /S /anything<br><br>The params appear in the window :confused:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br><span class="post-time small text-muted">13th September 2006 14:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">But the text doesn't appear? Ok could you try this new test file. Don't use any parameters, just run it and try the silent mode if it works. It also should show message "Silent flag is set" in the silent mode.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">websafe</span><br><span class="post-time small text-muted">13th September 2006 15:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">when I'm doing silenttest.exe /S /anything then in the windows appears:<br>$CMDLINE = SILENT~1.EXE "/S" "/anything"<br>Completed<br><br><br>silenttest2.exe -&gt; "Silent mode? YES|NO" -&gt; YES -&gt; "Silent flag i set"<br><br>silenttest2.exe /S -&gt; "Silentmode? YES|NO" -&gt; YES -&gt; "Silent flag is set"<br><br>silenttest2.exe /S -&gt; "Silentmode? YES|NO" -&gt; NO -&gt; "Silent flag is not set" -&gt; OK -&gt; "Completed"<br><br><br>:&gt;</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">websafe</span><br><span class="post-time small text-muted">13th September 2006 15:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by {_trueparuex^}</i><br><b>... If you can see the text "Installer is silent and you can't see this text. :P" there really is something wrong...</b></blockquote><blockquote><i>Originally posted by {_trueparuex^}</i><br><b>But the text doesn't appear?</b><hr></blockquote></div><hr>Sorry, I missed this question :P<br>I did not found "Installer is silent and you can't see this text. :P" anywhere after running silenttest.exe 8-)<br><div class="post"><p class="post-meta"><span class="post-author text-primary">{_trueparuex^}</span><br><span class="post-time small text-muted">13th September 2006 16:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Quote:</p><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">websafe</span><br><span class="post-time small text-muted">13th September 2006 18:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by {_trueparuex^}</i><br><b>Wait a minute... :weird: "/S" Where did those quotes come from. It should be just /S it doesn't work with quotes.</b></blockquote>silenttest.exe /S /anything<br><br>in the window appears:<br><br>$CMDLINE = SILENT~1.EXE "/S" "/anything"<br>Completed<br><br>(with quotes, exactly as shown)</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">15th September 2006 17:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">That's not very nice of winbash, changing the command line like that. Use the following from winbash to get around it:</p><pre>
<code>cmd.exe /C "7z442.exe /S"</code>
</pre></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
      hljs.initHighlightingOnLoad();
      //]]></script><table cellpadding="6" cellspacing="0" border="0" width="100%"><tr><td class="alt2"><hr>$CMDLINE = SILENT~1.EXE "/S" "/anything" Wait a minute... :weird: "/S" Where did those quotes come from. It should be just /S it doesn't work with quotes.</td></tr></table></div></div></body></html>