<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Install in temp" />

  <title>Install in temp - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Install in temp</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=239371">Install in temp</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">n00bNSIS</span><br />
      <span class="post-time small text-muted">27th February 2006 18:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Install in temp</strong><br />
      Hi,<br />
      I'm a n00b in NSIS.<br />
      But i#ve only a simple question: Is it possible to make an installer which extracts all files in a temp-folder (eg. C:\Windows\Temp) and runs the main *.exe. After the main exe quit the installer should uninstall everything. Is that possible? It's like a quick extract!<br />
      Thanks</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">27th February 2006 18:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">$TEMP is what you're after (to get Temp folder path) and execute your file with ExecWait. ExecWait will execute your exe and wait until it is finished before continuing with installation. At that point, you can delete the files with Delete.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">goldy1064</span><br />
      <span class="post-time small text-muted">27th February 2006 18:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What I do for a temporary install is to install everything to $TEMP and then write the uninstall key to run on startup in HKLM\Software\Microsoft\Windows\CurrentVersion\RunOnce and then remove it. That way if the user want to run the application again before reboot, they don't have to wait for everything to install again.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">n00bNSISagain</span><br />
      <span class="post-time small text-muted">28th February 2006 16:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">my code is:<br />
      ------------------<br />
      Name "Silent"<br />
      OutFile "silent.exe"<br />
      <br />
      SilentInstall silent<br />
      <br />
      Function .onInit<br />
      FunctionEnd<br />
      <br />
      Section<br />
      SetOutPath $TEMP<br />
      File gfx.exe<br />
      File silent.exe<br />
      ExecWait "$TEMP\gfx.exe"<br />
      Delete $TEMP\gfx.exe<br />
      Delete $TEMP\silent.exe<br />
      SectionEnd<br />
      ------------------<br />
      The installer compiles, everything fine!<br />
      But if I launch it, it opens gfx.exe and after I close it, it only deletes silent.exe...<br />
      Why that?</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
