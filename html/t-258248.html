<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="I can't run my .bat file successfulely!!!HELP!" />

  <title>I can't run my .bat file successfulely!!!HELP! - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">I can't run my .bat file successfulely!!!HELP!</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=258248">I can't run my .bat file successfulely!!!HELP!</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">freebendy</span><br />
      <span class="post-time small text-muted">25th October 2006 09:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>I can't run my .bat file successfulely!!!HELP!</strong><br />
      I make a installer of mysql! When I release the mysql.rar to my $INSTDIR,and write the my.ini file to cofig mysql!<br />
      And Then i want to use a .bat file to register the mysql service to the windows or remove the service!<br />
      the .bats:<br />
      reg.bat :<br />
      @echo off<br />
      mysqld-nt -install<br />
      net start mysql<br />
      <br />
      unreg.bat :<br />
      net stop mysql<br />
      mysqld-nt -remove<br />
      <br />
      But when i do this:<br />
      exec '"$INSTDIR\mysql\reg.bat"'<br />
      It display:<br />
      'mysqld-nt' is not a external command or internal command,and not a executable file or bat!<br />
      <br />
      But the mysql\bin is in the system path!<br />
      and i double click the reg.bat!It run well!<br />
      why i can't do it in the scipt!!<br />
      By the way, I also use the execCmd and ExecDos plugins!<br />
      But the installation crash!!!!<br />
      <br />
      How can i do what i want?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">OrdiMars</span><br />
      <span class="post-time small text-muted">25th October 2006 09:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If I were you I will try and write the full path name when calling mysqld-nt, just as a test to make sure it's not a path problem.<br />
      Something like:<br />
      C:\mysql\bin\mysqld-nt.exe -install<br />
      <br />
      <br />
      Cheers,</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">freebendy</span><br />
      <span class="post-time small text-muted">25th October 2006 09:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">the path is unknow when i haven't install it!<br />
      the path of mysql\bin is Add to the System Paths too!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">OrdiMars</span><br />
      <span class="post-time small text-muted">25th October 2006 10:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I understand that.<br />
      I am just saying for TEST PURPOSES, do one version like this, just to make sure that's not a path problem !<br />
      <br />
      My 2 cents,</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">freebendy</span><br />
      <span class="post-time small text-muted">25th October 2006 10:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It is not a path problem!I am still puzzled now!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">25th October 2006 17:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you both install and execute MySQL from the same installer, the MySQL directory won't be in the PATH when you execute it. Running processes aren't updated when the PATH changes. You'll have to find out the full path and use it or execute a new process that'd not inherit the PATH from the installer.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">freebendy</span><br />
      <span class="post-time small text-muted">26th October 2006 03:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Now my mysql is installed in $INSTDIR/mysql,<br />
      and the bin path is $INSTDIR/mysql/bin,now i want the instructions :<br />
      "mysqld-nt -install"<br />
      and "net satrt mysql"<br />
      are executed!<br />
      how I can i this??<br />
      <br />
      ExecCmd::exec '"$INSTDIT\mysql\bin\mysqld-nt.exe -install"'<br />
      is failed.<br />
      and my reg.bat is putted into Diretory :$INSTDIR/mysql<br />
      its content is :<br />
      cd bin<br />
      mysqld-nt.exe -install<br />
      net start mysql<br />
      <br />
      Also do wrong!<br />
      Can you suggest some available way!!<br />
      <br />
      :(</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">26th October 2006 12:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You have a typo there. It's $INSTDIR, not $INSTDIT. To make sure you got the path right, use IfFileExists or ${If} ${FileExists} to check if the file is really there.<br />
      <br />
      To start the service, you should use one of the <a href="http://nsis.sourceforge.net/How_do_I_start/stop/create/remove/check_a_service" target="_blank">available solutions</a> instead of net.exe. They're usually simpler to use.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
