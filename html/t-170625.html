<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Wrong disk space available (win98 only)" />

  <title>Wrong disk space available (win98 only) - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Wrong disk space available (win98 only)</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=170625">Wrong disk space available (win98 only)</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LeCroqueMitaine</span><br />
      <span class="post-time small text-muted">23rd February 2004 16:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Wrong disk space available (win98 only)</strong><br />
      Hello,<br />
      <br />
      I have a problem on win98, the disk space available is 1.9 gb, even if I have more disk space. How to have the right disk space requirement ? It seems limited to 2 gb on win98...<br />
      <br />
      (I'm using nsis 2.0)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LeCroqueMitaine</span><br />
      <span class="post-time small text-muted">24th February 2004 10:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please, I need an answer :)<br />
      <br />
      I made an installer than install more than 2 gb of datas. On windows 98, on the directory page, the "disk space available" is always 1.9gb, even if I have more disk space (currently I have over 10gb of empty space). What can I do to have the right disk space available ? Is this a bug of nsis ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">25th February 2004 12:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is related to limitations of Windows 9x API.<br />
      <br />
      I think the problem can be solved by using another API, but then I have to use 64-bit values which will probably require some optimization to make it not increase the overhead size.<br />
      <br />
      It will be investigated.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LeCroqueMitaine</span><br />
      <span class="post-time small text-muted">4th March 2004 15:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Any news ?<br />
      <br />
      To get the disk space available, maybe the developers used the function "GetDiskFreeSpace()", instead of "GetDiskFreeSpaceEx()" ? For compatibility I think...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">4th March 2004 16:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, but there are some problems because 64-bit numbers should be used and it should be loaded dynamically because it should still run on older systems.<br />
      <br />
      Dave is already looking at it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">4th March 2004 17:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i am not sure but fat32 is limited on 2GB ?<br />
      i noticed some trouble ago with norton ghost from bootdisk and limit was 2gigs.<br />
      <br />
      ps its not the thing that u can not create greater partitions (i have 8gigs for games) - must be a limit from system ?Â¿</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br />
      <span class="post-time small text-muted">4th March 2004 17:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">no, at fat32 the limit for partition-size is over 100gb, but the limit for single files is about 4gb.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Brummelchen</span><br />
      <span class="post-time small text-muted">4th March 2004 17:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ok, 4gig it was :) thx<br />
      <br />
      then i dont know... fat? :D</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">4th March 2004 18:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">FAT16 is limited to 2GB.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">4th March 2004 20:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ta for the reminder. Yes, I've been looking at it.<br />
      <br />
      It is almost complete; I just need to trim some bytes off here and there to get the installer back within 34KB. Unfortunately I've not been able to spend much time to finish it during the week, but I should have it sorted this weekend.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">eccles</span><br />
      <span class="post-time small text-muted">6th March 2004 12:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Just updated CVS version of NSIS: Win9x (Win95 OSR2 and later) should now see drive space &gt; 2GB.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">6th March 2004 21:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The first editor of Windows 95 supports only FAT16, which has a 2GB limit. So there should be no display limit anymore at all :)</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
