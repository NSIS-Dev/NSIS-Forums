<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Exec in directory?"><title>Exec in directory? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Exec in directory?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=263630">Exec in directory?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">testrie</span><br><span class="post-time small text-muted">14th January 2007 01:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Exec in directory?</strong><br>I've serched for this several times, on the forums, the help file, google, and the wiki, but I still haven't found the answer.<br><br>I know that there's an Exec command, but it seems to run the program in the installer directory. Is there a way to run the program in a directory specified by the scripter (or at least the directory that the program is in?) example of this: place the entire nsis folder inside a folder called nsisProgram. Make a new nsi file with all the normal stuff, and make it run<br>exec $EXEDIR\nsisProgram\nsis.exe. You get a blank window.<br><br>help?<br><br>elyea<br><br>p.s. first post!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">14th January 2007 02:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">did you even read the documentation for exec at 4.9.1.2 ?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">testrie</span><br><span class="post-time small text-muted">14th January 2007 02:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Anders</i><br><b>did you even read the documentation for exec at 4.9.1.2 ?</b></blockquote>err... *reads again.*<br><blockquote>4.9.1.2 Exec<br>command<br>Execute the specified program and continue immediately. Note that the file specified must exist on the target system, not the compiling system. <b>$OUTDIR is used for the working directory.</b> The error flag is set if the process could not be launched. Note, if the command could have spaces, you should put it in quotes to delimit it from parameters. e.g.: Exec '"$INSTDIR\command.exe" parameters'. If you don't put it in quotes it will not work on Windows 9x with or without parameters.<br><br>Exec '"$INSTDIR\someprogram.exe"'<br>Exec '"$INSTDIR\someprogram.exe" some parameters'</blockquote>i must be blind.<br><br>elyea<br><br>just wondering... is this this an example of "Nice" around here, your method of treating ignorant newbies, or just plain "YOU ARE AN IDIOT"?</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">demiller9</span><br><span class="post-time small text-muted">14th January 2007 07:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Most people here are very nice (I wonder how some (Red Wine, kichik) can be so patient all of the time.) Don't take offense at one response. Read some of the other posts here and you'll see how it is most of the time.<br><br>Don</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">14th January 2007 10:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">@ testrie,<br>$EXEDIR is a constant that indicates the full path of directory where your installer is running.<br>Find more info about constants variables etc at nsis documentation.<br><a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.1" target="_blank">http://nsis.sourceforge.net/Docs/Chapter4.html#4.1</a><br><br>You are able to run any exe that exists on a target with command Exec as long as you pass to the command the full path to the file, if you don't, the installer looking for the file into the current dir where is pointed by SetOutPath.<br><br>Compile and execute the following example, it'd help you on these,<br></p><pre>
<code>Name "My Application"<br>OutFile 'test.exe'<br>ShowInstDetails show<br>LicenseData '${NSISDIR}\License.txt'<br>LicenseBkColor 0xFFFFFF<br>InstallDir '$PROGRAMFILES\$(^name)'<br><br>Page License<br>Page Components<br>Page Directory<br>Page InstFiles<br><br>Section "boo"<br>SetOutPath '$INSTDIR'<br>File /r '${NSISDIR}\*'<br>Exec 'nsis.exe'<br>Exec '$WINDIR\notepad.exe'<br>DetailPrint '------------------'<br>DetailPrint 'Some Constants'<br>DetailPrint '$EXEDIR'<br>DetailPrint '$INSTDIR'<br>DetailPrint '$PROGRAMFILES'<br>DetailPrint '$WINDIR'<br>MessageBox MB_YESNO|MB_ICONQUESTION \<br>"Remove $INSTDIR now?" IDYES remove<br>MessageBox MB_OK "you should manually remove $INSTDIR later" IDOK end<br>remove:<br>;take care of this command dont use it in your script unless you know everything about it<br>RmDir /r '$INSTDIR'<br>end:<br>SectionEnd</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comm@nder21</span><br>
      <span class="post-time small text-muted">14th January 2007 16:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">no, i guess what he wants to do is to change $OUTDIR.<br>
      <br>
      again, read the manuals ;)<br>
      <br>
      SetOutPath "C:\Program Files\whatever"<br>
      Exec "$OUTDIR\mytool.exe"<br>
      <br>
      and you're done :)</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>