<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Compile time information from a single text file?"><title>Compile time information from a single text file? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Compile time information from a single text file?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=277817">Compile time information from a single text file?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">TYT</span><br><span class="post-time small text-muted">23rd September 2007 23:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Compile time information from a single text file?</strong><br>I've searched for a possible answer, but I don't know if i'm using the right context for searching, so forgive me if this has been asked before...<br><br>I've got some tutorials in HTML format that I use the NSIS installer to setup on other peoples computers. The tuts come in four parts, and I've got four NSIS compile scripts for each part ( one script for week one, week two, etc... ). Each script has defines and macros at the beginning to define the name of the install and directories for icons and directory naming. What I would like to accomplish ( with a minimal of effort, since i'm a lazy bum. ) is to have one text file that all four scripts read off of. Example...<br><br>My first weeks script has this<br></p><blockquote># Output Files Defines<br>!define OutFile "Create Butter Text in Photoshop"<br>!define OutDir "E:\temp\Releasing\"<br><br># Macro<br>!macro setVars ;sets variables for the start page and the folder which contains the shortcut icon.<br>StrCpy $1 "Buttertext.htm" ;Sets the page to run in both the shortcut and after install.<br>StrCpy $2 "Buttertext_files\logo.ico" ;Sets the folder location for the desktop icon.<br>StrCpy $3 "Butter Text in Photoshop" ;Sets the name of the install dir.<br>StrCpy $4 "BuTxPS" ;Sets the name of the .ini file to be used for the update sets.<br>!macroend</blockquote>And then I set outfile and outdirs to<br><blockquote># Installer attributes<br>OutFile "${OutDir}${OutFile} Week 1.exe"<br>InstallDir "$INSTDIR\$3"</blockquote>The outfile defines are pretty self-explanatory, and the macros are just file pointers, except the last one which I use for an .ini file that I place instead of a registry string. No uninstaller, it's a simple setup used to keep the HTML structure intact.<br><br>Which is all fine and dandy because it keeps me from having to trudge all over my compile scripts just to replace those four instances of text. The only thing is, I have to change those defines and macros for each week, and sometimes I miss one bit because i'm in a hurry and the whole thing is shot. What I'd like to have is one text file with those setting in it, and the four compile scripts read from that text file. Is this possible without having to reinvent the wheel?<br><br>ThanQ for any help in advance. ;)</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Anders</span><br><span class="post-time small text-muted">23rd September 2007 23:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">!include is your friend here, move the defines out of the script and into a new file included by all the scripts<br><br>it is also possible to pass(create) defines directly on the commandline as arguments for makensis.exe</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">TYT</span><br><span class="post-time small text-muted">23rd September 2007 23:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sweet. I'll check it out. ThanQ.<br><br>-=edit=- OMG, you rock! This is exactly what I needed. Again, thanQ. :D -=/edit=-</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>