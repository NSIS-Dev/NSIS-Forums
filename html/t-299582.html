<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Make 2 different welcome messages?" />

  <title>Make 2 different welcome messages? - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Make 2 different welcome messages?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=299582">Make 2 different welcome messages?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br />
      <span class="post-time small text-muted">5th November 2008 16:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Make 2 different welcome messages?</strong><br />
      Hi again,<br />
      <br />
      I want to make my installer more smooth, problem is i have an error message (message box), if the path could not be found in the registry in .oninit, telling browse to the right folder since installer could not locate the right path. I would like that message part of the welcome message(only if its not found in reg), else welcome message should say something like, path to the (program) was found, just press install to continue ect... How is that done ? i attached what i have so far.<br />
      <br />
      Edit:<br />
      Damn sometime using the brain will help lol, i figured it out, it look like this :-)<br />
      <br />
      !define MUI_PAGE_CUSTOMFUNCTION_SHOW ChangeDirTextFunction<br />
      Function ChangeDirTextFunction<br />
      ReadRegStr $R0 HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\GhostRecon.exe" "path"<br />
      StrCmp $R0 "" NotPresent2 Present2<br />
      notpresent2:<br />
      FindWindow $R0 "#32770" "" $HWNDPARENT<br />
      GetDlgItem $R1 $R0 1006<br />
      SendMessage $R1 ${WM_SETTEXT} 0 `STR:Welcome To BB_AIO_180 installer, Installer could not find ghostrecon installation folder,So Browse to GhostRecon installation Folder.`<br />
      StrCpy $INSTDIR "$programfiles\Red Storm Entertainment\Ghost Recon\"<br />
      goto done2<br />
      present2:<br />
      FindWindow $R0 "#32770" "" $HWNDPARENT<br />
      GetDlgItem $R1 $R0 1006<br />
      SendMessage $R1 ${WM_SETTEXT} 0 `STR:Welcome To BB_AIO_180 Installer$\nThis Installer Found Your Ghost Recon Folder,$\nPath Should Be In The Path Window, Just Press install.` ;sets the labels text<br />
      done2:<br />
      FunctionEnd<br />
      <br />
      Can i highligh the txt when path is not found, like red txt ? that will be cool.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">5th November 2008 16:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">you can have multiple welcome pages and skip one of them if a condition is met. i don't know if there's the possibility to change the text displayed on a condition, but you can do so using a welcome page created with nsDialog</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br />
      <span class="post-time small text-muted">5th November 2008 17:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thx yathosho,<br />
      now i just need to change colours on the txt font, green for good, red for bad :-).<br />
      <br />
      Also im not much into this scripting, i find it easier to find exampels stuff, and experiment on it, or just ask in here ofcourse, after i did some search ofcourse(above was a brain fart from my side hehe), but colours is not?<br />
      <br />
      Exampel, where should a noob like me, know that you have to do this to make a simpel welcome message ?<br />
      <br />
      !define MUI_PAGE_CUSTOMFUNCTION_SHOW ChangeDirTextFunction<br />
      Function ChangeDirTextFunction<br />
      FindWindow $R0 "#32770" "" $HWNDPARENT<br />
      GetDlgItem $R1 $R0 1006<br />
      SendMessage $R1 ${WM_SETTEXT} 0 `STR:Welcome To BB_AIO_180 installer, Installer could not find ghostrecon installation folder,So Browse to GhostRecon installation Folder.`<br />
      FunctionEnd<br />
      <br />
      BIG THX to ZmAn3 For showing above option.<br />
      <br />
      I read the documentation i think :-), and tried all the test scripts, but dont remember seeing an exampel to make your own welcome message, and i dont even know what that stuff mean???, maybe it should be made easier to make your own welcome message, since, who would ever have though it was like that ??? hehe</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br />
      <span class="post-time small text-muted">5th November 2008 17:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yathosho Said:<br />
      i'm don't know if there's the possibility to change the text displayed on a condition, but you can do so using a welcome page created with nsDialog<br />
      <br />
      Plz teach me :-)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kukomamasan</span><br />
      <span class="post-time small text-muted">5th November 2008 18:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Oh, yea thats right, its maybe not the welcome message im refering to :-).<br />
      in my installer i skip right to the install path window(no licence window, no agree to read ect. window, just pure press install if ur good to go hehe), so there where i am, in the install window, and thats where the messages should go(works so far, since thats the first window thats pops up).<br />
      Now in the install window i want to say path displaying is good, or not good(if its not good, ppl are not alowed to install there anyway), and i want that different messages displayed in txt in the install window(its working so far), as a bonus i want it to be red txt (path is no good) if its not good hehe (green if its good), should be clr for all i hope.<br />
      <br />
      Edit:<br />
      And if you dont fully understand this, i understand, since its not in NSIS script language, its in some kind of english language, thats the language i understand more than NSIS hehe</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
