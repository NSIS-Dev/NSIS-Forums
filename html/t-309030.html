<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Listing of files that are installed by NSIS installer"><title>Listing of files that are installed by NSIS installer - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Listing of files that are installed by NSIS installer</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=309030">Listing of files that are installed by NSIS installer</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Sil0x0000</span><br><span class="post-time small text-muted">29th July 2009 11:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Listing of files that are installed by NSIS installer</strong><br>Hello Everyone,<br><br>Is it (easily) possible to create a text file with a complete list of all files that are installed during the installation. (separated by a new line, or /0) I use an NSIS installer with no optional components which means that the list can also be created at compile time. I use the file command to at files to my sections, this also includes the use of wild cards. In some case i rename the files using the /oname option.<br><br>Thanx in advance!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">29th July 2009 12:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Creating at compile time is your best option. You can write an NSIS executable to do it or some other executable and run it with !system.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sil0x0000</span><br><span class="post-time small text-muted">29th July 2009 12:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanx for your reply<br><br></p><blockquote><i>Originally posted by Afrow UK</i><br><b>Creating at compile time is your best option. You can write an NSIS executable to do it or some other executable and run it with !system.<br><br>Stu</b></blockquote>Thats a pretty harsh way because then i have to parse the nsis file myself. I also only want to have one file containing all the entries other wise i have a double administration.<br><br>Are there hook functions that are called for every file that is added? Like the onInit<br><br>Thanx again</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">29th July 2009 12:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">There is no callback for extracting a file I'm afraid. You could add one though and rebuild NSIS.<br><br>You haven't actually explained what you want to achieve by creating this list. If it's for use on the end users' machine then what is wrong with generating at compile time before including it in the installer?<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sil0x0000</span><br><span class="post-time small text-muted">29th July 2009 13:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Afrow UK</i><br>You haven't actually explained what you want to achieve by creating this list. If it's for use on the end users' machine then what is wrong with generating at compile time before including it in the installer?<br>[/B]</blockquote>The file is needed at runtime to run some important verification checks. Creating this list at compile time before the installer runs is quiet hard due to the fact that the files are not in the same directory structure as they will be on the end users machine. So doing recursive listing isn't the option. Keeping a list of files getting installed is a bit of redundancy. Parsing the nsis file isn't that easy.<br><br>Can the nsis installer create a log file of the installed files? I might use that to solve my problem...</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">30th July 2009 00:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You have the <a href="http://nsis.sf.net/Special_Builds" target="_blank">logging special build</a> which you could parse or you could use the <a href="http://nsis.sf.net/Dump_log_to_file" target="_blank">DumpLog function</a> or <a href="http://nsis.sf.net/DumpLog_plug-in" target="_blank">DumpLog plugin</a> to save the log window output to a file after installation.<br><br>Both methods will contain stuff you don't need but it's a start. Maybe you could write an executable to parse the logs and generate your file with a format of choice which you run at the end of installation.<br><br>Stu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Sil0x0000</span><br><span class="post-time small text-muted">30th July 2009 08:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I was hoping this was not needed but i guess there is no other solution...<br><br>Thanx for thinking with meh.<br><br>Greetz Xander</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>