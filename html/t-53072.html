<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Compiling Source Code"><title>Compiling Source Code - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Compiling Source Code</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=53072">Compiling Source Code</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Ackbar</span><br><span class="post-time small text-muted">21st June 2001 02:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi. I am a little new to c++ so I imagine it's probably just a stupid mistake/problem I'm causing. But I keep recieving the following error in the bug log:<br><br>Compiling...<br>exedata.cpp<br>C:\Program Files\NSIS\Source\exedata.cpp(3) : fatal error C1083: Cannot open include file: 'exehead/Release/bitmap1.h': No such file or directory<br>Error executing cl.exe.<br><br><br>Now I checked and can't find this bitmap1.h file. Does anyone have a solution? Thanks :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Edgewize</span><br><span class="post-time small text-muted">21st June 2001 03:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't know what development environment you are using (Microsoft Visual C++ 6.0?) but I do know what is causing this - the EXEHEAD sub-project must be built before the main MAKENSIS project.<br><br>After EXEHEAD is built, there is a custom build step that runs the BIN2H.EXE program to transform various files into .H headers: EXEHEAD.EXE to EXEHEAD.H, BITMAP1.BMP to BITMAP1.H, and so on. If this custom step isn't working (if you aren't using MS Visual C++, for example), then you will have to run BIN2H by hand from a command-line. I don't know the syntax unfortunately but you can probably figure it out by playing around with it.<br></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Ackbar</span><br><span class="post-time small text-muted">21st June 2001 12:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Hmm</strong><br>Yeah I'm using visual c++, and I built the exehead project first. That compiled out fine. But still recieving the error. Thanks for the reply though.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Ackbar</span><br><span class="post-time small text-muted">21st June 2001 13:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>New Error</strong><br>Ok I figured that out. Thanks for the help there. Now I'm recieving this error.<br><br>Compiling resources...<br>Compiling...<br>Adler32.c<br>deflate.c<br>trees.c<br>build.cpp<br>exedata.cpp<br>makenssi.cpp<br>script.cpp<br>tokens.cpp<br>util.cpp<br>Linking...<br>script.obj : error LNK2001: unresolved external symbol _VerQueryValueA@16<br>script.obj : error LNK2001: unresolved external symbol _GetFileVersionInfoA@16<br>script.obj : error LNK2001: unresolved external symbol _GetFileVersionInfoSizeA@8<br>Debug/makenssi.exe : fatal error LNK1120: 3 unresolved externals<br>Error executing link.exe.<br><br>makenssi.exe - 4 error(s), 0 warning(s)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Edgewize</span><br><span class="post-time small text-muted">21st June 2001 16:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Strange, you aren't linking with the right libraries. You need to add "version.lib" to the library list on the Build Settings: Link Options page.<br><br>It should have already been in the DSP project file. But whatever.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">numberone</span><br><span class="post-time small text-muted">22nd June 2001 18:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I think the issues may be caused if one is using the debug configuration instead of the release configuration.<br><br>If you haven't yet compiled under the release configuration, you will get the following error when compiling under the debug configuration because the bitmap1.h file won't be present in the release folder yet:<br><br>C:\Program Files\NSIS\Source\exedata.cpp(3) : fatal error C1083: Cannot open include file: 'exehead/Release/bitmap1.h': No such file or directory<br><br>First compiling under the release configuration, and then switching back the the debug configuration will fix this error. As for the link errors, adding version.lib to the debug configuration will fix this. I think version.lib is not in the debug configuration of the project file we download.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Ackbar</span><br><span class="post-time small text-muted">22nd June 2001 19:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yeah I got it all fixed. Thanks for the help :) Though I havn't been seeing any changes when I compile and use the new one. Oh well.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kariem</span><br><span class="post-time small text-muted">23rd June 2001 12:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Is there any possibility to obtain this "version.lib"? There are still linker conflicts.<br><br>I tried both release and debug configurations. But it does not create the makensis.exe file.<br><br><br>Kariem</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Ackbar</span><br><span class="post-time small text-muted">23rd June 2001 14:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">What I did was I went to the projects menu, settings, and selected the link tab. Then at the end of the object/library modules I typed version.lib. Then ok and try compiling. See if that works for you :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kariem</span><br><span class="post-time small text-muted">23rd June 2001 23:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you very much Ackbar. Your name fits to your behaviour: Ackbar means "the greatest" in arabic ;). Everything works fine now.<br><br>I had problems with the explanations before. I have never used Visual C++ and bought a student version in german yesterday with different menu descriptions.<br><br><br>Thanks again,<br>Kariem</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Repzilon</span><br><span class="post-time small text-muted">1st July 2001 20:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Compiling with VC++ 5</strong><br>I am using Visual C++ 5.0 and had no porblem to compile it. I tested the makenssi.exe file created with a script and I had no problem to compile a NSIS installer. Then, when I tested the NSIS generated installer, I got a CRC error. CRCCheck was set to On in my script.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>