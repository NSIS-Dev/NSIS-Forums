<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="StartMenu permissions" />

  <title>StartMenu permissions - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">StartMenu permissions</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=168328">StartMenu permissions</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superrock</span><br />
      <span class="post-time small text-muted">6th February 2004 15:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Acl für alle lokalen Benutzer</strong><br />
      Hi!<br />
      <br />
      Versuche gerade mit Nsis(1.95) und dem lettzten AccessControl-Plugin die Startmenülinks für alle Benutzer einzurichten.<br />
      <br />
      Ich habs geschafft einen speziellen Benutzer Daterechte zu geben:<br />
      <br />
      push "FullAccess"<br />
      push "rocknt\calc"<br />
      Push c:\test.dat<br />
      CallInstDLL "AccessControl.dll" SetOnFile<br />
      <br />
      Ich wuerde gerne allen Benutzern ( lokale Builtin-Gruppe Benutzer )dieses recht geben. Und zwar unabhängig von der Sprache des Betriebssystems.<br />
      <br />
      Ich müsste nun über die SID arbeiten. Kann man das und wie gehts das ?<br />
      Oder gibts eine andere Lösung.<br />
      <br />
      Mein letzter versuch für die Gruppe Administratoren war :<br />
      <br />
      push "FullAccess"<br />
      push "S-1-5"<br />
      Push c:\test.dat<br />
      CallInstDLL "AccessControl.dll" SetOnFile<br />
      <br />
      <br />
      <br />
      Lg,<br />
      Rocky</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superrock</span><br />
      <span class="post-time small text-muted">6th February 2004 15:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>File ACL for local users</strong><br />
      Hi!<br />
      <br />
      Uups, now it's english..........<br />
      <br />
      I am trying to implement start menu link with access right for all local users (NSIS 1.95) .<br />
      <br />
      I can set norm user rigths :<br />
      <br />
      push "FullAccess"<br />
      push "rocknt\calc"<br />
      Push c:\test.dat<br />
      CallInstDLL "AccessControl.dll" SetOnFile<br />
      <br />
      But I would like to set the rights for all local users (for the windows builtin group users). It should work independent of the operating system.<br />
      <br />
      Then I should use the SID of this user group.<br />
      How can it be done ?<br />
      <br />
      My last try for the built in group administrators was :<br />
      <br />
      push "FullAccess"<br />
      push "S-1-5"<br />
      Push c:\test.dat<br />
      CallInstDLL "AccessControl.dll" SetOnFile<br />
      <br />
      <br />
      <br />
      Regards,<br />
      Rocky</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">6th February 2004 15:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You should use parenthesis when supplying a SID. For example:<br />
      <br />
      push "FullAccess"<br />
      push "(S-1-5)"<br />
      Push c:\test.dat<br />
      CallInstDLL "AccessControl.dll" SetOnFile<br />
      <br />
      <font size="1">Not exactly the same topic as the last thread, so I split it.</font></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superrock</span><br />
      <span class="post-time small text-muted">6th February 2004 17:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Whats SID for alle builtin user</strong><br />
      Hi,<br />
      <br />
      Thanks for reply.<br />
      <br />
      I tried your example :<br />
      <br />
      push "FullAccess"<br />
      push "(S-1-2-0)"<br />
      Push c:\test.dat<br />
      CallInstDLL "AccessControl.dll" SetOnFile<br />
      <br />
      S-1-2-0 is for all local logged users.<br />
      <br />
      It works , but which Sid should I insert for the builtin local users group ?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">6th February 2004 17:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I don't know. Previous forum posts or MSDN are bound to help. You can also try "BUILTIN\USERS" from the documentation of AccessControl.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superrock</span><br />
      <span class="post-time small text-muted">6th February 2004 17:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Builtin Users</strong><br />
      Hi,<br />
      <br />
      Sorry but "BUILTIN\USERS" are not allowed in the german windows release!<br />
      <br />
      I will have a look in the MSDN<br />
      <br />
      Thx,</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superrock</span><br />
      <span class="post-time small text-muted">6th February 2004 17:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>SID the last post</strong><br />
      Hi,<br />
      <br />
      I found it:<br />
      <br />
      Built in users :<br />
      <br />
      push "FullAccess"<br />
      ;Builtin users<br />
      push "(S-1-5-32-545)"<br />
      Push c:\test.dat<br />
      CallInstDLL "AccessControl.dll" SetOnFile<br />
      <br />
      Built in administrators :<br />
      push "FullAccess"<br />
      ;Builtin administrators<br />
      push "(S-1-5-32-544)"<br />
      Push c:\test.dat<br />
      CallInstDLL "AccessControl.dll" SetOnFile<br />
      <br />
      <br />
      See MSDN : <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/security/security/well_known_sids.asp" target="_blank">http://msdn.microsoft.com/library/de...known_sids.asp</a><br />
      <br />
      A SID value includes components that provide information about the SID structure and components that uniquely identify a trustee. A SID consists of the following components:<br />
      <br />
      <br />
      The revision level of the SID structure<br />
      A 48-bit identifier authority value that identifies the authority that issued the SID<br />
      A variable number of subauthority or relative identifier (RID) values that uniquely identify the trustee relative to the authority that issued the SID<br />
      The combination of the identifier authority value and the subauthority values ensures that no two SIDs will be the same, even if two different SID-issuing authorities issue the same combination of RID values. Each SID-issuing authority issues a given RID only once.<br />
      <br />
      SIDs are stored in binary format in a SID structure. To display a SID, you can call the ConvertSidToStringSid function to convert a binary SID to string format. To convert a SID string back to a valid, functional SID, call the ConvertStringSidToSid function.<br />
      <br />
      These functions use the following standardized string notation for SIDs, which makes it simpler to visualize their components:<br />
      <br />
      S-R-I-S-S...<br />
      <br />
      In this notation, the literal character S identifies the series of digits as a SID, R is the revision level, I is the identifier-authority value, and S... is one or more subauthority values.<br />
      <br />
      The following example uses this notation to display the well-known domain-relative SID of the local Administrators group:<br />
      <br />
      S-1–5-32-544<br />
      <br />
      In this example, the SID has the following components. The constants in parentheses are well-known identifier authority and RID values defined in Winnt.h:<br />
      <br />
      A revision level of 1<br />
      An identifier-authority value of 5 (SECURITY_NT_AUTHORITY)<br />
      A first subauthority value of 32 (SECURITY_BUILTIN_DOMAIN_RID)<br />
      A second subauthority value of 544 (DOMAIN_ALIAS_RID_ADMINS)</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
