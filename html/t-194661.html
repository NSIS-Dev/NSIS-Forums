<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Language support in un-installation"><title>Language support in un-installation - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Language support in un-installation</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=194661">Language support in un-installation</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Venu</span><br><span class="post-time small text-muted">25th September 2004 07:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Language support in un-installation</strong><br>Hi all,<br><br>My installer program has fifteen language support, and I want my un-installer to execute in the same language as the language selected during the installation. But I don't want to give the option to choose the language during un-installation.<br><br>Can anybody plz help me in this regards.<br><br>Regards<br>Venu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">25th September 2004 09:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If using the MUI, see MUI_LANGDLL_REGISTRY_ROOT, MUI_LANGDLL_REGISTRY_KEY and MUI_LANGDLL_REGISTRY_VALUENAME in the MUI readme. If not, simply write the language from the installer in the registry and read it in the uninstaller.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Venu</span><br><span class="post-time small text-muted">25th September 2004 11:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for reply...<br><br>I am using MUI, and the syntax I am writing is as :<br><br>InstallDir $PROGRAMFILES\MyDevice\Driver<br>InstallDirRegKey HKCU "Software\MyDevice\Driver" ""<br><br>!define MUI_LANGDLL_REGISTRY_ROOT "HKCU"<br>!define MUI_LANGDLL_REGISTRY_KEY "Software\MyDevice\Driver"<br>!define MUI_LANGDLL_REGISTRY_VALUENAME "Installer Language"<br><br>.........<br><br>Once my installer successful installs the driver, next time installer doesn't prompt for language selection and the installation wizard always comes in the language selected during the first successful installation. But the un-installer always comes in default english language.<br><br>Why my uninstaller doesnot read the registry for selecting language selected during installation.<br><br>Thanks in advance....<br><br>Regards<br>Venu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">25th September 2004 11:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Did you insert the MUI_UNGETLANGUAGE macro in un.onInit? See Examples\Modern UI\MultiLanguage.nsi for a full example.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Venu</span><br><span class="post-time small text-muted">27th September 2004 05:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks.... Actually my script didn't have un.onInit function.... After defining un.onInit function.... Its working very fine.<br><br>Thanks a lot...<br><br>Regards<br>Venu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Venu</span><br><span class="post-time small text-muted">14th October 2004 03:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi all,<br><br>Now after defining "MUI_UNGETLANGUAGE" in un.onInit, the un-installer takes the language selected during the installation.<br><br>But once I start the installation and even the installer succeeds or fails, next time when I execute the installer, my installer doesnot prompt for the language selection.<br><br>I tried to solve this by deleting the registry key "HKCU "Software\MyDevice\Driver" 'installerLanguage' in .onInit function but it always delets the key even next time the installation is not successful and due to this my previous successfull installation prompts for language selection during the un-installation.<br><br>Can anyone tell me how to always prompt for language selection whenever a user starts the installation, without delecting the registry key.<br><br>Thanks in advance.<br>Venu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">RobGrant</span><br><span class="post-time small text-muted">14th October 2004 11:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I don't understand...why don't you just delete the language key as the last thing you do in the uninstall process?<br><br>Why would you *want* to delete the key in the .oninit of the install rather than at any point in the uninstall?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Venu</span><br><span class="post-time small text-muted">14th October 2004 15:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for reply,<br><br>I am deleting the registry key "HKCU "Software\MyDevice\Driver" so that if last installation was unsuccessfull, the next installation should again prompt for the language selection.<br>Otherwise if I don't delete that key, than the next installation never prompts for the language selection.<br><br>can any one tell me is there any way to prompts every time for language selection.<br><br>Thanks<br>Venu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">14th October 2004 15:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I'll update the Modern UI so that it will only save the language when the installation was succesful.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Venu</span><br><span class="post-time small text-muted">15th October 2004 04:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks for reply.<br>So it is a limitation of NSIS.<br><br>Regards<br>Venu</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">16th October 2004 15:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Not really a limitation, but this makes it easier.<br><br>The Modern UI has already been<br>updated, try the latest CVS version.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>