<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="could not load temp\...\nsdialogs.dll" />

  <title>could not load temp\...\nsdialogs.dll - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">could not load temp\...\nsdialogs.dll</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=366610">could not load temp\...\nsdialogs.dll</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Peterslast</span><br />
      <span class="post-time small text-muted">17th July 2013 14:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>could not load temp\...\nsdialogs.dll</strong><br />
      Few hours ago, my deploying project was correctly running.<br />
      But suddenly, its not working anymore.<br />
      Even the old saved code with only one nsDialogPage.<br />
      <br />
      This is part of my code.<br />
      <br />
      !include LogicLib.nsh<br />
      !include nsDialogs.nsh<br />
      !include StrRep.nsh<br />
      !include ReplaceInFile.nsh<br />
      !include FileFunc.nsh<br />
      !include TextFunc.nsh<br />
      !insertmacro GetTime<br />
      !include ZipDLL.nsh<br />
      <br />
      ; The name of the installer<br />
      Name "Packaging setup"<br />
      <br />
      ; The file to write<br />
      OutFile "Packaging setup v1.2.3.exe"<br />
      <br />
      XPStyle on<br />
      <br />
      Var Dialog<br />
      Var Label<br />
      Var UserText<br />
      <br />
      ; The default installation directory<br />
      InstallDir "C:\temp\setup"<br />
      <br />
      ; Request application privileges for Windows Vista<br />
      RequestExecutionLevel admin<br />
      <br />
      ; Pages<br />
      <br />
      Page components<br />
      Page directory<br />
      ;Page custom nsDialogsPage nsDialogsPageLeave<br />
      Page instfiles<br />
      Page custom nsDialogsPage nsDialogsPageLeave<br />
      <br />
      UninstPage uninstConfirm<br />
      UninstPage instfiles<br />
      <br />
      Section "Copy files"<br />
      <br />
      ; Set output path to the installation directory.<br />
      SetOutPath $INSTDIR<br />
      <br />
      ; Copy lot of files<br />
      File "D:\Temp\Sources\parametrage.txt"<br />
      SectionEnd<br />
      <br />
      Function nsDialogsPage<br />
      nsDialogs::Create 1018<br />
      Pop $Dialog<br />
      <br />
      ${If} $Dialog == error<br />
      MessageBox MB_OK "Oops something crashed"<br />
      Abort<br />
      ${EndIf}<br />
      <br />
      ;UserName<br />
      ${NSD_CreateLabel} 0 0 18% 10u "UserName : "<br />
      Pop $Label<br />
      ${ConfigRead} "$INSTDIR\parametrage.txt" "@DERBY_USER@ = " $UserText<br />
      ${NSD_CreateTExt} 50u 0 50% 12u $UserText<br />
      Pop $UserText<br />
      <br />
      nsDialogs::Show<br />
      FunctionEnd<br />
      <br />
      Function nsDialogsPageLeave<br />
      !macro _ReplaceInFile2 SOURCE_FILE SEARCH_TEXT REPLACEMENT<br />
      Push "${SOURCE_FILE}"<br />
      Push "${SEARCH_TEXT}"<br />
      Push "${REPLACEMENT}"<br />
      Call RIF<br />
      !macroend<br />
      <br />
      ;${ConfigRead} "$INSTDIR\PARAMETRAGE.txt" "@DERBY_USER@ = " $0<br />
      ${NSD_GetText} $UserText $0<br />
      !insertmacro _ReplaceInFile2 "$INSTDIR\$Version\conf\database.properties" "@DERBY_USER@" $0<br />
      <br />
      FunctionEnd<br />
      <br />
      <br />
      This code was working perfectely until a moment... I dont know what happens.<br />
      Currently, the setup stopped (crashed ? ) after the copy of the files, and does not display the nsDialog form.<br />
      To notice :<br />
      - If I comment the files copy page, the nsDialog Pages appears normally<br />
      - If I make the nsDialog first, then the copy page, then the nsDialog again (just to test, it is useless on my application), the first nsDialog form appears, but not the second one.<br />
      <br />
      I thought it was coming from the ${NSD_CreateTExt} so I tried the same action with only label (not text) and the result is the same... The copy of my files are correctly completed (it is logged).<br />
      <br />
      And it was working, before I dont know what... I re start my machine, without any result.<br />
      <br />
      If I put messagebox everywhere to understand what happens (kind of trace), the message displayed behind my msgbox (upper the progress bar) says something like :<br />
      "Could not load ! ...tempfolder\nsaezr.tmp\nsDialog.dll<br />
      <br />
      Any advice would be welcome.<br />
      Thanks.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
