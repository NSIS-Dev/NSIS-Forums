<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="MUI Background Image is blank" />

  <title>MUI Background Image is blank - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">MUI Background Image is blank</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=306024">MUI Background Image is blank</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">asfarley</span><br />
      <span class="post-time small text-muted">4th May 2009 17:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>MUI Background Image is blank</strong><br />
      Hi everyone, I'm trying to use the MUI2 to give my installer a background image.<br />
      <br />
      My understanding is that I need to<br />
      <br />
      a) specify a bitmap background:<br /></p>
      <pre>
<code><br />!define MUI_WELCOMEFINISHPAGE_BITMAP C:\WINNT\Profiles\kf1864\Desktop\InstallTest\Backdrop2.bmp<br /></code>
</pre><br />
      <br />
      b) have a welcome/finish page:<br />
      <pre>
<code><br />!insertmacro MUI_PAGE_WELCOME<br />!insertmacro MUI_PAGE_FINISH<br /></code>
</pre><br />
      <br />
      However, this results in a blank background for the welcome and finish pages. Is there something I need to do to "enable" or "activate" this background?<br />
      <br />
      It appears that the NSIS compiler finds the .bmp file, so I don't think a missing file is the problem.<br />
      <br />
      I have read another post concerning a blank background using MUI, but it appeared to me that a different method was being using (plugins?).<br />
      <br />
      Thanks,<br />
      <br />
      Alex
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">4th May 2009 19:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This doesn't give your installer a background image. This sets the image on the left hand side of the text on the welcome and finish pages.<br />
      <br />
      If that is what you mean, make sure the bitmap is valid.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">asfarley</span><br />
      <span class="post-time small text-muted">4th May 2009 19:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for the reply.<br />
      <br />
      If the bitmap wasn't valid/wasn't being found, then wouldn't the compiler give an error?<br />
      <br />
      Also, thanks for the explanation of how this image should appear. Is there a way to give the installer a true background image? I tried the BgImage plugin, but I don't want an image displayed "behind" the installer, I want a background similar to the background option in Visual Studio.<br />
      <br />
      Thanks,<br />
      <br />
      Alex</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">4th May 2009 19:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No there would be no compiler error as the image is only extracted and then loaded at run-time.<br />
      <br />
      You can have a look at this:<br />
      <a href="http://nsis.sourceforge.net/Image_in_installer_window_background" target="_blank">http://nsis.sourceforge.net/Image_in...dow_background</a><br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">asfarley</span><br />
      <span class="post-time small text-muted">4th May 2009 19:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">To test, I tried compiling the script with a non-existant .bmp file. This causes the compiler to give an error. Since I'm not getting an error, is there a different way for the bitmap to be "invalid" aside from not existing?<br />
      <br />
      One thing I noticed: the size of the .exe doesn't change significantly when I include the bitmap. Is additional code necessary for the compiler to copy the bitmap into the .exe?<br />
      <br />
      Also, when I directly copy the code for a MUI header image, no header image appears.<br />
      <br /></p>
      <pre>
<code><br />  !define MUI_HEADERIMAGE<br />  !define MUI_HEADERIMAGE_BITMAP "${NSISDIR}\Contrib\Graphics\Header\nsis.bmp" ; optional<br />  !define MUI_ABORTWARNING<br /></code>
</pre><br />
      <br />
      In fact, this causes the normal icon to disappear.<br />
      <br />
      Thanks for the pointer regarding the "real" background image, I'll try that out as well.<br />
      <br />
      Alex
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">asfarley</span><br />
      <span class="post-time small text-muted">5th May 2009 15:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi, could anyone provide a barebones example that just creates a MUI2 and sets a MUI_WELCOMEFINISHPAGE_BITMAP?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">5th May 2009 16:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">There is a section in the Modern UI 2 readme "To upgrade a Modern UI 1.8 script, you should:"<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">asfarley</span><br />
      <span class="post-time small text-muted">5th May 2009 17:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks, I read through that section:<br />
      <br />
      -I didn't start with a working MUI 1.8 script, so I'm not really upgrading<br />
      <br />
      -MUI2.nsh is included<br />
      <br />
      -No MUI_INSTALLOPTIONS_* macros are used (as far as I know)<br />
      <br />
      -The InstallOptions INI file is not being used (as far as I know)<br />
      <br />
      -the path to the .bmp is absolute, so no escape characters should be necessary (right?)<br />
      <br />
      When I say "as far as I know", I mean that I have not explicitly referenced these items.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">5th May 2009 18:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If the script compiles and the installer looks fine then you should be fine.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CrushBug</span><br />
      <span class="post-time small text-muted">13th August 2009 19:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am having the exact same problem as the OP. Neither Header nor Welcome images are appearing and there is no compiler error.<br />
      <br />
      It must be a sequencing error in the defines and insertmacros. I have one installer that is working perfectly and another that is not.<br />
      <br />
      Hopefully I can figure this out and post about it here.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CrushBug</span><br />
      <span class="post-time small text-muted">13th August 2009 21:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, it seems to have to do with the proper placement of the "!insertmacro MUI_LANGUAGE" command.<br />
      <br />
      It seems you MUST have the "!insertmacro MUI_LANGUAGE" right before your Sections.<br />
      <br />
      I made this change on my installer and now everything has shown up.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
