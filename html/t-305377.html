<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Custom Page HIDE / SHOW"><title>Custom Page HIDE / SHOW - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Custom Page HIDE / SHOW</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=305377">Custom Page HIDE / SHOW</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">PaulPaulsson</span><br><span class="post-time small text-muted">15th April 2009 15:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Custom Page HIDE / SHOW</strong><br>Hi,<br><br>I have 2 custom pages and both pages are functionable.<br>But now my problem:<br>At the MUI_PAGE_COMPONENTS I have 3 checkboxes (3 Sections in the script). If the first checkbox is selected, both custom pages should be available. If the second checkbox is selected, only the second custom page should be available and if the third checkbox is selected none of the both custom pages should be available.<br><br>The order of my pages is MUI_PAGE_COMPONENTS; MUI_PAGE_DIRECTORY; MUI_PAGE_INSTFILES; custompage1; custompage2; MUI_PAGE_FINISH.<br>The custom pages are after the MUI_PAGE_INSTFILES, because they will replace special files. In other way the original files will be restored at the MUI_PAGE_INSTFILES.<br><br>How can i do this, what i described above???<br>I need quickly a reply, 'cause it's really important for me and it should be described in an easy way.<br><br>Thanks a lot.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Animaether</span><br><span class="post-time small text-muted">15th April 2009 16:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">either use SectionGetFlags, set variables or use LogicLib (recommended) in the sections to check whether the section was selected or not<br><br>then based on which option was selected, call Abort in the Custom page's create function to skip that page.<br><br></p><pre>
<code><br>!addplugindir "."<br>!addincludedir "."<br><br>!include "nsDialogs.nsh"<br>!include "winmessages.nsh"<br>!include "logiclib.nsh"<br>!include "sections.nsh"<br><br>!include "MUI2.nsh"<br><br>OutFile "test.exe"<br><br>var dialog<br>var hwnd<br>var null<br><br>Page Components<br>Page Custom CustomPageA<br>Page Custom CustomPageB<br>Page Custom CustomPageC<br><br>Section "A and B" AandB<br>SectionEnd<br><br>Section "B only" Bonly<br>SectionEnd<br><br>Section "Neither" neither<br>SectionEnd<br><br>Function CustomPageA<br>        ${If} ${SectionIsSelected} ${Bonly}<br>        ${OrIf} ${SectionIsSelected} ${neither}<br>            Abort<br>        ${EndIf}<br><br>        nsDialogs::Create 1018<br>        Pop $dialog<br><br>        ${NSD_CreateLabel} 0 0 100% 8% "Page A"<br>            Pop $0<br><br>        nsDialogs::Show<br>FunctionEnd<br><br>Function CustomPageB<br>        ${If} ${SectionIsSelected} ${neither}<br>            Abort<br>        ${EndIf}<br>        nsDialogs::Create 1018<br>        Pop $dialog<br><br>        ${NSD_CreateLabel} 0 0 100% 8% "Page B"<br>            Pop $0<br><br>        nsDialogs::Show<br>FunctionEnd<br>Function CustomPageC<br>        nsDialogs::Create 1018<br>        Pop $dialog<br><br>        ${NSD_CreateLabel} 0 0 100% 8% "Page C"<br>            Pop $0<br><br>        nsDialogs::Show<br>FunctionEnd<br><br>!insertmacro MUI_LANGUAGE "English"<br></code>
</pre><br>
      <br>
      Sounds like you'll want to look into the Radiobuttons page on the NSIS wiki to make your Components page's section selections behave like radiobuttons (only 1 selection possible) as well. Although if you go down that road - perhaps you should skip the Components page and create a new Custom page with proper radiobuttons instead.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PaulPaulsson</span><br>
      <span class="post-time small text-muted">17th April 2009 10:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks for your help, the way you write it i use it and all were ok.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script type="text/javascript" src="../js/highlight.pack.js" async>
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>