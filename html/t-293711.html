<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="ExecTimeout Plugin" />

  <title>ExecTimeout Plugin - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">ExecTimeout Plugin</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=293711">ExecTimeout Plugin</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">27th June 2008 21:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>ExecTimeout Plugin</strong><br />
      I just created an "ExecTimeout" plugin. It will execute and application and wait for the process to exit, just like ExecWait. But in contrast to ExecWait you can specify a timeout. If the application does not exit before the timeout exceeds, it will be terminated. This can be used to make sure your installer won't stall, even if the application doesn't exit for some reason. Plugin, sources and example attached.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">28th June 2008 00:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here is a small update. You can now decide whether you want to terminate the process on timeout or leave it alone. Anyway, if the timeout is exceeded, the control will return to the installer immediately.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">1st July 2008 22:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Another update:<br />
      Better method to pass the parameters and simplification of the return value :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">1st July 2008 22:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You should use the Wiki to upload your file.<br />
      <a href="http://nsis.sf.net/File:ExecTimeout.zip" target="_blank">http://nsis.sf.net/File:ExecTimeout.zip</a><br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">1st July 2008 22:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You think it's worth a wiki page? ^^</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">1st July 2008 22:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sure why not. Otherwise as you add new versions people will never get them. People tend to get the first download in the first post and neglect to find the latest.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">1st July 2008 22:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Besides that Stu said, after 2-3 days of inactivity this thread will get lost between 1000s threads of the forum.<br />
      A wiki page is always easy accessible, thus useful to everybody anytime.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">1st July 2008 23:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Okay, I have created a wiki page :)<br />
      <a href="http://nsis.sourceforge.net/ExecTimeout_plug-in" target="_blank">http://nsis.sourceforge.net/ExecTimeout_plug-in</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">2nd July 2008 10:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You should re-upload as ExecTimeout.zip. Notice that re-uploading the file under the same name builds a revision history:<br />
      <a href="http://nsis.sourceforge.net/File:LockedList.zip" target="_blank">http://nsis.sourceforge.net/File:LockedList.zip</a><br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">elllit</span><br />
      <span class="post-time small text-muted">2nd July 2008 10:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br />
      <br />
      hmm... i don't quiet get it...<br />
      <br />
      Where's the difference to nsExec with the /TIMEOUT=x flag?<br />
      <br />
      Anyways, thanks for your support on it LoRd_MuldeR.<br />
      <br />
      <b>Edit:</b><br />
      <br />
      Here a line of code from my installer:<br />
      <br /></p>
      <pre>
<code>nsExec::ExecToStack /TIMEOUT=$0 'mycmd'</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">2nd July 2008 13:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by elllit</i><br />
        <b>Hi,<br />
        <br />
        hmm... i don't quiet get it...<br />
        <br />
        Where's the difference to nsExec with the /TIMEOUT=x flag?</b>
      </blockquote>If I understand nsExec correctly, then it the /TIMEOUT param will return control to the installer if there was <i>no output</i> by the application for x milliseconds. Also the timeout will be <i>reset</i> when there is new output. So this is only useful for console applications, that write stuff to stdout. It's not useful for GUI applications! Also I'm not sure whether nsExec will terminate the process on timeout or simply leave it alone. My plugin can do both! And it doesn't care about console output, it simply returns control to the installer after a maximum of x milliseconds. So you can be sure that your installer won't stall! Using nsExec an application could constantly write random stuff to stdout and do so until forever. So that application would <i>never</i> timeout and your installer will stall...<br />
      <br />
      Of course my ExecTimeout plugin is useless if you need to capture the console output. It was never intended to do that. I said it's a very simple plugin...<br />
      <br />
      <br />
      <pre>
<code>The timeout value is optional.  The timeout is the time in<br />milliseconds nsExec will wait for output.  If output from the<br />process is received, the timeout value is reset and it will<br />again wait for more output using the timeout value.</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">2nd July 2008 14:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have moved the plug-in download to <a href="http://nsis.sourceforge.net/File:ExecTimeout.zip." target="_blank">http://nsis.sourceforge.net/File:ExecTimeout.zip.</a><br />
      If you need to upload revisions upload to that page and put the date as the summary.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">elllit</span><br />
      <span class="post-time small text-muted">2nd July 2008 15:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">LoRd_MuldeR,<br />
      <br />
      thanks for the clarification.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">2nd July 2008 15:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have uploaded an example that illustrates the difference:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">elllit</span><br />
      <span class="post-time small text-muted">3rd July 2008 09:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks a bunch!<br />
      <br />
      I will move over to your plug-in as it seems less error prone from useage side. At least on my concern.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">erik@winepos.com</span><br />
      <span class="post-time small text-muted">30th July 2013 21:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Trying to get this plugin to work with the Internet plugin. Here is my code:<br />
      <br />
      ${ExecTimeout} 'Internet::GetUrlCode "$2" "logo.jpg" ${VAR_3}' 5000 1 $0<br />
      <br />
      It is not working, any ideas?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">LoRd_MuldeR</span><br />
      <span class="post-time small text-muted">31st July 2013 00:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by erik@winepos.com</small><br />
        Trying to get this plugin to work with the Internet plugin. Here is my code:<br />
        <br />
        ${ExecTimeout} 'Internet::GetUrlCode "$2" "logo.jpg" ${VAR_3}' 5000 1 $0<br />
        <br />
        It is not working, any ideas?
      </blockquote>This plug-in is used to execute a child process. The first parameter has to be a command-line! You can <b>not</b> use the plug-in to run a function from another unrelated plug-in. Support for "timeout" functionality has to be implemented in each individual plug-in...
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
