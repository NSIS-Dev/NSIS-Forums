<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Howto create a 64bit custom plugin"><title>Howto create a 64bit custom plugin - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Howto create a 64bit custom plugin</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=290339">Howto create a 64bit custom plugin</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">trixom</span><br><span class="post-time small text-muted">16th April 2008 09:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Howto create a 64bit custom plugin</strong><br>Hi all,<br><br>I am trying to use a custom plugin from my nsis script that is called used for both 32 bit and 64 bit machines.<br><br>During installation on a 64 bit machine the plugin is not installed in the TEMP directory so it is not called (I have not determined why this is happening). The other default plugins (language and so on) are installed correctly.<br><br>My solution was to use two plugins for 32 and 64:<br><br>${If} ${RunningX64}<br>CUSTOM_PLUGIN_64::Run<br>${Else}<br>CUSTOM_PLUGIN_32::Run<br>${EndIf}<br><br>But because I am compiling the script on a 32 bit machine it fails during compiliation as the Run function in CUSTOM_PLUGIN.dll cannot be accessed.<br><br>1. Is this possible or do I need to create two installers...<br><br>2. Is there a way to disable the initial check so it doesnt fail the installation?<br><br>3. Another solution?<br><br>Thanks,<br><br>Tom</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">goldy1064</span><br><span class="post-time small text-muted">16th April 2008 16:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Your installer should be a 32-bit process. Therefore, you cannot load a 64-bit DLL into your 32-bit process. You may only load a 64-bit plugin if you have managed to compile your installer as a 64-bit process, which I don't think NSIS supports out-of-box.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">trixom</span><br><span class="post-time small text-muted">17th April 2008 13:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It would be ok if I could figure out why my 32bit plugins don't show up in the temporary folder when installed on a 64bit system...<br><br>T.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>