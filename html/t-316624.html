<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Needing help with the whole thing" />

  <title>Needing help with the whole thing - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Needing help with the whole thing</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=316624">Needing help with the whole thing</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">28th January 2010 16:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Needing help with the whole thing</strong><br />
      Ok, Ive just downloaded NSIS and i want to make an installer, first, i have a game called Arma, and i want to make an installer that installs a mod folder into the main game directory, first i need a folder called @slraddons_120_ace in the main directory, and then i need two sub directorys in the @slraddons_120_ace called addons and server keys.<br />
      <br />
      The main directory is C:\Program Files\Bohemia Interactive\ArmA and i want it to be C:\Program Files\Bohemia Interactive\ArmA\@slraddons_120_ace when i install the mod folder.<br />
      <br />
      I also need a arma shortcut with the target line as, "C:\Program Files\Bohemia Interactive\ArmA\arma.exe" -nosplash -mod=@ACE;@slraddons_120_ace<br />
      <br />
      But sometimes on diffrent pcs they have diffrent directorys, so on my friends he has Program Files (84x)\Bohemia Interactive\ArmA\ so i need it to auto detect arma.<br />
      <br />
      Can anyone tell me, or help me with what to do, im a complete beginner with this, i tryed HM NIS Edit but thats bugged.<br />
      <br />
      Thank you</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">28th January 2010 17:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This should do the trick:<br />
      InstallDir "$PROGRAMFILES\Bohemia Interactive\ArmA"<br />
      Put it somewhere on top of the script. Due to the fact, that your installer is an 32bit (x86) application, windows will always redirect it to "Program Files (x86)" on x64 systems.<br />
      Registry keys will be stored in Wow6432Node due to this as well.<br />
      So you only need to do some extra work if you want to install an 64bit application with NSiS.<br />
      <br />
      But if you don't fear the extra work, you can also detect the games path by checking for it's registry value.<br />
      Because not everyone uses the default install folder and would need to make the install point to his install path.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">28th January 2010 18:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I put SetOutPath "$DESKTOP\"<br />
      File "..\..\..\Program Files\Bohemia Interactive\ArmA\arma.exe"<br />
      CreateShortCut "$INSTDIR\Sahrani Life Reloaded Ace.lnk" "$INSTDIR\arma.exe -nosplash -mod=@ACE;@slraddons_120_ace"<br />
      <br />
      Is that right?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">28th January 2010 19:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by striker(PANDA)</i><br />
        <b>I put SetOutPath "$DESKTOP\"</b>
      </blockquote>Setting SetOutPah to $DESKTOP will make NSiS copy all files on the users desktop.<br />
      Set SetOutPath to "$INSTDIR\@slraddons_120_ace".<br />
      if you copied and pasted the line from my first post into your script, SetOutPath should point to {Program Files}\Bohemia Interactive\ArmA.<br />
      By setting SetOutPath to "$INSTDIR\@slraddons_120_ace", NSiS will copy all files to {Program Files}\Bohemia Interactive\ArmA\@slraddons_120_ace.<br />
      <br />

      <blockquote>
        <i>Originally posted by striker(PANDA)</i><br />
        <b>File "..\..\..\Program Files\Bohemia Interactive\ArmA\arma.exe"</b>
      </blockquote>Why are you including the games executable? You should include the mod files only or you'll hurt copyright laws.<br />
      Copy the mod files into the same directoy where your script is. Prefereably into a subfolder or things may become messy if there are alot of files. i suggest a subfolder named files or whatever you like.<br />
      Write the following into your script:<br />
      File "Files\*.*"<br />
      And repeat it for every subfolder inside the files dir.<br />
      if there's for example a subfolder named scripts, write<br />
      File "Files\Scripts\*.*"<br />
      if you want NSiS to install the files from the subfolder, set SetOutPath to "$INSTDIR\@slraddons_120_ace\Scripts".<br />
      And so on.<br />
      <br />

      <blockquote>
        <i>Originally posted by striker(PANDA)</i><br />
        <b>CreateShortCut "$INSTDIR\Sahrani Life Reloaded Ace.lnk" "$INSTDIR\arma.exe -nosplash -mod=@ACE;@slraddons_120_ace"<br />
        <br />
        Is that right?</b>
      </blockquote>This won't work, because NSiS would put the shortcut into the install dir.<br />
      Change it as followed:<br />
      SetOutPath "$INSTDIR"<br />
      CreateShortCut "$DESKTOP\Sahrani Life Reloaded Ace.lnk" "$INSTDIR\arma.exe" "-nosplash -mod=@ACE;@slraddons_120_ace" "$INSTDIR\arma.exe"<br />
      This places an shortcut named "Sahrani Life Reloaded Ace" on the users desktop, that links to the games executable with the given parameters and the games icon.<br />
      SetOutPath needs to be set to $INSTDIR before creating the icons or the "Run in" (or whatever it's called in an english os) of the shortcut will point to your mods directory and the game may refuse to start or ctd.<br />
      The file between the last 2 quotes points to the icon file. if your mod got a special icon, include it in the install and point to it.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">29th January 2010 08:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you so very much, i spent 6hours yestarday trying to sort this, finally i get somewhere (:<br />
      <br />
      ty</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">29th January 2010 10:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is the NSiS Discusion forum. Didn't you expcet to get some help?<br />
      <br />
      And no problem. Everytime again.<br />
      it's not like someone knows everything about something by just lookign at it. ;)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">29th January 2010 12:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ye well on some forums they dont seem to help at all. Anyways im working so i will tell you how it goes later, thank you</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">29th January 2010 17:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Emmm odd<br />
      <br />
      It created a shortcut, but it gave me one with this,<br />
      <br />
      Target: "C:\Program Files\Bohemia Interactive\ArmA\@slraddons_120_ace\arma.exe" -nosplash -mod=@ACE;@slraddons_120_ace<br />
      <br />
      And<br />
      <br />
      Start In: "C:\Program Files\Bohemia Interactive\ArmA\@slraddons_120_ace"<br />
      <br />
      Now i need this Target to be: "C:\Program Files\Bohemia Interactive\ArmA\arma.exe" -nosplash -mod=@ACE;@slraddons_120_ace<br />
      <br />
      and Start In: "C:\Program files\Bohemia Interactive\ArmA"<br />
      <br />
      Can you help?<br />
      <br />
      Btw this is my script atm<br />
      <br />
      ; Define your application name<br />
      !define APPNAME "@slraddons_120_ace"<br />
      !define APPNAMEANDVERSION "@slraddons_120_ace"<br />
      <br />
      ; Main Install settings<br />
      Name "${APPNAMEANDVERSION}"<br />
      InstallDir "$PROGRAMFILES\Bohemia Interactive\ArmA\@slraddons_120_ace"<br />
      OutFile "..\..\..\Program Files\Venis\Sahrani Life Reloaded.exe"<br />
      <br />
      ComponentText "Choose which features of ${APPNAMEANDVERSION} you want to install."<br />
      <br />
      DirText "Choose the folder in which to install ${APPNAMEANDVERSION}."<br />
      <br />
      Section "@slraddons_120_ace"<br />
      <br />
      ; Set Section properties<br />
      SetOverwrite on<br />
      <br />
      Function .onInit<br />
      NSIS_SkinCrafter_Plugin::skin /NOUNLOAD<br />
      FunctionEnd<br />
      <br />
      ; Set Section Files and Shortcuts<br />
      SetOutPath "$INSTDIR\addons\"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\440cuda.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\440cuda.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\ack_dpd_units.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\ack_dpd_units.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\arma_rpg_fov_cars.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\arma_rpg_fov_cars.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\arpgweapons.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\arpgweapons.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\arpg_common.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\arpg_common.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\barcuda.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\barcuda.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\bwc_alouii.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\bwc_alouii.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\bwc_alouiii.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\bwc_alouiii.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\challenger.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\challenger.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\challenger_b.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\challenger_b.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\challenger_c.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\challenger_c.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\cooter.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\cooter.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\csj_gyroac.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\csj_gyroac.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\EditorUpdate_v102.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\EditorUpdate_v102.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\ffs_felicia.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\ffs_felicia.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\fury.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\fury.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\glt_signs.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\glt_signs.pbo.GLT_ADDONS.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\GNT_PiperWII.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\GNT_PiperWII.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\hemicuda.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\hemicuda.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\mb_hemp.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\mb_hemp.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\mh6_police.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\mh6_police.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\modem_mtb.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\modem_mtb.pbo.smurfCModEmMaik.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\modul_sky.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\modul_sky.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\oldtruck.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\oldtruck.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\oltruc3.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\oltruc3.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\police.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\police.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\red_fix_light.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\red_fix_light.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\rh_de.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\rh_de.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\roadrunner2.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\roadrunner2.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\sahco.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\sahco.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\sig_chargerrt.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\sig_chargerrt.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\slr_vehicles.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\slr_vehicles.pbo.arpgslr120.bisign"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\yomies.pbo"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\addons\yomies.pbo.arpgslr120.bisign"<br />
      SetOutPath "$INSTDIR\server keys\"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\server keys\arpgslr120.bikey"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\server keys\GLT_ADDONS.bikey"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\server keys\RH.bikey"<br />
      File "@slraddons_120_ace\@slraddons_120_ace\server keys\smurfCModEmMaik.bikey"<br />
      SetOutPath "$INSTDIR"<br />
      CreateShortCut "$DESKTOP\Sahrani Life Reloaded Ace.lnk" "$INSTDIR\arma.exe" "-nosplash -mod=@ACE;@slraddons_120_ace" "$INSTDIR\arma.exe"<br />
      <br />
      SectionEnd<br />
      <br />
      BrandingText "By Striker(PANDA)"<br />
      <br />
      ; eof</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">29th January 2010 17:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You should have read more carefully.<br />
      <br /></p>

      <blockquote>
        <i>Originally posted by CG!</i><br />
        <b><br />
        Change it as followed:<br />
        SetOutPath "$INSTDIR"<br />
        CreateShortCut "$DESKTOP\Sahrani Life Reloaded Ace.lnk" "$INSTDIR\arma.exe" "-nosplash -mod=@ACE;@slraddons_120_ace" "$INSTDIR\arma.exe"<br />
        This places an shortcut named "Sahrani Life Reloaded Ace" on the users desktop, that links to the games executable with the given parameters and the games icon.<br />
        SetOutPath needs to be set to $INSTDIR before creating the shortcuts or the "Run in" (or whatever it's called in an english os) of the shortcut will point to your mods directory and the game may refuse to start or ctd.<br />
        The file between the last 2 quotes points to the icon file. if your mod got a special icon, include it in the install and point to it.</b>
      </blockquote>Read again and try to notice the lines with "SetOutPath" in it.<br />
      it's mentioned 2 times. 1 example and 1 explanation.<br />
      <br />
      EDiT:<br />
      OK. i see the error. Lemme fix your script.<br />
      i'm busy with my own atm, so pls be patient.<br />
      P.s.: Did you use an iDE/WYSiWYG to generate that script?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">29th January 2010 17:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I used Venis IX...<br />
      <br />
      Anyways i really am thankful that you can sort my script out, my friend is getting a bit worried that i cant do it, maybe i can prove him wronge (:<br />
      <br />
      Ty</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">29th January 2010 18:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">No problem. Code description at the end of this post.<br />
      <br /></p>
      <pre>
<code>!include "MUI2.nsh"<br />XPStyle on<br />ShowInstDetails "show"<br />ShowUninstDetails "show"<br />CRCCheck on<br />WindowIcon off<br />AutoCloseWindow false<br />RequestExecutionLevel user<br />SetCompressor /SOLID lzma<br />SetCompressorDictSize 32<br />SetDatablockOptimize on<br />SetCompress auto<br /><br />BrandingText "By Striker(PANDA)"<br />Name "Sahrani Life Reloaded Ace"<br />OutFile "Sahrani Life Reloaded Ace V1.20.EXE"<br />InstallDir "$PROGRAMFILES\Bohemia Interactive\ArmA"<br /><br />;!define MUI_ICON "install.iCO"<br />;!define MUI_UNICON "Uninstall.iCO"<br />!define MUI_HEADERIMAGE<br />;!define MUI_HEADERIMAGE_BITMAP "Banner.BMP"<br />!define MUI_ABORTWARNING<br />;!define MUI_LICENSEPAGE_RADIOBUTTONS<br /><br />;!insertmacro MUI_PAGE_LICENSE "Licence.TXT"<br />;!insertmacro MUI_PAGE_COMPONENTS<br />!insertmacro MUI_PAGE_DIRECTORY<br />!insertmacro MUI_PAGE_INSTFILES<br />!insertmacro MUI_LANGUAGE "English"<br /><br />VIProductVersion "1.2.0.0"<br />VIAddVersionKey "Comments" "By Striker(PANDA)"<br />VIAddVersionKey "CompanyName" "dunno"<br />VIAddVersionKey "FileDescription" "NSiS-install"<br />VIAddVersionKey "FileVersion" "2.46.0.0"<br />VIAddVersionKey "InternalName" "@slraddons_120_ace"<br />VIAddVersionKey "LegalTrademarks" "uhm..."<br />VIAddVersionKey "LegalCopyright" "Â© erm..."<br />VIAddVersionKey "OriginalFilename" "Sahrani Life Reloaded Ace V1.20.EXE"<br />VIAddVersionKey "PrivateBuild" "1.0"<br />VIAddVersionKey "ProductName" "Sahrani Life Reloaded Ace"<br />VIAddVersionKey "ProductVersion" "1.0"<br />VIAddVersionKey "SpecialBuild" "0.8.1.5"<br /><br />Section "install"<br />        SetOutPath "$INSTDIR\@slraddons_120_ace\addons"<br />        File "@slraddons_120_ace\@slraddons_120_ace\addons\*.*"<br />        SetOutPath "$INSTDIR\@slraddons_120_ace\server keys"<br />        File "@slraddons_120_ace\@slraddons_120_ace\server keys\*.*"<br />        CreateShortCut "$DESKTOP\Sahrani Life Reloaded Ace.lnk" "$INSTDIR\arma.exe" "-nosplash -mod=@ACE;@slraddons_120_ace" "$INSTDIR\arma.exe"<br />SectionEnd<br /><br />Function .OnInstFailed<br />        Delete "$DESKTOP\Sahrani Life Reloaded Ace.lnk"<br />        RMDir /r "$SMPROGRAMS\@slraddons_120_ace"<br />        MessageBox MB_OK "An error occured during the installation !!!$\r$\n$\r$\nThe installation has been rolled back and all files have been removed.$\r$\nPlease ensure that you got sufficient access rights."<br />FunctionEnd<br /><br />Function .OnInstSuccess<br />        SetOutPath "$INSTDIR"<br />        WriteUninstaller "$INSTDIR\SLRAce-Uninstall.EXE"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "DisplayName" "Sahrani Life Reloaded Ace"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "UninstallString" "$\"$INSTDIR\SLRAce-Uninstall.EXE$\""<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "InstallLocation" "$INSTDIR\"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "DisplayIcon" "$INSTDIR\SLRAce-Uninstall.EXE,0"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "Publisher" "Striker(PANDA)"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "RegCompany" "..."<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "DisplayVersion" "1.20"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "NoModify" "1"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "NoRepair" "1"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "EstimatedSize" "0"<br />        WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "Comments" "NSiS installer by Striker(PANDA)"<br />FunctionEnd<br /><br />Section "Uninstall"<br />        Delete "$DESKTOP\Sahrani Life Reloaded Ace.lnk"<br />        RMDir /r "$SMPROGRAMS\@slraddons_120_ace"<br />        DeleteRegKey HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce"<br />SectionEnd</code>
</pre><br />
      <br />
      Features:<br />
      - fileinfo's<br />
      - install rollback on install failure<br />
      - uninstallable using the software panel from windows<br />
      - fully tagged<br />
      <br />
      Optional:<br />
      - uncomment the lines beginning with an ";"<br />
      - bannersize is 150x57<br />
      - prefered licence format is RTF (Winword is enough)<br />
      - diff icons for the installer or uninstaller<br />
      <br />
      Needed:<br />
      - WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\SLRAce" "EstimatedSize" "0" : replace the 0 with the mod's size in bytes<br />
      - replace "dunno", "uhm...", "erm..." and "..." with less senseless info's<br />
      <br />
      <br />
      Made in a minute by using one of my simpler install scripts as template. So don't expect to much of it.<br />
      Btw: All handcoded. Most script generators produce code that i just don't like.<br />
      And i removed and replaced most variables with statics, so you got something to look at and play around with. ;)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">29th January 2010 18:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you very much<br />
      <br />
      Btw can you tel me how to add an icon to the Installer?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">29th January 2010 19:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by striker(PANDA)</i><br />
        <b>Thank you very much<br />
        <br />
        Btw can you tel me how to add an icon to the Installer?</b>
      </blockquote>You can find this information in the MUI2 readme:<br />
      <a href="http://nsis.sourceforge.net/Docs/Modern%20UI%202/Readme.html" target="_blank">http://nsis.sourceforge.net/Docs/Mod...02/Readme.html</a><br />
      <br />
      The documentation exists for a reason. A lot of time and effort has been spent on them, so please try to use them.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">29th January 2010 19:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry, i havent come across these documents before, i will start useing them<br />
      <br />
      Ty</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">29th January 2010 19:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by striker(PANDA)</i><br />
        <b>Thank you very much<br />
        <br />
        Btw can you tel me how to add an icon to the Installer?</b>
      </blockquote>Why don't you just read what i wrote?<br />
      it's already in the code i posted before.<br />
      Just remove the ";" at the beginning of the line and edit the filename.<br />
      it's mentioned at the end of my last post as well.<br />
      <br />
      You'll have a hard time if you don't read what people write.<br />
      Same counts for the docs, faq and code examples.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">30th January 2010 14:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">how can i change the start in command on the shortcut to "C:\Program files\Bohemia Interactive\ArmA" ??</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">30th January 2010 19:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You're joking, right?<br />
      Ya, i forgot the needed line in my script, but i mentioned how to change it.<br />
      if you want to change it, you need to re-set SetOutPath to match the "Start in" directory of your choice, before you create the shortcuts.<br />
      <br />
      The section should look like this:<br /></p>
      <pre>
<code>Section "install"<br />        SetOutPath "$INSTDIR\@slraddons_120_ace\addons"<br />        File "@slraddons_120_ace\@slraddons_120_ace\addons\*.*"<br />        SetOutPath "$INSTDIR\@slraddons_120_ace\server keys"<br />        File "@slraddons_120_ace\@slraddons_120_ace\server keys\*.*"<br />        <b>SetOutPath "$INSTDIR"</b><br />        CreateShortCut "$DESKTOP\Sahrani Life Reloaded Ace.lnk" "$INSTDIR\arma.exe" "-nosplash -mod=@ACE;@slraddons_120_ace" "$INSTDIR\arma.exe"<br />SectionEnd</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">30th January 2010 22:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">CG!, I honestly commend you for your patience, but perhaps you'd better give up trying to give things on a silver platter, and let him follow his own learning curve. The answer to his problem is there in the manual, it should suffice to link him to the section about CreateShortCut:<br />
      <a href="http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.3.4" target="_blank">http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.3.4</a><br />
      <br />
      If he can't figure it out from that... Well, he should probably just give up then. :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">30th January 2010 23:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You're right.<br />
      i was only trying to deliver this kind of help i was hoping to find as i was learning how to script/code.<br />
      But if he's/she's to lazy to read, there's nothing we can do to help.<br />
      <br />
      P.s.: i got most of my info's from the "support" and "developer center" section of the <a href="http://nsis.sourceforge.net/Main_Page" target="_blank">NSiS</a> page. So i can only recommend those pages.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">31st January 2010 17:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I do read the posts, i am a complete learner, you cant really expect me to just jump right in and to know every little thing by you typeing it,<br />
      <br />
      Im not lazy, i am willing to learn, it takes time and patience to teach.<br />
      <br />
      And no, I wont give up (: i edited the uninstall feature so it uninstalled the mod folder.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">CG!</span><br />
      <span class="post-time small text-muted">31st January 2010 18:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">And why did you ask question i already had answered???<br />
      Just wondering.<br />
      <br />
      And ya, this was another missing line. But like i said:<br />
      The script was just a quick edit.<br />
      <br />
      And you should try to learn by using the trial-&amp;-error method.<br />
      You can use my script as example. Edit some stuff and see how it works afterwards. The source, MSG mentioned, is a good base to start.<br />
      <br />
      P.s.: This is no forum where people teach you from scratch but more help you out to make it easier for you to learn and understand.<br />
      You really gotta teach yourself by reading the docs and examples.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">striker(PANDA)</span><br />
      <span class="post-time small text-muted">6th February 2010 15:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am learning al the time, and i am really greatful for all of your support mate, thank you</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
