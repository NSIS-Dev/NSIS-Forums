<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="competition"><title>competition - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">competition</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=169302">competition</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">rjstephens</span><br><span class="post-time small text-muted">14th February 2004 04:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>competition</strong><br>It's incredible what competition can do - Guess which installer system just introduced LZMA? Inno! NSIS still has more features and will still be used for most of my work, but Inno is trying very hard to make their software more viable. Apparently, the overhead has been reduced by 150k, even though two DLLs have now been added.<br><br>I wonder how long it will take for the commercial installers to integrate LZMA, now that the two biggest free ones have.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">14th February 2004 13:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The Inno Setup core does not include LZMA compression, they just include the huge 7-zip DLL files.<br><br>The LZMA decompression system of NSIS is only 5 KB large, while these DLL files are about 150 KB large.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">14th February 2004 14:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The Inno package installer size was reduced by 150kb, not the overhead. The overhead grew by the size of the uncompression DLL, probably compressed.<br><br>Did anyone take a look at the source code used to interface with the DLL?<br><br>Could anyone find the source code to the DLLs islzma.dll and isunlzma.dll? I can't find them anywhere.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mlaan</span><br><span class="post-time small text-muted">14th February 2004 14:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">If you want to bash Inno Setup, at least be honest. It doesn't 'just include' some 7 zip dlls nor is the size of the decompression code inside a built Setup anywhere near 150 kb.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">14th February 2004 14:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Of course I don't want to bash Inno Setup. People should just use the software they like most.<br><br>It is true that Inno Setup includes 7-zip DLL's. It's written in Delphi so they can't include it in the core.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mlaan</span><br><span class="post-time small text-muted">14th February 2004 15:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Joost Verburg</i><br><b>It's written in Delphi so they can't include it in the core.</b></blockquote>Not true: if you want to, you can make Delphi link directly with C/C++ code too.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">14th February 2004 16:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yes, using a dynamic link library (DLL).<br><br>Quote from the Inno Setup site:<br></p><blockquote>By using LZMA compression, the installer for Inno Setup itself is now 150 KB smaller than before, despite the inclusion of two new DLLs.</blockquote>So they include 7-zip DLL's for LZMA compression right?</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mlaan</span><br><span class="post-time small text-muted">14th February 2004 16:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No, I meant Delphi can link to an .obj too</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">14th February 2004 16:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Right, so Inno Setup statically links these libraries. Then I misunderstood this quote.<br><br>My point was that NSIS contains a custom optimized LZMA decompressor, which is much smaller than the other decompression libraries available.<br><br>Because this quotes says that two new DLLs are included, I assumed that these two DLLs (146 KB) were included. It's it's only one of them the size is 50 KB, still 10 times as large.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mlaan</span><br><span class="post-time small text-muted">14th February 2004 17:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote>My point was that NSIS contains a custom optimized LZMA decompressor, which is much smaller than the other decompression libraries available.</blockquote>It's slightly smaller, not much smaller. :)<br><br>(Arg: stop editing your posts please. The 50 kb is before compression.)</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">14th February 2004 17:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">NSIS's 5 KB is also uncompressed.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">14th February 2004 17:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">InnoSetup's LZMA decompressiong DLL is 45.5KB, NSIS's inregrated decompression library is less than 5KB. Those are the facts. The entire overhead of NSIS with LZMA decompression is 34.5KB. You do the math.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">14th February 2004 17:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Just as a reminder, the original subject was summed by:</p><blockquote>I wonder how long it will take for the commercial installers to integrate LZMA, now that the two biggest free ones have.</blockquote></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mlaan</span><br><span class="post-time small text-muted">14th February 2004 17:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">My math: both LZMA implementations are so small they do not noticably impact the size of a setup differently, especially since the actual LZMA compression is so good. Therefore Joost's initial reply which seems to want to say you can't compare NSIS's LZMA support with Inno Setup's LZMA support is IMHO unfair.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">14th February 2004 17:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Joost was just stating a fact and later added:</p><blockquote>Of course I don't want to bash Inno Setup. People should just use the software they like most.</blockquote>As for my reply. It was directed at:<blockquote>It's slightly smaller, not much smaller.</blockquote>I apologize if some misunderstanding or some statement hurt your feelings.<br><br>Now please drop this subject and return to the main discussion or I'll have to lock this thread before it derails even more.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rainwater</span><br><span class="post-time small text-muted">14th February 2004 20:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">FYI, Inno has supported 7-zip for about 5 or 6 months using the ide ISTool so its not anything they have added because of NSIS. It was probably added for the same reason NSIS added it (because its pretty darn good).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rjstephens</span><br><span class="post-time small text-muted">15th February 2004 02:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well I still use NSIS in 98% of cases anyways because of the smaller overhead, but in the rare event that I need to span accross multiple CDs, I will now use Inno. A difference between a 34k overhead and a 340k overhead isn't really going to matter that much when I'm installing over 1GB of files.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">15th February 2004 15:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">There was probably a bit of miscommunication here when I called the 7-zip libraries used by Inno Setup "huge", sorry for that :)<br><br>People who are no regular forum visitors might not know that we NSIS developers are really focused on making software as small as possible, so we call something "huge" while other people will probably think we're exaggerating a bit :D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mlaan</span><br><span class="post-time small text-muted">15th February 2004 17:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Joost Verburg</i><br><b>There was probably a bit of miscommunication here when I called the 7-zip libraries used by Inno Setup "huge", sorry for that :)<br></b></blockquote>Ok :)<br><br>BTW something interesting happened in the meantime: Igor released a new set of LZMA files to replace the existing C++ code. The decoder .obj is now 2 kb in Inno Setup.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">15th February 2004 18:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Yep I've seen the new LZMA SDK. It seems to be quite good, totally written in C, just like the NSIS VM.<br><br>Is the decompression speed still good when using the smallest version?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mlaan</span><br><span class="post-time small text-muted">15th February 2004 18:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Try the Inno Setup CVS version and see for yourself :)</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>