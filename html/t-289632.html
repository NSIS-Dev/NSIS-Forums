<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="change label text multiple times" />

  <title>change label text multiple times - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">change label text multiple times</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=289632">change label text multiple times</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">12700</span><br />
      <span class="post-time small text-muted">4th April 2008 13:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>change label text multiple times</strong><br />
      Hello NSIS experts,<br />
      <br />
      I'm a newbie to NSIS and have to enhance some existing installer code. There is a page which accepts certain parameters (input from text fields) and manipulates them (when Next is clicked). The error messages generated are shown above the input fields in a Label with red color.<br />
      <br />
      The page uses MUI. Displaying a message in the red Label is not an issue. Code currently is using<br />
      <br /></p>
      <pre>
<code><br />    GetDlgItem  $1 $hwnd 1204 ; PathRequest control (1200 + field 5 - 1)<br />    SendMessage $1 ${WM_SETTEXT} 0 'STR:$0'     ;show the message generated by external param checker <br /></code>
</pre><br />
      <br />
      The error message on the label will change based on several attempts by user and before displaying each message it would be needed to clear the label. I've tried inserting bunch of \r\n in the label and another attempt was with bunch of spaces. None seem to work. New error message gets overwritten on the previous one.<br />
      <br />
      Please help me by pointing me in the right direction to some samples or at least helping me realize the capabilities of Label type fields.<br />
      <br />
      Thanks and have a good day,<br />
      HB
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mauvecloud</span><br />
      <span class="post-time small text-muted">4th April 2008 14:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think this is a COM issue more than an NSIS issue, but I am guessing you need to send a message to the parent window so that it redraws the rest of the window, eliminating the leftover text from the previous error message.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">12700</span><br />
      <span class="post-time small text-muted">4th April 2008 15:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi folks. I figured it out. In the existing code, I missed the part where the bg color was set to be transparent (with red text) and hence my attempt to put strings with spaces and \r\n were not erasing the previous messages.<br />
      <br />
      This is how it got fixed:<br />
      Changed the bg color to be something non transparent and write a "STR:" to that Label. Then changed it back to the desired red text and transparent bg color and write the error message on it.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
