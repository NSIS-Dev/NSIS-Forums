<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Delaying app startup after reboot"><title>Delaying app startup after reboot - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Delaying app startup after reboot</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=206557">Delaying app startup after reboot</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">BlackHawk007</span><br><span class="post-time small text-muted">1st February 2005 13:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Delaying app startup after reboot</strong><br>Hi everyone.<br><br>I'm using NSIS 2.03 and I'm testing on Windows 98. My installation will create a new MSDE2000 instance, then reboot the PC and after the user logs on it will continue to perform database actions (once the server is active).<br><br>The MSDE installation and reboot goes fine. My problem is this: After the user logs in, the installation almost immediately starts to run. Barely enough time elapses for the system to reconfigure it self and to start the MSDE Server. I need for the installation to start running after all other services has started on the machine.<br><br>I thought about creating a loop and waiting for the MSDE process to become active, but the installation keeps all the background services from starting up. I've looked at the registry entries in MSDN but there isn't pointers on how to delay app start-ups in the RunOnceEx or RunOnce description. Scouring these forums topics haven't met with success yet.<br><br>One of the threads suggested an app called "Nopey" (it has a feature to sleep a process for x ms), but the URL there only produced a 404 error.<br><br>Has anyone dealt with a similar situation before? Can anyone point me in a direction?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">1st February 2005 18:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Instead of a loop, you can try executing the installer again and exiting the current installer. This way, the other services won't be blocked. Not the prettiest way, but should work.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">BlackHawk007</span><br><span class="post-time small text-muted">2nd February 2005 11:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>thanks</strong><br>Thanks, KiCHik. Although that is a bit inelegant it does the trick. You've just got to not package files inside the installer otherwise the user sees "verifying installer... xx%" twice!<br><br>In the end I write a flag somewhere, reboot the machine, check for the flag, set the flag to a new value, start another instance and quit the current one.<br>The second instance reads the flag again and pauses itself for x seconds.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>