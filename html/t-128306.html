<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Any way to find the user privilages" />

  <title>Any way to find the user privilages - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Any way to find the user privilages</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=128306">Any way to find the user privilages</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">cybereka</span><br />
      <span class="post-time small text-muted">13th March 2003 11:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Any way to find the user privilages</strong><br />
      Hai all,<br />
      Is there any way to find the user has got the administrator privilege. And only if he got that the installation should continue otherwise i need to abort the installation by just giving his the reson. Is there any way to do this? Thanks a lot.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Mosestycoon</span><br />
      <span class="post-time small text-muted">13th March 2003 12:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>DLL in the plugin-folder</strong><br />
      Check out your plugin-folder of your version, there is a userinfo.dll and somewher there is an example script within the package of latest NSIS<br />
      <br />
      MO<br />
      <br />
      ---- [U P D A T E] ----<br />
      <br />
      The script is in the folder:<br />
      Path\to\NSIS\Contrib\UserInfo<br />
      <br />
      ;)<br />
      <br />
      Cheers</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bene42</span><br />
      <span class="post-time small text-muted">2nd April 2003 13:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Re: DLL in the plugin-folder</strong><br />
      Hi,<br />
      <br /></p>

      <blockquote>
        <i>Originally posted by Mosestycoon</i><br />
        Check out your plugin-folder of your version, there is a userinfo.dll and somewher there is an example script within the package of latest NSIS
      </blockquote>this DLL works fine, exept on Win9x with Novell-Client. The User has the right to install everything (no admin), but the script returns a username and a Usergroup depends on Novell. Maybe there is a way to change this behavior.<br />
      <br />
      Bene
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">2nd April 2003 14:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Win9x is no multi-user platform. Everyone has the right to install software.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bene42</span><br />
      <span class="post-time small text-muted">2nd April 2003 14:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Joost Verburg</i><br />
        <b>Win9x is no multi-user platform. Everyone has the right to install software.</b>
      </blockquote>But with Novel-Client UserInfo returns a Username and a Usergroup:<br />
      The example ends up here:<br />
      StrCmp $1 "User" 0 +3<br />
      MessageBox MB_OK 'User "$0" is just a regular user'<br />
      and NOT here:<br />
      Win9x:<br />
      # This one means you don't need to care about admin or<br />
      # not admin because Windows 9x doesn't either<br />
      MessageBox MB_OK "Error! This DLL can't run under Windows 9x!"<br />
      <br />
      Bene
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br />
      <span class="post-time small text-muted">2nd April 2003 15:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can add a registry check for Win9x.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">2nd April 2003 15:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Are you saying Novel installs advapi32.dll?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bene42</span><br />
      <span class="post-time small text-muted">3rd April 2003 09:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by kichik</i><br />
        <b>Are you saying Novel installs advapi32.dll?</b>
      </blockquote>Yes, I think so. advapi32.dll exist on the system.<br />
      <br />

      <blockquote>
        <i>Originally posted by Joost Verburg</i><br />
        <b>You can add a registry check for Win9x.</b>
      </blockquote>uname -a? :D<br />
      Windows is not my best known OS :)<br />
      <br />
      Bene
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">3rd April 2003 12:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The latest version in CVS now always returns Admin if it's on Windows 9x and the DLL actually loads. Can anyone please test if the DLL loads on Windows 95? If it doesn't load you'll get a message saying the DLL is not built for Windows 9x (using the Contrib\UserInfo\UserInfo.nsi example).</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
