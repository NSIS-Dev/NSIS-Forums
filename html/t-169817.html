<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="USING a dll to play music"><title>USING a dll to play music - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content=" USING a dll to play music"><title>USING a dll to play music - NSIS Forums</title><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">USING a dll to play music</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=169817">USING a dll to play music</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br><span class="post-time small text-muted">17th February 2004 22:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>USING a dll to play music</strong><br>im interested in using this dll to play Mod's, XM's, and S3m's<br><a href="http://www.un4seen.com/" target="_blank">http://www.un4seen.com/</a><br>spacifically bassmod 1.6<br><a href="http://www.un4seen.com/bass.html#stuff" target="_blank">http://www.un4seen.com/bass.html#stuff</a><br>it uses a dll called BASSMOD.dll<br><br>how do i go about loading that dll up and calling it to play my music in the NSIS install? i just want it to start the music and loop until closed the application.<br><br>im not really a great programmer with all this stuff. i did a search and all it came up with is playing music with bgimage or whatever... and that was only for WAV files :(<br>can anyone help me out? i posted a topic at the forums at the other location, but im sure i need more help from your guys end of things.<br><br>im sure i can find out what functions need to be called when needed, but how would i integreat that into NSIS script?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">17th February 2004 23:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I am currently working on a NSIS plugin for playing OGG files and possibly later MP3s. I have not come across the formats you listed before therefore I'm not certain of how this dll works but a starting point would be to get the list of exported funtions and their c prototypes so that they can be called using the system plugin.<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br><span class="post-time small text-muted">18th February 2004 00:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">just to let you know...<br><a href="http://www.un4seen.com/" target="_blank">http://www.un4seen.com/</a><br>has a dll that will play mp3's ogg's and etc.. aswell.. they have source code for it i belive in vb, c++, and probably delphi.<br><br>hope that helps you out.<br><br>ok.. so once i know these functions.. how do i implement them into the NSIS scrip??? im a total noob at NSIS right at the moment.. i know only basic functions and whatever is in the help file.<br><br>anyone know how i go about implimenting these functions and such from a dll to play music?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">18th February 2004 00:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hehe, mp3s/oggs are kinda against the nature of lean installers (that applies to downloadable files of course). but tracker formats would definitely be cool :)<br><br>however, i'd be interested to know, if your dll (Vytautas) can play the files looped (gapless?).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br><span class="post-time small text-muted">18th February 2004 00:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">ya thats what i was thinking.. why use mp3, wav, ogg, or other HUGE music files??? unless you install is huge already than a 3MB file added wont make much of a differnce, but using tracker music would be great... like mod's and XM's etc. <a href="http://www.modcentral.com" target="_blank">www.modcentral.com</a> i belive will clue you in on some of the music their. or is it <a href="http://www.modplug.com" target="_blank">www.modplug.com</a> - ya thats it.<br><br>they are idea cause they are only kilobytes in size, and their for dont take up much at all space, problem is, not many applications or programmers know how to impliment tracker playing in applications. but some do, and thats where we get these dll's etc. hopefully someone could impliment this trackers support. i have seen one installer that provides support using this.... but i dont like it as much as NSIS, to much bloat if ya ask me.<br><br>i just went searching through the archive.. and it looks like IM not going to be able to program this function into my scripts at all.. so if someone could do this for me (and many many others) it would be greatly appreciated!!!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Vytautas</span><br><span class="post-time small text-muted">18th February 2004 01:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Can you convert wav file to mod files?<br><br>You see the main reason for the plugin was also the ability to compress wave file into ogg format for distribution and the decode them during setup. As a added functionality, since the decoding engine is already in the plugin I will add the ability to play the files aswell.<br><br>Looped play is in the todo list, very close to the top of it actually. Will most likely be in the first release.<br><br>Also thanks for the link I will check out their code and see if I can improve on mine :D<br><br>Vytautas</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br><span class="post-time small text-muted">18th February 2004 06:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">well all i ask is when trying to improve on your script... try and add the MOD play support if at all possible.<br><br>i do belive Mod's can be converted into any format.. usually mp3, probably wav and most likely if it can go in either or of those two.. it can get into ogg format.<br><br>a MOD is basically a buncha really small wav file samlples played in a list that tunes the tones up and down to make music. its very advanced, and its REAL MUSIC since you HAVE to compose it. thats what makes it so unique. and thats what makes it so small too.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">apollo51</span><br><span class="post-time small text-muted">5th March 2004 14:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Here are the functions I made to play MOD files using BASSMOD.dll (version 1.6):<br>$filename is the file to load<br>$songtitle is the song title (doh)<br><br>attachment: example with multiple mod files in a dropdown list<br><br>if any1 knows how to put play/stop buttons within the bottom of the MUI, please PM/Mail me!! (i want to skip the MOD page)<br><br>oh yeah, the defines for BASS_MUSIC_LOOP etc are in the example...<br>-------------------------------------------------------------------------------<br><br>Function BASSMOD_MusicGetName<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicGetName()t.r0'<br>StrCpy $songtitle $0<br>FunctionEnd<br><br>Function BASSMOD_Init<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_Init(i,i,i) (-1,44100,0)'<br>FunctionEnd<br><br>Function BASSMOD_MusicStop<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicStop'<br>FunctionEnd<br><br>Function BASSMOD_MusicLoad<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicLoad(i,t,i,i,i) (0,"$PLUGINSDIR\$filename",0,0,${BASS_MUSIC_LOOP}|${BASS_MUSIC_RAMPS}|${BASS_MUSIC_SURROUND}|${BASS_MUSIC_POSRESET})'<br>FunctionEnd<br><br>Function BASSMOD_Rewind<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicSetPosition(i) (0)'<br>FunctionEnd<br><br>Function BASSMOD_MusicFree<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicFree'<br>FunctionEnd<br><br>Function BASSMOD_Free<br>System::Call 'BASSMOD::BASSMOD_Free'<br>FunctionEnd<br><br>Function BASSMOD_MusicPlay<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicPlay'<br>FunctionEnd</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br><span class="post-time small text-muted">5th March 2004 21:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">YOU ARE GOD!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!<br><br>thank you so much man. im sure to give u credits! woot</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">apollo51</span><br><span class="post-time small text-muted">5th March 2004 21:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">no problem, I made it for myself and got the topic from Kichik</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br><span class="post-time small text-muted">5th March 2004 21:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">im just so really glad you decided to share with us. you are so kind, and i am very appreciative of the work you had done.<br><br>btw to let others know.. you have to have the dll basemod.dll in the directory.<br><br><br>also your bug report...<br></p><pre>
<code>Function .onGUIEnd<br>Call BASSMOD_Free<br>;HelpButton::end<br>System::Free 0<br>FunctionEnd</code>
</pre><br>
      as you can see i had to comment out ;HelpButton::end<br>
      dunoo why or what it does, but it compiled after i removed it.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">5th March 2004 21:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hehe yes, I forgot to remove it, I was trying to add Play/Stop controls to the bottom of the MUI pages, but didn't work out.<br>
      <br>
      I updated the code with XM/IT/MOD/S3M/MTM listing and functions for BASSMOD instead of System Calls<br>
      <br>
      Don't know if the functions are in the test.nsi that I've uploaded here.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br>
      <span class="post-time small text-muted">5th March 2004 21:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">omg omg omg ... you would be so kind and let us into that? :D<br>
      <br>
      whenever you want that is :D<br>
      <br>
      hrm.. i have to go right now, get back to ya later.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">5th March 2004 21:23 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The link to the latest version is: <a href="http://www.apollo51.demon.nl/nsis/nsis%20test.zip" target="_blank">http://www.apollo51.demon.nl/nsis/nsis%20test.zip</a></p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fl0ppy</span><br>
      <span class="post-time small text-muted">6th March 2004 00:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>music installing</strong><br>
      Great work!! but maybe you can helpme with this:<br>
      <br>
      I want a installer with a .mod playing.<br>
      <br>
      With the next sentences (l00k the attachment)<br>
      <br>
      I mind, just a: play music while installing the files.<br>
      <br>
      Thanks ;)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br>
      <span class="post-time small text-muted">6th March 2004 06:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">it does just play music when installing files. it has that too. you dont have to use all that stuff.<br>
      basically just remove the custom page stuff.<br>
      <br></p>
      <pre>
<code>SetCompressor lzma ;7-Zip<br>SetCompress force<br>SetCompressorDictSize 8 ;for large installations use a higher, like 32, 8 is default<br>SetDateSave On<br>SetDataBlockOptimize On<br><br>Name "map name"<br>OutFile "test0001.exe"<br>;Icon 'F:\RavenShield.ico' ;use mui icon now<br><br>DirText 'Choose Directory to Install'<br>InstallDir 'Didnt find RavenShield on your system, please browse for a location'<br>InstallDirRegKey 'HKLM' 'SOFTWARE\Red Storm Entertainment\RAVENSHIELD' 'InstalledPath'<br><br>CRCCheck On<br>XPStyle on<br>SilentInstall Normal<br>ShowInstDetails Show<br>AutoCloseWindow false<br>BrandingText "RvS Map installer - by MindlessOath msu by:@p0ll0"<br>;BGGradient "FDF3DB" "EDAC3B"<br><br><br>;BASSMOD 1.6 (c) 1999-2002 Ian Luck.<br>;Please report bugs/suggestions/etc... to <a href="mailto:bassmod@un4seen.com">bassmod@un4seen.com</a><br>;See the BASSMOD.CHM file for more complete documentation<br><br>!define BASS_ACTIVE_STOPPED 0<br>!define BASS_ACTIVE_PLAYING 1<br>!define BASS_ACTIVE_STALLED 2<br>!define BASS_ACTIVE_PAUSED 3<br><br> ;Error codes returned by BASSMOD_GetErrorCode()<br>!define BASS_OK 0 ;all is OK<br>!define BASS_ERROR_MEM 1 ;memory error<br>!define BASS_ERROR_FILEOPEN 2 ;can't open the file<br>!define BASS_ERROR_DRIVER 3 ;can't find a free sound driver<br>!define BASS_ERROR_HANDLE 5 ;invalid handle<br>!define BASS_ERROR_FORMAT 6 ;unsupported format<br>!define BASS_ERROR_POSITION 7 ;invalid playback position<br>!define BASS_ERROR_INIT 8 ;BASS_Init has not been successfully called<br>!define BASS_ERROR_ALREADY 14 ;already initialized<br>!define BASS_ERROR_ILLTYPE 19 ;an illegal type was specified<br>!define BASS_ERROR_ILLPARAM 20 ;an illegal parameter was specified<br>!define BASS_ERROR_DEVICE 23 ;illegal device number<br>!define BASS_ERROR_NOPLAY 24 ;not playing<br>!define BASS_ERROR_NOMUSIC 28 ;no MOD music has been loaded<br>!define BASS_ERROR_NOSYNC 30 ;synchronizers have been disabled<br>!define BASS_ERROR_UNKNOWN -1 ;some other mystery error<br><br> ;Device setup flags<br>!define BASS_DEVICE_8BITS 1 ;use 8 bit resolution, else 16 bit<br>!define BASS_DEVICE_MONO 2 ;use mono, else stereo<br>!define BASS_DEVICE_NOSYNC 16 ;disable synchronizers<br>!define BASS_DEVICE_LEAVEVOL 32 ;leave the volume as it is<br><br> ;Music flags<br>!define BASS_MUSIC_RAMP 1 ;normal ramping<br>!define BASS_MUSIC_RAMPS 2 ;sensitive ramping<br><br>;Ramping doesn't take a lot of extra processing and<br>;improves the sound quality by removing "clicks".<br>;Sensitive ramping will leave sharp attacked samples,<br>;unlike normal ramping.<br><br>!define BASS_MUSIC_LOOP 4 ;loop music<br>!define BASS_MUSIC_FT2MOD 16 ;play .MOD as FastTracker 2 does<br>!define BASS_MUSIC_PT1MOD 32 ;play .MOD as ProTracker 1 does<br>!define BASS_MUSIC_POSRESET 256 ;stop all notes when moving position<br>!define BASS_MUSIC_SURROUND 512 ;surround sound<br>!define BASS_MUSIC_SURROUND2 1024 ;surround sound (mode 2)<br>!define BASS_MUSIC_STOPBACK 2048 ;stop the music on a backwards jump effect<br>!define BASS_MUSIC_CALCLEN 8192 ;calculate playback length<br>!define BASS_MUSIC_NOSAMPLE 400000 ;don't load the samples<br><br>;Sync types (with!define BASS_ChannelSetSync() "param" and<br>;SYNCPROC "data" definitions) &amp; flags.<br> <br>!define BASS_SYNC_POS 0<br>!define BASS_SYNC_MUSICPOS 0<br>!define BASS_SYNC_MUSICINST 1<br>!define BASS_SYNC_END 2<br>!define BASS_SYNC_MUSICFX 3<br>!define BASS_SYNC_ONETIME $80000000 ;FLAG: sync only once, else continuously<br><br>!include "MUI.nsh"<br><br>!define MUI_HEADERIMAGE<br>!define MUI_ICON "RavenShield.ico"<br>!define MUI_HEADERIMAGE_BITMAP "rvs-orange-header-optimized.bmp"<br>!define MUI_WELCOMEFINISHPAGE_BITMAP "orange-wizard.bmp"<br>        ;!define MUI_COMPONENTSPAGE_SMALLDESC<br><br>!insertmacro MUI_PAGE_WELCOME<br>        ;Page custom ShowCustom LeaveCustom<br>!insertmacro MUI_PAGE_LICENSE "C:\Documents and Settings\Mindless\My Documents\PIMP\sewer.txt" <br>!insertmacro MUI_PAGE_DIRECTORY<br>        ;!insertmacro MUI_PAGE_COMPONENTS<br>!insertmacro MUI_PAGE_INSTFILES<br>!insertmacro MUI_PAGE_FINISH<br><br>!insertmacro MUI_LANGUAGE "English"<br>!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS<br><br>!define MUI_FINISHPAGE_LINK "C:\Documents and Settings\Mindless\My Documents\nsis_mod_test\pimpgui2.nsi"<br>!define MUI_FINISHPAGE_LINK_LOCATION <a href="http://www.tacticalcenter.net" target="_blank">http://www.tacticalcenter.net</a><br>;!define MUI_FINISHPAGE_LINK_COLOR ""<br><br>/*<br>Var hwnd<br>Var playing<br>*/<br><br>Var filename<br>Var songtitle<br><br><br>;=====================================================================<br>;BEGIN Code<br>;=====================================================================<br><br>Function .onInit<br>InitPluginsDir<br>SetOutPath $PLUGINSDIR<br><br>File "bassmod.dll"<br><br>;XM/IT/MOD/S3M/MTM<br><br>File /nonfatal "music\*.xm"<br>File /nonfatal "music\*.it"<br>File /nonfatal "music\*.mod"<br>File /nonfatal "music\*.s3m"<br>File /nonfatal "music\*.mtm"<br><br>Push "*.xm"<br>Call ListFiles <br>Push "*.it"<br>Call ListFiles <br>Push "*.mod"<br>Call ListFiles <br>Push "*.s3m"<br>Call ListFiles <br>Push "*.mtm"<br>Call ListFiles <br><br><br>Call BASSMOD_Init<br>Call BASSMOD_MusicLoad<br>Call BASSMOD_MusicGetName<br>Call BASSMOD_MusicPlay<br>FunctionEnd<br><br>Function .onGUIEnd<br>Call BASSMOD_Free<br>System::Free 0<br>FunctionEnd<br><br>;=====================================================================<br>;Install Section<br>;=====================================================================<br><br>Section<br>Sleep 1000<br>SectionEnd<br><br>;=====================================================================<br>;END Code<br>;=====================================================================<br><br>;=====================================================================<br>;BEGIN MOD file functions<br>;=====================================================================<br><br>Function BASSMOD_MusicGetName<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicGetName()t.r0'<br>StrCpy $songtitle $0<br>FunctionEnd<br><br>Function BASSMOD_Init<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_Init(i,i,i) (-1,44100,0)'<br>FunctionEnd<br><br>Function BASSMOD_MusicLoad<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicLoad(i,t,i,i,i) (0,"$PLUGINSDIR\$filename",0,0,${BASS_MUSIC_LOOP}|${BASS_MUSIC_RAMPS}|${BASS_MUSIC_SURROUND}|${BASS_MUSIC_POSRESET})'<br>FunctionEnd<br><br>Function BASSMOD_Free<br>System::Call 'BASSMOD::BASSMOD_Free'<br>FunctionEnd<br><br>Function BASSMOD_MusicPlay<br>System::Call /NOUNLOAD 'BASSMOD::BASSMOD_MusicPlay'<br>FunctionEnd<br><br>;=====================================================================<br>;END MOD file functions<br>;=====================================================================<br><br>;=====================================================================<br>;BEGIN misc functions<br>;=====================================================================<br><br>Function ListFiles<br>Pop $3<br>FindFirst $0 $1 "$PLUGINSDIR\$3"<br>StrCmp $0 "" skipSound<br>StrCpy $filename $1<br>moreSounds:<br>StrCmp $1 "" noMoreSounds<br>StrCpy $9 "$9|$1"<br>FindNext $0 $1<br>Goto moreSounds<br>noMoreSounds:<br>FindClose $0<br>skipSound:<br>FunctionEnd<br><br>;=====================================================================<br>;END misc functions<br>;=====================================================================</code>
</pre><br>
      <br>
      and thats all you really need, you could slim it down even more than that.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">6th March 2004 10:09 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you just want to play 1 mod file, you can skip much code for example the file *.mod etc, listing the music, the custom page and the function listfiles.<br>
      And not all definitions are needed, only the ones used.<br>
      <br>
      the only thing I want to do is make a checkbox loop or randomize playlist, but the second option will be difficult because bassmod doesn't support playlists.<br>
      <br>
      This is my second day on the forum, and I never thought that people actually would be using my code :rolleyes:<br>
      <br>
      You can download some tracker music at:<br>
      <br>
      Shoutcast: <a href="http://nectarine.hrxnet.de:8002/listen.pls" target="_blank">http://nectarine.hrxnet.de:8002/listen.pls</a><br>
      <br>
      Websites:<br>
      <a href="http://go.to/gamemods" target="_blank">http://go.to/gamemods</a><br>
      <a href="http://www.scenemusic.net/" target="_blank">http://www.scenemusic.net/</a><br>
      <a href="http://exotica.fix.no/tunes/unexotica/titles/all.html" target="_blank">http://exotica.fix.no/tunes/unexotica/titles/all.html</a><br>
      <a href="http://tracking.planet-d.net/reh2.con" target="_blank">http://tracking.planet-d.net/reh2.con</a><br>
      <br>
      and you will find enough on google</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br>
      <span class="post-time small text-muted">6th March 2004 10:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">for being very new, you are awesome! hrm.. playlists.. you can probably do that function, just need some additional coding in nsis i think, im still new to the coding nsis way tho.<br>
      <br>
      i dont see why you would want to put buttons and such for the music. i think all that is neccisary is a volume bar, mabe a stop/start button, hrm.. selection of files is pritty awesome, but i would only include that fucnction with large install files, like big games, or large distrabutions. :P<br>
      <br>
      listening to mods right now, i love the sounds, music to my ears, none of that radio BS i hear now adays. "F MTV" MODS RULE!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">6th March 2004 10:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I basicly wanted to do something like the ware guys from MYTH like: <a href="http://www.apollo51.demon.nl/nsis/Worms3D.Installer.MYTH.zip" target="_blank">http://www.apollo51.demon.nl/nsis/Wo...aller.MYTH.zip</a><br>
      <br>
      this one will probably be a Delphi/C application that unpacks the bassmod.dll as RCDATA and plays the mod files from memory as RCDATA (compiled within the exe)<br>
      <br>
      I did it too in Delphi, but I like NSIS much more!<br>
      <br>
      Yes, tracker music is cool, it reminders me of the old games like Xenon 2, Lotus, Zool and Zone 66 (Cant find a MOD of that game :cry: )</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br>
      <span class="post-time small text-muted">6th March 2004 10:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">ya thats what i was thinking about too... but not in the same light :P<br>
      their installers are really cool, as well as some other elite installers that have all custom/movable grfx/ascii and etc. some of these people are extreamly intelegent.<br>
      <br>
      wow thats a nice ass installer, man that looks awesome, and sounds awesome too. it plays a few songs aswell. man, how do i get one of those :D custom direct3d/opengL or something, plus the random mods.. life doesnt get that goood. damn you c++ guys that know everything, i only know simple stuff count &gt;&gt; lalaalalaalaala</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">6th March 2004 10:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">But the music options they use are cooler than a custom page :)<br>
      <br>
      The GFX is cool, but I like the NSIS MUI as much.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fl0ppy</span><br>
      <span class="post-time small text-muted">6th March 2004 10:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Your example dont work (?)<br>
      Can you helpme wirth script of sentry.nsi?<br>
      <br>
      Thanks.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br>
      <span class="post-time small text-muted">6th March 2004 10:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">man, im a noob and i know how to get it to work. Fl0ppy can u display the msg that is comming up as the error?<br>
      <br>
      whats not working? are u using the correct version of nsis.<br>
      <br>
      do you have the DLL file, do u have a mod?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">6th March 2004 10:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">sentry.nsi works... do you mean you want a MOD file in it?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MindlessOath</span><br>
      <span class="post-time small text-muted">6th March 2004 10:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">im not sure but i think he wants us to make it for him :(</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">6th March 2004 10:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here you go, sentry with tracker playback</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Fl0ppy</span><br>
      <span class="post-time small text-muted">6th March 2004 12:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks a lot, it works, now i start to understand your code.<br>
      :-D</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">VegetaSan</span><br>
      <span class="post-time small text-muted">4th April 2004 08:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">But where should I place these files<br>
      <br>
      - sentry.nsi<br>
      * I have : C:\Program Files\NSIS\Include\sentry.nsi<br>
      <br>
      - BASSMOD.dll<br>
      * I have : C:\Program Files\NSIS\Plugins\BASSMOD.dll<br>
      <br>
      - and 64ish.xm<br>
      * dont know where !<br>
      <br>
      please help me &gt; are these files in the correct places?<br>
      <br>
      And how should I use them ?<br>
      <br>
      !include "sentry.nsh" ?????</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">4th April 2004 12:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Temporary files can be stored in the plug-ins folder after using InitPluginsDir.<br>
      <br>
      If you can't get it to work please attach relevant script code and a detailed problem description.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br>
      <span class="post-time small text-muted">4th April 2004 13:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">/me waiting for .sid support ;)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">VegetaSan</span><br>
      <span class="post-time small text-muted">4th April 2004 15:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">so ... if I extract these files to $TEMP then it should work?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">4th April 2004 16:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you want to store a temporary music file use the plug-ins folder (not the temp folder).</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">4th April 2004 17:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">please note that bassmod.dll is not a NSIS plugin, it is a regular Windows DLL, bassmod.nsi is the NSIS code to use this DLL within NSIS<br>
      <br>
      I wrote an example script which is attached to this post.<br>
      <br>
      Good luck!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">VegetaSan</span><br>
      <span class="post-time small text-muted">4th April 2004 17:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yeah but I can't use .mp3 files ... and I want to convert a .wav file to .mod ... how ??</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">4th April 2004 17:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can't convert mp3 or wav to MOD to play MP3 files you have to use another DLL. Check un4seen.com</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
      <span class="post-time small text-muted">4th April 2004 17:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">So you can use the original BASS.dll to use all the formats supported by it, that means:<br>
      <br></p>

      <blockquote>
        stream (MP3, MP2, MP1, OGG, WAV, custom generated, WMA &amp; CD via the add-ons), MOD music (XM, IT, S3M, MOD, MTM, UMX), MO3 music (MP3/OGG compressed MODs), and recording functions
      </blockquote>can be usable with NSIS, isn't it?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
      <span class="post-time small text-muted">4th April 2004 18:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">yes when the dll is copied into the plugins directory.<br>
      <br>
      api calls to the dll are within bassmod.nsi from the post above (example.rar) there are macro's in it at the end of the file.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">VegetaSan</span><br>
      <span class="post-time small text-muted">4th April 2004 21:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I think I need one of these ,,,,,,,<br>
      <br>
      <font size="1"><br>
      BASSWMA 2.0 (.0.2)<br>
      An extension to BASS, enabling the playback of WMA files and streams, and also WMA file encoding and network broadcasting. Requires the Windows Media Format modules, which come installed with Windows Media Player, or can be installed separately (wmfdist.exe). C/C++, Visual Basic, Delphi and MASM APIs are included.<br>
      <br>
      <br>
      BASSCD 2.0 (.0.5)<br>
      <br>
      An extension to BASS, enabling digital streaming and ripping of audio CDs. C/C++, Visual Basic, Delphi and MASM APIs are included.<br>
      <br>
      <br>
      BASSenc 2.0<br>
      A small extension that allows BASS channels to be encoded using any command-line encoder that has STDIN support (LAME/OGGENC/etc). C/C++, Visual Basic and Delphi APIs are included.<br></font><br>
      <br>
      wich one for mp3??</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">VegetaSan</span><br>
      <span class="post-time small text-muted">4th April 2004 21:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I picked the BASSWMA 2.0 (0.2)<br>
      <br>
      and used this script<br>
      <br></p>
      <pre>
<code><br>Function .onInit<br><br>Setoutpath "$PLUGINSDIR"<br><br>File /a "C:\bass\*.*"<br>File /a "C:\bass\c\*.*"<br>File /a "C:\bass\delphi\*.*"<br>File /a "C:\bass\masm\*.*"<br>File /a "C:\bass\vb\*.*"<br>File /a "C:\bass\vb\wmalive\*.*"<br>File /a "C:\bass\delphi\WMALive\*.*"<br>File /a "C:\Bazin Squad - Here 4 one.wma"<br><br>InitPluginsDir<br>SetOutPath $PLUGINSDIR<br>File menu.mod<br>File bassmod.dll<br>!insertmacro BASSMOD_Init<br>!insertmacro BASSMOD_MusicLoad "$PLUGINSDIR\Bazin Squad - Here 4 one.wma"<br>!insertmacro BASSMOD_MusicPlay<br>FunctionEnd<br><br>Function .onGUIEND<br>!insertmacro BASSMOD_Free<br>FunctionEnd<br><br>Section<br>SectionEnd<br></code>
</pre><br>
      <br>
      <br>
      And didnt work .. :(
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
      <span class="post-time small text-muted">4th April 2004 22:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You forgot the "Download" link on the top-right corner of that page (un4seen) which is the one that contains the MP3 support.<br>
      <br>
      And that didn't work because that code was only supportable for MOD files, I'm doing a header file for all file types supportable by DLLs now, please be patient.</p>
    </div>
    <hr>
    
    
    <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]-->

    <div class="container">
      

      <ol class="breadcrumb">
        <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

        <li><a href="f-65.html">NSIS Discussion</a></li>

        <li class="active">USING a dll to play music</li>
      </ol>

      <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=169817">USING a dll to play music</a></p><br>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
        <span class="post-time small text-muted">4th April 2004 23:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">OK! The header file is here, but to preserve all original options I did put a more complex code to work with. You need at least to know how to call plugins with System Plugin.<br>
        <br>
        And you need to have:<br>
        <br>
        - BASS.dll - to use about all functions available in the header file.<br>
        - BASSCD.dll (not really required)- to use some functions to play/rip CD music.<br>
        - BASSWMA.dll (not really required)- to use some functions to play .wma files.<br>
        - Is recommended that you have the documentation of each component above to know how to use the codes correctly.<br>
        <br>
        Get all of them at <a href="http://un4seen.com" target="_blank">un4seen.com</a>.<br>
        <br>
        Extract the files inside the zip file below inside "YourNSISDir\Contrib\BASS" folder.<br>
        <br>
        The header file with an included example (without plugins):</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">apollo51</span><br>
        <span class="post-time small text-muted">5th April 2004 14:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"></p>

        <blockquote>
          <i>Originally posted by deguix</i><br>
          <b>You forgot the "Download" link on the top-right corner of that page (un4seen) which is the one that contains the MP3 support.<br>
          <br>
          And that didn't work because that code was only supportable for MOD files, I'm doing a header file for all file types supportable by DLLs now, please be patient.</b>
        </blockquote>No I did not, BASSMOD.dll is smaller and I wasnt using it to play MP3, those files are too large for small installations.
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">deguix</span><br>
        <span class="post-time small text-muted">5th April 2004 21:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">That message real target is VegetaSan, because he wanted one plugin with MP3.</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">saivert</span><br>
        <span class="post-time small text-muted">9th May 2005 16:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">You lame thieves. Making up this BASS in NSIS shit and not even mentioning my earlier stuff located here:<br>
        <br>
        <a href="http://inthegray.com/saivert/nsisdev/nsisbass.zip" target="_blank">http://inthegray.com/saivert/nsisdev/nsisbass.zip</a><br>
        <br>
        I made this a long long time ago and no one is even crediting my work.<br>
        <br>
        Shame on you! Shame!</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br>
        <span class="post-time small text-muted">9th May 2005 17:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">aha. i miss the proof that anything was stolen. you didn't write bass.dll and the ways to use a dll through a system call aren't a real secret. if you knew the people who contributed in this forum, you'd know they don't need to steal. besides, i couldn't even find your page with google.<br>
        <br>
        next time you want to contribute something, publish it here or in the nsis archive.</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">saivert</span><br>
        <span class="post-time small text-muted">10th May 2005 07:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"><strong>Re-inventing the wheel</strong><br>
        My site is located here:<br>
        <a href="http://inthegray.com/saivert/" target="_blank">http://inthegray.com/saivert/</a><br>
        <br>
        If you can't find that on Google then you must be blind.<br>
        Search for any keywork that exists on my page and it will appear at the first search results page in Google.<br>
        <br>
        I did post this code in the NSIS archive a while ago, but it must have been lost somewhere.<br>
        <br>
        Sorry, but I hate people who "re-invent the wheel". It wastes so much good programming time.<br>
        <br>
        And sorry for my rant (calling you thieves wasn't such a good idea).</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">metamorphium</span><br>
        <span class="post-time small text-muted">28th November 2005 11:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content"><strong>Doesn't work for me</strong><br>
        Hi all,<br>
        <br>
        I am sorry to revive the old topic, but I am not able<br>
        to make this last example (with mp3) running. I downloaded both - the latest bass.dll and header files and put them into some correct path. Script compiles ok and shows the BASS functions as loaded. It also shows no error and I can test it. Upon testing there is no sound.<br>
        <br>
        I tried to insert some message box to debug if there is anything going on which shows so that means that functions are being called. I also checked sound and mp3 which alone is correct (Using the default test mp3 file).<br>
        <br>
        Any help or advice would be deeply appreciated.<br>
        <br>
        Thanks</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">Takhir</span><br>
        <span class="post-time small text-muted">28th November 2005 12:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Beginning Win98 VideoForWindows plays mp3, aren't it? If so it is possible to use MCI player via system plugin <a href="http://forums.winamp.com/attachment.php?s=&amp;postid=1708520" target="_blank">http://forums.winamp.com/attachment....postid=1708520</a></p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">metamorphium</span><br>
        <span class="post-time small text-muted">28th November 2005 14:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">Wow. That did a trick.<br>
        <br>
        Thanks a lot for sharing!</p>
      </div>
      <hr>

      <div class="post">
        <p class="post-meta"><span class="post-author text-primary">pospec</span><br>
        <span class="post-time small text-muted">12th May 2008 11:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

        <p class="post-content">BASS.dll 2.4 Released. They changed some functions a bit so how to use it in your NSIS installer?<br>
        <br>
        You need <b>bass.dll 2.4</b> from un4seen. Here is simple example for playing MP3 (eventually looped):</p>
      </div>
      <hr>

      <div class="footer">
        <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
      </div>
    </div><script src="../js/highlight.pack.js" type="text/javascript">
</script> <script type="text/javascript">
//<![CDATA[
    hljs.initHighlightingOnLoad();
    //]]></script></div></body></html>