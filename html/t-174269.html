<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Section Lists"><title>Section Lists - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Section Lists</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=174269">Section Lists</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">TSZChEeTaH</span><br><span class="post-time small text-muted">27th March 2004 01:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Section Lists</strong><br>Hello Folks,<br><br>I'm trying to build an installation with a summary page using NSIS. Although I did get it working, I would like to enhance it a bit (and make it a bit more portable too). The problem is that I can't find a way to detect the sections that are available in an installation automatically (on compile time would be the best I guess).<br><br>Basically what I'm looking for is some code which checks the current installation and loops through all Sections. Then what it must do, is simply add a string (containing the section's name) if the selection is checked and visible on the components page. For layout improvement, I guess it would also be useful at what depth in the tree (in case of subsections) the section is, so you can add a number of spaces before the text and indent it that way.<br><br>As said, I am able to do it now (and the whole summary page is working too), but it's quite installation specific. The code must now be written separately for each section (with hardcoded section names etc) which does make it look a bit ugly. If you add or remove a section to the installation, you'll also have to adjust the function etc...<br><br>On another (off-topic) note: I was wondering if the Finnish language file for the MUI has been updated yet (because my installation will also be in Finnish)? I didn't find an updated file in the latest snapshot though... If not, what strings are missing (on what pages etc.)?<br><br>Thank you for your help!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">27th March 2004 10:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">SectionGetFlags, SectionGetInstTypes, etc. will set the error flag if given a section which is out of range. You can use that to loop through all sections until the error flag is set.<br><br>For depth, you can check for the SF_SUBSEC and SF_SUBSECEND flags in that loop.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">TSZChEeTaH</span><br><span class="post-time small text-muted">27th March 2004 13:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thanks a lot for your help, I should be able to do the rest from there :) I did read something like that in the documentation but I didn't understand it completely I guess. Thanks again :)</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>