<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Having an Install Component change based on an &quot;if&quot;" />

  <title>Having an Install Component change based on an "if" - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Having an Install Component change based on an "if"</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=63139">Having an Install Component change based on an "if"</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PJ-T2</span><br />
      <span class="post-time small text-muted">20th October 2001 01:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Having an Install Component change based on an "if"</strong><br />
      Hey. I'm trying to do something that I'm not sure is entirely possible. I want NSIS to detect if a file exists, and if the file does exist, to uncheck one of the installation components. If the file does not exist, leave it checked. I'd like to do this without creating Install Types, but if that is the only way, I'd be open to it. If it wasn't for the "if" factor, I'd be able to do it with just a standard install type now. If I could do this by reading a Registry key, that would also be acceptable. Anyone have any thoughts or ideas?<br />
      <br />
      Also, is it possible to use a JPEG file as a splash screen instead of a BMP. I haven't tried it yet, but I thought I'd ask while I'm here.<br />
      <br />
      [Edit]Oh I almost forget. _GREAT_ program. Very versatile and useful. I'm currently using it on two separate projects and I'm very happy with it. Keep up the good work.<br />
      <br />
      -PJ<br />
      <a href="http://www.Tribes2maps.com" target="_blank">http://www.Tribes2maps.com</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PJ-T2</span><br />
      <span class="post-time small text-muted">23rd October 2001 04:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Doh. Since no one has an idea, looks like I'm going to have to deal with it as is. =/<br />
      <br />
      -PJ<br />
      <a href="http://www.Tribes2Maps.com" target="_blank">http://www.Tribes2Maps.com</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DuaneJeffers</span><br />
      <span class="post-time small text-muted">24th October 2001 03:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, what exactly are you trying to do???? And no, NSIS's Splash doesn't use .jpg files.<br />
      <br />
      -Duane</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PJ-T2</span><br />
      <span class="post-time small text-muted">24th October 2001 04:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">One of the install components is a server list. If a user is just installing the program on top of an existing installations (upgrade) then I want it to detect that the servers ini file exists, and if it does, uncheck that component by default. Not disable it or anything, just be somewhat "smart" as to what its doing. Does that make a little more sense?<br />
      <br />
      -PJ<br />
      <a href="http://www.Tribes2maps.com" target="_blank">http://www.Tribes2maps.com</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Schultz</span><br />
      <span class="post-time small text-muted">24th October 2001 05:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">couldn't you just include this into the main selection and just do a<br />
      <br />
      IfFileExists $INSTDIR\somefile.ini NoInstall 0<br />
      File somefile.ini<br />
      NoInstall:<br />
      <br />
      this would just put the list there if it isn't already found.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PJ-T2</span><br />
      <span class="post-time small text-muted">24th October 2001 09:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm currently doing that now, kind of. The problem with that is I want the user to have a choice on what they do at the Install Components screen. So if they upgrade and WANT an updated server list (which many will) they can just check that box.<br />
      <br />
      -PJ<br />
      <a href="http://www.Tribes2Maps.com" target="_blank">http://www.Tribes2Maps.com</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Gonzotek</span><br />
      <span class="post-time small text-muted">24th October 2001 14:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use a YES|NO message box after ifFileExists, like this:<br /></p>
      <pre>
<code><br />IfFileExists $INSTDIR\somefile.ini AskInstall 0 <br />File somefile.ini <br />AskInstall: <br />MessageBox MB_YESNO "Would you like to install an updated server list?" NO NoInstall<br />File somefile.ini<br />NoInstall:<br /></code>
</pre><br />
      Is that helpful?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">locnar42</span><br />
      <span class="post-time small text-muted">25th October 2001 03:34 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I am actually wanting to do something every similar.<br />
      I have an application which is composed of 3 programs. The user can install each program onto different computers and they communicate via the network. Each program is in it's own section. One of the programs will only run if the user has a certain application loaded, and I'd like to uncheck that particular section if the application isn't loaded. Otherwise, I'd like check it by default.<br />
      <br />
      Putting it into code which just skips it isn't really an option. Right now, I just leave it unchecked by default. I'd actually like to disable it to the point where the user *can't* select it, but would settle for just leaving it unchecked.<br />
      <br />
      I'm about to dig into the code to add this there isn't already a way to do it. (is Justin finished with the wild coding updates? would hate to have to repeat it repeatedly.)<br />
      <br />
      thanks.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
