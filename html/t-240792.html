<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="icons and uninstaller"><title>icons and uninstaller - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">icons and uninstaller</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=240792">icons and uninstaller</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">fulk</span><br><span class="post-time small text-muted">14th March 2006 08:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>icons and uninstaller</strong><br>Hi everyone!<br>I am new with nsis development, sorry if I ask obvious things! Just I'm having some troubles with the use of icons and with uninstaller options. Mainly I encountered 2 "problems":</p><ol style="list-style-type: decimal"><li><b>ICONS</b><br>At the beginning of the nsi file after the field "Name" I used the following code:<br><blockquote>Icon "icon-inst.ico"</blockquote>Seeing that the icon is in the same path as the nsi file.<br>Then in uninstaller section I used:<br><blockquote>UninstallIcon "icon-uninst.ico"</blockquote>Once I compile the file I have this error:<br><blockquote>Generating uninstaller...<br>Error finding icon resources: installer, uninstaller icon size mismatch - see the Icon instruction's documentation for more information -- failing!<br>Error - aborting creation process</blockquote>the fact is that both the icon are exactly of the same size and they are both made with 1 single image 48x48 with 256 colors.</li><li><b>UNINSTALLER</b><br>Concerning the uninstaller I have to say that after the installation, the installer creates an icon on the desktop, linking the executable file. If I rename this link, then the uninstaller doesn't delete it. The instructions I used to delete the desktop link in the nsi file is:<br><blockquote>Delete "$DESKTOP\Exefile.lnk"</blockquote></li></ol>Any suggestions concerning these 2 questions( /problems )?<br>Thanks in advance, regards</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jtbalogh</span><br><span class="post-time small text-muted">14th March 2006 08:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">For (1) above, I had that problem too. This worked for me, if using the MUI modern interface pages,<br></p><pre>
<code><br>Icon "icon-inst.ico"<br>UninstallIcon "icon-uninst.ico"<br>!define MUI_ICON "icon-inst.ico"<br>!define MUI_UNICON "icon-uninst.ico"<br></code>
</pre>For (2), once I rename or move a file or shortcut, then the uninstaller will not find it. That is intentional because whoever changes has decided to do things manually. You can search this forum for scripts that search and read shortcut links. But if the script finds the wrong one and deletes it, it might make the customer sad if he looses something.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fulk</span><br>
      <span class="post-time small text-muted">14th March 2006 09:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by jtbalogh</i><br>
        For (1) above, I had that problem too. This worked for me, if using the MUI modern interface pages,<br>
        <pre>
<code><br>Icon "icon-inst.ico"<br>UninstallIcon "icon-uninst.ico"<br>!define MUI_ICON "icon-inst.ico"<br>!define MUI_UNICON "icon-uninst.ico"<br></code>
</pre>
      </blockquote>Ok perfect solution, thanks very much!<br>

      <blockquote>
        For (2), once I rename or move a file or shortcut, then the uninstaller will not find it. That is intentional because whoever changes has decided to do things manually. You can search this forum for scripts that search and read shortcut links. But if the script finds the wrong one and deletes it, it might make the customer sad if he looses something.
      </blockquote>Yeah concerning this prob I imagined it was like you told just I thought there was a way to associate the link to the software installed so that all link associated could be deleted.<br>
      Thanks again for helping!<br>
      Regards
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br>
      <span class="post-time small text-muted">14th March 2006 18:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by jtbalogh</i><br>
        [B]For (1) above, I had that problem too. This worked for me, if using the MUI modern interface pages,<br>
        <pre>
<code><br>Icon "icon-inst.ico"<br>UninstallIcon "icon-uninst.ico"<br>!define MUI_ICON "icon-inst.ico"<br>!define MUI_UNICON "icon-uninst.ico"<br></code>
</pre>
      </blockquote>You should only use the MUI_ICON and MUI_UNICON settings, the first two lines can be removed.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fulk</span><br>
      <span class="post-time small text-muted">14th March 2006 18:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Joost Verburg</i><br>
        You should only use the MUI_ICON and MUI_UNICON settings, the first two lines can be removed.
      </blockquote>Yes, as I understood first lines corresponds to the name of the icon used.<br>
      Thanks for support
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fulk</span><br>
      <span class="post-time small text-muted">14th March 2006 18:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jtbalogh</span><br>
      <span class="post-time small text-muted">14th March 2006 20:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Fulk, this thread has an example to search shortcuts.<br>
      <a href="http://forums.winamp.com/showthread.php?threadid=231570" target="_blank">http://forums.winamp.com/showthread.php?threadid=231570</a></p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fulk</span><br>
      <span class="post-time small text-muted">15th March 2006 11:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by jtbalogh</i><br>
        Fulk, this thread has an example to search shortcuts.<br>
        <a href="http://forums.winamp.com/showthread.php?threadid=231570" target="_blank">http://forums.winamp.com/showthread.php?threadid=231570</a>
      </blockquote>Thank you very much :)
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>