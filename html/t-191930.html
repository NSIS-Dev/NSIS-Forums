<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Problems building NSIS on linux"><title>Problems building NSIS on linux - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Problems building NSIS on linux</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=191930">Problems building NSIS on linux</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">elFarto</span><br><span class="post-time small text-muted">30th August 2004 21:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Problems building NSIS on linux</strong><br>Hi<br><br>I have a linux mingw cross compiler setup, but I am having some problems when I try to build NSIS.<br><br>Does anyone have any ideas on how to fix this?<br><br>Thanks &amp; Regards<br>elFarto<br><br></p><pre>
<code>[root@thor Source]$ make<br>make -C exehead<br>make[1]: Entering directory `/tmp/NSIS/Source/exehead'<br>mkdir Release-zlib Release-bzip2 Release-lzma<br>i386-mingw32-gcc -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB bgbg.c -o Release-zlib/bgbg.o<br>i386-mingw32-gcc -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB exec.c -o Release-zlib/exec.o<br>exec.c: In function `ExecuteEntry':<br>exec.c:700: warning: dereferencing type-punned pointer will break strict-aliasing rules<br>exec.c:982: warning: dereferencing type-punned pointer will break strict-aliasing rules<br>exec.c:987: warning: dereferencing type-punned pointer will break strict-aliasing rules<br>i386-mingw32-gcc -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB fileform.c -o Release-zlib/fileform.o<br>i386-mingw32-gcc -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB Main.c -o Release-zlib/Main.o<br>i386-mingw32-gcc -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB Ui.c -o Release-zlib/Ui.o<br>Ui.c: In function `DialogProc':<br>Ui.c:543: warning: dereferencing type-punned pointer will break strict-aliasing rules<br>i386-mingw32-gcc -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB util.c -o Release-zlib/util.o<br>i386-mingw32-gcc -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB ../crc32.c -o Release-zlib/crc32.o<br>i386-mingw32-windres --input-format rc --output-format coff -o Release-zlib/resource.res -i resource.rc<br>i386-mingw32-gcc -x c -c -DEXEHEAD -DWIN32_LEAN_AND_MEAN -DZEXPORT=__stdcall -DLZMACALL=__fastcall -Wall -Os -DNSIS_COMPRESS_USE_ZLIB ../zlib/INFBLOCK.C -o Release-zlib/INFBLOCK.o<br>echo "SECTIONS" &gt; sections_script<br>echo "{" &gt;&gt; sections_script<br>echo "  .text : { *(.text) }" &gt;&gt; sections_script<br>echo "  .data : { *(.data) }" &gt;&gt; sections_script<br>echo "  .rdata : { *(.rdata) }" &gt;&gt; sections_script<br>echo "  .bss : { *(.bss) }" &gt;&gt; sections_script<br>echo "  .idata : { *(.idata) }" &gt;&gt; sections_script<br>echo "  .ndata BLOCK(__section_alignment__) : { [ .ndata ] }" &gt;&gt; sections_script<br>echo "  .rsrc : { *(.rsrc) }" &gt;&gt; sections_script<br>echo "}" &gt;&gt; sections_script<br>i386-mingw32-gcc -Wall -Os -DNSIS_COMPRESS_USE_ZLIB -s -mwindows -nostdlib -nostartfiles --enable-stdcall-fixup <br>-Wl,-Bdynamic -Wl,--file-alignment,512 -Wl,--exclude-libs,msvcrt.a -Wl,-e,_WinMain@16 -Wl,sections_script -Wl,-Map,Release-zlib/exehead_zlib.map <br>-o Release-zlib/exehead_zlib.exe Release-zlib/bgbg.o Release-zlib/exec.o Release-zlib/fileform.o Release-zlib/Main.o <br>Release-zlib/Ui.o Release-zlib/util.o Release-zlib/crc32.o Release-zlib/resource.res Release-zlib/INFBLOCK.o <br>-lole32 -lgdi32 -lversion -luuid -lcomctl32 -lkernel32 -luser32 -lshell32 -ladvapi32<br>Release-zlib/exec.o(.text+0x183):exec.c: undefined reference to `memcpy'<br>Release-zlib/Ui.o(.text+0x1ec2):Ui.c: undefined reference to `memcpy'<br>make[1]: *** [Release-zlib/exehead_zlib.exe] Error 1<br>make[1]: Leaving directory `/tmp/NSIS/Source/exehead'<br>make: *** [exehead] Error 2</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">31st August 2004 19:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Are you using gcc-3.4? If so, use an earlier version for now.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">elFarto</span><br>
      <span class="post-time small text-muted">31st August 2004 21:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yep, that was it, I was using 3.4.0, and I reverted to 3.3.4, and it built perfectly.<br>
      <br>
      Thanks<br>
      elFarto</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">25th September 2004 19:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Workaround added in latest CVS version.</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>