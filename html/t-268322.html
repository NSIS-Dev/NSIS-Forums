<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Global Variables" />

  <title>Global Variables - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Global Variables</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=268322">Global Variables</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Riskov</span><br />
      <span class="post-time small text-muted">24th March 2007 22:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Global Variables</strong><br />
      Ok It's simple BUT I can't do it<br />
      <br />
      I've got a global variable<br /></p>

      <blockquote>
        Var BLA
      </blockquote>Then in one Function<br />

      <blockquote>
        Function "tup"<br />
        .........<br />
        ........<br />
        StrCpy $BLA $8<br />
        ........<br />
        FunctionEnd
      </blockquote>the variable gets the number from $8<br />
      then in other function<br />

      <blockquote>
        Function SetCustom<br />
        .........<br />
        ........<br />
        IntOp $BLA $BLA + 10<br />
        ........<br />
        FunctionEnd
      </blockquote>But it doesn't work<br />
      In the end BLA is 10 - and it must be 725650<br />
      <br />
      <br />
      <br />
      Compiler says:

      <blockquote>
        1 warning:<br />
        install function "tup" not referenced - zeroing code (0-49) out<br />
      </blockquote>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">24th March 2007 23:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The warning means the function "tup" is never called. Call it from somewhere. You probably want to call it from .onInit.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Riskov</span><br />
      <span class="post-time small text-muted">25th March 2007 00:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok I called it there is no longer a warning - thanks a lot<br />
      <br />
      But there is a problem with the global variable BLA - could you pls see if the comands are right. I'm new to NSIS</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comperio</span><br />
      <span class="post-time small text-muted">25th March 2007 01:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If there was something wrong with the commands, you would likely recevied some other type of compile error. But since you're not, it's likely some other logic error. Unfortunatley, your examples are not enough to troubleshoot. If you need more help, you should attach a complete sample script which illustrates the problem.<br /></p>

      <blockquote>
        In the end BLA is 10 - and it must be 725650
      </blockquote>Based on your above statement and from the small bit you've provided so far, I'd say that $8 in your first function for some reason is not being set or that the line <font color="blue">StrCpy $BLA $8</font> is being skipped, which then makes $BLA equal to 10 in your second function. (nothing + 10 = 10).
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Riskov</span><br />
      <span class="post-time small text-muted">25th March 2007 11:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">THANK YOU ALL !!!<br />
      Now I've got a new problem - I think it's not so hard to solve it but I can't<br />
      <br />
      I've got the variable $POM($POM=10) and I want the variable to be written on one of the pages - here is an example:<br />
      <a href="http://img144.imageshack.us/img144/932/sahh3.jpg" target="_blank">http://img144.imageshack.us/img144/932/sahh3.jpg</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">25th March 2007 13:05 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">WriteINIStr or MUI_INSTALLOPTIONS_WRITE.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
