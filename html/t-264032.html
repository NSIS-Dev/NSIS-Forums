<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Customizing the welcome message" />

  <title>Customizing the welcome message - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Customizing the welcome message</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=264032">Customizing the welcome message</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">19th January 2007 23:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Customizing the welcome message</strong><br />
      How do I go about changing the welcome/instructions text in my installer? And possibly add a bitmap and/or icon? (I have not yet found this in the help areas I've searched, or I would not be posting such a simple question.)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">19th January 2007 23:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Discussed already a few threads below,<br />
      <br />
      <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=263442" target="_blank">http://forums.winamp.com/showthread....hreadid=263442</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">19th January 2007 23:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, thanks, but I do not see how that thread answers my questions.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 00:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Okay, I guess you're referring me to the Modern User Interface, which I must admit I almost -- but didn't quite -- examine. Thank you very much.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">20th January 2007 00:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm definitely referring to MUI :)<br />
      I redirected you to that page mainly because of the attached picture (even from UMUI) so we'd know about what we're talking :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 00:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Related to this situation: The name of my software includes an ampersand (&amp;), such as This&amp;That. If I use a double ampersand, i.e. This&amp;&amp;That, the name is rendered correctly everywhere but in the title bar, where the string is rendered exactly as typed in my nsi file. Any suggestions?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">20th January 2007 01:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">you may use caption instead<br />
      e.g.<br />
      name "this&amp;&amp;this"<br />
      caption "this&amp;this"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 01:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I sure appreciate the help, Red Wine! But I still have a lingering ampersand problem. When I cancel the installation, I get the message "Are you sure you want to quit This&amp;&amp;That setup?"<br />
      <br />
      The only place I am now using the double ampersand is in the name.<br />
      <br />
      !define PRODUCT_NAME "This&amp;&amp;That"</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">20th January 2007 10:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sorry Steve perhaps I'm not getting your point correctly,<br />
      if you need to use the product name on several different places in your script and the single <b>&amp;</b> causes problems everywhere but the name, you may use,<br /></p>
      <pre>
<code>!define PRODUCT_NAME "This<b>&amp;</b>That"<br />!define PRODUCT_DESCRIPTION "This<b>&amp;&amp;</b>That"<br />Name "${PRODUCT_NAME}"</code>
</pre><br />
      on every other place where you're referring that it causes the problem use ${PRODUCT_DESCRIPTION}
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 13:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you. I am further experimenting with your suggestions. However, let me state myself more clearly:<br />
      <br />
      After I tried your prevous directions:<br />
      <br />
      name "this&amp;&amp;this"<br />
      caption "this&amp;this" ,<br />
      <br />
      all was well except for the double ampersand in the Cancel message. I don't know how to control that.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">20th January 2007 13:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Use:</p>
      <pre>
<code>Name "this&amp;this" "this&amp;&amp;this"</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">20th January 2007 13:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">See my last post above, should do the trick.<br />
      Either remove caption or use caption "${PRODUCT_NAME}" or something else that you may desire as caption.<br />
      Now messagebox's title should be equal with the name definition.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 13:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">It seems that everything is being rendered correctly now, after using kichik's suggestion. Thank you both very much!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 15:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Coming back now to the bigger picture, I want to completely replace the Welcome page text. In looking for an example of this, the closest I have come is <a href="http://forums.winamp.com/printthread.php?threadid=263388." target="_blank">http://forums.winamp.com/printthread...readid=263388.</a><br />
      <br />
      Could I get a little direction in how to proceed? Or perhaps point me to a clear example of this very thing?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 16:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">After experimenting with variations on the link I mentioned above, I am starting to see the light. I don't want to be posting unnecessary questions, so I'll see how far I can get before asking any more.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 19:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I have implemented a few lines for my Welcome page, based on <a href="http://forums.winamp.com/printthrea...hreadid=263388." target="_blank">http://forums.winamp.com/printthrea...hreadid=263388.</a><br />
      <br />
      !define MUI_PAGE_CUSTOMFUNCTION_PRE 'WelPre'<br />
      ; Welcome page<br />
      !insertmacro MUI_PAGE_WELCOME<br />
      . . .<br />
      Function WelPre<br />
      WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Settings' 'NumFields' '2'<br />
      WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 2' 'Text' 'This&amp;&amp;That is ready to install.'<br />
      WriteINIStr '$PLUGINSDIR\iospecial.ini' 'Field 3' 'Text' 'Click "Next" to get going!'<br />
      FunctionEnd<br />
      <br />
      But I can't seem to get something similar to work for the Directory page. My testing looks like this:<br />
      <br />
      !define MUI_PAGE_CUSTOMFUNCTION_PRE 'WelPreDir'<br />
      ; Directory page<br />
      !insertmacro MUI_PAGE_DIRECTORY<br />
      . . .<br />
      Function WelPreDir<br />
      WriteINIStr '$PLUGINSDIR\ioB.ini' 'Field 1' 'Text' 'Now choose the install directory.'<br />
      WriteINIStr '$PLUGINSDIR\ioB.ini' 'Field 2' 'Text' 'field 2 test'<br />
      WriteINIStr '$PLUGINSDIR\ioB.ini' 'Field 3' 'Text' 'field 3 test'<br />
      FunctionEnd<br />
      <br />
      Any comments?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">20th January 2007 19:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Steve allow me to say that you seem a bit confused so far :)<br />
      To change the Welcome/Finish page title and text you need<br />
      MUI_PAGE_HEADER_TEXT text<br />
      Text to display on the header of the page.<br />
      <br />
      MUI_PAGE_HEADER_SUBTEXT text<br />
      Subtext to display on the header of the page.<br />
      <br />
      See MUI documentation <a href="http://nsis.sourceforge.net/Docs/Modern%20UI/Readme.html" target="_blank">http://nsis.sourceforge.net/Docs/Mod...UI/Readme.html</a><br />
      Also see this wiki page,<br />
      <a href="http://nsis.sourceforge.net/Adding_3_Extra_Text_Lines_on_MUI_Welcome-Finish_Pages" target="_blank">http://nsis.sourceforge.net/Adding_3...e-Finish_Pages</a><br />
      <br />
      For all other pages see these wiki pages to get a frame on how you may deal with their controls,<br />
      <a href="http://nsis.sourceforge.net/Changing_Title_and_Subtitle_Fonts_on_MUI_Pages" target="_blank">http://nsis.sourceforge.net/Changing...s_on_MUI_Pages</a><br />
      <a href="http://nsis.sourceforge.net/Demonstrating_Page%27s_Custom_Functions_Pre_Show_Leave" target="_blank">http://nsis.sourceforge.net/Demonstr...Pre_Show_Leave</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">20th January 2007 20:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks, Red Wine. This too is enlightening, but I still don't see a relationship with the text below the subtitle, i.e. in the gray area of the Directory page. How do I get to that area?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">20th January 2007 20:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Open the MUI WelcomeFinish.nsi example and add the following line along with other Language Strings descriptions<br /></p>
      <pre>
<code>  LangString ^DirText ${LANG_ENGLISH} "my text"</code>
</pre><br />
      Should be repeated for every language that included in your installer.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">21st January 2007 06:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I guess what I was looking for was<br />
      MUI_WELCOMEPAGE_TEXT, etc. Your comments led me to relevant documentation.<br />
      <br />
      Thank you again for helping me as I have been taking my first deeper look into NSIS.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">21st January 2007 06:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        guess what I was looking for was<br />
        MUI_WELCOMEPAGE_TEXT, etc. Your comments led me to relevant documentation.
      </blockquote>Certainly this is what you were looking related to welcome/finish page. I got confused with the text from MUI readme while I was trying to copy/paste a part in order to show the way to go! Sorry :)<br />
      What about the directory page, did you change the DirText?
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">21st January 2007 14:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, I did change the text on the Directory page too, as well as all bitmaps. But I have not yet found it possible to place my gradient bitmap across the entire window without wiping out the text. So maybe I need to learn some more about using .ini files and laying out the areas of the dialog.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">25th January 2007 23:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">What would I have to do to make this ioSpecial.ini configuration show the text of Field 2 against the wide bitmap, rather than apparently being wiped out by the bitmap?<br />
      <br />
      [Settings]<br />
      Rect=1044<br />
      NumFields=3<br />
      [Field 1]<br />
      Type=bitmap<br />
      Left=0<br />
      Right=-1 ;109<br />
      Top=0<br />
      Bottom=193<br />
      Flags=RESIZETOFIT<br />
      [Field 2]<br />
      Type=label<br />
      Left=120<br />
      Right=315<br />
      Top=10<br />
      [Field 3]<br />
      Type=label<br />
      Left=120<br />
      Right=315</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">26th January 2007 00:02 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Edit: From InstallOptions manual,<br />
      <br />
      TRANSPARENT:<br />
      <br />
      Used by "Bitmap" controls. Hides every pixel with the same color as of the top left pixel. This allows to see-through to controls behind it. This flag doesn't work well with a combination of the RESIZETOFIT flag and bitmaps with more than 256 colors.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">26th January 2007 01:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you for that, Red Wine. Here's what I now have, using a pure red bitmap that fits the window, and again the text is no longer visible:<br />
      <br />
      [Settings]<br />
      Rect=1044<br />
      NumFields=3<br />
      [Field 1]<br />
      Type=bitmap<br />
      Left=0<br />
      Right=-1 ;109<br />
      Top=0<br />
      Bottom=193<br />
      Flags=TRANSPARENT ;| RESIZETOFIT<br />
      [Field 2]<br />
      Type=label<br />
      Left=120<br />
      Right=315<br />
      Top=10<br />
      [Field 3]<br />
      Type=label<br />
      Left=120<br />
      Right=315<br />
      <br />
      What am I missing?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">26th January 2007 05:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You haven't specified all needed values regarding to width/height e.g.<br />
      top=10<br />
      bottom=20</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">SteveRussell</span><br />
      <span class="post-time small text-muted">26th January 2007 11:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Which field are you referring to? Except for a few changes, this is the actual ioSpecial.ini file. Why would I need to change dimensions of any field other than the bitmap in order to see the text?<br />
      <br />
      I did experiment after your response, but I still can't see anything but red where there had been text.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br />
      <span class="post-time small text-muted">26th January 2007 11:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hmm, I didn't realize that you were referring to iospecial.ini that is used by MUI in order to display the welcome/finish pages.<br />
      This file edited dynamically by MUI macro system within .onGuiInit function, (see the file system.nsh at contrib\modern ui folder).<br />
      You need either edit the file dynamically within welcome/finish pages custom functions pre/show, or use MUI_SPECIALINI, (see MUI manual chapter Customize standard dialogs).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">pospec</span><br />
      <span class="post-time small text-muted">24th October 2007 20:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Here are my notes about customizing the welcome message on <font face="courier new">MUI_PAGE_WELCOME</font> via defining <font face="courier new">MUI_WELCOMEPAGE_TEXT</font>.<br />
      My task was to add some text after string <font face="courier new">$(MUI_TEXT_WELCOME_INFO_TEXT)</font> (<i>This wizard will guide you...</i>). Problem was that this string uses <font face="courier new">$\r</font> and <font face="courier new">$\n</font> but <font face="courier new">MUI_WELCOMEPAGE_TEXT</font> expects <font face="courier new">\r</font> and <font face="courier new">\n</font>. (If you pass original <font face="courier new">$(MUI_TEXT_WELCOME_INFO_TEXT)</font> value then it is trimmed after first <font face="courier new">\r\n</font>.) Easy solution was to use <a href="http://nsis.sourceforge.net/wiki/StrReplace" target="_blank">StrReplace</a> and delete 'control' characters.<br />
      I feel ashamed that my first attempt was editing the ioSpecial.ini. :)<br />
      Finally, after comparing this two ways I decide to create another label because I want to have the added text <b>BOLD</b>. :cool:</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
