<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Error: label &quot;CopyJob:&quot; already declared in function"><title>Error: label "CopyJob:" already declared in function - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Error: label "CopyJob:" already declared in function</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=314102">Error: label "CopyJob:" already declared in function</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">xbarns</span><br><span class="post-time small text-muted">23rd October 2009 13:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Error: label "CopyJob:" already declared in function</strong><br>Hi all,<br><br>i am using a Macro to create a set of files for one of my setup projects, the macro itself looks like this<br><br></p><pre>
<code><br>!macro _CreateAndCopyC7ClientJob PATH<br><br>        IfFileExists "$PLUGINSDIR\CLIENTTEMP\C7.zip" CopyJob 0<br>.<br>.<br>                   <br>        CopyJob:<br>.<br>.<br>        <br>!macroend<br>!define CreateAndCopyC7ClientJob `!insertmacro _CreateAndCopyC7ClientJob`<br></code>
</pre><br>
      <br>
      when compiling the setup i get the Message<br>
      <br>
      Error: label "CopyJob:" already declared in function<br>
      <br>
      this macro is called multiple times and the error occurs when its called for the 5th time (3 times out of one nsh, and 2 (before it crashes) out of another nsh file.<br>
      <br>
      I know i can probably work around this if i do not use fixed label but instead "+x" to jump to the desired command.<br>
      But i would like to understand why this is happening only when called the 5th time.<br>
      <br>
      Thanks for helping :)
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">demiller9</span><br>
      <span class="post-time small text-muted">23rd October 2009 16:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Macros define lines of text that are inserted into your code each time that they are referenced by CreateMacro. The fixed name labels you put into the macro are thus duplicated each time the macro is inserted. This is permissible if the labels are in separate sections or functions, but is an error if the labels are used multiple times in the same function or section.<br>
      <br>
      Instead of relative jumps, you can append a unique modifier onto the label name. Look at some of the header files that use labels (logiclib.nsh) to see how that's done.<br>
      <br>
      Don</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">xbarns</span><br>
      <span class="post-time small text-muted">3rd November 2009 17:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Got it, thanks a lot!</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>