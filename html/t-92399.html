<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Quoting problem with ExecWait on NT4" />

  <title>Quoting problem with ExecWait on NT4 - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Quoting problem with ExecWait on NT4</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=92399">Quoting problem with ExecWait on NT4</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">emr</span><br />
      <span class="post-time small text-muted">26th June 2002 10:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Quoting problem with ExecWait on NT4</strong><br />
      I am fighting with a quoting problem in the 198 version when the created installer is run on NT4 systems. This problem was also present in older versions.<br />
      <br />
      From my nsi file:<br />
      <br />
      ExecWait '"$INSTDIR\install.bat" "$INSTDIR" "$8" "$9"'<br />
      <br />
      The quotes are provided to deal with spaces in $INSTDIR. This works fine on W2K and XP, but the command is not executed and the error flag is set under NT4.<br />
      <br />
      Is this a known bug? Is there any way to get a more detailed error message other than using the error flag? I'd like to find out what exactly fails here (other than "an error has happened" :-).</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">emr</span><br />
      <span class="post-time small text-muted">26th June 2002 14:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Additional Info</strong><br />
      Further investigation shows that the second quote pair causes the problem.<br />
      <br />
      Specifying<br />
      <br />
      ExecWait '"$INSTDIR\install.bat" $INSTDIR'<br />
      <br />
      executes correctly but fails if $INSTDIR contains spaces.<br />
      <br />
      Has anyone a solution to this problem?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">26th June 2002 16:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Extract this script on your desktop (dir has spaces!). Compile both and run executor.exe. It works for me very fine (Win2K). Maybe there is something else going on in your script. Please check it.<br />
      <br />
      Good luck,<br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">emr</span><br />
      <span class="post-time small text-muted">26th June 2002 17:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks, I'll try that.<br />
      <br />
      But that will take time, as I'll go on holidays until mid July from tomorrow.<br />
      <br />
      In the meantime, I did an ugly workaround by prohibiting filenames with spaces.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Smile2Me</span><br />
      <span class="post-time small text-muted">26th June 2002 17:32 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Using the test script, I think everything works fine. So it should be possible to have dirnames with spaces.<br />
      <br />
      Have a nice holiday, good luck,<br />
      -Hendri.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
