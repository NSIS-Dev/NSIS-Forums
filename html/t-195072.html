<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Storing system info. in an ini file"><title>Storing system info. in an ini file - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Storing system info. in an ini file</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=195072">Storing system info. in an ini file</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">aadya</span><br><span class="post-time small text-muted">29th September 2004 14:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Storing system info. in an ini file</strong><br>Hi All,<br>Can i use the ini files to store some information like MAC address etc. (any info for that matter) in an ini file?<br>I would like to read this information the next time installer is run, with a new compilation ofcourse.<br>How else can one ensure that an installer is not being run on multiple machines within an organization?<br><br>(ofcourse we need to have a license manager but just curious if i could use the installer meanwhile...)<br><br>thanks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">aadya</span><br><span class="post-time small text-muted">29th September 2004 14:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">sorry...i mean without a recompilation ofcourse<br>i need some coffie :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th September 2004 14:53 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">So you want to write some information to the installer or to a file that comes with the installer to make sure it's not ran on two different computers? I don't think that's a good idea. If you write it to a separate file, the user can simply delete it. If you write it to the installer itself, assuming Windows will allow you to write to the installer, the user can simply download the installer again, or make it read-only by burning it on a CD for example. Both issues can also be caused on purpose or even by mistake.<br><br>What I’d do is query the license manager using some basic information from the user. That way you don’t have to write two different protection schemes.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">aadya</span><br><span class="post-time small text-muted">29th September 2004 15:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi Kichik,<br>Thanks for your reply.<br>I know it may not seem elegant but this is just a stop gap effort, if possible.<br>Since we do not offer downloads of our product, all valid installers are issued by us to the customers. Hence i thought it would be a quick way out before we design and implement licensing mechanism (this may take a while). Our main idea is that the installer exe should know that it has been run once successfully. Similarly on an uninstall, that information should be removed from the installer.<br><br>I dont know if this is possible... :(</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th September 2004 15:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well, since the CRC checksum is only done until the logical end of the installer file, you can easily tack some information on the end of it. You can put a unique id there and contact the server while installing to ask if that id is valid. You can also try writing something there while installing.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">aadya</span><br><span class="post-time small text-muted">29th September 2004 15:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sounds interesting...<br>more so as i am a bit lost ;)<br>could you elaborate a bit more please?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th September 2004 15:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">NSIS uses a CRC checksum to make sure the installer is not corrupted. By default, it only checksums until the end of the installer file. If you append data to the installer file, you won't get an error message saying the installer is corrupted. If you change some data in the middle of the installer, it will.<br><br>This means you can append your data to the installer file. Since you distribute the installer yourself, you can easily append different data to each installer. This data can then be read by the installer itself using FileOpen, FileRead, FileSeek and FileClose.<br><br>This per-installer data can be a unique id that will be used to communicate with your server. The server, according to the id and its database, will know whether the installer is still valid or not.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">aadya</span><br><span class="post-time small text-muted">29th September 2004 15:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Sounds like you have by answer..<br>"This means you can append your data to the installer file" ..HOW?<br>Sorry but i am a bit new to the world of installers...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th September 2004 15:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You have a compiled installer, you can change it however you see fit. You can change it with notepad, another text editor, a scripting language or even another NSIS installer.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">aadya</span><br><span class="post-time small text-muted">29th September 2004 15:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">sounds rough but i guess good enough for short term.<br>thanks a lot.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>