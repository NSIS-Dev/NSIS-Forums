<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Add Icon to NSIS created setup.exe file" />

  <title>Add Icon to NSIS created setup.exe file - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Add Icon to NSIS created setup.exe file</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=212667">Add Icon to NSIS created setup.exe file</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bd2005</span><br />
      <span class="post-time small text-muted">9th April 2005 05:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Add Icon to NSIS created setup.exe file</strong><br />
      Greetings,<br />
      <br />
      I've searched for this, unable to find info.<br />
      <br />
      How do I add custom icon to the actual nsis created setup.exe file?<br />
      <br />
      I'm not refering to the nsis setup screen that shows nsis icons in the gui, but rather I'm refering to the actual image "attached" to the setup.exe when viewed on the hard drive or CD disk. Currently by default, it shows blue top with white center, I have my own icon that I would like to use in place of this default icon.<br />
      <br />
      Upon review of existing posts, it's possible I'm experiencing loss of icon due to setup size, currently it's 476 KB. Hmm ... still looking for solution.<br />
      <br />
      Any suggestions?<br />
      <br />
      Thks.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jnuw</span><br />
      <span class="post-time small text-muted">9th April 2005 05:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The command is:<br />
      <br />
      !define MUI_ICON "C:\Build\nsis.ico"<br />
      <br />
      add it right after the the command:<br />
      <br />
      !include "MUI.nsh"<br />
      <br />
      does this help?<br />
      <br />
      There are also limitations as the dimensions (pixels) and the number or colors. You may be exceeding one of those.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bd2005</span><br />
      <span class="post-time small text-muted">9th April 2005 05:43 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thks for the tip. However, it didn't resolve it. I originally had MUI.nsh above the MUI_ICON. I'm using standard nsis icon, so it's not icon image issue. At best, it's most likely the issue of setup.exe file size at 467 KB. Not sure when it looses it though. Hmm ...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">stb</span><br />
      <span class="post-time small text-muted">9th April 2005 09:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi bd2005,<br />
      <br />
      you're asking quite much basics (which are already answered).<br />
      <br />
      First you should read the fine NSIS manual which is very handy. It includes some MUI appendix.<br />
      <br />
      Then I suggest you look into the<br />
      <a href="http://nsis.sourceforge.net/archive/nsisweb.php" target="_blank">NSIS-Archive</a> where you can find many scripts ready to use and many additional functions.<br />
      <br />
      And after that: Please search this forum with keywords.<br />
      <br />
      To make this post not so flamy I add some code snippet :-)<br />
      <br /></p>
      <pre>
<code><br />!include "MUI.nsh"<br />!define MUI_ICON "setup.ico"<br />!define MUI_UNICON "unsetup.ico"<br />OutFile "test.exe"<br /></code>
</pre><br />
      <br />
      works for me just fine, try this with icons supplied with NSIS.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bd2005</span><br />
      <span class="post-time small text-muted">9th April 2005 15:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Yes, I've searched this forum and tried the tips. There were some that I didn't understand, thus didn't try it.<br />
      <br />
      As for this tip you submitted, Yes, I already have all of this code in it, didn't resolve it. The exe file is 467 KB, why would the size affect the icons?<br />
      <br />
      It looks like the icon was there up until 426 KB, then once it got to 467 KB, disappeared. Hmm ...<br />
      <br />
      STB, Thanks for providing this tip. Got another idea?<br />
      <br />
      BD</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">stb</span><br />
      <span class="post-time small text-muted">9th April 2005 17:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Try the icons supplied with NSIS. If that works fine (it does for me) then probably your icon maybe is broken or not compatible. It's unlikely the size matters.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">9th April 2005 17:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Size matters only if it's over a few hundred megabytes. In this case, Windows simply ignores the icon for an unknown reason. It probably does this to save the time of reading the file. But if your installer is less than one megabyte, it shouldn't matter.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bd2005</span><br />
      <span class="post-time small text-muted">9th April 2005 18:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I've been using both nsis and my own professional icons ... Well ... crap ... Is there workaround to fix it? ... It looks ugly not having professional icon with it.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">bd2005</span><br />
      <span class="post-time small text-muted">9th April 2005 18:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">My error ... it's 467 MB not 467 KB.<br />
      <br />
      Hmm ... Windows Explorer does not show the icon, but Hex editor program "open file" does show the icon in the search for exe popup window. Hmm ...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">stb</span><br />
      <span class="post-time small text-muted">9th April 2005 18:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You should check on another system.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
