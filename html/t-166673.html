<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Search path from CD"><title>Search path from CD - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Search path from CD</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=166673">Search path from CD</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">VLogic</span><br><span class="post-time small text-muted">26th January 2004 02:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Search path from CD</strong><br>Hi. I'm sure someone has encountered this problem and can solve it easily.<br><br>My installation script requires determining if MySQL is installed. Using the script instruction...<br><br>SearchPath &lt;variable&gt; "\mysql\bin",<br><br>...I have been able to detect the installation path, if the installer is executed from the hard drive I'm installing on. If the same is from CD, the installer fails to find the path.<br><br>Can anyone tell me why it doesn't work the same, and how to accomplish it?<br><br>Thank you for your help.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">rjstephens</span><br><span class="post-time small text-muted">26th January 2004 02:31 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">most likely the reason it doesn't work is because the installer is searching for the MySQL path on the CD.<br><br>You are much better off checking the registry to see if MySQL is installed and what path it is installed in. If you search for the path, you stand a good chance of recieving both false positives and false negatives.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">26th January 2004 04:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">SearchPath searches for a file. For example:</p><pre>
<code>SearchPath $0 mysql.exe</code>
</pre>But as rjstephens said, you're probably better off reading the registry with ReadRegStr and friends than searching the path.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">VLogic</span><br><span class="post-time small text-muted">26th January 2004 16:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you all for your feedback. Unfortunately, I can't find any registry entry to look for. That's why I tried SearchPath to begin with.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Spatacoli</span><br><span class="post-time small text-muted">26th January 2004 20:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">MySQL should insert a my.ini file in your Windows directory. This usually lists the path to the base dir, from there mysql.exe is usually in the bin dir. This is true for 3.23.x, I'm not sure about newer versions. then do:<br>ReadINIStr $1 "$WINDIR\my.ini" "mysqld" "basedir"<br>and start your search from there.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">VLogic</span><br><span class="post-time small text-muted">27th January 2004 00:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Of course! The my.ini file!! Why didn't I think of that. Thanks, Spatacoli. I'm off and running again.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>