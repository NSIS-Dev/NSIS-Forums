<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Post compilation changes" />

  <title>Post compilation changes - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Post compilation changes</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=319074">Post compilation changes</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">franz.reitner</span><br />
      <span class="post-time small text-muted">10th May 2010 10:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Post compilation changes</strong><br />
      Hi all,<br />
      <br />
      we would like to change the bitmaps after the installer.exe is created. This is because some of our customers are OEMs and want to do some branding of our installer.<br />
      <br />
      Is it possible to unpack the installer, modify the embedded bitmaps and repack with the modified bmps? If 'yes', how can we do this?<br />
      <br />
      Regards,<br />
      Franz</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">10th May 2010 10:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">One option: <a href="http://nsis.sourceforge.net/ReadCustomerData" target="_blank">http://nsis.sourceforge.net/ReadCustomerData</a><br />
      You should be able to store the raw bytes and extract them.<br />
      <br />
      Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">franz.reitner</span><br />
      <span class="post-time small text-muted">10th May 2010 11:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thank you for answering. As it seems ReadCustomerData supports only plain text and no binary image. I'm able to unpack by using 7-zip, but it is not possible to repack a changed bitmap to the existing exe :-(.<br />
      <br />
      Fx</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">10th May 2010 12:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by franz.reitner</small><br />
        I'm able to unpack by using 7-zip, but it is not possible to repack a changed bitmap to the existing exe :-(.
      </blockquote>If you're encouraging your clients to use 7zip to pull apart your own installer, why not just give them your installer scripts straight away? Then they can compile their own installer the proper way.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">franz.reitner</span><br />
      <span class="post-time small text-muted">10th May 2010 13:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">7-Zip is able to extract the files to install and some hidden folders, containing the bitmaps I'll want the customer to edit. The script itself will be not extracted by 7-zip. It stays inside the installer executable. Seems that I'm stuck...</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br />
      <span class="post-time small text-muted">10th May 2010 13:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">the customerdata route should work: The wiki example just points out the possibility, and gives a typical use case which involves standard text data - but there's nothing stopping you from using FileReadByte instead of FileRead to get the raw data. Combine that with FileWriteByte to write the bytes out to e.g. mybitmap.bmp that you can then use in the installer, and voila.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">MSG</span><br />
      <span class="post-time small text-muted">10th May 2010 13:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <small>Originally posted by franz.reitner</small><br />
        7-Zip is able to extract the files to install and some hidden folders, containing the bitmaps I'll want the customer to edit. The script itself will be not extracted by 7-zip. It stays inside the installer executable.
      </blockquote>It will if you add the script to the installer somewhere. Most straight-forward method would be to File installer.nsi, though I'm sure there are smoother ways to do it. But that's really not my point. What I mean is: Why are you encouraging your users to tear apart your installer? Just give them the installer script and a rar with the necessary files and they'll be able to do things properly, instead of having to go to extremely hackjob "solutions" like 7zip.
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
