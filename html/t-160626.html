<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Allow user to cancel during install?"><title>Allow user to cancel during install? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Allow user to cancel during install?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=160626">Allow user to cancel during install?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Wasteland</span><br><span class="post-time small text-muted">18th December 2003 20:49 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Allow user to cancel during install?</strong><br>Once the installer has started copying files, it seems the cancel button becomes disabled, and it does not let a user cancel the install unless something goes wrong (in which case it displays an error and enables the cancel button). Is there some way I can tell NSIS to always have the cancel button enabled? If I just send the windows message to enable the button, is the installer going to function correctly (i.e. stop if a user hits cancel), or does it expect the cancel button to stay disabled?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">18th December 2003 21:01 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can't enable the cancel button yet. It was originally planned for v2 but it looks like it will have to wait for 2.1. Enabling it manually will not work as you expect it, you shouldn't do that.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Wasteland</span><br><span class="post-time small text-muted">18th December 2003 21:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well... it seems all of the functionality is there for what I want to do (i.e. if the installer gets an error copying files, it exits out gracefully), it seems like it would be trivial for a user to trigger this condition... but okay, I'll wait and see if you get the feature in before our game ships.<br><br>Thanks for the quick response!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">18th December 2003 21:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well, there are still some issues with it such as stopping plug-ins, stopping executed programs and not leaving partially installed applications behind.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Wasteland</span><br><span class="post-time small text-muted">18th December 2003 21:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Well, for stopping Plugins, that's the purpose of the .onUserAbort thing, right?<br><br>And leaving partially installed applications behind is the expected behavior of canceling an install... in fact I think it might be the desired behavior, depending on the situation.<br><br>But, okay, I'll just keep on the lookout for when the feature is in...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">18th December 2003 22:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><blockquote><i>Originally posted by Wasteland</i><br><b>Well, for stopping Plugins, that's the purpose of the .onUserAbort thing, right?</b></blockquote>Not exactly. NSIS is not thread safe when it comes to scripting, it can't execute two scripts on the same time. So we can't execute .onUserAbort if a plug-in is already running. The plug-in will probably need to subclass and figure out if the user clicked the cancel button on its own. It'll probably be a opt-in option for plug-ins.<br><br>We'll cross all those bridges when we get to them, currently we have NSIS 2 to release first :)</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">oborstad</span><br><span class="post-time small text-muted">9th March 2006 17:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">So, now that 2.0 is out :) any word on canceling during file extraction? I have a plug-in that decompresses files and I'm decompressing close to 3 gig of data... I would like to put a cancel option in if possible without having to resort to something like what the realprogress plugin does (for the progress bar) and hijack or mimick the cancel button...<br><br>Owen.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">9th March 2006 17:59 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">No. But there's this:<br><br><a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1219437&amp;group_id=22049&amp;atid=373087" target="_blank">http://sourceforge.net/tracker/index...49&amp;atid=373087</a></p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>