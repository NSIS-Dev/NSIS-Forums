<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Disappointed by NSIS" />

  <title>Disappointed by NSIS - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Disappointed by NSIS</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=210466">Disappointed by NSIS</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Diaa</span><br />
      <span class="post-time small text-muted">15th March 2005 13:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Disappointed by NSIS</strong><br />
      Two or three months ago, I needed to make an installer for my application, after a quick search I chose NSIS because I found that it's widely used.<br />
      back then, I've never made any installers, so NSIS was my first experience with installers.<br />
      I downloaded and installed NSIS, and I began learning from the samples provided with it.<br />
      at the beginning I was thrilled, but soon I got far disappointed.<br />
      what I noticed was that every time I needed to add something, I had to do it myself(manually):<br />
      //- I needed to add a custom page, so I made it myself.<br />
      - I needed to add shared dll, I had to do it myself(I know the function is found in the help, but that's not the only thing I needed)<br />
      - I had to write the registry keys myself using an API which is very similar to the bare Win32 API.<br />
      - I had to add an entry to Add/Remove programs myself(through the registry too).<br />
      - I had to check for windows version myself.<br />
      <br />
      that's not the only thing, but in addition to a hard and ugly script.<br />
      hard:<br />
      - no standard control-flow constructs like( if, while). only the bad goto and labels(which reminded me of assembly).<br />
      - what's the stack for(Push, Pop)?!!! are we back to assembly in the<br />
      ugly: well, look at it, can you tell whether a statement is a built-in command, a function or a macro!! and it's not beautiful coz It doesn't look like any language I know.<br />
      <br />
      What made me really switch to another installer(we'll come to that later) was Current/All user support, I thought it should be integrated into NSIS or something, but no, it isn't.<br />
      ok, I was ready to do it manually, but what I found that I have to write 2 paths for each statement which depends on Current/All User(which will be a pain to write and maintain).<br />
      if it had a good script, I could have done something like that:<br />
      var hive;<br />
      if (user_chose_current_user)<br />
      hive = HKCU;<br />
      else<br />
      hive = HKLM;<br />
      <br />
      // later, any statement depending on Current/All User could use 'hive' variable.<br />
      WriteRegKey(hive, "key");<br />
      <br />
      I switched to InnoSetup, first thing I found is that there's a separation between settings and code, i.e. there are some settings which are understood by the installer engine, and if you want to add custom actions, you could use Delphi.<br />
      I liked that very much, and I made the same installer with only half the number of lines.<br />
      <br />
      so, bottom line is: NSIS is as hard as C/C++ plus a bad library.<br />
      <br />
      I'm wondering if I'm wrong with something, please tell me.<br />
      I thought it was much better.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Davion</span><br />
      <span class="post-time small text-muted">15th March 2005 13:57 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The Difference between NSIS and other installers is the fact that you have to do everything yourself, but this grants you that the Installer does only what you want.<br />
      <br />
      I've worked with InstallShield, InnoSetup and some others before, after over 5 Months I didn't have any results - with NSIS I had an Instller after less then 3 Weeks and there were only a few updates since the last Year<br />
      <br />
      Yes NSIS requires some Work to understand and to get a nice installer, but it's worth the time<br />
      <br />
      Greetz Dave</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Joel</span><br />
      <span class="post-time small text-muted">15th March 2005 14:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Diaa!<br />
      <br />
      First... the idea of <i>making all your self</i> is one of the goals of NSIS...<br />
      You know why installers like Inno are popular? Because their Tool IDE (AKA ISTool)... I, as former Inno user, was one of the few that actually "write" the hole script...<br />
      MSI installers... well...they are modern and cool... the fact that you need its runtime (1.00 ~MB) and good IDE script makers (which most of them aren't free)<br />
      Wise... one of the oldest but coolest installers that uses the old "point n click"...<br />
      InstallShield... do you have to download 500 ~MB to get a decent installer?<br />
      NSIS... free, opensource, good library, good examples, good plugins ;), good forum members :p ... I'll say...yes...you have to type everything..... even if you use a good IDE like HM NSIS edit :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Takhir</span><br />
      <span class="post-time small text-muted">15th March 2005 17:36 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I see 2 types of NSIS consumers:<br />
      1. End users and my boss - they are interested in global product features - maximum functionality (all C can do), total compatibility, (more or less) modern look, Linux package builder, minimum additional package size and zero cost. IMHO this is 8/10 points, multivolume installation and max 4 GB file/volume size (instead of current 2 GB) can give last 2 points to NSIS :)<br />
      2. Script writers point of view, I can give 6/10. Pluses - very flexible, source code available, NOT uses Delphi. Minuses - bad manuals (2/10, may be 3 with some samples now), ugly script lang (IntOp :) ). When I use Modern UI it looks like old style dialogs still presents (hidden) in the package (or in code) and increase it's size. Parameters, definitions, compile and runtimes (partly because of bad manuals) - all looks messed, I not feel any concept of product development.<br />
      Finally IMHO NSIS is a very good quality product but a bad managed project.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">15th March 2005 19:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">For future reference:</p>

      <ul>
        <li>To use conditional structures use the LogigLib.</li>

        <li>Version 2.06 will allow specifying SHCTX as the registry key for all registry related functions. When SetShellVarContext all is used, SHCTX will resolve to HKLM. When SetShellVarContext current is used, SHCTX will resolve to HKCU.</li>

        <li>All you need to add a shared DLL is one line, using the InstallLib macro.</li>
      </ul>And a bit more to the point, I like NSIS the way it is now. Easy for simple installers, highly customizable, fast, small and powerful. I really like how it allows to create applications like the following:<br />
      <br />
      <a href="http://www.xtremej.com/rcpbuilder.php" target="_blank">http://www.xtremej.com/rcpbuilder.php</a><br />
      <a href="http://nsis.sourceforge.net/archive/viewpage.php?pageid=493" target="_blank">http://nsis.sourceforge.net/archive/...php?pageid=493</a><br />
      <a href="http://www.smorgasbordet.com/pellesc/" target="_blank">http://www.smorgasbordet.com/pellesc/</a><br />
      <br />
      There's always better, but I won't say where we are now is bad.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fredtheman</span><br />
      <span class="post-time small text-muted">16th March 2005 08:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Re: Disappointed by NSIS</strong><br /></p>

      <blockquote>
        <i>Originally posted by Diaa</i><br />
        I switched to InnoSetup, first thing I found is that there's a separation between settings and code, i.e. there are some settings which are understood by the installer engine, and if you want to add custom actions, you could use Delphi.
      </blockquote>Does InnoSetup require your having Delphi to write scripts, or does it come with some basic scripting language, forcing you to use Delphi only for advanced tasks? If the former, then this comparison with NSIS doesn't hold.<br />
      <br />
      Still, I agree with you that NSIS is a bit rough when you've never built an installer before, especially because the language is assembly-like. I assume Justin found it more efficient to write it like this instead of something more modern like Basic or Python. Maybe someone knowledgeable should come up with a "10mn guide to NSIS" introducing a 10,000-foot view of what NSIS does, and how it does it.<br />
      <br />
      Fred.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">noleander</span><br />
      <span class="post-time small text-muted">16th March 2005 14:46 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I'm a newcomer to NSIS, and I too was very confused at first, but once I finally got the hang of it, I'm satisfied.<br />
      <br />
      In order to help future newcomers, I just wrote a small overview of NSIS and submitted it for inclusion into the official NSIS documentation suite:<br />
      <br />
      <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1164169&amp;group_id=22049&amp;atid=373087" target="_blank">http://sourceforge.net/tracker/index...49&amp;atid=373087</a><br />
      <br />
      <br />
      This overview is just a draft document, but at least it is a starting point.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">16th March 2005 16:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Well, Diaa I'm sorry you feel that way, but considering I really do not remember you asking any questions on here ever, we can't really do anything for you if you hide from us!<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Yathosho</span><br />
      <span class="post-time small text-muted">16th March 2005 21:08 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by Takhir</i><br />
        <b>NOT uses Delphi</b>
      </blockquote>good point :D:up:
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Diaa</span><br />
      <span class="post-time small text-muted">21st March 2005 03:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        To use conditional structures use the LogigLib
      </blockquote>Could you provide a link please, I couldn't find anything about it in NSIS archive.<br />
      <br />

      <blockquote>
        All you need to add a shared DLL is one line, using the InstallLib macro
      </blockquote>I didn't know about this, it's not written in the documentation.<br />
      <br />

      <blockquote>
        NOT uses Delphi
      </blockquote>I don't like Delphi either, but at least, it's a mature language with a formal syntax!.<br />
      <br />
      <br />
      well, I can see you got me wrong, I'm not complaining about the absence of a GUI editor, wizards, and so, I don't even like them(I wrote the InnoSetup script myself although there's ISTool, which could create the whole script out of some mouse clicks).<br />
      I'm a hardcore developer, I use C++, COM and inline assembly, I'm complaining that the code that's written in NSIS is low-level.<br />
      there should be some built-in libraries which does the things common to Installers, for example creating folders, adding keys to the registry.<br />
      In InnoSetup, all you have to do is list the registry keys that your program uses, you don't write code, that's what I'm talking about.<br />
      take a look at how it happens in InnoSetup:<br />
      the words contained between {# and } are preprocessor defines.<br />
      <br />
      <pre>
<code><br />[Registry]<br />Root: HKCU; Subkey: Software\{#CompanyName}; Flags: uninsdeletekeyifempty<br />Root: HKCU; Subkey: Software\{#CompanyName}\{#AppNameDev}; Flags: uninsdeletekey<br /></code>
</pre><br />
      <br />
      another thing which justifies my argument is that I wrote an installer for my application using both IS and NSIS, the size of the script for IS is half that of NSIS.<br />
      do you think this is good? of course not, more code means more bugs, harder to maintain...<br />
      <br />
      being customizable doesn't justify being low-level, hard and ugly.<br />
      <br />
      finally, I hope you are convinced(at least by some of the points I meant), this is all about making NSIS better.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fredtheman</span><br />
      <span class="post-time small text-muted">21st March 2005 09:33 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        Could you provide a link please, I couldn't find anything about it in NSIS archive.
      </blockquote><a href="http://www.google.com/search?q=site%3Ansis.sourceforge.net+LogicLib" target="_blank">http://www.google.com/search?q=site%...e.net+LogicLib</a><br />
      <br />

      <blockquote>
        I don't like Delphi either, but at least, it's a mature language with a formal syntax!.
      </blockquote>I don't have the skills to write compilers, but I assume there's a trade-off between ease-of-use for the developer, and size of the resulting EXE. NSIS was written from the start to minimize foot-print, so I assume that's why Justin chose to use that assembly-like syntax.<br />
      <br />

      <blockquote>
        well, I can see you got me wrong
      </blockquote>Take it from me, this is not a good way to get people to help you. Change that to "I seem to haven't explained myself correctly", or something like that. It usually works better :-)<br />
      <br />

      <blockquote>
        there should be some built-in libraries which does the things common to Installers, for example creating folders, adding keys to the registry.
      </blockquote>As I said above, NSIS generates very compact installers. If that hasn't been done before (I doubt it, but it's possible), someone should write two identical installers, and compare the size of the EXEs as built by Inno and NSIS. It's likely that NSIS will come out ahead.<br />
      <br />

      <blockquote>
        In InnoSetup, all you have to do is list the registry keys that your program uses, you don't write code, that's what I'm talking about.
      </blockquote>I guess no one found it hard enough to work with the Registry with NSIS to justify writing a plug-in. Or no one had the time yet to do this, but it might get done later.<br />
      <br />
      Honestly, I don't find it hard to use the native instructions. Besides, you can always write a wrapper/function if you'd like something yet smaller:<br />
      <br />
      <pre>
<code><br />StrCpy $1 "POOOOOOOOOOOP"<br />WriteRegStr HKLM SOFTWARE\NSISCrap\BigNSISTest "Install_Dir" "$INSTDIR"<br /></code>
</pre><br />
      <br />

      <blockquote>
        another thing which justifies my argument is that I wrote an installer for my application using both IS and NSIS, the size of the script for IS is half that of NSIS.
      </blockquote>Again, it depends on what your priorities are. For all those users still connected by modem, bandwidth matters, so NSIS users are willing to use a scripting language that is not as easy to use as a return for smaller EXE.<br />
      <br />
      Now, if you are able to come up with a higher-level scripting language that can still achieve foot-print as small as NSIS, I'm sure there's a demand for it. You might even get rich :-)<br />
      <br />
      Cheers<br />
      Fred.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br />
      <span class="post-time small text-muted">21st March 2005 13:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please tell me what instructions that you need? NSIS has ReadRegStr, WriteRegStr.<br />
      You can create folders using CreateDirectory, or recursively with SetOutPath.<br />
      <br />
      The idea of NSIS is that it is very very flexible. If you want a 'list' of attributes for your installer, then fine, but that is VERY limited in terms of customisation.<br />
      <br />
      If I read correctly, you thought that NSIS has no built in features like registry and creating folders. Obviously you need to spend a few more minutes scrolling through the documentation. There's tonnes of instructions, and even more extra functions for use in the <a href="http://nsis.sf.net/archive" target="_blank">Archive</a>.<br />
      <br />
      In NSIS, you can do everything and anything, but again if you don't look or ask for what you need you won't get very far. Please just look a bit harder before blatantly complaining.<br />
      <br />
      -Stu</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
