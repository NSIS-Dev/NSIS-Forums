<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Problem Editing System Path"><title>Problem Editing System Path - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Problem Editing System Path</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274813">Problem Editing System Path</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">madams</span><br><span class="post-time small text-muted">23rd July 2007 17:14 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Problem Editing System Path</strong><br>Hi,<br><br>I am using the Path Manipulation plugin on the main NSIS website, but whenever I try to use:<br><br>Push $antHomeDir\bin<br>Call AddToPath<br><br>To add the ANT bin directory to the path, nothing happens. When I use:<br><br>Push $antHomeDir<br>Call AddToPath<br><br>or<br><br>Push $javaHome<br>Call AddToPath<br><br>however, the command works perfectly. I have no idea what is going on, and would really appreciate some help.<br><br>Thanks!<br><br>p.s. I have tried quotes around $antHomeDir\bin but nothing has happened.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Red Wine</span><br><span class="post-time small text-muted">23rd July 2007 18:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Maybe there's already one backslash at the end of $antHomeDir value, so by adding the second with \BIN causes that issue.<br>Try to debug your script with message boxes and remove one backslash if necessary to see if it works.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">madams</span><br><span class="post-time small text-muted">23rd July 2007 18:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I put the following message box:<br><br>Message Box MB_OK "$anthomedir\bin"<br><br>right before the Path command and got "C:\apache-ant-1.6.0\bin" as the output, which is correct. I then tried this:<br><br>Push "C:\apache-ant-1.6.0\bin"<br>Call AddToPath<br><br>But even that didn't work. Any other ideas?<br><br>Thanks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">23rd July 2007 19:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Make sure the directory exists prior to adding it. AddToPath doesn't add non-existing paths.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">madams</span><br><span class="post-time small text-muted">23rd July 2007 19:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">The directory does already exist before the command is called. I've even tried:<br><br>Push "PATH"<br>Push $antHomeDir\bin<br>Call AddToEnvVar<br><br>but that doesn't work either.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">23rd July 2007 19:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Then it must think the directory is already in the PATH for some reason. Are you sure it's not in the user's local PATH?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">madams</span><br><span class="post-time small text-muted">23rd July 2007 19:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Nope, its not already there. Maybe this particular plugin just doesn't like the syntax of the ANT directory...Are there any other path manipulation plugins out there that I could try?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">23rd July 2007 20:06 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">It's not a plug-in, it's a script. You can take a look at the code and even modify it to find out where it stops.<br><br>The syntax of the directory is fine. It's perfectly normal.<br><br>The script only stops for two reasons which I've already mentioned. Maybe you're running the installer from an environment where the PATH is already set, so it doesn't add it again. You can add some debugging code to AddToPath to make sure.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script src="../js/highlight.pack.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>