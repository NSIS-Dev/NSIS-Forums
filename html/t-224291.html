<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Can't find registry value.." />

  <title>Can't find registry value.. - NSIS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">Can't find registry value..</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=224291">Can't find registry value..</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">wbsmith89</span><br />
      <span class="post-time small text-muted">19th August 2005 21:03 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>Can't find registry value..</strong><br />
      Hi all,<br />
      <br />
      I'm trying to write an installer for a PHP app. It installs xampp to automate the install for apache,mysql,php, etc. I'm trying to have my installer go into the registry to find the path where the user chose to install xampp.<br />
      <br />
      I've used <a href="http://forums.winamp.com/showthread.php?s=&amp;threadid=220915&amp;highlight=read+registry+value" target="_blank">this thread</a> to help me along, yet when I attempt to install, the destination path is blank. My code is below. Any ideas?<br />
      <br />
      <br /></p>

      <blockquote>
        Section "FindPath" Section1<br />
        ; Set Section properties<br />
        SetOverwrite on<br />
        ; Set Section Files and Shortcuts<br />
        ReadRegStr $0 HKLM "SOFTWARE\xampp" "Install_Dir"<br />
        SetOutPath "$INSTDIR $0"<br />
        SectionEnd<br />
        <br />
        Name "${PRODUCT_NAME} ${PRODUCT_VERSION}"<br />
        OutFile "Setup.exe"<br />
        InstallDir "$0"<br />
        ShowInstDetails show<br />
        ShowUnInstDetails show<br />
        ReserveFile "${NSISDIR}\Plugins\InstallOptions.dll"<br />
        ReserveFile "setprefs.ini"
      </blockquote>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">19th August 2005 21:52 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Sections are executed in the instfiles page. The instfiles page shows after the directory page. It'd be way simpler to use InstallDirRegKey instead of reading the value yourself.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
