<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="CopyFile Functionality"><title>CopyFile Functionality - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">CopyFile Functionality</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=51540">CopyFile Functionality</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">ddyne</span><br><span class="post-time small text-muted">3rd June 2001 15:07 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Hi there,<br><br><br>I'm using NSIS to distribute my Half-Life game modification..<br><br>Before the install starts, I have it backup some key files so users can revert to an older version with the uninstaller. It works fine if the files exist, however if they don't, CopyFiles barfs and halts the installer. I tried to do an IfErrors check, but apparantly CopyErrors faults and stops NSIS internally, without setting the IfErrors error flag.<br><br>My request to the developers is: Please take out the fatal error from CopyRequest and make it a NSIS error flag we can check with IfErrors.<br><br>Thanks for the awesome program!<br><br>David</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Gonzotek</span><br><span class="post-time small text-muted">3rd June 2001 15:50 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><pre>
<code><br>IfFileExists file_to_check_for jump_if_present [jump_otherwise]<br>Checks for existence of file(s) file_to_check_for (which can be a wildcard, or a directory),<br>and Gotos jump_if_present if the file exists, otherwise Gotos jump_otherwise</code>
</pre><br>
      <br>
      Do an IfFileExists before your CopyFiles.
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>