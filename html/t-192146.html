<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Script that only makes uninstaller"><title>Script that only makes uninstaller - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Script that only makes uninstaller</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=192146">Script that only makes uninstaller</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">KrYpT</span><br><span class="post-time small text-muted">1st September 2004 19:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Script that only makes uninstaller</strong><br>Is it possible to make a script that only generates an uninstaller? That is, it must be able to self-delete, and should have the default uninstaller icon and text, etc.<br><br>The reason is that I am trying to make a patch/update for my program, and it must be able to update the uninstaller. When I try to just place the uninstall script in the update and use WriteUninstaller, then the uninstaller is full of text that says "Uninstall MyProg Update" when it really completely uninstalls MyProg. So I figure the way to get around that is to generate the uninstaller separately and extract it using a File command.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">1st September 2004 22:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Using the <b>Delete</b> in the proper way... why not?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">KrYpT</span><br><span class="post-time small text-muted">1st September 2004 23:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Because you can't use an ordinary installer to delete itself.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joel</span><br><span class="post-time small text-muted">1st September 2004 23:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">After reboot? ;)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">2nd September 2004 20:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">You can always do the copy and Delete /REBOOTOK yourself. You cna also simply create a temporary installer, have it create your uninstaller and use just that.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">KrYpT</span><br><span class="post-time small text-muted">2nd September 2004 20:30 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Here's what I ended up doing (just in case anyone else wants to use it):<br></p><pre>
<code>... in install.nsi ...<br>!system "${NSISDIR}\makensis uninstall.nsi" = 0<br>!system "GenerateUninstall" = 0<br>        File "/oname=$INSTDIR\Uninstall.exe" "Uninstall.exe"<br><br>... in uninstall.nsi ...<br>OutFile "GenerateUninstall.exe"<br>SilentInstall silent<br>Section ""<br>        WriteUninstaller "$EXEDIR\Uninstall.exe"<br>SectionEnd<br><br>Section "Uninstall"<br>...<br></code>
</pre>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>