<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="MUI and MultiLanguage"><title>MUI and MultiLanguage - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">MUI and MultiLanguage</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=150740">MUI and MultiLanguage</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Peter Berndts</span><br><span class="post-time small text-muted">28th September 2003 16:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>MUI and MultiLanguage</strong><br>As it happens, my first NSIS/MUI project has to be a MultiLanguage project. With the examples provided the first steps were real easy.<br><br>One thing annoyed me though: The language of the language selection dialog is always English. As the installer at this time already knows the language of the local system, it should be possible to set the four strings in the dialog to that language.<br><br>After some thought I found out that this is easy to do for the title and the info. I simply put the definition for these strings into the respective language file, e.g. for German<br><br>!insertmacro MUI_LANGUAGEFILE_STRING MUI_TEXT_LANGDLL_WINDOWTITLE "Sprache der Installation"<br>!insertmacro MUI_LANGUAGEFILE_STRING MUI_TEXT_LANGDLL_INFO "Bitte w√§hlen Sie eine Sprache."<br><br>Unfortunately I found no obvious method to set the captions of the buttons "OK" and "Cancel", too.<br><br>Any suggestions how I should approach this problem? I believe that there is quite a number of people out there who could profit if the solution would be integrated into the NSIS/MUI standard.<br><br>Peter</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">29th September 2003 07:35 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">This is not currently possible. If you know C, you can modify the source code and provide us with a patch.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Peter Berndts</span><br><span class="post-time small text-muted">29th September 2003 16:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">I did follow your advice, and it actually works. Hopefully you can accept the changes the way I make them available here (based on MUI version 1.63, but IMHO it should be possible to integrate the changes into the current development version without effort).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">29th September 2003 16:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you for your patch. I appreciate your effort but I will not integrate it yet because of the following reasons:<br><br>If that change is already made, then making the dialog language change on selection would be a lot better. Using your method might cause installers to show the dialog using languages that people might not understand. If, for example, I will use this on my Hebrew system with an installer that has French, German and English in it, and the first language used is French, I won't understand a thing. It can also present problems when the computer's language doesn't match the user's language (public computers for example). English is a universal language and was therefore used.<br><br>A smaller, but still important problem is that both ways mentioned would require updating all of the language files, again. Are you aware that third of the languages have still not been updated to the latest version? Some language files are even stuck in an even older version for several months :(<br><br>Therefore, this change will probably be done after NSIS 2 is released. NSIS 2 has been held back long enough.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Peter Berndts</span><br><span class="post-time small text-muted">30th September 2003 10:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">kichik,<br><br>I understand that you do not want to integrate the changes at this time, of cause. But I would like a few words in answer to your statements, anyway:<br><br>Regarding e.g. a Hebrew system: I thought that NSIS reverts to the default language, namely English, when the computer's language is not available among the language files. On a Hebrew system the language selection dialog should thus display English strings.<br><br>When you do not want the computer's language to be used for the dialog, though a respective language file is available, isn't it possible to overrule the language recognition by setting in my script the language variable for the language that I prefer?<br><br>Concerning the update of language files: I left the defines (MUI_TEXT_LANGDLL_WINDOWTITLE and so on) with English strings in the macro definition MUI_LANGDLL_DISPLAY of system.nsh precisely for this reason. As long as a particular language file does not yet contain the additional four macro lines, the English strings will be used.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">kichik</span><br><span class="post-time small text-muted">30th September 2003 12:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">NSIS does revert to the default language, but in the case I presented above it's the French language because it's the first one.<br><br>The script can't overrule the language inside .onInit, and even if it could, I see no possible way to detect a user that wants another language than the default for any reason. If the language would change according to his selection then the user will have a chance to let the installer know what language he'd like to see. Otherwise, we might be forcing him to a language s/he might not understand. English, in this case, is a safe assumption.<br><br>Empty strings are not the problem, it's the fact that they will be in English. We don't want to release half ready language files.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="../js/highlight.pack.js" async></script><script type="text/javascript">//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>