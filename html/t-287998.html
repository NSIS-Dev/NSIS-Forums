<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="scons problems on linux" />

  <title>scons problems on linux - NSIS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/style.css" type="text/css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-65.html">NSIS Discussion</a></li>

      <li class="active">scons problems on linux</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=287998">scons problems on linux</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">badger101101</span><br />
      <span class="post-time small text-muted">5th March 2008 01:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><strong>scons problems on linux</strong><br />
      I read through all of the scons/linux posts and none of them answered my question. So here I go:<br />
      <br />
      I need to compile and execute NSIS in Linux. I'm having problems with scons not locating my compiler(s) correctly. I've read through the docs and it seems like such a simple fix, but I've been racking my brains over it.<br />
      <br />
      Here's the error:<br />
      <br />
      <b>scons SKIPSTUBS=all SKIPPLUGINS=all SKIPUTILS=all SKIPMISC=all NSIS_CONFIG_CONST_DATA=no PREFIX=/usr/pkg/nsis install-compiler</b><br />
      <i>scons: Building targets ...<br />
      o build/release/makensis/build.o -c -O2 -Wall -Wno-non-virtual-dtor -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/build.cpp<br />
      sh: o: command not found<br />
      o build/release/makensis/clzma.o -c -O2 -Wall -Wno-non-virtual-dtor -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/clzma.cpp<br />
      sh: o: command not found<br />
      gcc -o build/release/makensis/crc32.o -c -O2 -Wall -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/crc32.c<br />
      sh: gcc: command not found<br />
      scons: *** [build/release/makensis/crc32.o] Error 127<br />
      scons: building terminated because of errors.</i><br />
      <br />
      <br />
      <b>gcc -v</b><br />
      <i>Using built-in specs.<br />
      Target: x86_64-multiling-linux<br />
      Configured with: ../gcc-4.2.3/configure --prefix=/usr/pkg/gcc --build=i486-slackware-linux --host=x86_64-multiling-linux --target=x86_64-multiling-linux --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-c99 --enable-long-long --enable-clocale=gnu --enable-languages=c,c++ --disable-libstdcxx-pch<br />
      Thread model: posix<br />
      gcc version 4.2.3</i><br />
      <br />
      <br />
      Has anyone run into this problem and fixed it? I know scons does not extract the external environment by default, but it appears that the NSIS scons script handles that...<br />
      <br />
      Thanks</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">badger101101</span><br />
      <span class="post-time small text-muted">5th March 2008 16:56 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">This is supposedly solved by extracting the external PATH environment like so:<br />
      <br />
      import os<br />
      env = Environment(ENV = {'PATH' : os.environ['PATH']})<br />
      <br />
      But that doesn't work. Anyone?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">6th March 2008 17:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Where is gcc located on your computer?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">badger101101</span><br />
      <span class="post-time small text-muted">14th March 2008 22:39 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi Kichik, gcc is located and executed from /usr/pkg/gcc/bin/gcc<br />
      <br />
      I have a script that adds every /usr/pkg/X/bin folder to PATH.<br />
      <br />
      I ended up making a symbolic link to gcc in /usr/bin. This took me a bit further, but I am now getting this:<br />
      <br />
      <i><br />
      scons: Building targets ...<br />
      o build/release/makensis/build.o -c -O2 -Wall -Wno-non-virtual-dtor -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/build.cpp<br />
      sh: o: command not found<br />
      o build/release/makensis/clzma.o -c -O2 -Wall -Wno-non-virtual-dtor -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/clzma.cpp<br />
      sh: o: command not found<br />
      gcc -o build/release/makensis/crc32.o -c -O2 -Wall -D__BIG_ENDIAN__ -D_WIN32_IE=0x0500 -Ibuild/release/makensis -ISource Source/crc32.c<br />
      gcc: error trying to exec 'as': execvp: No such file or directory<br /></i><br />
      <br />
      Thanks</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br />
      <span class="post-time small text-muted">16th March 2008 20:55 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">scons doesn't use PATH and you indeed have to point /usr/bin/gcc and /usr/bin/g++ to the real gcc and g++. /bin/gcc and some others should work as well.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]>
  </script>
</body>
</html>
