<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How disable directory field on MUI_PAGE_DIRECTORY?"><title>How disable directory field on MUI_PAGE_DIRECTORY? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"><link rel="preload" href="../css/style.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css"></noscript><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">How disable directory field on MUI_PAGE_DIRECTORY?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=166727">How disable directory field on MUI_PAGE_DIRECTORY?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">anonym</span><br><span class="post-time small text-muted">26th January 2004 15:12 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>How disable directory field on MUI_PAGE_DIRECTORY?</strong><br>&nbsp; I'm using MUI<br><br>How disable directory field on MUI_PAGE_DIRECTORY?<br><br>Thank you</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br><span class="post-time small text-muted">26th January 2004 15:27 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">if i understand you correctly, this makes no sense at all. either leave the directory page or use it as is.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">26th January 2004 16:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">This has been asked before. Use EnableWindow in the show function.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anonym</span><br><span class="post-time small text-muted">26th January 2004 16:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">What item_id of directory field?<br><br>Next code not work:<br><br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW MyFuncDir<br>!insertmacro MUI_PAGE_DIRECTORY<br><br>Function MyFuncDir<br>FindWindow $hwnd "#32770" "" $HWNDPARENT<br>GetDlgItem ${TEMP} $hwnd 1202<br>EnableWindow ${TEMP} 0<br>FunctionEnd<br><br>Thank you</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">26th January 2004 16:45 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">1019</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anonym</span><br><span class="post-time small text-muted">26th January 2004 17:20 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you very much !!!<br><br>Where I can find all item_id?<br><br>Thank you</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Joost Verburg</span><br><span class="post-time small text-muted">26th January 2004 17:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">See resource.h or use a resource hacker to view the dialogs in the Contrib\UIs folder.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anonym</span><br><span class="post-time small text-muted">26th January 2004 18:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">Thank you Joost Verburg<br><br>All works perfectly</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">superwan</span><br><span class="post-time small text-muted">31st January 2005 01:37 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content">hello, I'm trying to do it to...<br><br>I do not completely understand what to do, and this code does not work...<br><br>can you mr anonym please give the complete code working ?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br><span class="post-time small text-muted">31st January 2005 10:11 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"></p><pre>
<code>!define MUI_PAGE_CUSTOMFUNCTION_SHOW MyFuncDir<br>!insertmacro MUI_PAGE_DIRECTORY<br><br>Function MyFuncDir<br>FindWindow $R0 "#32770" "" $HWNDPARENT<br>GetDlgItem $R1 $R0 1019<br>EnableWindow $R1 0<br>FunctionEnd</code>
</pre>-Stu
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superwan</span><br>
      <span class="post-time small text-muted">31st January 2005 10:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">thx very much...<br>
      <br>
      this deactivates the field, but, not the "browse" button --&gt; I still can change the $INSTDIR<br>
      <br>
      have you got the value of the "browse" button --&gt; though I can really disable the choice ?<br>
      (I think with just this value I could now do it :p )<br>
      <br>
      <br>
      <br>
      <br>
      why doing this and not skipping this page ?<br>
      --&gt; because of the "proceed" button... (uninstall or reinstall or install)<br>
      this page is juste before the instfiles page, so I have to show that you're going to install or uninstall (and not only display a next page)<br>
      <br>
      <br>
      ---&gt; because of the reinstallation :<br>
      you reinstall and I show where is your software, (I don't want them ta change the INSTDIR if they reinstall)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superwan</span><br>
      <span class="post-time small text-muted">31st January 2005 17:28 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">where can I find this value ?<br>
      <br>
      what is resource.h ?</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superwan</span><br>
      <span class="post-time small text-muted">1st February 2005 10:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">up :D<br>
      <br>
      i'me certainly annoying, but this is the last thing missing to me to finish my installer...<br>
      <br>
      the question is :<br>
      <br>
      <br>
      <br>
      <br>
      how to disable the "browse" button in the MUI directory page ???</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DrO</span><br>
      <span class="post-time small text-muted">1st February 2005 11:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">try <a href="http://www.catch22.net/software/winspy.asp" target="_blank">this</a> and then drag the finder over the browse button and look for the 'Control ID' once the window details have been found.<br>
      <br>
      -daz</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superwan</span><br>
      <span class="post-time small text-muted">1st February 2005 12:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">well I'vbe done what you aksed me to do...<br>
      <br>
      I have a control ID :<br>
      000003E9<br>
      <br>
      and now ? :p<br>
      because the control ID of the install dir text is<br>
      000003FB<br>
      and this is not the value I entered to disable it...</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superwan</span><br>
      <span class="post-time small text-muted">1st February 2005 12:21 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">year 3FB in hex = 1019 in decimal !<br>
      <br>
      super...<br>
      <br>
      3E9 = 1001<br>
      <br>
      I'm gonna try 1001 !</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superwan</span><br>
      <span class="post-time small text-muted">1st February 2005 12:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">this is the perfect code to disable directory page :<br></p>
      <pre>
<code><br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW MyFuncDir<br>!insertmacro MUI_PAGE_DIRECTORY<br>...<br><br>Function MyFuncDir<br>        FindWindow $R0 "#32770" "" $HWNDPARENT<br>        GetDlgItem $R1 $R0 1019<br>        EnableWindow $R1 0<br>        FindWindow $R0 "#32770" "" $HWNDPARENT<br>        GetDlgItem $R1 $R0 1001<br>        EnableWindow $R1 0<br>FunctionEnd</code>
</pre><br>
      <br>
      <br>
      thx to everybody !
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DrO</span><br>
      <span class="post-time small text-muted">1st February 2005 13:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">heh, forgot to say it's all in hexadecimal. glad it's working now :)<br>
      <br>
      -daz</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Comperio</span><br>
      <span class="post-time small text-muted">1st February 2005 13:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Ok, I know this is a bit off topic, but I just have to ask:<br>
      <br>
      A MUI DIRECTORY page basiclaly just has 2 options: a text field for a description and a place to enter a path. There are no other options a user can click on, etc. that will make the select direcotry part become usable. Which leads to ask why even bother displaying the page in the first place?<br>
      <br>
      I'm sure you have your reasons; I'm just being curious...</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">superwan</span><br>
      <span class="post-time small text-muted">1st February 2005 14:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">1) if you have already installed<br>
      if you lanch the installer (and the uninstaller too for me)<br>
      they can propose you to reinstall, and if you want to reinstall<br>
      you choose your components (add, remove)<br>
      you go now to the directory page<br>
      <br>
      <br>
      and with a disabled directory page you can announce where the software will be reinstalled-modified<br>
      <br>
      <br>
      for a difficulty reason, and too because it's not logical, I don't want them to change the install dir<br>
      ---&gt; disabling directory page<br>
      <br>
      <br>
      2) the directory page button is the install button...<br>
      So if you skip it, no more "install button"... just next buttons...<br>
      and it's more "clear" to disable the fields of the directory page than to change the buttons of another page<br>
      <br>
      <br>
      <br>
      these are my reasons ;)<br>
      <br>
      <br>
      ps : I'll come back and give all my script file when the software will be released... 10th february 2005</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">aj kwak</span><br>
      <span class="post-time small text-muted">21st April 2005 15:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>

      <blockquote>
        <br>
        Function MyFuncDir<br>
        FindWindow $hwnd "#32770" "" $HWNDPARENT
      </blockquote>nice truck with winspy.<br>
      <br>
      but how do you find de window(here 32770) or 8002hex ?
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">DrO</span><br>
      <span class="post-time small text-muted">21st April 2005 17:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">#32770 is a standard classname for all dialog windows created by windows. if you do the same over a messagebox you should see the classname is the same. but basically it's just how the OS is designed<br>
      <br>
      -daz</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sunil_muppirala</span><br>
      <span class="post-time small text-muted">3rd May 2005 07:54 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">i tried the code given by superwan<br>
      <br>
      i still cant disable the browse button and the install location field.<br>
      pls help me out</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">aj kwak</span><br>
      <span class="post-time small text-muted">3rd May 2005 09:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">FindWindow $R0 "#32770" "" $HWNDPARENT<br>
      GetDlgItem $R1 $R0 1019<br>
      EnableWindow $R1 0</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Cerf</span><br>
      <span class="post-time small text-muted">25th November 2005 22:04 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hello there, I recently posted <a href="http://forums.winamp.com/showthread.php?threadid=231906&amp;highlight=destination+folder" target="_blank">This Thread</a> and now I see, the page can be disabled, but how can I disable it dinamically? I mean, if installRegKey returns that there is a previous installation, then disable the controls, but if it's a fresh installation let the user choose.<br>
      <br>
      Thanks!<br>
      <br>
      Cërf.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">kichik</span><br>
      <span class="post-time small text-muted">26th November 2005 12:10 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Why not simply <a href="http://nsis.sourceforge.net/Skipping_Pages" target="_blank">skip</a> the directory page if it's not needed? If you really want to disable it, add an if block around the above code:</p>
      <pre>
<code>!include LogicLib.nsh<br>#...<br>${If} $INSTDIR != ""<br>  # disable<br>${EndIf}</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dandaman32</span><br>
      <span class="post-time small text-muted">26th November 2005 18:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">If you're using the $hwnd var, you need to declare it first:</p>
      <pre>
<code>Var hwnd</code>
</pre>That could be the source of your problems.<br>
      <br>
      -dandaman32
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Cerf</span><br>
      <span class="post-time small text-muted">28th November 2005 14:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks Hichik!<br>
      You're right, now my problem is that I can't seem to find out (and this is embarrasing) how to assign $INSTDIR a default value, when it's a fresh installation.<br>
      <br>
      Thanks again, Cërf.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br>
      <span class="post-time small text-muted">28th November 2005 16:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>
      <pre>
!include LogicLib.nsh
<br>&gt;#...
<br>&gt;${If} $INSTDIR != ""
<br>  # disable controls here
<br> StrCpy $INSTDIR "c:\some\default\folder"
<br>&gt;${EndIf} 
</pre>--<br>
      <br>
      additional note: you don't have to convert from hex to dec. If WinSpy gives you e.g. the value 403, simply use 0x403 in your NSIS script instead of 1027.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Cerf</span><br>
      <span class="post-time small text-muted">28th November 2005 16:29 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thanks Animaether!</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br>
      <span class="post-time small text-muted">28th November 2005 19:40 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">wish I knew how to get backslashes into a PHP quote ;)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Cerf</span><br>
      <span class="post-time small text-muted">28th November 2005 20:15 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">You can't, that's why most people use [ code ][ /code ]<br>
      Like this:<br></p>
      <pre>
<code><br> |\_/|  <br></code>
</pre><br>
      <br>
      Cërf.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Cerf</span><br>
      <span class="post-time small text-muted">28th November 2005 20:17 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The only thing is that there is no syntax coloring : (</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Animaether</span><br>
      <span class="post-time small text-muted">28th November 2005 20:25 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">hence why I'm using the PHP tag ;)<br>
      <br>
      Must be some way - 'll have to dig around the help a bit :)<br>
      <br>
      Edit: okay, no there isn't :D<br>
      silly stripslashes() to remove color-coding-induced backslashes that eats regular backslashes :x</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">youn75</span><br>
      <span class="post-time small text-muted">19th December 2005 14:58 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">I use this useful code :<br>
      !define InstallDirRegKey '"HKLM" "Software\${PRODUCT_PUBLISHER}\${CLIENT_NAME}\${PRODUCT_NAME}" "InstallPath"'<br>
      InstallDirRegKey ${InstallDirRegKey}<br>
      <br>
      !define MUI_PAGE_CUSTOMFUNCTION_PRE DirectoryPre<br>
      !define MUI_PAGE_CUSTOMFUNCTION_SHOW DirectoryPre<br>
      !insertmacro MUI_PAGE_DIRECTORY<br>
      <br>
      Function DirectoryPre<br>
      ReadRegStr $R0 ${InstallDirRegKey}<br>
      StrCmp $R0 "" FullDirectoryPage PartialDirectoryPage<br>
      <br>
      PartialDirectoryPage:<br>
      FindWindow $R1 "#32770" "" $HWNDPARENT<br>
      GetDlgItem $R2 $R1 1019<br>
      EnableWindow $R2 0<br>
      GetDlgItem $R2 $R1 1001<br>
      EnableWindow $R2 0<br>
      <br>
      FullDirectoryPage:<br>
      FunctionEnd<br>
      -----------------------------------------------------------<br>
      First install must write in registry 'InstallPath'.<br>
      If this 'InstallPath' exist, directory field and 'Browse' button are disabled on MUI_PAGE_DIRECTORY<br>
      <br>
      Regards<br>
      From Paris,<br>
      Yves</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fluidz91</span><br>
      <span class="post-time small text-muted">6th March 2008 15:18 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Hi,<br>
      <br>
      I ve been searching and reading forum for hours without any clue why i can't get it works.<br>
      <br>
      I'd like to change the Text button of the Components Page "Next &gt;" by "Install &gt;"<br>
      <br>
      I tried so many different things i m now a little bit messed up.<br>
      <br></p>
      <pre>
<code>#...
<br><br># Variables
<br>&gt;Var hwnd
<br>&gt;#...
<br><br>&gt;!define MUI_PAGE_CUSTOMFUNCTION_SHOW ComponentsShow
<br>&gt;!insertmacro MUI_PAGE_COMPONENTS
<br>&gt;#!define MUI_PAGE_CUSTOMFUNCTION_SHOW ComponentsShow
<br># Before or after !insertmacro changes nothing
<br>#...
<br><br>&gt;Function ComponentsShow
<br>    # CHECK IF SERVER INSTALLED YET TO INSTALL SERVICE/FILES
<br>    #MessageBox MB_OK "$(^Name) : $isInstalled$\nText : $(TEXT_INSTALL)"
<br>   StrCmp $isInstalled "1" 0 +7
<br>        FindWindow $hwnd"#32770" "" $HWNDPARENT
<br>        Push $R0
<br>        GetDlgItem $R0 $hwnd 1
<br>       #MessageBox MB_OK "$(^Name) : $R0$\nHWND : $hwnd"
<br>       SendMessage $R0 ${WM_SETTEXT} 0 "STR:$(TEXT_INSTALL)"
<br>        Pop $R0
<br>        
<br>FunctionEnd
<br><br>&gt;#...
<br><br>&gt;LangString TEXT_INSTALL ${LANG_FRENCH} "&amp;Installer &gt;"
<br>&gt;LangString TEXT_INSTALL ${LANG_ENGLISH} "&amp;Install &gt;" 
</code>
</pre>On the Components page, the next button still displays "Suivant &gt;"<br>
      C:\NSIS\makensis.exe /VERSION<br>
      2.17<br>
      <br>
      Thanks in advance.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">demiller9</span><br>
      <span class="post-time small text-muted">6th March 2008 18:44 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The button is not a child of the sub-dialog, it is located on the main dialog. You can get the handle with</p>
      <pre>
<code>GetDlgItem $R0 $HWNDPARENT 1</code>
</pre><br>
      But NSIS will change the button text according to whether there are other pages before the INSTFILES page. You would only need to change the text if the page(s) before INSTFILES are going to be hidden with abort.<br>
      <br>
      Don
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fluidz91</span><br>
      <span class="post-time small text-muted">10th March 2008 14:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Thx Don,<br>
      <br>
      sorry but i don't understand the explanation (i m not english native speaker).<br>
      I tried first 'GetDlgItem $R0 $HWNDPARENT 1' without FindWindow but with same result (maybe i should retry because i ve done some other changes after).<br>
      <br>
      i think i forget to say in previous post that i had a mui_page_directory i could also skip. I m gonna try to put the code in the pre function of diretory page (i lack time for the moment and a build is about 15 mn)<br>
      <br></p>
      <pre>
<code><br># Installer pages<br>!insertmacro MUI_PAGE_WELCOME<br>!insertmacro MUI_PAGE_LICENSE cluf.rtf<br>!insertmacro MUI_PAGE_COMPONENTS<br>!define MUI_PAGE_CUSTOMFUNCTION_SHOW ComponentsShow<br>!define MUI_PAGE_CUSTOMFUNCTION_PRE DirectoryPre<br>!insertmacro MUI_PAGE_DIRECTORY<br>!insertmacro MUI_PAGE_INSTFILES<br>!insertmacro MUI_PAGE_FINISH<br>!insertmacro MUI_UNPAGE_CONFIRM<br>!insertmacro MUI_UNPAGE_INSTFILES<br><br>...<br><br>Function ComponentsShow<br>    # CHECK IF SERVER INSTALLED YET TO INSTALL SERVICE/FILES<br>    ;MessageBox MB_OK "$(^Name) : $isInstalled$\nText : $(TEXT_INSTALL)"<br>    StrCmp $isInstalled "1" 0 +7<br>        FindWindow $hwnd "#32770" "" $HWNDPARENT<br>        Push $R0<br>        GetDlgItem $R0 $hwnd 1<br>       ;MessageBox MB_OK "$(^Name) : $R0$\nHWND : $hwnd"<br>        SendMessage $R0 ${WM_SETTEXT} 0 "STR:$(TEXT_INSTALL)"<br>        Pop $R0<br>        <br>FunctionEnd<br><br>Function DirectoryPre<br>    # CHECK IF SERVER INSTALLED YET TO INSTALL SERVICE/FILES<br>    StrCmp $isInstalled "1" 0 +1<br>    Abort # Skip page<br>FunctionEnd<br></code>
</pre><br>
      <br>
      If application is already installed i show the commonents page but next i don't want to show de directory page (that seems to work as expected).<br>
      <br>
      Thx Anyway...
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>