<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Custom Page ?"><title>Custom Page ? - NSIS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-8','auto');ga('send','pageview');</script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"><link rel="stylesheet" href="../css/style.css" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body><div class="container"><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-65.html">NSIS Discussion</a></li><li class="active">Custom Page ?</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=274170">Custom Page ?</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">didava</span><br><span class="post-time small text-muted">11th July 2007 01:00 <abbr title="Coordinated Universal Time">UTC</abbr></span></p><p class="post-content"><strong>Custom Page ?</strong><br>&nbsp; Hello,<br><br>WriteINIStr problem<br><br>Problem is i need to modify the .ini file to make it display, for example, 123.<br><br>1.Make buttom<br>2.Click on buttom<br>3.Run .exe file<br><br>a custom page, that is set on a mypage.ini file, it has 4 buttoms and each one of this buttons calls the same installer with one diferent parameters, on my custompage.ini had 2 button fields like this:<br><br>[Field 1]<br>Type=Button<br>Text=INSTALL 0<br>Flags=NOTABSTOP<br>State=Installer\db.exe 0<br>Left=254<br>Right=304<br>Top=65<br>Bottom=75<br><br>[Field 2]<br>Type=Button<br>Text=INSTALL 1<br>Flags=NOTABSTOP<br>State=Installer\db.exe 1<br>Left=254<br>Right=304<br>Top=65<br>Bottom=75<br><br>but it does not work, if i use:<br><br>State=Installer\db.exe<br><br>without the parameter it works fine, but no parameters is set, is there anyway to make the .ini file to accept command lines with parameters?<br><br>Or add Section for only bottom<br><br></p><pre>
<code>

<br>            Section"PaintDesktopVersion" Extras_Paint
<br>            
<br>            WriteRegDword HKCU"Control Panel\Desktop" "PaintDesktopVersion" 0x00000001
<br><br>                        MessageBox MB_OK</code>|MB_ICONINFORMATION '    Paint Desktop Version Enable            '
<br>                       MessageBox MB_OK|MB_ICONINFORMATION '    Please restart computer            '
<br>&gt;SectionEnd 
<br>&gt;

</pre>Plz Eeample for me.<br>
      <br>
      Best regards.<br>
      <br>
      Thx in advance. :)
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">11th July 2007 05:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"><a href="http://forums.winamp.com/showthread.php?threadid=274107" target="_blank">http://forums.winamp.com/showthread.php?threadid=274107</a></p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">11th July 2007 12:51 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">add Section for only bottom<br>
      <br>
      Plz Eeample for me.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">11th July 2007 16:38 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Plz Eeample for me.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">12th July 2007 10:13 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Plz Eeample for me.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">12th July 2007 12:22 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Problem is i need to modify the .ini file to make it display<br>
      <br>
      1.Make buttom<br>
      2.Click on buttom<br>
      3.Run .exe file<br>
      <br>
      ok</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">12th July 2007 12:24 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">See the Examples\InstallOptions\testnotify.nsi example script.<br>
      <br>
      You need to use Flags=NOTIFY on your button and that will make the button call the page's Leave function. In there you can check Settings&gt;State with ReadINIStr/MUI_INSTALLOPTIONS_READ and that will give you the field number of the button or 0.<br>
      <br>
      Stu</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">14th July 2007 00:26 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Afrow UK THANKFUL<br>
      <br>
      not ATTENTIVE<br>
      <br>
      PLEASE Code Eeample for me.<br>
      <br>
      THANKS<br>
      <br>
      :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">14th July 2007 15:47 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">plz :rolleyes:</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Red Wine</span><br>
      <span class="post-time small text-muted">14th July 2007 16:16 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">The suggested included testnotify.nsi is an example, a very good one.<br>
      Go ahead, give it a try.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">14th July 2007 23:19 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content"></p>
      <pre>
<code>Function .onInit<br>        #INITIALIZATIONS<br>        !insertmacro MUI_INSTALLOPTIONS_EXTRACT "my.ini"<br><br>        ReadINIStr $0 "$PLUGINSDIR\my.ini" "Settings" "State"<br><br>        FunctionEnd<br><br>        Function my<br><br>        SetOutPath "$PLUGINSDIR"<br><br>        !insertmacro MUI_INSTALLOPTIONS_DISPLAY "my.ini"<br><br>        StrCmp $R1  29 PDVE  ; "Enable" button<br><br>        PDVE:<br><br>        WriteRegDword HKCU "Control Panel\Desktop" "PaintDesktopVersion" 0x00000001<br>        MessageBox MB_OK|MB_ICONINFORMATION '    Paint Desktop Version Enable     '<br>        SKIP:<br><br>       SetOutPath "$PLUGINSDIR"<br><br>        !insertmacro MUI_INSTALLOPTIONS_DISPLAY "my.ini"<br><br>        StrCmp $R1 37 PDVD  ; "Disable" button<br><br>        PDVD:<br><br>         WriteRegDword HKCU "Control Panel\Desktop" "PaintDesktopVersion" 0x00000000            <br>         MessageBox MB_OK|MB_ICONINFORMATION '    Paint Desktop Version Disable            '<br><br>        MessageBox MB_OK|MB_ICONINFORMATION '    Please restart computer            '           '<br><br>        FunctionEnd</code>
</pre><br>
      <br>
      Close Program Run Function my<br>
      <br>
      plz help me :(<br>
      <br>
      Please Code (Function) Eeample for me.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">15th July 2007 07:41 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">plz help me â˜»</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">didava</span><br>
      <span class="post-time small text-muted">15th July 2007 14:48 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">Please Code (Function) Eeample for me.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Afrow UK</span><br>
      <span class="post-time small text-muted">15th July 2007 15:42 <abbr title="Coordinated Universal Time">UTC</abbr></span></p>

      <p class="post-content">We're very sorry but we do not understand what you need. Perhaps you could use an online translator such as <a href="http://babelfish.altavista.com/" target="_blank">http://babelfish.altavista.com/</a><br>
      <br>
      Stu</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/nsis-dev/NSIS-Forums/">GitHub</a></p>
    </div>
  </div><script src="../js/highlight.pack.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
  hljs.initHighlightingOnLoad();
  //]]></script></body></html>